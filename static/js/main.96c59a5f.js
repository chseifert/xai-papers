/*! For license information please see main.96c59a5f.js.LICENSE.txt */
!function(){var e={7228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},3646:function(e,t,n){var r=n(7228);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},5318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},6860:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},319:function(e,t,n){var r=n(3646),o=n(6860),i=n(379),a=n(8206);e.exports=function(e){return r(e)||o(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},379:function(e,t,n){var r=n(7228);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e,t,n){e.exports=n(9727)},3469:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){var n=e.nodes,r=e.edges,o=[],i={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(e,t){i[e.id]=t;o.push([])})),r&&r.forEach((function(e){var n=e.source,r=e.target,a=i[n],s=i[r];!a&&0!==a||!s&&0!==s||(o[a][s]=1,t||(o[s][a]=1))})),o};t.default=n},9252:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GADDIAsync",{enumerable:!0,get:function(){return r.GADDIAsync}}),Object.defineProperty(t,"connectedComponentAsync",{enumerable:!0,get:function(){return r.connectedComponentAsync}}),t.default=void 0,Object.defineProperty(t,"detectAllCyclesAsync",{enumerable:!0,get:function(){return r.detectAllCyclesAsync}}),Object.defineProperty(t,"detectAllDirectedCycleAsync",{enumerable:!0,get:function(){return r.detectAllDirectedCycleAsync}}),Object.defineProperty(t,"detectAllUndirectedCycleAsync",{enumerable:!0,get:function(){return r.detectAllUndirectedCycleAsync}}),Object.defineProperty(t,"detectCycleAsync",{enumerable:!0,get:function(){return r.detectCycleAsync}}),t.detectDirectedCycleAsync=void 0,Object.defineProperty(t,"dijkstraAsync",{enumerable:!0,get:function(){return r.dijkstraAsync}}),Object.defineProperty(t,"findAllPathAsync",{enumerable:!0,get:function(){return r.findAllPathAsync}}),Object.defineProperty(t,"findShortestPathAsync",{enumerable:!0,get:function(){return r.findShortestPathAsync}}),Object.defineProperty(t,"floydWarshallAsync",{enumerable:!0,get:function(){return r.floydWarshallAsync}}),Object.defineProperty(t,"getAdjMatrixAsync",{enumerable:!0,get:function(){return r.getAdjMatrixAsync}}),Object.defineProperty(t,"getDegreeAsync",{enumerable:!0,get:function(){return r.getDegreeAsync}}),Object.defineProperty(t,"getInDegreeAsync",{enumerable:!0,get:function(){return r.getInDegreeAsync}}),Object.defineProperty(t,"getNeighborsAsync",{enumerable:!0,get:function(){return r.getNeighborsAsync}}),Object.defineProperty(t,"getOutDegreeAsync",{enumerable:!0,get:function(){return r.getOutDegreeAsync}}),Object.defineProperty(t,"labelPropagationAsync",{enumerable:!0,get:function(){return r.labelPropagationAsync}}),Object.defineProperty(t,"louvainAsync",{enumerable:!0,get:function(){return r.louvainAsync}}),Object.defineProperty(t,"minimumSpanningTreeAsync",{enumerable:!0,get:function(){return r.minimumSpanningTreeAsync}}),Object.defineProperty(t,"pageRankAsync",{enumerable:!0,get:function(){return r.pageRankAsync}});var r=n(7249),o=r.detectCycleAsync;t.detectDirectedCycleAsync=o;var i={getAdjMatrixAsync:r.getAdjMatrixAsync,connectedComponentAsync:r.connectedComponentAsync,getDegreeAsync:r.getDegreeAsync,getInDegreeAsync:r.getInDegreeAsync,getOutDegreeAsync:r.getOutDegreeAsync,detectCycleAsync:r.detectCycleAsync,detectDirectedCycleAsync:o,detectAllCyclesAsync:r.detectAllCyclesAsync,detectAllDirectedCycleAsync:r.detectAllDirectedCycleAsync,detectAllUndirectedCycleAsync:r.detectAllUndirectedCycleAsync,dijkstraAsync:r.dijkstraAsync,findAllPathAsync:r.findAllPathAsync,findShortestPathAsync:r.findShortestPathAsync,floydWarshallAsync:r.floydWarshallAsync,labelPropagationAsync:r.labelPropagationAsync,louvainAsync:r.louvainAsync,minimumSpanningTreeAsync:r.minimumSpanningTreeAsync,pageRankAsync:r.pageRankAsync,getNeighborsAsync:r.getNeighborsAsync,GADDIAsync:r.GADDIAsync};t.default=i},6299:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(9748))&&r.__esModule?r:{default:r},i=n(399);var a=function(e,t,n,r){void 0===r&&(r=!0);var a=function(e){void 0===e&&(e={});var t=e,n=function(){},r=function(){var e={};return function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||r,t.enter=e.enter||n,t.leave=e.leave||n,t}(n),s=new o.default,u=e.edges,c=void 0===u?[]:u;s.enqueue(t);for(var l="",f=function(){var e=s.dequeue();a.enter({current:e,previous:l}),(0,i.getNeighbors)(e,c,r?"target":void 0).forEach((function(t){a.allowTraversal({previous:l,current:e,next:t})&&s.enqueue(t)})),a.leave({current:e,previous:l}),l=e};!s.isEmpty();)f()};t.default=a},3265:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t?i(e):o(e)},t.detectStrongConnectComponents=t.detectConnectedComponents=void 0;var r=n(399),o=function(e){for(var t=e.nodes,n=void 0===t?[]:t,o=e.edges,i=void 0===o?[]:o,a=[],s={},u=[],c=function e(t){u.push(t),s[t.id]=!0;for(var o=(0,r.getNeighbors)(t.id,i),a=function(t){var r=o[t];if(!s[r]){var i=n.filter((function(e){return e.id===r}));i.length>0&&e(i[0])}},c=0;c<o.length;++c)a(c)},l=0;l<n.length;l++){var f=n[l];if(!s[f.id]){c(f);for(var d=[];u.length>0;)d.push(u.pop());a.push(d)}}return a};t.detectConnectedComponents=o;var i=function(e){for(var t=e.nodes,n=void 0===t?[]:t,o=e.edges,i=void 0===o?[]:o,a=[],s={},u={},c={},l=[],f=0,d=function e(t){u[t.id]=f,c[t.id]=f,f+=1,a.push(t),s[t.id]=!0;for(var o=(0,r.getNeighbors)(t.id,i,"target").filter((function(e){return n.map((function(e){return e.id})).indexOf(e)>-1})),d=function(r){var i=o[r];if(u[i]||0===u[i])s[i]&&(c[t.id]=Math.min(c[t.id],u[i]));else{var a=n.filter((function(e){return e.id===i}));a.length>0&&e(a[0]),c[t.id]=Math.min(c[t.id],c[i])}},h=0;h<o.length;h++)d(h);if(c[t.id]===u[t.id]){for(var p=[];a.length>0;){var g=a.pop();if(s[g.id]=!1,p.push(g),g===t)break}p.length>0&&l.push(p)}},h=0,p=n;h<p.length;h++){var g=p[h];u[g.id]||0===u[g.id]||d(g)}return l};t.detectStrongConnectComponents=i},834:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.secondReg=t.dateReg=void 0;t.secondReg=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/;t.dateReg=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/},9020:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOutDegree=t.getInDegree=t.default=void 0;var n=function(e){var t={},n=e.nodes,r=void 0===n?[]:n,o=e.edges,i=void 0===o?[]:o;return r.forEach((function(e){t[e.id]={degree:0,inDegree:0,outDegree:0}})),i.forEach((function(e){t[e.source].degree++,t[e.source].outDegree++,t[e.target].degree++,t[e.target].inDegree++})),t},r=n;t.default=r;t.getInDegree=function(e,t){return n(e)[t]?n(e)[t].inDegree:0};t.getOutDegree=function(e,t){return n(e)[t]?n(e)[t].outDegree:0}},1354:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.detectAllUndirectedCycle=t.detectAllDirectedCycle=t.detectAllCycles=t.default=void 0;var o,i=(o=n(5068))&&o.__esModule?o:{default:o},a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(3265)),s=n(399);function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var c=function(e,t,n){var r,o;void 0===n&&(n=!0);for(var i=[],u=0,c=(0,a.default)(e,!1);u<c.length;u++){var l=c[u];if(l.length)for(var f=l[0],d=f.id,h=[f],p=((r={})[d]=f,r),g=((o={})[d]=new Set,o);h.length>0;)for(var v=h.pop(),m=v.id,y=(0,s.getNeighbors)(m,e.edges),b=function(r){var o,a=y[r],s=e.nodes.find((function(e){return e.id===a}));if(a===m)i.push(((o={})[a]=v,o));else if(a in g){if(!g[m].has(s)){for(var u=!0,c=[s,v],l=p[m];g[a].size&&!g[a].has(l)&&(c.push(l),l!==p[l.id]);)l=p[l.id];if(c.push(l),t&&n?(u=!1,c.findIndex((function(e){return t.indexOf(e.id)>-1}))>-1&&(u=!0)):t&&!n&&c.findIndex((function(e){return t.indexOf(e.id)>-1}))>-1&&(u=!1),u){for(var f={},d=1;d<c.length;d+=1)f[c[d-1].id]=c[d];c.length&&(f[c[c.length-1].id]=c[0]),i.push(f)}g[a].add(v)}}else p[a]=v,h.push(s),g[a]=new Set([v])},x=0;x<y.length;x+=1)b(x)}return i};t.detectAllUndirectedCycle=c;var l=function(e,t,n){void 0===n&&(n=!0);for(var r=[],o=new Set,i=[],u=[],c={},l={},f=function e(a,s,l){var f=!1;if(t&&!1===n&&t.indexOf(a.id)>-1)return f;r.push(a),o.add(a);for(var d=l[a.id],h=0;h<d.length;h+=1){if((v=c[d[h]])===s){for(var p={},g=1;g<r.length;g+=1)p[r[g-1].id]=r[g];r.length&&(p[r[r.length-1].id]=r[0]),u.push(p),f=!0}else o.has(v)||e(v,s,l)&&(f=!0)}if(f)!function(e){for(var t=[e];t.length>0;){var n=t.pop();o.has(n)&&(o.delete(n),i[n.id].forEach((function(e){t.push(e)})),i[n.id].clear())}}(a);else for(h=0;h<d.length;h+=1){var v=c[d[h]];i[v.id].has(a)||i[v.id].add(a)}return r.pop(),f},d=e.nodes,h=void 0===d?[]:d,p=0;p<h.length;p+=1){var g=h[p],v=g.id;l[v]=p,c[p]=g}if(t&&n){var m=function(e){var n=t[e];l[h[e].id]=l[n],l[n]=0,c[0]=h.find((function(e){return e.id===n})),c[l[h[e].id]]=h[e]};for(p=0;p<t.length;p++)m(p)}for(var y=function(r){for(var o,i,a=1/0,c=0;c<r.length;c+=1)for(var f=r[c],d=0;d<f.length;d++){var h=l[f[d].id];h<a&&(a=h,i=c)}var p=r[i],g=[];for(c=0;c<p.length;c+=1){var v=p[c];g[v.id]=[];for(var m=0,y=(0,s.getNeighbors)(v.id,e.edges,"target").filter((function(e){return p.map((function(e){return e.id})).indexOf(e)>-1}));m<y.length;m++){var b=y[m];b!==v.id||!1===n&&t.indexOf(v.id)>-1?g[v.id].push(l[b]):u.push(((o={})[v.id]=v,o))}}return{component:p,adjList:g,minIdx:a}},b=0;b<h.length;){var x=h.filter((function(e){return l[e.id]>=b})),w=(0,a.detectStrongConnectComponents)({nodes:x,edges:e.edges}).filter((function(e){return e.length>1}));if(0===w.length)break;var E=y(w),_=E.minIdx,S=E.adjList,k=E.component;if(!(k.length>1))break;k.forEach((function(e){i[e.id]=new Set}));var T=c[_];if(t&&n&&-1===t.indexOf(T.id))return u;f(T,T,S),b=_+1}return u};t.detectAllDirectedCycle=l;t.detectAllCycles=function(e,t,n,r){return void 0===r&&(r=!0),t?l(e,n,r):c(e,n,r)};var f=function(e){var t=null,n=e.nodes,r={},o={},a={},s={};(void 0===n?[]:n).forEach((function(e){o[e.id]=e}));for(var u={enter:function(e){var n=e.current,i=e.previous;if(a[n]){t={};for(var s=n,u=i;u!==n;)t[s]=u,s=u,u=r[u];t[s]=u}else a[n]=n,delete o[n],r[n]=i},leave:function(e){var t=e.current;s[t]=t,delete a[t]},allowTraversal:function(e){var n=e.next;return!t&&!s[n]}};Object.keys(o).length;){var c=Object.keys(o)[0];(0,i.default)(e,c,u)}return t};t.default=f},5068:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){o(e,t,"",function(e){void 0===e&&(e={});var t=e,n=function(){},r=function(){var e={};return function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||r,t.enter=e.enter||n,t.leave=e.leave||n,t}(n))};var r=n(399);function o(e,t,n,i){i.enter({current:t,previous:n});var a=e.edges,s=void 0===a?[]:a;(0,r.getNeighbors)(t,s,"target").forEach((function(r){i.allowTraversal({previous:n,current:t,next:r})&&o(e,r,t,i)})),i.leave({current:t,previous:n})}},5581:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(9388),o=n(8092),i=n(399),a=function(e,t,n,r){var o=e.nodes,a=void 0===o?[]:o,u=e.edges,c=void 0===u?[]:u,l=[],f={},d={},h={};a.forEach((function(e,n){var r=e.id;l.push(r),d[r]=1/0,r===t&&(d[r]=0)}));for(var p=a.length,g=function(e){var t=function(e,t,n){for(var r,o=1/0,i=0;i<t.length;i++){var a=t[i].id;!n[a]&&e[a]<=o&&(o=e[a],r=t[i])}return r}(d,a,f),o=t.id;if(f[o]=!0,d[o]===1/0)return"continue";(n?(0,i.getOutEdgesNodeId)(o,c):(0,i.getEdgesByNodeId)(o,c)).forEach((function(e){var n=e.target,i=e.source,a=n===o?i:n,s=r&&e[r]?e[r]:1;d[a]>d[t.id]+s?(d[a]=d[t.id]+s,h[a]=[t.id]):d[a]===d[t.id]+s&&h[a].push(t.id)}))},v=0;v<p;v++)g();h[t]=[t];var m={};for(var y in d)d[y]!==1/0&&s(t,y,h,m);var b={};for(var y in m)b[y]=m[y][0];return{length:d,path:b,allPath:m}};function s(e,t,n,i){if(e===t)return[e];if(i[t])return i[t];for(var a=[],u=0,c=n[t];u<c.length;u++){var l=s(e,c[u],n,i);if(!l)return;for(var f=0,d=l;f<d.length;f++){var h=d[f];(0,o.isArray)(h)?a.push((0,r.__spreadArray)((0,r.__spreadArray)([],h,!0),[t],!1)):a.push([h,t])}}return i[t]=a,i[t]}t.default=a},6384:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findShortestPath=t.findAllPath=void 0;var r,o=(r=n(5581))&&r.__esModule?r:{default:r},i=n(399);t.findShortestPath=function(e,t,n,r,i){var a=(0,o.default)(e,t,r,i),s=a.length,u=a.path,c=a.allPath;return{length:s[n],path:u[n],allPath:c[n]}};t.findAllPath=function(e,t,n,r){var o;if(t===n)return[[t]];var a=e.edges,s=void 0===a?[]:a,u=[t],c=((o={})[t]=!0,o),l=[],f=[],d=r?(0,i.getNeighbors)(t,s,"target"):(0,i.getNeighbors)(t,s);for(l.push(d);u.length>0&&l.length>0;){var h=l[l.length-1];if(h.length){var p=h.shift();if(p&&(u.push(p),c[p]=!0,d=r?(0,i.getNeighbors)(p,s,"target"):(0,i.getNeighbors)(p,s),l.push(d.filter((function(e){return!c[e]})))),u[u.length-1]===n){var g=u.map((function(e){return e}));f.push(g);v=u.pop();c[v]=!1,l.pop()}}else{var v=u.pop();c[v]=!1,l.pop()}}return f}},9345:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(3469))&&r.__esModule?r:{default:r};var i=function(e,t){for(var n=(0,o.default)(e,t),r=[],i=n.length,a=0;a<i;a+=1){r[a]=[];for(var s=0;s<i;s+=1)a===s?r[a][s]=0:0!==n[a][s]&&n[a][s]?r[a][s]=n[a][s]:r[a][s]=1/0}for(var u=0;u<i;u+=1)for(a=0;a<i;a+=1)for(s=0;s<i;s+=1)r[a][s]>r[a][u]+r[u][s]&&(r[a][s]=r[a][u]+r[u][s]);return r};t.default=i},1225:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(8092),o=n(7468),i=function(){function e(e,t,n,r,i){this.fromNode=e,this.toNode=t,this.nodeEdgeNodeLabel={nodeLabel1:n||o.VACANT_NODE_LABEL,edgeLabel:r||o.VACANT_EDGE_LABEL,nodeLabel2:i||o.VACANT_NODE_LABEL}}return e.prototype.equalTo=function(e){return this.fromNode===e.formNode&&this.toNode===e.toNode&&this.nodeEdgeNodeLabel===e.nodeEdgeNodeLabel},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e}(),a=function(){function e(){this.rmpath=[],this.dfsEdgeList=[]}return e.prototype.equalTo=function(e){var t=this.dfsEdgeList.length;if(t!==e.length)return!1;for(var n=0;n<t;n++)if(this.dfsEdgeList[n]!==e[n])return!1;return!0},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e.prototype.pushBack=function(e,t,n,r,o){return this.dfsEdgeList.push(new i(e,t,n,r,o)),this.dfsEdgeList},e.prototype.toGraph=function(e,t){void 0===e&&(e=o.VACANT_GRAPH_ID),void 0===t&&(t=!1);var n=new o.Graph(e,!0,t);return this.dfsEdgeList.forEach((function(e){var t=e.fromNode,r=e.toNode,i=e.nodeEdgeNodeLabel,a=i.nodeLabel1,s=i.edgeLabel,u=i.nodeLabel2;a!==o.VACANT_NODE_LABEL&&n.addNode(t,a),u!==o.VACANT_NODE_LABEL&&n.addNode(r,u),a!==o.VACANT_NODE_LABEL&&u!==a&&n.addEdge(void 0,t,r,s)})),n},e.prototype.buildRmpath=function(){this.rmpath=[];for(var e=void 0,t=this.dfsEdgeList.length-1;t>=0;t--){var n=this.dfsEdgeList[t],r=n.fromNode,o=n.toNode;r<o&&(void 0===e||o===e)&&(this.rmpath.push(t),e=r)}return this.rmpath},e.prototype.getNodeNum=function(){var e={};return this.dfsEdgeList.forEach((function(t){e[t.fromNode]||(e[t.fromNode]=!0),e[t.toNode]||(e[t.toNode]=!0)})),Object.keys(e).length},e}(),s=function(){function e(e){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],e){for(;e;){var t=e.edge;this.edges.push(t),this.nodesUsed[t.from]=1,this.nodesUsed[t.to]=1,this.edgesUsed[t.id]=1,e=e.preNode}this.edges=this.edges.reverse()}}return e.prototype.hasNode=function(e){return 1===this.nodesUsed[e.id]},e.prototype.hasEdge=function(e){return 1===this.edgesUsed[e.id]},e}(),u=function(){function e(e){var t=e.graphs,n=e.minSupport,r=void 0===n?2:n,o=e.minNodeNum,i=void 0===o?1:o,s=e.maxNodeNum,u=void 0===s?4:s,c=e.top,l=void 0===c?10:c,f=e.directed,d=void 0!==f&&f,h=e.verbose,p=void 0!==h&&h;this.graphs=t,this.dfsCode=new a,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=r,this.top=l,this.directed=d,this.counter=0,this.maxNodeNum=u,this.minNodeNum=i,this.verbose=p,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return e.prototype.findForwardRootEdges=function(e,t){var n=this,r=[],o=e.nodeMap;return t.edges.forEach((function(e){(n.directed||t.label<=o[e.to].label)&&r.push(e)})),r},e.prototype.findBackwardEdge=function(e,t,n,r){if(!this.directed&&t===n)return null;for(var o=e.nodeMap,i=o[n.to].edges,a=i.length,s=0;s<a;s++){var u=i[s];if(!r.hasEdge(u)&&u.to===t.from)if(this.directed){if(o[t.from].label<o[n.to].label||o[t.from].label===o[n.to].label&&t.label<=u.label)return u}else if(t.label<u.label||t.label===u.label&&o[t.to].label<=o[n.to].label)return u}return null},e.prototype.findForwardPureEdges=function(e,t,n,r){for(var o=[],i=t.to,a=e.nodeMap[i].edges,s=a.length,u=0;u<s;u++){var c=a[u],l=e.nodeMap[c.to];n<=l.label&&!r.hasNode(l)&&o.push(c)}return o},e.prototype.findForwardRmpathEdges=function(e,t,n,r){for(var o=[],i=e.nodeMap,a=i[t.to].label,s=i[t.from].edges,u=s.length,c=0;c<u;c++){var l=s[c],f=i[l.to].label;t.to===l.to||n>f||r.hasNode(i[l.to])||(t.label<l.label||t.label===l.label&&a<=f)&&o.push(l)}return o},e.prototype.getSupport=function(e){var t={};return e.forEach((function(e){t[e.graphId]||(t[e.graphId]=!0)})),Object.keys(t).length},e.prototype.findMinLabel=function(e){var t=void 0;return Object.keys(e).forEach((function(n){var r=e[n],o=r.nodeLabel1,i=r.edgeLabel,a=r.nodeLabel2;t?(o<t.nodeLabel1||o===t.nodeLabel1&&i<t.edgeLabel||o===t.nodeLabel1&&i===t.edgeLabel&&a<t.nodeLabel2)&&(t={nodeLabel1:o,edgeLabel:i,nodeLabel2:a}):t={nodeLabel1:o,edgeLabel:i,nodeLabel2:a}})),t},e.prototype.isMin=function(){var e=this,t=this.dfsCode;if(this.verbose&&console.log("isMin checking",t),1===t.dfsEdgeList.length)return!0;var n=this.directed,r=t.toGraph(o.VACANT_GRAPH_ID,n),u=r.nodeMap,c=new a,l={};r.nodes.forEach((function(t){e.findForwardRootEdges(r,t).forEach((function(e){var n=u[e.to],o="".concat(t.label,"-").concat(e.label,"-").concat(n.label);l[o]||(l[o]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:n.label});var i={graphId:r.id,edge:e,preNode:null};l[o].projected.push(i)}))}));var f=this.findMinLabel(l);if(f){c.dfsEdgeList.push(new i(0,1,f.nodeLabel1,f.edgeLabel,f.nodeLabel2));var d="".concat(f.nodeLabel1,"-").concat(f.edgeLabel,"-").concat(f.nodeLabel2);return function a(l){for(var f=c.buildRmpath(),d=c.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,h=c.dfsEdgeList[f[0]].toNode,p={},g=!1,v=0,m=n?-1:0,y=function(t){if(g)return"break";l.forEach((function(n){var o=new s(n),i=e.findBackwardEdge(r,o.edges[f[t]],o.edges[f[0]],o);i&&(p[i.label]||(p[i.label]={projected:[],edgeLabel:i.label}),p[i.label].projected.push({graphId:r.id,edge:p,preNode:n}),v=c.dfsEdgeList[f[t]].fromNode,g=!0)}))},b=f.length-1;b>m;b--){if("break"===y(b))break}if(g){var x=e.findMinLabel(p);c.dfsEdgeList.push(new i(h,v,o.VACANT_NODE_LABEL,x.edgeLabel,o.VACANT_NODE_LABEL));var w=c.dfsEdgeList.length-1;return e.dfsCode.dfsEdgeList[w]===c.dfsEdgeList[w]&&a(p[x.edgeLabel].projected)}var E={};g=!1;var _=0;l.forEach((function(t){var n=new s(t),o=e.findForwardPureEdges(r,n.edges[f[0]],d,n);o.length>0&&(g=!0,_=h,o.forEach((function(e){var n="".concat(e.label,"-").concat(u[e.to].label);E[n]||(E[n]={projected:[],edgeLabel:e.label,nodeLabel2:u[e.to].label}),E[n].projected.push({graphId:r.id,edge:e,preNode:t})})))}));var S=f.length,k=function(t){if(g)return"break";var n=f[t];l.forEach((function(t){var o=new s(t),i=e.findForwardRmpathEdges(r,o.edges[n],d,o);i.length>0&&(g=!0,_=c.dfsEdgeList[n].fromNode,i.forEach((function(e){var n="".concat(e.label,"-").concat(u[e.to].label);E[n]||(E[n]={projected:[],edgeLabel:e.label,nodeLabel2:u[e.to].label}),E[n].projected.push({graphId:r.id,edge:e,preNode:t})})))}))};for(b=0;b<S;b++){if("break"===k(b))break}if(!g)return!0;var T=e.findMinLabel(E);c.dfsEdgeList.push(new i(_,h+1,o.VACANT_NODE_LABEL,T.edgeLabel,T.nodeLabel2));var C=c.dfsEdgeList.length-1;return t.dfsEdgeList[C]===c.dfsEdgeList[C]&&a(E["".concat(T.edgeLabel,"-").concat(T.nodeLabel2)].projected)}(l[d].projected)}},e.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var e=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,r.clone)(e))}},e.prototype.subGraphMining=function(e){var t=this;if(!(this.getSupport(e)<this.minSupport)&&this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),r=this.dfsCode.buildRmpath(),a=this.dfsCode.dfsEdgeList[r[0]].toNode,u=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,c={},l={};e.forEach((function(e){for(var o=t.graphs[e.graphId],i=o.nodeMap,f=new s(e),d=r.length-1;d>=0;d--){var h=t.findBackwardEdge(o,f.edges[r[d]],f.edges[r[0]],f);if(h){var p="".concat(t.dfsCode.dfsEdgeList[r[d]].fromNode,"-").concat(h.label);l[p]||(l[p]={projected:[],toNodeId:t.dfsCode.dfsEdgeList[r[d]].fromNode,edgeLabel:h.label}),l[p].projected.push({graphId:e.graphId,edge:h,preNode:e})}}if(!(n>=t.maxNodeNum)){t.findForwardPureEdges(o,f.edges[r[0]],u,f).forEach((function(t){var n="".concat(a,"-").concat(t.label,"-").concat(i[t.to].label);c[n]||(c[n]={projected:[],fromNodeId:a,edgeLabel:t.label,nodeLabel2:i[t.to].label}),c[n].projected.push({graphId:e.graphId,edge:t,preNode:e})}));var g=function(n){t.findForwardRmpathEdges(o,f.edges[r[n]],u,f).forEach((function(o){var a="".concat(t.dfsCode.dfsEdgeList[r[n]].fromNode,"-").concat(o.label,"-").concat(i[o.to].label);c[a]||(c[a]={projected:[],fromNodeId:t.dfsCode.dfsEdgeList[r[n]].fromNode,edgeLabel:o.label,nodeLabel2:i[o.to].label}),c[a].projected.push({graphId:e.graphId,edge:o,preNode:e})}))};for(d=0;d<r.length;d++)g(d)}})),Object.keys(l).forEach((function(e){var n=l[e],r=n.toNodeId,o=n.edgeLabel;t.dfsCode.dfsEdgeList.push(new i(a,r,"-1",o,"-1")),t.subGraphMining(l[e].projected),t.dfsCode.dfsEdgeList.pop()})),Object.keys(c).forEach((function(e){var n=c[e],r=n.fromNodeId,s=n.edgeLabel,u=n.nodeLabel2;t.dfsCode.dfsEdgeList.push(new i(r,a+1,o.VACANT_NODE_LABEL,s,u)),t.subGraphMining(c[e].projected),t.dfsCode.dfsEdgeList.pop()}))}},e.prototype.generate1EdgeFrequentSubGraphs=function(){var e=this.graphs,t=this.directed,n=this.minSupport,r=this.frequentSize1Subgraphs,o={},i={},a={},s={};return Object.keys(e).forEach((function(n){var r=e[n],u=r.nodeMap;r.nodes.forEach((function(e,r){var c=e.label,l="".concat(n,"-").concat(c);if(!a[l]){var f=o[c]||0;f++,o[c]=f}a[l]={graphKey:n,label:c},e.edges.forEach((function(e){var r=c,o=u[e.to].label;if(!t&&r>o){var a=o;o=r,r=a}var l=e.label,f="".concat(n,"-").concat(r,"-").concat(l,"-").concat(o),d="".concat(r,"-").concat(l,"-").concat(o);if(!i[d]){var h=i[d]||0;h++,i[d]=h}s[f]={graphId:n,nodeLabel1:r,edgeLabel:l,nodeLabel2:o}}))}))})),Object.keys(o).forEach((function(e){if(!(o[e]<n)){var t={nodes:[],edges:[]};t.nodes.push({id:"0",label:e}),r.push(t)}})),r},e.prototype.run=function(){var e=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var t=this.graphs,n=(this.directed,{});Object.keys(t).forEach((function(r){var o=t[r],i=o.nodeMap;o.nodes.forEach((function(t){e.findForwardRootEdges(o,t).forEach((function(e){var o=i[e.to],a="".concat(t.label,"-").concat(e.label,"-").concat(o.label);n[a]||(n[a]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:o.label});var s={graphId:r,edge:e,preNode:null};n[a].projected.push(s)}))}))})),Object.keys(n).forEach((function(t){var r=n[t],o=r.projected,a=r.nodeLabel1,s=r.edgeLabel,u=r.nodeLabel2;e.dfsCode.dfsEdgeList.push(new i(0,1,a,s,u)),e.subGraphMining(o),e.dfsCode.dfsEdgeList.pop()}))}},e}(),c="cluster",l=function(e){var t=e.graphs,n=e.directed,r=void 0!==n&&n,i=e.nodeLabelProp,a=void 0===i?c:i,s=e.edgeLabelProp,l=void 0===s?c:s,f=function(e,t,n,r){var i={};return Object.keys(e).forEach((function(a,s){var u=e[a],c=new o.Graph(s,!0,t),l={};u.nodes.forEach((function(e,t){c.addNode(t,e[n]),l[e.id]=t})),u.edges.forEach((function(e,t){var n=l[e.source],o=l[e.target];c.addEdge(-1,n,o,e[r])})),c&&c.getNodeNum()&&(i[c.id]=c)})),i}(t,r,a,l),d=e.minSupport,h=e.maxNodeNum,p=e.minNodeNum,g=e.verbose,v=e.top,m=new u({graphs:f,minSupport:d,maxNodeNum:h,minNodeNum:p,top:v,verbose:g,directed:r});m.run();var y=function(e,t,n){var r=[];return e.forEach((function(e){var o={nodes:[],edges:[]};e.nodes.forEach((function(e){var n;o.nodes.push(((n={id:"".concat(e.id)})[t]=e.label,n))})),e.edges.forEach((function(e){var t;o.edges.push(((t={source:"".concat(e.from),target:"".concat(e.to)})[n]=e.label,t))})),r.push(o)})),r}(m.frequentSubgraphs,a,l);return y};t.default=l},7468:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VACANT_NODE_LABEL=t.VACANT_NODE_ID=t.VACANT_GRAPH_ID=t.VACANT_EDGE_LABEL=t.VACANT_EDGE_ID=t.Node=t.Graph=t.Edge=t.AUTO_EDGE_ID=void 0;t.VACANT_EDGE_ID=-1;t.VACANT_NODE_ID=-1;t.VACANT_EDGE_LABEL="-1";t.VACANT_NODE_LABEL="-1";t.VACANT_GRAPH_ID=-1;t.AUTO_EDGE_ID="-1";var n=function(e,t,n,r){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===n&&(n=-1),void 0===r&&(r="-1"),this.id=e,this.from=t,this.to=n,this.label=r};t.Edge=n;var r=function(){function e(e,t){void 0===e&&(e=-1),void 0===t&&(t="-1"),this.id=e,this.label=t,this.edges=[],this.edgeMap={}}return e.prototype.addEdge=function(e){this.edges.push(e),this.edgeMap[e.id]=e},e}();t.Node=r;var o=function(){function e(e,t,n){void 0===e&&(e=-1),void 0===t&&(t=!0),void 0===n&&(n=!1),this.id=e,this.edgeIdAutoIncrease=t,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return e.prototype.getNodeNum=function(){return this.nodes.length},e.prototype.addNode=function(e,t){if(!this.nodeMap[e]){var n=new r(e,t);this.nodes.push(n),this.nodeMap[e]=n,this.nodeLabelMap[t]||(this.nodeLabelMap[t]=[]),this.nodeLabelMap[t].push(e)}},e.prototype.addEdge=function(e,t,r,o){if((this.edgeIdAutoIncrease||void 0===e)&&(e=this.counter++),!(this.nodeMap[t]&&this.nodeMap[r]&&this.nodeMap[r].edgeMap[e])){var i=new n(e,t,r,o);if(this.edges.push(i),this.edgeMap[e]=i,this.nodeMap[t].addEdge(i),this.edgeLabelMap[o]||(this.edgeLabelMap[o]=[]),this.edgeLabelMap[o].push(i),!this.directed){var a=new n(e,r,t,o);this.nodeMap[r].addEdge(a),this.edgeLabelMap[o].push(a)}}},e}();t.Graph=o},5472:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(9388),o=u(n(9345)),i=u(n(1225)),a=u(n(5581)),s=n(399);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t,n,r){void 0===n&&(n="cluster"),void 0===r&&(r=2);var o=[],i=e.nodes;return t.forEach((function(e,t){o.push(l(i,e,t,n,r))})),o},l=function(e,t,n,r,o){var i=[n],a=[],s={};return t.forEach((function(t,u){if(t<=o&&n!==u){i.push(u),a.push(e[u]);var c=e[u][r];s[c]?(s[c].count++,s[c].dists.push(t)):s[c]={count:1,dists:[t]}}})),Object.keys(s).forEach((function(e){s[e].dists=s[e].dists.sort((function(e,t){return e-t}))})),{nodeIdx:n,nodeId:e[n].id,nodeIdxs:i,neighbors:a,neighborNum:i.length-1,nodeLabelCountMap:s}},f=function(e,t,n,r){var o=n.nodes;return r||(r={}),Object.keys(e).forEach((function(i){var a,s;if(!r||!r[i]){r[i]={nodes:[],edges:[]};var u=e[i],c=null===(a=t[u.start])||void 0===a?void 0:a.nodeIdxs,l=null===(s=t[u.end])||void 0===s?void 0:s.nodeIdxs;if(c&&l){var f=new Set(l),d=c.filter((function(e){return f.has(e)}));if(d&&d.length){for(var h={},p=d.length,g=0;g<p;g++){var v=o[d[g]];r[i].nodes.push(v),h[v.id]=!0}n.edges.forEach((function(e){h[e.source]&&h[e.target]&&r[i].edges.push(e)}))}}}})),r},d=function(e,t,n,r){var o,i,a={};e.nodes.forEach((function(e){a[e.id]=e}));var s=0;return!(null===(o=null===t||void 0===t?void 0:t.edges)||void 0===o?void 0:o.length)||(null===(i=null===t||void 0===t?void 0:t.nodes)||void 0===i?void 0:i.length)<2?0:(e.edges.forEach((function(e){var o=a[e.source][n],i=a[e.target][n],u=null===t||void 0===t?void 0:t.nodes[0][n],c=null===t||void 0===t?void 0:t.nodes[1][n],l=null===t||void 0===t?void 0:t.edges[0][r];e[r]===l&&(o===u&&i===c||o===c&&i===u)&&s++})),s)},h=function(e,t){var n={},r={};return e.forEach((function(e,o){n[e.id]={idx:o,node:e,degree:0,inDegree:0,outDegree:0};var i=e[t];r[i]||(r[i]=[]),r[i].push(e)})),{nodeMap:n,nodeLabelMap:r}},p=function(e,t,n){var r={},o={};return e.forEach((function(e,i){r["".concat(s.uniqueId)]={idx:i,edge:e};var a=e[t];o[a]||(o[a]=[]),o[a].push(e);var u=n[e.source];u&&(u.degree++,u.outDegree++);var c=n[e.target];c&&(c.degree++,c.inDegree++)})),{edgeMap:r,edgeLabelMap:o}},g=function(e,t,n){var r=t.length,o={};return t.forEach((function(t,i){for(var a=n?0:i+1,s=e[i].id,u=a;u<r;u++)if(i!==u){var c=e[u].id,l=t[u];o["".concat(s,"-").concat(c)]=l,n||(o["".concat(c,"-").concat(s)]=l)}})),o},v=function(e,t,n,r,o,i,a,s,u,c,l){var h,p="".concat(t.id,"-").concat(n.id);if(c&&c[p])return c[p];var g=l?l[p]:void 0;if(!g){var v=((h={})[p]={start:r[t.id].idx,end:r[n.id].idx,distance:o},h);g=(l=f(v,i,e,l))[p]}return d(g,a,s,u)},m=function(e,t,n,r){var o,i,a,s=null===(o=e[t])||void 0===o?void 0:o.degree,u=null===(i=e[t])||void 0===i?void 0:i.inDegree,c=null===(a=e[t])||void 0===a?void 0:a.outDegree;return void 0===e[t]&&(s=1/0,u=1/0,c=1/0,r[t].forEach((function(e){var t=n[e.id].degree;s>t&&(s=t);var r=n[e.id].inDegree;u>r&&(u=r);var o=n[e.id].outDegree;c>o&&(c=o)})),e[t]={degree:s,inDegree:u,outDegree:c}),{minPatternNodeLabelDegree:s,minPatternNodeLabelInDegree:u,minPatternNodeLabelOutDegree:c}},y=function(e,t,n,s,u,y,b){var x;if(void 0===n&&(n=!1),void 0===y&&(y="cluster"),void 0===b&&(b="cluster"),e&&e.nodes){var w=e.nodes.length;if(w){var E=(0,o.default)(e,n),_=(0,o.default)(t,n),S=g(e.nodes,E,n),k=g(t.nodes,_,n),T=h(e.nodes,y),C=T.nodeMap,M=T.nodeLabelMap,N=h(t.nodes,y),A=N.nodeMap,P=N.nodeLabelMap;p(e.edges,b,C);var O=p(t.edges,b,A).edgeLabelMap,I=[];null===_||void 0===_||_.forEach((function(e){I=I.concat(e)})),u||(u=Math.max.apply(Math,(0,r.__spreadArray)((0,r.__spreadArray)([],I,!1),[2],!1))),s||(s=u);var D=c(e,E,y,s),R=c(t,_,y,s),L=function(e,t,n,r,o){var i=Math.ceil(n/t),a={},s=0;return r.forEach((function(e,r){for(var u=0,c=0,l=e.nodeIdxs,f=e.neighborNum-1;u<i;){for(var d=l[1+Math.floor(Math.random()*f)],h=0;(a["".concat(r,"-").concat(d)]||a["".concat(d,"-").concat(r)])&&(d=Math.floor(Math.random()*t),!(++h>2*t)););if(h<2*t&&(a["".concat(r,"-").concat(d)]={start:r,end:d,distance:o[r][d]},u++,++s>=n))return a;if(++c>2*t)break}u<i&&(i=(i+(i-u))/(t-r-1))})),a}(0,w,Math.min(100,w*(w-1)/2),D,E),j=f(L,D,e),F={graphs:j,nodeLabelProp:y,edgeLabelProp:b,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:n},B=(0,i.default)(F).slice(0,10),z=B.length,G=[];B.forEach((function(e,t){G[t]={},Object.keys(j).forEach((function(n){var r=j[n],o=d(r,e,y,b);G[t][n]=o}))}));var V=function(e,t,n){for(var r=1/0,o=0,i=function(t){var n=e[t],i=Object.keys(n).sort((function(e,t){return n[e]-n[t]})),a=[];i.forEach((function(e,t){a[t%10]||(a[t%10]={graphs:[],totalCount:0,aveCount:0}),a[t%10].graphs.push(e),a[t%10].totalCount+=n[e]}));var s=0,u=[];a.forEach((function(e){var t=e.totalCount/e.graphs.length;e.aveCount=t,u.push(t);var r=0,o=e.length;e.graphs.forEach((function(t,o){var i=n[t];e.graphs.forEach((function(e,t){o!==t&&(r+=Math.abs(i-n[e]))}))})),s+=r/=o*(o-1)/2})),s/=a.length;var c=0;u.forEach((function(e,t){u.forEach((function(n,r){t!==r&&(c+=Math.abs(e-n))})),c/=u.length*(u.length-1)/2}));var l=c-s;r<l&&(r=l,o=t)},a=0;a<t;a++)i(a);return{structure:n[o],structureCountMap:e[o]}}(G,z,B),U=V.structure,W=V.structureCountMap,Z=t.nodes[0],Y=[],H=null===(x=t.nodes[0])||void 0===x?void 0:x[y],X=-1/0;t.nodes.forEach((function(e){var t=e[y],n=M[t];(null===n||void 0===n?void 0:n.length)>X&&(X=n.length,Y=n,H=t,Z=e)}));var K={},q={},$={},J={},Q={},ee={};Object.keys(P).forEach((function(r,o){Q[r]=[],n&&(ee[r]=[]);var i=-1/0,a=P[r],s={};a.forEach((function(e){var t=k["".concat(Z.id,"-").concat(e.id)];if(t&&Q[r].push(t),i<t&&(i=t),s["".concat(Z.id,"-").concat(e.id)]={start:0,end:A[e.id].idx,distance:t},n){var o=k["".concat(e.id,"-").concat(Z.id)];o&&ee[r].push(o)}})),Q[r]=Q[r].sort((function(e,t){return e-t})),n&&(ee[r]=ee[r].sort((function(e,t){return e-t}))),q=f(s,R,t,q);var u=[];if(Object.keys(s).forEach((function(e){if($[e])u.push($[e]);else{var t=q[e];$[e]=d(t,U,y,b),u.push($[e])}})),u=u.sort((function(e,t){return t-e})),J["".concat(Z.id,"-").concat(r)]=u,r!==H)for(var c=function(t){var n=Y[t],o=D[C[n.id].idx],i=o.nodeLabelCountMap[r],a=P[r].length;if(!i||i.count<a)return Y.splice(t,1),"continue";for(var s=!1,c=0;c<a;c++)if(i.dists[c]>Q[r][c]){s=!0;break}if(s)return Y.splice(t,1),"continue";var l={};o.neighbors.forEach((function(e){var t=S["".concat(n.id,"-").concat(e.id)];l["".concat(n.id,"-").concat(e.id)]={start:C[n.id].idx,end:C[e.id].idx,distance:t}})),j=f(l,D,e,j);var h=[];Object.keys(l).forEach((function(e){if(W[e])h.push(W[e]);else{var t=j[e];W[e]=d(t,U,y,b),h.push(W[e])}})),h=h.sort((function(e,t){return t-e}));var p=!1;for(c=0;c<a;c++)if(h[c]<u[c]){p=!0;break}return p?(Y.splice(t,1),"continue"):void 0},l=((null===Y||void 0===Y?void 0:Y.length)||0)-1;l>=0;l--)c(l)}));var te=[];null===Y||void 0===Y||Y.forEach((function(r){for(var o=C[r.id].idx,i=l(e.nodes,E[o],o,y,u).neighbors,a=!1,s=i.length-1;s>=0;s--){if(i.length+1<t.nodes.length)return void(a=!0);var c=i[s],f=c[y];if(P[f]&&P[f].length)if(Q[f]&&Q[f].length){var d="".concat(r.id,"-").concat(c.id),h=S[d],p=Q[f].length-1;if(h>Q[f][p])i.splice(s,1);else{if(n){var g="".concat(c.id,"-").concat(r.id),x=S[g];if(p=ee[f].length-1,x>ee[f][p]){i.splice(s,1);continue}}var w=W[d]?W[d]:v(e,r,c,C,h,D,U,y,b,W,j),_="".concat(Z.id,"-").concat(f);if(w<J[_][J[_].length-1])i.splice(s,1);else{var k=m(K,f,A,P),T=k.minPatternNodeLabelDegree;k.minPatternNodeLabelInDegree,k.minPatternNodeLabelOutDegree;C[c.id].degree<T&&i.splice(s,1)}}}else i.splice(s,1);else i.splice(s,1)}a||te.push({nodes:[r].concat(i)})}));var ne=(0,a.default)(t,Z.id,!1).length,re={};n?(Object.keys(ne).forEach((function(e){var t=A[e].node[y];re[t]?re[t].push(ne[e]):re[t]=[ne[e]]})),Object.keys(re).forEach((function(e){re[e].sort((function(e,t){return e-t}))}))):re=Q;for(var oe=function(r){var o=te[r],i=o.nodes[0],s={},u={};o.nodes.forEach((function(e,t){u[e.id]={idx:t,node:e,degree:0,inDegree:0,outDegree:0};var n=e[y];s[n]?s[n]++:s[n]=1}));var c=[],l={};e.edges.forEach((function(e){u[e.source]&&u[e.target]&&(c.push(e),l[e[b]]?l[e[b]]++:l[e[b]]=1,u[e.source].degree++,u[e.target].degree++,u[e.source].outDegree++,u[e.target].inDegree++)}));for(var f=Object.keys(O).length,d=!1,h=0;h<f;h++){var p=Object.keys(O)[h];if(!l[p]||l[p]<O[p].length){d=!0;break}}if(d)return te.splice(r,1),"continue";var g=c.length;if(g<t.edges.length)return te.splice(r,1),"break";var v=!1,x=function(e){var t=c[e],r=t[b],o=O[r];if(!o||!o.length)return l[r]--,o&&l[r]<o.length?(v=!0,"break"):(c.splice(e,1),u[t.source].degree--,u[t.target].degree--,u[t.source].outDegree--,u[t.target].inDegree--,"continue");var i=u[t.source].node[y],a=u[t.target].node[y],s=!1;return o.forEach((function(e){var t=A[e.source].node,r=A[e.target].node;t[y]===i&&r[y]===a&&(s=!0),n||t[y]!==a||r[y]!==i||(s=!0)})),s?void 0:(l[r]--,o&&l[r]<o.length?(v=!0,"break"):(c.splice(e,1),u[t.source].degree--,u[t.target].degree--,u[t.source].outDegree--,u[t.target].inDegree--,"continue"))};for(h=g-1;h>=0;h--){if("break"===x(h))break}if(v)return te.splice(r,1),"continue";o.edges=c;var w=(0,a.default)(o,o.nodes[0].id,!1).length;if(Object.keys(w).reverse().forEach((function(e){if(e!==o.nodes[0].id&&!v){if(w[e]===1/0){var t=u[e].node[y];if(s[t]--,s[t]<P[t].length)return void(v=!0);var n=o.nodes.indexOf(u[e].node);return o.nodes.splice(n,1),void(u[e]=void 0)}var r=C[e].node[y];if(!re[r]||!re[r].length||w[e]>re[r][re[r].length-1]){t=u[e].node[y];if(s[t]--,s[t]<P[t].length)return void(v=!0);n=o.nodes.indexOf(u[e].node);o.nodes.splice(n,1),u[e]=void 0}}})),v)return te.splice(r,1),"continue";for(var E=!0,_=0;E&&!v;){if(E=!1,n?u[i.id].degree<A[Z.id].degree||u[i.id].inDegree<A[Z.id].inDegree||u[i.id].outDegree<A[Z.id].outDegree:u[i.id].degree<A[Z.id].degree){v=!0;break}if(s[i[y]]<P[i[y]].length){v=!0;break}for(var S=o.nodes.length-1;S>=0;S--){var k=o.nodes[S],T=u[k.id].degree,M=u[k.id].inDegree,N=u[k.id].outDegree,I=k[y],D=m(K,I,A,P),R=D.minPatternNodeLabelDegree,L=D.minPatternNodeLabelInDegree,j=D.minPatternNodeLabelOutDegree;if(n?T<R||M<L||N<j:T<R){if(s[k[y]]--,s[k[y]]<P[k[y]].length){v=!0;break}o.nodes.splice(S,1),u[k.id]=void 0,E=!0}}if(v||!E&&0!==_)break;for(var F=(g=c.length)-1;F>=0;F--){var B=c[F];if(!u[B.source]||!u[B.target]){c.splice(F,1);var z=B[b];if(l[z]--,u[B.source]&&(u[B.source].degree--,u[B.source].outDegree--),u[B.target]&&(u[B.target].degree--,u[B.target].inDegree--),O[z]&&l[z]<O[z].length){v=!0;break}E=!0}}_++}return v||v||o.nodes.length<t.nodes.length||c.length<t.edges.length?(te.splice(r,1),"continue"):void 0},ie=te.length-1;ie>=0;ie--){if("break"===oe(ie))break}var ae=te.length,se=function(e){var t=te[e],n={};t.edges.forEach((function(e){var t="".concat(e.source,"-").concat(e.target,"-").concat(e.label);n[t]?n[t]++:n[t]=1}));for(var r=function(e){var t=te[e],r={};t.edges.forEach((function(e){var t="".concat(e.source,"-").concat(e.target,"-").concat(e.label);r[t]?r[t]++:r[t]=1}));var o=!0;Object.keys(r).length!==Object.keys(n).length?o=!1:Object.keys(n).forEach((function(e){r[e]!==n[e]&&(o=!1)})),o&&te.splice(e,1)},o=ae-1;o>e;o--)r(o);ae=te.length};for(ie=0;ie<=ae-1;ie++)se(ie);return te}}};t.default=y},2186:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(3469))&&r.__esModule?r:{default:r},i=n(399);var a=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e3);var a=e.nodes,s=void 0===a?[]:a,u=e.edges,c=void 0===u?[]:u,l={},f={};s.forEach((function(e,t){var n=(0,i.uniqueId)();e.clusterId=n,l[n]={id:n,nodes:[e]},f[e.id]={node:e,idx:t}}));var d=(0,o.default)(e,t),h=[],p={};d.forEach((function(e,t){var n=0,r=s[t].id;p[r]={},e.forEach((function(e,t){if(e){n+=e;var o=s[t].id;p[r][o]=e}})),h.push(n)}));for(var g=0,v=function(){var e=!1;if(s.forEach((function(t){var n={};Object.keys(p[t.id]).forEach((function(e){var r=p[t.id][e],o=f[e].node.clusterId;n[o]||(n[o]=0),n[o]+=r}));var r=-1/0,o=[];if(Object.keys(n).forEach((function(e){r<n[e]?(r=n[e],o=[e]):r===n[e]&&o.push(e)})),1!==o.length||o[0]!==t.clusterId){var i=o.indexOf(t.clusterId);if(i>=0&&o.splice(i,1),o&&o.length){e=!0;var a=l[t.clusterId],s=a.nodes.indexOf(t);a.nodes.splice(s,1);var u=Math.floor(Math.random()*o.length),c=l[o[u]];c.nodes.push(t),t.clusterId=c.id}}})),!e)return"break";g++};g<r;){if("break"===v())break}Object.keys(l).forEach((function(e){var t=l[e];t.nodes&&t.nodes.length||delete l[e]}));var m=[],y={};c.forEach((function(e){var t=e.source,r=e.target,o=e[n]||1,i=f[t].node.clusterId,a=f[r].node.clusterId,s="".concat(i,"---").concat(a);if(y[s])y[s].weight+=o,y[s].count++;else{var u={source:i,target:a,weight:o,count:1};y[s]=u,m.push(u)}}));var b=[];return Object.keys(l).forEach((function(e){b.push(l[e])})),{clusters:b,clusterEdges:m}};t.default=a},6977:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(8092),o=u(n(3469)),i=u(n(2210)),a=n(8831),s=n(3708);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t,n,r){for(var o=t.length,i=2*r,a=0,s=0;s<o;s++)for(var u=e[s].clusterId,c=0;c<o;c++){if(u===e[c].clusterId)a+=(t[s][c]||0)-(n[s]||0)*(n[c]||0)/i}return a*=1/i},l=function(e,t){void 0===e&&(e=[]);for(var n=e.length,r=new i.default([]),o=0;o<n;o++)r=r.add(new i.default(t[o]));var a=r.avg(n);a.normalize();var s=0;for(o=0;o<n;o++){s+=(c=new i.default(t[o])).squareEuclideanDistance(a)}var u=[];e.forEach((function(){u.push([])}));for(o=0;o<n;o++){var c=new i.default(t[o]);e[o].clusterInertial=0;for(var l=0;l<n;l++)if(o!==l){var f=new i.default(t[l]);u[o][l]=c.squareEuclideanDistance(f),e[o].clusterInertial+=u[o][l]}else u[o][l]=0}var d=0,h=2*n*s;for(o=0;o<n;o++){var p=e[o].clusterId;for(l=0;l<n;l++){var g=e[l].clusterId;if(o!==l&&p===g)d+=e[o].clusterInertial*e[l].clusterInertial/Math.pow(h,2)-u[o][l]/h}}return Number(d.toFixed(4))},f=function(e,t,n,i,u,f,d,h,p){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===i&&(i=1e-4),void 0===u&&(u=!1),void 0===f&&(f=void 0),void 0===d&&(d=[]),void 0===h&&(h=["id"]),void 0===p&&(p=1);var g=e.nodes,v=void 0===g?[]:g,m=e.edges,y=void 0===m?[]:m,b=[];if(u){v.forEach((function(e,t){e.properties=e.properties||{},e.originIndex=t}));var x=[];v.every((function(e){return e.hasOwnProperty("nodeType")}))&&(x=Array.from(new Set(v.map((function(e){return e.nodeType})))),v.forEach((function(e){e.properties.nodeType=x.findIndex((function(t){return t===e.nodeType}))})));var w=(0,a.getAllProperties)(v,f);b=(0,s.oneHot)(w,d,h)}var E=1,_={},S={};v.forEach((function(e,t){var n=String(E++);e.clusterId=n,_[n]={id:n,nodes:[e]},S[e.id]={node:e,idx:t}}));var k=(0,o.default)(e,t),T=[],C={},M=0;k.forEach((function(e,t){var n=0,r=v[t].id;C[r]={},e.forEach((function(e,t){if(e){n+=e;var o=v[t].id;C[r][o]=e,M+=e}})),T.push(n)})),M/=2;for(var N=1/0,A=1/0,P=0,O=[],I={};;){N=u&&v.every((function(e){return e.hasOwnProperty("properties")}))?c(v,k,T,M)+l(v,b)*p:c(v,k,T,M),0===P&&(A=N,O=v,I=_);var D=N>0&&N>A&&N-A<i;if(N>A&&(O=v.map((function(e){return{node:e,clusterId:e.clusterId}})),I=(0,r.clone)(_),A=N),D||P>100)break;P++,Object.keys(_).forEach((function(e){var t=0;y.forEach((function(r){var o=r.source,i=r.target,a=S[o].node.clusterId,s=S[i].node.clusterId;(a===e&&s!==e||s===e&&a!==e)&&(t+=r[n]||1)})),_[e].sumTot=t})),v.forEach((function(e,t){var r,o=_[e.clusterId],i=0,a=T[t]/(2*M),s=0,c=o.nodes;c.forEach((function(e){var n=S[e.id].idx;s+=k[t][n]||0}));var f=s-o.sumTot*a,d=c.filter((function(t){return t.id!==e.id})),h=[];d.forEach((function(e,t){h[t]=b[e.originIndex]}));var g=l(d,b)*p,v=C[e.id];if(Object.keys(v).forEach((function(n){var o=S[n].node.clusterId;if(o!==e.clusterId){var s=_[o],c=s.nodes;if(c&&c.length){var d=0;c.forEach((function(e){var n=S[e.id].idx;d+=k[t][n]||0}));var h=d-s.sumTot*a,v=c.concat([e]),m=[];v.forEach((function(e,t){m[t]=b[e.originIndex]}));var y=l(v,b)*p,x=h-f;u&&(x=h+y-(f+g)),x>i&&(i=x,r=s)}}})),i>0){r.nodes.push(e);var m=e.clusterId;e.clusterId=r.id;var x=o.nodes.indexOf(e);o.nodes.splice(x,1);var w=0,E=0;y.forEach((function(e){var t=e.source,o=e.target,i=S[t].node.clusterId,a=S[o].node.clusterId;(i===r.id&&a!==r.id||a===r.id&&i!==r.id)&&(w+=e[n]||1),(i===m&&a!==m||a===m&&i!==m)&&(E+=e[n]||1)})),r.sumTot=w,o.sumTot=E}}))}var R={},L=0;Object.keys(I).forEach((function(e){var t=I[e];if(t.nodes&&t.nodes.length){var n=String(L+1);n!==e&&(t.id=n,t.nodes=t.nodes.map((function(e){return{id:e.id,clusterId:n}})),I[n]=t,R[e]=n,delete I[e],L++)}else delete I[e]})),O.forEach((function(e){var t=e.node,n=e.clusterId;t.clusterId=n,t.clusterId&&R[t.clusterId]&&(t.clusterId=R[t.clusterId])}));var j=[],F={};y.forEach((function(e){var t=e.source,r=e.target,o=e[n]||1,i=S[t].node.clusterId,a=S[r].node.clusterId,s="".concat(i,"---").concat(a);if(F[s])F[s].weight+=o,F[s].count++;else{var u={source:i,target:a,weight:o,count:1};F[s]=u,j.push(u)}}));var B=[];return Object.keys(I).forEach((function(e){B.push(I[e])})),{clusters:B,clusterEdges:j}};t.default=f},8433:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(5997)),o=a(n(567)),i=n(399);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t){var n=[],r=e.nodes,a=void 0===r?[]:r,s=e.edges,u=void 0===s?[]:s;if(0===a.length)return n;var c=a[0],l=new Set;l.add(c);var f=new o.default((function(e,n){return t?e.weight-n.weight:0}));for((0,i.getEdgesByNodeId)(c.id,u).forEach((function(e){f.insert(e)}));!f.isEmpty();){var d=f.delMin(),h=d.source,p=d.target;l.has(h)&&l.has(p)||(n.push(d),l.has(h)||(l.add(h),(0,i.getEdgesByNodeId)(h,u).forEach((function(e){f.insert(e)}))),l.has(p)||(l.add(p),(0,i.getEdgesByNodeId)(p,u).forEach((function(e){f.insert(e)}))))}return n},u=function(e,t){var n=[],o=e.nodes,i=void 0===o?[]:o,a=e.edges,s=void 0===a?[]:a;if(0===i.length)return n;var u=s.map((function(e){return e}));t&&u.sort((function(e,t){return e.weight-t.weight}));for(var c=new r.default(i.map((function(e){return e.id})));u.length>0;){var l=u.shift(),f=l.source,d=l.target;c.connected(f,d)||(n.push(l),c.union(f,d))}return n},c=function(e,t,n){return n?{prim:s,kruskal:u}[n](e,t):u(e,t)};t.default=c},3962:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(9020))&&r.__esModule?r:{default:r},i=n(399);var a=function(e,t,n){"number"!==typeof t&&(t=1e-6),"number"!==typeof n&&(n=.85);for(var r,a=1,s=0,u=1e3,c=e.nodes,l=void 0===c?[]:c,f=e.edges,d=void 0===f?[]:f,h=l.length,p={},g={},v=0;v<h;++v){p[y=(_=l[v]).id]=1/h,g[y]=1/h}for(var m=(0,o.default)(e);u>0&&a>t;){s=0;for(v=0;v<h;++v){var y=(_=l[v]).id;if(r=0,0===m[_.id].inDegree)p[y]=0;else{for(var b=(0,i.getNeighbors)(y,d,"source"),x=0;x<b.length;++x){var w=b[x],E=m[w].outDegree;E>0&&(r+=g[w]/E)}p[y]=n*r,s+=p[y]}}s=(1-s)/h,a=0;for(v=0;v<h;++v){var _;r=p[y=(_=l[v]).id]+s,a+=Math.abs(r-g[y]),g[y]=r}u-=1}return g};t.default=a},567:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){return e-t},r=function(){function e(e){void 0===e&&(e=n),this.compareFn=e,this.list=[]}return e.prototype.getLeft=function(e){return 2*e+1},e.prototype.getRight=function(e){return 2*e+2},e.prototype.getParent=function(e){return 0===e?null:Math.floor((e-1)/2)},e.prototype.isEmpty=function(){return this.list.length<=0},e.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},e.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},e.prototype.insert=function(e){if(null!==e){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},e.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var n=this.list[t];this.list[t]=this.list[e],this.list[e]=n,e=t,t=this.getParent(e)}},e.prototype.moveDown=function(e){var t,n=e,r=this.getLeft(e),o=this.getRight(e),i=this.list.length;null!==r&&r<i&&this.compareFn(this.list[n],this.list[r])>0?n=r:null!==o&&o<i&&this.compareFn(this.list[n],this.list[o])>0&&(n=o),e!==n&&(t=[this.list[n],this.list[e]],this.list[e]=t[0],this.list[n]=t[1],this.moveDown(n))},e}();t.default=r},4182:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LinkedListNode=void 0;var n=function(e,t){return e===t},r=function(){function e(e,t){void 0===t&&(t=null),this.value=e,this.next=t}return e.prototype.toString=function(e){return e?e(this.value):"".concat(this.value)},e}();t.LinkedListNode=r;var o=function(){function e(e){void 0===e&&(e=n),this.head=null,this.tail=null,this.compare=e}return e.prototype.prepend=function(e){var t=new r(e,this.head);return this.head=t,this.tail||(this.tail=t),this},e.prototype.append=function(e){var t=new r(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},e.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,e)?(t=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,e)&&(this.tail=n),t},e.prototype.find=function(e){var t=e.value,n=void 0===t?void 0:t,r=e.callback,o=void 0===r?void 0:r;if(!this.head)return null;for(var i=this.head;i;){if(o&&o(i.value))return i;if(void 0!==n&&this.compare(i.value,n))return i;i=i.next}return null},e.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},e.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},e.prototype.fromArray=function(e){var t=this;return e.forEach((function(e){return t.append(e)})),this},e.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},e.prototype.reverse=function(){for(var e=this.head,t=null,n=null;e;)n=e.next,e.next=t,t=e,e=n;this.tail=this.head,this.head=t},e.prototype.toString=function(e){return void 0===e&&(e=void 0),this.toArray().map((function(t){return t.toString(e)})).toString()},e}();t.default=o},9748:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(4182))&&r.__esModule?r:{default:r};var i=function(){function e(){this.linkedList=new o.default}return e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},e.prototype.enqueue=function(e){this.linkedList.append(e)},e.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},e.prototype.toString=function(e){return this.linkedList.toString(e)},e}();t.default=i},5997:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){function e(e){this.count=e.length,this.parent={};for(var t=0,n=e;t<n.length;t++){var r=n[t];this.parent[r]=r}}return e.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},e.prototype.union=function(e,t){var n=this.find(e),r=this.find(t);n!==r&&(n<r?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},e.prototype.connected=function(e,t){return this.find(e)===this.find(t)},e}();t.default=n},1391:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DistanceType=void 0,t.DistanceType=n,function(e){e.EuclideanDistance="euclideanDistance"}(n||(t.DistanceType=n={}))},399:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueId=t.getOutEdgesNodeId=t.getNeighbors=t.getEdgesByNodeId=void 0;t.getNeighbors=function(e,t,n){void 0===t&&(t=[]);var r=t.filter((function(t){return t.source===e||t.target===e}));if("target"===n){return r.filter((function(t){return t.source===e})).map((function(e){return e.target}))}if("source"===n){return r.filter((function(t){return t.target===e})).map((function(e){return e.source}))}return r.map((function(t){return t.source===e?t.target:t.source}))};t.getOutEdgesNodeId=function(e,t){return t.filter((function(t){return t.source===e}))};t.getEdgesByNodeId=function(e,t){return t.filter((function(t){return t.source===e||t.target===e}))};t.uniqueId=function(e){void 0===e&&(e=0);var t="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(e,"-").concat(t).concat(n)}},3708:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oneHot=t.getDistance=t.getAllKeyValueMap=t.default=void 0;var r,o=n(8092),i=n(1391),a=(r=n(2210))&&r.__esModule?r:{default:r};var s=function(e,t,n){var r=[];(null===t||void 0===t?void 0:t.length)?r=t:(e.forEach((function(e){r=r.concat(Object.keys(e))})),r=(0,o.uniq)(r));var i={};return r.forEach((function(t){var r=[];e.forEach((function(e){void 0!==e[t]&&""!==e[t]&&r.push(e[t])})),r.length&&!(null===n||void 0===n?void 0:n.includes(t))&&(i[t]=(0,o.uniq)(r))})),i};t.getAllKeyValueMap=s;var u=function(e,t,n){var r=s(e,t,n),o=[];return Object.keys(r).length?(e.forEach((function(e,t){var n=[];if(1===Object.keys(r).length){var i=Object.keys(r)[0];r[i].every((function(e){return!isNaN(Number(e))}))&&(n=[e[i]])}else Object.keys(r).forEach((function(t){for(var o=e[t],i=r[t],a=i.findIndex((function(e){return o===e})),s=[],u=0;u<i.length;u++)u===a?s.push(1):s.push(0);n=n.concat(s)}));o[t]=n})),o):o};t.oneHot=u;var c=function(e,t,n,r){void 0===n&&(n=i.DistanceType.EuclideanDistance);var o=0;if(n===i.DistanceType.EuclideanDistance)o=new a.default(e).euclideanDistance(new a.default(t));return o};t.getDistance=c;var l={getAllKeyValueMap:s,oneHot:u,getDistance:c};t.default=l},8831:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPropertyWeight=t.getAllSortProperties=t.getAllProperties=t.default=void 0;var r=n(834),o=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=100);var n={};e.forEach((function(e){e.properties&&Object.keys(e.properties).forEach((function(t){"id"===t||!"".concat(e.properties[t]).match(r.secondReg)&&!"".concat(e.properties[t]).match(r.dateReg)&&isNaN(Number(e.properties[t]))?n.hasOwnProperty(t)&&delete n[t]:n.hasOwnProperty(t)?n[t]+=1:n[t]=1}))}));var o=Object.keys(n).sort((function(e,t){return n[t]-n[e]}));return o.length<t?o:o.slice(0,t)};t.getAllSortProperties=o;var i=function(e,t){return t.map((function(t){if(e.hasOwnProperty(t)){if(!isNaN(Number(e[t])))return Number(e[t]);if(e[t].match(r.secondReg)||e[t].match(r.dateReg))return Number(Date.parse(new Date(e[t])))/1e3}return 0}))},a=function(e){for(var t=o(e),n=[],r=0;r<e.length;r++)n[r]=i(e[r].properties,t);return n};t.getPropertyWeight=a;var s=function(e,t){void 0===t&&(t=void 0);var n=[];return e.forEach((function(e){void 0===t&&n.push(e),void 0!==e[t]&&n.push(e[t])})),n};t.getAllProperties=s;var u={getAllSortProperties:o,getPropertyWeight:a,getAllProperties:s};t.default=u},2210:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(8092),o=function(){function e(e){this.arr=e}return e.prototype.getArr=function(){return this.arr||[]},e.prototype.add=function(t){var n,r=t.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new e(r);if(!(null===r||void 0===r?void 0:r.length))return new e(this.arr);if(this.arr.length===r.length){var o=[];for(var i in this.arr)o[i]=this.arr[i]+r[i];return new e(o)}},e.prototype.subtract=function(t){var n,r=t.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new e(r);if(!(null===r||void 0===r?void 0:r.length))return new e(this.arr);if(this.arr.length===r.length){var o=[];for(var i in this.arr)o[i]=this.arr[i]-r[i];return new e(o)}},e.prototype.avg=function(t){var n=[];if(0!==t)for(var r in this.arr)n[r]=this.arr[r]/t;return new e(n)},e.prototype.negate=function(){var t=[];for(var n in this.arr)t[n]=-this.arr[n];return new e(t)},e.prototype.squareEuclideanDistance=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var o in this.arr)r+=Math.pow(this.arr[o]-e.arr[o],2);return r}},e.prototype.euclideanDistance=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var o in this.arr)r+=Math.pow(this.arr[o]-e.arr[o],2);return Math.sqrt(r)}console.error("The two vectors are unequal in length.")},e.prototype.normalize=function(){var t=[],n=(0,r.clone)(this.arr);n.sort((function(e,t){return e-t}));var o=n[n.length-1],i=n[0];for(var a in this.arr)t[a]=(this.arr[a]-i)/(o-i);return new e(t)},e.prototype.norm2=function(){var e;if(!(null===(e=this.arr)||void 0===e?void 0:e.length))return 0;var t=0;for(var n in this.arr)t+=Math.pow(this.arr[n],2);return Math.sqrt(t)},e.prototype.dot=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var o in this.arr)r+=this.arr[o]*e.arr[o];return r}console.error("The two vectors are unequal in length.")},e.prototype.equal=function(e){var t,n=e.arr;if((null===(t=this.arr)||void 0===t?void 0:t.length)!==(null===n||void 0===n?void 0:n.length))return!1;for(var r in this.arr)if(this.arr[r]!==n[r])return!1;return!0},e}();t.default=o},3658:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GADDI",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"breadthFirstSearch",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"connectedComponent",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"depthFirstSearch",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"detectCycle",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"dijkstra",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"findAllPath",{enumerable:!0,get:function(){return f.findAllPath}}),Object.defineProperty(t,"findShortestPath",{enumerable:!0,get:function(){return f.findShortestPath}}),Object.defineProperty(t,"floydWarshall",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"getAdjMatrix",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"getDegree",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"getInDegree",{enumerable:!0,get:function(){return s.getInDegree}}),Object.defineProperty(t,"getNeighbors",{enumerable:!0,get:function(){return y.getNeighbors}}),Object.defineProperty(t,"getOutDegree",{enumerable:!0,get:function(){return s.getOutDegree}}),Object.defineProperty(t,"labelPropagation",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"louvain",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"minimumSpanningTree",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"pageRank",{enumerable:!0,get:function(){return v.default}});var o=x(n(3469)),i=x(n(6299)),a=x(n(3265)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(9020)),u=x(n(1354)),c=x(n(5068)),l=x(n(5581)),f=n(6384),d=x(n(9345)),h=x(n(2186)),p=x(n(6977)),g=x(n(8433)),v=x(n(3962)),m=x(n(5472)),y=n(399);function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function x(e){return e&&e.__esModule?e:{default:e}}},3857:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MESSAGE=t.ALGORITHM=void 0;t.ALGORITHM={pageRank:"pageRank",breadthFirstSearch:"breadthFirstSearch",connectedComponent:"connectedComponent",depthFirstSearch:"depthFirstSearch",detectCycle:"detectCycle",detectDirectedCycle:"detectDirectedCycle",detectAllCycles:"detectAllCycles",detectAllDirectedCycle:"detectAllDirectedCycle",detectAllUndirectedCycle:"detectAllUndirectedCycle",dijkstra:"dijkstra",findAllPath:"findAllPath",findShortestPath:"findShortestPath",floydWarshall:"floydWarshall",getAdjMatrix:"getAdjMatrix",getDegree:"getDegree",getInDegree:"getInDegree",getNeighbors:"getNeighbors",getOutDegree:"getOutDegree",labelPropagation:"labelPropagation",louvain:"louvain",GADDI:"GADDI",minimumSpanningTree:"minimumSpanningTree",SUCCESS:"SUCCESS",FAILURE:"FAILURE"};t.MESSAGE={SUCCESS:"SUCCESS",FAILURE:"FAILURE"}},2130:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=n(3857),i=(r=n(4524))&&r.__esModule?r:{default:r};var a=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new Promise((function(n,r){var a=new i.default;a.postMessage({_algorithmType:e,data:t}),a.onmessage=function(e){var t=e.data,i=t.data,s=t._algorithmType;o.MESSAGE.SUCCESS===s?n(i):r(),a.terminate()}}))}};t.default=a},7249:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pageRankAsync=t.minimumSpanningTreeAsync=t.louvainAsync=t.labelPropagationAsync=t.getOutDegreeAsync=t.getNeighborsAsync=t.getInDegreeAsync=t.getDegreeAsync=t.getAdjMatrixAsync=t.floydWarshallAsync=t.findShortestPathAsync=t.findAllPathAsync=t.dijkstraAsync=t.detectCycleAsync=t.detectAllUndirectedCycleAsync=t.detectAllDirectedCycleAsync=t.detectAllCyclesAsync=t.connectedComponentAsync=t.GADDIAsync=void 0;var r,o=(r=n(2130))&&r.__esModule?r:{default:r},i=n(3857);t.getAdjMatrixAsync=function(e,t){return(0,o.default)(i.ALGORITHM.getAdjMatrix).apply(void 0,[e,t])};t.connectedComponentAsync=function(e,t){return(0,o.default)(i.ALGORITHM.connectedComponent).apply(void 0,[e,t])};t.getDegreeAsync=function(e){return(0,o.default)(i.ALGORITHM.getDegree)(e)};t.getInDegreeAsync=function(e,t){return(0,o.default)(i.ALGORITHM.getInDegree)(e,t)};t.getOutDegreeAsync=function(e,t){return(0,o.default)(i.ALGORITHM.getOutDegree)(e,t)};t.detectCycleAsync=function(e){return(0,o.default)(i.ALGORITHM.detectCycle)(e)};t.detectAllCyclesAsync=function(e){return(0,o.default)(i.ALGORITHM.detectAllCycles)(e)};t.detectAllDirectedCycleAsync=function(e){return(0,o.default)(i.ALGORITHM.detectAllDirectedCycle)(e)};t.detectAllUndirectedCycleAsync=function(e){return(0,o.default)(i.ALGORITHM.detectAllUndirectedCycle)(e)};t.dijkstraAsync=function(e,t,n,r){return(0,o.default)(i.ALGORITHM.dijkstra).apply(void 0,[e,t,n,r])};t.findAllPathAsync=function(e,t,n,r){return(0,o.default)(i.ALGORITHM.findAllPath).apply(void 0,[e,t,n,r])};t.findShortestPathAsync=function(e,t,n,r,a){return(0,o.default)(i.ALGORITHM.findShortestPath).apply(void 0,[e,t,n,r,a])};t.floydWarshallAsync=function(e,t){return(0,o.default)(i.ALGORITHM.floydWarshall).apply(void 0,[e,t])};t.labelPropagationAsync=function(e,t,n,r){return void 0===r&&(r=1e3),(0,o.default)(i.ALGORITHM.labelPropagation)(e,t,n,r)};t.louvainAsync=function(e,t,n,r){return(0,o.default)(i.ALGORITHM.louvain)(e,t,n,r)};t.minimumSpanningTreeAsync=function(e,t,n){return(0,o.default)(i.ALGORITHM.minimumSpanningTree).apply(void 0,[e,t,n])};t.pageRankAsync=function(e,t,n){return(0,o.default)(i.ALGORITHM.pageRank).apply(void 0,[e,t,n])};t.getNeighborsAsync=function(e,t,n){return(0,o.default)(i.ALGORITHM.getNeighbors).apply(void 0,[e,t,n])};t.GADDIAsync=function(e,t,n,r,a,s,u){return void 0===n&&(n=!1),void 0===s&&(s="cluster"),void 0===u&&(u="cluster"),(0,o.default)(i.ALGORITHM.GADDI).apply(void 0,[e,t,n,r,a,s,u])}},4524:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=i?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(o,s,u):o[s]=e[s]}o.default=e,n&&n.set(e,o);return o}(n(3658)),i=n(3857);function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var s="undefined"!==typeof self?self:{};s.onmessage=function(e){var t=e.data,n=t._algorithmType,r=t.data;if(n)if("function"!==typeof o[n])s.postMessage({_algorithmType:i.MESSAGE.FAILURE});else{var a=o[n].apply(o,r);s.postMessage({_algorithmType:i.MESSAGE.SUCCESS,data:a})}};t.default=null},3543:function(){},9102:function(){},736:function(){},4566:function(){},8783:function(){},2332:function(){},1326:function(){},1101:function(){},9:function(){},2929:function(){},5760:function(){},678:function(){},2288:function(e,t,n){"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}n.r(t),n.d(t,{Camera:function(){return Qr},Geometry:function(){return eo},Kernel:function(){return ti},Material:function(){return ni},Renderable:function(){return ri},World:function(){return Ou}});var o=n(5671),i=n(3144);function a(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}n(6121);var s=n(7757),u=n.n(s),c=n(5861),l=1;function f(){return l++}var d=function e(t){(0,o.Z)(this,e)},h=function(){function e(t){(0,o.Z)(this,e),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=t}return(0,i.Z)(e,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(e){return this.lookup[e]>-1}},{key:"create",value:function(e,t){this.lookup[e]=this.components.length;var n=new this.clazz(t||{});return this.components.push(n),this.entities.push(e),n}},{key:"remove",value:function(e){var t=this.lookup[e];t>-1&&t<this.components.length-1&&(this.components[t]=this.components[this.components.length-1],this.entities[t]=this.entities[this.entities.length-1],this.lookup[this.entities[t]]=t),this.components.pop(),this.entities.pop(),delete this.lookup[e]}},{key:"removeKeepSorted",value:function(e){var t=this.lookup[e];if(t>-1){var n=this.entities[t];if(t<this.components.length-1){for(var r=t+1;r<this.components.length;++r)this.components[r-1]=this.components[r];for(var o=t+1;o<this.entities.length;++o)this.entities[o-1]=this.entities[o],this.lookup[this.entities[o-1]]=o-1}this.components.pop(),this.entities.pop(),delete this.lookup[n]}}},{key:"moveItem",value:function(e,t){if(e!==t){for(var n=this.components[e],r=this.entities[e],o=e<t?1:-1,i=e;i!==t;i+=o){var a=i+o;this.components[i]=this.components[a],this.entities[i]=this.entities[a],this.lookup[this.entities[i]]=i}this.components[t]=n,this.entities[t]=r,this.lookup[r]=t}}},{key:"getEntity",value:function(e){return this.entities[e]}},{key:"getComponent",value:function(e){return this.components[e]}},{key:"getComponentByEntity",value:function(e){var t=this.lookup[e];return t>-1?this.components[t]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(e){for(var t=0,n=Object.keys(this.lookup);t<n.length;t++){var r=n[t],o=Number(r);if(this.lookup[o]===e)return o}return-1}},{key:"find",value:function(e){for(var t=0;t<this.getCount();t++){var n=this.getComponent(t);if(e(n,t))return n}return null}},{key:"findIndex",value:function(e){for(var t=0;t<this.getCount();t++){if(e(this.getComponent(t),t))return t}return-1}},{key:"forEach",value:function(e){for(var t=0,n=Object.keys(this.lookup);t<n.length;t++){var r=n[t],o=Number(r),i=this.lookup[o];e(o,this.getComponent(i))}}},{key:"forEachAsync",value:function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,o,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,r=Object.keys(this.lookup);case 1:if(!(n<r.length)){e.next=10;break}return o=r[n],i=Number(o),a=this.lookup[i],e.next=7,t(i,this.getComponent(a));case 7:n++,e.next=1;break;case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"map",value:function(e){for(var t=[],n=0,r=Object.keys(this.lookup);n<r.length;n++){var o=r[n],i=Number(o),a=this.lookup[i];t.push(e(i,this.getComponent(a)))}return t}}]),e}(),p=n(9439),g=n(6543),v={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),Geometry:Symbol("Geometry"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),Material:Symbol("Material"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")},m=function e(){(0,o.Z)(this,e),this.index=void 0},y=function e(){(0,o.Z)(this,e),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0},b=function(){function e(){(0,o.Z)(this,e),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}return(0,i.Z)(e,[{key:"read",value:function(e){return this.reads.find((function(t){return t.index===e.index}))||this.reads.push(e),e}},{key:"sample",value:function(e){return this.read(e),e}},{key:"write",value:function(e,t){if(this.writes.find((function(e){return e.index===t.index})))return t;var n=e.getResourceNode(t);n.resource.version++,n.resource.imported&&(this.hasSideEffect=!0);var r=e.createResourceNode(n.resource);return e.getResourceNode(r).writer=this,this.writes.push(r),r}}]),e}(),x=n(9340),w=n(2963),E=n(1120);function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var o=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var S,k,T,C,M,N,A=function(e){(0,x.Z)(n,e);var t=_(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).version=0,e.refs=0,e.name=void 0,e.imported=void 0,e.priority=void 0,e.discardStart=!0,e.discardEnd=!1,e.descriptor=void 0,e.resource=void 0,e}return(0,i.Z)(n,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){this.imported}}]),n}((function e(){(0,o.Z)(this,e),this.first=void 0,this.last=void 0})),P=function e(){(0,o.Z)(this,e),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0};function O(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=(S=(0,g.b2)(),k=(0,g.f3)(v.RenderEngine),S((N=function(){function e(){(0,o.Z)(this,e),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],r(this,"engine",M,this)}return(0,i.Z)(e,[{key:"execute",value:function(){var e=(0,c.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.compile(),e.next=3,this.executePassNodes(t);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.frameGraphPasses.forEach((function(e){e.tearDown&&e.tearDown()})),this.reset()}},{key:"addPass",value:function(e,t,n,r){var o=new y;o.execute=n,r&&(o.tearDown=r),o.name=e;var i=new b;return i.name=e,this.passNodes.push(i),this.frameGraphPasses.push(o),t(this,i,o),o}},{key:"getPass",value:function(e){return this.frameGraphPasses.find((function(t){return t.name===e}))}},{key:"compile",value:function(){var e,t=this,n=O(this.passNodes);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.refCount=r.writes.length+(r.hasSideEffect?1:0),r.reads.forEach((function(e){t.resourceNodes[e.index].readerCount++}))}}catch(P){n.e(P)}finally{n.f()}var o,i=[],a=O(this.resourceNodes);try{for(a.s();!(o=a.n()).done;){var s=o.value;0===s.readerCount&&i.push(s)}}catch(P){a.e(P)}finally{a.f()}for(;i.length;){var u=i.pop(),c=u&&u.writer;if(c&&0===--c.refCount){var l,f=O(c.reads);try{for(f.s();!(l=f.n()).done;){var d=l.value,h=this.resourceNodes[d.index];0===--h.readerCount&&i.push(h)}}catch(P){f.e(P)}finally{f.f()}}}this.resourceNodes.forEach((function(e){e.resource.refs+=e.readerCount}));var p,g=O(this.passNodes);try{for(g.s();!(p=g.n()).done;){var v=p.value;if(v.refCount){var m,y=O(v.reads);try{for(y.s();!(m=y.n()).done;){var b=m.value,x=this.resourceNodes[b.index].resource;x.first=x.first?x.first:v,x.last=v}}catch(P){y.e(P)}finally{y.f()}var w,E=O(v.writes);try{for(E.s();!(w=E.n()).done;){var _=w.value,S=this.resourceNodes[_.index].resource;S.first=S.first?S.first:v,S.last=v}}catch(P){E.e(P)}finally{E.f()}}}}catch(P){g.e(P)}finally{g.f()}for(var k=0;k<2;k++){var T,C=O(this.resourceNodes);try{for(C.s();!(T=C.n()).done;){var M=T.value.resource;if(M.priority===k&&M.refs){var N=M.first,A=M.last;N&&A&&(N.devirtualize.push(M),A.destroy.push(M))}}}catch(P){C.e(P)}finally{C.f()}}}},{key:"executePassNodes",value:function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,o,i,a,s,c,l,f,d,h,g,v;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=O(this.passNodes.entries()),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=18;break}if(o=(0,p.Z)(r.value,2),i=o[0],!(a=o[1]).refCount){e.next=16;break}s=O(a.devirtualize);try{for(s.s();!(c=s.n()).done;)c.value.preExecuteDevirtualize(this.engine)}catch(u){s.e(u)}finally{s.f()}l=O(a.destroy);try{for(l.s();!(f=l.n()).done;)f.value.preExecuteDestroy(this.engine)}catch(u){l.e(u)}finally{l.f()}return e.next=12,this.frameGraphPasses[i].execute(this,this.frameGraphPasses[i],t);case 12:d=O(a.devirtualize);try{for(d.s();!(h=d.n()).done;)h.value.postExecuteDevirtualize(this.engine)}catch(u){d.e(u)}finally{d.f()}g=O(a.destroy);try{for(g.s();!(v=g.n()).done;)v.value.postExecuteDestroy(this.engine)}catch(u){g.e(u)}finally{g.f()}case 16:e.next=3;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),n.e(e.t0);case 23:return e.prev=23,n.f(),e.finish(23);case 26:this.reset();case 27:case"end":return e.stop()}}),e,this,[[1,20,23,26]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(e){return this.resourceNodes[e.index]}},{key:"createResourceNode",value:function(e){var t=new P;t.resource=e,t.version=e.version,this.resourceNodes.push(t);var n=new m;return n.index=this.resourceNodes.length-1,n}},{key:"createTexture",value:function(e,t,n){var r=new A;return r.name=t,r.descriptor=n,this.createResourceNode(r)}},{key:"createRenderTarget",value:function(e,t,n){var r=new A;return r.name=t,r.descriptor=n,this.createResourceNode(r)}},{key:"present",value:function(e){this.addPass("Present",(function(t,n){n.read(e),n.hasSideEffect=!0}),(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))))}}]),e}(),M=a((C=N).prototype,"engine",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=C))||T),R=n(4942),L=n(7326),j=n(553);function F(){var e=new j.WT(4);return j.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function B(e,t,n,r){var o=new j.WT(4);return o[0]=e,o[1]=t,o[2]=n,o[3]=r,o}function z(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3];return e[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,e[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,e[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,e[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,e}!function(){var e=F()}();var G=n(5742),V=n(8679),U=n(1002),W=9007199254740991,Z={};Z["[object Float32Array]"]=Z["[object Float64Array]"]=Z["[object Int8Array]"]=Z["[object Int16Array]"]=Z["[object Int32Array]"]=Z["[object Uint8Array]"]=Z["[object Uint8ClampedArray]"]=Z["[object Uint16Array]"]=Z["[object Uint32Array]"]=!0,Z["[object Arguments]"]=Z["[object Array]"]=Z["[object ArrayBuffer]"]=Z["[object Boolean]"]=Z["[object DataView]"]=Z["[object Date]"]=Z["[object Error]"]=Z["[object Function]"]=Z["[object Map]"]=Z["[object Number]"]=Z["[object Object]"]=Z["[object RegExp]"]=Z["[object Set]"]=Z["[object String]"]=Z["[object WeakMap]"]=!1;var Y=Object.prototype.toString;var H=function(e){return function(e){return!!e&&"object"===(0,U.Z)(e)}(e)&&function(e){return"number"===typeof e&&e>-1&&e%1===0&&e<=W}(e.length)&&!!Z[Y.call(e)]};function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var o=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var $,J,Q,ee,te,ne,re,oe,ie,ae=function(e){(0,x.Z)(n,e);var t=q(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).dirty=!0,r.attributes=[],r.indices=void 0,r.indicesBuffer=void 0,r.vertexCount=0,r.maxInstancedCount=void 0,r.aabb=void 0,r.entity=void 0,Object.assign((0,L.Z)(r),e),r}return(0,i.Z)(n,[{key:"setAttribute",value:function(e,t,n,r){var o=this.attributes.find((function(t){return t.name===e}));return o?(o.data=t,o.dirty=!0):this.attributes.push(K(K({dirty:!0,name:e,data:t},n),{},{bufferGetter:r})),this.dirty=!0,this}},{key:"setIndex",value:function(e){return this.indices=new Uint32Array(e.buffer?e.buffer:e),this.dirty=!0,this}},{key:"applyMatrix",value:function(e){var t=this.attributes.find((function(e){return"position"===e.name})),n=this.attributes.find((function(e){return"normal"===e.name}));if(t&&(t.dirty=!0,t.data&&t.data.length))for(var r=0;r<t.data.length;r+=3){var o=B(t.data[r],t.data[r+1],t.data[r+2],1);z(o,o,e),H(t.data)?t.data.set([o[0],o[1],o[2]],r):(t.data[r]=o[0],t.data[r+1]=o[1],t.data[r+2]=o[2])}if(n){var i=G.normalFromMat4(G.create(),e);if(n.data&&n.data.length)for(var a=0;a<n.data.length;a+=3){var s=V.al(n.data[a],n.data[a+1],n.data[a+2]);V.kK(s,s,i),V.Fv(s,s),H(n.data)?n.data.set([s[0],s[1],s[2]],a):(n.data[a]=s[0],n.data[a+1]=s[1],n.data[a+2]=s[2])}}}}]),n}(d);!function(e){e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.FUNC_ADD=32774]="FUNC_ADD",e[e.BLEND_EQUATION=32777]="BLEND_EQUATION",e[e.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",e[e.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",e[e.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",e[e.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",e[e.MAX_EXT=32776]="MAX_EXT",e[e.MIN_EXT=32775]="MIN_EXT",e[e.BLEND_DST_RGB=32968]="BLEND_DST_RGB",e[e.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",e[e.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",e[e.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e.BLEND_COLOR=32773]="BLEND_COLOR",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",e[e.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.BUFFER_SIZE=34660]="BUFFER_SIZE",e[e.BUFFER_USAGE=34661]="BUFFER_USAGE",e[e.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK",e[e.CULL_FACE=2884]="CULL_FACE",e[e.BLEND=3042]="BLEND",e[e.DITHER=3024]="DITHER",e[e.STENCIL_TEST=2960]="STENCIL_TEST",e[e.DEPTH_TEST=2929]="DEPTH_TEST",e[e.SCISSOR_TEST=3089]="SCISSOR_TEST",e[e.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",e[e.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",e[e.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",e[e.NO_ERROR=0]="NO_ERROR",e[e.INVALID_ENUM=1280]="INVALID_ENUM",e[e.INVALID_VALUE=1281]="INVALID_VALUE",e[e.INVALID_OPERATION=1282]="INVALID_OPERATION",e[e.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",e[e.CW=2304]="CW",e[e.CCW=2305]="CCW",e[e.LINE_WIDTH=2849]="LINE_WIDTH",e[e.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",e[e.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",e[e.CULL_FACE_MODE=2885]="CULL_FACE_MODE",e[e.FRONT_FACE=2886]="FRONT_FACE",e[e.DEPTH_RANGE=2928]="DEPTH_RANGE",e[e.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",e[e.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",e[e.DEPTH_FUNC=2932]="DEPTH_FUNC",e[e.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",e[e.STENCIL_FUNC=2962]="STENCIL_FUNC",e[e.STENCIL_FAIL=2964]="STENCIL_FAIL",e[e.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",e[e.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",e[e.STENCIL_REF=2967]="STENCIL_REF",e[e.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",e[e.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",e[e.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",e[e.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",e[e.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",e[e.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",e[e.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",e[e.VIEWPORT=2978]="VIEWPORT",e[e.SCISSOR_BOX=3088]="SCISSOR_BOX",e[e.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",e[e.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",e[e.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",e[e.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",e[e.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",e[e.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",e[e.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",e[e.RED_BITS=3410]="RED_BITS",e[e.GREEN_BITS=3411]="GREEN_BITS",e[e.BLUE_BITS=3412]="BLUE_BITS",e[e.ALPHA_BITS=3413]="ALPHA_BITS",e[e.DEPTH_BITS=3414]="DEPTH_BITS",e[e.STENCIL_BITS=3415]="STENCIL_BITS",e[e.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",e[e.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",e[e.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",e[e.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",e[e.SAMPLES=32937]="SAMPLES",e[e.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",e[e.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",e[e.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",e[e.DONT_CARE=4352]="DONT_CARE",e[e.FASTEST=4353]="FASTEST",e[e.NICEST=4354]="NICEST",e[e.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER",e[e.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",e[e.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",e[e.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",e[e.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",e[e.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",e[e.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",e[e.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",e[e.SHADER_TYPE=35663]="SHADER_TYPE",e[e.DELETE_STATUS=35712]="DELETE_STATUS",e[e.LINK_STATUS=35714]="LINK_STATUS",e[e.VALIDATE_STATUS=35715]="VALIDATE_STATUS",e[e.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",e[e.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",e[e.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",e[e.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",e[e.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP",e[e.VENDOR=7936]="VENDOR",e[e.RENDERER=7937]="RENDERER",e[e.VERSION=7938]="VERSION",e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",e[e.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",e[e.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",e[e.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",e[e.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE=5890]="TEXTURE",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",e[e.TEXTURE0=33984]="TEXTURE0",e[e.TEXTURE1=33985]="TEXTURE1",e[e.TEXTURE2=33986]="TEXTURE2",e[e.TEXTURE3=33987]="TEXTURE3",e[e.TEXTURE4=33988]="TEXTURE4",e[e.TEXTURE5=33989]="TEXTURE5",e[e.TEXTURE6=33990]="TEXTURE6",e[e.TEXTURE7=33991]="TEXTURE7",e[e.TEXTURE8=33992]="TEXTURE8",e[e.TEXTURE9=33993]="TEXTURE9",e[e.TEXTURE10=33994]="TEXTURE10",e[e.TEXTURE11=33995]="TEXTURE11",e[e.TEXTURE12=33996]="TEXTURE12",e[e.TEXTURE13=33997]="TEXTURE13",e[e.TEXTURE14=33998]="TEXTURE14",e[e.TEXTURE15=33999]="TEXTURE15",e[e.TEXTURE16=34e3]="TEXTURE16",e[e.TEXTURE17=34001]="TEXTURE17",e[e.TEXTURE18=34002]="TEXTURE18",e[e.TEXTURE19=34003]="TEXTURE19",e[e.TEXTURE20=34004]="TEXTURE20",e[e.TEXTURE21=34005]="TEXTURE21",e[e.TEXTURE22=34006]="TEXTURE22",e[e.TEXTURE23=34007]="TEXTURE23",e[e.TEXTURE24=34008]="TEXTURE24",e[e.TEXTURE25=34009]="TEXTURE25",e[e.TEXTURE26=34010]="TEXTURE26",e[e.TEXTURE27=34011]="TEXTURE27",e[e.TEXTURE28=34012]="TEXTURE28",e[e.TEXTURE29=34013]="TEXTURE29",e[e.TEXTURE30=34014]="TEXTURE30",e[e.TEXTURE31=34015]="TEXTURE31",e[e.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",e[e.REPEAT=10497]="REPEAT",e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",e[e.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",e[e.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",e[e.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",e[e.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",e[e.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",e[e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",e[e.COMPILE_STATUS=35713]="COMPILE_STATUS",e[e.LOW_FLOAT=36336]="LOW_FLOAT",e[e.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",e[e.HIGH_FLOAT=36338]="HIGH_FLOAT",e[e.LOW_INT=36339]="LOW_INT",e[e.MEDIUM_INT=36340]="MEDIUM_INT",e[e.HIGH_INT=36341]="HIGH_INT",e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.RENDERBUFFER=36161]="RENDERBUFFER",e[e.RGBA4=32854]="RGBA4",e[e.RGB5_A1=32855]="RGB5_A1",e[e.RGB565=36194]="RGB565",e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX=6401]="STENCIL_INDEX",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",e[e.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",e[e.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",e[e.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",e[e.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",e[e.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",e[e.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",e[e.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",e[e.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",e[e.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",e[e.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",e[e.NONE=0]="NONE",e[e.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",e[e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",e[e.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",e[e.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",e[e.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",e[e.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",e[e.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",e[e.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",e[e.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",e[e.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",e[e.COPY_SRC=1]="COPY_SRC",e[e.COPY_DST=2]="COPY_DST",e[e.SAMPLED=4]="SAMPLED",e[e.STORAGE=8]="STORAGE",e[e.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"}($||($={}));var se=(J=(0,g.b2)(),Q=(0,g.f3)(v.GeometryComponentManager),ee=(0,g.f3)(v.RenderEngine),J((ie=function(){function e(){(0,o.Z)(this,e),r(this,"geometry",re,this),r(this,"engine",oe,this)}return(0,i.Z)(e,[{key:"execute",value:function(){var e=(0,c.Z)(u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.geometry.forEach((function(e,n){n.dirty&&(n.attributes.forEach((function(e){if(e.dirty&&e.data){var n;if(e.buffer)null===(n=e.buffer)||void 0===n||n.subData({data:e.data,offset:0});else e.buffer=t.engine.createBuffer({data:e.data,type:$.FLOAT});e.dirty=!1}})),n.indices&&(n.indicesBuffer?n.indicesBuffer.subData({data:n.indices,offset:0}):n.indicesBuffer=t.engine.createElements({data:n.indices,count:n.indices.length,type:$.UNSIGNED_INT,usage:$.STATIC_DRAW})),n.dirty=!1)}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.geometry.forEach((function(e,t){t.indicesBuffer&&t.indicesBuffer.destroy(),t.attributes.forEach((function(e){e.buffer&&e.buffer.destroy()}))})),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{vertexCount:3},t=e.vertexCount,n=f();return this.geometry.create(n,{vertexCount:t})}},{key:"createInstancedBufferGeometry",value:function(e){var t=e.maxInstancedCount,n=e.vertexCount,r=f();return this.geometry.create(r,{maxInstancedCount:t,vertexCount:n})}}]),e}(),re=a((ne=ie).prototype,"geometry",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=a(ne.prototype,"engine",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=ne))||te);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var o=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var fe,de,he,pe,ge,ve,me,ye,be,xe,we=function(e){(0,x.Z)(n,e);var t=le(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).vertexShaderGLSL=void 0,r.fragmentShaderGLSL=void 0,r.defines={},r.dirty=!0,r.uniforms=[],r.cull={enable:!0,face:$.BACK},r.depth={enable:!0},r.blend=void 0,r.entity=void 0,r.type=void 0,Object.assign((0,L.Z)(r),e),r}return(0,i.Z)(n,[{key:"setDefines",value:function(e){return this.defines=ce(ce({},this.defines),e),this}},{key:"setCull",value:function(e){return this.cull=e,this}},{key:"setDepth",value:function(e){return this.depth=e,this}},{key:"setBlend",value:function(e){return this.blend=e,this}},{key:"setUniform",value:function(e,t){var n=this;if("string"!==typeof e)return Object.keys(e).forEach((function(t){return n.setUniform(t,e[t])})),this;var r=this.uniforms.find((function(t){return t.name===e}));return r?(r.dirty=!0,r.data=t):this.uniforms.push({name:e,dirty:!0,data:t}),this.dirty=!0,this}}]),n}(d);function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se,ke=(fe=(0,g.b2)(),de=(0,g.f3)(v.MaterialComponentManager),he=(0,g.f3)(v.RenderEngine),pe=(0,g.f3)(v.ShaderModuleService),fe((xe=function(){function e(){(0,o.Z)(this,e),r(this,"material",me,this),r(this,"engine",ye,this),r(this,"shaderModule",be,this)}return(0,i.Z)(e,[{key:"execute",value:function(){var e=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.material.clear()}},{key:"createShaderMaterial",value:function(e){var t=f(),n=e.vertexShader,r=e.fragmentShader,o=[];if(!this.engine.supportWebGPU){var i="material-".concat(t);this.shaderModule.registerModule(i,{vs:e.vertexShader,fs:e.fragmentShader});var a=this.shaderModule.getModule(i);n=a.vs,r=a.fs,a.uniforms&&(o=Object.keys(a.uniforms).map((function(e){return{dirty:!0,name:e,data:a.uniforms[e]}})))}return this.material.create(t,_e(_e({vertexShaderGLSL:n,fragmentShaderGLSL:r},e),{},{uniforms:o}))}}]),e}(),me=a((ve=xe).prototype,"material",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=a(ve.prototype,"engine",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=a(ve.prototype,"shaderModule",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=ve))||ge);function Te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var o=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}!function(e){e[e.Standard=0]="Standard"}(Se||(Se={}));var Ce=function(e){(0,x.Z)(n,e);var t=Te(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).strategy=Se.Standard,r.visibilityPlaneMask=0,r.visible=!1,Object.assign((0,L.Z)(r),e),r}return n}(d),Me=function(){function e(t,n){(0,o.Z)(this,e),this.center=void 0,this.halfExtents=void 0,this.min=V.Ue(),this.max=V.Ue(),this.update(t,n)}return(0,i.Z)(e,[{key:"update",value:function(e,t){this.center=e||V.Ue(),this.halfExtents=t||V.al(.5,.5,.5),this.min=V.lu(this.min,this.center,this.halfExtents),this.max=V.IH(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(e,t){V.IH(this.center,t,e),V.bA(this.center,this.center,.5),V.lu(this.halfExtents,t,e),V.bA(this.halfExtents,this.halfExtents,.5),V.JG(this.min,e),V.JG(this.max,t)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(e){var t=this.center,n=t[0],r=t[1],o=t[2],i=this.halfExtents,a=i[0],s=i[1],u=i[2],c=n-a,l=n+a,f=r-s,d=r+s,h=o-u,p=o+u,g=e.center,v=g[0],m=g[1],y=g[2],b=e.halfExtents,x=b[0],w=b[1],E=b[2],_=v-x,S=v+x,k=m-w,T=m+w,C=y-E,M=y+E;_<c&&(c=_),S>l&&(l=S),k<f&&(f=k),T>d&&(d=T),C<h&&(h=C),M>p&&(p=M),t[0]=.5*(c+l),t[1]=.5*(f+d),t[2]=.5*(h+p),i[0]=.5*(l-c),i[1]=.5*(d-f),i[2]=.5*(p-h),this.min[0]=c,this.min[1]=f,this.min[2]=h,this.max[0]=l,this.max[1]=d,this.max[2]=p}},{key:"intersects",value:function(e){var t=this.getMax(),n=this.getMin(),r=e.getMax(),o=e.getMin();return n[0]<=r[0]&&t[0]>=o[0]&&n[1]<=r[1]&&t[1]>=o[1]&&n[2]<=r[2]&&t[2]>=o[2]}},{key:"containsPoint",value:function(e){var t=this.getMin(),n=this.getMax();return!(e[0]<t[0]||e[0]>n[0]||e[1]<t[1]||e[1]>n[1]||e[2]<t[2]||e[2]>n[2])}},{key:"getNegativeFarPoint",value:function(e){return 273===e.pnVertexFlag?V.JG(V.Ue(),this.min):272===e.pnVertexFlag?V.al(this.min[0],this.min[1],this.max[2]):257===e.pnVertexFlag?V.al(this.min[0],this.max[1],this.min[2]):256===e.pnVertexFlag?V.al(this.min[0],this.max[1],this.max[2]):17===e.pnVertexFlag?V.al(this.max[0],this.min[1],this.min[2]):16===e.pnVertexFlag?V.al(this.max[0],this.min[1],this.max[2]):1===e.pnVertexFlag?V.al(this.max[0],this.max[1],this.min[2]):V.al(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(e){return 273===e.pnVertexFlag?V.JG(V.Ue(),this.max):272===e.pnVertexFlag?V.al(this.max[0],this.max[1],this.min[2]):257===e.pnVertexFlag?V.al(this.max[0],this.min[1],this.max[2]):256===e.pnVertexFlag?V.al(this.max[0],this.min[1],this.min[2]):17===e.pnVertexFlag?V.al(this.min[0],this.max[1],this.max[2]):16===e.pnVertexFlag?V.al(this.min[0],this.max[1],this.min[2]):1===e.pnVertexFlag?V.al(this.min[0],this.min[1],this.max[2]):V.al(this.min[0],this.min[1],this.min[2])}}]),e}();function Ne(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var o=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Ae,Pe=function(e){(0,x.Z)(n,e);var t=Ne(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).material=void 0,r.geometry=void 0,r.aabb=new Me,r.aabbDirty=!0,r.model=void 0,r.visible=!0,r.children=[],Object.assign((0,L.Z)(r),e),r}return n}(d),Oe=function(){function e(t,n){(0,o.Z)(this,e),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=t||0,this.normal=n||V.al(0,1,0),this.updatePNVertexFlag()}return(0,i.Z)(e,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(e){return V.AK(e,this.normal)-this.distance}},{key:"normalize",value:function(){var e=1/V.Zh(this.normal);V.bA(this.normal,this.normal,e),this.distance*=e}},{key:"intersectsLine",value:function(e,t,n){var r=this.distanceToPoint(e),o=r/(r-this.distanceToPoint(t)),i=o>=0&&o<=1;return i&&n&&V.t7(n,e,t,o),i}}]),e}();!function(e){e[e.OUTSIDE=4294967295]="OUTSIDE",e[e.INSIDE=0]="INSIDE",e[e.INDETERMINATE=2147483647]="INDETERMINATE"}(Ae||(Ae={}));var Ie,De,Re,Le,je,Fe,Be,ze,Ge,Ve,Ue,We,Ze,Ye,He=function(){function e(t){if((0,o.Z)(this,e),this.planes=[],t)this.planes=t;else for(var n=0;n<6;n++)this.planes.push(new Oe)}return(0,i.Z)(e,[{key:"extractFromVPMatrix",value:function(e){var t=(0,p.Z)(e,16),n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],h=t[11],g=t[12],v=t[13],m=t[14],y=t[15];V.t8(this.planes[0].normal,i-n,c-a,h-l),this.planes[0].distance=-(y-g),V.t8(this.planes[1].normal,i+n,c+a,h+l),this.planes[1].distance=-(y+g),V.t8(this.planes[2].normal,i+r,c+s,h+f),this.planes[2].distance=-(y+v),V.t8(this.planes[3].normal,i-r,c-s,h-f),this.planes[3].distance=-(y-v),V.t8(this.planes[4].normal,i-o,c-u,h-d),this.planes[4].distance=-(y-m),V.t8(this.planes[5].normal,i+o,c+u,h+d),this.planes[5].distance=-(y+m),this.planes.forEach((function(e){e.normalize(),e.updatePNVertexFlag()}))}}]),e}();function Xe(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ke(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qe=(Ie=(0,g.b2)(),De=(0,g.f3)(v.MeshComponentManager),Re=(0,g.f3)(v.CullableComponentManager),Le=(0,g.f3)(v.GeometryComponentManager),je=(0,g.f3)(v.HierarchyComponentManager),Fe=(0,g.f3)(v.TransformComponentManager),Ie((Ye=function(){function e(){(0,o.Z)(this,e),r(this,"mesh",Ge,this),r(this,"cullable",Ve,this),r(this,"geometry",Ue,this),r(this,"hierarchy",We,this),r(this,"transform",Ze,this),this.planes=void 0}return(0,i.Z)(e,[{key:"setFrustumPlanes",value:function(e){this.planes=e}},{key:"execute",value:function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,o,i,a,s,c,l,f,d,h,p,g,v,m,y,b,x,w,E,_;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Xe(t);try{for(n.s();!(r=n.n()).done;){o=r.value,i=o.getScene(),a=o.getCamera(),s=Xe(i.getEntities());try{for(s.s();!(c=s.n()).done;)l=c.value,(f=this.mesh.getComponentByEntity(l))&&(d=this.hierarchy.getComponentByEntity(l),h=this.cullable.getComponentByEntity(l),p=f.geometry,g=this.transform.getComponentByEntity(l),p&&p.aabb&&g&&f.aabbDirty&&(v=g.worldTransform,m=p.aabb,y=m.center,b=m.halfExtents,x=V.fF(V.Ue(),y,v),u=v,(S=G.create())[0]=u[0],S[1]=u[1],S[2]=u[2],S[3]=u[4],S[4]=u[5],S[5]=u[6],S[6]=u[8],S[7]=u[9],S[8]=u[10],w=S,E=V.kK(V.Ue(),b,w),f.aabb.update(x,E),f.aabbDirty=!1),h&&p&&(_=this.cullable.getComponentByEntity((null===d||void 0===d?void 0:d.parentID)||-1),h.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(f.aabb,(null===_||void 0===_?void 0:_.visibilityPlaneMask)||Ae.INDETERMINATE,this.planes||a.getFrustum().planes),h.visible=h.visibilityPlaneMask!==Ae.OUTSIDE))}catch(k){s.e(k)}finally{s.f()}}}catch(k){n.e(k)}finally{n.f()}case 2:case"end":return e.stop()}var u,S}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(e,t,n){if(t===Ae.OUTSIDE||t===Ae.INSIDE)return t;for(var r=Ae.INSIDE,o=0,i=n.length;o<i;++o){var a=o<31?1<<o:0;if(!(o<31&&0===(t&a))){var s=n[o],u=s.normal,c=s.distance;if(V.AK(u,e.getNegativeFarPoint(n[o]))+c>0)return Ae.OUTSIDE;V.AK(u,e.getPositiveFarPoint(n[o]))+c>0&&(r|=a)}}return r}}]),e}(),Ge=a((ze=Ye).prototype,"mesh",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=a(ze.prototype,"cullable",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=a(ze.prototype,"geometry",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=a(ze.prototype,"hierarchy",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze=a(ze.prototype,"transform",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=ze))||Be);function $e(){var e=new j.WT(16);return j.WT!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Je(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Qe(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function et(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],h=t[11],p=t[12],g=t[13],v=t[14],m=t[15],y=n*s-r*a,b=n*u-o*a,x=n*c-i*a,w=r*u-o*s,E=r*c-i*s,_=o*c-i*u,S=l*g-f*p,k=l*v-d*p,T=l*m-h*p,C=f*v-d*g,M=f*m-h*g,N=d*m-h*v,A=y*N-b*M+x*C+w*T-E*k+_*S;return A?(A=1/A,e[0]=(s*N-u*M+c*C)*A,e[1]=(o*M-r*N-i*C)*A,e[2]=(g*_-v*E+m*w)*A,e[3]=(d*E-f*_-h*w)*A,e[4]=(u*T-a*N-c*k)*A,e[5]=(n*N-o*T+i*k)*A,e[6]=(v*x-p*_-m*b)*A,e[7]=(l*_-d*x+h*b)*A,e[8]=(a*M-s*T+c*S)*A,e[9]=(r*T-n*M-i*S)*A,e[10]=(p*E-g*x+m*y)*A,e[11]=(f*x-l*E-h*y)*A,e[12]=(s*k-a*C-u*S)*A,e[13]=(n*C-r*k+o*S)*A,e[14]=(g*b-p*w-v*y)*A,e[15]=(l*w-f*b+d*y)*A,e):null}function tt(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=t[9],h=t[10],p=t[11],g=t[12],v=t[13],m=t[14],y=t[15],b=n[0],x=n[1],w=n[2],E=n[3];return e[0]=b*r+x*s+w*f+E*g,e[1]=b*o+x*u+w*d+E*v,e[2]=b*i+x*c+w*h+E*m,e[3]=b*a+x*l+w*p+E*y,b=n[4],x=n[5],w=n[6],E=n[7],e[4]=b*r+x*s+w*f+E*g,e[5]=b*o+x*u+w*d+E*v,e[6]=b*i+x*c+w*h+E*m,e[7]=b*a+x*l+w*p+E*y,b=n[8],x=n[9],w=n[10],E=n[11],e[8]=b*r+x*s+w*f+E*g,e[9]=b*o+x*u+w*d+E*v,e[10]=b*i+x*c+w*h+E*m,e[11]=b*a+x*l+w*p+E*y,b=n[12],x=n[13],w=n[14],E=n[15],e[12]=b*r+x*s+w*f+E*g,e[13]=b*o+x*u+w*d+E*v,e[14]=b*i+x*c+w*h+E*m,e[15]=b*a+x*l+w*p+E*y,e}function nt(e,t,n){var r,o,i,a,s,u,c,l,f,d,h,p,g=n[0],v=n[1],m=n[2];return t===e?(e[12]=t[0]*g+t[4]*v+t[8]*m+t[12],e[13]=t[1]*g+t[5]*v+t[9]*m+t[13],e[14]=t[2]*g+t[6]*v+t[10]*m+t[14],e[15]=t[3]*g+t[7]*v+t[11]*m+t[15]):(r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=t[9],h=t[10],p=t[11],e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=s,e[5]=u,e[6]=c,e[7]=l,e[8]=f,e[9]=d,e[10]=h,e[11]=p,e[12]=r*g+s*v+f*m+t[12],e[13]=o*g+u*v+d*m+t[13],e[14]=i*g+c*v+h*m+t[14],e[15]=a*g+l*v+p*m+t[15]),e}function rt(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function ot(e,t){var n=t[0],r=t[1],o=t[2],i=t[4],a=t[5],s=t[6],u=t[8],c=t[9],l=t[10];return e[0]=Math.hypot(n,r,o),e[1]=Math.hypot(i,a,s),e[2]=Math.hypot(u,c,l),e}function it(e,t){var n=new j.WT(3);ot(n,t);var r=1/n[0],o=1/n[1],i=1/n[2],a=t[0]*r,s=t[1]*o,u=t[2]*i,c=t[4]*r,l=t[5]*o,f=t[6]*i,d=t[8]*r,h=t[9]*o,p=t[10]*i,g=a+l+p,v=0;return g>0?(v=2*Math.sqrt(g+1),e[3]=.25*v,e[0]=(f-h)/v,e[1]=(d-u)/v,e[2]=(s-c)/v):a>l&&a>p?(v=2*Math.sqrt(1+a-l-p),e[3]=(f-h)/v,e[0]=.25*v,e[1]=(s+c)/v,e[2]=(d+u)/v):l>p?(v=2*Math.sqrt(1+l-a-p),e[3]=(d-u)/v,e[0]=(s+c)/v,e[1]=.25*v,e[2]=(f+h)/v):(v=2*Math.sqrt(1+p-a-l),e[3]=(s-c)/v,e[0]=(d+u)/v,e[1]=(f+h)/v,e[2]=.25*v),e}function at(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n+n,s=r+r,u=o+o,c=n*a,l=r*a,f=r*s,d=o*a,h=o*s,p=o*u,g=i*a,v=i*s,m=i*u;return e[0]=1-f-p,e[1]=l+m,e[2]=d-v,e[3]=0,e[4]=l-m,e[5]=1-c-p,e[6]=h+g,e[7]=0,e[8]=d+v,e[9]=h-g,e[10]=1-c-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var st=function(e,t,n,r,o){var i,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=o&&o!==1/0?(i=1/(r-o),e[10]=(o+r)*i,e[14]=2*o*r*i):(e[10]=-1,e[14]=-2*r),e};var ut=function(e,t,n,r,o,i,a){var s=1/(t-n),u=1/(r-o),c=1/(i-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(o+r)*u,e[14]=(a+i)*c,e[15]=1,e};var ct,lt,ft,dt,ht,pt,gt,vt,mt,yt,bt,xt,wt,Et,_t,St,kt,Tt,Ct,Mt,Nt,At,Pt,Ot;function It(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Rt,Lt,jt,Ft,Bt,zt,Gt,Vt,Ut,Wt,Zt,Yt,Ht,Xt=(ct=(0,g.b2)(),lt=(0,g.f3)(v.MeshComponentManager),ft=(0,g.f3)(v.GeometryComponentManager),dt=(0,g.f3)(v.MaterialComponentManager),ht=(0,g.f3)(v.CullableComponentManager),pt=(0,g.f3)(v.TransformComponentManager),gt=(0,g.f3)(v.HierarchyComponentManager),vt=(0,g.f3)(v.Systems),mt=(0,g.t6)(v.FrameGraphSystem),yt=(0,g.f3)(v.RenderEngine),bt=(0,g.f3)(v.ResourcePool),ct((Ot=Pt=function(){function e(){var t=this;(0,o.Z)(this,e),r(this,"mesh",Et,this),r(this,"geometry",_t,this),r(this,"material",St,this),r(this,"cullable",kt,this),r(this,"transform",Tt,this),r(this,"hierarchy",Ct,this),r(this,"frameGraphSystem",Mt,this),r(this,"engine",Nt,this),r(this,"resourcePool",At,this),this.modelCache={},this.setup=function(e,t,n){var r=e.createRenderTarget(t,"color buffer",{width:1,height:1,usage:$.RENDER_ATTACHMENT|$.SAMPLED|$.COPY_SRC});n.data={output:t.write(e,r)}},this.execute=function(){var e=(0,c.Z)(u().mark((function e(n,r,o){var i,a,s,c,l,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.getResourceNode(r.data.output),a=t.resourcePool.getOrCreateResource(i.resource),s=It(o),e.prev=3,s.s();case 5:if((c=s.n()).done){e.next=11;break}return l=c.value,e.next=9,t.initView(l);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),s.e(e.t0);case 16:return e.prev=16,s.f(),e.finish(16);case 19:f=t.engine.getCanvas(),a.resize({width:f.width,height:f.height}),t.engine.setScissor({enable:!1}),t.engine.clear({framebuffer:a,color:o[0].getClearColor(),depth:1}),t.engine.useFramebuffer(a,(function(){var e,n=It(o);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.renderView(r)}}catch(i){n.e(i)}finally{n.f()}}));case 24:case"end":return e.stop()}}),e,null,[[3,13,16,19]])})));return function(t,n,r){return e.apply(this,arguments)}}()}return(0,i.Z)(e,[{key:"renderView",value:function(e){var t=e.getScene(),n=e.getCamera(),r=n.getViewTransform(),o=tt($e(),n.getPerspective(),r);n.getFrustum().extractFromVPMatrix(o);var i=e.getViewport(),a=i.x,s=i.y,u=i.width,c=i.height;this.engine.viewport({x:a,y:s,width:u,height:c});var l,f=It(t.getEntities());try{for(f.s();!(l=f.n()).done;){var d=l.value;this.renderMesh(d,{camera:n,view:e,viewMatrix:r})}}catch(h){f.e(h)}finally{f.f()}}},{key:"renderMesh",value:function(e,t){var n=t.camera,r=t.view,o=t.viewMatrix,i=this.mesh.getComponentByEntity(e);if(i&&i.visible){var a=i.material,s=i.geometry;if(s&&!s.dirty&&a){var u=this.transform.getComponentByEntity(e),c=tt($e(),o,u.worldTransform),l=r.getViewport(),f=l.width,d=l.height;a.setUniform({projectionMatrix:n.getPerspective(),modelViewMatrix:c,modelMatrix:u.worldTransform,viewMatrix:o,cameraPosition:n.getPosition(),u_viewport:[f,d]}),i.model&&(i.model.draw({uniforms:a.uniforms.reduce((function(e,t){return e[t.name]=t.data,e}),{})}),a.uniforms.forEach((function(e){e.dirty=!1})),a.dirty=!1)}}}},{key:"initMesh",value:function(){var e=(0,c.Z)(u().mark((function e(t,n){var r,o,i,a,s,c,l,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.mesh.getComponentByEntity(t)){e.next=3;break}return e.abrupt("return");case 3:if(o=r.material,(i=r.geometry)&&!i.dirty&&o){e.next=7;break}return e.abrupt("return");case 7:if(r.model){e.next=24;break}if(a="m-".concat(o.entity,"-g-").concat(i.entity),!this.modelCache[a]){e.next=12;break}return r.model=this.modelCache[a],e.abrupt("return");case 12:return o.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),s=this.engine,c=s.createModel,l=s.createAttribute,f={vs:o.vertexShaderGLSL,fs:o.fragmentShaderGLSL,defines:o.defines,attributes:i.attributes.reduce((function(e,t){return t.data&&t.buffer&&(e[t.name]=l({buffer:t.buffer,attributes:t.attributes,arrayStride:t.arrayStride,stepMode:t.stepMode,divisor:"vertex"===t.stepMode?0:1})),e}),{}),uniforms:o.uniforms.reduce((function(e,t){return e[t.name]=t.data,e}),{}),scissor:{enable:!0,box:function(){return n.getViewport()}}},o.cull&&(f.cull=o.cull),o.depth&&(f.depth=o.depth),o.blend&&(f.blend=o.blend),i.indicesBuffer&&(f.elements=i.indicesBuffer),i.maxInstancedCount&&(f.instances=i.maxInstancedCount,f.count=i.vertexCount||3),e.next=22,c(f);case 22:r.model=e.sent,this.modelCache[a]=r.model;case 24:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"initView",value:function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,o,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.getScene(),r=It(n.getEntities()),e.prev=2,r.s();case 4:if((o=r.n()).done){e.next=10;break}return i=o.value,e.next=8,this.initMesh(i,t);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Pt.IDENTIFIER="Render Pass",Et=a((wt=Ot).prototype,"mesh",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_t=a(wt.prototype,"geometry",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=a(wt.prototype,"material",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=a(wt.prototype,"cullable",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=a(wt.prototype,"transform",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=a(wt.prototype,"hierarchy",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=a(wt.prototype,"frameGraphSystem",[vt,mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=a(wt.prototype,"engine",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),At=a(wt.prototype,"resourcePool",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=wt))||xt);function Kt(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $t,Jt,Qt,en,tn,nn,rn,on,an,sn,un,cn,ln,fn,dn,hn,pn,gn,vn,mn,yn,bn,xn=1,wn=2,En=(Rt=(0,g.b2)(),Lt=(0,g.f3)(v.RenderEngine),jt=(0,g.f3)(v.ResourcePool),Ft=(0,g.f3)(v.RenderPassFactory),Bt=(0,g.f3)(v.MeshComponentManager),Rt((Ht=Yt=function(){function e(){var t=this;(0,o.Z)(this,e),r(this,"engine",Vt,this),r(this,"resourcePool",Ut,this),r(this,"renderPassFactory",Wt,this),r(this,"mesh",Zt,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(e,t,n){var r=e.createRenderTarget(t,"picking fbo",{width:1,height:1});n.data={output:t.write(e,r)},t.hasSideEffect=!0},this.execute=function(){var e=(0,c.Z)(u().mark((function e(n,r,o){var i,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.views=o,!t.alreadyInRendering){e.next=3;break}return e.abrupt("return");case 3:i=Kt(o);try{for(s=function(){var e=a.value,o=e.getViewport(),i=o.width,s=o.height;t.alreadyInRendering=!0;var u=n.getResourceNode(r.data.output);t.pickingFBO=t.resourcePool.getOrCreateResource(u.resource),t.pickingFBO.resize({width:i,height:s}),t.engine.useFramebuffer(t.pickingFBO,(function(){t.engine.clear({framebuffer:t.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var n,r=t.renderPassFactory(Xt.IDENTIFIER),o=[],i=Kt(e.getScene().getEntities());try{for(i.s();!(n=i.n()).done;){var a=n.value,s=t.mesh.getComponentByEntity(a);s.material.setUniform("u_PickingStage",xn),o.push(s)}}catch(u){i.e(u)}finally{i.f()}r.renderView(e),o.forEach((function(e){e.material.setUniform("u_PickingStage",wn)})),t.alreadyInRendering=!1}))},i.s();!(a=i.n()).done;)s()}catch(u){i.e(u)}finally{i.f()}case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),this.pick=function(e,n){var r,o,i=e.x,a=e.y,s=t.engine,u=s.readPixels,c=s.useFramebuffer,l=n.getViewport(),f=l.width,d=l.height,h=i*window.devicePixelRatio,g=a*window.devicePixelRatio;if(!(h>f||h<0||g>d||g<0))return c(t.pickingFBO,(function(){0===(r=u({x:Math.round(h),y:Math.round(d-(a+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(4),framebuffer:t.pickingFBO}))[0]&&0===r[1]&&0===r[2]||(o=function(e){var t=(0,p.Z)(e,3);return t[0]+256*t[1]+65536*t[2]-1}(r),t.highlightEnabled&&t.highlightPickedFeature(r,n))})),o}}return(0,i.Z)(e,[{key:"enableHighlight",value:function(e){this.highlightEnabled=e}},{key:"setHighlightColor",value:function(e){this.highlightColor=e}},{key:"highlightPickedFeature",value:function(e,t){if(e){var n,r=Kt(t.getScene().getEntities());try{for(r.s();!(n=r.n()).done;){var o=n.value,i=this.mesh.getComponentByEntity(o).material;i.setUniform("u_PickingStage",wn),i.setUniform("u_PickingColor",[e[0],e[1],e[2]]),i.setUniform("u_HighlightColor",this.highlightColor)}}catch(a){r.e(a)}finally{r.f()}}}}]),e}(),Yt.IDENTIFIER="PixelPicking Pass",Vt=a((Gt=Ht).prototype,"engine",[Lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ut=a(Gt.prototype,"resourcePool",[jt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wt=a(Gt.prototype,"renderPassFactory",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zt=a(Gt.prototype,"mesh",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zt=Gt))||zt),_n=($t=(0,g.b2)(),Jt=(0,g.f3)(v.RenderEngine),Qt=(0,g.f3)(v.ResourcePool),$t((an=on=function e(){var t=this;(0,o.Z)(this,e),r(this,"engine",nn,this),r(this,"resourcePool",rn,this),this.model=void 0,this.setup=function(e,t,n){var r=e.getPass(Xt.IDENTIFIER);if(r){var o=e.createRenderTarget(t,"render to screen",{width:1,height:1});n.data={input:t.read(r.data.output),output:t.write(e,o)}}},this.execute=function(){var e=(0,c.Z)(u().mark((function e(n,r){var o,i,a,s,c,l,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.engine,i=o.createModel,a=o.createAttribute,s=o.createBuffer,t.model){e.next=6;break}return e.next=4,i({vs:t.engine.supportWebGPU?"layout(location = 0) in vec2 a_Position;\nlayout(location = 0) out vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}":"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:t.engine.supportWebGPU?"layout(set = 0, binding = 0) uniform sampler u_TextureSampler;\nlayout(set = 0, binding = 1) uniform texture2D u_Texture;\n\nlayout(location = 0) in vec2 v_UV;\nlayout(location = 0) out vec4 outColor;\n\nvoid main() {\n  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);\n}":"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}",attributes:{a_Position:a({buffer:s({data:[-4,-4,4,-4,0,4],type:$.FLOAT}),size:2,arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:c=e.sent,t.model=c;case 6:l=n.getResourceNode(r.data.input),f=t.resourcePool.getOrCreateResource(l.resource),t.engine.useFramebuffer(null,(function(){t.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),t.model.draw({uniforms:{u_Texture:f}})}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.tearDown=function(){t.model=void 0}},on.IDENTIFIER="Copy Pass",nn=a((tn=an).prototype,"engine",[Jt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rn=a(tn.prototype,"resourcePool",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),en=tn))||en),Sn=(sn=(0,g.b2)(),un=(0,g.f3)(v.Systems),cn=(0,g.t6)(v.FrameGraphSystem),ln=(0,g.f3)(v.RenderPassFactory),fn=(0,g.f3)(v.ConfigService),dn=(0,g.f3)(v.ResourcePool),sn((bn=function(){function e(){(0,o.Z)(this,e),r(this,"frameGraphSystem",gn,this),r(this,"renderPassFactory",vn,this),r(this,"configService",mn,this),r(this,"resourcePool",yn,this)}return(0,i.Z)(e,[{key:"execute",value:function(){var e=(0,c.Z)(u().mark((function e(t){var n,r,o,i,a,s,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.renderPassFactory(Xt.IDENTIFIER),r=n.setup,o=n.execute,this.frameGraphSystem.addPass(Xt.IDENTIFIER,r,o),i=this.renderPassFactory(_n.IDENTIFIER),a=i.setup,s=i.execute,c=i.tearDown,l=this.frameGraphSystem.addPass(_n.IDENTIFIER,a,s,c),this.frameGraphSystem.present(l.data.output);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(e,t){return this.renderPassFactory(En.IDENTIFIER).pick(e,t)}}]),e}(),gn=a((pn=bn).prototype,"frameGraphSystem",[un,cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vn=a(pn.prototype,"renderPassFactory",[ln],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mn=a(pn.prototype,"configService",[fn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yn=a(pn.prototype,"resourcePool",[dn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hn=pn))||hn);function kn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var o=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Tn,Cn,Mn,Nn,An,Pn,On,In,Dn,Rn,Ln=function(e){(0,x.Z)(n,e);var t=kn(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).parentID=void 0,Object.assign((0,L.Z)(r),e),r}return n}(d),jn=(Tn=(0,g.b2)(),Cn=(0,g.f3)(v.HierarchyComponentManager),Mn=(0,g.f3)(v.TransformComponentManager),Nn=(0,g.f3)(v.MeshComponentManager),Tn((Rn=function(){function e(){(0,o.Z)(this,e),r(this,"hierarchy",On,this),r(this,"transform",In,this),r(this,"mesh",Dn,this)}return(0,i.Z)(e,[{key:"execute",value:function(){var e=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var e=this;this.transform.forEach((function(t,n){(n.isDirty()||n.isLocalDirty())&&(e.setMeshAABBDirty(e.mesh.getComponentByEntity(t)),n.updateTransform())}))}},{key:"runHierarchyUpdateSystem",value:function(){var e=this;this.hierarchy.forEach((function(t,n){var r=e.transform.getComponentByEntity(t),o=e.transform.getComponentByEntity(n.parentID);null!==r&&null!==o&&r.updateTransformWithParent(o)}))}},{key:"attach",value:function(e,t,n){this.hierarchy.contains(e)&&this.detach(e),this.hierarchy.create(e,{parentID:t});var r=this.mesh.getComponentByEntity(t);if(this.setMeshAABBDirty(r),r&&-1===r.children.indexOf(e)&&r.children.push(e),this.hierarchy.getCount()>1)for(var o=this.hierarchy.getCount()-1;o>0;--o)for(var i=this.hierarchy.getEntity(o),a=0;a<o;++a){if(this.hierarchy.getComponent(a).parentID===i){this.hierarchy.moveItem(o,a),++o;break}}this.hierarchy.getComponentByEntity(e);var s=this.transform.getComponentByEntity(t);null===s&&(s=this.transform.create(t));var u=this.transform.getComponentByEntity(e);null===u&&(u=this.transform.create(e),s=this.transform.getComponentByEntity(t)),u.parent=s,!n&&s&&(u.matrixTransform(et($e(),s.worldTransform)),u.updateTransform()),s&&u.updateTransformWithParent(s)}},{key:"detach",value:function(e){var t=this.hierarchy.getComponentByEntity(e);if(null!==t){var n=this.transform.getComponentByEntity(e);null!==n&&(n.parent=null,n.applyTransform()),this.hierarchy.removeKeepSorted(e);var r=this.mesh.getComponentByEntity(t.parentID);if(r){var o=r.children.indexOf(e);r.children.splice(o,1)}this.setMeshAABBDirty(r)}}},{key:"detachChildren",value:function(e){var t=this.mesh.getComponentByEntity(e);t&&(t.children=[]);for(var n=0;n<this.hierarchy.getCount();){var r;if((null===(r=this.hierarchy.getComponent(n))||void 0===r?void 0:r.parentID)===e){var o=this.hierarchy.getEntity(n);this.detach(o)}else++n}}},{key:"setMeshAABBDirty",value:function(e){e&&(e.aabbDirty=!0)}}]),e}(),On=a((Pn=Rn).prototype,"hierarchy",[Cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),In=a(Pn.prototype,"transform",[Mn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dn=a(Pn.prototype,"mesh",[Nn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),An=Pn))||An);function Fn(){var e=new j.WT(4);return j.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Bn(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function zn(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=n[0],u=n[1],c=n[2],l=n[3];return e[0]=r*l+a*s+o*c-i*u,e[1]=o*l+a*u+i*s-r*c,e[2]=i*l+a*c+r*u-o*s,e[3]=a*l-r*s-o*u-i*c,e}function Gn(e,t,n,r){var o,i,a,s,u,c=t[0],l=t[1],f=t[2],d=t[3],h=n[0],p=n[1],g=n[2],v=n[3];return(i=c*h+l*p+f*g+d*v)<0&&(i=-i,h=-h,p=-p,g=-g,v=-v),1-i>j.Ib?(o=Math.acos(i),a=Math.sin(o),s=Math.sin((1-r)*o)/a,u=Math.sin(r*o)/a):(s=1-r,u=r),e[0]=s*c+u*h,e[1]=s*l+u*p,e[2]=s*f+u*g,e[3]=s*d+u*v,e}function Vn(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n*n+r*r+o*o+i*i,s=a?1/a:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-o*s,e[3]=i*s,e}function Un(e,t,n,r){var o=.5*Math.PI/180;t*=o,n*=o,r*=o;var i=Math.sin(t),a=Math.cos(t),s=Math.sin(n),u=Math.cos(n),c=Math.sin(r),l=Math.cos(r);return e[0]=i*u*l-a*s*c,e[1]=a*s*l+i*u*c,e[2]=a*u*c-i*s*l,e[3]=a*u*l+i*s*c,e}var Wn=B,Zn=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},Yn=zn,Hn=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n*n+r*r+o*o+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=r*a,e[2]=o*a,e[3]=i*a,e};(function(){var e=V.Ue(),t=V.al(1,0,0),n=V.al(0,1,0)})(),function(){var e=Fn(),t=Fn()}(),function(){var e=G.create()}();function Xn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var o=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Kn=function(e){(0,x.Z)(n,e);var t=Xn(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).dirtyFlag=void 0,r.localDirtyFlag=void 0,r.parent=null,r.localPosition=V.al(0,0,0),r.localRotation=Wn(0,0,0,1),r.localScale=V.al(1,1,1),r.localTransform=$e(),r.position=V.al(0,0,0),r.rotation=Wn(0,0,0,1),r.scaling=V.al(1,1,1),r.worldTransform=$e(),r.matrixTransform=function(){var e=$e();return function(t){tt(e,r.getLocalTransform(),t),ot(r.localScale,e),rt(r.localPosition,e),it(r.localRotation,e)}}(),r.rotateRollPitchYaw=function(){var e=Fn(),t=Fn(),n=Fn();return function(o,i,a){r.setDirty(),Un(e,o,0,0),Un(t,0,i,0),Un(n,0,0,a),zn(r.localRotation,e,r.localRotation),zn(r.localRotation,r.localRotation,t),zn(r.localRotation,n,r.localRotation),Hn(r.localRotation,r.localRotation)}}(),r.lerp=function(){var e=V.Ue(),t=Fn(),n=V.Ue(),o=V.Ue(),i=Fn(),a=V.Ue();return function(s,u,c){r.setDirty(),ot(e,s.worldTransform),rt(n,s.worldTransform),it(t,s.worldTransform),ot(o,u.worldTransform),rt(a,u.worldTransform),it(i,u.worldTransform),V.t7(r.localScale,e,o,c),Gn(r.localRotation,t,i,c),V.t7(r.localPosition,n,a,c)}}(),r.translate=function(){var e=V.Ue();return function(t){return V.IH(e,r.getPosition(),t),r.setPosition(e),r.setDirty(!0),(0,L.Z)(r)}}(),r.translateLocal=function(e){return V.VC(e,e,r.localRotation),V.IH(r.localPosition,r.localPosition,e),r.setLocalDirty(!0),(0,L.Z)(r)},r.setPosition=function(){var e=$e();return function(t){return r.position=t,r.setLocalDirty(!0),null===r.parent?V.JG(r.localPosition,t):(Je(e,r.parent.worldTransform),et(e,e),V.fF(r.localPosition,t,e)),(0,L.Z)(r)}}(),r.rotate=function(){var e=Fn();return function(t){if(null===r.parent)zn(r.localRotation,r.localRotation,t),Hn(r.localRotation,r.localRotation);else{var n=r.getRotation(),o=r.parent.getRotation();Zn(e,o),Vn(e,e),zn(e,e,t),zn(r.localRotation,t,n),Hn(r.localRotation,r.localRotation)}return r.setLocalDirty(),(0,L.Z)(r)}}(),r.rotateLocal=function(e){return zn(r.localRotation,r.localRotation,e),Hn(r.localRotation,r.localRotation),r.setLocalDirty(!0),(0,L.Z)(r)},r.setRotation=function(){var e=Fn();return function(t){return null===r.parent?Zn(r.localRotation,t):(Zn(e,r.parent.getRotation()),Vn(e,e),Zn(r.localRotation,e),Yn(r.localRotation,r.localRotation,t)),r.setLocalDirty(!0),(0,L.Z)(r)}}(),r}return(0,i.Z)(n,[{key:"setLocalPosition",value:function(e){V.JG(this.localPosition,e),this.setLocalDirty(!0)}},{key:"setLocalScale",value:function(e){V.JG(this.localScale,e),this.setLocalDirty(!0)}},{key:"setLocalRotation",value:function(e){return Zn(this.localRotation,e),this.setLocalDirty(!0),this}},{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?this.dirtyFlag|=n.DIRTY:this.dirtyFlag&=~n.DIRTY}},{key:"isLocalDirty",value:function(){return this.localDirtyFlag}},{key:"setLocalDirty",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?(this.localDirtyFlag|=n.DIRTY,this.setDirty(!0)):this.localDirtyFlag&=~n.DIRTY}},{key:"updateTransform",value:function(){this.isLocalDirty()&&this.getLocalTransform(),this.isDirty()&&null===this.parent&&(Je(this.worldTransform,this.getLocalTransform()),this.setDirty(!1))}},{key:"updateTransformWithParent",value:function(e){tt(this.worldTransform,e.worldTransform,this.getLocalTransform())}},{key:"applyTransform",value:function(){this.setDirty(),ot(this.localScale,this.worldTransform),rt(this.localPosition,this.worldTransform),it(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localPosition=V.al(0,0,0),this.localRotation=Wn(0,0,0,1),this.localScale=V.al(1,1,1)}},{key:"scaleLocal",value:function(e){return this.setLocalDirty(),V.Jp(this.localScale,this.localScale,e),this}},{key:"getLocalPosition",value:function(){return this.localPosition}},{key:"getLocalRotation",value:function(){return this.localRotation}},{key:"getLocalScale",value:function(){return this.localScale}},{key:"getLocalTransform",value:function(){return this.localDirtyFlag&&(!function(e,t,n,r){var o=t[0],i=t[1],a=t[2],s=t[3],u=o+o,c=i+i,l=a+a,f=o*u,d=o*c,h=o*l,p=i*c,g=i*l,v=a*l,m=s*u,y=s*c,b=s*l,x=r[0],w=r[1],E=r[2];e[0]=(1-(p+v))*x,e[1]=(d+b)*x,e[2]=(h-y)*x,e[3]=0,e[4]=(d-b)*w,e[5]=(1-(f+v))*w,e[6]=(g+m)*w,e[7]=0,e[8]=(h+y)*E,e[9]=(g-m)*E,e[10]=(1-(f+p))*E,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1}(this.localTransform,this.localRotation,this.localPosition,this.localScale),this.setLocalDirty(!1)),this.localTransform}},{key:"getWorldTransform",value:function(){return this.isLocalDirty()||this.isDirty()?(this.parent&&this.parent.getWorldTransform(),this.updateTransform(),this.worldTransform):this.worldTransform}},{key:"getPosition",value:function(){return rt(this.position,this.worldTransform),this.position}},{key:"getRotation",value:function(){return it(this.rotation,this.worldTransform),this.rotation}},{key:"getScale",value:function(){return ot(this.scaling,this.worldTransform),this.scaling}}]),n}(d);Kn.DIRTY=1;var qn,$n,Jn,Qn,er,tr,nr=n(5696),rr=(qn=(0,g.b2)(),$n=(0,g.f3)(v.RenderEngine),qn((tr=function(){function e(){(0,o.Z)(this,e),r(this,"engine",er,this),this.resourcePool={}}return(0,i.Z)(e,[{key:"getOrCreateResource",value:function(e){if(!this.resourcePool[e.name]){var t=e.descriptor,n=t.width,r=t.height,o=t.usage;this.resourcePool[e.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:n,height:r,wrapS:$.CLAMP_TO_EDGE,wrapT:$.CLAMP_TO_EDGE,usage:o})})}return this.resourcePool[e.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),e}(),er=a((Qn=tr).prototype,"engine",[$n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jn=Qn))||Jn);function or(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var o=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var ir,ar,sr,ur,cr=function(e){(0,x.Z)(n,e);var t=or(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).name=void 0,r.name=e.name||"",r}return n}(d),lr=(0,g.b2)()((ar=function(){function e(){(0,o.Z)(this,e),this.config=void 0}return(0,i.Z)(e,[{key:"get",value:function(){return this.config}},{key:"set",value:function(e){this.config=e}}]),e}(),ir=ar))||ir;!function(e){e.PANSTART="PANSTART",e.PANEND="PANEND",e.PANMOVE="PANMOVE",e.PINCH="PINCH",e.KEYDOWN="KEYDOWN",e.KEYUP="KEYUP",e.HOVER="HOVER"}(ur||(ur={}));var fr=(0,g.b2)()(sr=function(){function e(){(0,o.Z)(this,e)}return(0,i.Z)(e,[{key:"listen",value:function(e){}},{key:"on",value:function(e,t){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),e}())||sr;var dr,hr,pr=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function gr(e){var t={};return{content:e=e.replace(pr,(function(e,n,r){var o=r.split(":"),i=o[0].trim(),a="";switch(o.length>1&&(a=o[1].trim()),n){case"bool":a="true"===a;break;case"float":case"int":a=Number(a);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":a=a?a.replace("[","").replace("]","").split(",").reduce((function(e,t){return e.push(Number(t.trim())),e}),[]):new Array(function(e){var t=0;switch(e){case"vec2":case"ivec2":t=2;break;case"vec3":case"ivec3":t=3;break;case"vec4":case"ivec4":case"mat2":t=4;break;case"mat3":t=9;break;case"mat4":t=16}return t}(n)).fill(0)}return t[i]=a,"uniform ".concat(n," ").concat(i,";\n")})),uniforms:t}}function vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yr=/precision\s+(high|low|medium)p\s+float/,br=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,xr=(0,g.b2)()((hr=function(){function e(){(0,o.Z)(this,e),this.moduleCache={},this.rawContentCache={}}return(0,i.Z)(e,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:"attribute vec3 a_PickingColor;\nvarying vec4 v_PickingResult;\n\nuniform vec3 u_PickingColor : [0, 0, 0];\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\nuniform float u_PickingThreshold : 1.0;\nuniform float u_PickingBuffer: 0.0;\n\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&\n    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&\n    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;\n}\n\nvoid setPickingColor(vec3 pickingColor) {\n  // compares only in highlight stage\n  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));\n\n  // Stores the picking color so that the fragment shader can render it during picking\n  v_PickingResult.rgb = pickingColor * COLOR_SCALE;\n}\n\nfloat setPickingSize(float x) {\n   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;\n}",fs:"varying vec4 v_PickingResult;\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\n\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 filterHighlightColor(vec4 color) {\n  bool selected = bool(v_PickingResult.a);\n\n  if (selected) {\n    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;\n\n    float highLightAlpha = highLightColor.a;\n    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));\n\n    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\n    return vec4(resultRGB, color.a);\n  } else {\n    return color;\n  }\n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 filterPickingColor(vec4 color) {\n  vec3 pickingColor = v_PickingResult.rgb;\n  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {\n    discard;\n  }\n  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;\n}\n\n/*\n * Returns picking color if picking is enabled if not\n * highlight color if this item is selected, otherwise unmodified argument.\n */\nvec4 filterColor(vec4 color) {\n  return filterPickingColor(filterHighlightColor(color));\n}\n"}),this.registerModule("sdf2d",{vs:"",fs:"/**\n * 2D signed distance field functions\n * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm\n */\n\nfloat ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }\n\nfloat sdCircle(vec2 p, float r) {\n  return length(p) - r;\n}\n\nfloat sdEquilateralTriangle(vec2 p) {\n  float k = sqrt(3.0);\n  p.x = abs(p.x) - 1.0;\n  p.y = p.y + 1.0/k;\n  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\n  p.x -= clamp( p.x, -2.0, 0.0 );\n  return -length(p)*sign(p.y);\n}\n\nfloat sdBox(vec2 p, vec2 b) {\n  vec2 d = abs(p)-b;\n  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);\n}\n\nfloat sdPentagon(vec2 p, float r) {\n  vec3 k = vec3(0.809016994,0.587785252,0.726542528);\n  p.x = abs(p.x);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagon(vec2 p, float r) {\n  vec3 k = vec3(-0.866025404,0.5,0.577350269);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdOctogon(vec2 p, float r) {\n  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );\n  p = abs(p);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagram(vec2 p, float r) {\n  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;\n  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdRhombus(vec2 p, vec2 b) {\n  vec2 q = abs(p);\n  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);\n  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );\n  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );\n}\n\nfloat sdVesica(vec2 p, float r, float d) {\n  p = abs(p);\n  float b = sqrt(r*r-d*d); // can delay this sqrt\n  return ((p.y-b)*d>p.x*b)\n          ? length(p-vec2(0.0,b))\n          : length(p-vec2(-d,0.0))-r;\n}"})}},{key:"registerModule",value:function(e,t){if(!this.rawContentCache[e]){var n=t.vs,r=void 0===n?"":n,o=t.fs,i=void 0===o?"":o,a=t.uniforms,s=gr(r),u=s.content,c=s.uniforms,l=gr(i),f=l.content,d=l.uniforms;this.rawContentCache[e]={fs:f,uniforms:mr(mr(mr({},c),d),a),vs:u}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(e){var t=this;if(this.moduleCache[e])return this.moduleCache[e];var n,r=this.rawContentCache[e].vs||"",o=this.rawContentCache[e].fs||"",i=this.processModule(r,[],"vs"),a=i.content,s=i.includeList,u=this.processModule(o,[],"fs"),c=u.content,l=u.includeList,f=c,d=(n=s.concat(l).concat(e),n.filter((function(e,t,n){return n.indexOf(e)===t}))).reduce((function(e,n){return mr(mr({},e),t.rawContentCache[n].uniforms)}),{});return yr.test(c)||(f="#ifdef GL_FRAGMENT_PRECISION_HIGH\n precision highp float;\n #else\n precision mediump float;\n#endif\n"+c),this.moduleCache[e]={fs:f.trim(),uniforms:d,vs:a.trim()},this.moduleCache[e]}},{key:"processModule",value:function(e,t,n){var r=this;return{content:e.replace(br,(function(e,o){var i=o.split(" ")[0].replace(/"/g,"");if(t.indexOf(i)>-1)return"";var a=r.rawContentCache[i][n];return t.push(i),r.processModule(a||"",t,n).content})),includeList:t}}}]),e}(),dr=hr))||dr,wr=new g.W2;(0,nr.Z)(wr,!1);function Er(){var e=new g.W2;return e.parent=wr,e.bind(v.Systems).to(jn).inSingletonScope().whenTargetNamed(v.SceneGraphSystem),e.bind(v.Systems).to(D).inSingletonScope().whenTargetNamed(v.FrameGraphSystem),e.bind(v.Systems).to(qe).inSingletonScope().whenTargetNamed(v.MeshSystem),e.bind(v.Systems).to(se).inSingletonScope().whenTargetNamed(v.GeometrySystem),e.bind(v.Systems).to(ke).inSingletonScope().whenTargetNamed(v.MaterialSystem),e.bind(v.Systems).to(Sn).inSingletonScope().whenTargetNamed(v.RendererSystem),e.bind(v.ResourcePool).to(rr).inSingletonScope(),e.bind(v.ConfigService).to(lr).inSingletonScope(),e.bind(v.InteractorService).to(fr).inSingletonScope(),e.bind(v.RenderPass).to(Xt).inSingletonScope().whenTargetNamed(Xt.IDENTIFIER),e.bind(v.RenderPass).to(_n).inSingletonScope().whenTargetNamed(_n.IDENTIFIER),e.bind(v.RenderPass).to(En).inSingletonScope().whenTargetNamed(En.IDENTIFIER),e.bind(v.RenderPassFactory).toFactory((function(e){return function(t){return e.container.getNamed(v.RenderPass,t)}})),e}function _r(e){for(var t=new Me,n=V.al(e[0],e[1],e[2]),r=V.al(e[0],e[1],e[2]),o=3;o<e.length;){var i=e[o++],a=e[o++],s=e[o++];i<n[0]&&(n[0]=i),a<n[1]&&(n[1]=a),s<n[2]&&(n[2]=s),i>r[0]&&(r[0]=i),a>r[1]&&(r[1]=a),s>r[2]&&(r[2]=s)}return t.setMinMax(n,r),t}wr.bind(v.ShaderModuleService).to(xr).inSingletonScope(),wr.bind(v.NameComponentManager).toConstantValue(new h(cr)),wr.bind(v.HierarchyComponentManager).toConstantValue(new h(Ln)),wr.bind(v.TransformComponentManager).toConstantValue(new h(Kn)),wr.bind(v.MeshComponentManager).toConstantValue(new h(Pe)),wr.bind(v.CullableComponentManager).toConstantValue(new h(Ce)),wr.bind(v.GeometryComponentManager).toConstantValue(new h(ae)),wr.bind(v.MaterialComponentManager).toConstantValue(new h(we));var Sr,kr="undefined"!==typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);V.Ue(),V.Ue(),V.Ue(),V.Ue(),V.Ue(),V.Ue(),n(736),n(4566),n(8783),n(2332),n(1326),n(1101);!function(e){e.Normal="normal",e.PostProcessing="post-processing"}(Sr||(Sr={}));var Tr,Cr,Mr,Nr;n(9),n(2929),n(5760),n(678),n(3543),n(9102);!function(e){e.Void="Void",e.Boolean="Boolean",e.Float="Float",e.Uint32="Uint32",e.Int32="Int32",e.Vector="Vector",e.Vector2Float="vec2<f32>",e.Vector3Float="vec3<f32>",e.Vector4Float="vec4<f32>",e.Vector2Boolean="vec2<bool>",e.Vector3Boolean="vec3<bool>",e.Vector4Boolean="vec4<bool>",e.Vector2Uint="vec2<u32>",e.Vector3Uint="vec3<u32>",e.Vector4Uint="vec4<u32>",e.Vector2Int="vec2<i32>",e.Vector3Int="vec3<i32>",e.Vector4Int="vec4<i32>",e.Matrix="Matrix",e.Matrix3x3Float="mat3x3<f32>",e.Matrix4x4Float="mat4x4<i32>",e.Struct="Struct",e.FloatArray="Float[]",e.Vector4FloatArray="vec4<f32>[]"}(Tr||(Tr={})),function(e){e.Program="Program",e.Identifier="Identifier",e.VariableDeclaration="VariableDeclaration",e.BlockStatement="BlockStatement",e.ReturnStatement="ReturnStatement",e.FunctionDeclaration="FunctionDeclaration",e.VariableDeclarator="VariableDeclarator",e.AssignmentExpression="AssignmentExpression",e.LogicalExpression="LogicalExpression",e.BinaryExpression="BinaryExpression",e.ArrayExpression="ArrayExpression",e.UnaryExpression="UnaryExpression",e.UpdateExpression="UpdateExpression",e.FunctionExpression="FunctionExpression",e.MemberExpression="MemberExpression",e.ConditionalExpression="ConditionalExpression",e.ExpressionStatement="ExpressionStatement",e.CallExpression="CallExpression",e.NumThreadStatement="NumThreadStatement",e.StorageStatement="StorageStatement",e.DoWhileStatement="DoWhileStatement",e.WhileStatement="WhileStatement",e.ForStatement="ForStatement",e.BreakStatement="BreakStatement",e.ContinueStatement="ContinueStatement",e.IfStatement="IfStatement",e.ImportedFunctionStatement="ImportedFunctionStatement"}(Cr||(Cr={})),function(e){e.Input="Input",e.Output="Output",e.Uniform="Uniform",e.Workgroup="Workgroup",e.UniformConstant="UniformConstant",e.Image="Image",e.StorageBuffer="StorageBuffer",e.Private="Private",e.Function="Function"}(Mr||(Mr={})),function(e){e.GLSL100="GLSL100",e.GLSL450="GLSL450",e.WGSL="WGSL"}(Nr||(Nr={}));function Ar(e){return"number"===typeof e}function Pr(e){return void 0===e?0:e>360||e<-360?e%360:e}function Or(e,t,n){return Ar(e)?V.al(e,t,n):3===e.length?V.d9(e):V.al(e[0],e[1],e[2])}var Ir,Dr,Rr,Lr,jr,Fr,Br,zr,Gr,Vr,Ur=function(){function e(t,n){(0,o.Z)(this,e),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=t,this.matrix=function(e){var t=new j.WT(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}(n.matrix),this.right=V.d9(n.right),this.up=V.d9(n.up),this.forward=V.d9(n.forward),this.position=V.d9(n.position),this.focalPoint=V.d9(n.focalPoint),this.distanceVector=V.d9(n.distanceVector),this.azimuth=n.azimuth,this.elevation=n.elevation,this.roll=n.roll,this.relAzimuth=n.relAzimuth,this.relElevation=n.relElevation,this.relRoll=n.relRoll,this.dollyingStep=n.dollyingStep,this.distance=n.distance}return(0,i.Z)(e,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(e){e.matrix=Je(e.matrix,this.matrix),e.right=V.JG(e.right,this.right),e.up=V.JG(e.up,this.up),e.forward=V.JG(e.forward,this.forward),e.position=V.JG(e.position,this.position),e.focalPoint=V.JG(e.focalPoint,this.focalPoint),e.distanceVector=V.JG(e.distanceVector,this.distanceVector),e.azimuth=this.azimuth,e.elevation=this.elevation,e.roll=this.roll,e.relAzimuth=this.relAzimuth,e.relElevation=this.relElevation,e.relRoll=this.relRoll,e.dollyingStep=this.dollyingStep,e.distance=this.distance}}]),e}();!function(e){e.ORBITING="ORBITING",e.EXPLORING="EXPLORING",e.TRACKING="TRACKING"}(zr||(zr={})),function(e){e.DEFAULT="DEFAULT",e.ROTATIONAL="ROTATIONAL",e.TRANSLATIONAL="TRANSLATIONAL",e.CINEMATIC="CINEMATIC"}(Gr||(Gr={})),function(e){e.ORTHOGRAPHIC="ORTHOGRAPHIC",e.PERSPECTIVE="PERSPECTIVE"}(Vr||(Vr={}));var Wr,Zr,Yr,Hr,Xr,Kr,qr,$r=Math.PI/180,Jr=180/Math.PI,Qr=(Ir=(0,g.b2)(),Dr=(0,g.f3)(v.InteractorService),Ir((Br=Fr=function(){function e(){(0,o.Z)(this,e),this.matrix=$e(),this.right=V.al(1,0,0),this.up=V.al(0,1,0),this.forward=V.al(0,0,1),this.position=V.al(0,0,1),this.focalPoint=V.al(0,0,0),this.distanceVector=V.al(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.rotateWorld=!1,r(this,"interactor",jr,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=$e(),this.view=void 0,this.following=void 0,this.type=zr.EXPLORING,this.trackingMode=Gr.DEFAULT,this.projectionMode=Vr.PERSPECTIVE,this.frustum=new He,this.landmarks=[],this.landmarkAnimationID=void 0}return(0,i.Z)(e,[{key:"clone",value:function(){var t=new e;return t.setType(this.type,void 0),t.interactor=this.interactor,t}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(e,t){return this.type=e,this.type===zr.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===zr.TRACKING&&void 0!==t&&this.setTrackingMode(t),this}},{key:"setProjectionMode",value:function(e){return this.projectionMode=e,this}},{key:"setTrackingMode",value:function(e){if(this.type!==zr.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=e,this}},{key:"setWorldRotation",value:function(e){this.rotateWorld=e,this._getAngles()}},{key:"getViewTransform",value:function(){return et($e(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"setMatrix",value:function(e){return this.matrix=e,this._update(),this}},{key:"setAspect",value:function(e){return this.setPerspective(this.near,this.far,this.fov,e),this}},{key:"setViewOffset",value:function(e,t,n,r,o,i){return this.aspect=e/t,void 0===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=i,this.projectionMode===Vr.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return void 0!==this.view&&(this.view.enabled=!1),this.projectionMode===Vr.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(e,t,n,r){return this.projectionMode=Vr.PERSPECTIVE,this.fov=n,this.near=e,this.far=t,this.aspect=r,st(this.perspective,this.fov*$r,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(e,t,n,r,o,i){this.projectionMode=Vr.ORTHOGRAPHIC,this.rright=t,this.left=e,this.top=n,this.bottom=r,this.near=o,this.far=i;var a=(this.rright-this.left)/(2*this.zoom),s=(this.top-this.bottom)/(2*this.zoom),u=(this.rright+this.left)/2,c=(this.top+this.bottom)/2,l=u-a,f=u+a,d=c+s,h=c-s;if(void 0!==this.view&&this.view.enabled){var p=(this.rright-this.left)/this.view.fullWidth/this.zoom,g=(this.top-this.bottom)/this.view.fullHeight/this.zoom;f=(l+=p*this.view.offsetX)+p*this.view.width,h=(d-=g*this.view.offsetY)-g*this.view.height}return ut(this.perspective,l,f,d,h,o,i),this}},{key:"setPosition",value:function(e,t,n){return this._setPosition(e,t,n),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(e,t,n){var r=V.al(0,1,0);if(this.focalPoint=Or(e,t,n),this.trackingMode===Gr.CINEMATIC){var o=V.$X(V.Ue(),this.focalPoint,this.position);e=o[0],t=o[1],n=o[2];var i=V.kE(o),a=Math.asin(t/i)*Jr,s=90+Math.atan2(n,e)*Jr,u=$e();!function(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[0],a=t[1],s=t[2],u=t[3],c=t[8],l=t[9],f=t[10],d=t[11];t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*o-c*r,e[1]=a*o-l*r,e[2]=s*o-f*r,e[3]=u*o-d*r,e[8]=i*r+c*o,e[9]=a*r+l*o,e[10]=s*r+f*o,e[11]=u*r+d*o}(u,u,s*$r),function(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[4],a=t[5],s=t[6],u=t[7],c=t[8],l=t[9],f=t[10],d=t[11];t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*o+c*r,e[5]=a*o+l*r,e[6]=s*o+f*r,e[7]=u*o+d*r,e[8]=c*o-i*r,e[9]=l*o-a*r,e[10]=f*o-s*r,e[11]=d*o-u*r}(u,u,a*$r),r=V.fF(V.Ue(),[0,1,0],u)}return et(this.matrix,function(e,t,n,r){var o,i,a,s,u,c,l,f,d,h,p=t[0],g=t[1],v=t[2],m=r[0],y=r[1],b=r[2],x=n[0],w=n[1],E=n[2];return Math.abs(p-x)<j.Ib&&Math.abs(g-w)<j.Ib&&Math.abs(v-E)<j.Ib?Qe(e):(l=p-x,f=g-w,d=v-E,o=y*(d*=h=1/Math.hypot(l,f,d))-b*(f*=h),i=b*(l*=h)-m*d,a=m*f-y*l,(h=Math.hypot(o,i,a))?(o*=h=1/h,i*=h,a*=h):(o=0,i=0,a=0),s=f*a-d*i,u=d*o-l*a,c=l*i-f*o,(h=Math.hypot(s,u,c))?(s*=h=1/h,u*=h,c*=h):(s=0,u=0,c=0),e[0]=o,e[1]=s,e[2]=l,e[3]=0,e[4]=i,e[5]=u,e[6]=f,e[7]=0,e[8]=a,e[9]=c,e[10]=d,e[11]=0,e[12]=-(o*p+i*g+a*v),e[13]=-(s*p+u*g+c*v),e[14]=-(l*p+f*g+d*v),e[15]=1,e)}($e(),this.position,this.focalPoint,r)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(e){if(!(this.distance===e||e<0)){this.distance=e,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var t=V.Ue();e=this.distance;var n=this.forward,r=this.focalPoint;return t[0]=e*n[0]+r[0],t[1]=e*n[1]+r[1],t[2]=e*n[2]+r[2],this._setPosition(t),this}}},{key:"setMaxDistance",value:function(e){return this.maxDistance=e,this}},{key:"setMinDistance",value:function(e){return this.minDistance=e,this}},{key:"changeAzimuth",value:function(e){return this.setAzimuth(this.azimuth+e),this}},{key:"changeElevation",value:function(e){return this.setElevation(this.elevation+e),this}},{key:"changeRoll",value:function(e){return this.setRoll(this.roll+e),this}},{key:"setAzimuth",value:function(e){return this.azimuth=Pr(e),this.computeMatrix(),this._getAxes(),this.type===zr.ORBITING||this.type===zr.EXPLORING?this._getPosition():this.type===zr.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(e){return this.elevation=Pr(e),this.computeMatrix(),this._getAxes(),this.type===zr.ORBITING||this.type===zr.EXPLORING?this._getPosition():this.type===zr.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(e){return this.roll=Pr(e),this.computeMatrix(),this._getAxes(),this.type===zr.ORBITING||this.type===zr.EXPLORING?this._getPosition():this.type===zr.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(e,t,n){if(this.type===zr.EXPLORING){e=Pr(e),t=Pr(t),n=Pr(n);var r=Bn(Fn(),[1,0,0],(this.rotateWorld?1:-1)*t*$r),o=Bn(Fn(),[0,1,0],(this.rotateWorld?1:-1)*e*$r),i=Bn(Fn(),[0,0,1],n*$r),a=zn(Fn(),o,r);a=zn(Fn(),a,i);var s=at($e(),a);nt(this.matrix,this.matrix,[0,0,-this.distance]),tt(this.matrix,this.matrix,s),nt(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation+t)>90)return;this.relElevation=Pr(t),this.relAzimuth=Pr(e),this.relRoll=Pr(n),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===zr.ORBITING||this.type===zr.EXPLORING?this._getPosition():this.type===zr.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(e,t){var n=Or(e,t,0),r=V.d9(this.position);return V.IH(r,r,V.bA(V.Ue(),this.right,n[0])),V.IH(r,r,V.bA(V.Ue(),this.up,n[1])),this._setPosition(r),this}},{key:"dolly",value:function(e){var t=this.forward,n=V.d9(this.position),r=this.dollyingStep,o=this.distance+e*this.dollyingStep;return r=Math.max(Math.min(o,this.maxDistance),this.minDistance)-this.distance,n[0]+=r*t[0],n[1]+=r*t[1],n[2]+=r*t[2],this._setPosition(n),this.type===zr.ORBITING||this.type===zr.EXPLORING?this._getDistance():this.type===zr.TRACKING&&V.IH(this.focalPoint,n,this.distanceVector),this}},{key:"createLandmark",value:function(e,t){var n=this.clone();n.setPosition(t.position),n.setFocalPoint(t.focalPoint),void 0!==t.roll&&n.setRoll(t.roll);var r=new Ur(e,n);return this.landmarks.push(r),r}},{key:"setLandmark",value:function(e){var t=new Ur(e,this);return this.landmarks.push(t),this}},{key:"gotoLandmark",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=this.landmarks.find((function(t){return t.name===e}));if(r){if(0===n)return void r.retrieve(this);void 0!==this.landmarkAnimationID&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect();var o,i=r.getPosition(),a=r.getFocalPoint(),s=r.getRoll(),u=function e(r){void 0===o&&(o=r);var u,c=r-o,l=(1-Math.cos(c/n*Math.PI))/2,f=V.Ue(),d=V.Ue();if(V.t7(f,t.focalPoint,a,l),V.t7(d,t.position,i,l),u=t.roll*(1-l)+s*l,t.setFocalPoint(f),t.setPosition(d),t.setRoll(u),t.computeMatrix(),!(V.TK(f,a)+V.TK(d,i)>.01))return t.setFocalPoint(f),t.setPosition(d),t.setRoll(u),t.computeMatrix(),void t.interactor.connect();c<n&&(t.landmarkAnimationID=window.requestAnimationFrame(e))};window.requestAnimationFrame(u)}}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var e,t,n=Bn(Fn(),[0,0,1],this.roll*$r);Qe(this.matrix),e=Bn(Fn(),[1,0,0],(this.rotateWorld&&this.type!==zr.TRACKING||this.type===zr.TRACKING?1:-1)*this.elevation*$r),t=Bn(Fn(),[0,1,0],(this.rotateWorld&&this.type!==zr.TRACKING||this.type===zr.TRACKING?1:-1)*this.azimuth*$r);var r=zn(Fn(),t,e);r=zn(Fn(),r,n);var o=at($e(),r);this.type===zr.ORBITING||this.type===zr.EXPLORING?(nt(this.matrix,this.matrix,this.focalPoint),tt(this.matrix,this.matrix,o),nt(this.matrix,this.matrix,[0,0,this.distance])):this.type===zr.TRACKING&&(nt(this.matrix,this.matrix,this.position),tt(this.matrix,this.matrix,o))}},{key:"_setPosition",value:function(e,t,n){this.position=Or(e,t,n);var r=this.matrix;r[12]=this.position[0],r[13]=this.position[1],r[14]=this.position[2],r[15]=1}},{key:"_getAxes",value:function(){V.JG(this.right,Or(z(F(),[1,0,0,0],this.matrix))),V.JG(this.up,Or(z(F(),[0,1,0,0],this.matrix))),V.JG(this.forward,Or(z(F(),[0,0,1,0],this.matrix))),V.Fv(this.right,this.right),V.Fv(this.up,this.up),V.Fv(this.forward,this.forward)}},{key:"_getAngles",value:function(){var e=this.distanceVector[0],t=this.distanceVector[1],n=this.distanceVector[2],r=V.kE(this.distanceVector);if(0===r)return this.elevation=0,void(this.azimuth=0);this.type===zr.TRACKING||this.rotateWorld?(this.elevation=Math.asin(t/r)*Jr,this.azimuth=Math.atan2(-e,-n)*Jr):(this.elevation=-Math.asin(t/r)*Jr,this.azimuth=-Math.atan2(-e,-n)*Jr)}},{key:"_getPosition",value:function(){V.JG(this.position,Or(z(F(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){V.kK(this.distanceVector,[0,0,-this.distance],G.fromMat4(G.create(),this.matrix)),V.IH(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=V.$X(V.Ue(),this.focalPoint,this.position),this.distance=V.kE(this.distanceVector),this.dollyingStep=this.distance/100}}]),e}(),Fr.ProjectionMode={ORTHOGRAPHIC:"ORTHOGRAPHIC",PERSPECTIVE:"PERSPECTIVE"},jr=a((Lr=Br).prototype,"interactor",[Dr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rr=Lr))||Rr),eo=(Wr=(0,g.b2)(),Zr=(0,g.f3)(v.GeometryComponentManager),Wr((qr=Kr=function(){function e(){(0,o.Z)(this,e),this.config=void 0,r(this,"geometry",Xr,this),this.entity=void 0,this.component=void 0}return(0,i.Z)(e,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(e){this.config=e}},{key:"setEntity",value:function(e){this.entity=e,this.component=this.geometry.create(e),this.component.entity=e,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),e}(),Kr.BOX="box",Kr.SPHERE="sphere",Kr.PLANE="plane",Kr.MERGED="merged",Xr=a((Hr=qr).prototype,"geometry",[Zr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yr=Hr))||Yr),to=n(5511);function no(){if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}var ro={}.toString,oo=function(e,t){return ro.call(e)==="[object "+t+"]"},io=9007199254740991,ao={};ao["[object Float32Array]"]=ao["[object Float64Array]"]=ao["[object Int8Array]"]=ao["[object Int16Array]"]=ao["[object Int32Array]"]=ao["[object Uint8Array]"]=ao["[object Uint8ClampedArray]"]=ao["[object Uint16Array]"]=ao["[object Uint32Array]"]=!0,ao["[object Arguments]"]=ao["[object Array]"]=ao["[object ArrayBuffer]"]=ao["[object Boolean]"]=ao["[object DataView]"]=ao["[object Date]"]=ao["[object Error]"]=ao["[object Function]"]=ao["[object Map]"]=ao["[object Number]"]=ao["[object Object]"]=ao["[object RegExp]"]=ao["[object Set]"]=ao["[object String]"]=ao["[object WeakMap]"]=!1;var so=Object.prototype.toString;var uo,co,lo,fo,ho,po,go,vo,mo=function(e){return function(e){return!!e&&"object"===(0,U.Z)(e)}(e)&&function(e){return"number"===typeof e&&e>-1&&e%1===0&&e<=io}(e.length)&&!!ao[so.call(e)]};function yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yo(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xo,wo,Eo,_o,So,ko,To,Co,Mo,No,Ao,Po,Oo,Io,Do,Ro,Lo,jo,Fo,Bo,zo,Go,Vo,Uo,Wo,Zo,Yo,Ho,Xo,Ko,qo,$o,Jo,Qo,ei,ti=(uo=(0,g.b2)(),co=(0,g.f3)(v.RenderEngine),lo=(0,g.f3)(v.ConfigService),uo((vo=function(){function e(){(0,o.Z)(this,e),r(this,"engine",po,this),r(this,"configService",go,this),this.entity=f(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return(0,i.Z)(e,[{key:"init",value:function(){var e=this.configService.get(),t=e.canvas,n=e.engineOptions;this.initPromise=this.engine.init(bo({canvas:t||no(),swapChainFormat:to.EV.BGRA8Unorm,antialiasing:!1},n))}},{key:"setBundle",value:function(e){this.compiledBundle=JSON.parse(JSON.stringify(e))}},{key:"setDispatch",value:function(e){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=e),this}},{key:"setMaxIteration",value:function(e){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=e),this}},{key:"setBinding",value:function(e,t){var n,r=this;if("string"===typeof e){var o=Ar(t)||mo(t)||(n=t,Array.isArray?Array.isArray(n):oo(n,"Array"));if(this.compiledBundle&&this.compiledBundle.context){var i=this.compiledBundle.context.defines.find((function(t){return t.name===e}));if(i)return i.value=t,this;var a=this.compiledBundle.context.uniforms.find((function(t){return t.name===e}));a&&(o?(a.data=t,a.isReferer=!1,a.storageClass===Mr.Uniform?this.model&&this.model.updateUniform(e,t):this.model&&this.model.updateBuffer(e,t)):(a.isReferer=!0,a.data=t))}}else Object.keys(e).forEach((function(t){r.setBinding(t,e[t])}));return this}},{key:"execute",value:function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r=this,o=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:1,!this.dirty){e.next=6;break}return this.compiledBundle.context&&(t>1?this.compiledBundle.context.maxIteration=t:this.compiledBundle.context.maxIteration++),e.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter((function(e){return e.isReferer})).forEach((function(e){var t=e.data,n=e.name;r.model.confirmInput(t.model,n)})),n=0;n<t;n++)this.model.run();return this.engine.endFrame(),e.abrupt("return",this);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getOutput",value:function(){var e=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.model.readData());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"compile",value:function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:return t=bo({},this.compiledBundle.context),n=this.engine.supportWebGPU?this.engine.useWGSL?Nr.WGSL:Nr.GLSL450:Nr.GLSL100,r=this.compiledBundle.shaders[n],t.defines.filter((function(e){return e.runtime})).forEach((function(e){var t="".concat("__DefineValuePlaceholder__").concat(e.name);r=r.replace(t,"".concat(e.value))})),t.shader=r,t.uniforms.forEach((function(e){if(!e.data&&e.storageClass===Mr.StorageBuffer){var n=1;e.type===Tr.FloatArray?n=1:e.type===Tr.Vector4FloatArray&&(n=4),e.data=new Float32Array(t.output.length*n).fill(0)}})),this.compiledBundle.context=t,e.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=e.sent;case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),po=a((ho=vo).prototype,"engine",[co],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),go=a(ho.prototype,"configService",[lo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fo=ho))||fo),ni=(xo=(0,g.b2)(),wo=(0,g.f3)(v.MaterialComponentManager),xo((To=ko=function(){function e(){(0,o.Z)(this,e),this.config=void 0,r(this,"material",So,this),this.entity=void 0,this.component=void 0}return(0,i.Z)(e,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(e){this.config=e}},{key:"setEntity",value:function(e,t){this.entity=e,this.component=this.material.create(e),this.component.entity=e,this.component.type=t,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),e}(),ko.BASIC="basic",So=a((_o=To).prototype,"material",[wo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Eo=_o))||Eo),ri=(Co=(0,g.b2)(),Mo=(0,g.f3)(v.MeshComponentManager),No=(0,g.f3)(v.CullableComponentManager),Ao=(0,g.f3)(v.TransformComponentManager),Po=(0,g.f3)(v.Systems),Oo=(0,g.t6)(v.SceneGraphSystem),Co((zo=Bo=function(){function e(){(0,o.Z)(this,e),this.attributes={},this.config=void 0,r(this,"mesh",Ro,this),r(this,"cullable",Lo,this),r(this,"transform",jo,this),r(this,"sceneGraphSystem",Fo,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}return(0,i.Z)(e,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(e){this.config=e}},{key:"setEntity",value:function(e){this.entity=e,this.cullable.create(e),this.meshComponent=this.mesh.create(e),this.transformComponent=this.transform.create(e),this.onEntityCreated()}},{key:"setMaterial",value:function(e){return this.meshComponent.material=e,this}},{key:"setGeometry",value:function(e){return this.meshComponent.geometry=e,this}},{key:"setAttributes",value:function(e){var t=this;Object.keys(e).forEach((function(n){void 0!==e[n]&&e[n]!==t.attributes[n]&&(t.onAttributeChanged({name:n,data:e[n]}),t.attributes[n]=e[n])}))}},{key:"setVisible",value:function(e){var t=this;return this.meshComponent.visible=e,this.meshComponent.children.forEach((function(n){var r=t.mesh.getComponentByEntity(n);r&&(r.visible=e)})),this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(e){return this.sceneGraphSystem.attach(this.entity,e.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(t),n)}},{key:"convertAttributeName2UniformName",value:function(e){return e}}]),e}(),Bo.POINT="point",Bo.LINE="line",Bo.GRID="grid",Ro=a((Do=zo).prototype,"mesh",[Mo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lo=a(Do.prototype,"cullable",[No],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jo=a(Do.prototype,"transform",[Ao],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fo=a(Do.prototype,"sceneGraphSystem",[Po,Oo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Io=Do))||Io),oi=n(9084),ii=n.n(oi),ai=function(){function e(t,n){(0,o.Z)(this,e),this.attribute=void 0,this.buffer=void 0;var r=n.buffer,i=n.offset,a=n.stride,s=n.normalized,u=n.size,c=n.divisor;this.buffer=r,this.attribute={buffer:r.get(),offset:i||0,stride:a||0,normalized:s||!1,divisor:c||0},u&&(this.attribute.size=u)}return(0,i.Z)(e,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),si=(Go={},(0,R.Z)(Go,$.POINTS,"points"),(0,R.Z)(Go,$.LINES,"lines"),(0,R.Z)(Go,$.LINE_LOOP,"line loop"),(0,R.Z)(Go,$.LINE_STRIP,"line strip"),(0,R.Z)(Go,$.TRIANGLES,"triangles"),(0,R.Z)(Go,$.TRIANGLE_FAN,"triangle fan"),(0,R.Z)(Go,$.TRIANGLE_STRIP,"triangle strip"),Go),ui=(Vo={},(0,R.Z)(Vo,$.STATIC_DRAW,"static"),(0,R.Z)(Vo,$.DYNAMIC_DRAW,"dynamic"),(0,R.Z)(Vo,$.STREAM_DRAW,"stream"),Vo),ci=(Uo={},(0,R.Z)(Uo,$.BYTE,"int8"),(0,R.Z)(Uo,$.UNSIGNED_INT,"int16"),(0,R.Z)(Uo,$.INT,"int32"),(0,R.Z)(Uo,$.UNSIGNED_BYTE,"uint8"),(0,R.Z)(Uo,$.UNSIGNED_SHORT,"uint16"),(0,R.Z)(Uo,$.UNSIGNED_INT,"uint32"),(0,R.Z)(Uo,$.FLOAT,"float"),Uo),li=(Wo={},(0,R.Z)(Wo,$.ALPHA,"alpha"),(0,R.Z)(Wo,$.LUMINANCE,"luminance"),(0,R.Z)(Wo,$.LUMINANCE_ALPHA,"luminance alpha"),(0,R.Z)(Wo,$.RGB,"rgb"),(0,R.Z)(Wo,$.RGBA,"rgba"),(0,R.Z)(Wo,$.RGBA4,"rgba4"),(0,R.Z)(Wo,$.RGB5_A1,"rgb5 a1"),(0,R.Z)(Wo,$.RGB565,"rgb565"),(0,R.Z)(Wo,$.DEPTH_COMPONENT,"depth"),(0,R.Z)(Wo,$.DEPTH_STENCIL,"depth stencil"),Wo),fi=(Zo={},(0,R.Z)(Zo,$.DONT_CARE,"dont care"),(0,R.Z)(Zo,$.NICEST,"nice"),(0,R.Z)(Zo,$.FASTEST,"fast"),Zo),di=(Yo={},(0,R.Z)(Yo,$.NEAREST,"nearest"),(0,R.Z)(Yo,$.LINEAR,"linear"),(0,R.Z)(Yo,$.LINEAR_MIPMAP_LINEAR,"mipmap"),(0,R.Z)(Yo,$.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),(0,R.Z)(Yo,$.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),(0,R.Z)(Yo,$.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),Yo),hi=(Ho={},(0,R.Z)(Ho,$.REPEAT,"repeat"),(0,R.Z)(Ho,$.CLAMP_TO_EDGE,"clamp"),(0,R.Z)(Ho,$.MIRRORED_REPEAT,"mirror"),Ho),pi=(Xo={},(0,R.Z)(Xo,$.NONE,"none"),(0,R.Z)(Xo,$.BROWSER_DEFAULT_WEBGL,"browser"),Xo),gi=(Ko={},(0,R.Z)(Ko,$.NEVER,"never"),(0,R.Z)(Ko,$.ALWAYS,"always"),(0,R.Z)(Ko,$.LESS,"less"),(0,R.Z)(Ko,$.LEQUAL,"lequal"),(0,R.Z)(Ko,$.GREATER,"greater"),(0,R.Z)(Ko,$.GEQUAL,"gequal"),(0,R.Z)(Ko,$.EQUAL,"equal"),(0,R.Z)(Ko,$.NOTEQUAL,"notequal"),Ko),vi=(qo={},(0,R.Z)(qo,$.FUNC_ADD,"add"),(0,R.Z)(qo,$.MIN_EXT,"min"),(0,R.Z)(qo,$.MAX_EXT,"max"),(0,R.Z)(qo,$.FUNC_SUBTRACT,"subtract"),(0,R.Z)(qo,$.FUNC_REVERSE_SUBTRACT,"reverse subtract"),qo),mi=($o={},(0,R.Z)($o,$.ZERO,"zero"),(0,R.Z)($o,$.ONE,"one"),(0,R.Z)($o,$.SRC_COLOR,"src color"),(0,R.Z)($o,$.ONE_MINUS_SRC_COLOR,"one minus src color"),(0,R.Z)($o,$.SRC_ALPHA,"src alpha"),(0,R.Z)($o,$.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),(0,R.Z)($o,$.DST_COLOR,"dst color"),(0,R.Z)($o,$.ONE_MINUS_DST_COLOR,"one minus dst color"),(0,R.Z)($o,$.DST_ALPHA,"dst alpha"),(0,R.Z)($o,$.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),(0,R.Z)($o,$.CONSTANT_COLOR,"constant color"),(0,R.Z)($o,$.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),(0,R.Z)($o,$.CONSTANT_ALPHA,"constant alpha"),(0,R.Z)($o,$.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),(0,R.Z)($o,$.SRC_ALPHA_SATURATE,"src alpha saturate"),$o),yi=(Jo={},(0,R.Z)(Jo,$.NEVER,"never"),(0,R.Z)(Jo,$.ALWAYS,"always"),(0,R.Z)(Jo,$.LESS,"less"),(0,R.Z)(Jo,$.LEQUAL,"lequal"),(0,R.Z)(Jo,$.GREATER,"greater"),(0,R.Z)(Jo,$.GEQUAL,"gequal"),(0,R.Z)(Jo,$.EQUAL,"equal"),(0,R.Z)(Jo,$.NOTEQUAL,"notequal"),Jo),bi=(Qo={},(0,R.Z)(Qo,$.ZERO,"zero"),(0,R.Z)(Qo,$.KEEP,"keep"),(0,R.Z)(Qo,$.REPLACE,"replace"),(0,R.Z)(Qo,$.INVERT,"invert"),(0,R.Z)(Qo,$.INCR,"increment"),(0,R.Z)(Qo,$.DECR,"decrement"),(0,R.Z)(Qo,$.INCR_WRAP,"increment wrap"),(0,R.Z)(Qo,$.DECR_WRAP,"decrement wrap"),Qo),xi=(ei={},(0,R.Z)(ei,$.FRONT,"front"),(0,R.Z)(ei,$.BACK,"back"),ei),wi=function(){function e(t,n){(0,o.Z)(this,e),this.buffer=void 0;var r=n.data,i=n.usage,a=n.type;this.buffer=t.buffer({data:r,usage:ui[i||$.STATIC_DRAW],type:ci[a||$.UNSIGNED_BYTE]})}return(0,i.Z)(e,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(e){var t=e.data,n=e.offset;this.buffer.subdata(t,n)}}]),e}(),Ei=n(3433),_i=9007199254740991,Si={};Si["[object Float32Array]"]=Si["[object Float64Array]"]=Si["[object Int8Array]"]=Si["[object Int16Array]"]=Si["[object Int32Array]"]=Si["[object Uint8Array]"]=Si["[object Uint8ClampedArray]"]=Si["[object Uint16Array]"]=Si["[object Uint32Array]"]=!0,Si["[object Arguments]"]=Si["[object Array]"]=Si["[object ArrayBuffer]"]=Si["[object Boolean]"]=Si["[object DataView]"]=Si["[object Date]"]=Si["[object Error]"]=Si["[object Function]"]=Si["[object Map]"]=Si["[object Number]"]=Si["[object Object]"]=Si["[object RegExp]"]=Si["[object Set]"]=Si["[object String]"]=Si["[object WeakMap]"]=!1;var ki=Object.prototype.toString;var Ti=function(e){return function(e){return!!e&&"object"===(0,U.Z)(e)}(e)&&function(e){return"number"===typeof e&&e>-1&&e%1===0&&e<=_i}(e.length)&&!!Si[ki.call(e)]};function Ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ci(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ci(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ni=0,Ai=function(){function e(t,n){var r=this;(0,o.Z)(this,e),this.reGl=t,this.context=n,this.entity=f(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var i={};this.context.uniforms.forEach((function(e){var t=e.name,n=e.type,o=e.data,a=e.isReferer,s=e.storageClass;if(s===Mr.StorageBuffer){if(a)r.textureCache[t]={data:void 0},i["".concat(t,"Size")]=function(){return o.compiledBundle.context.output.textureSize};else{r.textureCache[t]=r.calcDataTexture(t,n,o);var u=r.textureCache[t],c=u.textureWidth,l=u.isOutput;i["".concat(t,"Size")]=[c,c],l&&(r.outputTextureName=t,r.context.needPingpong&&(r.outputTextureName="".concat(t,"Output"),r.textureCache[r.outputTextureName]=r.calcDataTexture(t,n,o)))}i[t]=function(){return r.textureCache[t].texture}}else if(s===Mr.Uniform){if(o&&(Array.isArray(o)||Ti(o))&&o.length>16)throw new Error("invalid data type ".concat(n));i[t]=function(){return e.data}}}));var a=this.getOuputDataTexture(),s=a.textureWidth,u=a.texelCount;i.u_OutputTextureSize=[s,s],i.u_OutputTexelCount=u,this.context.output.textureSize=[s,s];var c={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(this.context.shader),uniforms:i,vert:"attribute vec3 a_Position;\nattribute vec2 a_TexCoord;\n\nvarying vec2 v_TexCoord;\n\nvoid main() {\n  gl_Position = vec4(a_Position, 1.0);\n  v_TexCoord = a_TexCoord;\n}",primitive:"triangle strip",count:4};this.computeCommand=this.reGl(c)}return(0,i.Z)(e,[{key:"run",value:function(){var e=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use((function(){e.computeCommand()}))}},{key:"readData",value:function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r,o,i,a,s,c,l=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.reGl({framebuffer:this.texFBO})((function(){t=l.reGl.read()})),!t){e.next=6;break}if(n=this.getOuputDataTexture(),r=n.originalDataLength,o=n.elementsPerTexel,i=n.typedArrayConstructor,a=void 0===i?Float32Array:i,s=[],4!==o)for(c=0;c<t.length;c+=4)1===o?s.push(t[c]):2===o?s.push(t[c],t[c+1]):s.push(t[c],t[c+1],t[c+2]);else s=t;return e.abrupt("return",new a(s.slice(0,r)));case 6:return e.abrupt("return",new Float32Array);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"confirmInput",value:function(e,t){var n;this.entity===e.entity?(this.dynamicPingpong=!0,n=this):n=e,this.textureCache[t].id=n.getOuputDataTexture().id,this.textureCache[t].texture=n.getOuputDataTexture().texture}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(e,t){var n=this.context.uniforms.find((function(t){return t.name===e}));if(n){var r=this.calcDataTexture(e,n.type,t),o=r.texture,i=r.data;this.textureCache[e].data=i,this.textureCache[e].texture=o}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var e=this.context.output.name;this.textureCache[e].id=this.getOuputDataTexture().id,this.textureCache[e].texture=this.getOuputDataTexture().texture}var t=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=t}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var e=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=e}},{key:"cloneDataTexture",value:function(e){var t=e.data,n=e.textureWidth;return Mi(Mi({},e),{},{id:Ni++,texture:this.reGl.texture({width:n,height:n,data:t,type:"float"})})}},{key:"calcDataTexture",value:function(e,t,n){var r=1;t===Tr.Vector4FloatArray&&(r=4);for(var o=[],i=0;i<n.length;i+=r)1===r?o.push(n[i],0,0,0):2===r?o.push(n[i],n[i+1],0,0):3===r?o.push(n[i],n[i+1],n[i+2],0):4===r&&o.push(n[i],n[i+1],n[i+2],n[i+3]);var a=n.length,s=Math.ceil(a/r),u=Math.ceil(Math.sqrt(s)),c=u*u;s<c&&o.push.apply(o,(0,Ei.Z)(new Array(4*(c-s)).fill(0)));var l=this.reGl.texture({width:u,height:u,data:o,type:"float"});return{id:Ni++,data:o,originalDataLength:a,typedArrayConstructor:Ti(n)?n.constructor:void 0,textureWidth:u,texture:l,texelCount:s,elementsPerTexel:r,isOutput:e===this.context.output.name}}}]),e}(),Pi=function(){function e(t,n){(0,o.Z)(this,e),this.elements=void 0;var r=n.data,i=n.usage,a=n.type,s=n.count;this.elements=t.elements({data:r,usage:ui[i||$.STATIC_DRAW],type:ci[a||$.UNSIGNED_BYTE],count:s})}return(0,i.Z)(e,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(e){var t=e.data;this.elements.subdata(t)}},{key:"destroy",value:function(){this.elements.destroy()}}]),e}(),Oi=function(){function e(t,n){(0,o.Z)(this,e),this.framebuffer=void 0;var r=n.width,i=n.height,a=n.color,s=n.colors,u=(n.depth,n.stencil,{width:r,height:i});Array.isArray(s)&&(u.colors=s.map((function(e){return e.get()}))),a&&"boolean"!==typeof a&&(u.color=a.get()),this.framebuffer=t.framebuffer(u)}return(0,i.Z)(e,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.framebuffer.resize(t,n)}}]),e}();function Ii(e){var t={};return Object.keys(e).forEach((function(n){Di(n,e[n],t,"")})),t}function Di(e,t,n,r){null===t||"number"===typeof t||"boolean"===typeof t||Array.isArray(t)&&"number"===typeof t[0]||Ti(t)||""===t||void 0!==t.resize?n["".concat(r&&r+".").concat(e)]=t:(function(e){var t=(0,U.Z)(e);return null!=e&&("object"===t||"function"===t)}(t)&&Object.keys(t).forEach((function(o){Di(o,t[o],n,"".concat(r&&r+".").concat(e))})),Array.isArray(t)&&t.forEach((function(t,o){Object.keys(t).forEach((function(i){Di(i,t[i],n,"".concat(r&&r+".").concat(e,"[").concat(o,"]"))}))})))}function Ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ri(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ji,Fi,Bi,zi=function(){function e(t,n){(0,o.Z)(this,e),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=t;var r=n.vs,i=n.fs,a=n.defines,s=n.attributes,u=n.uniforms,c=n.primitive,l=n.count,f=n.elements,d=n.depth,h=n.blend,p=n.stencil,g=n.cull,v=n.instances,m=n.scissor,y=n.viewport,b={};u&&(this.uniforms=Ii(u),Object.keys(u).forEach((function(e){b[e]=t.prop(e)})));var x={};Object.keys(s).forEach((function(e){x[e]=s[e].get()}));var w=a&&this.generateDefines(a)||"",E={attributes:x,frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(w,"\n").concat(i),uniforms:b,vert:"\n".concat(w,"\n").concat(r),primitive:si[void 0===c?$.TRIANGLES:c]};v&&(E.instances=v),l&&(E.count=l),f&&(E.elements=f.get()),m&&(E.scissor=m),y&&(E.viewport=y),this.initDepthDrawParams({depth:d},E),this.initBlendDrawParams({blend:h},E),this.initStencilDrawParams({stencil:p},E),this.initCullDrawParams({cull:g},E),this.drawCommand=t(E)}return(0,i.Z)(e,[{key:"addUniforms",value:function(e){this.uniforms=Li(Li({},this.uniforms),Ii(e))}},{key:"draw",value:function(e){var t=Li(Li({},this.uniforms),Ii(e.uniforms||{})),n={};Object.keys(t).forEach((function(e){var r=(0,U.Z)(t[e]);"boolean"===r||"number"===r||Array.isArray(t[e])||t[e].BYTES_PER_ELEMENT?n[e]=t[e]:"string"===r||(n[e]=t[e].get())})),this.drawCommand(n)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(e,t){var n=e.depth;n&&(t.depth={enable:void 0===n.enable||!!n.enable,mask:void 0===n.mask||!!n.mask,func:gi[n.func||$.LESS],range:n.range||[0,1]})}},{key:"initBlendDrawParams",value:function(e,t){var n=e.blend;if(n){var r=n.enable,o=n.func,i=n.equation,a=n.color,s=void 0===a?[0,0,0,0]:a;t.blend={enable:!!r,func:{srcRGB:mi[o&&o.srcRGB||$.SRC_ALPHA],srcAlpha:mi[o&&o.srcAlpha||$.SRC_ALPHA],dstRGB:mi[o&&o.dstRGB||$.ONE_MINUS_SRC_ALPHA],dstAlpha:mi[o&&o.dstAlpha||$.ONE_MINUS_SRC_ALPHA]},equation:{rgb:vi[i&&i.rgb||$.FUNC_ADD],alpha:vi[i&&i.alpha||$.FUNC_ADD]},color:s}}}},{key:"initStencilDrawParams",value:function(e,t){var n=e.stencil;if(n){var r=n.enable,o=n.mask,i=void 0===o?-1:o,a=n.func,s=void 0===a?{cmp:$.ALWAYS,ref:0,mask:-1}:a,u=n.opFront,c=void 0===u?{fail:$.KEEP,zfail:$.KEEP,zpass:$.KEEP}:u,l=n.opBack,f=void 0===l?{fail:$.KEEP,zfail:$.KEEP,zpass:$.KEEP}:l;t.stencil={enable:!!r,mask:i,func:Li(Li({},s),{},{cmp:yi[s.cmp]}),opFront:{fail:bi[c.fail],zfail:bi[c.zfail],zpass:bi[c.zpass]},opBack:{fail:bi[f.fail],zfail:bi[f.zfail],zpass:bi[f.zpass]}}}}},{key:"initCullDrawParams",value:function(e,t){var n=e.cull;if(n){var r=n.enable,o=n.face,i=void 0===o?$.BACK:o;t.cull={enable:!!r,face:xi[i]}}}},{key:"generateDefines",value:function(e){return Object.keys(e).map((function(t){return"#define ".concat(t," ").concat(Number(e[t]))})).join("\n")}}]),e}(),Gi=function(){function e(t,n){(0,o.Z)(this,e),this.texture=void 0,this.width=void 0,this.height=void 0;var r=n.data,i=n.type,a=void 0===i?$.UNSIGNED_BYTE:i,s=n.width,u=n.height,c=n.flipY,l=void 0!==c&&c,f=n.format,d=void 0===f?$.RGBA:f,h=n.mipmap,p=void 0!==h&&h,g=n.wrapS,v=void 0===g?$.CLAMP_TO_EDGE:g,m=n.wrapT,y=void 0===m?$.CLAMP_TO_EDGE:m,b=n.aniso,x=void 0===b?0:b,w=n.alignment,E=void 0===w?1:w,_=n.premultiplyAlpha,S=void 0!==_&&_,k=n.mag,T=void 0===k?$.NEAREST:k,C=n.min,M=void 0===C?$.NEAREST:C,N=n.colorSpace,A=void 0===N?$.BROWSER_DEFAULT_WEBGL:N;this.width=s,this.height=u;var P={width:s,height:u,type:ci[a],format:li[d],wrapS:hi[v],wrapT:hi[y],mag:di[T],min:di[M],alignment:E,flipY:l,colorSpace:pi[A],premultiplyAlpha:S,aniso:x};r&&(P.data=r),"number"===typeof p?P.mipmap=fi[p]:"boolean"===typeof p&&(P.mipmap=p),this.texture=t.texture(P)}return(0,i.Z)(e,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.texture.resize(t,n),this.width=t,this.height=n}},{key:"destroy",value:function(){this.texture.destroy()}}]),e}(),Vi=(0,g.b2)()((Fi=function(){function e(){var t=this;(0,o.Z)(this,e),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var e=(0,c.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.uniforms){e.next=3;break}return e.next=3,Promise.all(Object.keys(n.uniforms).map(function(){var e=(0,c.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.uniforms[t]||void 0===n.uniforms[t].load){e.next=5;break}return e.next=3,n.uniforms[t].load();case 3:r=e.sent,n.uniforms[t]=r;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",new zi(t.gl,n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createAttribute=function(e){return new ai(t.gl,e)},this.createBuffer=function(e){return new wi(t.gl,e)},this.createElements=function(e){return new Pi(t.gl,e)},this.createTexture2D=function(e){return new Gi(t.gl,e)},this.createFramebuffer=function(e){return new Oi(t.gl,e)},this.useFramebuffer=function(e,n){t.gl({framebuffer:e?e.get():null})(n)},this.createComputeModel=function(){var e=(0,c.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Ai(t.gl,n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.clear=function(e){var n=e.color,r=e.depth,o=e.stencil,i=e.framebuffer,a=void 0===i?null:i,s={color:n,depth:r,stencil:o};s.framebuffer=null===a?a:a.get(),t.gl.clear(s)},this.setScissor=function(e){t.gl&&t.gl._gl&&(e.enable&&e.box?(t.gl._gl.enable($.SCISSOR_TEST),t.gl._gl.scissor(e.box.x,e.box.y,e.box.width,e.box.height)):t.gl._gl.disable($.SCISSOR_TEST),t.gl._refresh())},this.viewport=function(e){var n=e.x,r=e.y,o=e.width,i=e.height;t.gl&&t.gl._gl&&(t.gl._gl.viewport(n,r,o,i),t.gl._refresh())},this.readPixels=function(e){var n=e.framebuffer,r={x:e.x,y:e.y,width:e.width,height:e.height};return n&&(r.framebuffer=n.get()),t.gl.read(r)},this.getCanvas=function(){return t.$canvas},this.getGLContext=function(){return t.gl._gl},this.destroy=function(){t.gl&&(t.gl.destroy(),t.inited=!1)}}return(0,i.Z)(e,[{key:"init",value:function(){var e=(0,c.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.inited){e.next=2;break}return e.abrupt("return");case 2:return this.$canvas=t.canvas,e.next=5,new Promise((function(e,n){ii()({canvas:t.canvas,attributes:{alpha:!0,antialias:t.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(t,r){!t&&r||n(t),e(r)}})}));case 5:this.gl=e.sent,this.inited=!0;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),e}(),ji=Fi))||ji;function Ui(e,t,n,r){if("undefined"!==typeof window){var o=document.getElementsByTagName("head")[0],i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",e),r&&(i.id=r),i.onload=function(){t&&t()},i.onerror=function(t){n&&n("Unable to load script '".concat(e,"'"),t)},o.appendChild(i)}}function Wi(e,t){return new Promise((function(t,n){Ui(e,(function(){t()}),(function(e,t){n(t)}))}))}function Zi(){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Bi){e.next=2;break}return e.abrupt("return",Bi);case 2:return e.next=4,Wi("https://preview.babylonjs.com/glslang/glslang.js");case 4:return Bi=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),e.abrupt("return",Bi);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hi=function(){function e(t,n){(0,o.Z)(this,e),this.engine=t,this.options=n,this.attribute=void 0,this.buffer=void 0;var r=n,i=r.buffer,a=r.offset,s=r.stride,u=r.normalized,c=r.size,l=r.divisor,f=r.arrayStride,d=r.attributes,h=r.stepMode;this.buffer=i,this.attribute={buffer:i.get(),offset:a||0,stride:s||0,normalized:u||!1,divisor:l||0,arrayStride:f||0,attributes:d,stepMode:h||"vertex"},c&&(this.attribute.size=c)}return(0,i.Z)(e,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),Xi=function(){function e(t,n){(0,o.Z)(this,e),this.engine=t,this.options=n,this.buffer=void 0;var r=n,i=r.data,a=r.usage;r.type;this.buffer=this.createBuffer(i instanceof Array?new Float32Array(i):i,a||to.FB.Vertex|to.FB.CopyDst)}return(0,i.Z)(e,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(e){var t=e.data,n=e.offset;this.setSubData(this.buffer,n,t instanceof Array?new Float32Array(t):t)}},{key:"createBuffer",value:function(e,t){var n=e.byteLength%4,r={size:e.byteLength+n,usage:t},o=this.engine.device.createBuffer(r);return this.setSubData(o,0,e),o}},{key:"setSubData",value:function(e,t,n){(kr?this.engine.device.getQueue():this.engine.device.defaultQueue).writeBuffer(e,t,n)}}]),e}();var Ki,qi,$i,Ji,Qi,ea,ta,na=function(){function e(t,n){(0,o.Z)(this,e),this.engine=t,this.context=n,this.entity=f(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}return(0,i.Z)(e,[{key:"init",value:function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r,o,i,a,s,c=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:t=e.sent,n=t.computeStage,r=this.context.uniforms.filter((function(e){return e.storageClass===Mr.StorageBuffer})),o=this.context.uniforms.filter((function(e){return e.storageClass===Mr.Uniform})),i=o.length?1:0,this.bindGroupEntries=[],i&&(a=0,s=[],o.forEach((function(e){if("number"===typeof e.data)c.uniformGPUBufferLayout.push({name:e.name,offset:a}),a+=4,s.push(e.data);else{var t,n=(null===(t=e.data)||void 0===t?void 0:t.length)||1;3===n&&(n=4,e.data.push(0));var r=a/4%4;if(r>0){var o=4-r;if(n>1&&n<=o)2===n&&(3===o&&(a+=4,s.push(0)),s.push.apply(s,(0,Ei.Z)(e.data)),c.uniformGPUBufferLayout.push({name:e.name,offset:a}));else{for(var i=0;i<o;i++)a+=4,s.push(0);s.push.apply(s,(0,Ei.Z)(e.data)),c.uniformGPUBufferLayout.push({name:e.name,offset:a})}}a+=4*n}})),this.uniformBuffer=new Xi(this.engine,{data:s instanceof Array?new Float32Array(s):s,usage:to.FB.Uniform|to.FB.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),r.forEach((function(e){var t;null!==e.data&&(e.type!==Tr.Vector4FloatArray&&e.type!==Tr.FloatArray||(e.name===c.context.output.name?(t=new Xi(c.engine,{data:isFinite(Number(e.data))?[e.data]:e.data,usage:to.FB.Storage|to.FB.CopyDst|to.FB.CopySrc}),c.outputBuffer=t,c.context.output={name:e.name,length:isFinite(Number(e.data))?1:e.data.length,typedArrayConstructor:Float32Array,gpuBuffer:t.get()}):e.isReferer?e.data.model&&e.data.model.outputBuffer&&(t=e.data.model.outputBuffer):t=new Xi(c.engine,{data:isFinite(Number(e.data))?[e.data]:e.data,usage:to.FB.Storage|to.FB.CopyDst|to.FB.CopySrc}),c.vertexBuffers[e.name]=t,c.bindGroupEntries.push({binding:i,resource:{name:e.name,refer:t?void 0:e.data,buffer:t?t.get():void 0}}),i++))})),this.computePipeline=this.engine.device.createComputePipeline({computeStage:n}),console.log(this.bindGroupEntries),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach((function(t){return e.vertexBuffers[t].destroy()}))}},{key:"readData",value:function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r,o,i,a,s,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.context.output)){e.next=16;break}if(n=t.length,r=t.typedArrayConstructor,!(o=t.gpuBuffer)){e.next=16;break}return i=n*r.BYTES_PER_ELEMENT,a=this.engine.device.createBuffer({size:i,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),(s=this.engine.device.createCommandEncoder()).copyBufferToBuffer(o,0,a,0,i),(kr?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([s.finish()]),e.next=12,a.mapAsync(to.gc.Read);case 12:return c=a.getMappedRange(),l=new r(c.slice(0)),a.unmap(),e.abrupt("return",l);case 16:return e.abrupt("return",new Float32Array);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(){var e;this.engine.currentComputePass&&(this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(e=this.engine.currentComputePass).dispatch.apply(e,(0,Ei.Z)(this.context.dispatch)))}},{key:"updateBuffer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.vertexBuffers[e];r&&r.subData({data:t,offset:n})}},{key:"updateUniform",value:function(e,t){var n=this.uniformGPUBufferLayout.find((function(t){return t.name===e}));n&&this.uniformBuffer.subData({data:Number.isFinite(t)?new Float32Array([t]):new Float32Array(t),offset:n.offset})}},{key:"confirmInput",value:function(e,t){var n=this.vertexBuffers[t],r=e.outputBuffer;if(n&&r&&n!==r){var o=this.engine.device.createCommandEncoder(),i=e.context.output,a=i.length*i.typedArrayConstructor.BYTES_PER_ELEMENT;o.copyBufferToBuffer(r.get(),0,n.get(),0,a),(kr?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([o.finish()])}}},{key:"compileShaderToSpirV",value:function(e,t,n){return this.compileRawShaderToSpirV(n+e,t)}},{key:"compileRawShaderToSpirV",value:function(e,t){return this.engine.glslang.compileGLSL(e,t)}},{key:"compileComputePipelineStageDescriptor",value:function(){var e=(0,c.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,"#version 450\n",this.engine.options.useWGSL){e.next=6;break}return e.next=5,this.compileShaderToSpirV(t,"compute","#version 450\n");case 5:n=e.sent;case 6:return e.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:n,isWHLSL:kr}),entryPoint:"main"}});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ra=function(){function e(t,n){(0,o.Z)(this,e),this.engine=t,this.options=n,this.indexCount=void 0,this.buffer=void 0;var r=n,i=r.data,a=(r.usage,r.type,r.count);this.indexCount=a||0,this.buffer=new Xi(t,{data:i instanceof Array?new Uint16Array(i):i,usage:to.FB.Index|to.FB.CopyDst})}return(0,i.Z)(e,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),oa=function(){function e(t,n){(0,o.Z)(this,e),this.engine=t,this.options=n,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;var r=n,i=(r.width,r.height,r.color),a=(r.colors,r.depth);r.stencil;i&&(this.colorTexture=i),a&&(this.depthTexture=a)}return(0,i.Z)(e,[{key:"get",value:function(){var e,t;return{color:null===(e=this.colorTexture)||void 0===e?void 0:e.get(),depth:null===(t=this.depthTexture)||void 0===t?void 0:t.get()}}},{key:"destroy",value:function(){var e,t;null===(e=this.colorTexture)||void 0===e||e.destroy(),null===(t=this.depthTexture)||void 0===t||t.destroy()}},{key:"resize",value:function(e){var t,n,r=e.width,o=e.height;r===this.width&&o===this.height||(null===(t=this.colorTexture)||void 0===t||t.resize({width:r,height:o}),null===(n=this.depthTexture)||void 0===n||n.resize({width:r,height:o}));this.width=r,this.height=o}}]),e}(),ia=(Ki={},(0,R.Z)(Ki,$.POINTS,to.YV.PointList),(0,R.Z)(Ki,$.LINES,to.YV.LineList),(0,R.Z)(Ki,$.LINE_LOOP,to.YV.LineList),(0,R.Z)(Ki,$.LINE_STRIP,to.YV.LineStrip),(0,R.Z)(Ki,$.TRIANGLES,to.YV.TriangleList),(0,R.Z)(Ki,$.TRIANGLE_FAN,to.YV.TriangleList),(0,R.Z)(Ki,$.TRIANGLE_STRIP,to.YV.TriangleStrip),Ki),aa=(qi={},(0,R.Z)(qi,$.NEVER,to.wb.Never),(0,R.Z)(qi,$.ALWAYS,to.wb.Always),(0,R.Z)(qi,$.LESS,to.wb.Less),(0,R.Z)(qi,$.LEQUAL,to.wb.LessEqual),(0,R.Z)(qi,$.GREATER,to.wb.Greater),(0,R.Z)(qi,$.GEQUAL,to.wb.GreaterEqual),(0,R.Z)(qi,$.EQUAL,to.wb.Equal),(0,R.Z)(qi,$.NOTEQUAL,to.wb.NotEqual),qi),sa=($i={},(0,R.Z)($i,$.FUNC_ADD,to.db.Add),(0,R.Z)($i,$.MIN_EXT,to.db.Min),(0,R.Z)($i,$.MAX_EXT,to.db.Max),(0,R.Z)($i,$.FUNC_SUBTRACT,to.db.Subtract),(0,R.Z)($i,$.FUNC_REVERSE_SUBTRACT,to.db.ReverseSubtract),$i),ua=(Ji={},(0,R.Z)(Ji,$.ZERO,to.zi.Zero),(0,R.Z)(Ji,$.ONE,to.zi.One),(0,R.Z)(Ji,$.SRC_COLOR,to.zi.SrcColor),(0,R.Z)(Ji,$.ONE_MINUS_SRC_COLOR,to.zi.OneMinusSrcColor),(0,R.Z)(Ji,$.SRC_ALPHA,to.zi.SrcAlpha),(0,R.Z)(Ji,$.ONE_MINUS_SRC_ALPHA,to.zi.OneMinusSrcAlpha),(0,R.Z)(Ji,$.DST_COLOR,to.zi.DstColor),(0,R.Z)(Ji,$.ONE_MINUS_DST_COLOR,to.zi.OneMinusDstColor),(0,R.Z)(Ji,$.DST_ALPHA,to.zi.DstAlpha),(0,R.Z)(Ji,$.ONE_MINUS_DST_ALPHA,to.zi.OneMinusDstAlpha),(0,R.Z)(Ji,$.CONSTANT_COLOR,to.zi.BlendColor),(0,R.Z)(Ji,$.ONE_MINUS_CONSTANT_COLOR,to.zi.OneMinusBlendColor),(0,R.Z)(Ji,$.SRC_ALPHA_SATURATE,to.zi.SrcAlphaSaturated),Ji),ca=(Qi={},(0,R.Z)(Qi,$.ALPHA,"r8unorm"),(0,R.Z)(Qi,$.RGBA,"rgba8unorm"),(0,R.Z)(Qi,$.DEPTH_COMPONENT,"depth32float"),(0,R.Z)(Qi,$.DEPTH_STENCIL,"depth24plus-stencil8"),Qi),la=(ea={},(0,R.Z)(ea,$.NEAREST,"nearest"),(0,R.Z)(ea,$.LINEAR,"linear"),ea),fa=(ta={},(0,R.Z)(ta,$.REPEAT,"repeat"),(0,R.Z)(ta,$.CLAMP_TO_EDGE,"clamp-to-edge"),(0,R.Z)(ta,$.MIRRORED_REPEAT,"mirror-repeat"),ta);function da(e){var t=e.cull;return t&&t.enable?t.face?t.face===$.FRONT?to.Wf.Front:to.Wf.Back:void 0:to.Wf.None}function ha(e){var t=e.depth,n=(e.stencil,{compare:to.wb.Always,depthFailOp:to.xS.Keep,failOp:to.xS.Keep,passOp:to.xS.Keep});return{depthWriteEnabled:t&&t.enable,depthCompare:aa[(null===t||void 0===t?void 0:t.func)||$.ALWAYS],format:to.EV.Depth24PlusStencil8,stencilFront:n,stencilBack:n,stencilReadMask:4294967295,stencilWriteMask:4294967295}}function pa(e,t){var n=e.blend;return[{format:t,alphaBlend:{srcFactor:ua[n&&n.func&&n.func.srcAlpha||$.ONE],dstFactor:ua[n&&n.func&&n.func.dstAlpha||$.ZERO],operation:sa[n&&n.equation&&n.equation.alpha||$.FUNC_ADD]},colorBlend:{srcFactor:ua[n&&n.func&&n.func.srcRGB||$.ONE],dstFactor:ua[n&&n.func&&n.func.dstRGB||$.ZERO],operation:sa[n&&n.equation&&n.equation.rgb||$.FUNC_ADD]},writeMask:to.Yw.All}]}function ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ma(e){for(var t=0,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var i=0,a=r;i<a.length;i++){var s=a[i];t+=s.length}for(var u=new e(t),c=0,l=0,f=r;l<f.length;l++){var d=f[l];u.set(d,c),c+=d.length}return u}var ya,ba,xa,wa=function(){function e(t,n){(0,o.Z)(this,e),this.engine=t,this.options=n,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}return(0,i.Z)(e,[{key:"init",value:function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r,o,i,a,s,c,l,f,d,h,p,g,v,m,y=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.options,n=t.vs,r=t.fs,o=t.attributes,i=t.uniforms,a=t.primitive,t.count,s=t.elements,c=t.depth,l=t.blend,f=t.stencil,d=t.cull,t.instances,e.next=3,this.compilePipelineStageDescriptor(n,r,null);case 3:h=e.sent,p=h.vertexStage,g=h.fragmentStage,i&&this.buildUniformBindGroup(i),s&&(this.indexBuffer=s.get(),this.indexCount=s.indexCount),v={vertexBuffers:Object.keys(o).map((function(e,t){var n=o[e],r=n.get(),i=r.arrayStride,a=r.stepMode,s=r.attributes;return y.attributeCache[e]=n,{arrayStride:i,stepMode:a,attributes:s}}))},m={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:ia[a||$.TRIANGLES],rasterizationState:va(va({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:da({cull:d})}),depthStencilState:ha({depth:c,stencil:f}),colorStates:pa({blend:l},this.engine.options.swapChainFormat),layout:this.pipelineLayout,vertexStage:p,fragmentStage:g,vertexState:v},this.renderPipeline=this.engine.device.createRenderPipeline(m);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addUniforms",value:function(e){this.uniforms=va(va({},this.uniforms),Ii(e))}},{key:"draw",value:function(e){var t=this,n=this.engine.getCurrentRenderPass(),r=va(va({},this.uniforms),Ii(e.uniforms||{})),o=[];Object.keys(r).forEach((function(e){var n=(0,U.Z)(r[e]);if("boolean"===n||"number"===n||Array.isArray(r[e])||r[e].BYTES_PER_ELEMENT){var i,a=null===(i=t.uniformGPUBufferLayout.find((function(t){return t.name===e})))||void 0===i?void 0:i.offset;null!==a&&t.uniformBuffer.subData({data:r[e],offset:a})}else{var s,u=null===(s=t.uniformGPUBufferLayout.find((function(t){return t.name===e})))||void 0===s?void 0:s.offset;if(null!==u){var c=r[e].get(),l=c.color||c,f=l.texture,d=l.sampler;d&&(o.push({binding:u,resource:d}),u++),o.push({binding:u,resource:f.createView()})}}})),this.uniformBuffer&&(o[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:o}),this.renderPipeline&&n.setPipeline(this.renderPipeline),n.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&n.setIndexBuffer(this.indexBuffer.get(),to.iD.Uint32,0),Object.keys(this.attributeCache).forEach((function(e,r){n.setVertexBuffer(0+r,t.attributeCache[e].get().buffer,0)})),this.indexBuffer?n.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):n.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:function(){var e=(0,c.Z)(u().mark((function e(t,n,r){var o,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o="#version 450\n",i=t,a=n,this.engine.options.useWGSL){e.next=10;break}return e.next=6,this.compileShaderToSpirV(t,"vertex",o);case 6:return i=e.sent,e.next=9,this.compileShaderToSpirV(n,"fragment",o);case 9:a=e.sent;case 10:return e.abrupt("return",this.createPipelineStageDescriptor(i,a));case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"compileShaderToSpirV",value:function(e,t,n){return this.compileRawShaderToSpirV(n+e,t)}},{key:"compileRawShaderToSpirV",value:function(e,t){return this.engine.glslang.compileGLSL(e,t)}},{key:"createPipelineStageDescriptor",value:function(e,t){return{vertexStage:{module:this.engine.device.createShaderModule({code:e,isWHLSL:kr}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:t,isWHLSL:kr}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:to.zX.CCW,cullMode:to.Wf.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(e){var t=this,n=0,r=ma.apply(void 0,[Float32Array].concat((0,Ei.Z)(Object.keys(e).map((function(r){return e[r]?(t.uniformGPUBufferLayout.push({name:r,offset:n}),n+=4*(e[r].length||1),e[r]):[]}))))),o=[],i=!1;r.length&&(i=!0,o.push({binding:0,visibility:to.$X.Fragment|to.$X.Vertex,type:to.$l.UniformBuffer})),Object.keys(e).filter((function(t){return null===e[t]})).forEach((function(e,n){t.uniformGPUBufferLayout.push({name:e,offset:2*n+(i?1:0)}),o.push({binding:2*n+(i?1:0),visibility:to.$X.Fragment,type:to.$l.Sampler},{binding:2*n+(i?1:0)+1,visibility:to.$X.Fragment,type:to.$l.SampledTexture})})),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:o}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),i&&(this.uniformBuffer=new Xi(this.engine,{data:r instanceof Array?new Float32Array(r):r,usage:to.FB.Uniform|to.FB.CopyDst}))}}]),e}(),Ea=function(){function e(t,n){(0,o.Z)(this,e),this.engine=t,this.options=n,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}return(0,i.Z)(e,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(e){var t=e.width,n=e.height;t===this.width&&n===this.height||(this.destroy(),this.createTexture()),this.width=t,this.height=n}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var e=this.options,t=(e.data,e.type),n=(void 0===t&&$.UNSIGNED_BYTE,e.width),r=e.height,o=(e.flipY,e.format),i=void 0===o?$.RGBA:o,a=(e.mipmap,e.wrapS),s=void 0===a?$.CLAMP_TO_EDGE:a,u=e.wrapT,c=void 0===u?$.CLAMP_TO_EDGE:u,l=e.aniso,f=void 0===l?0:l,d=(e.alignment,e.premultiplyAlpha,e.mag),h=void 0===d?$.NEAREST:d,p=e.min,g=void 0===p?$.NEAREST:p,v=e.colorSpace,m=(void 0===v&&$.BROWSER_DEFAULT_WEBGL,e.usage);this.width=n,this.height=r,this.texture=this.engine.device.createTexture({size:[n,r,1],mipLevelCount:1,sampleCount:1,dimension:to.kd.E2d,format:ca[i],usage:m||to.v2.Sampled|to.v2.CopyDst}),(!m||m&to.v2.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:fa[s],addressModeV:fa[c],addressModeW:fa[s],magFilter:la[h],minFilter:la[g],maxAnisotropy:f}))}}]),e}(),_a=(0,g.b2)()((ba=function(){function e(){var t=this;(0,o.Z)(this,e),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:1/0,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(e){e.framebuffer;var n=e.color,r=e.depth,o=e.stencil;t.options.supportCompute&&t.startComputePass(),t.currentRenderTarget?(t.currentRenderPass&&t.endRenderTargetRenderPass(),t.startRenderTargetRenderPass(t.currentRenderTarget,n||null,!!r,!!o)):(t.mainColorAttachments[0].loadValue=n||to.Ws.Load,t.mainDepthAttachment.depthLoadValue=r||to.Ws.Load,t.mainDepthAttachment.stencilLoadValue=o?t.clearStencilValue:to.Ws.Load,t.mainRenderPass&&t.endMainRenderPass(),t.startMainRenderPass())},this.createModel=function(){var e=(0,c.Z)(u().mark((function e(n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new wa(t,n),e.next=3,r.init();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createAttribute=function(e){return new Hi(t,e)},this.createBuffer=function(e){return new Xi(t,e)},this.createElements=function(e){return new ra(t,e)},this.createTexture2D=function(e){return new Ea(t,e)},this.createFramebuffer=function(e){return new oa(t,e)},this.useFramebuffer=function(e,n){t.currentRenderTarget&&t.unbindFramebuffer(t.currentRenderTarget),t.currentRenderTarget=e,t.currentRenderTargetViewDescriptor={dimension:to.p_.E2d,arrayLayerCount:1,aspect:to.H7.All},t.currentRenderPass=null,n()},this.createComputeModel=function(){var e=(0,c.Z)(u().mark((function e(n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new na(t,n),e.next=3,r.init();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getCanvas=function(){return t.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(e){var n=e.x,r=e.y,o=e.width,i=e.height;if(t.currentRenderPass){if(t.transientViewport.x!==1/0){t.getCurrentRenderPass().setViewport(t.transientViewport.x,t.transientViewport.y,t.transientViewport.width,t.transientViewport.height,0,1)}else if(n!==t.cachedViewport.x||r!==t.cachedViewport.y||o!==t.cachedViewport.width||i!==t.cachedViewport.height){t.cachedViewport={x:n,y:r,width:o,height:i},t.getCurrentRenderPass().setViewport(n,r,o,i,0,1)}}else t.transientViewport={x:n,y:r,width:o,height:i}},this.readPixels=function(e){throw new Error("Method not implemented.")}}return(0,i.Z)(e,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:function(){var e=(0,c.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.canvas=t.canvas,this.options=t,this.useWGSL=!!t.useWGSL,this.mainPassSampleCount=t.antialiasing?this.defaultSampleCount:1,e.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setScissor",value:function(e){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach((function(e){return e.destroy()})),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),kr?this.device.getQueue().submit(this.commandBuffers.filter((function(e){return e}))):this.device.defaultQueue.submit(this.commandBuffers.filter((function(e){return e})))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:function(){var e=(0,c.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zi();case 2:return this.glslang=e.sent,e.next=5,null===(t=navigator)||void 0===t||null===(n=t.gpu)||void 0===n?void 0:n.requestAdapter();case 5:return this.adapter=e.sent,e.next=8,this.adapter.requestDevice();case 8:this.device=e.sent;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(kr?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:to.v2.OutputAttachment|to.v2.CopySrc})}},{key:"initMainAttachments",value:function(){if(this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing){var e={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:to.kd.E2d,format:to.EV.BGRA8Unorm,usage:to.v2.OutputAttachment};this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(e),this.mainColorAttachments=[{attachment:kr?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:to.EG.Store}]}else this.mainColorAttachments=[{attachment:kr?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:to.EG.Store}];var t={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:to.kd.E2d,format:kr?"depth32float-stencil8":to.EV.Depth24PlusStencil8,usage:to.v2.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(t),this.mainDepthAttachment={attachment:kr?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:to.EG.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:to.EG.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=kr?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=kr?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(e,t,n){var r,o,i,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=null===(r=e.get().color)||void 0===r?void 0:r.texture;s&&(i=s.createView(this.currentRenderTargetViewDescriptor));var u,c=null===(o=e.get().depth)||void 0===o?void 0:o.texture;c&&(u=c.createView());var l=this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:i,loadValue:null!==t?t:to.Ws.Load,storeOp:to.EG.Store}],depthStencilAttachment:c&&u?{attachment:u,depthLoadValue:n?this.clearDepthValue:to.Ws.Load,depthStoreOp:to.EG.Store,stencilLoadValue:a?this.clearStencilValue:to.Ws.Load,stencilStoreOp:to.EG.Store}:void 0});this.currentRenderPass=l,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&null!==this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(e){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=1/0,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),e}(),ya=ba))||ya;function Sa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var o=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var ka,Ta=4/64,Ca=(0,g.b2)()(xa=function(e){(0,x.Z)(n,e);var t=Sa(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"onEntityCreated",value:function(){var e=this.config,t=e.widthSegments,n=void 0===t?1:t,r=e.heightSegments,o=void 0===r?1:r,i=e.depthSegments,a=void 0===i?1:i,s=e.halfExtents,u=void 0===s?V.al(.5,.5,.5):s,c=n,l=o,f=a,d=(0,p.Z)(u,3),h=d[0],g=d[1],v=d[2],m=[V.al(-h,-g,v),V.al(h,-g,v),V.al(h,g,v),V.al(-h,g,v),V.al(h,-g,-v),V.al(-h,-g,-v),V.al(-h,g,-v),V.al(h,g,-v)],y=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],b=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],x=1,w=2,E=3,_=4,S=5,k=[],T=[],C=[],M=[],N=[],A=0,P=function(e,t,n){var r,o,i,a;for(i=0;i<=t;i++)for(a=0;a<=n;a++){var s=V.Ue(),u=V.Ue(),c=V.Ue(),l=V.Ue();V.t7(s,m[y[e][0]],m[y[e][1]],i/t),V.t7(u,m[y[e][0]],m[y[e][2]],a/n),V.lu(c,u,m[y[e][0]]),V.IH(l,s,c),r=i/t,o=a/n,k.push(l[0],l[1],l[2]),T.push(b[e][0],b[e][1],b[e][2]),C.push(r,o),r=.875*(r/=3)+Ta,o=.875*(o/=3)+Ta,r+=e%3/3,o+=Math.floor(e/3)/3,M.push(r,o),i<t&&a<n&&(N.push(A+n+1,A+1,A),N.push(A+n+1,A+n+2,A+1)),A++}};P(0,c,l),P(x,c,l),P(w,c,f),P(E,c,f),P(_,f,l),P(S,f,l);var O=_r(k),I=this.getComponent();I.indices=Uint32Array.from(N),I.aabb=O,I.vertexCount=A,I.attributes=[{dirty:!0,name:"position",data:Float32Array.from(k),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(T),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(C),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(eo))||xa;function Ma(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var o=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Na,Aa=(0,g.b2)()(ka=function(e){(0,x.Z)(n,e);var t=Ma(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"onEntityCreated",value:function(){var e=this.config.geometries,t=void 0===e?[]:e,n=this.getComponent();n.aabb=new Me;var r=[],o=[],i=0;t.forEach((function(e){var t=e.aabb,a=e.indices,s=e.vertexCount,u=e.attributes;n.aabb.add(t),n.vertexCount+=s,a&&o.push.apply(o,(0,Ei.Z)(a.map((function(e){return e+i})))),i+=s,u.forEach((function(e,t){r[t]?e.data&&(Ar(e.data)?r[t].push(e.data):mo(e.data)?r[t].data=function(e,t){if(!e&&!t)throw new Error("Please specify valid arguments for parameters a and b.");if(!t||0===t.length)return e;if(!e||0===e.length)return t;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(t))throw new Error("The types of the two arguments passed for parameters a and b do not match.");var n=new e.constructor(e.length+t.length);return n.set(e),n.set(t,e.length),n}(r[t].data,e.data):r[t].data=r[t].data.concat(e.data)):(r[t]=e,r[t].dirty=!0)}))})),n.attributes=r,n.indices=Uint32Array.from(o),n.dirty=!0}}]),n}(eo))||ka;function Pa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var o=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Oa,Ia=(0,g.b2)()(Na=function(e){(0,x.Z)(n,e);var t=Pa(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"onEntityCreated",value:function(){for(var e=this.config,t=e.halfExtents,n=void 0===t?[.5,.5]:t,r=e.widthSegments,o=void 0===r?5:r,i=e.lengthSegments,a=void 0===i?5:i,s=[],u=[],c=[],l=[],f=0,d=0;d<=o;d++)for(var h=0;h<=a;h++){var p=-n[0]+2*n[0]*d/o,g=-(-n[1]+2*n[1]*h/a),v=d/o,m=h/a;s.push(p,0,g),u.push(0,1,0),c.push(v,m),d<o&&h<a&&(l.push(f+a+1,f+1,f),l.push(f+a+1,f+a+2,f+1)),f++}var y=_r(s),b=this.getComponent();b.indices=Uint32Array.from(l),b.aabb=y,b.vertexCount=f,b.attributes=[{dirty:!0,name:"position",data:Float32Array.from(s),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(u),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(c),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(eo))||Na;function Da(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var o=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Ra,La,ja,Fa,Ba,za,Ga,Va,Ua=(0,g.b2)()(Oa=function(e){(0,x.Z)(n,e);var t=Da(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"onEntityCreated",value:function(){for(var e=this.config,t=e.radius,n=void 0===t?.5:t,r=e.latitudeBands,o=void 0===r?16:r,i=e.longitudeBands,a=void 0===i?16:i,s=[],u=[],c=[],l=[],f=0;f<=o;f++)for(var d=f*Math.PI/o,h=Math.sin(d),p=Math.cos(d),g=0;g<=a;g++){var v=2*g*Math.PI/a-Math.PI/2,m=Math.sin(v),y=Math.cos(v)*h,b=p,x=m*h,w=1-g/a,E=1-f/o;s.push(y*n,b*n,x*n),u.push(y,b,x),c.push(w,E)}for(var _=0;_<o;++_)for(var S=0;S<a;++S){var k=_*(a+1)+S,T=k+a+1;l.push(k+1,T,k),l.push(k+1,T+1,T)}var C=_r(s),M=this.getComponent();M.indices=Uint32Array.from(l),M.aabb=C,M.vertexCount=s.length/3,M.attributes=[{dirty:!0,name:"position",data:Float32Array.from(s),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(u),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(c),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(eo))||Oa;function Wa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var o=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Za,Ya,Ha,Xa,Ka,qa,$a,Ja,Qa,es,ts,ns,rs=(Ra=(0,g.b2)(),La=(0,g.f3)(v.RenderEngine),ja=(0,g.f3)(v.ShaderModuleService),Ra((Va=function(e){(0,x.Z)(n,e);var t=Wa(n);function n(){var e;(0,o.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r(e=t.call.apply(t,[this].concat(a)),"engine",za,(0,L.Z)(e)),r(e,"shaderModuleService",Ga,(0,L.Z)(e)),e}return(0,i.Z)(n,[{key:"onEntityCreated",value:function(){var e=this.getComponent(),t=this.engine.supportWebGPU?"layout(set = 0, binding = 0) uniform Uniforms {\n  vec4 color;\n  mat4 projectionMatrix;\n  mat4 modelViewMatrix;\n} uniforms;\n\nlayout(location = 0) in vec3 position;\n// layout(location = 1) in vec3 barycentric;\n\nlayout(location = 0) out vec4 fragColor;\n// layout(location = 1) out vec3 v_Barycentric;\n\nvoid main() {\n  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);\n  fragColor = uniforms.color;\n  // v_Barycentric = barycentric;\n}":'attribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform vec4 color;\n\nvarying vec4 fragColor;\n\n#pragma include "uv.vert.declaration"\n\nvoid main() {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  fragColor = color;\n\n  #pragma include "uv.vert.main"\n}',n=this.engine.supportWebGPU?"// layout(set = 0, binding = 1) uniform WireframeUniforms {\n//   float lineWidth;\n//   vec4 lineColor;\n// } wireframe;\n\nlayout(location = 0) in vec4 fragColor;\n// layout(location = 1) in vec3 v_Barycentric;\n\nlayout(location = 0) out vec4 outColor;\n\n// wireframe\n// float edgeFactor() {\n//   vec3 d = fwidth(v_Barycentric);\n//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);\n//   return min(min(a3.x, a3.y), a3.z);\n// }\n\nvoid main() {\n  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));\n  outColor = fragColor;\n}":'varying vec4 fragColor;\n\n#pragma include "uv.frag.declaration"\n#pragma include "map.frag.declaration"\n\nvoid main() {\n  vec4 diffuseColor = fragColor;\n\n  #pragma include "map.frag.main"\n\n  gl_FragColor = diffuseColor;\n}';this.shaderModuleService.registerModule("material-basic",{vs:t,fs:n});var r=this.shaderModuleService.getModule("material-basic"),o=r.vs,i=r.fs,a=r.uniforms;e.vertexShaderGLSL=o,e.fragmentShaderGLSL=i,e.setUniform(a),this.config.map&&(e.setDefines({USE_UV:1,USE_MAP:1}),e.setUniform({map:this.config.map,uvTransform:G.create()}))}}]),n}(ni),za=a((Ba=Va).prototype,"engine",[La],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ga=a(Ba.prototype,"shaderModuleService",[ja],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fa=Ba))||Fa);function os(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var o=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var is,as,ss,us,cs,ls,fs,ds,hs,ps,gs,vs,ms=(Za=(0,g.b2)(),Ya=(0,g.f3)(v.Systems),Ha=(0,g.t6)(v.MaterialSystem),Xa=(0,g.f3)(v.Systems),Ka=(0,g.t6)(v.GeometrySystem),qa=(0,g.f3)(v.ShaderModuleService),Za((ns=function(e){(0,x.Z)(n,e);var t=os(n);function n(){var e;(0,o.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r(e=t.call.apply(t,[this].concat(a)),"materialSystem",Qa,(0,L.Z)(e)),r(e,"geometrySystem",es,(0,L.Z)(e)),r(e,"shaderModuleService",ts,(0,L.Z)(e)),e}return(0,i.Z)(n,[{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data,r=this.getMeshComponent();r&&r.material&&("gridColor"===t?(r.material.setUniform("u_GridColor",n),r.material.setUniform("u_GridColor2",n)):"gridSize"===t&&(r.material.setUniform("u_GridSize",n),r.material.setUniform("u_GridSize2",n)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:"attribute vec3 a_Position;\n\nvarying vec3 v_Position;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nvoid main() {\n  v_Position = a_Position;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);\n}",fs:"// generate grid, borrow from clay.gl viewer\n// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl\n#extension GL_OES_standard_derivatives : enable\n\nvarying vec3 v_Position;\n// varying vec3 v_Normal;\n\nuniform float u_GridSize : 5;\nuniform float u_GridSize2 : .5;\nuniform vec4 u_GridColor : [0, 0, 0, 1];\nuniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];\nuniform bool u_GridEnabled : true;\n\n// uniform vec3 u_LightDirection;\n// uniform vec3 u_LightColor;\n// uniform vec3 u_Camera;\n\nvoid main() {\n  // vec3 n = v_Normal;\n  // vec3 l = normalize(u_LightDirection);\n  // float NdotL = clamp(dot(n, l), 0.001, 1.0);\n\n  gl_FragColor = vec4(1.);\n\n  if (u_GridEnabled) {\n    float wx = v_Position.x;\n    float wz = v_Position.z;\n    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;\n    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;\n\n    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;\n    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;\n\n    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);\n    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);\n    // if (v0 > 0.1) {\n        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);\n    // }\n    // else {\n        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);\n    // }\n  }\n\n  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);\n  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;\n\n  // gl_FragColor.rgb *= diffuseColor;\n}"});var e=this.shaderModuleService.getModule("grid"),t=e.vs,n=e.fs,r=e.uniforms,o=this.materialSystem.createShaderMaterial({vertexShader:t,fragmentShader:n});this.setMaterial(o);var i=this.geometrySystem.createBufferGeometry({vertexCount:4});this.setGeometry(i),o.setCull({enable:!1,face:$.BACK}).setDepth({enable:!0,func:$.LESS}),o.setUniform(r),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),i.setIndex([0,3,2,2,1,0]),i.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),n}(ri),Qa=a((Ja=ns).prototype,"materialSystem",[Ya,Ha],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),es=a(Ja.prototype,"geometrySystem",[Xa,Ka],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ts=a(Ja.prototype,"shaderModuleService",[qa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$a=Ja))||$a),ys=n(1583),bs=n(5687);function xs(e,t,n,r,o){ws(t,r,-o),ws(t,r,o),e.push(n),e.push(n)}function ws(e,t,n){e.push([[t[0],t[1]],n])}function Es(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var o=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var _s,Ss,ks,Ts,Cs,Ms,Ns,As,Ps,Os,Is,Ds,Rs=(is=(0,g.b2)(),as=(0,g.f3)(v.Systems),ss=(0,g.t6)(v.MaterialSystem),us=(0,g.f3)(v.Systems),cs=(0,g.t6)(v.GeometrySystem),ls=(0,g.f3)(v.ShaderModuleService),is((vs=function(e){(0,x.Z)(n,e);var t=Es(n);function n(){var e;(0,o.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r(e=t.call.apply(t,[this].concat(a)),"materialSystem",hs,(0,L.Z)(e)),r(e,"geometrySystem",ps,(0,L.Z)(e)),r(e,"shaderModuleService",gs,(0,L.Z)(e)),e.vertexCount=void 0,e}return(0,i.Z)(n,[{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data,r=this.getMeshComponent();if(r&&r.material)switch(t){case"dashArray":r.material.setUniform("u_dash_array",n);break;case"dashOffset":r.material.setUniform("u_dash_offset",n);break;case"dashRatio":r.material.setUniform("u_dash_ratio",n);break;case"thickness":r.material.setUniform("u_thickness",n);break;case"color":var o=new Array(this.vertexCount).fill(void 0).map((function(){return n})).reduce((function(e,t){return[].concat((0,Ei.Z)(e),(0,Ei.Z)(t))}),[]);r.geometry.setAttribute("a_color",Float32Array.from(o),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]})}}},{key:"onEntityCreated",value:function(){var e=this;this.shaderModuleService.registerModule("line",{vs:"attribute vec2 a_pos;\nattribute vec4 a_color;\nattribute float a_line_miter;\nattribute vec2 a_line_normal;\nattribute float a_counters;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform float u_thickness : 0.02;\nuniform vec2 u_viewport;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_counters;\n\nvoid main() {\n  v_color = a_color;\n  v_counters = a_counters;\n\n  vec3 normal = normalize(vec3(a_line_normal, 0.0));\n\n  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);\n\n  v_normal = vec2(normal * sign(a_line_miter));\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;\n}\n",fs:"uniform float u_dash_array : 0.02;\nuniform float u_dash_offset : 0;\nuniform float u_dash_ratio : 0;\nuniform float u_thickness : 0.02;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_counters;\n\nvoid main() {\n    float blur = 1. - smoothstep(0.98, 1., length(v_normal));\n\n    gl_FragColor = v_color;\n    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));\n}"});var t=this.shaderModuleService.getModule("line"),n=t.vs,r=t.fs,o=t.uniforms,i=this.materialSystem.createShaderMaterial({vertexShader:n,fragmentShader:r}),a=function(e,t,n){var r=[0,0],o=[0,0],i=[0,0],a=[0,0],s=-1,u=!1,c=null,l=(0,ys.create)(),f=n||0,d=[],h=[],p=[],g=[0,0];t&&(e=e.slice()).push(e[0]);for(var v=e.length,m=1;m<v;m++){var y=f,b=e[m-1],x=e[m],w=m<e.length-1?e[m+1]:null;if(g.push(m/v,m/v),(0,bs.o7)(r,x,b),c||(c=[0,0],(0,bs.mJ)(c,r)),u||(u=!0,xs(h,d,b,c,1)),p.push([y+0,y+1,y+2]),w){(0,bs.o7)(o,w,x);var E=(0,bs.x7)(i,a,r,o,1),_=(0,ys.dot)(i,c)<0?-1:1,S=E>3;if(!isFinite(E)){(0,bs.mJ)(c,r),xs(h,d,x,c,1),p.push(1===s?[y,y+2,y+3]:[y+2,y+1,y+3]),f+=2,s=_;continue}S?(E=3,g.push(m/v),ws(d,c,-_),h.push(x),ws(d,a,E*_),h.push(x),p.push(s!==-_?[y,y+2,y+3]:[y+2,y+1,y+3]),p.push([y+2,y+3,y+4]),(0,bs.mJ)(l,o),(0,ys.copy)(c,l),ws(d,c,-_),h.push(x),f+=3):(xs(h,d,x,a,E),p.push(1===s?[y,y+2,y+3]:[y+2,y+1,y+3]),_=-1,(0,ys.copy)(c,a),f+=2),s=_}else(0,bs.mJ)(c,r),xs(h,d,x,c,1),p.push(1===s?[y,y+2,y+3]:[y+2,y+1,y+3]),f+=2}return{normals:d,attrIndex:p,attrPos:h,attrCounters:g}}(this.config.points,!1),s=a.normals,u=a.attrIndex,c=a.attrPos,l=a.attrCounters,f=c.length;this.vertexCount=f;var d=this.geometrySystem.createBufferGeometry({vertexCount:f});this.setMaterial(i),this.setGeometry(d),i.setCull({enable:!1,face:$.BACK}).setUniform(o),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness});var h=[],p=[];s.forEach((function(e){var t=e[0],n=e[1];h.push([t[0],t[1]]),p.push(n)})),d.setIndex(u.reduce((function(e,t){return[].concat((0,Ei.Z)(e),(0,Ei.Z)(t))}),[])),d.setAttribute("a_pos",Float32Array.from(c.reduce((function(e,t){return[].concat((0,Ei.Z)(e),(0,Ei.Z)(t))}),[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]});var g=new Array(f).fill(void 0).map((function(){return(0,Ei.Z)(e.config.color)})).reduce((function(e,t){return[].concat((0,Ei.Z)(e),(0,Ei.Z)(t))}),[]);d.setAttribute("a_color",Float32Array.from(g),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),d.setAttribute("a_line_miter",Float32Array.from(p),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),d.setAttribute("a_line_normal",Float32Array.from(h.reduce((function(e,t){return[].concat((0,Ei.Z)(e),(0,Ei.Z)(t))}),[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),d.setAttribute("a_counters",Float32Array.from(l),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),n}(ri),hs=a((ds=vs).prototype,"materialSystem",[as,ss],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ps=a(ds.prototype,"geometrySystem",[us,cs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gs=a(ds.prototype,"shaderModuleService",[ls],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fs=ds))||fs);function Ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function js(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var o=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Fs,Bs,zs,Gs,Vs,Us,Ws,Zs,Ys,Hs,Xs=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],Ks=(_s=(0,g.b2)(),Ss=(0,g.f3)(v.Systems),ks=(0,g.t6)(v.MaterialSystem),Ts=(0,g.f3)(v.Systems),Cs=(0,g.t6)(v.GeometrySystem),Ms=(0,g.f3)(v.ShaderModuleService),_s((Ds=function(e){(0,x.Z)(n,e);var t=js(n);function n(){var e;(0,o.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r(e=t.call.apply(t,[this].concat(a)),"materialSystem",Ps,(0,L.Z)(e)),r(e,"geometrySystem",Os,(0,L.Z)(e)),r(e,"shaderModuleService",Is,(0,L.Z)(e)),e}return(0,i.Z)(n,[{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data,r=this.getMeshComponent();r&&r.material&&("strokeWidth"===t?r.material.setUniform("u_stroke_width",n):"strokeColor"===t?r.material.setUniform("u_stroke_color",n):"strokeOpacity"===t?r.material.setUniform("u_stroke_opacity",n):"opacity"===t?r.material.setUniform("u_opacity",n):"blur"===t&&r.material.setUniform("u_blur",n))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:'attribute vec2 position;\nattribute vec4 color;\nattribute float shape;\nattribute vec2 offset;\nattribute float size;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nuniform float u_stroke_width : 0.01;\nuniform float u_device_pixel_ratio;\nuniform vec2 u_viewport;\n\nvarying vec4 v_color;\nvarying vec4 v_data;\nvarying float v_radius;\n\n#pragma include "picking"\n\nvoid main() {\n  v_color = color;\n  v_radius = size;\n\n  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);\n\n  // construct point coords\n  v_data = vec4(position, antialiasblur, shape);\n\n  gl_Position = projectionMatrix * modelViewMatrix\n    * vec4(position * size + offset, 0.0, 1.0);\n\n  setPickingColor(a_PickingColor);\n}',fs:"uniform float u_blur : 0.05;\nuniform float u_opacity : 0.7;\nuniform float u_stroke_width : 0.01;\nuniform vec4 u_stroke_color : [0, 0, 0, 0];\nuniform float u_stroke_opacity : 1;\n\nvarying vec4 v_color;\nvarying vec4 v_data;\nvarying float v_radius;\n\n#pragma include \"sdf2d\"\n#pragma include \"picking\"\n\nvoid main() {\n  int shape = int(floor(v_data.w + 0.5));\n\n  float antialiasblur = v_data.z;\n  float antialiased_blur = -max(u_blur, antialiasblur);\n  float r = v_radius / (v_radius + u_stroke_width);\n\n  float outer_df;\n  float inner_df;\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\n  // if (shape == 0) {\n    outer_df = sdCircle(v_data.xy, 1.0);\n    inner_df = sdCircle(v_data.xy, r);\n  // } else if (shape == 1) {\n  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\n  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\n  // } else if (shape == 2) {\n  //   outer_df = sdBox(v_data.xy, vec2(1.));\n  //   inner_df = sdBox(v_data.xy, vec2(r));\n  // } else if (shape == 3) {\n  //   outer_df = sdPentagon(v_data.xy, 0.8);\n  //   inner_df = sdPentagon(v_data.xy, r * 0.8);\n  // } else if (shape == 4) {\n  //   outer_df = sdHexagon(v_data.xy, 0.8);\n  //   inner_df = sdHexagon(v_data.xy, r * 0.8);\n  // } else if (shape == 5) {\n  //   outer_df = sdOctogon(v_data.xy, 1.0);\n  //   inner_df = sdOctogon(v_data.xy, r);\n  // } else if (shape == 6) {\n  //   outer_df = sdHexagram(v_data.xy, 0.52);\n  //   inner_df = sdHexagram(v_data.xy, r * 0.52);\n  // } else if (shape == 7) {\n  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));\n  //   inner_df = sdRhombus(v_data.xy, vec2(r));\n  // } else if (shape == 8) {\n  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);\n  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\n  // }\n\n  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);\n\n  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(\n    antialiased_blur,\n    0.0,\n    inner_df\n  );\n  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;\n\n  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);\n  gl_FragColor.a = gl_FragColor.a * opacity_t;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}"});var e=this.shaderModuleService.getModule("grid"),t=e.vs,n=e.fs,r=e.uniforms,o=this.materialSystem.createShaderMaterial({vertexShader:t,fragmentShader:n,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:$.SRC_ALPHA,dstRGB:$.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}});o.setUniform(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ls(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({u_device_pixel_ratio:window.devicePixelRatio},r));var i=this.buildAttributes(),a=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:i.instancedOffsets.length/2,vertexCount:6});a.setIndex([0,2,1,0,3,2]),a.setAttribute("position",Float32Array.from(i.positions),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),a.setAttribute("offset",Float32Array.from(i.instancedOffsets),{arrayStride:8,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),a.setAttribute("color",Float32Array.from(i.instancedColors),{arrayStride:16,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),a.setAttribute("size",Float32Array.from(i.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),a.setAttribute("shape",Float32Array.from(i.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),a.setAttribute("a_PickingColor",Float32Array.from(i.instancedPickingColors),{arrayStride:12,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(o),this.setGeometry(a)}},{key:"buildAttribute",value:function(e,t,n){var r,o,i,a,s;(r=t.instancedPickingColors).push.apply(r,(0,Ei.Z)([(s=e.id||n)+1&255,s+1>>8&255,s+1>>8>>8&255])),t.instancedShapes.push(Xs.indexOf(e.shape||"circle")),(o=t.instancedColors).push.apply(o,(0,Ei.Z)(e.color||[1,0,0,1])),(i=t.instancedOffsets).push.apply(i,(0,Ei.Z)(e.position||[0,0])),(a=t.instancedSizes).push.apply(a,(0,Ei.Z)(e.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var e=this,t={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach((function(n,r){e.buildAttribute(n,t,r)})):this.buildAttribute(this.config,t,0),t}}]),n}(ri),Ps=a((As=Ds).prototype,"materialSystem",[Ss,ks],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Os=a(As.prototype,"geometrySystem",[Ts,Cs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Is=a(As.prototype,"shaderModuleService",[Ms],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ns=As))||Ns);function qs(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return $s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $s(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function $s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Js,Qs,eu,tu,nu,ru,ou,iu,au,su,uu,cu,lu=(Fs=(0,g.b2)(),Bs=(0,g.f3)(v.RenderEngine),zs=(0,g.f3)(v.ShaderModuleService),Gs=(0,g.f3)(v.ConfigService),Fs((Hs=function(){function e(){(0,o.Z)(this,e),this.container=void 0,r(this,"engine",Ws,this),r(this,"shaderModule",Zs,this),r(this,"configService",Ys,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0}return(0,i.Z)(e,[{key:"init",value:function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r,o,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.shaderModule.registerBuiltinModules(),this.shaderModule.registerModule("uv.vert.declaration",{vs:"#ifdef USE_UV\n  attribute vec2 uv;\n\t#ifdef UVS_VERTEX_ONLY\n    vec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif"}),this.shaderModule.registerModule("uv.vert.main",{vs:"#ifdef USE_UV\n  vUv = (uvTransform * vec3(uv, 1)).xy;\n#endif"}),this.shaderModule.registerModule("uv.frag.declaration",{fs:"#if (defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ))\n  varying vec2 vUv;\n#endif"}),this.shaderModule.registerModule("map.frag.declaration",{fs:"#ifdef USE_MAP\n  uniform sampler2D map;\n#endif"}),this.shaderModule.registerModule("map.frag.main",{fs:"#ifdef USE_MAP\n  vec4 texelColor = texture2D(map, vUv);\n  // texelColor = mapTexelToLinear(texelColor);\n  diffuseColor *= texelColor;\n#endif"}),t=this.container.getAll(v.Systems),!(n=this.configService.get()).canvas){e.next=30;break}return e.next=11,this.engine.init({canvas:n.canvas,swapChainFormat:to.EV.BGRA8Unorm,antialiasing:!1});case 11:r=qs(t),e.prev=12,r.s();case 14:if((o=r.n()).done){e.next=21;break}if(!(i=o.value).initialize){e.next=19;break}return e.next=19,i.initialize();case 19:e.next=14;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(12),r.e(e.t0);case 26:return e.prev=26,r.f(),e.finish(26);case 29:this.inited=!0;case 30:case"end":return e.stop()}}),e,this,[[12,23,26,29]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r,o,i,a,s,c=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.inited&&!this.rendering){e.next=2;break}return e.abrupt("return");case 2:for(this.pendings.length&&this.pendings.forEach((function(e){e()})),this.rendering=!0,this.engine.beginFrame(),t=this.container.getAll(v.Systems),n=c.length,r=new Array(n),o=0;o<n;o++)r[o]=c[o];i=qs(t),e.prev=8,i.s();case 10:if((a=i.n()).done){e.next=17;break}if(!(s=a.value).execute){e.next=15;break}return e.next=15,s.execute(r);case 15:e.next=10;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),i.e(e.t0);case 22:return e.prev=22,i.f(),e.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return e.stop()}}),e,this,[[8,19,22,25]])})));return function(){return e.apply(this,arguments)}}()},{key:"clear",value:function(e){var t=this;return this.inited?this.engine.clear(e):this.pendings.unshift((function(){t.engine.clear(e),t.pendings.shift()})),this}},{key:"setSize",value:function(e){var t=e.width,n=e.height,r=this.engine.getCanvas();return this.size={width:t,height:n},r.width=t,r.height=n,this}},{key:"getSize",value:function(){return this.size}}]),e}(),Ws=a((Us=Hs).prototype,"engine",[Bs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zs=a(Us.prototype,"shaderModule",[zs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ys=a(Us.prototype,"configService",[Gs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vs=Us))||Vs),fu=(0,g.b2)()((Qs=function(){function e(){(0,o.Z)(this,e),this.entities=[]}return(0,i.Z)(e,[{key:"getEntities",value:function(){return this.entities}},{key:"addRenderable",value:function(e){return this.addEntity(e.getEntity()),this}},{key:"removeRenderable",value:function(e){return this.removeEntity(e.getEntity()),this}},{key:"addLight",value:function(){}},{key:"addEntity",value:function(e){return-1===this.entities.indexOf(e)&&this.entities.push(e),this}},{key:"removeEntity",value:function(e){var t=this.entities.indexOf(e);return this.entities.splice(t,1),this}}]),e}(),Js=Qs))||Js,du=(0,g.b2)()((tu=function(){function e(){(0,o.Z)(this,e),this.cache={}}return(0,i.Z)(e,[{key:"get",value:function(e){return this.cache[e]}},{key:"set",value:function(e,t){this.cache[e]=t}}]),e}(),eu=tu))||eu;function hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hu(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gu,vu,mu,yu,bu,xu,wu,Eu,_u,Su,ku,Tu,Cu,Mu=(nu=(0,g.b2)(),ru=(0,g.f3)(du),ou=(0,g.f3)(v.RenderEngine),nu((cu=function(){function e(){(0,o.Z)(this,e),r(this,"textureCache",su,this),r(this,"engine",uu,this),this.config=void 0,this.loaded=!1,this.texture=void 0}return(0,i.Z)(e,[{key:"setConfig",value:function(e){this.config=e}},{key:"isLoaded",value:function(){return this.loaded}},{key:"load",value:function(){var e=(0,c.Z)(u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.config.url){e.next=4;break}return e.abrupt("return",new Promise((function(e,n){var r=t.textureCache.get(t.config.url);if(r)e(r);else{var o=new Image;o.crossOrigin="Anonymous",o.src=t.config.url,o.onload=function(){var n=t.engine.createTexture2D(pu(pu({},t.config),{},{data:o,width:o.width,height:o.height,flipY:!0}));t.textureCache.set(t.config.url,n),t.texture=n,t.loaded=!0,e(n)},o.onerror=function(){n()}}})));case 4:return this.loaded=!0,this.texture=this.engine.createTexture2D(this.config),e.abrupt("return",this.texture);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),su=a((au=cu).prototype,"textureCache",[ru],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uu=a(au.prototype,"engine",[ou],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),iu=au))||iu),Nu=(gu=(0,g.b2)(),vu=(0,g.f3)(v.Systems),mu=(0,g.t6)(v.RendererSystem),gu((wu=function(){function e(){(0,o.Z)(this,e),r(this,"rendererSystem",xu,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}return(0,i.Z)(e,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(e){return this.camera=e,this}},{key:"setScene",value:function(e){return this.scene=e,this}},{key:"setViewport",value:function(e){return this.viewport=e,this}},{key:"setClearColor",value:function(e){return this.clearColor=e,this}},{key:"pick",value:function(e){return this.rendererSystem.pick(e,this)}}]),e}(),xu=a((bu=wu).prototype,"rendererSystem",[vu,mu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yu=bu))||yu);function Au(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Au(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Au(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ou=(Eu=(0,g.b2)(),_u=(0,g.f3)(v.ConfigService),Eu((Cu=function(){function e(){(0,o.Z)(this,e),r(this,"configService",Tu,this),this.container=void 0}return(0,i.Z)(e,[{key:"getEngine",value:function(){var e=(0,c.Z)(u().mark((function e(){var t,n,r,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.container.get(v.RenderEngine),n=this.configService.get(),r=n.canvas,o=n.engineOptions,e.next=4,t.init(Pu({canvas:r||no(),swapChainFormat:to.EV.BGRA8Unorm,antialiasing:!1},o));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTransformComponent",value:function(e){return this.container.get(v.TransformComponentManager).getComponentByEntity(e)}},{key:"getMeshComponent",value:function(e){return this.container.get(v.MeshComponentManager).getComponentByEntity(e)}},{key:"setConfig",value:function(e){this.configService.set(e)}},{key:"setContainer",value:function(e){this.container=e}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return f()}},{key:"createScene",value:function(){return this.container.get(fu)}},{key:"createCamera",value:function(){return this.container.get(Qr)}},{key:"createView",value:function(){return this.container.get(Nu)}},{key:"createRenderable",value:function(e,t){var n=e?this.container.getNamed(v.Renderable,e):this.container.get(ri),r=f();return n.setConfig(t||{}),n.setEntity(r),n}},{key:"createGeometry",value:function(e,t){var n=this.container.getNamed(v.Geometry,e),r=f();return n.setConfig(t||{}),n.setEntity(r),n.getComponent()}},{key:"createMaterial",value:function(e,t){var n=this.container.getNamed(v.Material,e),r=f();return n.setConfig(t||{}),n.setEntity(r,e),n.getComponent()}},{key:"createTexture2D",value:function(e){var t=this.container.get(Mu);return t.setConfig(e),t}},{key:"createBufferGeometry",value:function(e){return this.container.getNamed(v.Systems,v.GeometrySystem).createBufferGeometry(e)}},{key:"createInstancedBufferGeometry",value:function(e){return this.container.getNamed(v.Systems,v.GeometrySystem).createInstancedBufferGeometry(e)}},{key:"createShaderMaterial",value:function(e){return this.container.getNamed(v.Systems,v.MaterialSystem).createShaderMaterial(e)}},{key:"createKernel",value:function(e){var t=this.container.get(ti);return"string"===typeof e?t.setBundle(JSON.parse(e)):t.setBundle(e),t.init(),t}},{key:"createRenderer",value:function(){var e=this.container.get(lu);return e.container=this.container,e.init(),e}},{key:"destroy",value:function(){this.container.getAll(v.Systems).forEach((function(e){e.tearDown&&e.tearDown()})),this.container.get(v.RenderEngine).destroy(),this.container.get(v.InteractorService).destroy()}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Er(),r=navigator.gpu?_a:Vi;n.isBound(v.RenderEngine)||n.bind(v.RenderEngine).to(r).inSingletonScope(),n.bind(lu).toSelf(),n.bind(ti).toSelf(),n.bind(ri).toSelf(),n.bind(Nu).toSelf(),n.bind(Qr).toSelf(),n.bind(fu).toSelf(),n.bind(e).toSelf(),n.bind(du).toSelf(),n.bind(Mu).toSelf(),n.bind(v.Geometry).to(Ca).whenTargetNamed(eo.BOX),n.bind(v.Geometry).to(Ua).whenTargetNamed(eo.SPHERE),n.bind(v.Geometry).to(Ia).whenTargetNamed(eo.PLANE),n.bind(v.Geometry).to(Aa).whenTargetNamed(eo.MERGED),n.bind(v.Material).to(rs).whenTargetNamed(ni.BASIC),n.bind(v.Renderable).to(Ks).whenTargetNamed(ri.POINT),n.bind(v.Renderable).to(Rs).whenTargetNamed(ri.LINE),n.bind(v.Renderable).to(ms).whenTargetNamed(ri.GRID);var o=n.get(e);return o.setContainer(n),o.setConfig(t),o}}]),e}(),Tu=a((ku=Cu).prototype,"configService",[_u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Su=ku))||Su)},3941:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}e=n.hmd(e);var o="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",s="[object Boolean]",u="[object Date]",c="[object Function]",l="[object GeneratorFunction]",f="[object Map]",d="[object Number]",h="[object Object]",p="[object Promise]",g="[object RegExp]",v="[object Set]",m="[object String]",y="[object Symbol]",b="[object WeakMap]",x="[object ArrayBuffer]",w="[object DataView]",E="[object Float32Array]",_="[object Float64Array]",S="[object Int8Array]",k="[object Int16Array]",T="[object Int32Array]",C="[object Uint8Array]",M="[object Uint8ClampedArray]",N="[object Uint16Array]",A="[object Uint32Array]",P=/\w*$/,O=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,D={};D[a]=D["[object Array]"]=D[x]=D[w]=D[s]=D[u]=D[E]=D[_]=D[S]=D[k]=D[T]=D[f]=D[d]=D[h]=D[g]=D[v]=D[m]=D[y]=D[C]=D[M]=D[N]=D[A]=!0,D["[object Error]"]=D[c]=D[b]=!1;var R="object"==("undefined"===typeof n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,L="object"==("undefined"===typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,j=R||L||Function("return this")(),F="object"==("undefined"===typeof exports?"undefined":r(exports))&&exports&&!exports.nodeType&&exports,B=F&&"object"==r(e)&&e&&!e.nodeType&&e,z=B&&B.exports===F;function G(e,t){return e.set(t[0],t[1]),e}function V(e,t){return e.add(t),e}function U(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function W(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function Z(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Y(e,t){return function(n){return e(t(n))}}function H(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var X=Array.prototype,K=Function.prototype,q=Object.prototype,$=j["__core-js_shared__"],J=function(){var e=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Q=K.toString,ee=q.hasOwnProperty,te=q.toString,ne=RegExp("^"+Q.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=z?j.Buffer:void 0,oe=j.Symbol,ie=j.Uint8Array,ae=Y(Object.getPrototypeOf,Object),se=Object.create,ue=q.propertyIsEnumerable,ce=X.splice,le=Object.getOwnPropertySymbols,fe=re?re.isBuffer:void 0,de=Y(Object.keys,Object),he=Fe(j,"DataView"),pe=Fe(j,"Map"),ge=Fe(j,"Promise"),ve=Fe(j,"Set"),me=Fe(j,"WeakMap"),ye=Fe(Object,"create"),be=Ue(he),xe=Ue(pe),we=Ue(ge),Ee=Ue(ve),_e=Ue(me),Se=oe?oe.prototype:void 0,ke=Se?Se.valueOf:void 0;function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Me(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ne(e){this.__data__=new Ce(e)}function Ae(e,t){var n=Ze(e)||function(e){return function(e){return function(e){return!!e&&"object"==r(e)}(e)&&Ye(e)}(e)&&ee.call(e,"callee")&&(!ue.call(e,"callee")||te.call(e)==a)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],o=n.length,i=!!o;for(var s in e)!t&&!ee.call(e,s)||i&&("length"==s||Ge(s,o))||n.push(s);return n}function Pe(e,t,n){var r=e[t];ee.call(e,t)&&We(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Oe(e,t){for(var n=e.length;n--;)if(We(e[n][0],t))return n;return-1}function Ie(e,t,n,r,o,i,p){var b;if(r&&(b=i?r(e,o,i,p):r(e)),void 0!==b)return b;if(!Ke(e))return e;var O=Ze(e);if(O){if(b=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&ee.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,b)}else{var I=ze(e),R=I==c||I==l;if(He(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(I==h||I==a||R&&!i){if(W(e))return i?e:{};if(b=function(e){return"function"!=typeof e.constructor||Ve(e)?{}:(t=ae(e),Ke(t)?se(t):{});var t}(R?{}:e),!t)return function(e,t){return Le(e,Be(e),t)}(e,function(e,t){return e&&Le(t,qe(t),e)}(b,e))}else{if(!D[I])return i?e:{};b=function(e,t,n,r){var o=e.constructor;switch(t){case x:return Re(e);case s:case u:return new o(+e);case w:return function(e,t){var n=t?Re(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case E:case _:case S:case k:case T:case C:case M:case N:case A:return function(e,t){var n=t?Re(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case f:return function(e,t,n){return U(t?n(Z(e),!0):Z(e),G,new e.constructor)}(e,r,n);case d:case m:return new o(e);case g:return function(e){var t=new e.constructor(e.source,P.exec(e));return t.lastIndex=e.lastIndex,t}(e);case v:return function(e,t,n){return U(t?n(H(e),!0):H(e),V,new e.constructor)}(e,r,n);case y:return i=e,ke?Object(ke.call(i)):{}}var i}(e,I,Ie,t)}}p||(p=new Ne);var L=p.get(e);if(L)return L;if(p.set(e,b),!O)var j=n?function(e){return function(e,t,n){var r=t(e);return Ze(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,qe,Be)}(e):qe(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(j||e,(function(o,i){j&&(o=e[i=o]),Pe(b,i,Ie(o,t,n,r,i,e,p))})),b}function De(e){return!(!Ke(e)||(t=e,J&&J in t))&&(Xe(e)||W(e)?ne:O).test(Ue(e));var t}function Re(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function Le(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=r?r(n[a],e[a],a,n,e):void 0;Pe(n,a,void 0===s?e[a]:s)}return n}function je(e,t){var n=e.__data__;return function(e){var t=r(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Fe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return De(n)?n:void 0}Te.prototype.clear=function(){this.__data__=ye?ye(null):{}},Te.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Te.prototype.get=function(e){var t=this.__data__;if(ye){var n=t[e];return n===o?void 0:n}return ee.call(t,e)?t[e]:void 0},Te.prototype.has=function(e){var t=this.__data__;return ye?void 0!==t[e]:ee.call(t,e)},Te.prototype.set=function(e,t){return this.__data__[e]=ye&&void 0===t?o:t,this},Ce.prototype.clear=function(){this.__data__=[]},Ce.prototype.delete=function(e){var t=this.__data__,n=Oe(t,e);return!(n<0)&&(n==t.length-1?t.pop():ce.call(t,n,1),!0)},Ce.prototype.get=function(e){var t=this.__data__,n=Oe(t,e);return n<0?void 0:t[n][1]},Ce.prototype.has=function(e){return Oe(this.__data__,e)>-1},Ce.prototype.set=function(e,t){var n=this.__data__,r=Oe(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Me.prototype.clear=function(){this.__data__={hash:new Te,map:new(pe||Ce),string:new Te}},Me.prototype.delete=function(e){return je(this,e).delete(e)},Me.prototype.get=function(e){return je(this,e).get(e)},Me.prototype.has=function(e){return je(this,e).has(e)},Me.prototype.set=function(e,t){return je(this,e).set(e,t),this},Ne.prototype.clear=function(){this.__data__=new Ce},Ne.prototype.delete=function(e){return this.__data__.delete(e)},Ne.prototype.get=function(e){return this.__data__.get(e)},Ne.prototype.has=function(e){return this.__data__.has(e)},Ne.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ce){var r=n.__data__;if(!pe||r.length<199)return r.push([e,t]),this;n=this.__data__=new Me(r)}return n.set(e,t),this};var Be=le?Y(le,Object):function(){return[]},ze=function(e){return te.call(e)};function Ge(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||I.test(e))&&e>-1&&e%1==0&&e<t}function Ve(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||q)}function Ue(e){if(null!=e){try{return Q.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function We(e,t){return e===t||e!==e&&t!==t}(he&&ze(new he(new ArrayBuffer(1)))!=w||pe&&ze(new pe)!=f||ge&&ze(ge.resolve())!=p||ve&&ze(new ve)!=v||me&&ze(new me)!=b)&&(ze=function(e){var t=te.call(e),n=t==h?e.constructor:void 0,r=n?Ue(n):void 0;if(r)switch(r){case be:return w;case xe:return f;case we:return p;case Ee:return v;case _e:return b}return t});var Ze=Array.isArray;function Ye(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!Xe(e)}var He=fe||function(){return!1};function Xe(e){var t=Ke(e)?te.call(e):"";return t==c||t==l}function Ke(e){var t=r(e);return!!e&&("object"==t||"function"==t)}function qe(e){return Ye(e)?Ae(e):function(e){if(!Ve(e))return de(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}t.Z=function(e){return Ie(e,!0,!0)}},7701:function(e){var t;"undefined"!==typeof self&&self,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=31)}([function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Array.isArray?Array.isArray(e):Object(r.a)(e,"Array")}},function(e,t,n){"use strict";t.a=function(e){return null!==e&&"function"!==typeof e&&isFinite(e.length)}},function(e,t,n){"use strict";var r=n(0),o=n(13);t.a=function(e,t){if(e)if(Object(r.a)(e))for(var n=0,i=e.length;n<i&&!1!==t(e[n],n);n++);else if(Object(o.a)(e))for(var a in e)if(e.hasOwnProperty(a)&&!1===t(e[a],a))break}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Function")}},function(e,t,n){"use strict";var r={}.toString;t.a=function(e,t){return r.call(e)==="[object "+t+"]"}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Number")}},function(e,t,n){"use strict";t.a=function(e){return null===e||void 0===e}},function(e,t,n){var r=n(33).mix;e.exports={assign:r}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"String")}},function(e,t,n){"use strict";var r=n(15),o=n(4);t.a=function(e){if(!Object(r.a)(e)||!Object(o.a)(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},function(e,t,n){"use strict";var r=n(6);t.a=function(e){return Object(r.a)(e)?"":e.toString()}},function(e,t,n){var r=n(18),o=function(){function e(e,t){void 0===t&&(t={}),this.options=t,this.rootNode=r(e,t)}return e.prototype.execute=function(){throw new Error("please override this method")},e}();e.exports=o},function(e,t,n){"use strict";var r=n(1);t.a=function(e,t){return!!Object(r.a)(e)&&e.indexOf(t)>-1}},function(e,t,n){"use strict";t.a=function(e){var t=typeof e;return null!==e&&"object"===t||"function"===t}},function(e,t,n){"use strict";var r=n(2),o=n(1);t.a=function(e,t){if(!Object(o.a)(e))return e;var n=[];return Object(r.a)(e,(function(e,r){t(e,r)&&n.push(e)})),n}},function(e,t,n){"use strict";t.a=function(e){return"object"===typeof e&&null!==e}},function(e,t,n){"use strict";function r(e,t){for(var n in t)t.hasOwnProperty(n)&&"constructor"!==n&&void 0!==t[n]&&(e[n]=t[n])}t.a=function(e,t,n,o){return t&&r(e,t),n&&r(e,n),o&&r(e,o),e}},function(e,t,n){var r=n(30),o=["LR","RL","TB","BT","H","V"],i=["LR","RL","H"],a=o[0];e.exports=function(e,t,n){var s=t.direction||a;if(t.isHorizontal=function(e){return i.indexOf(e)>-1}(s),s&&-1===o.indexOf(s))throw new TypeError("Invalid direction: "+s);if(s===o[0])n(e,t);else if(s===o[1])n(e,t),e.right2left();else if(s===o[2])n(e,t);else if(s===o[3])n(e,t),e.bottom2top();else if(s===o[4]||s===o[5]){var u=r(e,t),c=u.left,l=u.right;n(c,t),n(l,t),t.isHorizontal?c.right2left():c.bottom2top(),l.translate(c.x-l.x,c.y-l.y),e.x=c.x,e.y=l.y;var f=e.getBoundingBox();t.isHorizontal?f.top<0&&e.translate(0,-f.top):f.left<0&&e.translate(-f.left,0)}var d=t.fixedRoot;return void 0===d&&(d=!0),d&&e.translate(-(e.x+e.width/2+e.hgap),-(e.y+e.height/2+e.vgap)),e}},function(e,t,n){var r=n(7),o={getId:function(e){return e.id||e.name},getPreH:function(e){return e.preH||0},getPreV:function(e){return e.preV||0},getHGap:function(e){return e.hgap||18},getVGap:function(e){return e.vgap||18},getChildren:function(e){return e.children},getHeight:function(e){return e.height||36},getWidth:function(e){var t=e.label||" ";return e.width||18*t.split("").length}};function i(e,t){var n=this;if(n.vgap=n.hgap=0,e instanceof i)return e;n.data=e;var r=t.getHGap(e),o=t.getVGap(e);return n.preH=t.getPreH(e),n.preV=t.getPreV(e),n.width=t.getWidth(e),n.height=t.getHeight(e),n.width+=n.preH,n.height+=n.preV,n.id=t.getId(e),n.x=n.y=0,n.depth=0,n.children||(n.children=[]),n.addGap(r,o),n}r.assign(i.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(e,t){var n=this;n.hgap+=e,n.vgap+=t,n.width+=2*e,n.height+=2*t},eachNode:function(e){for(var t,n=[this];t=n.shift();)e(t),n=t.children.concat(n)},DFTraverse:function(e){this.eachNode(e)},BFTraverse:function(e){for(var t,n=[this];t=n.shift();)e(t),n=n.concat(t.children)},getBoundingBox:function(){var e={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode((function(t){e.left=Math.min(e.left,t.x),e.top=Math.min(e.top,t.y),e.width=Math.max(e.width,t.x+t.width),e.height=Math.max(e.height,t.y+t.height)})),e},translate:function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.eachNode((function(n){n.x+=e,n.y+=t,n.x+=n.preH,n.y+=n.preV}))},right2left:function(){var e=this,t=e.getBoundingBox();e.eachNode((function(e){e.x=e.x-2*(e.x-t.left)-e.width})),e.translate(t.width,0)},bottom2top:function(){var e=this,t=e.getBoundingBox();e.eachNode((function(e){e.y=e.y-2*(e.y-t.top)-e.height})),e.translate(0,t.height)}}),e.exports=function(e,t,n){void 0===t&&(t={});var a,s=new i(e,t=r.assign({},o,t)),u=[s];if(!n&&!e.collapsed)for(;a=u.shift();)if(!a.data.collapsed){var c=t.getChildren(a.data),l=c?c.length:0;if(a.children=new Array(l),c&&l)for(var f=0;f<l;f++){var d=new i(c[f],t);a.children[f]=d,u.push(d),d.parent=a,d.depth=a.depth+1}}return s}},function(e,t,n){"use strict";var r=n(6),o=n(20);t.a=function(e,t){var n=Object(o.a)(t),i=n.length;if(Object(r.a)(e))return!i;for(var a=0;a<i;a+=1){var s=n[a];if(t[s]!==e[s]||!(s in e))return!1}return!0}},function(e,t,n){"use strict";var r=n(2),o=n(3),i=Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];return Object(r.a)(e,(function(n,r){Object(o.a)(e)&&"prototype"===r||t.push(r)})),t};t.a=i},function(e,t,n){"use strict";var r=n(1),o=Array.prototype.splice;t.a=function(e,t){if(!Object(r.a)(e))return[];for(var n=e?t.length:0,i=n-1;n--;){var a=void 0,s=t[n];n!==i&&s===a||(a=s,o.call(e,s,1))}return e}},function(e,t,n){"use strict";var r=n(12),o=n(2);t.a=function(e){var t=[];return Object(o.a)(e,(function(e){Object(r.a)(t,e)||t.push(e)})),t}},function(e,t,n){"use strict";var r=n(0),o=n(3),i=n(24);t.a=function(e,t){if(!t)return{0:e};if(!Object(o.a)(t)){var n=Object(r.a)(t)?t:t.replace(/\s+/g,"").split("*");t=function(e){for(var t="_",r=0,o=n.length;r<o;r++)t+=e[n[r]]&&e[n[r]].toString();return t}}return Object(i.a)(e,t)}},function(e,t,n){"use strict";var r=n(2),o=n(0),i=n(3),a=Object.prototype.hasOwnProperty;t.a=function(e,t){if(!t||!Object(o.a)(e))return{};var n,s={},u=Object(i.a)(t)?t:function(e){return e[t]};return Object(r.a)(e,(function(e){n=u(e),a.call(s,n)?s[n].push(e):s[n]=[e]})),s}},function(e,t,n){"use strict";t.a=function(e,t){return e.hasOwnProperty(t)}},function(e,t,n){"use strict";var r=n(2),o=n(3),i=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return Object(r.a)(e,(function(n,r){Object(o.a)(e)&&"prototype"===r||t.push(n)})),t};t.a=i},function(e,t,n){"use strict";var r={}.toString;t.a=function(e){return r.call(e).replace(/^\[object /,"").replace(/]$/,"")}},function(e,t,n){"use strict";var r=Object.prototype;t.a=function(e){var t=e&&e.constructor;return e===("function"===typeof t&&t.prototype||r)}},function(e,t,n){"use strict";var r=n(15),o=n(1),i=n(8);t.a=function e(t,n){if(t===n)return!0;if(!t||!n)return!1;if(Object(i.a)(t)||Object(i.a)(n))return!1;if(Object(o.a)(t)||Object(o.a)(n)){if(t.length!==n.length)return!1;for(var a=!0,s=0;s<t.length&&(a=e(t[s],n[s]));s++);return a}if(Object(r.a)(t)||Object(r.a)(n)){var u=Object.keys(t),c=Object.keys(n);if(u.length!==c.length)return!1;for(a=!0,s=0;s<u.length&&(a=e(t[u[s]],n[u[s]]));s++);return a}return!1}},function(e,t,n){var r=n(18);e.exports=function(e,t){for(var n=r(e.data,t,!0),o=r(e.data,t,!0),i=e.children.length,a=Math.round(i/2),s=t.getSide||function(e,t){return t<a?"right":"left"},u=0;u<i;u++){var c=e.children[u];"right"===s(c,u)?o.children.push(c):n.children.push(c)}return n.eachNode((function(e){e.isRoot()||(e.side="left")})),o.eachNode((function(e){e.isRoot()||(e.side="right")})),{left:n,right:o}}},function(e,t,n){var r={compactBox:n(32),dendrogram:n(114),indented:n(116),mindmap:n(118)};e.exports=r},function(e,t,n){var r=n(11),o=n(113),i=n(17),a=n(7),s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.execute=function(){return i(this.rootNode,this.options,o)},r}(r),u={};e.exports=function(e,t){return t=a.assign({},u,t),new s(e,t).execute()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12);n.d(t,"contains",(function(){return r.a})),n.d(t,"includes",(function(){return r.a}));var o=n(34);n.d(t,"difference",(function(){return o.a}));var i=n(35);n.d(t,"find",(function(){return i.a}));var a=n(36);n.d(t,"findIndex",(function(){return a.a}));var s=n(37);n.d(t,"firstValue",(function(){return s.a}));var u=n(38);n.d(t,"flatten",(function(){return u.a}));var c=n(39);n.d(t,"flattenDeep",(function(){return c.a}));var l=n(40);n.d(t,"getRange",(function(){return l.a}));var f=n(41);n.d(t,"pull",(function(){return f.a}));var d=n(21);n.d(t,"pullAt",(function(){return d.a}));var h=n(42);n.d(t,"reduce",(function(){return h.a}));var p=n(43);n.d(t,"remove",(function(){return p.a}));var g=n(44);n.d(t,"sortBy",(function(){return g.a}));var v=n(45);n.d(t,"union",(function(){return v.a}));var m=n(22);n.d(t,"uniq",(function(){return m.a}));var y=n(46);n.d(t,"valuesOfKey",(function(){return y.a}));var b=n(47);n.d(t,"head",(function(){return b.a}));var x=n(48);n.d(t,"last",(function(){return x.a}));var w=n(49);n.d(t,"startsWith",(function(){return w.a}));var E=n(50);n.d(t,"endsWith",(function(){return E.a}));var _=n(14);n.d(t,"filter",(function(){return _.a}));var S=n(51);n.d(t,"every",(function(){return S.a}));var k=n(52);n.d(t,"some",(function(){return k.a}));var T=n(53);n.d(t,"group",(function(){return T.a}));var C=n(24);n.d(t,"groupBy",(function(){return C.a}));var M=n(23);n.d(t,"groupToMap",(function(){return M.a}));var N=n(54);n.d(t,"getWrapBehavior",(function(){return N.a}));var A=n(55);n.d(t,"wrapBehavior",(function(){return A.a}));var P=n(56);n.d(t,"number2color",(function(){return P.a}));var O=n(57);n.d(t,"parseRadius",(function(){return O.a}));var I=n(58);n.d(t,"clamp",(function(){return I.a}));var D=n(59);n.d(t,"fixedBase",(function(){return D.a}));var R=n(60);n.d(t,"isDecimal",(function(){return R.a}));var L=n(61);n.d(t,"isEven",(function(){return L.a}));var j=n(62);n.d(t,"isInteger",(function(){return j.a}));var F=n(63);n.d(t,"isNegative",(function(){return F.a}));var B=n(64);n.d(t,"isNumberEqual",(function(){return B.a}));var z=n(65);n.d(t,"isOdd",(function(){return z.a}));var G=n(66);n.d(t,"isPositive",(function(){return G.a}));var V=n(67);n.d(t,"maxBy",(function(){return V.a}));var U=n(68);n.d(t,"minBy",(function(){return U.a}));var W=n(69);n.d(t,"mod",(function(){return W.a}));var Z=n(70);n.d(t,"toDegree",(function(){return Z.a}));var Y=n(71);n.d(t,"toInteger",(function(){return Y.a}));var H=n(72);n.d(t,"toRadian",(function(){return H.a}));var X=n(73);n.d(t,"forIn",(function(){return X.a}));var K=n(25);n.d(t,"has",(function(){return K.a}));var q=n(74);n.d(t,"hasKey",(function(){return q.a}));var $=n(75);n.d(t,"hasValue",(function(){return $.a}));var J=n(20);n.d(t,"keys",(function(){return J.a}));var Q=n(19);n.d(t,"isMatch",(function(){return Q.a}));var ee=n(26);n.d(t,"values",(function(){return ee.a}));var te=n(76);n.d(t,"lowerCase",(function(){return te.a}));var ne=n(77);n.d(t,"lowerFirst",(function(){return ne.a}));var re=n(78);n.d(t,"substitute",(function(){return re.a}));var oe=n(79);n.d(t,"upperCase",(function(){return oe.a}));var ie=n(80);n.d(t,"upperFirst",(function(){return ie.a}));var ae=n(27);n.d(t,"getType",(function(){return ae.a}));var se=n(81);n.d(t,"isArguments",(function(){return se.a}));var ue=n(0);n.d(t,"isArray",(function(){return ue.a}));var ce=n(1);n.d(t,"isArrayLike",(function(){return ce.a}));var le=n(82);n.d(t,"isBoolean",(function(){return le.a}));var fe=n(83);n.d(t,"isDate",(function(){return fe.a}));var de=n(84);n.d(t,"isError",(function(){return de.a}));var he=n(3);n.d(t,"isFunction",(function(){return he.a}));var pe=n(85);n.d(t,"isFinite",(function(){return pe.a}));var ge=n(6);n.d(t,"isNil",(function(){return ge.a}));var ve=n(86);n.d(t,"isNull",(function(){return ve.a}));var me=n(5);n.d(t,"isNumber",(function(){return me.a}));var ye=n(13);n.d(t,"isObject",(function(){return ye.a}));var be=n(15);n.d(t,"isObjectLike",(function(){return be.a}));var xe=n(9);n.d(t,"isPlainObject",(function(){return xe.a}));var we=n(28);n.d(t,"isPrototype",(function(){return we.a}));var Ee=n(87);n.d(t,"isRegExp",(function(){return Ee.a}));var _e=n(8);n.d(t,"isString",(function(){return _e.a}));var Se=n(4);n.d(t,"isType",(function(){return Se.a}));var ke=n(88);n.d(t,"isUndefined",(function(){return ke.a}));var Te=n(89);n.d(t,"isElement",(function(){return Te.a}));var Ce=n(90);n.d(t,"requestAnimationFrame",(function(){return Ce.a}));var Me=n(91);n.d(t,"clearAnimationFrame",(function(){return Me.a}));var Ne=n(92);n.d(t,"augment",(function(){return Ne.a}));var Ae=n(93);n.d(t,"clone",(function(){return Ae.a}));var Pe=n(94);n.d(t,"debounce",(function(){return Pe.a}));var Oe=n(95);n.d(t,"memoize",(function(){return Oe.a}));var Ie=n(96);n.d(t,"deepMix",(function(){return Ie.a}));var De=n(2);n.d(t,"each",(function(){return De.a}));var Re=n(97);n.d(t,"extend",(function(){return Re.a}));var Le=n(98);n.d(t,"indexOf",(function(){return Le.a}));var je=n(99);n.d(t,"isEmpty",(function(){return je.a}));var Fe=n(29);n.d(t,"isEqual",(function(){return Fe.a}));var Be=n(100);n.d(t,"isEqualWith",(function(){return Be.a}));var ze=n(101);n.d(t,"map",(function(){return ze.a}));var Ge=n(102);n.d(t,"mapValues",(function(){return Ge.a}));var Ve=n(16);n.d(t,"mix",(function(){return Ve.a})),n.d(t,"assign",(function(){return Ve.a}));var Ue=n(103);n.d(t,"get",(function(){return Ue.a}));var We=n(104);n.d(t,"set",(function(){return We.a}));var Ze=n(105);n.d(t,"pick",(function(){return Ze.a}));var Ye=n(106);n.d(t,"throttle",(function(){return Ye.a}));var He=n(107);n.d(t,"toArray",(function(){return He.a}));var Xe=n(10);n.d(t,"toString",(function(){return Xe.a}));var Ke=n(108);n.d(t,"uniqueId",(function(){return Ke.a}));var qe=n(109);n.d(t,"noop",(function(){return qe.a}));var $e=n(110);n.d(t,"identity",(function(){return $e.a}));var Je=n(111);n.d(t,"size",(function(){return Je.a}));var Qe=n(112);n.d(t,"Cache",(function(){return Qe.a}))},function(e,t,n){"use strict";var r=n(14),o=n(12);t.a=function(e,t){return void 0===t&&(t=[]),Object(r.a)(e,(function(e){return!Object(o.a)(t,e)}))}},function(e,t,n){"use strict";var r=n(3),o=n(19),i=n(0),a=n(9);t.a=function(e,t){if(!Object(i.a)(e))return null;var n;if(Object(r.a)(t)&&(n=t),Object(a.a)(t)&&(n=function(e){return Object(o.a)(e,t)}),n)for(var s=0;s<e.length;s+=1)if(n(e[s]))return e[s];return null}},function(e,t,n){"use strict";t.a=function(e,t,n){void 0===n&&(n=0);for(var r=n;r<e.length;r++)if(t(e[r],r))return r;return-1}},function(e,t,n){"use strict";var r=n(6),o=n(0);t.a=function(e,t){for(var n=null,i=0;i<e.length;i++){var a=e[i][t];if(!Object(r.a)(a)){n=Object(o.a)(a)?a[0]:a;break}}return n}},function(e,t,n){"use strict";var r=n(0);t.a=function(e){if(!Object(r.a)(e))return[];for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);return t}},function(e,t,n){"use strict";var r=n(0);t.a=function e(t,n){if(void 0===n&&(n=[]),Object(r.a)(t))for(var o=0;o<t.length;o+=1)e(t[o],n);else n.push(t);return n}},function(e,t,n){"use strict";var r=n(0),o=n(14);t.a=function(e){if(!(e=Object(o.a)(e,(function(e){return!isNaN(e)}))).length)return{min:0,max:0};if(Object(r.a)(e[0])){for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);e=t}var i=Math.max.apply(null,e);return{min:Math.min.apply(null,e),max:i}}},function(e,t,n){"use strict";var r=Array.prototype,o=r.splice,i=r.indexOf;t.a=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var a=t[r],s=-1;(s=i.call(e,a))>-1;)o.call(e,s,1);return e}},function(e,t,n){"use strict";var r=n(2),o=n(0),i=n(9);t.a=function(e,t,n){if(!Object(o.a)(e)&&!Object(i.a)(e))return e;var a=n;return Object(r.a)(e,(function(e,n){a=t(a,e,n)})),a}},function(e,t,n){"use strict";var r=n(1),o=n(21);t.a=function(e,t){var n=[];if(!Object(r.a)(e))return n;for(var i=-1,a=[],s=e.length;++i<s;){var u=e[i];t(u,i,e)&&(n.push(u),a.push(i))}return Object(o.a)(e,a),n}},function(e,t,n){"use strict";var r=n(0),o=n(8),i=n(3);t.a=function(e,t){var n;if(Object(i.a)(t))n=function(e,n){return t(e)-t(n)};else{var a=[];Object(o.a)(t)?a.push(t):Object(r.a)(t)&&(a=t),n=function(e,t){for(var n=0;n<a.length;n+=1){var r=a[n];if(e[r]>t[r])return 1;if(e[r]<t[r])return-1}return 0}}return e.sort(n),e}},function(e,t,n){"use strict";var r=n(22);t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(r.a)([].concat.apply([],e))}},function(e,t,n){"use strict";var r=n(2),o=n(0),i=n(6);t.a=function(e,t){var n=[],a={};return e.forEach((function(e){var s=e[t];Object(i.a)(s)||(Object(o.a)(s)||(s=[s]),Object(r.a)(s,(function(e){a[e]||(n.push(e),a[e]=!0)})))})),n}},function(e,t,n){"use strict";t.a=function(e){if(Object(r.a)(e))return e[0]};var r=n(1)},function(e,t,n){"use strict";t.a=function(e){if(Object(r.a)(e))return e[e.length-1]};var r=n(1)},function(e,t,n){"use strict";var r=n(0),o=n(8);t.a=function(e,t){return!(!Object(r.a)(e)&&!Object(o.a)(e))&&e[0]===t}},function(e,t,n){"use strict";var r=n(0),o=n(8);t.a=function(e,t){return!(!Object(r.a)(e)&&!Object(o.a)(e))&&e[e.length-1]===t}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n))return!0;return!1}},function(e,t,n){"use strict";var r=n(23);t.a=function(e,t){if(!t)return[e];var n=Object(r.a)(e,t),o=[];for(var i in n)o.push(n[i]);return o}},function(e,t,n){"use strict";t.a=function(e,t){return e["_wrap_"+t]}},function(e,t,n){"use strict";t.a=function(e,t){if(e["_wrap_"+t])return e["_wrap_"+t];var n=function(n){e[t](n)};return e["_wrap_"+t]=n,n}},function(e,t,n){"use strict";var r={};t.a=function(e){var t=r[e];if(!t){for(var n=e.toString(16),o=n.length;o<6;o++)n="0"+n;t="#"+n,r[e]=t}return t}},function(e,t,n){"use strict";var r=n(0);t.a=function(e){var t=0,n=0,o=0,i=0;return Object(r.a)(e)?1===e.length?t=n=o=i=e[0]:2===e.length?(t=o=e[0],n=i=e[1]):3===e.length?(t=e[0],n=i=e[1],o=e[2]):(t=e[0],n=e[1],o=e[2],i=e[3]):t=n=o=i=e,{r1:t,r2:n,r3:o,r4:i}}},function(e,t,n){"use strict";t.a=function(e,t,n){return e<t?t:e>n?n:e}},function(e,t,n){"use strict";t.a=function(e,t){var n=t.toString(),r=n.indexOf(".");if(-1===r)return Math.round(e);var o=n.substr(r+1).length;return o>20&&(o=20),parseFloat(e.toFixed(o))}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e%1!==0}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e%2===0}},function(e,t,n){"use strict";var r=n(5),o=Number.isInteger?Number.isInteger:function(e){return Object(r.a)(e)&&e%1===0};t.a=o},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e<0}},function(e,t,n){"use strict";t.a=function(e,t,n){return void 0===n&&(n=1e-5),Math.abs(e-t)<n}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e%2!==0}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e>0}},function(e,t,n){"use strict";var r=n(2),o=n(0),i=n(3);t.a=function(e,t){if(Object(o.a)(e)){var n,a,s=e[0];return n=Object(i.a)(t)?t(e[0]):e[0][t],Object(r.a)(e,(function(e){(a=Object(i.a)(t)?t(e):e[t])>n&&(s=e,n=a)})),s}}},function(e,t,n){"use strict";var r=n(2),o=n(0),i=n(3);t.a=function(e,t){if(Object(o.a)(e)){var n,a,s=e[0];return n=Object(i.a)(t)?t(e[0]):e[0][t],Object(r.a)(e,(function(e){(a=Object(i.a)(t)?t(e):e[t])<n&&(s=e,n=a)})),s}}},function(e,t,n){"use strict";t.a=function(e,t){return(e%t+t)%t}},function(e,t,n){"use strict";var r=180/Math.PI;t.a=function(e){return r*e}},function(e,t,n){"use strict";t.a=parseInt},function(e,t,n){"use strict";var r=Math.PI/180;t.a=function(e){return r*e}},function(e,t,n){"use strict";var r=n(2);t.a=r.a},function(e,t,n){"use strict";var r=n(25);t.a=r.a},function(e,t,n){"use strict";var r=n(12),o=n(26);t.a=function(e,t){return Object(r.a)(Object(o.a)(e),t)}},function(e,t,n){"use strict";var r=n(10);t.a=function(e){return Object(r.a)(e).toLowerCase()}},function(e,t,n){"use strict";var r=n(10);t.a=function(e){var t=Object(r.a)(e);return t.charAt(0).toLowerCase()+t.substring(1)}},function(e,t,n){"use strict";t.a=function(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,(function(e,n){return"\\"===e.charAt(0)?e.slice(1):void 0===t[n]?"":t[n]})):e}},function(e,t,n){"use strict";var r=n(10);t.a=function(e){return Object(r.a)(e).toUpperCase()}},function(e,t,n){"use strict";var r=n(10);t.a=function(e){var t=Object(r.a)(e);return t.charAt(0).toUpperCase()+t.substring(1)}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Arguments")}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Boolean")}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Date")}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Error")}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&isFinite(e)}},function(e,t,n){"use strict";t.a=function(e){return null===e}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"RegExp")}},function(e,t,n){"use strict";t.a=function(e){return void 0===e}},function(e,t,n){"use strict";t.a=function(e){return e instanceof Element||e instanceof HTMLDocument}},function(e,t,n){"use strict";t.a=function(e){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,16)})(e)}},function(e,t,n){"use strict";t.a=function(e){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(e)}},function(e,t,n){"use strict";var r=n(16),o=n(3);t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e[0],i=1;i<e.length;i++){var a=e[i];Object(o.a)(a)&&(a=a.prototype),Object(r.a)(n.prototype,a)}}},function(e,t,n){"use strict";var r=n(0);t.a=function e(t){if("object"!==typeof t||null===t)return t;var n;if(Object(r.a)(t)){n=[];for(var o=0,i=t.length;o<i;o++)"object"===typeof t[o]&&null!=t[o]?n[o]=e(t[o]):n[o]=t[o]}else for(var a in n={},t)"object"===typeof t[a]&&null!=t[a]?n[a]=e(t[a]):n[a]=t[a];return n}},function(e,t,n){"use strict";t.a=function(e,t,n){var r;return function(){var o=this,i=arguments,a=function(){r=null,n||e.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(o,i)}}},function(e,t,n){"use strict";var r=n(3);t.a=function(e,t){if(!Object(r.a)(e))throw new TypeError("Expected a function");var n=function n(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=e.apply(this,r);return a.set(i,s),s};return n.cache=new Map,n}},function(e,t,n){"use strict";var r=n(0),o=n(9);function i(e,t,n,a){for(var s in n=n||0,a=a||5,t)if(t.hasOwnProperty(s)){var u=t[s];null!==u&&Object(o.a)(u)?(Object(o.a)(e[s])||(e[s]={}),n<a?i(e[s],u,n+1,a):e[s]=t[s]):Object(r.a)(u)?(e[s]=[],e[s]=e[s].concat(u)):void 0!==u&&(e[s]=u)}}t.a=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)i(e,t[r]);return e}},function(e,t,n){"use strict";var r=n(16),o=n(3);t.a=function(e,t,n,i){Object(o.a)(t)||(n=t,t=e,e=function(){});var a=Object.create?function(e,t){return Object.create(e,{constructor:{value:t}})}:function(e,t){function n(){}n.prototype=e;var r=new n;return r.constructor=t,r},s=a(t.prototype,e);return e.prototype=Object(r.a)(s,e.prototype),e.superclass=a(t.prototype,t),Object(r.a)(s,n),Object(r.a)(e,i),e}},function(e,t,n){"use strict";var r=n(1);t.a=function(e,t){if(!Object(r.a)(e))return-1;var n=Array.prototype.indexOf;if(n)return n.call(e,t);for(var o=-1,i=0;i<e.length;i++)if(e[i]===t){o=i;break}return o}},function(e,t,n){"use strict";var r=n(6),o=n(1),i=n(27),a=n(28),s=Object.prototype.hasOwnProperty;t.a=function(e){if(Object(r.a)(e))return!0;if(Object(o.a)(e))return!e.length;var t=Object(i.a)(e);if("Map"===t||"Set"===t)return!e.size;if(Object(a.a)(e))return!Object.keys(e).length;for(var n in e)if(s.call(e,n))return!1;return!0}},function(e,t,n){"use strict";var r=n(3),o=n(29);t.a=function(e,t,n){return Object(r.a)(n)?!!n(e,t):Object(o.a)(e,t)}},function(e,t,n){"use strict";var r=n(2),o=n(1);t.a=function(e,t){if(!Object(o.a)(e))return e;var n=[];return Object(r.a)(e,(function(e,r){n.push(t(e,r))})),n}},function(e,t,n){"use strict";var r=n(6),o=n(13),i=function(e){return e};t.a=function(e,t){void 0===t&&(t=i);var n={};return Object(o.a)(e)&&!Object(r.a)(e)&&Object.keys(e).forEach((function(r){n[r]=t(e[r],r)})),n}},function(e,t,n){"use strict";var r=n(8);t.a=function(e,t,n){for(var o=0,i=Object(r.a)(t)?t.split("."):t;e&&o<i.length;)e=e[i[o++]];return void 0===e||o<i.length?n:e}},function(e,t,n){"use strict";var r=n(13),o=n(8),i=n(5);t.a=function(e,t,n){var a=e,s=Object(o.a)(t)?t.split("."):t;return s.forEach((function(e,t){t<s.length-1?(Object(r.a)(a[e])||(a[e]=Object(i.a)(s[t+1])?[]:{}),a=a[e]):a[e]=n})),e}},function(e,t,n){"use strict";var r=n(2),o=n(9),i=Object.prototype.hasOwnProperty;t.a=function(e,t){if(null===e||!Object(o.a)(e))return{};var n={};return Object(r.a)(t,(function(t){i.call(e,t)&&(n[t]=e[t])})),n}},function(e,t,n){"use strict";t.a=function(e,t,n){var r,o,i,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),r=null,a=e.apply(o,i),r||(o=i=null)},c=function(){var c=Date.now();s||!1!==n.leading||(s=c);var l=t-(c-s);return o=this,i=arguments,l<=0||l>t?(r&&(clearTimeout(r),r=null),s=c,a=e.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=setTimeout(u,l)),a};return c.cancel=function(){clearTimeout(r),s=0,r=o=i=null},c}},function(e,t,n){"use strict";var r=n(1);t.a=function(e){return Object(r.a)(e)?Array.prototype.slice.call(e):[]}},function(e,t,n){"use strict";var r={};t.a=function(e){return r[e=e||"g"]?r[e]+=1:r[e]=1,e+r[e]}},function(e,t,n){"use strict";t.a=function(){}},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";t.a=function(e){return Object(r.a)(e)?0:Object(o.a)(e)?e.length:Object.keys(e).length};var r=n(6),o=n(1)},function(e,t,n){"use strict";var r=function(){function e(){this.map={}}return e.prototype.has=function(e){return void 0!==this.map[e]},e.prototype.get=function(e,t){var n=this.map[e];return void 0===n?t:n},e.prototype.set=function(e,t){this.map[e]=t},e.prototype.clear=function(){this.map={}},e.prototype.delete=function(e){delete this.map[e]},e.prototype.size=function(){return Object.keys(this.map).length},e}();t.a=r},function(e,t){function n(e,t,n,r){void 0===r&&(r=[]);var o=this;o.w=e||0,o.h=t||0,o.y=n||0,o.x=0,o.c=r||[],o.cs=r.length,o.prelim=0,o.mod=0,o.shift=0,o.change=0,o.tl=null,o.tr=null,o.el=null,o.er=null,o.msel=0,o.mser=0}function r(e,t,n){n?e.y+=t:e.x+=t,e.children.forEach((function(e){r(e,t,n)}))}function o(e,t){var n=t?e.y:e.x;return e.children.forEach((function(e){n=Math.min(o(e,t),n)})),n}function i(e,t){r(e,-o(e,t),t)}function a(e,t,n){n?t.y=e.x:t.x=e.x,e.c.forEach((function(e,r){a(e,t.children[r],n)}))}function s(e,t,n){void 0===n&&(n=0),t?(e.x=n,n+=e.width):(e.y=n,n+=e.height),e.children.forEach((function(e){s(e,t,n)}))}n.fromNode=function(e,t){if(!e)return null;var r=[];return e.children.forEach((function(e){r.push(n.fromNode(e,t))})),t?new n(e.height,e.width,e.x,r):new n(e.width,e.height,e.y,r)},e.exports=function(e,t){void 0===t&&(t={});var r=t.isHorizontal;function o(e){0===e.cs?(e.el=e,e.er=e,e.msel=e.mser=0):(e.el=e.c[0].el,e.msel=e.c[0].msel,e.er=e.c[e.cs-1].er,e.mser=e.c[e.cs-1].mser)}function u(e,t,n){for(var r=e.c[t-1],o=r.mod,i=e.c[t],a=i.mod;null!==r&&null!==i;){d(r)>n.low&&(n=n.nxt);var s=o+r.prelim+r.w-(a+i.prelim);s>0&&(a+=s,c(e,t,n.index,s));var u=d(r),h=d(i);u<=h&&null!==(r=f(r))&&(o+=r.mod),u>=h&&null!==(i=l(i))&&(a+=i.mod)}!r&&i?function(e,t,n,r){var o=e.c[0].el;o.tl=n;var i=r-n.mod-e.c[0].msel;o.mod+=i,o.prelim-=i,e.c[0].el=e.c[t].el,e.c[0].msel=e.c[t].msel}(e,t,i,a):r&&!i&&function(e,t,n,r){var o=e.c[t].er;o.tr=n;var i=r-n.mod-e.c[t].mser;o.mod+=i,o.prelim-=i,e.c[t].er=e.c[t-1].er,e.c[t].mser=e.c[t-1].mser}(e,t,r,o)}function c(e,t,n,r){e.c[t].mod+=r,e.c[t].msel+=r,e.c[t].mser+=r,function(e,t,n,r){if(n!==t-1){var o=t-n;e.c[n+1].shift+=r/o,e.c[t].shift-=r/o,e.c[t].change-=r-r/o}}(e,t,n,r)}function l(e){return 0===e.cs?e.tl:e.c[0]}function f(e){return 0===e.cs?e.tr:e.c[e.cs-1]}function d(e){return e.y+e.h}function h(e,t,n){for(;null!==n&&e>=n.low;)n=n.nxt;return{low:e,index:t,nxt:n}}s(e,r);var p=n.fromNode(e,r);return function e(t){if(0!==t.cs){e(t.c[0]);for(var n=h(d(t.c[0].el),0,null),r=1;r<t.cs;++r){e(t.c[r]);var i=d(t.c[r].er);u(t,r,n),n=h(i,r,n)}!function(e){e.prelim=(e.c[0].prelim+e.c[0].mod+e.c[e.cs-1].mod+e.c[e.cs-1].prelim+e.c[e.cs-1].w)/2-e.w/2}(t),o(t)}else o(t)}(p),function e(t,n){n+=t.mod,t.x=t.prelim+n,function(e){for(var t=0,n=0,r=0;r<e.cs;r++)n+=(t+=e.c[r].shift)+e.c[r].change,e.c[r].mod+=n}(t);for(var r=0;r<t.cs;r++)e(t.c[r],n)}(p,0),a(p,e,r),i(e,r),e}},function(e,t,n){var r=n(11),o=n(115),i=n(17),a=n(7),s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.execute=function(){var e=this;return e.rootNode.width=0,i(e.rootNode,e.options,o)},r}(r),u={};e.exports=function(e,t){return t=a.assign({},u,t),new s(e,t).execute()}},function(e,t,n){var r=n(7);function o(e,t){void 0===e&&(e=0),void 0===t&&(t=[]);var n=this;n.x=n.y=0,n.leftChild=n.rightChild=null,n.height=0,n.children=t}var i={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function a(e,t,n){n?(t.x=e.x,t.y=e.y):(t.x=e.y,t.y=e.x),e.children.forEach((function(e,r){a(e,t.children[r],n)}))}e.exports=function(e,t){void 0===t&&(t={}),t=r.assign({},i,t);var n,s=0,u=function e(t){if(!t)return null;t.width=0,t.depth&&t.depth>s&&(s=t.depth);var n=t.children,r=n.length,i=new o(t.height,[]);return n.forEach((function(t,n){var o=e(t);i.children.push(o),0===n&&(i.leftChild=o),n===r-1&&(i.rightChild=o)})),i.originNode=t,i.isLeaf=t.isLeaf(),i}(e);return function e(t){if(t.isLeaf||0===t.children.length)t.drawingDepth=s;else{var n=t.children.map((function(t){return e(t)})),r=Math.min.apply(null,n);t.drawingDepth=r-1}return t.drawingDepth}(u),function e(r){r.x=r.drawingDepth*t.rankSep,r.isLeaf?(r.y=0,n&&(r.y=n.y+n.height+t.nodeSep,r.originNode.parent!==n.originNode.parent&&(r.y+=t.subTreeSep)),n=r):(r.children.forEach((function(t){e(t)})),r.y=(r.leftChild.y+r.rightChild.y)/2)}(u),a(u,e,t.isHorizontal),e}},function(e,t,n){var r=n(11),o=n(117),i=n(30),a=n(7),s=["LR","RL","H"],u=s[0],c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.execute=function(){var e=this.options,t=this.rootNode;e.isHorizontal=!0;var n=e.indent,r=void 0===n?20:n,a=e.dropCap,c=void 0===a||a,l=e.direction||u;if(l&&-1===s.indexOf(l))throw new TypeError("Invalid direction: "+l);if(l===s[0])o(t,r,c);else if(l===s[1])o(t,r,c),t.right2left();else if(l===s[2]){var f=i(t,e),d=f.left,h=f.right;o(d,r,c),d.right2left(),o(h,r,c);var p=d.getBoundingBox();h.translate(p.width,0),t.x=h.x-t.width/2}return t},r}(r),l={};e.exports=function(e,t){return t=a.assign({},l,t),new c(e,t).execute()}},function(e,t){e.exports=function(e,t,n){var r=null;e.eachNode((function(e){!function(e,t,n,r){var o="function"===typeof n?n(e):n*e.depth;if(!r)try{if(e.id===e.parent.children[0].id)return e.x+=o,void(e.y=t?t.y:0)}catch(i){}e.x+=o,e.y=t?t.y+t.height:0}(e,r,t,n),r=e}))}},function(e,t,n){var r=n(11),o=n(119),i=n(17),a=n(7),s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.execute=function(){return i(this.rootNode,this.options,o)},r}(r),u={};e.exports=function(e,t){return t=a.assign({},u,t),new s(e,t).execute()}},function(e,t,n){var r=n(7);function o(e,t){var n=0;return e.children.length?e.children.forEach((function(e){n+=o(e,t)})):n=e.height,e._subTreeSep=t.getSubTreeSep(e.data),e.totalHeight=Math.max(e.height,n)+2*e._subTreeSep,e.totalHeight}function i(e){var t=e.children,n=t.length;if(n){t.forEach((function(e){i(e)}));var r=t[0],o=t[n-1],a=o.y-r.y+o.height,s=0;if(t.forEach((function(e){s+=e.totalHeight})),a>e.height)e.y=r.y+a/2-e.height/2;else if(1!==t.length||e.height>s){var u=e.y+(e.height-a)/2-r.y;t.forEach((function(e){e.translate(0,u)}))}else e.y=(r.y+r.height/2+o.y+o.height/2)/2-e.height/2}}var a={getSubTreeSep:function(){return 0}};e.exports=function(e,t){void 0===t&&(t={}),t=r.assign({},a,t),e.parent={x:0,width:0,height:0,y:0},e.BFTraverse((function(e){e.x=e.parent.x+e.parent.width})),e.parent=null,o(e,t),e.startY=0,e.y=e.totalHeight/2-e.height/2,e.eachNode((function(e){var t=e.children,n=t.length;if(n){var r=t[0];if(r.startY=e.startY+e._subTreeSep,1===n)r.y=e.y+e.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var o=1;o<n;o++){var i=t[o];i.startY=t[o-1].startY+t[o-1].totalHeight,i.y=i.startY+i.totalHeight/2-i.height/2}}}})),i(e)}}])},e.exports=t()},8253:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.getLayoutByName=t.unRegisterLayout=t.registerLayout=void 0;var i=n(8252);Object.defineProperty(t,"registerLayout",{enumerable:!0,get:function(){return i.registerLayout}}),Object.defineProperty(t,"unRegisterLayout",{enumerable:!0,get:function(){return i.unRegisterLayout}}),Object.defineProperty(t,"getLayoutByName",{enumerable:!0,get:function(){return i.getLayoutByName}}),o(n(6929),t)},4950:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Base=void 0;var n=function(){function e(){this.nodes=[],this.edges=[],this.combos=[],this.comboEdges=[],this.hiddenNodes=[],this.hiddenEdges=[],this.hiddenCombos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return e.prototype.layout=function(e){return this.init(e),this.execute(!0)},e.prototype.init=function(e){this.nodes=e.nodes||[],this.edges=e.edges||[],this.combos=e.combos||[],this.comboEdges=e.comboEdges||[],this.hiddenNodes=e.hiddenNodes||[],this.hiddenEdges=e.hiddenEdges||[],this.hiddenCombos=e.hiddenCombos||[]},e.prototype.execute=function(e){},e.prototype.executeWithWorker=function(){},e.prototype.getDefaultCfg=function(){return{}},e.prototype.updateCfg=function(e){e&&Object.assign(this,e)},e.prototype.getType=function(){return"base"},e.prototype.destroy=function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0},e}();t.Base=n},2893:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CircularLayout=void 0;var o=n(4950),i=n(1784);function a(e,t){var n=e.degree,r=t.degree;return n<r?-1:n>r?1:0}var s=function(e){function t(t){var n=e.call(this)||this;return n.radius=null,n.nodeSize=void 0,n.startRadius=null,n.endRadius=null,n.startAngle=0,n.endAngle=2*Math.PI,n.clockwise=!0,n.divisions=1,n.ordering=null,n.angleRatio=1,n.nodes=[],n.edges=[],n.nodeMap={},n.degrees=[],n.width=300,n.height=300,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},t.prototype.execute=function(){var e,t=this,n=t.nodes,r=t.edges,o=n.length;if(0!==o){t.width||"undefined"===typeof window||(t.width=window.innerWidth),t.height||"undefined"===typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);var a=t.center;if(1===o)return n[0].x=a[0],n[0].y=a[1],void(t.onLayoutEnd&&t.onLayoutEnd());var s=t.radius,u=t.startRadius,c=t.endRadius,l=t.divisions,f=t.startAngle,d=t.endAngle,h=t.angleRatio,p=t.ordering,g=t.clockwise,v=t.nodeSpacing,m=t.nodeSize,y=(d-f)/o,b={};n.forEach((function(e,t){b[e.id]=t})),t.nodeMap=b;var x=(0,i.getDegree)(n.length,b,r);if(t.degrees=x,v){var w=(0,i.getFuncByUnknownType)(10,v),E=(0,i.getFuncByUnknownType)(10,m),_=-1/0;n.forEach((function(e){var t=E(e);_<t&&(_=t)}));var S=0;n.forEach((function(e,t){S+=0===t?_||10:(w(e)||0)+(_||10)})),s=S/(2*Math.PI)}else s||u||c?!u&&c?u=c:u&&!c&&(c=u):s=t.height>t.width?t.width/2:t.height/2;var k=y*h,T=[];T="topology"===p?t.topologyOrdering():"topology-directed"===p?t.topologyOrdering(!0):"degree"===p?t.degreeOrdering():n;for(var C=Math.ceil(o/l),M=0;M<o;++M){var N=s;N||null===u||null===c||(N=u+M*(c-u)/(o-1)),N||(N=10+100*M/(o-1));var A=f+M%C*k+2*Math.PI/l*Math.floor(M/C);g||(A=d-M%C*k-2*Math.PI/l*Math.floor(M/C)),T[M].x=a[0]+Math.cos(A)*N,T[M].y=a[1]+Math.sin(A)*N,T[M].weight=x[M]}return null===(e=t.onLayoutEnd)||void 0===e||e.call(t),{nodes:T,edges:this.edges}}t.onLayoutEnd&&t.onLayoutEnd()},t.prototype.topologyOrdering=function(e){void 0===e&&(e=!1);var t=this,n=t.degrees,r=t.edges,o=t.nodes,a=(0,i.clone)(o),s=t.nodeMap,u=[a[0]],c=[o[0]],l=[],f=o.length;l[0]=!0,function(e,t,n,r){e.forEach((function(t,n){e[n].children=[],e[n].parent=[]})),r?t.forEach((function(t){var r=(0,i.getEdgeTerminal)(t,"source"),o=(0,i.getEdgeTerminal)(t,"target"),a=0;r&&(a=n[r]);var s=0;o&&(s=n[o]);var u=e[a].children,c=e[s].parent;u.push(e[s].id),c.push(e[a].id)})):t.forEach((function(t){var r=(0,i.getEdgeTerminal)(t,"source"),o=(0,i.getEdgeTerminal)(t,"target"),a=0;r&&(a=n[r]);var s=0;o&&(s=n[o]);var u=e[a].children,c=e[s].children;u.push(e[s].id),c.push(e[a].id)}))}(a,r,s,e);var d=0;return a.forEach((function(e,t){if(0!==t)if(t!==f-1&&n[t]===n[t+1]&&!function(e,t,n){for(var r=n.length,o=0;o<r;o++){var a=(0,i.getEdgeTerminal)(n[o],"source"),s=(0,i.getEdgeTerminal)(n[o],"target");if(e.id===a&&t.id===s||t.id===a&&e.id===s)return!0}return!1}(u[d],e,r)||l[t]){for(var h=u[d].children,p=!1,g=0;g<h.length;g++){var v=s[h[g]];if(n[v]===n[t]&&!l[v]){u.push(a[v]),c.push(o[s[a[v].id]]),l[v]=!0,p=!0;break}}for(var m=0;!p&&(l[m]||(u.push(a[m]),c.push(o[s[a[m].id]]),l[m]=!0,p=!0),++m!==f););}else u.push(e),c.push(o[s[e.id]]),l[t]=!0,d++})),c},t.prototype.degreeOrdering=function(){var e=this.nodes,t=[],n=this.degrees;return e.forEach((function(e,r){e.degree=n[r],t.push(e)})),t.sort(a),t},t.prototype.getType=function(){return"circular"},t}(o.Base);t.CircularLayout=s},3467:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ComboCombinedLayout=void 0;var i=n(3023),a=n(4950),s=n(1784),u=n(6929),c=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.nodes=[],n.edges=[],n.combos=[],n.comboEdges=[],n.comboPadding=10,n.comboTrees=[],n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=n[0],t[0].y=n[1],void(e.onLayoutEnd&&e.onLayoutEnd());e.initVals(),e.run(),e.onLayoutEnd&&e.onLayoutEnd()}else e.onLayoutEnd&&e.onLayoutEnd()},t.prototype.run=function(){var e,t=this,n=t.nodes,r=t.edges,o=t.combos,a=t.comboEdges,c=t.center,l=t.getInnerGraphs(),f={};n.forEach((function(e){f[e.id]=e}));var d={};o.forEach((function(e){d[e.id]=e}));var h=[],p=[],g={},v=!0;this.comboTrees.forEach((function(e){var t=l[e.id],n={id:e.id,x:t.x||d[e.id].x,y:t.y||d[e.id].y,fx:t.fx||d[e.id].fx,fy:t.fy||d[e.id].fy,mass:t.mass||d[e.id].mass,size:t.size};p.push(n),isNaN(n.x)||0===n.x||isNaN(n.y)||0===n.y?(n.x=100*Math.random(),n.y=100*Math.random()):v=!1,h.push(e.id),(0,s.traverseTreeUp)(e,(function(t){return t.id!==e.id&&(g[t.id]=e.id),!0}))})),n.forEach((function(e){if(!e.comboId||!d[e.comboId]){var t={id:e.id,x:e.x,y:e.y,fx:e.fx,fy:e.fy,mass:e.mass,size:e.size};p.push(t),isNaN(t.x)||0===t.x||isNaN(t.y)||0===t.y?(t.x=100*Math.random(),t.y=100*Math.random()):v=!1,h.push(e.id)}}));var m=[];if(r.concat(a).forEach((function(e){var t=g[e.source]||e.source,n=g[e.target]||e.target;t!==n&&h.includes(t)&&h.includes(n)&&m.push({source:t,target:n})})),null===p||void 0===p?void 0:p.length){if(1===p.length)p[0].x=c[0],p[0].y=c[1];else{var y={nodes:p,edges:m},b=this.outerLayout||new u.GForceLayout({gravity:1,factor:2,linkDistance:function(e,t,n){var r,o,i=(((null===(r=t.size)||void 0===r?void 0:r[0])||30)+((null===(o=n.size)||void 0===o?void 0:o[0])||30))/2;return Math.min(1.5*i,700)}}),x=null===(e=b.getType)||void 0===e?void 0:e.call(b);if(b.updateCfg({center:c,kg:5,preventOverlap:!0,animate:!1}),v&&i.FORCE_LAYOUT_TYPE_MAP[x])(p.length<100?new u.MDSLayout:new u.GridLayout).layout(y);b.layout(y)}p.forEach((function(e){var t=l[e.id];if(t)t.visited=!0,t.x=e.x,t.y=e.y,t.nodes.forEach((function(t){t.x+=e.x,t.y+=e.y}));else{var n=f[e.id];n&&(n.x=e.x,n.y=e.y)}}))}for(var w=Object.keys(l),E=function(e){var t=w[e],n=l[t];if(!n)return"continue";n.nodes.forEach((function(e){n.visited||(e.x+=n.x||0,e.y+=n.y||0),f[e.id]&&(f[e.id].x=e.x,f[e.id].y=e.y)})),d[t]&&(d[t].x=n.x,d[t].y=n.y)},_=w.length-1;_>=0;_--)E(_);return{nodes:n,edges:r,combos:o,comboEdges:a}},t.prototype.getInnerGraphs=function(){var e=this,t=e.comboTrees,n=e.nodeSize,r=e.edges,i=e.comboPadding,a=e.spacing,c={},l=this.innerLayout||new u.ConcentricLayout({sortBy:"id"});return l.center=[0,0],l.preventOverlap=!0,l.nodeSpacing=a,(t||[]).forEach((function(e){(0,s.traverseTreeUp)(e,(function(e){var t,a=(null===i||void 0===i?void 0:i(e))||10;if((0,s.isArray)(a)&&(a=Math.max.apply(Math,a)),null===(t=e.children)||void 0===t?void 0:t.length){var u=e.children.map((function(e){return"combo"===e.itemType?c[e.id]:o({},e)})),f=u.map((function(e){return e.id})),d={nodes:u,edges:r.filter((function(e){return f.includes(e.source)&&f.includes(e.target)}))},h=1/0;u.forEach((function(e){var t;e.size||(e.size=(null===(t=c[e.id])||void 0===t?void 0:t.size)||(null===n||void 0===n?void 0:n(e))||[30,30]),(0,s.isNumber)(e.size)&&(e.size=[e.size,e.size]),h>e.size[0]&&(h=e.size[0]),h>e.size[1]&&(h=e.size[1])})),l.layout(d);var p=(0,s.findMinMaxNodeXY)(u),g=p.minX,v=p.minY,m=p.maxX,y=p.maxY,b=Math.max(m-g,y-v,h)+2*a;c[e.id]={id:e.id,nodes:u,size:[b,b]}}else if("combo"===e.itemType){var x=a?[2*a,2*a]:[30,30];c[e.id]={id:e.id,nodes:[],size:x}}return!0}))})),c},t.prototype.initVals=function(){var e,t,n=this,r=n.nodeSize,o=n.spacing;if(t=(0,s.isNumber)(o)?function(){return o}:(0,s.isFunction)(o)?o:function(){return 0},this.spacing=t,r)if((0,s.isFunction)(r))e=function(e){var n=r(e),o=t(e);return(0,s.isArray)(e.size)?((e.size[0]>e.size[1]?e.size[0]:e.size[1])+o)/2:((n||10)+o)/2};else if((0,s.isArray)(r)){var i=(r[0]>r[1]?r[0]:r[1])/2;e=function(e){return i+t(e)/2}}else{var a=r/2;e=function(e){return a+t(e)/2}}else e=function(e){var n=t(e);return e.size?(0,s.isArray)(e.size)?((e.size[0]>e.size[1]?e.size[0]:e.size[1])+n)/2:(0,s.isObject)(e.size)?((e.size.width>e.size.height?e.size.width:e.size.height)+n)/2:(e.size+n)/2:10+n/2};this.nodeSize=e;var u,c=n.comboPadding;u=(0,s.isNumber)(c)?function(){return c}:(0,s.isArray)(c)?function(){return Math.max.apply(null,c)}:(0,s.isFunction)(c)?c:function(){return 0},this.comboPadding=u},t.prototype.getType=function(){return"comboCombined"},t}(a.Base);t.ComboCombinedLayout=c},7315:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ComboForceLayout=void 0;var o=n(4950),i=n(1784),a=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.maxIteration=100,n.gravity=10,n.comboGravity=10,n.linkDistance=10,n.alpha=1,n.alphaMin=.001,n.alphaDecay=1-Math.pow(n.alphaMin,1/300),n.alphaTarget=0,n.velocityDecay=.6,n.edgeStrength=.6,n.nodeStrength=30,n.preventOverlap=!1,n.preventNodeOverlap=!1,n.preventComboOverlap=!1,n.collideStrength=void 0,n.nodeCollideStrength=.5,n.comboCollideStrength=.5,n.comboSpacing=20,n.comboPadding=10,n.optimizeRangeFactor=1,n.onTick=function(){},n.onLayoutEnd=function(){},n.depthAttractiveForceScale=1,n.depthRepulsiveForceScale=2,n.nodes=[],n.edges=[],n.combos=[],n.comboTrees=[],n.width=300,n.height=300,n.bias=[],n.nodeMap={},n.oriComboMap={},n.indexMap={},n.comboMap={},n.previousLayouted=!1,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.center;if(e.comboTree={id:"comboTreeRoot",depth:-1,children:e.comboTrees},t&&0!==t.length){if(1===t.length)return t[0].x=n[0],t[0].y=n[1],void(e.onLayoutEnd&&e.onLayoutEnd());e.initVals(),e.run(),e.onLayoutEnd&&e.onLayoutEnd()}else e.onLayoutEnd&&e.onLayoutEnd()},t.prototype.run=function(){var e=this,t=e.nodes,n=e.previousLayouted?e.maxIteration/5:e.maxIteration;e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight);var r=e.center,o=e.velocityDecay,a=e.comboMap;e.previousLayouted||e.initPos(a);for(var s=function(n){var r=[];t.forEach((function(e,t){r[t]={x:0,y:0}})),e.applyCalculate(r),e.applyComboCenterForce(r),t.forEach((function(e,t){(0,i.isNumber)(e.x)&&(0,i.isNumber)(e.y)&&(e.x+=r[t].x*o,e.y+=r[t].y*o)})),e.alpha+=(e.alphaTarget-e.alpha)*e.alphaDecay,e.onTick()},u=0;u<n;u++)s();var c=[0,0];t.forEach((function(e){(0,i.isNumber)(e.x)&&(0,i.isNumber)(e.y)&&(c[0]+=e.x,c[1]+=e.y)})),c[0]/=t.length,c[1]/=t.length;var l=[r[0]-c[0],r[1]-c[1]];t.forEach((function(e,t){(0,i.isNumber)(e.x)&&(0,i.isNumber)(e.y)&&(e.x+=l[0],e.y+=l[1])})),e.combos.forEach((function(e){var t=a[e.id];t&&t.empty&&(e.x=t.cx||e.x,e.y=t.cy||e.y)})),e.previousLayouted=!0},t.prototype.initVals=function(){var e=this,t=e.edges,n=e.nodes,r=e.combos,o={},a={},s={};n.forEach((function(e,t){a[e.id]=e,s[e.id]=t})),e.nodeMap=a,e.indexMap=s;var u={};r.forEach((function(e){u[e.id]=e})),e.oriComboMap=u,e.comboMap=e.getComboMap();var c=e.preventOverlap;e.preventComboOverlap=e.preventComboOverlap||c,e.preventNodeOverlap=e.preventNodeOverlap||c;var l=e.collideStrength;l&&(e.comboCollideStrength=l,e.nodeCollideStrength=l),e.comboCollideStrength=e.comboCollideStrength?e.comboCollideStrength:0,e.nodeCollideStrength=e.nodeCollideStrength?e.nodeCollideStrength:0;for(var f=0;f<t.length;++f){var d=(0,i.getEdgeTerminal)(t[f],"source"),h=(0,i.getEdgeTerminal)(t[f],"target");o[d]?o[d]++:o[d]=1,o[h]?o[h]++:o[h]=1}var p=[];for(f=0;f<t.length;++f){d=(0,i.getEdgeTerminal)(t[f],"source"),h=(0,i.getEdgeTerminal)(t[f],"target");p[f]=o[d]/(o[d]+o[h])}this.bias=p;var g,v,m=e.nodeSize,y=e.nodeSpacing;if(v=(0,i.isNumber)(y)?function(){return y}:(0,i.isFunction)(y)?y:function(){return 0},this.nodeSpacing=v,m)if((0,i.isFunction)(m))g=function(e){return m(e)};else if((0,i.isArray)(m)){var b=(m[0]>m[1]?m[0]:m[1])/2;g=function(e){return b}}else{var x=m/2;g=function(e){return x}}else g=function(e){return e.size?(0,i.isArray)(e.size)?(e.size[0]>e.size[1]?e.size[0]:e.size[1])/2:(0,i.isObject)(e.size)?(e.size.width>e.size.height?e.size.width:e.size.height)/2:e.size/2:10};this.nodeSize=g;var w,E=e.comboSpacing;w=(0,i.isNumber)(E)?function(){return E}:(0,i.isFunction)(E)?E:function(){return 0},this.comboSpacing=w;var _,S=e.comboPadding;_=(0,i.isNumber)(S)?function(){return S}:(0,i.isArray)(S)?function(){return Math.max.apply(null,S)}:(0,i.isFunction)(S)?S:function(){return 0},this.comboPadding=_;var k,T=this.linkDistance;T||(T=10),k=(0,i.isNumber)(T)?function(e){return T}:T,this.linkDistance=k;var C,M=this.edgeStrength;M||(M=1),C=(0,i.isNumber)(M)?function(e){return M}:M,this.edgeStrength=C;var N,A=this.nodeStrength;A||(A=30),N=(0,i.isNumber)(A)?function(e){return A}:A,this.nodeStrength=N},t.prototype.initPos=function(e){this.nodes.forEach((function(t,n){var r=t.comboId,o=e[r];r&&o?(t.x=o.cx+100/(n+1),t.y=o.cy+100/(n+1)):(t.x=100/(n+1),t.y=100/(n+1))}))},t.prototype.getComboMap=function(){var e=this,t=e.nodeMap,n=e.comboTrees,r=e.oriComboMap,o={};return(n||[]).forEach((function(n){var a=[];(0,i.traverseTreeUp)(n,(function(n){if("node"===n.itemType)return!0;if(!r[n.id])return!0;if(void 0===o[n.id]){var s={id:n.id,name:n.id,cx:0,cy:0,count:0,depth:e.oriComboMap[n.id].depth||0,children:[]};o[n.id]=s}var u=n.children;u&&u.forEach((function(e){if(!o[e.id]&&!t[e.id])return!0;a.push(e)}));var c=o[n.id];if(c.cx=0,c.cy=0,0===a.length){c.empty=!0;var l=r[n.id];c.cx=l.x,c.cy=l.y}return a.forEach((function(e){if(c.count++,"node"!==e.itemType){var n=o[e.id];return(0,i.isNumber)(n.cx)&&(c.cx+=n.cx),void((0,i.isNumber)(n.cy)&&(c.cy+=n.cy))}var r=t[e.id];r&&((0,i.isNumber)(r.x)&&(c.cx+=r.x),(0,i.isNumber)(r.y)&&(c.cy+=r.y))})),c.cx/=c.count||1,c.cy/=c.count||1,c.children=a,!0}))})),o},t.prototype.applyComboCenterForce=function(e){var t=this,n=t.gravity,r=t.comboGravity||n,o=this.alpha,a=t.comboTrees,s=t.indexMap,u=t.nodeMap,c=t.comboMap;(a||[]).forEach((function(t){(0,i.traverseTreeUp)(t,(function(t){if("node"===t.itemType)return!0;if(!c[t.id])return!0;var n=c[t.id],a=(n.depth+1)/10*.5,l=n.cx,f=n.cy;return n.cx=0,n.cy=0,n.children.forEach((function(t){if("node"!==t.itemType){var d=c[t.id];return d&&(0,i.isNumber)(d.cx)&&(n.cx+=d.cx),void(d&&(0,i.isNumber)(d.cy)&&(n.cy+=d.cy))}var h=u[t.id],p=h.x-l||.005,g=h.y-f||.005,v=Math.sqrt(p*p+g*g),m=s[h.id],y=r*o/v*a;e[m].x-=p*y,e[m].y-=g*y,(0,i.isNumber)(h.x)&&(n.cx+=h.x),(0,i.isNumber)(h.y)&&(n.cy+=h.y)})),n.cx/=n.count||1,n.cy/=n.count||1,!0}))}))},t.prototype.applyCalculate=function(e){var t=this,n=t.comboMap,r=t.nodes,o={};r.forEach((function(e,t){r.forEach((function(n,r){if(!(t<r)){var i=e.x-n.x||.005,a=e.y-n.y||.005,s=i*i+a*a,u=Math.sqrt(s);s<1&&(s=u),o[e.id+"-"+n.id]={vx:i,vy:a,vl2:s,vl:u},o[n.id+"-"+e.id]={vl2:s,vl:u,vx:-i,vy:-a}}}))})),t.updateComboSizes(n),t.calRepulsive(e,o),t.calAttractive(e,o),t.preventComboOverlap&&t.comboNonOverlapping(e,n)},t.prototype.updateComboSizes=function(e){var t=this,n=t.comboTrees,r=t.nodeMap,o=t.nodeSize,a=t.comboSpacing,s=t.comboPadding;(n||[]).forEach((function(n){var u=[];(0,i.traverseTreeUp)(n,(function(n){if("node"===n.itemType)return!0;var c=e[n.id];if(!c)return!1;var l=n.children;l&&l.forEach((function(t){(e[t.id]||r[t.id])&&u.push(t)})),c.minX=1/0,c.minY=1/0,c.maxX=-1/0,c.maxY=-1/0,u.forEach((function(e){if("node"!==e.itemType)return!0;var t=r[e.id];if(!t)return!0;var n=o(t),i=t.x-n,a=t.y-n,s=t.x+n,u=t.y+n;c.minX>i&&(c.minX=i),c.minY>a&&(c.minY=a),c.maxX<s&&(c.maxX=s),c.maxY<u&&(c.maxY=u)}));var f=t.oriComboMap[n.id].size||10;(0,i.isArray)(f)&&(f=f[0]);var d=Math.max(c.maxX-c.minX,c.maxY-c.minY,f);return c.r=d/2+a(c)/2+s(c),!0}))}))},t.prototype.comboNonOverlapping=function(e,t){var n=this,r=n.comboTree,o=n.comboCollideStrength,a=n.indexMap,s=n.nodeMap;(0,i.traverseTreeUp)(r,(function(n){if(!t[n.id]&&!s[n.id]&&"comboTreeRoot"!==n.id)return!1;var r=n.children;return r&&r.length>1&&r.forEach((function(n,i){if("node"===n.itemType)return!1;var u=t[n.id];u&&r.forEach((function(r,c){if(i<=c)return!1;if("node"===r.itemType)return!1;var l=t[r.id];if(!l)return!1;var f=u.cx-l.cx||.005,d=u.cy-l.cy||.005,h=f*f+d*d,p=u.r||1,g=l.r||1,v=p+g,m=g*g,y=p*p;if(h<v*v){var b=n.children;if(!b||0===b.length)return!1;var x=r.children;if(!x||0===x.length)return!1;var w=Math.sqrt(h),E=(v-w)/w*o,_=f*E,S=d*E,k=m/(y+m),T=1-k;b.forEach((function(t){if("node"!==t.itemType)return!1;if(s[t.id]){var n=a[t.id];x.forEach((function(t){if("node"!==t.itemType)return!1;if(!s[t.id])return!1;var r=a[t.id];e[n].x+=_*k,e[n].y+=S*k,e[r].x-=_*T,e[r].y-=S*T}))}}))}}))})),!0}))},t.prototype.calRepulsive=function(e,t){var n=this,r=n.nodes,o=n.width*n.optimizeRangeFactor,i=n.nodeStrength,a=n.alpha,s=n.nodeCollideStrength,u=n.preventNodeOverlap,c=n.nodeSize,l=n.nodeSpacing,f=n.depthRepulsiveForceScale,d=n.center;r.forEach((function(h,p){if(h.x&&h.y){if(d){var g=n.gravity,v=h.x-d[0]||.005,m=h.y-d[1]||.005,y=Math.sqrt(v*v+m*m);e[p].x-=v*g*a/y,e[p].y-=m*g*a/y}r.forEach((function(n,r){if(p!==r&&n.x&&n.y){var d=t[h.id+"-"+n.id],g=d.vl2,v=d.vl;if(!(v>o)){var m=t[h.id+"-"+n.id],y=m.vx,b=m.vy,x=Math.log(Math.abs(n.depth-h.depth)/10)+1||1;x=x<1?1:x,n.comboId!==h.comboId&&(x+=1);var w=x?Math.pow(f,x):1,E=i(n)*a/g*w;if(e[p].x+=y*E,e[p].y+=b*E,p<r&&u){var _=c(h)+l(h)||1,S=c(n)+l(n)||1,k=_+S;if(g<k*k){var T=(k-v)/v*s,C=S*S,M=C/(_*_+C),N=y*T,A=b*T;e[p].x+=N*M,e[p].y+=A*M,M=1-M,e[r].x-=N*M,e[r].y-=A*M}}}}}))}}))},t.prototype.calAttractive=function(e,t){var n=this,r=n.edges,o=n.linkDistance,a=n.alpha,s=n.edgeStrength,u=n.bias,c=n.depthAttractiveForceScale;r.forEach((function(r,l){var f=(0,i.getEdgeTerminal)(r,"source"),d=(0,i.getEdgeTerminal)(r,"target");if(f&&d&&f!==d){var h=n.indexMap[f],p=n.indexMap[d],g=n.nodeMap[f],v=n.nodeMap[d];if(g&&v){var m=g.depth===v.depth?0:Math.log(Math.abs(g.depth-v.depth)/10);g.comboId===v.comboId&&(m/=2);var y=m?Math.pow(c,m):1;if(g.comboId!==v.comboId&&1===y?y=c/2:g.comboId===v.comboId&&(y=2),(0,i.isNumber)(v.x)&&(0,i.isNumber)(g.x)&&(0,i.isNumber)(v.y)&&(0,i.isNumber)(g.y)){var b=t[d+"-"+f],x=b.vl,w=b.vx,E=b.vy,_=(x-o(r))/x*a*s(r)*y,S=w*_,k=E*_,T=u[l];e[p].x-=S*T,e[p].y-=k*T,e[h].x+=S*(1-T),e[h].y+=k*(1-T)}}}}))},t.prototype.getType=function(){return"comboForce"},t}(o.Base);t.ComboForceLayout=a},1457:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ConcentricLayout=void 0;var o=n(1784),i=function(e){function t(t){var n=e.call(this)||this;return n.nodeSize=30,n.minNodeSpacing=10,n.nodeSpacing=10,n.preventOverlap=!1,n.equidistant=!1,n.startAngle=1.5*Math.PI,n.clockwise=!0,n.sortBy="degree",n.nodes=[],n.edges=[],n.width=300,n.height=300,n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{nodeSize:30,minNodeSpacing:10,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},t.prototype.execute=function(){var e,t,n=this,r=n.nodes,i=n.edges,a=r.length;if(0!==a){n.width||"undefined"===typeof window||(n.width=window.innerWidth),n.height||"undefined"===typeof window||(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);var s=n.center;if(1===a)return r[0].x=s[0],r[0].y=s[1],void(null===(t=n.onLayoutEnd)||void 0===t||t.call(n));var u,c=n.nodeSize,l=n.nodeSpacing,f=[],d=0;u=(0,o.isArray)(c)?Math.max(c[0],c[1]):c,(0,o.isArray)(l)?d=Math.max(l[0],l[1]):(0,o.isNumber)(l)&&(d=l),r.forEach((function(e){f.push(e);var t=u;(0,o.isArray)(e.size)?t=Math.max(e.size[0],e.size[1]):(0,o.isNumber)(e.size)?t=e.size:(0,o.isObject)(e.size)&&(t=Math.max(e.size.width,e.size.height)),u=Math.max(u,t),(0,o.isFunction)(l)&&(d=Math.max(l(e),d))})),n.clockwise=void 0!==n.counterclockwise?!n.counterclockwise:n.clockwise;var h={},p={};if(f.forEach((function(e,t){h[e.id]=e,p[e.id]=t})),("degree"===n.sortBy||!(0,o.isString)(n.sortBy)||void 0===f[0][n.sortBy])&&(n.sortBy="degree",!(0,o.isNumber)(r[0].degree))){var g=(0,o.getDegree)(r.length,p,i);f.forEach((function(e,t){e.degree=g[t]}))}f.sort((function(e,t){return t[n.sortBy]-e[n.sortBy]})),n.maxValueNode=f[0],n.maxLevelDiff=n.maxLevelDiff||n.maxValueNode[n.sortBy]/4;var v=[[]],m=v[0];f.forEach((function(e){if(m.length>0){var t=Math.abs(m[0][n.sortBy]-e[n.sortBy]);n.maxLevelDiff&&t>=n.maxLevelDiff&&(m=[],v.push(m))}m.push(e)}));var y=u+(d||n.minNodeSpacing);if(!n.preventOverlap){var b=v.length>0&&v[0].length>1,x=(Math.min(n.width,n.height)/2-y)/(v.length+(b?1:0));y=Math.min(y,x)}var w=0;if(v.forEach((function(e){var t=n.sweep;void 0===t&&(t=2*Math.PI-2*Math.PI/e.length);var r=e.dTheta=t/Math.max(1,e.length-1);if(e.length>1&&n.preventOverlap){var o=Math.cos(r)-Math.cos(0),i=Math.sin(r)-Math.sin(0),a=Math.sqrt(y*y/(o*o+i*i));w=Math.max(a,w)}e.r=w,w+=y})),n.equidistant){for(var E=0,_=0,S=0;S<v.length;S++){var k=v[S].r-_;E=Math.max(E,k)}_=0,v.forEach((function(e,t){0===t&&(_=e.r),e.r=_,_+=E}))}return v.forEach((function(e){var t=e.dTheta,r=e.r;e.forEach((function(e,o){var i=n.startAngle+(n.clockwise?1:-1)*t*o;e.x=s[0]+r*Math.cos(i),e.y=s[1]+r*Math.sin(i)}))})),n.onLayoutEnd&&n.onLayoutEnd(),{nodes:r,edges:i}}null===(e=n.onLayoutEnd)||void 0===e||e.call(n)},t.prototype.getType=function(){return"concentric"},t}(n(4950).Base);t.ConcentricLayout=i},3023:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FORCE_LAYOUT_TYPE_MAP=t.LAYOUT_MESSAGE=void 0,t.LAYOUT_MESSAGE={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"},t.FORCE_LAYOUT_TYPE_MAP={gForce:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0}},1893:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DagreLayout=void 0;var i=o(n(4199)),a=n(1784),s=function(e){function t(t){var n=e.call(this)||this;return n.rankdir="TB",n.nodesep=50,n.ranksep=50,n.controlPoints=!1,n.sortByCombo=!1,n.edgeLabelSpace=!0,n.radial=!1,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.layoutNode=function(e){var t=n.nodes.find((function(t){return t.id===e}));return!t||!1!==t.layout},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1,radial:!1,focusNode:null}},t.prototype.execute=function(){var e=this,t=this,n=t.nodes,r=t.nodeSize,o=t.rankdir,s=t.combos,u=t.begin,c=t.radial;if(n){var l,f=t.edges||[],d=new i.default.graphlib.Graph({multigraph:!0,compound:!0});l=r?(0,a.isArray)(r)?function(){return r}:function(){return[r,r]}:function(e){return e.size?(0,a.isArray)(e.size)?e.size:(0,a.isObject)(e.size)?[e.size.width||40,e.size.height||40]:[e.size,e.size]:[40,40]};var h=(0,a.getFunc)(t.ranksep,50,t.ranksepFunc),p=(0,a.getFunc)(t.nodesep,50,t.nodesepFunc),g=p,v=h;"LR"!==o&&"RL"!==o||(g=h,v=p),d.setDefaultEdgeLabel((function(){return{}})),d.setGraph(t);var m={};n.filter((function(e){return!1!==e.layout})).forEach((function(t){var n=l(t),r=v(t),o=g(t),i=n[0]+2*o,s=n[1]+2*r,u=t.layer;(0,a.isNumber)(u)?d.setNode(t.id,{width:i,height:s,layer:u}):d.setNode(t.id,{width:i,height:s}),e.sortByCombo&&t.comboId&&(m[t.comboId]||(m[t.comboId]=!0,d.setNode(t.comboId,{})),d.setParent(t.id,t.comboId))})),this.sortByCombo&&s&&s.forEach((function(e){e.parentId&&(m[e.parentId]||(m[e.parentId]=!0,d.setNode(e.parentId,{})),d.setParent(e.id,e.parentId))})),f.forEach((function(t){var n=(0,a.getEdgeTerminal)(t,"source"),r=(0,a.getEdgeTerminal)(t,"target");e.layoutNode(n)&&e.layoutNode(r)&&d.setEdge(n,r,{weight:t.weight||1})}));var y=void 0;t.preset&&(y=new i.default.graphlib.Graph({multigraph:!0,compound:!0}),t.preset.nodes.forEach((function(e){null===y||void 0===y||y.setNode(e.id,e)}))),i.default.layout(d,{prevGraph:y,edgeLabelSpace:t.edgeLabelSpace,keepNodeOrder:Boolean(!!t.nodeOrder),nodeOrder:t.nodeOrder});var b=[0,0];if(u){var x=1/0,w=1/0;d.nodes().forEach((function(e){var t=d.node(e);x>t.x&&(x=t.x),w>t.y&&(w=t.y)})),d.edges().forEach((function(e){d.edge(e).points.forEach((function(e){x>e.x&&(x=e.x),w>e.y&&(w=e.y)}))})),b[0]=u[0]-x,b[1]=u[1]-w}if(c){var E=this,_=E.focusNode,S=E.ranksep,k=E.getRadialPos,T=(0,a.isString)(_)?_:null===_||void 0===_?void 0:_.id,C=T?d.node(T)._rank:0,M=[],N="LR"===o||"RL"===o,A=N?"y":"x",P=N?"height":"width",O=1/0,I=-1/0;d.nodes().forEach((function(e){var t=d.node(e),r=n.findIndex((function(t){return t.id===e}));if(n[r]){var o=p(n[r]);if(0===C)M[t._rank]||(M[t._rank]={nodes:[],totalWidth:0,maxSize:-1/0}),M[t._rank].nodes.push(e),M[t._rank].totalWidth+=2*o+t[P],M[t._rank].maxSize<Math.max(t.width,t.height)&&(M[t._rank].maxSize=Math.max(t.width,t.height));else{var i=t._rank-C;if(0===i)M[i]||(M[i]={nodes:[],totalWidth:0,maxSize:-1/0}),M[i].nodes.push(e),M[i].totalWidth+=2*o+t[P],M[i].maxSize<Math.max(t.width,t.height)&&(M[i].maxSize=Math.max(t.width,t.height));else{var a=Math.abs(i);M[a]||(M[a]={left:[],right:[],totalWidth:0,maxSize:-1/0}),M[a].totalWidth+=2*o+t[P],M[a].maxSize<Math.max(t.width,t.height)&&(M[a].maxSize=Math.max(t.width,t.height)),i<0?M[a].left.push(e):M[a].right.push(e)}}var s=t[A]-t[P]/2-o,u=t[A]+t[P]/2+o;s<O&&(O=s),u>I&&(I=u)}}));var D=S||50,R={},L=(I-O)/.9,j=[.5*(O+I-L),.5*(O+I+L)],F=function(e,t,r,o){void 0===r&&(r=-1/0),void 0===o&&(o=[0,1]);var i=r;return e.forEach((function(e){var r=d.node(e);R[e]=t;var a=k(r[A],j,L,t,o),s=a.x,u=a.y,c=n.findIndex((function(t){return t.id===e}));if(n[c]){n[c].x=s+b[0],n[c].y=u+b[1],n[c]._order=r._order;var l=h(n[c]);i<l&&(i=l)}})),i},B=!0;M.forEach((function(e){var t,r,o,i,a,s,u;if((null===(t=null===e||void 0===e?void 0:e.nodes)||void 0===t?void 0:t.length)||(null===(r=null===e||void 0===e?void 0:e.left)||void 0===r?void 0:r.length)||(null===(o=null===e||void 0===e?void 0:e.right)||void 0===o?void 0:o.length)){if(B&&1===e.nodes.length){var c=n.findIndex((function(t){return t.id===e.nodes[0]}));return n[c].x=b[0],n[c].y=b[1],R[e.nodes[0]]=0,D=h(n[c]),void(B=!1)}D=Math.max(D,e.totalWidth/(2*Math.PI));var l=-1/0;if(0===C||(null===(i=e.nodes)||void 0===i?void 0:i.length))l=F(e.nodes,D,l,[0,1]);else{var f=(null===(a=e.left)||void 0===a?void 0:a.length)/((null===(s=e.left)||void 0===s?void 0:s.length)+(null===(u=e.right)||void 0===u?void 0:u.length));l=F(e.left,D,l,[0,f]),l=F(e.right,D,l,[f+.05,1])}D+=l,B=!1,e.maxSize}})),d.edges().forEach((function(e){var n,r,o=d.edge(e),i=f.findIndex((function(t){var n=(0,a.getEdgeTerminal)(t,"source"),r=(0,a.getEdgeTerminal)(t,"target");return n===e.v&&r===e.w}));if(t.edgeLabelSpace&&t.controlPoints&&"loop"!==f[i].type){var s="x"===A?"y":"x",u=o.points.slice(1,o.points.length-1),c=[],l=null===(n=d.node(e.v))||void 0===n?void 0:n[s],h=l-(null===(r=d.node(e.w))||void 0===r?void 0:r[s]),p=R[e.v],g=p-R[e.w];u.forEach((function(e){var t=(e[s]-l)/h*g+p,n=k(e[A],j,L,t);c.push({x:n.x+b[0],y:n.y+b[1]})})),f[i].controlPoints=c}}))}else d.nodes().forEach((function(e){var t=d.node(e),r=n.findIndex((function(t){return t.id===e}));n[r]&&(n[r].x=t.x+b[0],n[r].y=t.y+b[1],n[r]._order=t._order)})),d.edges().forEach((function(e){var n=d.edge(e),r=f.findIndex((function(t){var n=(0,a.getEdgeTerminal)(t,"source"),r=(0,a.getEdgeTerminal)(t,"target");return n===e.v&&r===e.w}));t.edgeLabelSpace&&t.controlPoints&&"loop"!==f[r].type&&(f[r].controlPoints=n.points.slice(1,n.points.length-1),f[r].controlPoints.forEach((function(e){e.x+=b[0],e.y+=b[1]})))}));return t.onLayoutEnd&&t.onLayoutEnd(),{nodes:n,edges:f}}},t.prototype.getRadialPos=function(e,t,n,r,o){void 0===o&&(o=[0,1]);var i=(e-t[0])/n,a=2*(i=i*(o[1]-o[0])+o[0])*Math.PI;return{x:Math.cos(a)*r,y:Math.sin(a)*r}},t.prototype.getType=function(){return"dagre"},t}(n(4950).Base);t.DagreLayout=s},4199:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(9770)),i=r(n(6908)),a=n(1724);t.default={graphlib:o.default,layout:i.default,util:{time:a.time,notime:a.notime}}},5831:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5010)),i=function(e){var t=[],n={},r={};return e.nodes().forEach((function o(i){var a;r.hasOwnProperty(i)||(r[i]=!0,n[i]=!0,null===(a=e.outEdges(i))||void 0===a||a.forEach((function(e){n.hasOwnProperty(e.w)?t.push(e):o(e.w)})),delete n[i])})),t};t.default={run:function(e){var t="greedy"===e.graph().acyclicer?(0,o.default)(e,function(e){return function(t){return e.edge(t).weight}}(e)):i(e);null===t||void 0===t||t.forEach((function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,"rev-"+Math.random())}))},undo:function(e){e.edges().forEach((function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}}))}}},817:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1724)),i=function(e,t,n,r,i,a){var s={rank:a,width:0,height:0,borderType:t},u=i[t][a-1],c=o.default.addDummyNode(e,"border",s,n);i[t][a]=c,e.setParent(c,r),u&&e.setEdge(u,c,{weight:1})};t.default=function(e){var t,n=function t(n){var r=e.children(n),o=e.node(n);if((null===r||void 0===r?void 0:r.length)&&r.forEach((function(e){return t(e)})),o.hasOwnProperty("minRank")){o.borderLeft=[],o.borderRight=[];for(var a=o.minRank,s=o.maxRank+1;a<s;++a)i(e,"borderLeft","_bl",n,o,a),i(e,"borderRight","_br",n,o,a)}};null===(t=e.children())||void 0===t||t.forEach((function(e){return n(e)}))}},829:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){e.nodes().forEach((function(t){r(e.node(t))})),e.edges().forEach((function(t){r(e.edge(t))}))},r=function(e){var t=e.width;e.width=e.height,e.height=t},o=function(e){e.nodes().forEach((function(t){i(e.node(t))})),e.edges().forEach((function(t){var n,r=e.edge(t);null===(n=r.points)||void 0===n||n.forEach((function(e){return i(e)})),r.hasOwnProperty("y")&&i(r)}))},i=function(e){e.y=-e.y},a=function(e){e.nodes().forEach((function(t){s(e.node(t))})),e.edges().forEach((function(t){var n,r=e.edge(t);null===(n=r.points)||void 0===n||n.forEach((function(e){return s(e)})),r.hasOwnProperty("x")&&s(r)}))},s=function(e){var t=e.x;e.x=e.y,e.y=t};t.default={adjust:function(e){var t,r=null===(t=e.graph().rankdir)||void 0===t?void 0:t.toLowerCase();"lr"!==r&&"rl"!==r||n(e)},undo:function(e){var t,r=null===(t=e.graph().rankdir)||void 0===t?void 0:t.toLowerCase();"bt"!==r&&"rl"!==r||o(e),"lr"!==r&&"rl"!==r||(a(e),n(e))}}},1462:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev},r=function(e,t){if("_next"!==e&&"_prev"!==e)return t},o=function(){function e(){var e={};e._next=e._prev=e,this.isentinel=e}return e.prototype.dequeue=function(){var e=this.isentinel,t=e._prev;if(t!==e)return n(t),t},e.prototype.enqueue=function(){var e=this.isentinel,t=e._prev;if(t!==e)return n(t),t},e.prototype.toString=function(){for(var e=[],t=this.isentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,r)),n=n._prev;return"["+e.join(", ")+"]"},e}();t.default=o},9770:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(3915)).default;o||"undefined"===typeof window||(o=window.graphlib),Array.prototype.flat||(Array.prototype.flat=function(e){var t=e||1;if(isFinite(t)){var n=this.length,r=[];if(0===this.length)return this;for(;t--;){var o=[],i=!1;if(0===r.length){i=!0;for(var a=0;a<n;a++)this[a]instanceof Array?r.push.apply(r,this[a]):r.push(this[a])}else{for(a=0;a<r.length;a++)r[a]instanceof Array?(i=!0,o.push.apply(o,r[a])):o.push(r[a]);r=o}if(!i&&t===1/0)break}return r}}),t.default=o},5010:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(9770)),i=r(n(1462)),a=o.default.Graph,s=function(){return 1},u=function(e,t,n){for(var r,o=[],i=t[t.length-1],a=t[0];e.nodeCount();){for(;r=a.dequeue();)c(e,t,n,r);for(;r=i.dequeue();)c(e,t,n,r);if(e.nodeCount())for(var s=t.length-2;s>0;--s)if(r=t[s].dequeue()){o=o.concat(c(e,t,n,r,!0));break}}return o},c=function(e,t,n,r,o){var i,a,s=o?[]:void 0;return null===(i=e.inEdges(r.v))||void 0===i||i.forEach((function(r){var i=e.edge(r),a=e.node(r.v);o&&s.push({v:r.v,w:r.w}),void 0===a.out&&(a.out=0),a.out-=i,f(t,n,a)})),null===(a=e.outEdges(r.v))||void 0===a||a.forEach((function(r){var o=e.edge(r),i=r.w,a=e.node(i);void 0===a.in&&(a.in=0),a.in-=o,f(t,n,a)})),e.removeNode(r.v),s},l=function(e,t){var n=new a,r=0,o=0;e.nodes().forEach((function(e){n.setNode(e,{v:e,in:0,out:0})})),e.edges().forEach((function(e){var i=n.edge(e.v,e.w)||0,a=null===t||void 0===t?void 0:t(e),s=i+a;n.setEdge(e.v,e.w,s),o=Math.max(o,n.node(e.v).out+=a),r=Math.max(r,n.node(e.w).in+=a)}));for(var s=[],u=o+r+3,c=0;c<u;c++)s.push(new i.default);var l=r+1;return n.nodes().forEach((function(e){f(s,l,n.node(e))})),{buckets:s,zeroIdx:l,graph:n}},f=function(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)};t.default=function(e,t){var n;if(e.nodeCount()<=1)return[];var r=l(e,t||s);return null===(n=u(r.graph,r.buckets,r.zeroIdx).map((function(t){return e.outEdges(t.v,t.w)})))||void 0===n?void 0:n.flat()}},6908:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(5831)),u=a(n(6885)),c=a(n(7098)),l=i(n(1724)),f=a(n(5604)),d=a(n(2912)),h=a(n(817)),p=a(n(829)),g=a(n(2854)),v=a(n(7746)),m=a(n(9770)),y=a(n(7914)),b=m.default.Graph,x=function(e,t,n){t("    removeSelfEdges",(function(){G(e)})),t("    acyclic",(function(){s.default.run(e)})),t("    nestingGraph.run",(function(){d.default.run(e)})),t("    rank",(function(){(0,c.default)(l.default.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){I(e)})),t("    removeEmptyRanks",(function(){(0,l.removeEmptyRanks)(e)})),t("    nestingGraph.cleanup",(function(){d.default.cleanup(e)})),t("    normalizeRanks",(function(){(0,l.normalizeRanks)(e)})),t("    assignRankMinMax",(function(){D(e)})),t("    removeEdgeLabelProxies",(function(){R(e)})),t("    normalize.run",(function(){u.default.run(e)})),t("    parentDummyChains",(function(){(0,f.default)(e)})),t("    addBorderSegments",(function(){(0,h.default)(e)})),n&&n.keepNodeOrder&&t("    initDataOrder",(function(){(0,y.default)(e,n.nodeOrder)})),t("    order",(function(){(0,g.default)(e)})),t("    insertSelfEdges",(function(){V(e)})),t("    adjustCoordinateSystem",(function(){p.default.adjust(e)})),t("    position",(function(){(0,v.default)(e)})),t("    positionSelfEdges",(function(){U(e)})),t("    removeBorderNodes",(function(){z(e)})),t("    normalize.undo",(function(){u.default.undo(e)})),t("    fixupEdgeLabelCoords",(function(){F(e)})),t("    undoCoordinateSystem",(function(){p.default.undo(e)})),t("    translateGraph",(function(){L(e)})),t("    assignNodeIntersects",(function(){j(e)})),t("    reversePoints",(function(){B(e)})),t("    acyclic.undo",(function(){s.default.undo(e)}))},w=function(e,t){var n=t._nodes||{};e.nodes().forEach((function(t){var r=e.node(t);void 0!==n[t]?(r.fixorder=n[t]._order,delete n[t]._order):delete r.fixorder}))},E=function(e,t){e.nodes().forEach((function(n){var r,o=e.node(n),i=t.node(n);o&&(o.x=i.x,o.y=i.y,o._order=i.order,o._rank=i.rank,(null===(r=t.children(n))||void 0===r?void 0:r.length)&&(o.width=i.width,o.height=i.height))})),e.edges().forEach((function(n){var r=e.edge(n),o=t.edge(n);r.points=o.points,o.hasOwnProperty("x")&&(r.x=o.x,r.y=o.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height},_=["nodesep","edgesep","ranksep","marginx","marginy"],S={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},k=["acyclicer","ranker","rankdir","align"],T=["width","height","layer","fixorder"],C={width:0,height:0},M=["minlen","weight","width","height","labeloffset"],N={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},A=["labelpos"],P=function(e){var t=new b({multigraph:!0,compound:!0}),n=Z(e.graph()),r={};return null===k||void 0===k||k.forEach((function(e){void 0!==n[e]&&(r[e]=n[e])})),t.setGraph(Object.assign({},S,W(n,_),r)),e.nodes().forEach((function(n){var r=Z(e.node(n)),o=W(r,T);Object.keys(C).forEach((function(e){void 0===o[e]&&(o[e]=C[e])})),t.setNode(n,o),t.setParent(n,e.parent(n))})),e.edges().forEach((function(n){var r=Z(e.edge(n)),o={};null===A||void 0===A||A.forEach((function(e){void 0!==r[e]&&(o[e]=r[e])})),t.setEdge(n,Object.assign({},N,W(r,M),o))})),t},O=function(e){var t=e.graph();t.ranksep||(t.ranksep=0),t.ranksep/=2,e.nodes().forEach((function(t){var n=e.node(t);isNaN(n.layer)||(n.layer?n.layer*=2:n.layer=0)})),e.edges().forEach((function(n){var r,o=e.edge(n);o.minlen*=2,"c"!==(null===(r=o.labelpos)||void 0===r?void 0:r.toLowerCase())&&("TB"===t.rankdir||"BT"===t.rankdir?o.width+=o.labeloffset:o.height+=o.labeloffset)}))},I=function(e){e.edges().forEach((function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),o={e:t,rank:(e.node(t.w).rank-r.rank)/2+r.rank};l.default.addDummyNode(e,"edge-proxy",o,"_ep")}}))},D=function(e){var t=0;e.nodes().forEach((function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=Math.max(t,r.maxRank||-1/0))})),e.graph().maxRank=t},R=function(e){e.nodes().forEach((function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))},L=function(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,o=0,i=e.graph(),a=i.marginx||0,s=i.marginy||0,u=function(e){if(e){var i=e.x,a=e.y,s=e.width,u=e.height;isNaN(i)||isNaN(s)||(t=Math.min(t,i-s/2),n=Math.max(n,i+s/2)),isNaN(a)||isNaN(u)||(r=Math.min(r,a-u/2),o=Math.max(o,a+u/2))}};e.nodes().forEach((function(t){u(e.node(t))})),e.edges().forEach((function(t){var n=e.edge(t);n.hasOwnProperty("x")&&u(n)})),t-=a,r-=s,e.nodes().forEach((function(n){var o=e.node(n);o.x-=t,o.y-=r})),e.edges().forEach((function(n){var o,i=e.edge(n);null===(o=i.points)||void 0===o||o.forEach((function(e){e.x-=t,e.y-=r})),i.hasOwnProperty("x")&&(i.x-=t),i.hasOwnProperty("y")&&(i.y-=r)})),i.width=n-t+a,i.height=o-r+s},j=function(e){e.edges().forEach((function(t){var n,r,o=e.edge(t),i=e.node(t.v),a=e.node(t.w);o.points?(n=o.points[0],r=o.points[o.points.length-1]):(o.points=[],n=a,r=i),o.points.unshift(l.default.intersectRect(i,n)),o.points.push(l.default.intersectRect(a,r))}))},F=function(e){e.edges().forEach((function(t){var n=e.edge(t);if(n.hasOwnProperty("x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))},B=function(e){e.edges().forEach((function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))},z=function(e){e.nodes().forEach((function(t){var n,r,o;if(null===(n=e.children(t))||void 0===n?void 0:n.length){var i=e.node(t),a=e.node(i.borderTop),s=e.node(i.borderBottom),u=e.node(i.borderLeft[(null===(r=i.borderLeft)||void 0===r?void 0:r.length)-1]),c=e.node(i.borderRight[(null===(o=i.borderRight)||void 0===o?void 0:o.length)-1]);i.width=Math.abs((null===c||void 0===c?void 0:c.x)-(null===u||void 0===u?void 0:u.x))||10,i.height=Math.abs((null===s||void 0===s?void 0:s.y)-(null===a||void 0===a?void 0:a.y))||10,i.x=((null===u||void 0===u?void 0:u.x)||0)+i.width/2,i.y=((null===a||void 0===a?void 0:a.y)||0)+i.height/2}})),e.nodes().forEach((function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))},G=function(e){e.edges().forEach((function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))},V=function(e){var t=l.default.buildLayerMatrix(e);null===t||void 0===t||t.forEach((function(t){var n=0;null===t||void 0===t||t.forEach((function(t,r){var o,i=e.node(t);i.order=r+n,null===(o=i.selfEdges)||void 0===o||o.forEach((function(t){l.default.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:r+ ++n,e:t.e,label:t.label},"_se")})),delete i.selfEdges}))}))},U=function(e){e.nodes().forEach((function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),o=r.x+r.width/2,i=r.y,a=n.x-o,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:o+2*a/3,y:i-s},{x:o+5*a/6,y:i-s},{y:i,x:o+a},{x:o+5*a/6,y:i+s},{x:o+2*a/3,y:i+s}],n.label.x=n.x,n.label.y=n.y}}))},W=function(e,t){var n={};return null===t||void 0===t||t.forEach((function(t){void 0!==e[t]&&(n[t]=+e[t])})),n},Z=function(e){void 0===e&&(e={});var t={};return Object.keys(e).forEach((function(n){var r=e[n];t[n.toLowerCase()]=r})),t};t.default=function(e,t){var n=t&&t.debugTiming?l.default.time:l.default.notime;n("layout",(function(){t&&!t.keepNodeOrder&&t.prevGraph&&n("  inheritOrder",(function(){w(e,t.prevGraph)}));var r=n("  buildLayoutGraph",(function(){return P(e)}));t&&!1===t.edgeLabelSpace||n("  makeSpaceForEdgeLabels",(function(){O(r)}));try{n("  runLayout",(function(){x(r,n,t)}))}catch(o){if("Not possible to find intersection inside of the rectangle"===o.message)return void console.error("The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:\n",o);throw o}n("  updateInputGraph",(function(){E(e,r)}))}))}},2912:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1724)),i=function e(t,n,r,i,a,s,u){var c=t.children(u);if(null===c||void 0===c?void 0:c.length){var l=o.default.addBorderNode(t,"_bt"),f=o.default.addBorderNode(t,"_bb"),d=t.node(u);t.setParent(l,u),d.borderTop=l,t.setParent(f,u),d.borderBottom=f,null===c||void 0===c||c.forEach((function(o){e(t,n,r,i,a,s,o);var c=t.node(o),d=c.borderTop?c.borderTop:o,h=c.borderBottom?c.borderBottom:o,p=c.borderTop?i:2*i,g=d!==h?1:a-s[u]+1;t.setEdge(l,d,{minlen:g,weight:p,nestingEdge:!0}),t.setEdge(h,f,{minlen:g,weight:p,nestingEdge:!0})})),t.parent(u)||t.setEdge(n,l,{weight:0,minlen:a+s[u]})}else u!==n&&t.setEdge(n,u,{weight:0,minlen:r})},a=function(e){var t,n={},r=function t(r,o){var i=e.children(r);null===i||void 0===i||i.forEach((function(e){return t(e,o+1)})),n[r]=o};return null===(t=e.children())||void 0===t||t.forEach((function(e){return r(e,1)})),n},s=function(e){var t=0;return e.edges().forEach((function(n){t+=e.edge(n).weight})),t};t.default={run:function(e){var t,n=o.default.addDummyNode(e,"root",{},"_root"),r=a(e),u=Math.max.apply(Math,Object.values(r))-1,c=2*u+1;e.graph().nestingRoot=n,e.edges().forEach((function(t){e.edge(t).minlen*=c}));var l=s(e)+1;null===(t=e.children())||void 0===t||t.forEach((function(t){i(e,n,c,l,u,r,t)})),e.graph().nodeRankFactor=c},cleanup:function(e){var t=e.graph();t.nestingRoot&&e.removeNode(t.nestingRoot),delete t.nestingRoot,e.edges().forEach((function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))}}},6885:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1724)),i=function(e,t){var n,r,i=t.v,a=e.node(i).rank,s=t.w,u=e.node(s).rank,c=t.name,l=e.edge(t),f=l.labelRank;if(u!==a+1){var d,h,p;for(e.removeEdge(t),p=0,++a;a<u;++p,++a)l.points=[],h={edgeLabel:l,width:0,height:0,edgeObj:t,rank:a},d=o.default.addDummyNode(e,"edge",h,"_d"),a===f&&(h.width=l.width,h.height=l.height,h.dummy="edge-label",h.labelpos=l.labelpos),e.setEdge(i,d,{weight:l.weight},c),0===p&&(e.graph().dummyChains||(e.graph().dummyChains=[]),null===(r=null===(n=e.graph())||void 0===n?void 0:n.dummyChains)||void 0===r||r.push(d)),i=d;e.setEdge(i,s,{weight:l.weight},c)}};t.default={run:function(e){e.graph().dummyChains=[],e.edges().forEach((function(t){return i(e,t)}))},undo:function(e){var t;null===(t=e.graph().dummyChains)||void 0===t||t.forEach((function(t){var n,r,o=e.node(t),i=o.edgeLabel;o.edgeObj&&e.setEdge(o.edgeObj,i);for(var a=t;o.dummy;)r=null===(n=e.successors(a))||void 0===n?void 0:n[0],e.removeNode(a),i.points.push({x:o.x,y:o.y}),"edge-label"===o.dummy&&(i.x=o.x,i.y=o.y,i.width=o.width,i.height=o.height),a=r,o=e.node(a)}))}}},7070:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var r,o={};null===n||void 0===n||n.forEach((function(n){for(var i,a,s=e.parent(n);s;){if((i=e.parent(s))?(a=o[i],o[i]=s):(a=r,r=s),a&&a!==s)return void t.setEdge(a,s);s=i}}))}},4333:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return t.map((function(t){var n=e.inEdges(t);if(!(null===n||void 0===n?void 0:n.length))return{v:t};var r={sum:0,weight:0};return null===n||void 0===n||n.forEach((function(t){var n=e.edge(t),o=e.node(t.v);r.sum+=n.weight*o.order,r.weight+=n.weight})),{v:t,barycenter:r.sum/r.weight,weight:r.weight}}))}},862:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(9770)).default.Graph,i=function(e){for(var t;e.hasNode(t="_root"+Math.random()););return t};t.default=function(e,t,n){var r=i(e),a=new o({compound:!0}).setGraph({root:r}).setDefaultNodeLabel((function(t){return e.node(t)}));return e.nodes().forEach((function(o){var i=e.node(o),s=e.parent(o);(i.rank===t||i.minRank<=t&&t<=i.maxRank)&&(a.setNode(o),a.setParent(o,s||r),e[n](o).forEach((function(t){var n=t.v===o?t.w:t.v,r=a.edge(n,o),i=void 0!==r?r.weight:0;a.setEdge(n,o,{weight:e.edge(t).weight+i})})),i.hasOwnProperty("minRank")&&a.setNode(o,{borderLeft:i.borderLeft[t],borderRight:i.borderRight[t]}))})),a}},6778:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1724),o=function(e,t,n){for(var o=(0,r.zipObject)(n,n.map((function(e,t){return t}))),i=t.map((function(t){var n,r=null===(n=e.outEdges(t))||void 0===n?void 0:n.map((function(t){return{pos:o[t.w]||0,weight:e.edge(t).weight}}));return null===r||void 0===r?void 0:r.sort((function(e,t){return e.pos-t.pos}))})).flat().filter((function(e){return void 0!==e})),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var u=Array(s).fill(0,0,s),c=0;return null===i||void 0===i||i.forEach((function(e){var t=e.pos+a;u[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=u[t+1]),u[t=t-1>>1]+=e.weight;c+=e.weight*n})),c};t.default=function(e,t){for(var n=0,r=1;r<(null===t||void 0===t?void 0:t.length);++r)n+=o(e,t[r-1],t[r]);return n}},2854:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(9220)),i=r(n(6778)),a=r(n(862)),s=r(n(7070)),u=r(n(55)),c=r(n(9770)),l=r(n(1724)),f=n(1784),d=c.default.Graph,h=function(e,t,n){return t.map((function(t){return(0,a.default)(e,t,n)}))},p=function(e,t,n){var r=new d;null===e||void 0===e||e.forEach((function(e){for(var o,i=e.graph().root,a=(0,u.default)(e,i,r,t,n),c=0;c<(null===(o=a.vs)||void 0===o?void 0:o.length);c++)e.node(a.vs[c]).order=c;(0,s.default)(e,r,a.vs)}))},g=function(e,t){null===t||void 0===t||t.forEach((function(t){null===t||void 0===t||t.forEach((function(t,n){e.node(t).order=n}))}))};t.default=function(e){for(var t=l.default.maxRank(e),n=[],r=[],a=1;a<t+1;a++)n.push(a);for(a=t-1;a>-1;a--)r.push(a);var s=h(e,n,"inEdges"),u=h(e,r,"outEdges"),c=(0,o.default)(e);g(e,c);for(var d,v=Number.POSITIVE_INFINITY,m=(a=0,0);m<4;++a,++m){p(a%2?s:u,a%4>=2),c=l.default.buildLayerMatrix(e),(y=(0,i.default)(e,c))<v&&(m=0,d=(0,f.clone)(c),v=y)}c=(0,o.default)(e),g(e,c);for(a=0,m=0;m<4;++a,++m){var y;p(a%2?s:u,a%4>=2,!0),c=l.default.buildLayerMatrix(e),(y=(0,i.default)(e,c))<v&&(m=0,d=(0,f.clone)(c),v=y)}g(e,d)}},7914:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){for(var n=e.nodes().filter((function(t){var n;return!(null===(n=e.children(t))||void 0===n?void 0:n.length)})).map((function(t){return e.node(t).rank})),r=Math.max.apply(Math,n),o=[],i=0;i<r+1;i++)o.push([]);null===t||void 0===t||t.forEach((function(t){var n=e.node(t);n&&!n.dummy&&(isNaN(n.rank)||(n.fixorder=o[n.rank].length,o[n.rank].push(t)))}))}},9220:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t={},n=e.nodes().filter((function(t){var n;return!(null===(n=e.children(t))||void 0===n?void 0:n.length)})),r=n.map((function(t){return e.node(t).rank})),o=Math.max.apply(Math,r),i=[],a=0;a<o+1;a++)i.push([]);var s=n.sort((function(t,n){return e.node(t).rank-e.node(n).rank})),u=s.filter((function(t){return void 0!==e.node(t).fixorder})).sort((function(t,n){return e.node(t).fixorder-e.node(n).fixorder}));return null===u||void 0===u||u.forEach((function(n){isNaN(e.node(n).rank)||i[e.node(n).rank].push(n),t[n]=!0})),null===s||void 0===s||s.forEach((function n(r){var o;if(!t.hasOwnProperty(r)){t[r]=!0;var a=e.node(r);isNaN(a.rank)||i[a.rank].push(r),null===(o=e.successors(r))||void 0===o||o.forEach((function(e){return n(e)}))}})),i}},3896:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){for(var t,n,o=[],i=function(){var i=e.pop();o.push(i),null===(t=i.in.reverse())||void 0===t||t.forEach((function(e){return(t=i,function(e){e.merged||(void 0===e.barycenter||void 0===t.barycenter||e.barycenter>=t.barycenter)&&r(t,e)})(e);var t})),null===(n=i.out)||void 0===n||n.forEach((function(t){return(n=i,function(t){t.in.push(n),0===--t.indegree&&e.push(t)})(t);var n}))};null===e||void 0===e?void 0:e.length;)i();var a=o.filter((function(e){return!e.merged})),s=["vs","i","barycenter","weight"];return a.map((function(e){var t={};return null===s||void 0===s||s.forEach((function(n){void 0!==e[n]&&(t[n]=e[n])})),t}))},r=function(e,t){var n,r=0,o=0;e.weight&&(r+=e.barycenter*e.weight,o+=e.weight),t.weight&&(r+=t.barycenter*t.weight,o+=t.weight),e.vs=null===(n=t.vs)||void 0===n?void 0:n.concat(e.vs),e.barycenter=r/o,e.weight=o,e.i=Math.min(t.i,e.i),t.merged=!0};t.default=function(e,t){var r,o,i,a={};null===e||void 0===e||e.forEach((function(e,t){var n=a[e.v]={i:t,indegree:0,in:[],out:[],vs:[e.v]};void 0!==e.barycenter&&(n.barycenter=e.barycenter,n.weight=e.weight)})),null===(r=t.edges())||void 0===r||r.forEach((function(e){var t=a[e.v],n=a[e.w];void 0!==t&&void 0!==n&&(n.indegree++,t.out.push(a[e.w]))}));var s=null===(i=(o=Object.values(a)).filter)||void 0===i?void 0:i.call(o,(function(e){return!e.indegree}));return n(s)}},55:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(4333)),i=r(n(3896)),a=r(n(3267)),s=function(e,t){null===e||void 0===e||e.forEach((function(e){var n,r=null===(n=e.vs)||void 0===n?void 0:n.map((function(e){return t[e]?t[e].vs:e}));e.vs=r.flat()}))},u=function(e,t){void 0!==e.barycenter?(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight):(e.barycenter=t.barycenter,e.weight=t.weight)};t.default=function e(t,n,r,c,l){var f,d,h,p,g=t.children(n),v=t.node(n),m=v?v.borderLeft:void 0,y=v?v.borderRight:void 0,b={};m&&(g=null===g||void 0===g?void 0:g.filter((function(e){return e!==m&&e!==y})));var x=(0,o.default)(t,g||[]);null===x||void 0===x||x.forEach((function(n){var o;if(null===(o=t.children(n.v))||void 0===o?void 0:o.length){var i=e(t,n.v,r,c);b[n.v]=i,i.hasOwnProperty("barycenter")&&u(n,i)}}));var w=(0,i.default)(x,r);s(w,b),null===(f=w.filter((function(e){var t;return!!e.vs||(null===(t=e.vs)||void 0===t?void 0:t.length)>0})))||void 0===f||f.forEach((function(e){var n=t.node(e.vs[0]);e.fixorder=n.fixorder,e.order=n.order}));var E=(0,a.default)(w,c,l);if(m&&(E.vs=[m,E.vs,y].flat(),null===(d=t.predecessors(m))||void 0===d?void 0:d.length)){var _=t.node((null===(h=t.predecessors(m))||void 0===h?void 0:h[0])||{}),S=t.node((null===(p=t.predecessors(y))||void 0===p?void 0:p[0])||{});E.hasOwnProperty("barycenter")||(E.barycenter=0,E.weight=0),E.barycenter=(E.barycenter*E.weight+_.order+S.order)/(E.weight+2),E.weight+=2}return E}},3267:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1724)),i=function(e,t,n){for(var r,o=n;t.length&&(r=t[t.length-1]).i<=o;)t.pop(),null===e||void 0===e||e.push(r.vs),o++;return o},a=function(e,t){return function(n,r){if(void 0!==n.fixorder&&void 0!==r.fixorder)return n.fixorder-r.fixorder;if(n.barycenter<r.barycenter)return-1;if(n.barycenter>r.barycenter)return 1;if(t&&void 0!==n.order&&void 0!==r.order){if(n.order<r.order)return-1;if(n.order>r.order)return 1}return e?r.i-n.i:n.i-r.i}};t.default=function(e,t,n){var r=o.default.partition(e,(function(e){return e.hasOwnProperty("fixorder")&&!isNaN(e.fixorder)||e.hasOwnProperty("barycenter")})),s=r.lhs,u=r.rhs.sort((function(e,t){return-e.i- -t.i})),c=[],l=0,f=0,d=0;null===s||void 0===s||s.sort(a(!!t,!!n)),d=i(c,u,d),null===s||void 0===s||s.forEach((function(e){var t;d+=null===(t=e.vs)||void 0===t?void 0:t.length,c.push(e.vs),l+=e.barycenter*e.weight,f+=e.weight,d=i(c,u,d)}));var h={vs:c.flat()};return f&&(h.barycenter=l/f,h.weight=f),h}},5604:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n,r){var o,i,a=[],s=[],u=Math.min(t[n].low,t[r].low),c=Math.max(t[n].lim,t[r].lim);o=n;do{o=e.parent(o),a.push(o)}while(o&&(t[o].low>u||c>t[o].lim));for(i=o,o=r;(o=e.parent(o))!==i;)s.push(o);return{lca:i,path:a.concat(s.reverse())}},r=function(e){var t,n={},r=0;return null===(t=e.children())||void 0===t||t.forEach((function t(o){var i,a=r;null===(i=e.children(o))||void 0===i||i.forEach(t),n[o]={low:a,lim:r++}})),n};t.default=function(e){var t,o=r(e);null===(t=e.graph().dummyChains)||void 0===t||t.forEach((function(t){var r,i,a=e.node(t),s=a.edgeObj;if(s)for(var u=n(e,o,s.v,s.w),c=u.path,l=u.lca,f=0,d=c[f],h=!0;t!==s.w;){if(a=e.node(t),h){for(;(d=c[f])!==l&&e.node(d).maxRank<a.rank;)f++;d===l&&(h=!1)}if(!h){for(;f<c.length-1&&(null===(r=e.node(d=c[f+1]))||void 0===r?void 0:r.minRank)<=a.rank;)f++;d=c[f]}e.setParent(t,d),t=null===(i=e.successors(t))||void 0===i?void 0:i[0]}}))}},9864:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.balance=t.findSmallestWidthAlignment=t.alignCoordinates=t.horizontalCompaction=t.verticalAlignment=t.hasConflict=t.addConflict=t.findType2Conflicts=t.findType1Conflicts=t.positionX=void 0;var o=r(n(9770)),i=r(n(1724)),a=o.default.Graph,s=function(e,t){var n={};return(null===t||void 0===t?void 0:t.length)&&t.reduce((function(t,r){var o=0,i=0,a=t.length,s=null===r||void 0===r?void 0:r[(null===r||void 0===r?void 0:r.length)-1];return null===r||void 0===r||r.forEach((function(t,u){var f,d=c(e,t),h=d?e.node(d).order:a;(d||t===s)&&(null===(f=r.slice(i,u+1))||void 0===f||f.forEach((function(t){var r;null===(r=e.predecessors(t))||void 0===r||r.forEach((function(r){var i=e.node(r),a=i.order;!(a<o||h<a)||i.dummy&&e.node(t).dummy||l(n,r,t)}))})),i=u+1,o=h)})),r})),n};t.findType1Conflicts=s;var u=function(e,t){var n={},r=function(t,r,o,i,a){for(var s,u=[],c=r;c<o;c++)u.push(c);u.forEach((function(r){var o;s=t[r],e.node(s).dummy&&(null===(o=e.predecessors(s))||void 0===o||o.forEach((function(t){var r=e.node(t);r.dummy&&(r.order<i||r.order>a)&&l(n,t,s)})))}))};return(null===t||void 0===t?void 0:t.length)&&t.reduce((function(t,n){var o,i=-1,a=0;return null===n||void 0===n||n.forEach((function(s,u){if("border"===e.node(s).dummy){var c=e.predecessors(s)||[];c.length&&(o=e.node(c[0]).order,r(n,a,u,i,o),a=u,i=o)}r(n,a,n.length,o,t.length)})),n})),n};t.findType2Conflicts=u;var c=function(e,t){var n;if(e.node(t).dummy)return null===(n=e.predecessors(t))||void 0===n?void 0:n.find((function(t){return e.node(t).dummy}))},l=function(e,t,n){var r=t,o=n;if(r>o){var i=r;r=o,o=i}var a=e[r];a||(e[r]=a={}),a[o]=!0};t.addConflict=l;var f=function(e,t,n){var r=t,o=n;r>o&&(r=o,o=t);return e[r]&&e[r].hasOwnProperty(o)};t.hasConflict=f;var d=function(e,t,n,r){var o={},i={},a={};return null===t||void 0===t||t.forEach((function(e){null===e||void 0===e||e.forEach((function(e,t){o[e]=e,i[e]=e,a[e]=t}))})),null===t||void 0===t||t.forEach((function(e){var t=-1;null===e||void 0===e||e.forEach((function(e){var s=r(e);if(s.length)for(var u=((s=s.sort((function(e,t){return a[e]-a[t]}))).length-1)/2,c=Math.floor(u),l=Math.ceil(u);c<=l;++c){var d=s[c];i[e]===e&&t<a[d]&&!f(n,e,d)&&(i[d]=e,i[e]=o[e]=o[d],t=a[d])}}))})),{root:o,align:i}};t.verticalAlignment=d;var h=function(e,t,n,r,o){var i,a={},s=p(e,t,n,o),u=o?"borderLeft":"borderRight",c=function(e,t){for(var n=s.nodes(),r=n.pop(),o={};r;)o[r]?e(r):(o[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()};return c((function(e){a[e]=(s.inEdges(e)||[]).reduce((function(e,t){return Math.max(e,(a[t.v]||0)+s.edge(t))}),0)}),s.predecessors.bind(s)),c((function(t){var n=(s.outEdges(t)||[]).reduce((function(e,t){return Math.min(e,(a[t.w]||0)-s.edge(t))}),Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==u&&(a[t]=Math.max(a[t],n))}),s.successors.bind(s)),null===(i=Object.values(r))||void 0===i||i.forEach((function(e){a[e]=a[n[e]]})),a};t.horizontalCompaction=h;var p=function(e,t,n,r){var o=new a,i=e.graph(),s=b(i.nodesep,i.edgesep,r);return null===t||void 0===t||t.forEach((function(t){var r;null===t||void 0===t||t.forEach((function(t){var i=n[t];if(o.setNode(i),r){var a=n[r],u=o.edge(a,i);o.setEdge(a,i,Math.max(s(e,t,r),u||0))}r=t}))})),o},g=function(e,t){return i.default.minBy(Object.values(t),(function(t){var n,r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return null===(n=Object.keys(t))||void 0===n||n.forEach((function(n){var i=t[n],a=x(e,n)/2;r=Math.max(i+a,r),o=Math.min(i-a,o)})),r-o}))};function v(e,t){var n=Object.values(t),r=Math.min.apply(Math,n),o=Math.max.apply(Math,n);["u","d"].forEach((function(n){["l","r"].forEach((function(i){var a,s=n+i,u=e[s];if(u!==t){var c=Object.values(u);(a="l"===i?r-Math.min.apply(Math,c):o-Math.max.apply(Math,c))&&(e[s]={},Object.keys(u).forEach((function(t){e[s][t]=u[t]+a})))}}))}))}t.findSmallestWidthAlignment=g,t.alignCoordinates=v;var m=function(e,t){var n={};return Object.keys(e.ul).forEach((function(r){if(t)n[r]=e[t.toLowerCase()][r];else{var o=Object.values(e).map((function(e){return e[r]})).sort((function(e,t){return e-t}));n[r]=(o[1]+o[2])/2}})),n};t.balance=m;var y=function(e){var t,n=i.default.buildLayerMatrix(e),r=Object.assign(s(e,n),u(e,n)),o={};["u","d"].forEach((function(i){t="u"===i?n:Object.values(n).reverse(),["l","r"].forEach((function(n){"r"===n&&(t=t.map((function(e){return Object.values(e).reverse()})));var a=("u"===i?e.predecessors:e.successors).bind(e),s=d(0,t,r,a),u=h(e,t,s.root,s.align,"r"===n);"r"===n&&(u=Object.values(u).map((function(e){return-e}))),o[i+n]=u}))}));var a=g(e,o);return v(o,a),m(o,e.graph().align)};t.positionX=y;var b=function(e,t,n){return function(r,o,i){var a,s=r.node(o),u=r.node(i),c=0;if(c+=s.width/2,s.hasOwnProperty("labelpos"))switch((s.labelpos||"").toLowerCase()){case"l":a=-s.width/2;break;case"r":a=s.width/2}if(a&&(c+=n?a:-a),a=0,c+=(s.dummy?t:e)/2,c+=(u.dummy?t:e)/2,c+=u.width/2,u.hasOwnProperty("labelpos"))switch((u.labelpos||"").toLowerCase()){case"l":a=u.width/2;break;case"r":a=-u.width/2}return a&&(c+=n?a:-a),a=0,c}},x=function(e,t){var n;return(null===(n=e.node(t))||void 0===n?void 0:n.width)||0};t.default={positionX:y,findType1Conflicts:s,findType2Conflicts:u,addConflict:l,hasConflict:f,verticalAlignment:d,horizontalCompaction:h,alignCoordinates:v,findSmallestWidthAlignment:g,balance:m}},7746:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1724)),i=n(9864);t.default=function(e){var t;!function(e){var t=o.default.buildLayerMatrix(e),n=e.graph().ranksep,r=0;null===t||void 0===t||t.forEach((function(t){var o=t.map((function(t){return e.node(t).height})),i=Math.max.apply(Math,o);null===t||void 0===t||t.forEach((function(t){e.node(t).y=r+i/2})),r+=i+n}))}(e=o.default.asNonCompoundGraph(e));var n=function(e){var t,n=o.default.buildLayerMatrix(e),r=Object.assign((0,i.findType1Conflicts)(e,n),(0,i.findType2Conflicts)(e,n)),a={};["u","d"].forEach((function(o){t="u"===o?n:Object.values(n).reverse(),["l","r"].forEach((function(n){"r"===n&&(t=t.map((function(e){return Object.values(e).reverse()})));var s=("u"===o?e.predecessors:e.successors).bind(e),u=(0,i.verticalAlignment)(e,t,r,s),c=(0,i.horizontalCompaction)(e,t,u.root,u.align,"r"===n);"r"===n&&Object.keys(c).forEach((function(e){return c[e]=-c[e]})),a[o+n]=c}))}));var s=(0,i.findSmallestWidthAlignment)(e,a);return s&&(0,i.alignCoordinates)(a,s),(0,i.balance)(a,e.graph().align)}(e);null===(t=Object.keys(n))||void 0===t||t.forEach((function(t){e.node(t).x=n[t]}))}},358:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.feasibleTreeWithLayer=t.feasibleTree=void 0;var o=r(n(9770)),i=n(1850),a=n(1724),s=o.default.Graph,u=function(e){var t,n,r=new s({directed:!1}),o=e.nodes()[0],a=e.nodeCount();for(r.setNode(o,{});c(r,e)<a;)t=d(r,e),n=r.hasNode(t.v)?(0,i.slack)(e,t):-(0,i.slack)(e,t),h(r,e,n);return r};t.feasibleTree=u;var c=function(e,t){return e.nodes().forEach((function n(r){t.nodeEdges(r).forEach((function(o){var a=o.v,s=r===a?o.w:a;e.hasNode(s)||(0,i.slack)(t,o)||(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))}))})),e.nodeCount()},l=function(e){var t,n,r=new s({directed:!1}),o=e.nodes()[0],a=e.nodeCount();for(r.setNode(o,{});f(r,e)<a;)t=d(r,e),n=r.hasNode(t.v)?(0,i.slack)(e,t):-(0,i.slack)(e,t),h(r,e,n);return r};t.feasibleTreeWithLayer=l;var f=function(e,t){return e.nodes().forEach((function n(r){var o;null===(o=t.nodeEdges(r))||void 0===o||o.forEach((function(o){var a=o.v,s=r===a?o.w:a;e.hasNode(s)||void 0===t.node(s).layer&&(0,i.slack)(t,o)||(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))}))})),e.nodeCount()},d=function(e,t){return(0,a.minBy)(t.edges(),(function(n){return e.hasNode(n.v)!==e.hasNode(n.w)?(0,i.slack)(t,n):1/0}))},h=function(e,t,n){e.nodes().forEach((function(e){t.node(e).rank||(t.node(e).rank=0),t.node(e).rank+=n}))};t.default={feasibleTree:u,feasibleTreeWithLayer:l}},7098:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1850),i=n(358),a=r(n(7922)),s=o.longestPath,u=function(e){(0,o.longestPathWithLayer)(e),(0,i.feasibleTreeWithLayer)(e)},c=function(e){(0,a.default)(e)};t.default=function(e){switch(e.graph().ranker){case"network-simplex":c(e);break;case"tight-tree":default:u(e);break;case"longest-path":s(e)}}},7922:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(358),i=n(1850),a=n(1724),s=r(n(9770)).default.alg,u=s.preorder,c=s.postorder,l=function(e){e=(0,a.simplify)(e),(0,i.longestPath)(e);var t,n,r=(0,o.feasibleTree)(e);for(p(r),f(r,e);t=v(r);)n=m(r,e,t),y(r,e,t,n)},f=function(e,t){var n=c(e,e.nodes());null===(n=null===n||void 0===n?void 0:n.slice(0,(null===n||void 0===n?void 0:n.length)-1))||void 0===n||n.forEach((function(n){d(e,t,n)}))},d=function(e,t,n){var r=e.node(n).parent;e.edge(n,r).cutvalue=h(e,t,n)},h=function(e,t,n){var r,o=e.node(n).parent,i=!0,a=t.edge(n,o),s=0;return a||(i=!1,a=t.edge(o,n)),s=a.weight,null===(r=t.nodeEdges(n))||void 0===r||r.forEach((function(r){var a=r.v===n,u=a?r.w:r.v;if(u!==o){var c=a===i,l=t.edge(r).weight;if(s+=c?l:-l,x(e,n,u)){var f=e.edge(n,u).cutvalue;s+=c?-f:f}}})),s},p=function(e,t){void 0!==t&&(t=e.nodes()[0]),g(e,{},1,t)},g=function e(t,n,r,o,i){var a,s=r,u=r,c=t.node(o);return n[o]=!0,null===(a=t.neighbors(o))||void 0===a||a.forEach((function(r){n.hasOwnProperty(r)||(u=e(t,n,u,r,o))})),c.low=s,c.lim=u++,i?c.parent=i:delete c.parent,u},v=function(e){return e.edges().find((function(t){return e.edge(t).cutvalue<0}))},m=function(e,t,n){var r=n.v,o=n.w;t.hasEdge(r,o)||(r=n.w,o=n.v);var s=e.node(r),u=e.node(o),c=s,l=!1;s.lim>u.lim&&(c=u,l=!0);var f=t.edges().filter((function(t){return l===w(e,e.node(t.v),c)&&l!==w(e,e.node(t.w),c)}));return(0,a.minBy)(f,(function(e){return(0,i.slack)(t,e)}))},y=function(e,t,n,r){var o=n.v,i=n.w;e.removeEdge(o,i),e.setEdge(r.v,r.w,{}),p(e),f(e,t),b(e,t)},b=function(e,t){var n=e.nodes().find((function(e){return!t.node(e).parent})),r=u(e,n);null===(r=null===r||void 0===r?void 0:r.slice(1))||void 0===r||r.forEach((function(n){var r=e.node(n).parent,o=t.edge(n,r),i=!1;o||(o=t.edge(r,n),i=!0),t.node(n).rank=t.node(r).rank+(i?o.minlen:-o.minlen)}))},x=function(e,t,n){return e.hasEdge(t,n)},w=function(e,t,n){return n.low<=t.lim&&t.lim<=n.lim};l.initLowLimValues=p,l.initCutValues=f,l.calcCutValue=h,l.leaveEdge=v,l.enterEdge=m,l.exchangeEdges=y,t.default=l},1850:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.slack=t.longestPathWithLayer=t.longestPath=void 0;var n=function(e){var t,n={},r=function t(r){var o,i=e.node(r);if(n.hasOwnProperty(r))return i.rank;n[r]=!0;var a=null===(o=e.outEdges(r))||void 0===o?void 0:o.map((function(n){return t(n.w)-e.edge(n).minlen||1/0})),s=Math.min.apply(Math,a);return s!==Number.POSITIVE_INFINITY&&void 0!==s&&null!==s||(s=0),i.rank=s,s};null===(t=e.sources())||void 0===t||t.forEach((function(e){return r(e)}))};t.longestPath=n;var r=function(e){var t,n={},r=0,o=function t(o){var i,a=e.node(o);if(n.hasOwnProperty(o))return a.rank;n[o]=!0;var s=null===(i=e.outEdges(o))||void 0===i?void 0:i.map((function(n){return t(n.w)-e.edge(n).minlen||1/0})),u=Math.min.apply(Math,s);return u!==Number.POSITIVE_INFINITY&&void 0!==u&&null!==u||(u=0),a.rank=u,r=Math.min(a.rank,r),a.rank};null===(t=e.sources())||void 0===t||t.forEach((function(e){return o(e)})),r+=1;var i=function t(n,r){var o,i=e.node(n),a=isNaN(i.layer)?r:i.layer;(void 0===i.rank||i.rank<a)&&(i.rank=a),null===(o=e.outEdges(n))||void 0===o||o.map((function(n){t(n.w,a+e.edge(n).minlen)}))};e.nodes().forEach((function(t){var n=e.node(t);isNaN(n.layer)?n.rank-=r:i(t,n.layer)}))};t.longestPathWithLayer=r;var o=function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen};t.slack=o,t.default={longestPath:n,longestPathWithLayer:r,slack:o}},1724:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.minBy=t.zipObject=t.notime=t.time=t.partition=t.maxRank=t.addBorderNode=t.removeEmptyRanks=t.normalizeRanks=t.buildLayerMatrix=t.intersectRect=t.predecessorWeights=t.successorWeights=t.asNonCompoundGraph=t.simplify=t.addDummyNode=void 0;var o=n(1784),i=r(n(9770)).default.Graph,a=function(e,t,n,r){var o;do{o=""+r+Math.random()}while(e.hasNode(o));return n.dummy=t,e.setNode(o,n),o};t.addDummyNode=a;var s=function(e){var t=(new i).setGraph(e.graph());return e.nodes().forEach((function(n){t.setNode(n,e.node(n))})),e.edges().forEach((function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},o=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})})),t};t.simplify=s;var u=function(e){var t=new i({multigraph:e.isMultigraph()}).setGraph(e.graph());return e.nodes().forEach((function(n){var r;(null===(r=e.children(n))||void 0===r?void 0:r.length)||t.setNode(n,e.node(n))})),e.edges().forEach((function(n){return t.setEdge(n,e.edge(n))})),t};t.asNonCompoundGraph=u;var c=function(e,t){var n={};return null===e||void 0===e||e.forEach((function(e,r){n[e]=t[r]})),n};t.zipObject=c;var l=function(e){var t=e.nodes().map((function(t){var n,r={};return null===(n=e.outEdges(t))||void 0===n||n.forEach((function(t){r[t.w]=(r[t.w]||0)+e.edge(t).weight})),r}));return c(e.nodes(),t)};t.successorWeights=l;var f=function(e){var t=e.nodes().map((function(t){var n,r={};return null===(n=e.inEdges(t))||void 0===n||n.forEach((function(t){r[t.v]=(r[t.v]||0)+e.edge(t).weight})),r}));return c(e.nodes(),t)};t.predecessorWeights=f;var d=function(e,t){var n,r,o=e.x,i=e.y,a=t.x-o,s=t.y-i,u=e.width/2,c=e.height/2;return a||s?(Math.abs(s)*u>Math.abs(a)*c?(s<0&&(c=-c),n=c*a/s,r=c):(a<0&&(u=-u),n=u,r=u*s/a),{x:o+n,y:i+r}):{x:0,y:0}};t.intersectRect=d;var h=function(e){for(var t=[],n=[],r=m(e)+1,o=0;o<r;o++)t.push([]),n.push([]);return e.nodes().forEach((function(r){var o=e.node(r).rank;void 0!==o&&t[o]&&n[o].push(r)})),null===n||void 0===n||n.forEach((function(n,r){null===n||void 0===n||n.sort((function(t,n){var r,o;return(null===(r=e.node(t))||void 0===r?void 0:r.order)-(null===(o=e.node(n))||void 0===o?void 0:o.order)})),n.forEach((function(e){t[r].push(e)}))})),t};t.buildLayerMatrix=h;var p=function(e){var t=e.nodes().filter((function(t){return void 0!==e.node(t).rank})).map((function(t){return e.node(t).rank})),n=Math.min.apply(Math,t);e.nodes().forEach((function(t){var r=e.node(t);r.hasOwnProperty("rank")&&(r.rank||(r.rank=0),r.rank-=n)}))};t.normalizeRanks=p;var g=function(e){var t=e.nodes().filter((function(t){return void 0!==e.node(t).rank})).map((function(t){return e.node(t).rank})),n=Math.min.apply(Math,t),r=[];e.nodes().forEach((function(t){var o,i=((null===(o=e.node(t))||void 0===o?void 0:o.rank)||0)-n;r[i]||(r[i]=[]),r[i].push(t)}));for(var o=0,i=e.graph().nodeRankFactor||0,a=0;a<r.length;a++){var s=r[a];void 0===s&&a%i!==0?--o:o&&(null===s||void 0===s||s.forEach((function(t){e.node(t).rank||(e.node(t).rank=0),e.node(t).rank+=o})))}};t.removeEmptyRanks=g;var v=function(e,t,n,r){var i={width:0,height:0};return(0,o.isNumber)(n)&&(0,o.isNumber)(r)&&(i.rank=n,i.order=r),a(e,"border",i,t)};t.addBorderNode=v;var m=function(e){var t=e.nodes().map((function(t){var n=e.node(t).rank;return void 0!==n?n:-1/0}));return Math.max.apply(Math,t)};t.maxRank=m;var y=function(e,t){var n={lhs:[],rhs:[]};return null===e||void 0===e||e.forEach((function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n};t.partition=y;var b=function(e,t){var n=Date.now();try{return t()}finally{console.log(e+" time: "+(Date.now()-n)+"ms")}};t.time=b;var x=function(e,t){return t()};t.notime=x;var w=function(e,t){var n,r=1/0;return null===e||void 0===e||e.forEach((function(e){var o=t(e);r>o&&(r=o,n=e)})),n};t.minBy=w,t.default={addDummyNode:a,simplify:s,asNonCompoundGraph:u,successorWeights:l,predecessorWeights:f,intersectRect:d,buildLayerMatrix:h,normalizeRanks:p,removeEmptyRanks:g,addBorderNode:v,maxRank:m,partition:y,time:b,notime:x,zipObject:c,minBy:w}},7530:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.DagreCompoundLayout=void 0;var a=n(4950),s=n(9457),u=n(1784),c=function(e){function t(t){var n=e.call(this)||this;return n.rankdir="TB",n.nodesep=50,n.edgesep=5,n.ranksep=50,n.controlPoints=!0,n.anchorPoint=!0,n.nodes=[],n.edges=[],n.combos=[],n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,begin:void 0,nodeSize:void 0,nodesep:50,ranksep:50,controlPoints:!0,anchorPoint:!0}},t.prototype.init=function(e){var t=e.hiddenNodes||[],n=e.hiddenEdges||[],r=e.hiddenCombos||[];this.nodes=this.getDataByOrder((e.nodes||[]).concat(t)),this.edges=this.getDataByOrder((e.edges||[]).concat(n)),this.combos=(e.combos||[]).concat(r.map((function(e){return o(o({},e),{collapsed:!0})})))},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges;if(t){var r=e.getLayoutConfig(),o=r.graphDef,i=r.graphOption,a=r.graphSettings,u=(0,s.buildGraph)(o,i,a),c=(0,s.flatGraph)(u,!0);return this.updatePosition(c),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n}}},t.prototype.getNodePath=function(e){var t=this.nodes,n=this.combos,r=t.find((function(t){return t.id===e}));return r&&r.comboId?function e(t,r){void 0===r&&(r=[]);var o=n.find((function(e){return e.id===t}));return o?(r.unshift(t),o.parentId?e(o.parentId,r):r):r}(r.comboId,[e]):[e]},t.prototype.getLayoutConfig=function(){var e,t,n,r,a=this,c=a.nodes,l=a.edges,f=a.combos,d=a.nodeSize,h=a.rankdir,p=a.align,g=a.edgesep,v=a.nodesep,m=a.ranksep,y=a.settings,b=(f||[]).reduce((function(e,t){var n=c.filter((function(e){return e.comboId===t.id})).map((function(e){return e.id})),r=(f||[]).filter((function(e){return e.parentId===t.id})).map((function(e){return e.id}));return(n.length||r.length)&&(e[t.id]=i(i([],n,!0),r,!0)),e}),{});r=d?(0,u.isArray)(d)?function(){return d}:function(){return[d,d]}:function(e){return e&&e.size?(0,u.isArray)(e.size)?e.size:(0,u.isObject)(e.size)?[e.size.width||40,e.size.height||40]:[e.size,e.size]:[40,40]};var x,w=(x=null===f||void 0===f?void 0:f[0])&&x.size?(0,u.isArray)(x.size)?x.size:[x.size,x.size]:[80,40],E=w[0],_=w[1],S=null===(t=null===(e=a.graphSettings)||void 0===e?void 0:e.subScene)||void 0===t?void 0:t.meta,k=(null===(n=f.find((function(e){return!e.collapsed})))||void 0===n?void 0:n.padding)||[20,20,20,20],T=k[0],C=k[1],M=k[2],N=k[3],A={compound:b,nodes:i([],(c||[]).map((function(e){var t=r(e),n=t[0],i=t[1];return o(o({},e),{width:n,height:i})})),!0),edges:i([],(l||[]).map((function(e){return o(o({},e),{v:e.source,w:e.target})})),!0)},P={expanded:(f||[]).filter((function(e){return!e.collapsed})).map((function(e){return e.id}))},O={graph:{meta:{align:p,rankDir:h,nodeSep:v,edgeSep:g,rankSep:m}},subScene:{meta:{paddingTop:T||(null===S||void 0===S?void 0:S.paddingTop)||20,paddingRight:C||(null===S||void 0===S?void 0:S.paddingRight)||20,paddingBottom:M||(null===S||void 0===S?void 0:S.paddingBottom)||20,paddingLeft:N||(null===S||void 0===S?void 0:S.paddingLeft)||20,labelHeight:0}},nodeSize:{meta:{width:E,height:_}}},I=(0,s.mergeConfig)(y,o({},(0,s.mergeConfig)(O,s.LAYOUT_CONFIG)));return a.graphSettings=I,{graphDef:A,graphOption:P,graphSettings:I}},t.prototype.updatePosition=function(e){var t=e.nodes,n=e.edges;this.updateNodePosition(t,n),this.updateEdgePosition(t,n)},t.prototype.getBegin=function(e,t){var n=this.begin,r=[0,0];if(n){var o=1/0,i=1/0;e.forEach((function(e){o>e.x&&(o=e.x),i>e.y&&(i=e.y)})),t.forEach((function(e){e.points.forEach((function(e){o>e.x&&(o=e.x),i>e.y&&(i=e.y)}))})),r[0]=n[0]-o,r[1]=n[1]-i}return r},t.prototype.updateNodePosition=function(e,t){var n=this,r=n.combos,o=n.nodes,i=n.edges,a=n.anchorPoint,u=n.graphSettings,c=this.getBegin(e,t);e.forEach((function(e){var n,l=e.x,f=e.y,d=e.id,h=e.type,p=e.coreBox;if(h===s.HierarchyNodeType.META&&d!==s.ROOT_NAME){var g=r.findIndex((function(e){return e.id===d})),v=null===(n=null===u||void 0===u?void 0:u.subScene)||void 0===n?void 0:n.meta;r[g].offsetX=l+c[0],r[g].offsetY=f+c[1],r[g].fixSize=[p.width,p.height],r[g].fixCollapseSize=[p.width,p.height],e.expanded?r[g].padding=[null===v||void 0===v?void 0:v.paddingTop,null===v||void 0===v?void 0:v.paddingRight,null===v||void 0===v?void 0:v.paddingBottom,null===v||void 0===v?void 0:v.paddingLeft]:r[g].padding=[0,0,0,0]}else if(h===s.HierarchyNodeType.OP){g=o.findIndex((function(e){return e.id===d}));if(o[g].x=l+c[0],o[g].y=f+c[1],a){var m=[],y=t.filter((function(e){return e.v===d})),b=t.filter((function(e){return e.w===d}));y.length>0&&y.forEach((function(t){var n=t.points[0],r=(n.x-l)/e.width+.5,o=(n.y-f)/e.height+.5;m.push([r,o]),t.baseEdgeList.forEach((function(e){var t=i.find((function(t){return t.source===e.v&&t.target===e.w}));t&&(t.sourceAnchor=m.length-1)}))})),b.length>0&&b.forEach((function(t){var n=t.points[t.points.length-1],r=(n.x-l)/e.width+.5,o=(n.y-f)/e.height+.5;m.push([r,o]),t.baseEdgeList.forEach((function(e){var t=i.find((function(t){return t.source===e.v&&t.target===e.w}));t&&(t.targetAnchor=m.length-1)}))})),o[g].anchorPoints=m.length>0?m:o[g].anchorPoints||[]}}}))},t.prototype.updateEdgePosition=function(e,t){var n=this,r=n.combos,a=n.edges,u=n.controlPoints,c=this.getBegin(e,t);u&&(r.forEach((function(e){e.inEdges=[],e.outEdges=[]})),a.forEach((function(t){var a,u,l,f,d=e.find((function(e){return e.id===t.source})),h=e.find((function(e){return e.id===t.target})),p=[],g=[];if(d&&h)g=(0,s.getEdges)(null===d||void 0===d?void 0:d.id,null===h||void 0===h?void 0:h.id,e);else if(!d||!h){var v=n.getNodePath(t.source),m=n.getNodePath(t.target),y=v.reverse().slice(d?0:1).find((function(t){return e.find((function(e){return e.id===t}))})),b=m.reverse().slice(h?0:1).find((function(t){return e.find((function(e){return e.id===t}))}));d=e.find((function(e){return e.id===y})),h=e.find((function(e){return e.id===b})),g=(0,s.getEdges)(null===d||void 0===d?void 0:d.id,null===h||void 0===h?void 0:h.id,e,{v:t.source,w:t.target})}if(p=(p=g.reduce((function(e,t){return i(i([],e,!0),t.points.map((function(e){return o(o({},e),{x:e.x+c[0],y:e.y+c[1]})})),!0)}),[])).slice(1,-1),t.controlPoints=p,(null===h||void 0===h?void 0:h.type)===s.NodeType.META){var x=r.findIndex((function(e){return e.id===(null===h||void 0===h?void 0:h.id)}));if(!r[x]||(null===(a=r[x].inEdges)||void 0===a?void 0:a.some((function(e){return e.source===d.id&&e.target===h.id}))))return;null===(u=r[x].inEdges)||void 0===u||u.push({source:d.id,target:h.id,controlPoints:p})}if((null===d||void 0===d?void 0:d.type)===s.NodeType.META){x=r.findIndex((function(e){return e.id===(null===d||void 0===d?void 0:d.id)}));if(!r[x]||(null===(l=r[x].outEdges)||void 0===l?void 0:l.some((function(e){return e.source===d.id&&e.target===h.id}))))return;null===(f=r[x].outEdges)||void 0===f||f.push({source:d.id,target:h.id,controlPoints:p})}})))},t.prototype.getType=function(){return"dagreCompound"},t.prototype.getDataByOrder=function(e){return e.every((function(e){return void 0!==e.layoutOrder}))||e.forEach((function(e,t){e.layoutOrder=t})),e.sort((function(e,t){return e.layoutOrder-t.layoutOrder}))},t}(a.Base);t.DagreCompoundLayout=c},9150:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(n(8878)),c=s(n(9523)),l=s(n(3529)),f=n(1893);t.default=function(e,t){var n=e.nodes,o=e.edges,i=t.width,a=t.height;if(!(null===n||void 0===n?void 0:n.length))return Promise.resolve();var s=[];n.forEach((function(e){if(o.filter((function(t){return t.source===e.id||t.target===e.id})).length>1){var t=r({},e);delete t.size,s.push(t)}}));var d=[];o.forEach((function(e){var t=s.find((function(t){return t.id===e.source})),n=s.find((function(t){return t.id===e.target}));t&&n&&d.push(e)}));var h=new f.DagreLayout({type:"dagre",ranksep:t.nodeMinGap,nodesep:t.nodeMinGap}).layout({nodes:s,edges:d}).nodes;n.forEach((function(e){var t=(h||[]).find((function(t){return t.id===e.id}));e.x=(null===t||void 0===t?void 0:t.x)||i/2,e.y=(null===t||void 0===t?void 0:t.y)||a/2}));var p=JSON.parse(JSON.stringify(n)),g=JSON.parse(JSON.stringify(o)),v=u.forceSimulation().nodes(p).force("link",u.forceLink(g).id((function(e){return e.id})).distance((function(e){return d.find((function(t){return t.source===e.source&&t.target===e.target}))?30:20}))).force("charge",u.forceManyBody()).force("center",u.forceCenter(i/2,a/2)).force("x",u.forceX(i/2)).force("y",u.forceY(a/2)).alpha(.3).alphaDecay(.08).alphaMin(.001);return new Promise((function(e){v.on("end",(function(){n.forEach((function(e){var t=p.find((function(t){return t.id===e.id}));t&&(e.x=t.x,e.y=t.y)}));var r=Math.min.apply(Math,n.map((function(e){return e.x}))),s=Math.max.apply(Math,n.map((function(e){return e.x}))),u=Math.min.apply(Math,n.map((function(e){return e.y}))),f=Math.max.apply(Math,n.map((function(e){return e.y}))),d=i/(s-r),h=a/(f-u);n.forEach((function(e){void 0!==e.x&&d<1&&(e.x=(e.x-r)*d),void 0!==e.y&&h<1&&(e.y=(e.y-u)*h)})),n.forEach((function(e){e.sizeTemp=e.size,e.size=[10,10]})),(0,l.default)(n,o),n.forEach((function(e){e.size=e.sizeTemp||[],delete e.sizeTemp})),(0,c.default)({nodes:n,edges:o},t),e()}))}))}},9523:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(8048));t.default=function(e,t){if(!e.nodes||0===e.nodes.length)return e;var n=t.width,r=t.height,i=t.nodeMinGap,a=1e4,s=1e4;e.nodes.forEach((function(e){var t=e.size[0]||50,n=e.size[1]||50;a=Math.min(t,a),s=Math.min(n,s)}));var u=new o.default;u.init(n,r,{CELL_H:s,CELL_W:a}),e.nodes.forEach((function(e){var t=u.occupyNearest(e);t&&(t.node={id:e.id,size:e.size},e.x=t.x,e.y=t.y,e.dx=t.dx,e.dy=t.dy)}));for(var c=0;c<e.nodes.length;c++){var l=e.nodes[c],f=u.findGridByNodeId(l.id);if(!f)throw new Error("can not find node cell");var d=f.column,h=f.row;if(l.size[0]+i>a){for(var p=v=Math.ceil((l.size[0]+i)/a)-1,g=0;g<v;g++){if(!(u.additionColumn.indexOf(d+g+1)>-1)||u.cells[d+g+1][h].node)break;p--}u.insertColumn(d,p)}if(l.size[1]+i>s){var v;for(p=v=Math.ceil((l.size[1]+i)/s)-1,g=0;g<v;g++){if(!(u.additionRow.indexOf(h+g+1)>-1)||u.cells[d][h+g+1].node)break;p--}u.insertRow(h,p)}}for(c=0;c<u.columnNum;c++){var m=function(t){var n=u.cells[c][t];if(n.node){var r=e.nodes.find((function(e){var t;return e.id===(null===(t=null===n||void 0===n?void 0:n.node)||void 0===t?void 0:t.id)}));r&&(r.x=n.x+r.size[0]/2,r.y=n.y+r.size[1]/2)}};for(g=0;g<u.rowNum;g++)m(g)}}},8048:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[]}return e.prototype.init=function(t,n,r){this.cells=[],this.CELL_W=r.CELL_W||e.DEFAULT_CELL_W,this.CELL_H=r.CELL_H||e.DEFAULT_CELL_H,this.columnNum=Math.ceil(t/this.CELL_W),this.rowNum=Math.ceil(n/this.CELL_H),e.MIN_DIST=Math.pow(t,2)+Math.pow(n,2);for(var o=0;o<this.columnNum;o++){for(var i=[],a=0;a<this.rowNum;a++){var s={dx:o,dy:a,x:o*this.CELL_W,y:a*this.CELL_H,occupied:!1};i.push(s)}this.cells.push(i)}},e.prototype.findGridByNodeId=function(e){for(var t,n,r=0;r<this.columnNum;r++)for(var o=0;o<this.rowNum;o++)if(this.cells[r][o].node&&(null===(n=null===(t=this.cells[r][o])||void 0===t?void 0:t.node)||void 0===n?void 0:n.id)===e)return{column:r,row:o};return null},e.prototype.sqdist=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},e.prototype.occupyNearest=function(t){for(var n,r=e.MIN_DIST,o=null,i=0;i<this.columnNum;i++)for(var a=0;a<this.rowNum;a++)!this.cells[i][a].occupied&&(n=this.sqdist(t,this.cells[i][a]))<r&&(r=n,o=this.cells[i][a]);return o&&(o.occupied=!0),o},e.prototype.insertColumn=function(e,t){if(!(t<=0)){for(var r=0;r<t;r++){this.cells[r+this.columnNum]=[];for(var o=0;o<this.rowNum;o++)this.cells[r+this.columnNum][o]={dx:r,dy:o,x:r*this.CELL_W,y:o*this.CELL_H,occupied:!1,node:null}}for(r=this.columnNum-1;r>e;r--)for(o=0;o<this.rowNum;o++)this.cells[r+t][o]=n(n({},this.cells[r][o]),{x:(r+t)*this.CELL_W,y:o*this.CELL_H}),this.cells[r][o]={x:r*this.CELL_W,y:o*this.CELL_H,occupied:!0,node:null};for(o=0;o<this.additionColumn.length;o++)this.additionColumn[o]>=e&&(this.additionColumn[o]+=t);for(r=0;r<t;r++)this.additionColumn.push(e+r+1);this.columnNum+=t}},e.prototype.insertRow=function(e,t){if(!(t<=0)){for(var r=0;r<t;r++)for(var o=0;o<this.columnNum;o++)this.cells[o][r+this.rowNum]={dx:o,dy:r,x:o*this.CELL_W,y:r*this.CELL_H,occupied:!1,node:null};for(o=0;o<this.columnNum;o++)for(r=this.rowNum-1;r>e;r--)this.cells[o][r+t]=n(n({},this.cells[o][r]),{dx:o,dy:r+t,x:o*this.CELL_W,y:(r+t)*this.CELL_H}),this.cells[o][r]={dx:o,dy:r,x:o*this.CELL_W,y:r*this.CELL_H,occupied:!1,node:null};for(r=0;r<this.additionRow.length;r++)this.additionRow[r]>=e&&(this.additionRow[r]+=t);for(o=0;o<t;o++)this.additionRow.push(e+o+1);this.rowNum+=t}},e.prototype.getNodes=function(){for(var e=[],t=0;t<this.columnNum;t++)for(var n=0;n<this.rowNum;n++)this.cells[t][n].node&&e.push(this.cells[t][n]);return e},e.MIN_DIST=50,e.DEFAULT_CELL_W=80,e.DEFAULT_CELL_H=80,e}();t.default=r},8698:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ERLayout=void 0;var i=n(4950),a=o(n(9150)),s=function(e){function t(t){var n=e.call(this)||this;return n.width=300,n.height=300,n.nodeMinGap=50,n.onLayoutEnd=function(){},t&&n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{width:300,height:300,nodeMinGap:50}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges;return null===t||void 0===t||t.forEach((function(e){e.size||(e.size=[50,50])})),(0,a.default)({nodes:t,edges:n},{width:this.width,height:this.height,nodeMinGap:this.nodeMinGap}).then((function(){e.onLayoutEnd&&e.onLayoutEnd()}))},t.prototype.getType=function(){return"er"},t}(i.Base);t.ERLayout=s},3529:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=1e7,r=1.5707963267948966,o=new Map,i=.8;function a(e,t){var i=(o.get(e.id)||[]).find((function(e){return e.source===t.id||e.target===t.id})),a=e.size[0]*e.size[1],s=t.size[0]*t.size[1],u=a>s?t:e,c=a>s?e:t,l=u.x-u.size[0]/2,f=u.y-u.size[1]/2,d=u.x+u.size[0]/2,h=u.y+u.size[1]/2,p=c.x-c.size[0]/2,g=c.y-c.size[1]/2,v=c.x+c.size[0]/2,m=c.y+c.size[1]/2,y=u.x,b=u.y,x=c.x,w=c.y,E=0,_=0;if(d>=p&&v>=l&&h>=g&&m>=f){0===(_=Math.sqrt(Math.pow(x-y,2)+Math.pow(w-b,2)))&&(_=1e-7),E=10/_*100+((d<v?d:v)-(l>p?l:p))*((h<m?h:m)-(f>g?f:g)),E*=n}else{var S=!1,k=function(e,t,n){var o=e.x-e.size[0]/2,i=e.y-e.size[1]/2,a=e.x+e.size[0]/2,s=e.y+e.size[1]/2,u=t.x-t.size[0]/2,c=t.y-t.size[1]/2,l=t.x+t.size[0]/2,f=t.y+t.size[1]/2,d=e.x,h=e.y,p=t.x,g=t.y,v=p-d,m=Math.atan2(v,g-h),y=0,b=0,x=0,w=0;m>r?(b=i-f,y=u-a,x=parseFloat(b?(b/Math.cos(m)).toFixed(2):y.toFixed(2)),w=parseFloat(y?(y/Math.sin(m)).toFixed(2):b.toFixed(2))):x=w=0<m&&m<=r?(b=c-s)>(y=u-a)?parseFloat(b?(b/Math.cos(m)).toFixed(2):y.toFixed(2)):parseFloat(y?(y/Math.sin(m)).toFixed(2):b.toFixed(2)):m<-r?(b=i-f)>(y=-(l-o))?parseFloat(b?(b/Math.cos(m)).toFixed(2):y.toFixed(2)):parseFloat(y?(y/Math.sin(m)).toFixed(2):b.toFixed(2)):(b=c-s)>(y=Math.abs(v)>(a-o)/2?o-l:v)?parseFloat(b?(b/Math.cos(m)).toFixed(2):y.toFixed(2)):parseFloat(y&&0!==m?(y/Math.sin(m)).toFixed(2):b.toFixed(2));var E=parseFloat(m.toFixed(2)),_=n;return n&&(_=1.1780972450961724<E&&E<1.9634954084936207),{distance:Math.abs(x<w?x:w),isHoriz:_}}(u,c,S);_=k.distance,S=k.isHoriz,_<=10?E+=0!==_?i?10+1e7/_:10+1e8/_:n:(E+=_,i&&(E+=_*_))}return E}function s(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];(r.x<0||r.y<0||r.x>1200||r.y>800)&&(t+=1e12);for(var o=n+1;o<e.length;o++)t+=a(r,e[o])}return t}function u(e,t,n,r){var o=new Map;n.forEach((function(e,t){o.set(e.id,e)}));var i=r.filter((function(t){return t.source===e.id||t.target===e.id}))||[],a=[];i.forEach((function(t){var n=t.source===e.id?t.target:t.source,r=o.get(n);r&&a.push(r)}));for(var s=!0,u=0;u<a.length;u++){var c=a[u],l=180*Math.atan((e.y-c.y)/(c.x-e.y)),f=180*Math.atan((t.y-c.y)/(c.x-t.y)),d=l>70&&l<110,h=f>70&&f<110;if((l<30||l>150)&&!(f<30||f>150)||l*f<0){s=!1;break}if(d&&!h||l*f<0){s=!1;break}if((c.x-e.x)*(c.x-t.x)<0){s=!1;break}if((c.y-e.y)*(c.y-t.y)<0){s=!1;break}}return s}function c(e,t){for(var n=!1,r=[10,-10,0,0],o=[0,0,10,-10],a=0;a<e.length;++a)for(var c=e[a],f=l(c,e),d=0;d<r.length;d++){if(u(c,{x:c.x+r[d],y:c.y+o[d]},e,t)){c.x+=r[d],c.y+=o[d];var h=l(c,e),p=Math.random();h<f||p<i&&p>.1?(f=h,n=!0):(c.x-=r[d],c.y-=o[d])}}return i>.1&&(i*=.5),n?s(e):0}function l(e,t){var n=0;(e.x<0||e.y<0||e.x+e.size[0]+20>1200||e.y+e.size[1]+20>800)&&(n+=1e12);for(var r=0;r<t.length;++r)e.id!==t[r].id&&(n+=a(e,t[r]));return n}t.default=function(e,t){if(0===e.length)return{nodes:e,edges:t};e.forEach((function(e){var n=t.filter((function(t){return t.source===e.id||t.target===e.id}));o.set(e,n)})),e.sort((function(e,t){var n,r;return(null===(n=o.get(e.id))||void 0===n?void 0:n.length)-(null===(r=o.get(t.id))||void 0===r?void 0:r.length)}));for(var n=s(e),r=20,i=1,a=0,u=0;r>0&&!(++u>=50);){var l=c(e,t);0!==l&&(a=l),i=a-n,n=a,0===i?--r:r=20}return e.forEach((function(e){e.x=e.x-e.size[0]/2,e.y=e.y-e.size[1]/2})),{nodes:e,edges:t}}},9662:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(8878)),s=n(1784);t.default=function(){function e(e){return function(){return e}}var t,n=function(e){return e.cluster},r=e(1),o=e(-1),i=e(100),u=e(.1),c=[0,0],l=[],f={},d=[],h=100,p=100,g={none:{x:0,y:0}},v=[],m="force",y=!0,b=.1;function x(e){if(!y)return x;t.tick(),E();for(var r=0,o=l.length,i=void 0,a=e*b;r<o;++r)(i=l[r]).vx+=(g[n(i)].x-i.x)*a,i.vy+=(g[n(i)].y-i.y)*a}function w(){l&&function(){if(!l||!l.length)return;if(void 0===n(l[0]))throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var e=function(){var e=[],t=[],o={},i={},a=[];return i=function(e){var t={};return e.forEach((function(e){var r=n(e);t[r]||(t[r]={count:0,sumforceNodeSize:0})})),e.forEach((function(e){var o=n(e),i=r(e),a=t[o];a.count=a.count+1,a.sumforceNodeSize=a.sumforceNodeSize+Math.PI*(i*i)*1.3,t[o]=a})),t}(l),a=function(e){var t={},r=[];return e.forEach((function(e){var r=function(e){var t=(0,s.getEdgeTerminal)(e,"source"),r=(0,s.getEdgeTerminal)(e,"target"),o=n(f[t]),i=n(f[r]);return o<=i?o+"~"+i:i+"~"+o}(e),o=0;void 0!==t[r]&&(o=t[r]),o+=1,t[r]=o})),Object.entries(t).forEach((function(e){var t=e[0],n=e[1],o=t.split("~")[0],i=t.split("~")[1];void 0!==o&&void 0!==i&&r.push({source:o,target:i,count:n})})),r}(d),Object.keys(i).forEach((function(t,n){var r=i[t];e.push({id:t,size:r.count,r:Math.sqrt(r.sumforceNodeSize/Math.PI)}),o[t]=n})),a.forEach((function(e){var n=(0,s.getEdgeTerminal)(e,"source"),r=(0,s.getEdgeTerminal)(e,"target"),i=o[n],a=o[r];void 0!==i&&void 0!==a&&t.push({source:i,target:a,count:e.count})})),{nodes:e,links:t}}();t=a.forceSimulation(e.nodes).force("x",a.forceX(h).strength(.1)).force("y",a.forceY(p).strength(.1)).force("collide",a.forceCollide((function(e){return e.r})).iterations(4)).force("charge",a.forceManyBody().strength(o)).force("links",a.forceLink(e.nodes.length?e.links:[]).distance(i).strength(u)),v=t.nodes(),E()}()}function E(){return g={none:{x:0,y:0}},v.forEach((function(e){g[e.id]={x:e.x-c[0],y:e.y-c[1]}})),g}function _(e){f={},e.forEach((function(e){f[e.id]=e}))}return x.initialize=function(e){l=e,w()},x.template=function(e){return arguments.length?(m=e,w(),x):m},x.groupBy=function(e){return arguments.length?"string"===typeof e?(n=function(t){return t[e]},x):(n=e,x):n},x.enableGrouping=function(e){return arguments.length?(y=e,x):y},x.strength=function(e){return arguments.length?(b=e,x):b},x.centerX=function(e){return arguments.length?(h=e,x):h},x.centerY=function(e){return arguments.length?(p=e,x):p},x.nodes=function(e){return arguments.length?(_(e||[]),l=e||[],x):l},x.links=function(e){return arguments.length?(d=e||[],w(),x):d},x.forceNodeSize=function(t){return arguments.length?(r="function"===typeof t?t:e(+t),w(),x):r},x.nodeSize=x.forceNodeSize,x.forceCharge=function(t){return arguments.length?(o="function"===typeof t?t:e(+t),w(),x):o},x.forceLinkDistance=function(t){return arguments.length?(i="function"===typeof t?t:e(+t),w(),x):i},x.forceLinkStrength=function(t){return arguments.length?(u="function"===typeof t?t:e(+t),w(),x):u},x.offset=function(e){return arguments.length?(c=e,x):c},x.getFocis=E,x}},9902:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ForceLayout=void 0;var u=a(n(8878)),c=s(n(9662)),l=n(1784),f=n(4950),d=n(3023),h=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.nodeStrength=null,n.edgeStrength=null,n.preventOverlap=!1,n.clusterNodeStrength=null,n.clusterEdgeStrength=null,n.clusterEdgeDistance=null,n.clusterNodeSize=null,n.clusterFociStrength=null,n.linkDistance=50,n.alphaDecay=.028,n.alphaMin=.001,n.alpha=.3,n.collideStrength=1,n.workerEnabled=!1,n.tick=function(){},n.onLayoutEnd=function(){},n.ticking=void 0,t&&n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}},t.prototype.init=function(e){var t=this;t.nodes=e.nodes||[];var n=e.edges||[];t.edges=n.map((function(e){var t={},n=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(e).forEach((function(r){n.indexOf(r)>-1||(t[r]=e[r])})),t})),t.ticking=!1},t.prototype.execute=function(e){var t=this,n=t.nodes,r=t.edges;if(!t.ticking){var o=t.forceSimulation,i=t.alphaMin,a=t.alphaDecay,s=t.alpha;if(o){if(e)if(t.clustering&&t.clusterForce&&(t.clusterForce.nodes(n),t.clusterForce.links(r)),o.nodes(n),r&&t.edgeForce)t.edgeForce.links(r);else if(r&&!t.edgeForce){h=u.forceLink().id((function(e){return e.id})).links(r);t.edgeStrength&&h.strength(t.edgeStrength),t.linkDistance&&h.distance(t.linkDistance),t.edgeForce=h,o.force("link",h)}t.preventOverlap&&t.overlapProcess(o),o.alpha(s).restart(),this.ticking=!0}else try{var l=u.forceManyBody();if(t.nodeStrength&&l.strength(t.nodeStrength),o=u.forceSimulation().nodes(n),t.clustering){var f=(0,c.default)();f.centerX(t.center[0]).centerY(t.center[1]).template("force").strength(t.clusterFociStrength),r&&f.links(r),n&&f.nodes(n),f.forceLinkDistance(t.clusterEdgeDistance).forceLinkStrength(t.clusterEdgeStrength).forceCharge(t.clusterNodeStrength).forceNodeSize(t.clusterNodeSize),t.clusterForce=f,o.force("group",f)}if(o.force("center",u.forceCenter(t.center[0],t.center[1])).force("charge",l).alpha(s).alphaDecay(a).alphaMin(i),t.preventOverlap&&t.overlapProcess(o),r){var h=u.forceLink().id((function(e){return e.id})).links(r);t.edgeStrength&&h.strength(t.edgeStrength),t.linkDistance&&h.distance(t.linkDistance),t.edgeForce=h,o.force("link",h)}if(t.workerEnabled&&!p()&&(t.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),t.workerEnabled){o.stop();for(var g=function(e){var t=e.alphaMin(),n=e.alphaTarget(),r=e.alpha(),o=Math.log((t-n)/(r-n))/Math.log(1-e.alphaDecay());return Math.ceil(o)}(o),v=1;v<=g;v++)o.tick(),postMessage({nodes:n,currentTick:v,totalTicks:g,type:d.LAYOUT_MESSAGE.TICK},void 0);t.ticking=!1}else o.on("tick",(function(){t.tick()})).on("end",(function(){t.ticking=!1,t.onLayoutEnd&&t.onLayoutEnd()})),t.ticking=!0;t.forceSimulation=o,t.ticking=!0}catch(m){t.ticking=!1,console.warn(m)}}},t.prototype.overlapProcess=function(e){var t,n,r=this,o=r.nodeSize,i=r.nodeSpacing,a=r.collideStrength;if(n=(0,l.isNumber)(i)?function(){return i}:(0,l.isFunction)(i)?i:function(){return 0},o)if((0,l.isFunction)(o))t=function(e){return o(e)+n(e)};else if((0,l.isArray)(o)){var s=(o[0]>o[1]?o[0]:o[1])/2;t=function(e){return s+n(e)}}else if((0,l.isNumber)(o)){var c=o/2;t=function(e){return c+n(e)}}else t=function(){return 10};else t=function(e){return e.size?(0,l.isArray)(e.size)?(e.size[0]>e.size[1]?e.size[0]:e.size[1])/2+n(e):(0,l.isObject)(e.size)?(e.size.width>e.size.height?e.size.width:e.size.height)/2+n(e):e.size/2+n(e):10+n(e)};e.force("collisionForce",u.forceCollide(t).strength(a))},t.prototype.updateCfg=function(e){var t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.forceSimulation=null,Object.assign(t,e)},t.prototype.destroy=function(){var e=this;e.ticking&&(e.forceSimulation.stop(),e.ticking=!1),e.nodes=null,e.edges=null,e.destroyed=!0},t}(f.Base);function p(){return"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}t.ForceLayout=h},2283:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(9902),t)},7941:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.id=e.id||0,this.rx=e.rx,this.ry=e.ry,this.fx=0,this.fy=0,this.mass=e.mass,this.degree=e.degree,this.g=e.g||0}return e.prototype.distanceTo=function(e){var t=this.rx-e.rx,n=this.ry-e.ry;return Math.hypot(t,n)},e.prototype.setPos=function(e,t){this.rx=e,this.ry=t},e.prototype.resetForce=function(){this.fx=0,this.fy=0},e.prototype.addForce=function(e){var t=e.rx-this.rx,n=e.ry-this.ry,r=Math.hypot(t,n);r=r<1e-4?1e-4:r;var o=this.g*(this.degree+1)*(e.degree+1)/r;this.fx+=o*t/r,this.fy+=o*n/r},e.prototype.in=function(e){return e.contains(this.rx,this.ry)},e.prototype.add=function(t){var n=this.mass+t.mass;return new e({rx:(this.rx*this.mass+t.rx*t.mass)/n,ry:(this.ry*this.mass+t.ry*t.mass)/n,mass:n,degree:this.degree+t.degree})},e}();t.default=n},3299:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ForceAtlas2Layout=void 0;var i=n(4950),a=n(1784),s=o(n(7941)),u=o(n(9171)),c=o(n(612)),l=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.width=300,n.height=300,n.nodes=[],n.edges=[],n.kr=5,n.kg=1,n.mode="normal",n.preventOverlap=!1,n.dissuadeHubs=!1,n.barnesHut=void 0,n.maxIteration=0,n.ks=.1,n.ksmax=10,n.tao=.1,n.onLayoutEnd=function(){},n.prune=void 0,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.onLayoutEnd,r=e.prune,o=e.maxIteration;e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight);for(var i=[],s=t.length,u=0;u<s;u+=1){var c=t[u],l=10,f=10;(0,a.isNumber)(c.size)&&(l=c.size,f=c.size),(0,a.isArray)(c.size)?(isNaN(c.size[0])||(l=c.size[0]),isNaN(c.size[1])||(f=c.size[1])):(0,a.isObject)(c.size)&&(l=c.size.width,f=c.size.height),e.getWidth&&!isNaN(e.getWidth(c))&&(f=e.getWidth(c)),e.getHeight&&!isNaN(e.getHeight(c))&&(l=e.getHeight(c));var d=Math.max(l,f);i.push(d)}void 0===e.barnesHut&&s>250&&(e.barnesHut=!0),void 0===e.prune&&s>100&&(e.prune=!0),0!==this.maxIteration||e.prune?0===this.maxIteration&&r&&(o=100,s<=200&&s>100?o=500:s>200&&(o=950),this.maxIteration=o):(o=250,s<=200&&s>100?o=1e3:s>200&&(o=1200),this.maxIteration=o),e.kr||(e.kr=50,s>100&&s<=500?e.kr=20:s>500&&(e.kr=1)),e.kg||(e.kg=20,s>100&&s<=500?e.kg=10:s>500&&(e.kg=1)),this.nodes=e.updateNodesByForces(i),n()},t.prototype.updateNodesByForces=function(e){for(var t=this,n=t.edges,r=t.maxIteration,o=t.nodes,i=n.filter((function(e){return(0,a.getEdgeTerminal)(e,"source")!==(0,a.getEdgeTerminal)(e,"target")})),s=o.length,u=i.length,c=[],l={},f={},d=[],h=0;h<s;h+=1)l[o[h].id]=h,c[h]=0,(void 0===o[h].x||isNaN(o[h].x))&&(o[h].x=1e3*Math.random()),(void 0===o[h].y||isNaN(o[h].y))&&(o[h].y=1e3*Math.random()),d.push({x:o[h].x,y:o[h].y});for(h=0;h<u;h+=1){for(var p=void 0,g=void 0,v=0,m=0,y=0;y<s;y+=1){var b=(0,a.getEdgeTerminal)(i[h],"source"),x=(0,a.getEdgeTerminal)(i[h],"target");o[y].id===b?(p=o[y],v=y):o[y].id===x&&(g=o[y],m=y),f[h]={sourceIdx:v,targetIdx:m}}p&&(c[l[p.id]]+=1),g&&(c[l[g.id]]+=1)}var w=r;if(o=this.iterate(w,l,f,u,c,e),t.prune){for(y=0;y<u;y+=1)c[f[y].sourceIdx]<=1?(o[f[y].sourceIdx].x=o[f[y].targetIdx].x,o[f[y].sourceIdx].y=o[f[y].targetIdx].y):c[f[y].targetIdx]<=1&&(o[f[y].targetIdx].x=o[f[y].sourceIdx].x,o[f[y].targetIdx].y=o[f[y].sourceIdx].y);t.prune=!1,t.barnesHut=!1,w=100,o=this.iterate(w,l,f,u,c,e)}return o},t.prototype.iterate=function(e,t,n,r,o,i){for(var a=this,u=a.nodes,c=a.kr,l=a.preventOverlap,f=a.barnesHut,d=u.length,h=0,p=e,g=[],v=[],m=[],y=0;y<d;y+=1)if(g[2*y]=0,g[2*y+1]=0,f){var b={id:y,rx:u[y].x,ry:u[y].y,mass:1,g:c,degree:o[y]};m[y]=new s.default(b)}for(;p>0;){for(y=0;y<d;y+=1)v[2*y]=g[2*y],v[2*y+1]=g[2*y+1],g[2*y]=0,g[2*y+1]=0;g=this.getAttrForces(p,50,r,t,n,o,i,g),g=f&&(l&&p>50||!l)?this.getOptRepGraForces(g,m,o):this.getRepGraForces(p,50,g,100,i,o);var x=this.updatePos(g,v,h,o);u=x.nodes,h=x.sg,p--,a.tick&&a.tick()}return u},t.prototype.getAttrForces=function(e,t,n,r,o,i,a,s){for(var u=this,c=u.nodes,l=u.preventOverlap,f=u.dissuadeHubs,d=u.mode,h=u.prune,p=0;p<n;p+=1){var g=c[o[p].sourceIdx],v=o[p].sourceIdx,m=c[o[p].targetIdx],y=o[p].targetIdx;if(!h||!(i[v]<=1||i[y]<=1)){var b=[m.x-g.x,m.y-g.y],x=Math.hypot(b[0],b[1]);x=x<1e-4?1e-4:x,b[0]=b[0]/x,b[1]=b[1]/x,l&&e<t&&(x=x-a[v]-a[y]);var w=x,E=w;"linlog"===d&&(E=w=Math.log(1+x)),f&&(w=x/i[v],E=x/i[y]),l&&e<t&&x<=0?(w=0,E=0):l&&e<t&&x>0&&(w=x,E=x),s[2*r[g.id]]+=w*b[0],s[2*r[m.id]]-=E*b[0],s[2*r[g.id]+1]+=w*b[1],s[2*r[m.id]+1]-=E*b[1]}}return s},t.prototype.getRepGraForces=function(e,t,n,r,o,i){for(var a=this,s=a.nodes,u=a.preventOverlap,c=a.kr,l=a.kg,f=a.center,d=a.prune,h=s.length,p=0;p<h;p+=1){for(var g=p+1;g<h;g+=1)if(!d||!(i[p]<=1||i[g]<=1)){var v=[s[g].x-s[p].x,s[g].y-s[p].y],m=Math.hypot(v[0],v[1]);m=m<1e-4?1e-4:m,v[0]=v[0]/m,v[1]=v[1]/m,u&&e<t&&(m=m-o[p]-o[g]);var y=c*(i[p]+1)*(i[g]+1)/m;u&&e<t&&m<0?y=r*(i[p]+1)*(i[g]+1):u&&e<t&&0===m?y=0:u&&e<t&&m>0&&(y=c*(i[p]+1)*(i[g]+1)/m),n[2*p]-=y*v[0],n[2*g]+=y*v[0],n[2*p+1]-=y*v[1],n[2*g+1]+=y*v[1]}var b=[s[p].x-f[0],s[p].y-f[1]],x=Math.hypot(b[0],b[1]);b[0]=b[0]/x,b[1]=b[1]/x;var w=l*(i[p]+1);n[2*p]-=w*b[0],n[2*p+1]-=w*b[1]}return n},t.prototype.getOptRepGraForces=function(e,t,n){for(var r=this,o=r.nodes,i=r.kg,a=r.center,s=r.prune,l=o.length,f=9e10,d=-9e10,h=9e10,p=-9e10,g=0;g<l;g+=1)s&&n[g]<=1||(t[g].setPos(o[g].x,o[g].y),o[g].x>=d&&(d=o[g].x),o[g].x<=f&&(f=o[g].x),o[g].y>=p&&(p=o[g].y),o[g].y<=h&&(h=o[g].y));var v={xmid:(d+f)/2,ymid:(p+h)/2,length:Math.max(d-f,p-h),massCenter:a,mass:l},m=new u.default(v),y=new c.default(m);for(g=0;g<l;g+=1)s&&n[g]<=1||t[g].in(m)&&y.insert(t[g]);for(g=0;g<l;g+=1)if(!(s&&n[g]<=1)){t[g].resetForce(),y.updateForce(t[g]),e[2*g]-=t[g].fx,e[2*g+1]-=t[g].fy;var b=[o[g].x-a[0],o[g].y-a[1]],x=Math.hypot(b[0],b[1]);x=x<1e-4?1e-4:x,b[0]=b[0]/x,b[1]=b[1]/x;var w=i*(n[g]+1);e[2*g]-=w*b[0],e[2*g+1]-=w*b[1]}return e},t.prototype.updatePos=function(e,t,n,r){for(var o=this,i=o.nodes,a=o.ks,s=o.tao,u=o.prune,c=o.ksmax,l=i.length,f=[],d=[],h=0,p=0,g=0;g<l;g+=1)if(!(u&&r[g]<=1)){var v=[e[2*g]-t[2*g],e[2*g+1]-t[2*g+1]],m=Math.hypot(v[0],v[1]),y=[e[2*g]+t[2*g],e[2*g+1]+t[2*g+1]],b=Math.hypot(y[0],y[1]);f[g]=m,d[g]=b/2,h+=(r[g]+1)*f[g],p+=(r[g]+1)*d[g]}var x=n;n=s*p/h,0!==x&&(n=n>1.5*x?1.5*x:n);for(g=0;g<l;g+=1)if(!(u&&r[g]<=1)){var w=a*n/(1+n*Math.sqrt(f[g])),E=Math.hypot(e[2*g],e[2*g+1]),_=c/(E=E<1e-4?1e-4:E),S=(w=w>_?_:w)*e[2*g],k=w*e[2*g+1];i[g].x+=S,i[g].y+=k}return{nodes:i,sg:n}},t}(i.Base);t.ForceAtlas2Layout=l},9171:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.xmid=e.xmid,this.ymid=e.ymid,this.length=e.length,this.massCenter=e.massCenter||[0,0],this.mass=e.mass||1}return e.prototype.getLength=function(){return this.length},e.prototype.contains=function(e,t){var n=this.length/2;return e<=this.xmid+n&&e>=this.xmid-n&&t<=this.ymid+n&&t>=this.ymid-n},e.prototype.NW=function(){return new e({xmid:this.xmid-this.length/4,ymid:this.ymid+this.length/4,length:this.length/2})},e.prototype.NE=function(){return new e({xmid:this.xmid+this.length/4,ymid:this.ymid+this.length/4,length:this.length/2})},e.prototype.SW=function(){return new e({xmid:this.xmid-this.length/4,ymid:this.ymid-this.length/4,length:this.length/2})},e.prototype.SE=function(){return new e({xmid:this.xmid+this.length/4,ymid:this.ymid-this.length/4,length:this.length/2})},e}();t.default=n},612:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,null!=e&&(this.quad=e)}return e.prototype.insert=function(t){null!=this.body?this._isExternal()?(this.quad&&(this.NW=new e(this.quad.NW()),this.NE=new e(this.quad.NE()),this.SW=new e(this.quad.SW()),this.SE=new e(this.quad.SE())),this._putBody(this.body),this._putBody(t),this.body=this.body.add(t)):(this.body=this.body.add(t),this._putBody(t)):this.body=t},e.prototype._putBody=function(e){this.quad&&(e.in(this.quad.NW())&&this.NW?this.NW.insert(e):e.in(this.quad.NE())&&this.NE?this.NE.insert(e):e.in(this.quad.SW())&&this.SW?this.SW.insert(e):e.in(this.quad.SE())&&this.SE&&this.SE.insert(e))},e.prototype._isExternal=function(){return null==this.NW&&null==this.NE&&null==this.SW&&null==this.SE},e.prototype.updateForce=function(e){null!=this.body&&e!==this.body&&(this._isExternal()||(this.quad?this.quad.getLength():0)/this.body.distanceTo(e)<this.theta?e.addForce(this.body):(this.NW&&this.NW.updateForce(e),this.NE&&this.NE.updateForce(e),this.SW&&this.SW.updateForce(e),this.SE&&this.SE.updateForce(e)))},e}();t.default=n},4328:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.FruchtermanLayout=void 0;var o=n(4950),i=n(1784),a=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=1e3,n.workerEnabled=!1,n.gravity=10,n.speed=5,n.clustering=!1,n.clusterGravity=10,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.onLayoutEnd=function(){},n.tick=function(){},n.animate=!0,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10,animate:!0}},t.prototype.execute=function(){var e,t,n=this,r=this,o=r.nodes;if(void 0!==r.timeInterval&&"undefined"!==typeof window&&window.clearInterval(r.timeInterval),o&&0!==o.length){r.width||"undefined"===typeof window||(r.width=window.innerWidth),r.height||"undefined"===typeof window||(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var a=r.center;if(1===o.length)return o[0].x=a[0],o[0].y=a[1],void(null===(t=r.onLayoutEnd)||void 0===t||t.call(r));var s={},u={};return o.forEach((function(e,t){(0,i.isNumber)(e.x)||(e.x=Math.random()*n.width),(0,i.isNumber)(e.y)||(e.y=Math.random()*n.height),s[e.id]=e,u[e.id]=t})),r.nodeMap=s,r.nodeIdxMap=u,r.run()}null===(e=r.onLayoutEnd)||void 0===e||e.call(r)},t.prototype.run=function(){var e,t=this,n=t.nodes;if(n){var r=t.edges,o=t.maxIteration,i=t.workerEnabled,a=t.clustering,s=t.animate,u={};if(a&&n.forEach((function(e){void 0===u[e.cluster]&&(u[e.cluster]={name:e.cluster,cx:0,cy:0,count:0})})),i||!s){for(var c=0;c<o;c++)t.runOneStep(u);null===(e=t.onLayoutEnd)||void 0===e||e.call(t)}else{if("undefined"===typeof window)return;var l=0;this.timeInterval=window.setInterval((function(){var e;t.runOneStep(u),++l>=o&&(null===(e=t.onLayoutEnd)||void 0===e||e.call(t),window.clearInterval(t.timeInterval))}),0)}return{nodes:n,edges:r}}},t.prototype.runOneStep=function(e){var t,n=this,r=n.nodes;if(r){var o=n.edges,a=n.center,s=n.gravity,u=n.speed,c=n.clustering,l=n.height*n.width,f=Math.sqrt(l)/10,d=l/(r.length+1),h=Math.sqrt(d),p=[];if(r.forEach((function(e,t){p[t]={x:0,y:0}})),n.applyCalculate(r,o,p,h,d),c){for(var g in e)e[g].cx=0,e[g].cy=0,e[g].count=0;for(var g in r.forEach((function(t){var n=e[t.cluster];(0,i.isNumber)(t.x)&&(n.cx+=t.x),(0,i.isNumber)(t.y)&&(n.cy+=t.y),n.count++})),e)e[g].cx/=e[g].count,e[g].cy/=e[g].count;var v=n.clusterGravity||s;r.forEach((function(t,n){if((0,i.isNumber)(t.x)&&(0,i.isNumber)(t.y)){var r=e[t.cluster],o=Math.sqrt((t.x-r.cx)*(t.x-r.cx)+(t.y-r.cy)*(t.y-r.cy)),a=h*v;p[n].x-=a*(t.x-r.cx)/o,p[n].y-=a*(t.y-r.cy)/o}}))}r.forEach((function(e,t){if((0,i.isNumber)(e.x)&&(0,i.isNumber)(e.y)){var n=.01*h*s;p[t].x-=n*(e.x-a[0]),p[t].y-=n*(e.y-a[1])}})),r.forEach((function(e,t){if((0,i.isNumber)(e.fx)&&(0,i.isNumber)(e.fy))return e.x=e.fx,void(e.y=e.fy);if((0,i.isNumber)(e.x)&&(0,i.isNumber)(e.y)){var n=Math.sqrt(p[t].x*p[t].x+p[t].y*p[t].y);if(n>0){var r=Math.min(f*(u/800),n);e.x+=p[t].x/n*r,e.y+=p[t].y/n*r}}})),null===(t=n.tick)||void 0===t||t.call(n)}},t.prototype.applyCalculate=function(e,t,n,r,o){this.calRepulsive(e,n,o),t&&this.calAttractive(t,n,r)},t.prototype.calRepulsive=function(e,t,n){e.forEach((function(r,o){t[o]={x:0,y:0},e.forEach((function(e,a){if(o!==a&&(0,i.isNumber)(r.x)&&(0,i.isNumber)(e.x)&&(0,i.isNumber)(r.y)&&(0,i.isNumber)(e.y)){var s=r.x-e.x,u=r.y-e.y,c=s*s+u*u;if(0===c){c=1;var l=o>a?1:-1;s=.01*l,u=.01*l}var f=n/c;t[o].x+=s*f,t[o].y+=u*f}}))}))},t.prototype.calAttractive=function(e,t,n){var r=this;e.forEach((function(e){var o=(0,i.getEdgeTerminal)(e,"source"),a=(0,i.getEdgeTerminal)(e,"target");if(o&&a){var s=r.nodeIdxMap[o],u=r.nodeIdxMap[a];if(s!==u){var c=r.nodeMap[o],l=r.nodeMap[a];if((0,i.isNumber)(l.x)&&(0,i.isNumber)(c.x)&&(0,i.isNumber)(l.y)&&(0,i.isNumber)(c.y)){var f=l.x-c.x,d=l.y-c.y,h=Math.sqrt(f*f+d*d),p=h*h/n;t[u].x-=f/h*p,t[u].y-=d/h*p,t[s].x+=f/h*p,t[s].y+=d/h*p}}}}))},t.prototype.stop=function(){this.timeInterval&&"undefined"!==typeof window&&window.clearInterval(this.timeInterval)},t.prototype.destroy=function(){var e=this;e.stop(),e.tick=null,e.nodes=null,e.edges=null,e.destroyed=!0},t.prototype.getType=function(){return"fruchterman"},t}(o.Base);t.FruchtermanLayout=a},4461:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.GForceLayout=void 0;var o=n(4950),i=n(1784),a=function(e,t){return e?(0,i.isNumber)(e)?function(t){return e}:e:function(e){return t||1}},s=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=500,n.workerEnabled=!1,n.edgeStrength=200,n.nodeStrength=1e3,n.coulombDisScale=.005,n.damping=.9,n.maxSpeed=1e3,n.minMovement=.5,n.interval=.02,n.factor=1,n.linkDistance=1,n.gravity=10,n.preventOverlap=!0,n.collideStrength=1,n.tick=function(){},n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.animate=!0,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},t.prototype.execute=function(){var e,t,n=this,r=n.nodes;if(void 0!==n.timeInterval&&"undefined"!==typeof window&&window.clearInterval(n.timeInterval),r&&0!==r.length){n.width||"undefined"===typeof window||(n.width=window.innerWidth),n.height||"undefined"===typeof window||(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);var o=n.center;if(1===r.length)return r[0].x=o[0],r[0].y=o[1],void(null===(t=n.onLayoutEnd)||void 0===t||t.call(n));var s={},u={};r.forEach((function(e,t){(0,i.isNumber)(e.x)||(e.x=Math.random()*n.width),(0,i.isNumber)(e.y)||(e.y=Math.random()*n.height),s[e.id]=e,u[e.id]=t})),n.nodeMap=s,n.nodeIdxMap=u,n.linkDistance=a(n.linkDistance,1),n.nodeStrength=a(n.nodeStrength,1),n.edgeStrength=a(n.edgeStrength,1);var c,l=n.nodeSize;if(n.preventOverlap){var f,d=n.nodeSpacing;f=(0,i.isNumber)(d)?function(){return d}:(0,i.isFunction)(d)?d:function(){return 0},c=l?(0,i.isArray)(l)?function(e){return Math.max(l[0],l[1])+f(e)}:function(e){return l+f(e)}:function(e){return e.size?(0,i.isArray)(e.size)?Math.max(e.size[0],e.size[1])+f(e):(0,i.isObject)(e.size)?Math.max(e.size.width,e.size.height)+f(e):e.size+f(e):10+f(e)}}n.nodeSize=c;var h=n.edges;n.degrees=(0,i.getDegree)(r.length,n.nodeIdxMap,h),n.getMass||(n.getMass=function(e){return e.mass||n.degrees[n.nodeIdxMap[e.id]]||1}),n.run()}else null===(e=n.onLayoutEnd)||void 0===e||e.call(n)},t.prototype.run=function(){var e,t=this,n=t.maxIteration,r=t.nodes,o=t.workerEnabled,i=t.minMovement,a=t.animate;if(r)if(o||!a){for(var s=0;s<n;s++){var u=t.runOneStep(s);if(t.reachMoveThreshold(r,u,i))break}null===(e=t.onLayoutEnd)||void 0===e||e.call(t)}else{if("undefined"===typeof window)return;var c=0;this.timeInterval=window.setInterval((function(){var e,o;if(r){var a=t.runOneStep(c)||[];t.reachMoveThreshold(r,a,i)&&(null===(e=t.onLayoutEnd)||void 0===e||e.call(t),window.clearInterval(t.timeInterval)),++c>=n&&(null===(o=t.onLayoutEnd)||void 0===o||o.call(t),window.clearInterval(t.timeInterval))}}),0)}},t.prototype.reachMoveThreshold=function(e,t,n){var r=0;return e.forEach((function(e,n){var o=e.x-t[n].x,i=e.y-t[n].y;r+=Math.sqrt(o*o+i*i)})),(r/=e.length)<n},t.prototype.runOneStep=function(e){var t,n=this,r=n.nodes,o=n.edges,i=[],a=[];if(r){r.forEach((function(e,t){i[2*t]=0,i[2*t+1]=0,a[2*t]=0,a[2*t+1]=0})),n.calRepulsive(i,r),o&&n.calAttractive(i,o),n.calGravity(i,r);var s=Math.max(.02,n.interval-.002*e);n.updateVelocity(i,a,s,r);var u=[];return r.forEach((function(e){u.push({x:e.x,y:e.y})})),n.updatePosition(a,s,r),null===(t=n.tick)||void 0===t||t.call(n),u}},t.prototype.calRepulsive=function(e,t){var n=this,r=n.getMass,o=n.factor,i=n.coulombDisScale,a=n.preventOverlap,s=n.collideStrength,u=void 0===s?1:s,c=n.nodeStrength,l=n.nodeSize;t.forEach((function(n,s){var f=r?r(n):1;t.forEach((function(t,d){if(!(s>=d)){var h=n.x-t.x,p=n.y-t.y;0===h&&0===p&&(h=.01*Math.random(),p=.01*Math.random());var g=h*h+p*p,v=Math.sqrt(g),m=(v+.1)*i,y=h/v,b=p/v,x=.5*(c(n)+c(t))*o/(m*m),w=r?r(t):1;if(e[2*s]+=y*x,e[2*s+1]+=b*x,e[2*d]-=y*x,e[2*d+1]-=b*x,a&&(l(n)+l(t))/2>v){var E=u*(c(n)+c(t))*.5/g;e[2*s]+=y*E/f,e[2*s+1]+=b*E/f,e[2*d]-=y*E/w,e[2*d+1]-=b*E/w}}}))}))},t.prototype.calAttractive=function(e,t){var n=this,r=n.nodeMap,o=n.nodeIdxMap,a=n.linkDistance,s=n.edgeStrength,u=n.nodeSize,c=n.getMass;t.forEach((function(t,n){var l=(0,i.getEdgeTerminal)(t,"source"),f=(0,i.getEdgeTerminal)(t,"target"),d=r[l],h=r[f],p=h.x-d.x,g=h.y-d.y;0===p&&0===g&&(p=.01*Math.random(),g=.01*Math.random());var v=Math.sqrt(p*p+g*g),m=p/v,y=g/v,b=((a(t,d,h)||1+(u(d)+u(d)||0)/2)-v)*s(t),x=o[l],w=o[f],E=c?c(d):1,_=c?c(h):1;e[2*x]-=m*b/E,e[2*x+1]-=y*b/E,e[2*w]+=m*b/_,e[2*w+1]+=y*b/_}))},t.prototype.calGravity=function(e,t){for(var n=this,r=n.center,o=n.gravity,a=n.degrees,s=t.length,u=0;u<s;u++){var c=t[u],l=c.x-r[0],f=c.y-r[1],d=o;if(n.getCenter){var h=n.getCenter(c,a[u]);h&&(0,i.isNumber)(h[0])&&(0,i.isNumber)(h[1])&&(0,i.isNumber)(h[2])&&(l=c.x-h[0],f=c.y-h[1],d=h[2])}d&&(e[2*u]-=d*l,e[2*u+1]-=d*f)}},t.prototype.updateVelocity=function(e,t,n,r){var o=this,i=n*o.damping;r.forEach((function(n,r){var a=e[2*r]*i||.01,s=e[2*r+1]*i||.01,u=Math.sqrt(a*a+s*s);if(u>o.maxSpeed){var c=o.maxSpeed/u;a*=c,s*=c}t[2*r]=a,t[2*r+1]=s}))},t.prototype.updatePosition=function(e,t,n){n.forEach((function(n,r){if((0,i.isNumber)(n.fx)&&(0,i.isNumber)(n.fy))return n.x=n.fx,void(n.y=n.fy);var o=e[2*r]*t,a=e[2*r+1]*t;n.x+=o,n.y+=a}))},t.prototype.stop=function(){this.timeInterval&&"undefined"!==typeof window&&window.clearInterval(this.timeInterval)},t.prototype.destroy=function(){var e=this;e.stop(),e.tick=null,e.nodes=null,e.edges=null,e.destroyed=!0},t.prototype.getType=function(){return"gForce"},t}(o.Base);t.GForceLayout=s},8584:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.FruchtermanGPULayout=void 0;var a=n(4950),s=n(1784),u=n(2288),c=n(7471),l=n(2100),f=n(3023),d=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=1e3,n.gravity=10,n.speed=1,n.clustering=!1,n.clusterField="cluster",n.clusterGravity=10,n.workerEnabled=!1,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}},t.prototype.execute=function(){return o(this,void 0,void 0,(function(){var e,t,n,r,o,a=this;return i(this,(function(i){switch(i.label){case 0:return(t=(e=this).nodes)&&0!==t.length?(e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]),n=e.center,1===t.length?(t[0].x=n[0],t[0].y=n[1],e.onLayoutEnd&&e.onLayoutEnd(),[2]):(r={},o={},t.forEach((function(e,t){(0,s.isNumber)(e.x)||(e.x=Math.random()*a.width),(0,s.isNumber)(e.y)||(e.y=Math.random()*a.height),r[e.id]=e,o[e.id]=t})),e.nodeMap=r,e.nodeIdxMap=o,[4,e.run()])):(e.onLayoutEnd&&e.onLayoutEnd(),[2]);case 1:return i.sent(),[2]}}))}))},t.prototype.executeWithWorker=function(e,t){return o(this,void 0,void 0,(function(){var n,r,o,a,u,c=this;return i(this,(function(i){switch(i.label){case 0:return r=(n=this).nodes,o=n.center,r&&0!==r.length?1===r.length?(r[0].x=o[0],r[0].y=o[1],[2]):(a={},u={},r.forEach((function(e,t){(0,s.isNumber)(e.x)||(e.x=Math.random()*c.width),(0,s.isNumber)(e.y)||(e.y=Math.random()*c.height),a[e.id]=e,u[e.id]=t})),n.nodeMap=a,n.nodeIdxMap=u,[4,n.run(e,t)]):[2];case 1:return i.sent(),[2]}}))}))},t.prototype.run=function(e,t){return o(this,void 0,void 0,(function(){var n,r,a,d,h,p,g,v,m,y,b,x,w,E,_,S,k,T,C,M,N,A,P,O,I,D,R=this;return i(this,(function(L){switch(L.label){case 0:for(r=(n=this).nodes,a=n.edges,d=n.maxIteration,h=n.center,p=n.height*n.width,g=Math.sqrt(p)/10,v=p/(r.length+1),m=Math.sqrt(v),y=n.speed,b=n.clustering,x=(0,c.attributesToTextureData)([n.clusterField],r),w=x.array,E=x.count,r.forEach((function(e,t){var n=0,r=0;(0,s.isNumber)(e.fx)&&(0,s.isNumber)(e.fy)&&(n=e.fx||.001,r=e.fy||.001),w[4*t+1]=n,w[4*t+2]=r})),_=r.length,S=(0,c.buildTextureData)(r,a),k=S.maxEdgePerVetex,T=S.array,C=n.workerEnabled,M=C?u.World.create({canvas:e,engineOptions:{supportCompute:!0}}):u.World.create({engineOptions:{supportCompute:!0}}),N=n.onLayoutEnd,A=[],P=0;P<E;P++)A.push(0,0,0,0);return O=M.createKernel(l.fruchtermanBundle).setDispatch([_,1,1]).setBinding({u_Data:T,u_K:m,u_K2:v,u_Gravity:n.gravity,u_ClusterGravity:n.clusterGravity||n.gravity||1,u_Speed:y,u_MaxDisplace:g,u_Clustering:b?1:0,u_Center:h,u_AttributeArray:w,u_ClusterCenters:A,MAX_EDGE_PER_VERTEX:k,VERTEX_COUNT:_}),b&&(I=M.createKernel(l.clusterBundle).setDispatch([E,1,1]).setBinding({u_Data:T,u_NodeAttributes:w,u_ClusterCenters:A,VERTEX_COUNT:_,CLUSTER_COUNT:E})),D=function(){return o(R,void 0,void 0,(function(){var n,o;return i(this,(function(i){switch(i.label){case 0:n=0,i.label=1;case 1:return n<d?[4,O.execute()]:[3,6];case 2:return i.sent(),b?(I.setBinding({u_Data:O}),[4,I.execute()]):[3,4];case 3:i.sent(),O.setBinding({u_ClusterCenters:I}),i.label=4;case 4:O.setBinding({u_MaxDisplace:g*=.99}),i.label=5;case 5:return n++,[3,1];case 6:return[4,O.getOutput()];case 7:return o=i.sent(),e?t.postMessage({type:f.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:o}):r.forEach((function(e,t){var n=o[4*t],r=o[4*t+1];e.x=n,e.y=r})),N&&N(),[2]}}))}))},[4,D()];case 1:return L.sent(),[2]}}))}))},t.prototype.getType=function(){return"fruchterman-gpu"},t}(a.Base);t.FruchtermanGPULayout=d},2100:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clusterBundle=t.clusterCode=t.fruchtermanBundle=t.fruchtermanCode=void 0,t.fruchtermanCode="\nimport { globalInvocationID } from 'g-webgpu';\nconst MAX_EDGE_PER_VERTEX;\nconst VERTEX_COUNT;\n@numthreads(1, 1, 1)\nclass Fruchterman {\n  @in @out\n  u_Data: vec4[];\n  @in\n  u_K: float;\n  @in\n  u_K2: float;\n  \n  @in\n  u_Center: vec2;\n  @in\n  u_Gravity: float;\n  @in\n  u_ClusterGravity: float;\n  @in\n  u_Speed: float;\n  @in\n  u_MaxDisplace: float;\n  @in\n  u_Clustering: float;\n  @in\n  u_AttributeArray: vec4[];\n  @in\n  u_ClusterCenters: vec4[];\n  calcRepulsive(i: int, currentNode: vec4): vec2 {\n    let dx = 0, dy = 0;\n    for (let j = 0; j < VERTEX_COUNT; j++) {\n      if (i != j) {\n        const nextNode = this.u_Data[j];\n        const xDist = currentNode[0] - nextNode[0];\n        const yDist = currentNode[1] - nextNode[1];\n        const dist = (xDist * xDist + yDist * yDist) + 0.01;\n        let param = this.u_K2 / dist;\n        \n        if (dist > 0.0) {\n          dx += param * xDist;\n          dy += param * yDist;\n          if (xDist == 0 && yDist == 0) {\n            const sign = i < j ? 1 : -1;\n            dx += param * sign;\n            dy += param * sign;\n          }\n        }\n      }\n    }\n    return [dx, dy];\n  }\n  calcGravity(currentNode: vec4, nodeAttributes: vec4): vec2 { // \n    let dx = 0, dy = 0;\n    const vx = currentNode[0] - this.u_Center[0];\n    const vy = currentNode[1] - this.u_Center[1];\n    const gf = 0.01 * this.u_K * this.u_Gravity;\n    dx = gf * vx;\n    dy = gf * vy;\n    if (this.u_Clustering == 1) {\n      const clusterIdx = int(nodeAttributes[0]);\n      const center = this.u_ClusterCenters[clusterIdx];\n      const cvx = currentNode[0] - center[0];\n      const cvy = currentNode[1] - center[1];\n      const dist = sqrt(cvx * cvx + cvy * cvy) + 0.01;\n      const parma = this.u_K * this.u_ClusterGravity / dist;\n      dx += parma * cvx;\n      dy += parma * cvy;\n    }\n    return [dx, dy];\n  }\n  calcAttractive(i: int, currentNode: vec4): vec2 {\n    let dx = 0, dy = 0;\n    const arr_offset = int(floor(currentNode[2] + 0.5));\n    const length = int(floor(currentNode[3] + 0.5));\n    const node_buffer: vec4;\n    for (let p = 0; p < MAX_EDGE_PER_VERTEX; p++) {\n      if (p >= length) break;\n      const arr_idx = arr_offset + p;\n      // when arr_idx % 4 == 0 update currentNodedx_buffer\n      const buf_offset = arr_idx - arr_idx / 4 * 4;\n      if (p == 0 || buf_offset == 0) {\n        node_buffer = this.u_Data[int(arr_idx / 4)];\n      }\n      const float_j = buf_offset == 0 ? node_buffer[0] :\n                      buf_offset == 1 ? node_buffer[1] :\n                      buf_offset == 2 ? node_buffer[2] :\n                                        node_buffer[3];\n      const nextNode = this.u_Data[int(float_j)];\n      const xDist = currentNode[0] - nextNode[0];\n      const yDist = currentNode[1] - nextNode[1];\n      const dist = sqrt(xDist * xDist + yDist * yDist) + 0.01;\n      let attractiveF = dist / this.u_K;\n    \n      if (dist > 0.0) {\n        dx -= xDist * attractiveF;\n        dy -= yDist * attractiveF;\n        if (xDist == 0 && yDist == 0) {\n          const sign = i < int(float_j) ? 1 : -1;\n          dx -= sign * attractiveF;\n          dy -= sign * attractiveF;\n        }\n      }\n    }\n    return [dx, dy];\n  }\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const currentNode = this.u_Data[i];\n    let dx = 0, dy = 0;\n    if (i >= VERTEX_COUNT) {\n      this.u_Data[i] = currentNode;\n      return;\n    }\n\n    // [gravity, fx, fy, 0]\n    const nodeAttributes = this.u_AttributeArray[i];\n\n    if (nodeAttributes[1] != 0 && nodeAttributes[2] != 0) {\n      // the node is fixed\n      this.u_Data[i] = [\n        nodeAttributes[1],\n        nodeAttributes[2],\n        currentNode[2],\n        currentNode[3]\n      ];\n      return;\n    }\n\n    // repulsive\n    const repulsive = this.calcRepulsive(i, currentNode);\n    dx += repulsive[0];\n    dy += repulsive[1];\n    // attractive\n    const attractive = this.calcAttractive(i, currentNode);\n    dx += attractive[0];\n    dy += attractive[1];\n    // gravity\n    const gravity = this.calcGravity(currentNode, nodeAttributes);\n    dx -= gravity[0];\n    dy -= gravity[1];\n    // speed\n    dx *= this.u_Speed;\n    dy *= this.u_Speed;\n\n    // move\n    const distLength = sqrt(dx * dx + dy * dy);\n    if (distLength > 0.0) {\n      const limitedDist = min(this.u_MaxDisplace * this.u_Speed, distLength);\n      this.u_Data[i] = [\n        currentNode[0] + dx / distLength * limitedDist,\n        currentNode[1] + dy / distLength * limitedDist,\n        currentNode[2],\n        currentNode[3]\n      ];\n    }\n  }\n}\n",t.fruchtermanBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_K : f32;\\n  [[offset 4]] u_K2 : f32;\\n  [[offset 8]] u_Center : vec2<f32>;\\n  [[offset 16]] u_Gravity : f32;\\n  [[offset 20]] u_ClusterGravity : f32;\\n  [[offset 24]] u_Speed : f32;\\n  [[offset 28]] u_MaxDisplace : f32;\\n  [[offset 32]] u_Clustering : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AttributeArray : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar param : f32 = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx = dx + param * xDist;\\ndy = dy + param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < j);\\ndx = dx + param * std::sign;\\ndy = dy + param * std::sign;}}}}\\nreturn vec2<f32>(dx, dy);}\\nfn calcGravity(currentNode : vec4<f32>, nodeAttributes : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar vx : f32 = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nvar vy : f32 = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nvar gf : f32 = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {var clusterIdx : i32 = i32(nodeAttributes.x);\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nvar cvx : f32 = currentNode.x - center.x;\\nvar cvy : f32 = currentNode.y - center.y;\\nvar dist : f32 = std::sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nvar parma : f32 = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx = dx + parma * cvx;\\ndy = dy + parma * cvy;}\\nreturn vec2<f32>(dx, dy);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar arr_offset : i32 = i32(std::floor(currentNode.z + 0.5));\\nvar length : i32 = i32(std::floor(currentNode.w + 0.5));\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + i32(p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = select(node_buffer.x, select(node_buffer.y, select(node_buffer.z, node_buffer.w, buf_offset == 2), buf_offset == 1), buf_offset == 0);\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar attractiveF : f32 = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx = dx - xDist * attractiveF;\\ndy = dy - yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < i32(float_j));\\ndx = dx - std::sign * attractiveF;\\ndy = dy - std::sign * attractiveF;}}}\\nreturn vec2<f32>(dx, dy);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nif (i >= __DefineValuePlaceholder__VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes : vec4<f32> = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\ndx = dx + repulsive.x;\\ndy = dy + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode);\\ndx = dx + attractive.x;\\ndy = dy + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(currentNode, nodeAttributes);\\ndx = dx - gravity.x;\\ndy = dy - gravity.y;\\ndx = dx * gWebGPUUniformParams.u_Speed;\\ndy = dy * gWebGPUUniformParams.u_Speed;\\nvar distLength : f32 = std::sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {var limitedDist : f32 = std::min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_K;\\n  float u_K2;\\n  vec2 u_Center;\\n  float u_Gravity;\\n  float u_ClusterGravity;\\n  float u_Speed;\\n  float u_MaxDisplace;\\n  float u_Clustering;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AttributeArray[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvec2 calcRepulsive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {float dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nfloat vy = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nfloat gf = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= gWebGPUUniformParams.u_Speed;\\ndy *= gWebGPUUniformParams.u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',t.clusterCode="\nimport { globalInvocationID } from 'g-webgpu';\nconst VERTEX_COUNT;\nconst CLUSTER_COUNT;\n@numthreads(1, 1, 1)\nclass CalcCenter {\n  @in\n  u_Data: vec4[];\n  @in\n  u_NodeAttributes: vec4[]; // [[clusterIdx, 0, 0, 0], ...]\n  @in @out\n  u_ClusterCenters: vec4[]; // [[cx, cy, nodeCount, clusterIdx], ...]\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const center = this.u_ClusterCenters[i];\n    let sumx = 0;\n    let sumy = 0;\n    let count = 0;\n    for (let j = 0; j < VERTEX_COUNT; j++) {\n      const attributes = this.u_NodeAttributes[j];\n      const clusterIdx = int(attributes[0]);\n      const vertex = this.u_Data[j];\n      if (clusterIdx == i) {\n        sumx += vertex.x;\n        sumy += vertex.y;\n        count += 1;\n      }\n    }\n    this.u_ClusterCenters[i] = [\n      sumx / count,\n      sumy / count,\n      count,\n      i\n    ];\n  }\n}\n",t.clusterBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\n\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 0, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributes : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[i];\\nvar sumx : f32 = 0.0;\\nvar sumy : f32 = 0.0;\\nvar count : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var attributes : vec4<f32> = gWebGPUBuffer1.u_NodeAttributes[j];\\nvar clusterIdx : i32 = i32(attributes.x);\\nvar vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx = sumx + vertex.x;\\nsumy = sumy + vertex.y;\\ncount = count + 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4<f32>(sumx / count, sumy / count, count, i);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\n\\nlayout(std430, set = 0, binding = 0) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_NodeAttributes[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {int i = globalInvocationID.x;\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[i];\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = gWebGPUBuffer1.u_NodeAttributes[j];\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4(sumx / count, sumy / count, count, i);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}'},7042:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.GForceGPULayout=void 0;var a=n(4950),s=n(1784),u=n(2288),c=n(7471),l=n(930),f=n(5193),d=n(3023),h=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=1e3,n.edgeStrength=200,n.nodeStrength=1e3,n.coulombDisScale=.005,n.damping=.9,n.maxSpeed=1e3,n.minMovement=.5,n.interval=.02,n.factor=1,n.linkDistance=1,n.gravity=10,n.workerEnabled=!1,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}},t.prototype.execute=function(){return o(this,void 0,void 0,(function(){var e,t,n,r,o;return i(this,(function(i){switch(i.label){case 0:return(t=(e=this).nodes)&&0!==t.length?(e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]),n=e.center,1===t.length?(t[0].x=n[0],t[0].y=n[1],e.onLayoutEnd&&e.onLayoutEnd(),[2]):(r={},o={},t.forEach((function(t,n){(0,s.isNumber)(t.x)||(t.x=Math.random()*e.width),(0,s.isNumber)(t.y)||(t.y=Math.random()*e.height),r[t.id]=t,o[t.id]=n})),e.nodeMap=r,e.nodeIdxMap=o,e.nodeStrength=(0,c.proccessToFunc)(e.nodeStrength,1),e.edgeStrength=(0,c.proccessToFunc)(e.edgeStrength,1),[4,e.run()])):(e.onLayoutEnd&&e.onLayoutEnd(),[2]);case 1:return i.sent(),[2]}}))}))},t.prototype.executeWithWorker=function(e,t){var n=this,r=n.nodes,o=n.center;if(r&&0!==r.length){if(1===r.length)return r[0].x=o[0],void(r[0].y=o[1]);var i={},a={};r.forEach((function(e,t){(0,s.isNumber)(e.x)||(e.x=Math.random()*n.width),(0,s.isNumber)(e.y)||(e.y=Math.random()*n.height),i[e.id]=e,a[e.id]=t})),n.nodeMap=i,n.nodeIdxMap=a,n.nodeStrength=(0,c.proccessToFunc)(n.nodeStrength,1),n.edgeStrength=(0,c.proccessToFunc)(n.edgeStrength,1),n.run(e,t)}},t.prototype.run=function(e,t){return o(this,void 0,void 0,(function(){var n,r,a,h,p,g,v,m,y,b,x,w,E,_,S,k,T,C,M,N,A,P,O,I,D,R,L,j=this;return i(this,(function(F){switch(F.label){case 0:for(r=(n=this).nodes,a=n.edges,h=n.maxIteration,n.width||"undefined"===typeof window||(n.width=window.innerWidth),n.height||"undefined"===typeof window||(n.height=window.innerHeight),p=r.length,n.linkDistance=(0,c.proccessToFunc)(n.linkDistance),n.edgeStrength=(0,c.proccessToFunc)(n.edgeStrength),g=(0,c.buildTextureDataWithTwoEdgeAttr)(r,a,n.linkDistance,n.edgeStrength),v=g.maxEdgePerVetex,m=g.array,n.degrees=(0,l.getDegree)(r.length,n.nodeIdxMap,a),y=[],b=[],x=[],w=[],E=[],_=[],S=[],n.getMass||(n.getMass=function(e){return n.degrees[n.nodeIdxMap[e.id]]||1}),k=n.gravity,T=n.center,r.forEach((function(e,t){y.push(n.getMass(e)),b.push(n.nodeStrength(e)),n.degrees[t]||(n.degrees[t]=0);var r=[T[0],T[1],k];if(n.getCenter){var o=n.getCenter(e,n.degrees[t]);o&&(0,s.isNumber)(o[0])&&(0,s.isNumber)(o[1])&&(0,s.isNumber)(o[2])&&(r=o)}x.push(r[0]),w.push(r[1]),E.push(r[2]),(0,s.isNumber)(e.fx)&&(0,s.isNumber)(e.fy)?(_.push(e.fx||.001),S.push(e.fy||.001)):(_.push(0),S.push(0))})),C=(0,c.arrayToTextureData)([y,n.degrees,b,_]),M=(0,c.arrayToTextureData)([x,w,E,S]),N=n.workerEnabled,A=N?u.World.create({canvas:e,engineOptions:{supportCompute:!0}}):u.World.create({engineOptions:{supportCompute:!0}}),P=n.onLayoutEnd,O=[],m.forEach((function(e){O.push(e)})),I=0;I<4;I++)O.push(0);return D=A.createKernel(f.gForceBundle).setDispatch([p,1,1]).setBinding({u_Data:m,u_damping:n.damping,u_maxSpeed:n.maxSpeed,u_minMovement:n.minMovement,u_coulombDisScale:n.coulombDisScale,u_factor:n.factor,u_NodeAttributeArray1:C,u_NodeAttributeArray2:M,MAX_EDGE_PER_VERTEX:v,VERTEX_COUNT:p,u_AveMovement:O,u_interval:n.interval}),R=A.createKernel(f.aveMovementBundle).setDispatch([1,1,1]).setBinding({u_Data:m,VERTEX_COUNT:p,u_AveMovement:[0,0,0,0]}),L=function(){return o(j,void 0,void 0,(function(){var o,a,s;return i(this,(function(i){switch(i.label){case 0:o=0,i.label=1;case 1:return o<h?[4,D.execute()]:[3,5];case 2:return i.sent(),R.setBinding({u_Data:D}),[4,R.execute()];case 3:i.sent(),a=Math.max(.02,n.interval-.002*o),D.setBinding({u_interval:a,u_AveMovement:R}),i.label=4;case 4:return o++,[3,1];case 5:return[4,D.getOutput()];case 6:return s=i.sent(),e?t.postMessage({type:d.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:s}):r.forEach((function(e,t){var n=s[4*t],r=s[4*t+1];e.x=n,e.y=r})),P&&P(),[2]}}))}))},[4,L()];case 1:return F.sent(),[2]}}))}))},t.prototype.getType=function(){return"gForce-gpu"},t}(a.Base);t.GForceGPULayout=h},5193:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aveMovementBundle=t.aveMovementCode=t.gForceBundle=t.gForceCode=void 0,t.gForceCode="\nimport { globalInvocationID } from 'g-webgpu';\n\nconst MAX_EDGE_PER_VERTEX;\nconst VERTEX_COUNT;\nconst SHIFT_20 = 1048576;\n\n@numthreads(1, 1, 1)\nclass GGForce {\n  @in @out\n  u_Data: vec4[];\n\n  @in\n  u_damping: float;\n  \n  @in\n  u_maxSpeed: float;\n\n  @in\n  u_minMovement: float;\n\n  @in\n  u_AveMovement: vec4[];\n\n  @in\n  u_coulombDisScale: float;\n\n  @in\n  u_factor: float;\n\n  @in\n  u_NodeAttributeArray1: vec4[];\n\n  @in\n  u_NodeAttributeArray2: vec4[];\n\n  @in\n  u_interval: float;\n\n  unpack_float(packedValue: float): ivec2 {\n    const packedIntValue = int(packedValue);\n    const v0 = packedIntValue / SHIFT_20;\n    return [v0, packedIntValue - v0 * SHIFT_20];\n  }\n\n  calcRepulsive(i: int, currentNode: vec4): vec2 {\n    let ax = 0, ay = 0;\n    for (let j: int = 0; j < VERTEX_COUNT; j++) {\n      if (i != j) {\n        const nextNode = this.u_Data[j];\n        const vx = currentNode[0] - nextNode[0];\n        const vy = currentNode[1] - nextNode[1];\n        const dist = sqrt(vx * vx + vy * vy) + 0.01;\n        const n_dist = (dist + 0.1) * this.u_coulombDisScale;\n        const direx = vx / dist;\n        const direy = vy / dist;\n        const attributesi = this.u_NodeAttributeArray1[i];\n        const attributesj = this.u_NodeAttributeArray1[j];\n        const massi = attributesi[0];\n        const nodeStrengthi = attributesi[2];\n        const nodeStrengthj = attributesj[2];\n        const nodeStrength = (nodeStrengthi + nodeStrengthj) / 2;\n        // const param = nodeStrength * this.u_factor / (n_dist * n_dist * massi);\n        const param = nodeStrength * this.u_factor / (n_dist * n_dist);\n        ax += direx * param;\n        ay += direy * param;\n      }\n    }\n    return [ax, ay];\n  }\n\n  calcGravity(i: int, currentNode: vec4, attributes2: vec4): vec2 {\n    // note: attributes2 = [centerX, centerY, gravity, 0]\n\n    const vx = currentNode[0] - attributes2[0];\n    const vy = currentNode[1] - attributes2[1];\n    \n    const ax = vx * attributes2[2];\n    const ay = vy * attributes2[2];\n    \n    return [ax, ay];\n  }\n\n  calcAttractive(i: int, currentNode: vec4, attributes1: vec4): vec2 {\n    // note: attributes1 = [mass, degree, nodeSterngth, 0]\n\n    const mass = attributes1[0];\n    let ax = 0, ay = 0;\n    // const arr_offset = int(floor(currentNode[2] + 0.5));\n    // const length = int(floor(currentNode[3] + 0.5));\n\n    const compressed = this.unpack_float(currentNode[2]);\n    const length = compressed[0];\n    const arr_offset = compressed[1];\n\n    const node_buffer: vec4;\n    for (let p: int = 0; p < MAX_EDGE_PER_VERTEX; p++) {\n      if (p >= length) break;\n      const arr_idx = arr_offset + 4 * p; // i \u8282\u70b9\u7684\u7b2c p \u6761\u8fb9\u5f00\u59cb\u7684\u5c0f\u683c\u5b50\u4f4d\u7f6e\n      const buf_offset = arr_idx - arr_idx / 4 * 4;\n      if (p == 0 || buf_offset == 0) {\n        node_buffer = this.u_Data[int(arr_idx / 4)]; // \u5927\u683c\u5b50\uff0c\u5927\u683c\u5b50\u4f4d\u7f6e=\u5c0f\u4e2a\u5b50\u4f4d\u7f6e / 4\uff0c\n      }\n\n      let float_j: float = node_buffer[0];\n\n      const nextNode = this.u_Data[int(float_j)];\n      const vx = nextNode[0] - currentNode[0];\n      const vy = nextNode[1] - currentNode[1];\n      const dist = sqrt(vx * vx + vy * vy) + 0.01;\n      const direx = vx / dist;\n      const direy = vy / dist;\n      const edgeLength = node_buffer[1];\n      const edgeStrength = node_buffer[2];\n      const diff: float = edgeLength - dist;//edgeLength\n      // const param = diff * this.u_stiffness / mass; //\n      const param = diff * edgeStrength / mass; // \n      ax -= direx * param;\n      ay -= direy * param;\n    }\n    return [ax, ay];\n  }\n\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const currentNode = this.u_Data[i];\n    const movement = u_AveMovement[0];\n    let ax = 0, ay = 0;\n\n    if (i >= VERTEX_COUNT || movement.x < u_minMovement) {\n      this.u_Data[i] = currentNode;\n      return;\n    }\n\n    // \u6bcf\u4e2a\u8282\u70b9\u5c5e\u6027\u5360\u4e24\u4e2a\u6570\u7ec4\u4e2d\u5404\u4e00\u683c\n    // [mass, degree, nodeStrength, fx]\n    const nodeAttributes1 = this.u_NodeAttributeArray1[i];\n    // [centerX, centerY, centerGravity, fy]\n    const nodeAttributes2 = this.u_NodeAttributeArray2[i];\n\n    // repulsive\n    const repulsive = this.calcRepulsive(i, currentNode);\n    ax += repulsive[0];\n    ay += repulsive[1];\n\n    // attractive\n    const attractive = this.calcAttractive(i, currentNode, nodeAttributes1);\n    ax += attractive[0];\n    ay += attractive[1];\n\n    // gravity\n    const gravity = this.calcGravity(i, currentNode, nodeAttributes2);\n    ax -= gravity[0];\n    ay -= gravity[1];\n\n    // speed\n    const param = this.u_interval * this.u_damping;\n    let vx = ax * param;\n    let vy = ay * param;\n    const vlength = sqrt(vx * vx + vy * vy) + 0.0001;\n    if (vlength > this.u_maxSpeed) {\n      const param2 = this.u_maxSpeed / vlength;\n      vx = param2 * vx;\n      vy = param2 * vy;\n    }\n\n    // move\n    if (nodeAttributes1[3] != 0 && nodeAttributes2[3] != 0) {\n      this.u_Data[i] = [\n        nodeAttributes1[3],\n        nodeAttributes2[3],\n        currentNode[2],\n        0\n      ];\n    } else {\n      const distx = vx * this.u_interval;\n      const disty = vy * this.u_interval;\n      const distLength = sqrt(distx * distx + disty * disty);\n      this.u_Data[i] = [\n        currentNode[0] + distx,\n        currentNode[1] + disty,\n        currentNode[2],\n        distLength\n      ];\n    }\n    \n    // the avarage move distance\n    // need to share memory\n    \n  }\n}\n",t.gForceBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_damping : f32;\\n  [[offset 4]] u_maxSpeed : f32;\\n  [[offset 8]] u_minMovement : f32;\\n  \\n  [[offset 12]] u_coulombDisScale : f32;\\n  [[offset 16]] u_factor : f32;\\n  \\n  \\n  [[offset 20]] u_interval : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray1 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\ntype GWebGPUBuffer3 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray2 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 4, set 0]] var<storage_buffer> gWebGPUBuffer3 : GWebGPUBuffer3;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn unpack_float(packedValue : f32) -> vec2<i32> {var packedIntValue : i32 = i32(packedValue);\\nvar v0 : i32 = packedIntValue / 1048576;\\nreturn vec2<i32>(v0, packedIntValue - (v0 * 1048576));}\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar vx : f32 = currentNode.x - nextNode.x;\\nvar vy : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar n_dist : f32 = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar attributesi : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar attributesj : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nvar massi : f32 = attributesi.x;\\nvar nodeStrengthi : f32 = attributesi.z;\\nvar nodeStrengthj : f32 = attributesj.z;\\nvar nodeStrength : f32 = (nodeStrengthi + nodeStrengthj) / 2.0;\\nvar param : f32 = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax = ax + direx * param;\\nay = ay + direy * param;}}\\nreturn vec2<f32>(ax, ay);}\\nfn calcGravity(i : i32, currentNode : vec4<f32>, attributes2 : vec4<f32>) -> vec2<f32> {var vx : f32 = currentNode.x - attributes2.x;\\nvar vy : f32 = currentNode.y - attributes2.y;\\nvar ax : f32 = vx * attributes2.z;\\nvar ay : f32 = vy * attributes2.z;\\nreturn vec2<f32>(ax, ay);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>, attributes1 : vec4<f32>) -> vec2<f32> {var mass : f32 = attributes1.x;\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nvar compressed : vec2<i32> = unpack_float(currentNode.z);\\nvar length : i32 = compressed.x;\\nvar arr_offset : i32 = compressed.y;\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + (4 * p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = node_buffer.x;\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar vx : f32 = nextNode.x - currentNode.x;\\nvar vy : f32 = nextNode.y - currentNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar edgeLength : f32 = node_buffer.y;\\nvar edgeStrength : f32 = node_buffer.z;\\nvar diff : f32 = edgeLength - dist;\\nvar param : f32 = (diff * edgeStrength) / mass;\\nax = ax - direx * param;\\nay = ay - direy * param;}\\nreturn vec2<f32>(ax, ay);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar movement : vec4<f32> = gWebGPUBuffer1.u_AveMovement[0];\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nif ((i >= __DefineValuePlaceholder__VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes1 : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar nodeAttributes2 : vec4<f32> = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\nax = ax + repulsive.x;\\nay = ay + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode, nodeAttributes1);\\nax = ax + attractive.x;\\nay = ay + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(i, currentNode, nodeAttributes2);\\nax = ax - gravity.x;\\nay = ay - gravity.y;\\nvar param : f32 = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nvar vx : f32 = ax * param;\\nvar vy : f32 = ay * param;\\nvar vlength : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {var param2 : f32 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nvar distx : f32 = vx * gWebGPUUniformParams.u_interval;\\nvar disty : f32 = vy * gWebGPUUniformParams.u_interval;\\nvar distLength : f32 = std::sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_damping;\\n  float u_maxSpeed;\\n  float u_minMovement;\\n  \\n  float u_coulombDisScale;\\n  float u_factor;\\n  \\n  \\n  float u_interval;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_NodeAttributeArray1[];\\n} gWebGPUBuffer2;\\n\\nlayout(std430, set = 0, binding = 4) buffer readonly  GWebGPUBuffer3 {\\n  vec4 u_NodeAttributeArray2[];\\n} gWebGPUBuffer3;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nivec2 unpack_float(float packedValue) {int packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {float ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 attributesj = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {float vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {float mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nvec4 movement = gWebGPUBuffer1.u_AveMovement[0];\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes1 = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 nodeAttributes2 = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {float param2 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * gWebGPUUniformParams.u_interval;\\nfloat disty = vy * gWebGPUUniformParams.u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {gl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',t.aveMovementCode="\nconst VERTEX_COUNT;\n@numthreads(1, 1, 1)\nclass CalcAveMovement {\n  @in\n  u_Data: vec4[];\n  @in\n  u_iter: float;\n  @in @out\n  u_AveMovement: vec4[];\n  @main\n  compute() {\n    let movement = 0;\n    for (let j: int = 0; j < VERTEX_COUNT; j++) {\n      const vertex = this.u_Data[j];\n      movement += vertex[3];\n    }\n    movement = movement / float(VERTEX_COUNT);\n    this.u_AveMovement[0] = [movement, 0, 0, 0];\n  }\n}\n",t.aveMovementBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_iter : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var movement : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nmovement = movement + vertex.w;}\\nmovement = movement / f32(__DefineValuePlaceholder__VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4<f32>(movement, 0.0, 0.0, 0.0);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_iter;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {float movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = gWebGPUBuffer0.u_Data[j];\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4(movement, 0.0, 0.0, 0.0);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}'},8609:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.GridLayout=void 0;var o=n(1784),i=function(e){function t(t){var n=e.call(this)||this;return n.begin=[0,0],n.preventOverlap=!0,n.preventOverlapPadding=10,n.condense=!1,n.sortBy="degree",n.nodes=[],n.edges=[],n.width=300,n.height=300,n.row=0,n.col=0,n.cellWidth=0,n.cellHeight=0,n.cellUsed={},n.id2manPos={},n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges,r=e.begin,i=t.length;if(0===i)return e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n};if(1===i)return t[0].x=r[0],t[0].y=r[1],e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n};var a=e.sortBy,s=e.width,u=e.height,c=e.condense,l=e.preventOverlapPadding,f=e.preventOverlap,d=e.nodeSpacing,h=e.nodeSize,p=[];t.forEach((function(e){p.push(e)}));var g={};if(p.forEach((function(e,t){g[e.id]=t})),("degree"===a||!(0,o.isString)(a)||void 0===p[0][a])&&(a="degree",(0,o.isNaN)(t[0].degree))){var v=(0,o.getDegree)(p.length,g,n);p.forEach((function(e,t){e.degree=v[t]}))}p.sort((function(e,t){return t[a]-e[a]})),s||"undefined"===typeof window||(s=window.innerWidth),u||"undefined"===typeof window||(u=window.innerHeight);var m=e.rows,y=null!=e.cols?e.cols:e.columns;if(e.cells=i,null!=m&&null!=y?(e.rows=m,e.cols=y):null!=m&&null==y?(e.rows=m,e.cols=Math.ceil(e.cells/e.rows)):null==m&&null!=y?(e.cols=y,e.rows=Math.ceil(e.cells/e.cols)):(e.splits=Math.sqrt(e.cells*e.height/e.width),e.rows=Math.round(e.splits),e.cols=Math.round(e.width/e.height*e.splits)),e.cols*e.rows>e.cells)((x=e.small())-1)*(b=e.large())>=e.cells?e.small(x-1):(b-1)*x>=e.cells&&e.large(b-1);else for(;e.cols*e.rows<e.cells;){var b,x=e.small();((b=e.large())+1)*x>=e.cells?e.large(b+1):e.small(x+1)}if(e.cellWidth=s/e.cols,e.cellHeight=u/e.rows,c&&(e.cellWidth=0,e.cellHeight=0),f||d){var w=(0,o.getFuncByUnknownType)(10,d),E=(0,o.getFuncByUnknownType)(30,h,!1);p.forEach((function(t){t.x&&t.y||(t.x=0,t.y=0);var n=E(t),r=n[0],o=void 0===r?30:r,i=n[1],a=void 0===i?30:i,s=void 0!==w?w(t):l,u=o+s,c=a+s;e.cellWidth=Math.max(e.cellWidth,u),e.cellHeight=Math.max(e.cellHeight,c)}))}e.cellUsed={},e.row=0,e.col=0,e.id2manPos={};for(var _=0;_<p.length;_++){var S=p[_],k=void 0;if(e.position&&(k=e.position(S)),k&&(void 0!==k.row||void 0!==k.col)){var T={row:k.row,col:k.col};if(void 0===T.col)for(T.col=0;e.used(T.row,T.col);)T.col++;else if(void 0===T.row)for(T.row=0;e.used(T.row,T.col);)T.row++;e.id2manPos[S.id]=T,e.use(T.row,T.col)}e.getPos(S)}return e.onLayoutEnd&&e.onLayoutEnd(),{edges:n,nodes:p}},t.prototype.small=function(e){var t,n=this,r=n.rows||5,o=n.cols||5;null==e?t=Math.min(r,o):Math.min(r,o)===n.rows?n.rows=e:n.cols=e;return t},t.prototype.large=function(e){var t,n=this,r=n.rows||5,o=n.cols||5;null==e?t=Math.max(r,o):Math.max(r,o)===n.rows?n.rows=e:n.cols=e;return t},t.prototype.used=function(e,t){return this.cellUsed["c-"+e+"-"+t]||!1},t.prototype.use=function(e,t){this.cellUsed["c-"+e+"-"+t]=!0},t.prototype.moveToNextCell=function(){var e=this,t=e.cols||5;e.col++,e.col>=t&&(e.col=0,e.row++)},t.prototype.getPos=function(e){var t,n,r=this,o=r.begin,i=r.cellWidth,a=r.cellHeight,s=r.id2manPos[e.id];if(s)t=s.col*i+i/2+o[0],n=s.row*a+a/2+o[1];else{for(;r.used(r.row,r.col);)r.moveToNextCell();t=r.col*i+i/2+o[0],n=r.row*a+a/2+o[1],r.use(r.row,r.col),r.moveToNextCell()}e.x=t,e.y=n},t.prototype.getType=function(){return"grid"},t}(n(4950).Base);t.GridLayout=i},6929:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.ERLayout=t.ForceAtlas2Layout=t.ComboCombinedLayout=t.ComboForceLayout=t.GForceGPULayout=t.FruchtermanGPULayout=t.FruchtermanLayout=t.MDSLayout=t.ConcentricLayout=t.RadialLayout=t.DagreCompoundLayout=t.DagreLayout=t.CircularLayout=t.ForceLayout=t.GForceLayout=t.RandomLayout=t.GridLayout=t.Layouts=t.Layout=void 0;var i=n(8609);Object.defineProperty(t,"GridLayout",{enumerable:!0,get:function(){return i.GridLayout}});var a=n(1831);Object.defineProperty(t,"RandomLayout",{enumerable:!0,get:function(){return a.RandomLayout}});var s=n(4461);Object.defineProperty(t,"GForceLayout",{enumerable:!0,get:function(){return s.GForceLayout}});var u=n(2283);Object.defineProperty(t,"ForceLayout",{enumerable:!0,get:function(){return u.ForceLayout}});var c=n(2893);Object.defineProperty(t,"CircularLayout",{enumerable:!0,get:function(){return c.CircularLayout}});var l=n(1893);Object.defineProperty(t,"DagreLayout",{enumerable:!0,get:function(){return l.DagreLayout}});var f=n(7530);Object.defineProperty(t,"DagreCompoundLayout",{enumerable:!0,get:function(){return f.DagreCompoundLayout}});var d=n(5374);Object.defineProperty(t,"RadialLayout",{enumerable:!0,get:function(){return d.RadialLayout}});var h=n(1457);Object.defineProperty(t,"ConcentricLayout",{enumerable:!0,get:function(){return h.ConcentricLayout}});var p=n(6647);Object.defineProperty(t,"MDSLayout",{enumerable:!0,get:function(){return p.MDSLayout}});var g=n(4328);Object.defineProperty(t,"FruchtermanLayout",{enumerable:!0,get:function(){return g.FruchtermanLayout}});var v=n(8584);Object.defineProperty(t,"FruchtermanGPULayout",{enumerable:!0,get:function(){return v.FruchtermanGPULayout}});var m=n(7042);Object.defineProperty(t,"GForceGPULayout",{enumerable:!0,get:function(){return m.GForceGPULayout}});var y=n(7315);Object.defineProperty(t,"ComboForceLayout",{enumerable:!0,get:function(){return y.ComboForceLayout}});var b=n(3467);Object.defineProperty(t,"ComboCombinedLayout",{enumerable:!0,get:function(){return b.ComboCombinedLayout}});var x=n(3299);Object.defineProperty(t,"ForceAtlas2Layout",{enumerable:!0,get:function(){return x.ForceAtlas2Layout}});var w=n(8698);Object.defineProperty(t,"ERLayout",{enumerable:!0,get:function(){return w.ERLayout}});var E=n(4060);Object.defineProperty(t,"Layout",{enumerable:!0,get:function(){return E.Layout}}),Object.defineProperty(t,"Layouts",{enumerable:!0,get:function(){return E.Layouts}}),o(n(2514),t)},4060:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Layouts=t.Layout=void 0;var r=n(8252),o=n(8609),i=n(1831),a=n(4461),s=n(2283),u=n(2893),c=n(1893),l=n(5374),f=n(1457),d=n(6647),h=n(4328),p=n(8584),g=n(7042),v=n(7315),m=n(3467),y=n(3299),b=n(8698),x=n(7530),w=function(){function e(e){var t=(0,r.getLayoutByName)(e.type);this.layoutInstance=new t(e)}return e.prototype.layout=function(e){return this.layoutInstance.layout(e)},e.prototype.updateCfg=function(e){this.layoutInstance.updateCfg(e)},e.prototype.init=function(e){this.layoutInstance.init(e)},e.prototype.execute=function(){this.layoutInstance.execute()},e.prototype.getDefaultCfg=function(){return this.layoutInstance.getDefaultCfg()},e.prototype.destroy=function(){return this.layoutInstance.destroy()},e}();t.Layout=w,t.Layouts={force:s.ForceLayout,fruchterman:h.FruchtermanLayout,forceAtlas2:y.ForceAtlas2Layout,gForce:a.GForceLayout,dagre:c.DagreLayout,dagreCompound:x.DagreCompoundLayout,circular:u.CircularLayout,radial:l.RadialLayout,concentric:f.ConcentricLayout,grid:o.GridLayout,mds:d.MDSLayout,comboForce:v.ComboForceLayout,comboCombined:m.ComboCombinedLayout,random:i.RandomLayout,"gForce-gpu":g.GForceGPULayout,"fruchterman-gpu":p.FruchtermanGPULayout,er:b.ERLayout}},6647:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.MDSLayout=void 0;var o=n(1132),i=n(1784),a=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.linkDistance=50,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges,r=void 0===n?[]:n,o=e.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=o[0],t[0].y=o[1],void(e.onLayoutEnd&&e.onLayoutEnd());var a=e.linkDistance,s=(0,i.getAdjMatrix)({nodes:t,edges:r},!1),u=(0,i.floydWarshall)(s);e.handleInfinity(u);var c=(0,i.scaleMatrix)(u,a);e.scaledDistances=c;var l=e.runMDS();return e.positions=l,l.forEach((function(e,n){t[n].x=e[0]+o[0],t[n].y=e[1]+o[1]})),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:r}}e.onLayoutEnd&&e.onLayoutEnd()},t.prototype.runMDS=function(){var e=this.scaledDistances,t=o.Matrix.mul(o.Matrix.pow(e,2),-.5),n=t.mean("row"),r=t.mean("column"),i=t.mean();t.add(i).subRowVector(n).subColumnVector(r);var a=new o.SingularValueDecomposition(t),s=o.Matrix.sqrt(a.diagonalMatrix).diagonal();return a.leftSingularVectors.toJSON().map((function(e){return o.Matrix.mul([e],[s]).toJSON()[0].splice(0,2)}))},t.prototype.handleInfinity=function(e){var t=-999999;e.forEach((function(e){e.forEach((function(e){e!==1/0&&t<e&&(t=e)}))})),e.forEach((function(n,r){n.forEach((function(n,o){n===1/0&&(e[r][o]=t)}))}))},t.prototype.getType=function(){return"mds"},t}(n(4950).Base);t.MDSLayout=a},5374:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(9164),t)},6058:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1132),o=function(){function e(e){this.distances=e.distances,this.dimension=e.dimension||2,this.linkDistance=e.linkDistance}return e.prototype.layout=function(){var e=this,t=e.dimension,n=e.distances,o=e.linkDistance;try{var i=r.Matrix.mul(r.Matrix.pow(n,2),-.5),a=i.mean("row"),s=i.mean("column"),u=i.mean();i.add(u).subRowVector(a).subColumnVector(s);var c=new r.SingularValueDecomposition(i),l=r.Matrix.sqrt(c.diagonalMatrix).diagonal();return c.leftSingularVectors.toJSON().map((function(e){return r.Matrix.mul([e],[l]).toJSON()[0].splice(0,t)}))}catch(g){for(var f=[],d=0;d<n.length;d++){var h=Math.random()*o,p=Math.random()*o;f.push([h,p])}return f}},e}();t.default=o},9164:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RadialLayout=void 0;var i=n(1784),a=n(4950),s=o(n(6058)),u=o(n(7113));function c(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var l=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=1e3,n.focusNode=null,n.unitRadius=null,n.linkDistance=50,n.preventOverlap=!1,n.strictRadial=!0,n.maxPreventOverlapIteration=200,n.sortStrength=10,n.nodes=[],n.edges=[],n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges||[];if(t&&0!==t.length){e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]);var r=e.center;if(1===t.length)return t[0].x=r[0],t[0].y=r[1],void(e.onLayoutEnd&&e.onLayoutEnd());var o=e.linkDistance,a=null;if((0,i.isString)(e.focusNode)){for(var c=!1,l=0;l<t.length;l++)t[l].id===e.focusNode&&(a=t[l],e.focusNode=a,c=!0,l=t.length);c||(a=null)}else a=e.focusNode;a||(a=t[0],e.focusNode=a);var f=function(e,t){var n=-1;return e.forEach((function(e,r){e.id===t&&(n=r)})),n}(t,a.id);f<0&&(f=0),e.focusIndex=f;var d=(0,i.getAdjMatrix)({nodes:t,edges:n},!1),h=(0,i.floydWarshall)(d),p=e.maxToFocus(h,f);e.handleInfinity(h,f,p+1),e.distances=h;var g=h[f],v=e.width||500,m=e.height||500,y=v-r[0]>r[0]?r[0]:v-r[0],b=m-r[1]>r[1]?r[1]:m-r[1];0===y&&(y=v/2),0===b&&(b=m/2);var x=b>y?y:b,w=Math.max.apply(Math,g),E=[];g.forEach((function(t,n){e.unitRadius||(e.unitRadius=x/w),E[n]=t*e.unitRadius})),e.radii=E;var _=e.eIdealDisMatrix();e.eIdealDistances=_;var S=function(e){for(var t=e.length,n=e[0].length,r=[],o=0;o<t;o++){for(var i=[],a=0;a<n;a++)0!==e[o][a]?i.push(1/(e[o][a]*e[o][a])):i.push(0);r.push(i)}return r}(_);e.weights=S;var k=new s.default({linkDistance:o,distances:_}).layout();k.forEach((function(e){(0,i.isNaN)(e[0])&&(e[0]=Math.random()*o),(0,i.isNaN)(e[1])&&(e[1]=Math.random()*o)})),e.positions=k,k.forEach((function(e,n){t[n].x=e[0]+r[0],t[n].y=e[1]+r[1]})),k.forEach((function(e){e[0]-=k[f][0],e[1]-=k[f][1]})),e.run();var T,C=e.preventOverlap,M=e.nodeSize,N=e.strictRadial;if(C){var A,P=e.nodeSpacing;A=(0,i.isNumber)(P)?function(){return P}:(0,i.isFunction)(P)?P:function(){return 0},T=M?(0,i.isArray)(M)?function(e){return(M[0]>M[1]?M[0]:M[1])+A(e)}:function(e){return M+A(e)}:function(e){return e.size?(0,i.isArray)(e.size)?(e.size[0]>e.size[1]?e.size[0]:e.size[1])+A(e):(0,i.isObject)(e.size)?(e.size.width>e.size.height?e.size.width:e.size.height)+A(e):e.size+A(e):10+A(e)};var O={nodes:t,nodeSizeFunc:T,adjMatrix:d,positions:k,radii:E,height:m,width:v,strictRadial:N,focusID:f,iterations:e.maxPreventOverlapIteration||200,k:k.length/4.5},I=new u.default(O);k=I.layout()}return k.forEach((function(e,n){t[n].x=e[0]+r[0],t[n].y=e[1]+r[1]})),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n}}e.onLayoutEnd&&e.onLayoutEnd()},t.prototype.run=function(){for(var e=this,t=e.maxIteration,n=e.positions||[],r=e.weights||[],o=e.eIdealDistances||[],i=e.radii||[],a=0;a<=t;a++){var s=a/t;e.oneIteration(s,n,i,o,r)}},t.prototype.oneIteration=function(e,t,n,r,o){var i=1-e,a=this.focusIndex;t.forEach((function(s,u){var l=c(s,[0,0]),f=0===l?0:1/l;if(u!==a){var d=0,h=0,p=0;t.forEach((function(e,t){if(u!==t){var n=c(s,e),i=0===n?0:1/n,a=r[t][u];p+=o[u][t],d+=o[u][t]*(e[0]+a*(s[0]-e[0])*i),h+=o[u][t]*(e[1]+a*(s[1]-e[1])*i)}}));var g=0===n[u]?0:1/n[u];p*=i,p+=e*g*g,d*=i,d+=e*g*s[0]*f,s[0]=d/p,h*=i,h+=e*g*s[1]*f,s[1]=h/p}}))},t.prototype.eIdealDisMatrix=function(){var e=this,t=e.nodes;if(!t)return[];var n=e.distances,r=e.linkDistance,o=e.radii||[],a=e.unitRadius||50,s=[];return n&&n.forEach((function(n,u){var c=[];n.forEach((function(n,s){if(u===s)c.push(0);else if(o[u]===o[s])if("data"===e.sortBy)c.push(n*(Math.abs(u-s)*e.sortStrength)/(o[u]/a));else if(e.sortBy){var l=t[u][e.sortBy]||0,f=t[s][e.sortBy]||0;(0,i.isString)(l)&&(l=l.charCodeAt(0)),(0,i.isString)(f)&&(f=f.charCodeAt(0)),c.push(n*(Math.abs(l-f)*e.sortStrength)/(o[u]/a))}else c.push(n*r/(o[u]/a));else{var d=(r+a)/2;c.push(n*d)}})),s.push(c)})),s},t.prototype.handleInfinity=function(e,t,n){for(var r=e.length,o=0;o<r;o++)if(e[t][o]===1/0){e[t][o]=n,e[o][t]=n;for(var i=0;i<r;i++)e[o][i]!==1/0&&e[t][i]===1/0&&(e[t][i]=n+e[o][i],e[i][t]=n+e[o][i])}for(o=0;o<r;o++)if(o!==t)for(i=0;i<r;i++)if(e[o][i]===1/0){var a=Math.abs(e[t][o]-e[t][i]);a=0===a?1:a,e[o][i]=a}},t.prototype.maxToFocus=function(e,t){for(var n=0,r=0;r<e[t].length;r++)e[t][r]!==1/0&&(n=e[t][r]>n?e[t][r]:n);return n},t.prototype.getType=function(){return"radial"},t}(a.Base);t.RadialLayout=l},7113:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.disp=[],this.positions=e.positions,this.adjMatrix=e.adjMatrix,this.focusID=e.focusID,this.radii=e.radii,this.iterations=e.iterations||10,this.height=e.height||10,this.width=e.width||10,this.speed=e.speed||100,this.gravity=e.gravity||10,this.nodeSizeFunc=e.nodeSizeFunc,this.k=e.k||5,this.strictRadial=e.strictRadial,this.nodes=e.nodes}return e.prototype.layout=function(){var e=this,t=e.positions,n=[],r=e.iterations,o=e.width/10;e.maxDisplace=o,e.disp=n;for(var i=0;i<r;i++)t.forEach((function(e,t){n[t]={x:0,y:0}})),e.getRepulsion(),e.updatePositions();return t},e.prototype.getRepulsion=function(){var e=this,t=e.positions,n=e.nodes,r=e.disp,o=e.k,i=e.radii||[];t.forEach((function(a,s){r[s]={x:0,y:0},t.forEach((function(t,u){if(s!==u&&i[s]===i[u]){var c=a[0]-t[0],l=a[1]-t[1],f=Math.sqrt(c*c+l*l);if(0===f){f=1;var d=s>u?1:-1;c=.01*d,l=.01*d}if(f<e.nodeSizeFunc(n[s])/2+e.nodeSizeFunc(n[u])/2){var h=o*o/f;r[s].x+=c/f*h,r[s].y+=l/f*h}}}))}))},e.prototype.updatePositions=function(){var e=this,t=e.positions,n=e.disp,r=e.speed,o=e.strictRadial,i=e.focusID,a=e.maxDisplace||e.width/10;o&&n.forEach((function(e,n){var r=t[n][0]-t[i][0],o=t[n][1]-t[i][1],a=Math.sqrt(r*r+o*o),s=o/a,u=-r/a,c=Math.sqrt(e.x*e.x+e.y*e.y),l=Math.acos((s*e.x+u*e.y)/c);l>Math.PI/2&&(l-=Math.PI/2,s*=-1,u*=-1);var f=Math.cos(l)*c;e.x=s*f,e.y=u*f}));var s=e.radii;t.forEach((function(e,u){if(u!==i){var c=Math.sqrt(n[u].x*n[u].x+n[u].y*n[u].y);if(c>0&&u!==i){var l=Math.min(a*(r/800),c);if(e[0]+=n[u].x/c*l,e[1]+=n[u].y/c*l,o){var f=e[0]-t[i][0],d=e[1]-t[i][1],h=Math.sqrt(f*f+d*d);f=f/h*s[u],d=d/h*s[u],e[0]=t[i][0]+f,e[1]=t[i][1]+d}}}}))},e}();t.default=n},1831:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.RandomLayout=void 0;var o=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.width=300,n.height=300,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.center;return e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),t&&t.forEach((function(t){t.x=.9*(Math.random()-.5)*e.width+n[0],t.y=.9*(Math.random()-.5)*e.height+n[1]})),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:this.edges}},t.prototype.getType=function(){return"random"},t}(n(4950).Base);t.RandomLayout=o},2514:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8252:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.getLayoutByName=t.unRegisterLayout=t.registerLayout=void 0;var o=n(4950),i=n(1784),a=new Map;t.registerLayout=function(e,t){if(a.get(e)&&console.warn("The layout with the name "+e+" exists already, it will be overridden"),(0,i.isObject)(t)){var n=function(e){function n(n){var r=e.call(this)||this,o=r,i={},a=o.getDefaultCfg();return Object.assign(i,a,t,n),Object.keys(i).forEach((function(e){var t=i[e];o[e]=t})),r}return r(n,e),n}(o.Base);a.set(e,n)}else a.set(e,t);return a.get(e)};t.unRegisterLayout=function(e){a.has(e)&&a.delete(e)};t.getLayoutByName=function(e){return a.has(e)?a.get(e):null}},4229:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isArray=void 0,t.isArray=Array.isArray},3479:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFuncByUnknownType=t.getFunc=t.isFunction=void 0;var r=n(1784),o=n(6162);t.isFunction=function(e){return"function"===typeof e};t.getFunc=function(e,t,n){return n||((0,o.isNumber)(e)?function(){return e}:function(){return t})};t.getFuncByUnknownType=function(e,n,i){return void 0===i&&(i=!0),n||0===n?(0,t.isFunction)(n)?n:(0,o.isNumber)(n)?function(){return n}:(0,r.isArray)(n)?function(){if(i){var t=Math.max.apply(Math,n);return isNaN(t)?e:t}return n}:(0,r.isObject)(n)?function(){if(i){var t=Math.max(n.width,n.height);return isNaN(t)?e:t}return[n.width,n.height]}:function(){return e}:function(t){return t.size?(0,r.isArray)(t.size)?t.size[0]>t.size[1]?t.size[0]:t.size[1]:(0,r.isObject)(t.size)?t.size.width>t.size.height?t.size.width:t.size.height:t.size:e}}},7471:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayToTextureData=t.attributesToTextureData=t.buildTextureDataWithTwoEdgeAttr=t.buildTextureData=t.proccessToFunc=void 0;var r=n(1784),o=n(930);t.proccessToFunc=function(e,t){return e?(0,r.isNumber)(e)?function(){return e}:e:function(){return t||1}};t.buildTextureData=function(e,t){var n=[],r=[],i={},a=0;for(a=0;a<e.length;a++){var s=e[a];i[s.id]=a,n.push(s.x),n.push(s.y),n.push(0),n.push(0),r.push([])}for(a=0;a<t.length;a++){var u=t[a],c=(0,o.getEdgeTerminal)(u,"source"),l=(0,o.getEdgeTerminal)(u,"target");r[i[c]].push(i[l]),r[i[l]].push(i[c])}var f=0;for(a=0;a<e.length;a++){var d=n.length,h=r[a],p=h.length;n[4*a+2]=d,n[4*a+3]=h.length,f=Math.max(f,h.length);for(var g=0;g<p;++g){var v=h[g];n.push(+v)}}for(;n.length%4!==0;)n.push(0);return{maxEdgePerVetex:f,array:new Float32Array(n)}};t.buildTextureDataWithTwoEdgeAttr=function(e,t,n,r){var i=[],a=[],s={},u=0;for(u=0;u<e.length;u++){var c=e[u];s[c.id]=u,i.push(c.x),i.push(c.y),i.push(0),i.push(0),a.push([])}for(u=0;u<t.length;u++){var l=t[u],f=(0,o.getEdgeTerminal)(l,"source"),d=(0,o.getEdgeTerminal)(l,"target");a[s[f]].push(s[d]),a[s[f]].push(n(l)),a[s[f]].push(r(l)),a[s[f]].push(0),a[s[d]].push(s[f]),a[s[d]].push(n(l)),a[s[d]].push(r(l)),a[s[d]].push(0)}var h=0;for(u=0;u<e.length;u++){var p=i.length,g=a[u],v=g.length;i[4*u+2]=p+1048576*v/4,i[4*u+3]=0,h=Math.max(h,v/4);for(var m=0;m<v;++m){var y=g[m];i.push(+y)}}for(;i.length%4!==0;)i.push(0);return{maxEdgePerVetex:h,array:new Float32Array(i)}};t.attributesToTextureData=function(e,t){var n=[],r=e.length,o={};return t.forEach((function(t){e.forEach((function(e,i){if(void 0===o[t[e]]&&(o[t[e]]=Object.keys(o).length),n.push(o[t[e]]),i===r-1)for(;n.length%4!==0;)n.push(0)}))})),{array:new Float32Array(n),count:Object.keys(o).length}};t.arrayToTextureData=function(e){for(var t=[],n=e.length,r=e[0].length,o=function(r){e.forEach((function(e,o){if(t.push(e[r]),o===n-1)for(;t.length%4!==0;)t.push(0)}))},i=0;i<r;i++)o(i);return new Float32Array(t)}},1784:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(4426),t),o(n(4229),t),o(n(6162),t),o(n(930),t),o(n(3040),t),o(n(3479),t)},930:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findMinMaxNodeXY=t.traverseTreeUp=t.scaleMatrix=t.getAdjMatrix=t.floydWarshall=t.getDegree=t.getEdgeTerminal=void 0;var r=n(3040);t.getEdgeTerminal=function(e,t){var n=e[t];return(0,r.isObject)(n)?n.cell:n};t.getDegree=function(e,n,r){for(var o=[],i=0;i<e;i++)o[i]=0;return r?(r.forEach((function(e){var r=(0,t.getEdgeTerminal)(e,"source"),i=(0,t.getEdgeTerminal)(e,"target");r&&(o[n[r]]+=1),i&&(o[n[i]]+=1)})),o):o};t.floydWarshall=function(e){for(var t=[],n=e.length,r=0;r<n;r+=1){t[r]=[];for(var o=0;o<n;o+=1)r===o?t[r][o]=0:0!==e[r][o]&&e[r][o]?t[r][o]=e[r][o]:t[r][o]=1/0}for(var i=0;i<n;i+=1)for(r=0;r<n;r+=1)for(o=0;o<n;o+=1)t[r][o]>t[r][i]+t[i][o]&&(t[r][o]=t[r][i]+t[i][o]);return t};t.getAdjMatrix=function(e,n){var r=e.nodes,o=e.edges,i=[],a={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach((function(e,t){a[e.id]=t;i.push([])})),o&&o.forEach((function(e){var r=(0,t.getEdgeTerminal)(e,"source"),o=(0,t.getEdgeTerminal)(e,"target"),s=a[r],u=a[o];i[s][u]=1,n||(i[u][s]=1)})),i};t.scaleMatrix=function(e,t){var n=[];return e.forEach((function(e){var r=[];e.forEach((function(e){r.push(e*t)})),n.push(r)})),n};var o=function e(t,n){if(t&&t.children)for(var r=t.children.length-1;r>=0;r--)if(!e(t.children[r],n))return;return!!n(t)};t.traverseTreeUp=function(e,t){"function"===typeof t&&o(e,t)};t.findMinMaxNodeXY=function(e){var t=1/0,n=1/0,r=-1/0,o=-1/0;return e.forEach((function(e){t>e.x&&(t=e.x),n>e.y&&(n=e.y),r<e.x&&(r=e.x),o<e.y&&(o=e.y)})),{minX:t,minY:n,maxX:r,maxY:o}}},6162:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toNumber=t.isNaN=t.isNumber=void 0;t.isNumber=function(e){return"number"===typeof e};t.isNaN=function(e){return Number.isNaN(Number(e))};t.toNumber=function(e){var n=parseFloat(e);return(0,t.isNaN)(n)?e:n}},3040:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.clone=t.isObject=void 0;t.isObject=function(e){return null!==e&&"object"===typeof e};t.clone=function(e){if(null===e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof Array){var r=[];return e.forEach((function(e){r.push(e)})),r.map((function(e){return(0,t.clone)(e)}))}if("object"===typeof e&&e!=={}){var o=n({},e);return Object.keys(o).forEach((function(e){o[e]=(0,t.clone)(o[e])})),o}return e}},4426:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelize=t.isString=void 0;t.isString=function(e){return"string"===typeof e};var n=/-(\w)/g;t.camelize=function(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}((function(e){return e.replace(n,(function(e,t){return t?t.toUpperCase():""}))}))},8092:function(e,t,n){"use strict";n.r(t),n.d(t,{Cache:function(){return _t},assign:function(){return Ze},augment:function(){return Ye},clamp:function(){return ee},clearAnimationFrame:function(){return Ue},clone:function(){return He},contains:function(){return o},debounce:function(){return Xe},deepMix:function(){return $e},difference:function(){return a},each:function(){return h},endsWith:function(){return V},every:function(){return U},extend:function(){return Je},filter:function(){return i},find:function(){return y},findIndex:function(){return b},firstValue:function(){return x},fixedBase:function(){return te},flatten:function(){return w},flattenDeep:function(){return E},forIn:function(){return ye},get:function(){return st},getEllipsisText:function(){return Et},getRange:function(){return k},getType:function(){return Ae},getWrapBehavior:function(){return K},group:function(){return X},groupBy:function(){return Y},groupToMap:function(){return H},has:function(){return be},hasKey:function(){return xe},hasValue:function(){return Ee},head:function(){return B},identity:function(){return mt},includes:function(){return o},indexOf:function(){return Qe},isArguments:function(){return Pe},isArray:function(){return f},isArrayLike:function(){return r},isBoolean:function(){return Oe},isDate:function(){return Ie},isDecimal:function(){return re},isElement:function(){return Ge},isEmpty:function(){return tt},isEqual:function(){return nt},isEqualWith:function(){return rt},isError:function(){return De},isEven:function(){return oe},isFinite:function(){return Re},isFunction:function(){return c},isInteger:function(){return ie},isMatch:function(){return g},isNegative:function(){return ae},isNil:function(){return l},isNull:function(){return Le},isNumber:function(){return ne},isNumberEqual:function(){return se},isObject:function(){return d},isObjectLike:function(){return v},isOdd:function(){return ue},isPlainObject:function(){return m},isPositive:function(){return ce},isPrototype:function(){return Fe},isRegExp:function(){return Be},isString:function(){return D},isType:function(){return u},isUndefined:function(){return ze},keys:function(){return p},last:function(){return z},lowerCase:function(){return Se},lowerFirst:function(){return ke},map:function(){return ot},mapValues:function(){return at},max:function(){return _},maxBy:function(){return le},measureTextWidth:function(){return wt},memoize:function(){return Ke},min:function(){return S},minBy:function(){return fe},mix:function(){return Ze},mod:function(){return de},noop:function(){return vt},number2color:function(){return J},omit:function(){return ft},parseRadius:function(){return Q},pick:function(){return lt},pull:function(){return N},pullAt:function(){return P},reduce:function(){return O},remove:function(){return I},requestAnimationFrame:function(){return Ve},set:function(){return ut},size:function(){return yt},some:function(){return W},sortBy:function(){return R},startsWith:function(){return G},substitute:function(){return Te},throttle:function(){return dt},toArray:function(){return ht},toDegree:function(){return pe},toInteger:function(){return ge},toRadian:function(){return me},toString:function(){return _e},union:function(){return j},uniq:function(){return L},uniqueId:function(){return gt},upperCase:function(){return Ce},upperFirst:function(){return Me},values:function(){return we},valuesOfKey:function(){return F},wrapBehavior:function(){return q}});var r=function(e){return null!==e&&"function"!==typeof e&&isFinite(e.length)},o=function(e,t){return!!r(e)&&e.indexOf(t)>-1},i=function(e,t){if(!r(e))return e;for(var n=[],o=0;o<e.length;o++){var i=e[o];t(i,o)&&n.push(i)}return n},a=function(e,t){return void 0===t&&(t=[]),i(e,(function(e){return!o(t,e)}))},s={}.toString,u=function(e,t){return s.call(e)==="[object "+t+"]"},c=function(e){return u(e,"Function")},l=function(e){return null===e||void 0===e},f=function(e){return Array.isArray?Array.isArray(e):u(e,"Array")},d=function(e){var t=typeof e;return null!==e&&"object"===t||"function"===t};var h=function(e,t){if(e)if(f(e))for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);else if(d(e))for(var o in e)if(e.hasOwnProperty(o)&&!1===t(e[o],o))break},p=Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];return h(e,(function(n,r){c(e)&&"prototype"===r||t.push(r)})),t};var g=function(e,t){var n=p(t),r=n.length;if(l(e))return!r;for(var o=0;o<r;o+=1){var i=n[o];if(t[i]!==e[i]||!(i in e))return!1}return!0},v=function(e){return"object"===typeof e&&null!==e},m=function(e){if(!v(e)||!u(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};var y=function(e,t){if(!f(e))return null;var n;if(c(t)&&(n=t),m(t)&&(n=function(e){return g(e,t)}),n)for(var r=0;r<e.length;r+=1)if(n(e[r]))return e[r];return null};var b=function(e,t,n){void 0===n&&(n=0);for(var r=n;r<e.length;r++)if(t(e[r],r))return r;return-1},x=function(e,t){for(var n=null,r=0;r<e.length;r++){var o=e[r][t];if(!l(o)){n=f(o)?o[0]:o;break}}return n},w=function(e){if(!f(e))return[];for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);return t},E=function e(t,n){if(void 0===n&&(n=[]),f(t))for(var r=0;r<t.length;r+=1)e(t[r],n);else n.push(t);return n},_=function(e){if(f(e))return e.reduce((function(e,t){return Math.max(e,t)}),e[0])},S=function(e){if(f(e))return e.reduce((function(e,t){return Math.min(e,t)}),e[0])},k=function(e){var t=e.filter((function(e){return!isNaN(e)}));if(!t.length)return{min:0,max:0};if(f(e[0])){for(var n=[],r=0;r<e.length;r++)n=n.concat(e[r]);t=n}var o=_(t);return{min:S(t),max:o}},T=Array.prototype,C=T.splice,M=T.indexOf,N=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var o=t[r],i=-1;(i=M.call(e,o))>-1;)C.call(e,i,1);return e},A=Array.prototype.splice,P=function(e,t){if(!r(e))return[];for(var n=e?t.length:0,o=n-1;n--;){var i=void 0,a=t[n];n!==o&&a===i||(i=a,A.call(e,a,1))}return e},O=function(e,t,n){if(!f(e)&&!m(e))return e;var r=n;return h(e,(function(e,n){r=t(r,e,n)})),r},I=function(e,t){var n=[];if(!r(e))return n;for(var o=-1,i=[],a=e.length;++o<a;){var s=e[o];t(s,o,e)&&(n.push(s),i.push(o))}return P(e,i),n},D=function(e){return u(e,"String")};var R=function(e,t){var n;if(c(t))n=function(e,n){return t(e)-t(n)};else{var r=[];D(t)?r.push(t):f(t)&&(r=t),n=function(e,t){for(var n=0;n<r.length;n+=1){var o=r[n];if(e[o]>t[o])return 1;if(e[o]<t[o])return-1}return 0}}return e.sort(n),e};function L(e,t){void 0===t&&(t=new Map);var n=[];if(Array.isArray(e))for(var r=0,o=e.length;r<o;r++){var i=e[r];t.has(i)||(n.push(i),t.set(i,!0))}return n}var j=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return L([].concat.apply([],e))},F=function(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o][t];if(!l(i)){f(i)||(i=[i]);for(var a=0;a<i.length;a++){var s=i[a];r[s]||(n.push(s),r[s]=!0)}}}return n};function B(e){if(r(e))return e[0]}function z(e){if(r(e)){return e[e.length-1]}}var G=function(e,t){return!(!f(e)&&!D(e))&&e[0]===t};var V=function(e,t){return!(!f(e)&&!D(e))&&e[e.length-1]===t},U=function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0},W=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n))return!0;return!1},Z=Object.prototype.hasOwnProperty;var Y=function(e,t){if(!t||!f(e))return{};for(var n,r={},o=c(t)?t:function(e){return e[t]},i=0;i<e.length;i++){var a=e[i];n=o(a),Z.call(r,n)?r[n].push(a):r[n]=[a]}return r};function H(e,t){if(!t)return{0:e};if(!c(t)){var n=f(t)?t:t.replace(/\s+/g,"").split("*");t=function(e){for(var t="_",r=0,o=n.length;r<o;r++)t+=e[n[r]]&&e[n[r]].toString();return t}}return Y(e,t)}var X=function(e,t){if(!t)return[e];var n=H(e,t),r=[];for(var o in n)r.push(n[o]);return r};var K=function(e,t){return e["_wrap_"+t]};var q=function(e,t){if(e["_wrap_"+t])return e["_wrap_"+t];var n=function(n){e[t](n)};return e["_wrap_"+t]=n,n},$={};var J=function(e){var t=$[e];if(!t){for(var n=e.toString(16),r=n.length;r<6;r++)n="0"+n;t="#"+n,$[e]=t}return t};var Q=function(e){var t=0,n=0,r=0,o=0;return f(e)?1===e.length?t=n=r=o=e[0]:2===e.length?(t=r=e[0],n=o=e[1]):3===e.length?(t=e[0],n=o=e[1],r=e[2]):(t=e[0],n=e[1],r=e[2],o=e[3]):t=n=r=o=e,{r1:t,r2:n,r3:r,r4:o}},ee=function(e,t,n){return e<t?t:e>n?n:e},te=function(e,t){var n=t.toString(),r=n.indexOf(".");if(-1===r)return Math.round(e);var o=n.substr(r+1).length;return o>20&&(o=20),parseFloat(e.toFixed(o))},ne=function(e){return u(e,"Number")},re=function(e){return ne(e)&&e%1!==0},oe=function(e){return ne(e)&&e%2===0},ie=Number.isInteger?Number.isInteger:function(e){return ne(e)&&e%1===0},ae=function(e){return ne(e)&&e<0};function se(e,t,n){return void 0===n&&(n=1e-5),Math.abs(e-t)<n}var ue=function(e){return ne(e)&&e%2!==0},ce=function(e){return ne(e)&&e>0},le=function(e,t){if(f(e)){for(var n,r=-1/0,o=0;o<e.length;o++){var i=e[o],a=c(t)?t(i):i[t];a>r&&(n=i,r=a)}return n}},fe=function(e,t){if(f(e)){for(var n,r=1/0,o=0;o<e.length;o++){var i=e[o],a=c(t)?t(i):i[t];a<r&&(n=i,r=a)}return n}},de=function(e,t){return(e%t+t)%t},he=180/Math.PI,pe=function(e){return he*e},ge=parseInt,ve=Math.PI/180,me=function(e){return ve*e},ye=h,be=function(e,t){return e.hasOwnProperty(t)},xe=be,we=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return h(e,(function(n,r){c(e)&&"prototype"===r||t.push(n)})),t},Ee=function(e,t){return o(we(e),t)},_e=function(e){return l(e)?"":e.toString()},Se=function(e){return _e(e).toLowerCase()},ke=function(e){var t=_e(e);return t.charAt(0).toLowerCase()+t.substring(1)};var Te=function(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,(function(e,n){return"\\"===e.charAt(0)?e.slice(1):void 0===t[n]?"":t[n]})):e},Ce=function(e){return _e(e).toUpperCase()},Me=function(e){var t=_e(e);return t.charAt(0).toUpperCase()+t.substring(1)},Ne={}.toString,Ae=function(e){return Ne.call(e).replace(/^\[object /,"").replace(/]$/,"")},Pe=function(e){return u(e,"Arguments")},Oe=function(e){return u(e,"Boolean")},Ie=function(e){return u(e,"Date")},De=function(e){return u(e,"Error")};function Re(e){return ne(e)&&isFinite(e)}var Le=function(e){return null===e},je=Object.prototype,Fe=function(e){var t=e&&e.constructor;return e===("function"===typeof t&&t.prototype||je)},Be=function(e){return u(e,"RegExp")},ze=function(e){return void 0===e},Ge=function(e){return e instanceof Element||e instanceof HTMLDocument};function Ve(e){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,16)})(e)}function Ue(e){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(e)}function We(e,t){for(var n in t)t.hasOwnProperty(n)&&"constructor"!==n&&void 0!==t[n]&&(e[n]=t[n])}function Ze(e,t,n,r){return t&&We(e,t),n&&We(e,n),r&&We(e,r),e}var Ye=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e[0],r=1;r<e.length;r++){var o=e[r];c(o)&&(o=o.prototype),Ze(n.prototype,o)}},He=function e(t){if("object"!==typeof t||null===t)return t;var n;if(f(t)){n=[];for(var r=0,o=t.length;r<o;r++)"object"===typeof t[r]&&null!=t[r]?n[r]=e(t[r]):n[r]=t[r]}else for(var i in n={},t)"object"===typeof t[i]&&null!=t[i]?n[i]=e(t[i]):n[i]=t[i];return n};var Xe=function(e,t,n){var r;return function(){var o=this,i=arguments,a=function(){r=null,n||e.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(o,i)}},Ke=function(e,t){if(!c(e))throw new TypeError("Expected a function");var n=function n(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=e.apply(this,r);return a.set(i,s),s};return n.cache=new Map,n};function qe(e,t,n,r){for(var o in n=n||0,r=r||5,t)if(t.hasOwnProperty(o)){var i=t[o];null!==i&&m(i)?(m(e[o])||(e[o]={}),n<r?qe(e[o],i,n+1,r):e[o]=t[o]):f(i)?(e[o]=[],e[o]=e[o].concat(i)):void 0!==i&&(e[o]=i)}}var $e=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)qe(e,t[r]);return e},Je=function(e,t,n,r){c(t)||(n=t,t=e,e=function(){});var o=Object.create?function(e,t){return Object.create(e,{constructor:{value:t}})}:function(e,t){function n(){}n.prototype=e;var r=new n;return r.constructor=t,r},i=o(t.prototype,e);return e.prototype=Ze(i,e.prototype),e.superclass=o(t.prototype,t),Ze(i,n),Ze(e,r),e},Qe=function(e,t){if(!r(e))return-1;var n=Array.prototype.indexOf;if(n)return n.call(e,t);for(var o=-1,i=0;i<e.length;i++)if(e[i]===t){o=i;break}return o},et=Object.prototype.hasOwnProperty;var tt=function(e){if(l(e))return!0;if(r(e))return!e.length;var t=Ae(e);if("Map"===t||"Set"===t)return!e.size;if(Fe(e))return!Object.keys(e).length;for(var n in e)if(et.call(e,n))return!1;return!0},nt=function e(t,n){if(t===n)return!0;if(!t||!n)return!1;if(D(t)||D(n))return!1;if(r(t)||r(n)){if(t.length!==n.length)return!1;for(var o=!0,i=0;i<t.length&&(o=e(t[i],n[i]));i++);return o}if(v(t)||v(n)){var a=Object.keys(t),s=Object.keys(n);if(a.length!==s.length)return!1;for(o=!0,i=0;i<a.length&&(o=e(t[a[i]],n[a[i]]));i++);return o}return!1},rt=function(e,t,n){return c(n)?!!n(e,t):nt(e,t)},ot=function(e,t){if(!r(e))return e;for(var n=[],o=0;o<e.length;o++){var i=e[o];n.push(t(i,o))}return n},it=function(e){return e},at=function(e,t){void 0===t&&(t=it);var n={};return d(e)&&!l(e)&&Object.keys(e).forEach((function(r){n[r]=t(e[r],r)})),n},st=function(e,t,n){for(var r=0,o=D(t)?t.split("."):t;e&&r<o.length;)e=e[o[r++]];return void 0===e||r<o.length?n:e},ut=function(e,t,n){var r=e,o=D(t)?t.split("."):t;return o.forEach((function(e,t){t<o.length-1?(d(r[e])||(r[e]=ne(o[t+1])?[]:{}),r=r[e]):r[e]=n})),e},ct=Object.prototype.hasOwnProperty,lt=function(e,t){if(null===e||!m(e))return{};var n={};return h(t,(function(t){ct.call(e,t)&&(n[t]=e[t])})),n},ft=function(e,t){return O(e,(function(e,n,r){return t.includes(r)||(e[r]=n),e}),{})},dt=function(e,t,n){var r,o,i,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),r=null,a=e.apply(o,i),r||(o=i=null)},c=function(){var c=Date.now();s||!1!==n.leading||(s=c);var l=t-(c-s);return o=this,i=arguments,l<=0||l>t?(r&&(clearTimeout(r),r=null),s=c,a=e.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=setTimeout(u,l)),a};return c.cancel=function(){clearTimeout(r),s=0,r=o=i=null},c},ht=function(e){return r(e)?Array.prototype.slice.call(e):[]},pt={},gt=function(e){return pt[e=e||"g"]?pt[e]+=1:pt[e]=1,e+pt[e]},vt=function(){},mt=function(e){return e};function yt(e){return l(e)?0:r(e)?e.length:Object.keys(e).length}var bt,xt=n(9388),wt=Ke((function(e,t){void 0===t&&(t={});var n=t.fontSize,r=t.fontFamily,o=t.fontWeight,i=t.fontStyle,a=t.fontVariant;return bt||(bt=document.createElement("canvas").getContext("2d")),bt.font=[i,a,o,n+"px",r].join(" "),bt.measureText(D(e)?e:"").width}),(function(e,t){return void 0===t&&(t={}),(0,xt.__spreadArrays)([e],we(t)).join("")})),Et=function(e,t,n,r){void 0===r&&(r="...");var o,i,a=wt(r,n),s=D(e)?e:_e(e),u=t,c=[];if(wt(e,n)<=t)return e;for(;o=s.substr(0,16),!((i=wt(o,n))+a>u&&i>u);)if(c.push(o),u-=i,!(s=s.substr(16)))return c.join("");for(;o=s.substr(0,1),!((i=wt(o,n))+a>u);)if(c.push(o),u-=i,!(s=s.substr(1)))return c.join("");return""+c.join("")+r},_t=function(){function e(){this.map={}}return e.prototype.has=function(e){return void 0!==this.map[e]},e.prototype.get=function(e,t){var n=this.map[e];return void 0===n?t:n},e.prototype.set=function(e,t){this.map[e]=t},e.prototype.clear=function(){this.map={}},e.prototype.delete=function(e){delete this.map[e]},e.prototype.size=function(){return Object.keys(this.map).length},e}()},3915:function(e,t,n){var r=n(6149);e.exports={Graph:r.Graph,json:n(9071),alg:n(3959),version:r.version}},2936:function(e,t,n){var r=n(2783);e.exports=function(e){var t,n={},o=[];function i(o){r.has(n,o)||(n[o]=!0,t.push(o),r.each(e.successors(o),i),r.each(e.predecessors(o),i))}return r.each(e.nodes(),(function(e){t=[],i(e),t.length&&o.push(t)})),o}},4270:function(e,t,n){var r=n(2783);function o(e,t,n,i,a,s){r.has(i,t)||(i[t]=!0,n||s.push(t),r.each(a(t),(function(t){o(e,t,n,i,a,s)})),n&&s.push(t))}e.exports=function(e,t,n){r.isArray(t)||(t=[t]);var i=(e.isDirected()?e.successors:e.neighbors).bind(e),a=[],s={};return r.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);o(e,t,"post"===n,s,i,a)})),a}},8869:function(e,t,n){var r=n(1787),o=n(2783);e.exports=function(e,t,n){return o.transform(e.nodes(),(function(o,i){o[i]=r(e,i,t,n)}),{})}},1787:function(e,t,n){var r=n(2783),o=n(148);e.exports=function(e,t,n,r){return function(e,t,n,r){var i,a,s={},u=new o,c=function(e){var t=e.v!==i?e.v:e.w,r=s[t],o=n(e),c=a.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+o);c<r.distance&&(r.distance=c,r.predecessor=i,u.decrease(t,c))};e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;s[e]={distance:n},u.add(e,n)}));for(;u.size()>0&&(i=u.removeMin(),(a=s[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(c);return s}(e,String(t),n||i,r||function(t){return e.outEdges(t)})};var i=r.constant(1)},2219:function(e,t,n){var r=n(2783),o=n(7181);e.exports=function(e){return r.filter(o(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))}},4035:function(e,t,n){var r=n(2783);e.exports=function(e,t,n){return function(e,t,n){var r={},o=e.nodes();return o.forEach((function(e){r[e]={},r[e][e]={distance:0},o.forEach((function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var o=n.v===e?n.w:n.v,i=t(n);r[e][o]={distance:i,predecessor:e}}))})),o.forEach((function(e){var t=r[e];o.forEach((function(n){var i=r[n];o.forEach((function(n){var r=i[e],o=t[n],a=i[n],s=r.distance+o.distance;s<a.distance&&(a.distance=s,a.predecessor=o.predecessor)}))}))})),r}(e,t||o,n||function(t){return e.outEdges(t)})};var o=r.constant(1)},3959:function(e,t,n){e.exports={components:n(2936),dijkstra:n(1787),dijkstraAll:n(8869),findCycles:n(2219),floydWarshall:n(4035),isAcyclic:n(3714),postorder:n(4945),preorder:n(3098),prim:n(5074),tarjan:n(7181),topsort:n(2980)}},3714:function(e,t,n){var r=n(2980);e.exports=function(e){try{r(e)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},4945:function(e,t,n){var r=n(4270);e.exports=function(e,t){return r(e,t,"post")}},3098:function(e,t,n){var r=n(4270);e.exports=function(e,t){return r(e,t,"pre")}},5074:function(e,t,n){var r=n(2783),o=n(317),i=n(148);e.exports=function(e,t){var n,a=new o,s={},u=new i;function c(e){var r=e.v===n?e.w:e.v,o=u.priority(r);if(void 0!==o){var i=t(e);i<o&&(s[r]=n,u.decrease(r,i))}}if(0===e.nodeCount())return a;r.each(e.nodes(),(function(e){u.add(e,Number.POSITIVE_INFINITY),a.setNode(e)})),u.decrease(e.nodes()[0],0);var l=!1;for(;u.size()>0;){if(n=u.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else{if(l)throw new Error("Input graph is not connected: "+e);l=!0}e.nodeEdges(n).forEach(c)}return a}},7181:function(e,t,n){var r=n(2783);e.exports=function(e){var t=0,n=[],o={},i=[];function a(s){var u=o[s]={onStack:!0,lowlink:t,index:t++};if(n.push(s),e.successors(s).forEach((function(e){r.has(o,e)?o[e].onStack&&(u.lowlink=Math.min(u.lowlink,o[e].index)):(a(e),u.lowlink=Math.min(u.lowlink,o[e].lowlink))})),u.lowlink===u.index){var c,l=[];do{c=n.pop(),o[c].onStack=!1,l.push(c)}while(s!==c);i.push(l)}}return e.nodes().forEach((function(e){r.has(o,e)||a(e)})),i}},2980:function(e,t,n){var r=n(2783);function o(e){var t={},n={},o=[];if(r.each(e.sinks(),(function a(s){if(r.has(n,s))throw new i;r.has(t,s)||(n[s]=!0,t[s]=!0,r.each(e.predecessors(s),a),delete n[s],o.push(s))})),r.size(t)!==e.nodeCount())throw new i;return o}function i(){}e.exports=o,o.CycleException=i},148:function(e,t,n){var r=n(2783);function o(){this._arr=[],this._keyIndices={}}e.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},o.prototype.has=function(e){return r.has(this._keyIndices,e)},o.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},o.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!r.has(n,e)){var o=this._arr,i=o.length;return n[e]=i,o.push({key:e,priority:t}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},o.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},o.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,o=e;n<t.length&&(o=t[n].priority<t[o].priority?n:o,r<t.length&&(o=t[r].priority<t[o].priority?r:o),o!==e&&(this._swap(e,o),this._heapify(o)))},o.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},o.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,o=n[e],i=n[t];n[e]=i,n[t]=o,r[i.key]=e,r[o.key]=t}},317:function(e,t,n){"use strict";var r=n(2783);e.exports=i;var o="\0";function i(e){this._isDirected=!r.has(e,"directed")||e.directed,this._isMultigraph=!!r.has(e,"multigraph")&&e.multigraph,this._isCompound=!!r.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(e,t){e[t]?e[t]++:e[t]=1}function s(e,t){--e[t]||delete e[t]}function u(e,t,n,o){var i=""+t,a=""+n;if(!e&&i>a){var s=i;i=a,a=s}return i+"\x01"+a+"\x01"+(r.isUndefined(o)?"\0":o)}function c(e,t,n,r){var o=""+t,i=""+n;if(!e&&o>i){var a=o;o=i,i=a}var s={v:o,w:i};return r&&(s.name=r),s}function l(e,t){return u(e,t.v,t.w,t.name)}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(e){return this._label=e,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultNodeLabelFn=e,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return r.keys(this._nodes)},i.prototype.sources=function(){return r.filter(this.nodes(),r.bind((function(e){return r.isEmpty(this._in[e])}),this))},i.prototype.sinks=function(){return r.filter(this.nodes(),r.bind((function(e){return r.isEmpty(this._out[e])}),this))},i.prototype.setNodes=function(e,t){var n=arguments;return r.each(e,r.bind((function(e){n.length>1?this.setNode(e,t):this.setNode(e)}),this)),this},i.prototype.setNode=function(e,t){return r.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=o,this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},i.prototype.node=function(e){return this._nodes[e]},i.prototype.hasNode=function(e){return r.has(this._nodes,e)},i.prototype.removeNode=function(e){var t=this;if(r.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],r.each(this.children(e),r.bind((function(e){this.setParent(e)}),this)),delete this._children[e]),r.each(r.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],r.each(r.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},i.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(t))t=o;else{for(var n=t+="";!r.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},i.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},i.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==o)return t}},i.prototype.children=function(e){if(r.isUndefined(e)&&(e=o),this._isCompound){var t=this._children[e];if(t)return r.keys(t)}else{if(e===o)return this.nodes();if(this.hasNode(e))return[]}},i.prototype.predecessors=function(e){var t=this._preds[e];if(t)return r.keys(t)},i.prototype.successors=function(e){var t=this._sucs[e];if(t)return r.keys(t)},i.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return r.union(t,this.successors(e))},i.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},i.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph()),r.each(this._nodes,r.bind((function(n,r){e(r)&&t.setNode(r,n)}),this)),r.each(this._edgeObjs,r.bind((function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,this.edge(e))}),this));var n=this,o={};function i(e){var r=n.parent(e);return void 0===r||t.hasNode(r)?(o[e]=r,r):r in o?o[r]:i(r)}return this._isCompound&&r.each(t.nodes(),(function(e){t.setParent(e,i(e))})),t},i.prototype.setDefaultEdgeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultEdgeLabelFn=e,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return r.values(this._edgeObjs)},i.prototype.setPath=function(e,t){var n=this,o=arguments;return r.reduce(e,(function(e,r){return o.length>1?n.setEdge(e,r,t):n.setEdge(e,r),r})),this},i.prototype.setEdge=function(){var e,t,n,o,i=!1,s=arguments[0];"object"===typeof s&&null!==s&&"v"in s?(e=s.v,t=s.w,n=s.name,2===arguments.length&&(o=arguments[1],i=!0)):(e=s,t=arguments[1],n=arguments[3],arguments.length>2&&(o=arguments[2],i=!0)),e=""+e,t=""+t,r.isUndefined(n)||(n=""+n);var l=u(this._isDirected,e,t,n);if(r.has(this._edgeLabels,l))return i&&(this._edgeLabels[l]=o),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[l]=i?o:this._defaultEdgeLabelFn(e,t,n);var f=c(this._isDirected,e,t,n);return e=f.v,t=f.w,Object.freeze(f),this._edgeObjs[l]=f,a(this._preds[t],e),a(this._sucs[e],t),this._in[t][l]=f,this._out[e][l]=f,this._edgeCount++,this},i.prototype.edge=function(e,t,n){var r=1===arguments.length?l(this._isDirected,arguments[0]):u(this._isDirected,e,t,n);return this._edgeLabels[r]},i.prototype.hasEdge=function(e,t,n){var o=1===arguments.length?l(this._isDirected,arguments[0]):u(this._isDirected,e,t,n);return r.has(this._edgeLabels,o)},i.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?l(this._isDirected,arguments[0]):u(this._isDirected,e,t,n),o=this._edgeObjs[r];return o&&(e=o.v,t=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],s(this._preds[t],e),s(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},i.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var o=r.values(n);return t?r.filter(o,(function(e){return e.v===t})):o}},i.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var o=r.values(n);return t?r.filter(o,(function(e){return e.w===t})):o}},i.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},6149:function(e,t,n){e.exports={Graph:n(317),version:n(8931)}},9071:function(e,t,n){var r=n(2783),o=n(317);function i(e){return r.map(e.nodes(),(function(t){var n=e.node(t),o=e.parent(t),i={v:t};return r.isUndefined(n)||(i.value=n),r.isUndefined(o)||(i.parent=o),i}))}function a(e){return r.map(e.edges(),(function(t){var n=e.edge(t),o={v:t.v,w:t.w};return r.isUndefined(t.name)||(o.name=t.name),r.isUndefined(n)||(o.value=n),o}))}e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:i(e),edges:a(e)};r.isUndefined(e.graph())||(t.value=r.clone(e.graph()));return t},read:function(e){var t=new o(e.options).setGraph(e.value);return r.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),r.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}}},2783:function(e,t,n){var r;try{r=n(763)}catch(o){}r||(r=window._),e.exports=r},8931:function(e){e.exports="2.1.4"},5511:function(e,t){"use strict";(function(e){e.TextureCompressionBC="texture-compression-bc"})(t.UX||(t.UX={})),function(e){e.ClampToEdge="clamp-to-edge",e.Repeat="repeat",e.MirrorRepeat="mirror-repeat"}(t.OB||(t.OB={})),function(e){e.UniformBuffer="uniform-buffer",e.StorageBuffer="storage-buffer",e.ReadonlyStorageBuffer="readonly-storage-buffer",e.Sampler="sampler",e.ComparisonSampler="comparison-sampler",e.SampledTexture="sampled-texture",e.ReadonlyStorageTexture="readonly-storage-texture",e.WriteonlyStorageTexture="writeonly-storage-texture"}(t.$l||(t.$l={})),function(e){e.Zero="zero",e.One="one",e.SrcColor="src-color",e.OneMinusSrcColor="one-minus-src-color",e.SrcAlpha="src-alpha",e.OneMinusSrcAlpha="one-minus-src-alpha",e.DstColor="dst-color",e.OneMinusDstColor="one-minus-dst-color",e.DstAlpha="dst-alpha",e.OneMinusDstAlpha="one-minus-dst-alpha",e.SrcAlphaSaturated="src-alpha-saturated",e.BlendColor="blend-color",e.OneMinusBlendColor="one-minus-blend-color"}(t.zi||(t.zi={})),function(e){e.Add="add",e.Subtract="subtract",e.ReverseSubtract="reverse-subtract",e.Min="min",e.Max="max"}(t.db||(t.db={})),function(e){e.Never="never",e.Less="less",e.Equal="equal",e.LessEqual="less-equal",e.Greater="greater",e.NotEqual="not-equal",e.GreaterEqual="greater-equal",e.Always="always"}(t.wb||(t.wb={})),function(e){e.None="none",e.Front="front",e.Back="back"}(t.Wf||(t.Wf={})),function(e){e.Nearest="nearest",e.Linear="linear"}(t.X9||(t.X9={})),function(e){e.CCW="ccw",e.CW="cw"}(t.zX||(t.zX={})),function(e){e.Uint16="uint16",e.Uint32="uint32"}(t.iD||(t.iD={})),function(e){e.Vertex="vertex",e.Instance="instance"}(t.V||(t.V={})),function(e){e.Load="load"}(t.Ws||(t.Ws={})),function(e){e.PointList="point-list",e.LineList="line-list",e.LineStrip="line-strip",e.TriangleList="triangle-list",e.TriangleStrip="triangle-strip"}(t.YV||(t.YV={})),function(e){e.Keep="keep",e.Zero="zero",e.Replace="replace",e.Invert="invert",e.IncrementClamp="increment-clamp",e.DecrementClamp="decrement-clamp",e.IncrementWrap="increment-wrap",e.DecrementWrap="decrement-wrap"}(t.xS||(t.xS={})),function(e){e.Store="store",e.Clear="clear"}(t.EG||(t.EG={})),function(e){e.E1d="1d",e.E2d="2d",e.E3d="3d"}(t.kd||(t.kd={})),function(e){e.R8Unorm="r8unorm",e.R8Snorm="r8snorm",e.R8Uint="r8uint",e.R8Sint="r8sint",e.R16Uint="r16uint",e.R16Sint="r16sint",e.R16Float="r16float",e.RG8Unorm="rg8unorm",e.RG8Snorm="rg8snorm",e.RG8Uint="rg8uint",e.RG8Sint="rg8sint",e.R32Uint="r32uint",e.R32Sint="r32sint",e.R32Float="r32float",e.RG16Uint="rg16uint",e.RG16Sint="rg16sint",e.RG16Float="rg16float",e.RGBA8Unorm="rgba8unorm",e.RGBA8UnormSRGB="rgba8unorm-srgb",e.RGBA8Snorm="rgba8snorm",e.RGBA8Uint="rgba8uint",e.RGBA8Sint="rgba8sint",e.BGRA8Unorm="bgra8unorm",e.BGRA8UnormSRGB="bgra8unorm-srgb",e.RGB10A2Unorm="rgb10a2unorm",e.RG11B10Float="rg11b10float",e.RG32Uint="rg32uint",e.RG32Sint="rg32sint",e.RG32Float="rg32float",e.RGBA16Uint="rgba16uint",e.RGBA16Sint="rgba16sint",e.RGBA16Float="rgba16float",e.RGBA32Uint="rgba32uint",e.RGBA32Sint="rgba32sint",e.RGBA32Float="rgba32float",e.Depth32Float="depth32float",e.Depth24Plus="depth24plus",e.Depth24PlusStencil8="depth24plus-stencil8"}(t.EV||(t.EV={})),function(e){e.Float="float",e.Sint="sint",e.Uint="uint"}(t.Ek||(t.Ek={})),function(e){e.E1d="1d",e.E2d="2d",e.E2dArray="2d-array",e.Cube="cube",e.CubeArray="cube-array",e.E3d="3d"}(t.p_||(t.p_={})),function(e){e.Uchar2="uchar2",e.Uchar4="uchar4",e.Char2="char2",e.Char4="char4",e.Uchar2Norm="uchar2norm",e.Uchar4Norm="uchar4norm",e.Char2Norm="char2norm",e.Char4Norm="char4norm",e.Ushort2="ushort2",e.Ushort4="ushort4",e.Short2="short2",e.Short4="short4",e.Ushort2Norm="ushort2norm",e.Ushort4Norm="ushort4norm",e.Short2Norm="short2norm",e.Short4Norm="short4norm",e.Half2="half2",e.Half4="half4",e.Float="float",e.Float2="float2",e.Float3="float3",e.Float4="float4",e.Uint="uint",e.Uint2="uint2",e.Uint3="uint3",e.Uint4="uint4",e.Int="int",e.Int2="int2",e.Int3="int3",e.Int4="int4"}(t.gB||(t.gB={})),function(e){e.All="all",e.StencilOnly="stencil-only",e.DepthOnly="depth-only"}(t.H7||(t.H7={})),function(e){e.Error="error",e.Warning="warning",e.Info="info"}(t.mj||(t.mj={})),function(e){e.Occlusion="occlusion"}(t.xL||(t.xL={})),function(e){e[e.MapRead=1]="MapRead",e[e.MapWrite=2]="MapWrite",e[e.CopySrc=4]="CopySrc",e[e.CopyDst=8]="CopyDst",e[e.Index=16]="Index",e[e.Vertex=32]="Vertex",e[e.Uniform=64]="Uniform",e[e.Storage=128]="Storage",e[e.Indirect=256]="Indirect",e[e.QueryResolve=512]="QueryResolve"}(t.FB||(t.FB={})),function(e){e[e.Red=1]="Red",e[e.Green=2]="Green",e[e.Blue=4]="Blue",e[e.Alpha=8]="Alpha",e[e.All=15]="All"}(t.Yw||(t.Yw={})),function(e){e[e.Vertex=1]="Vertex",e[e.Fragment=2]="Fragment",e[e.Compute=4]="Compute"}(t.$X||(t.$X={})),function(e){e[e.CopySrc=1]="CopySrc",e[e.CopyDst=2]="CopyDst",e[e.Sampled=4]="Sampled",e[e.Storage=8]="Storage",e[e.OutputAttachment=16]="OutputAttachment"}(t.v2||(t.v2={})),function(e){e[e.Read=1]="Read",e[e.Write=2]="Write"}(t.gc||(t.gc={}))},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);a&&e.push(a)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},7910:function(e){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},9194:function(e,t,n){var r=n(7910),o=n(5114),i=Object.hasOwnProperty,a={};for(var s in r)i.call(r,s)&&(a[r[s]]=s);var u=e.exports={to:{},get:{}};function c(e,t,n){return Math.min(Math.max(t,e),n)}function l(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}u.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=u.get.hsl(e),n="hsl";break;case"hwb":t=u.get.hwb(e),n="hwb";break;default:t=u.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},u.get.rgb=function(e){if(!e)return null;var t,n,o,a=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(o=t[2],t=t[1],n=0;n<3;n++){var s=2*n;a[n]=parseInt(t.slice(s,s+2),16)}o&&(a[3]=parseInt(o,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(o=(t=t[1])[3],n=0;n<3;n++)a[n]=parseInt(t[n]+t[n],16);o&&(a[3]=parseInt(o+o,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)a[n]=parseInt(t[n+1],0);t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:i.call(r,t[1])?((a=r[t[1]])[3]=1,a):null:null;for(n=0;n<3;n++)a[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}for(n=0;n<3;n++)a[n]=c(a[n],0,255);return a[3]=c(a[3],0,1),a},u.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},u.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},u.to.hex=function(){var e=o(arguments);return"#"+l(e[0])+l(e[1])+l(e[2])+(e[3]<1?l(Math.round(255*e[3])):"")},u.to.rgb=function(){var e=o(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},u.to.rgb.percent=function(){var e=o(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},u.to.hsl=function(){var e=o(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},u.to.hwb=function(){var e=o(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},u.to.keyword=function(e){return a[e.slice(0,3)]}},3861:function(e,t,n){"use strict";var r=n(9194),o=n(9203),i=[].slice,a=["keyword","gray","hex"],s={};Object.keys(o).forEach((function(e){s[i.call(o[e].labels).sort().join("")]=e}));var u={};function c(e,t){if(!(this instanceof c))return new c(e,t);if(t&&t in a&&(t=null),t&&!(t in o))throw new Error("Unknown model: "+t);var n,l;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof c)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"===typeof e){var f=r.get(e);if(null===f)throw new Error("Unable to parse color from string: "+e);this.model=f.model,l=o[this.model].channels,this.color=f.value.slice(0,l),this.valpha="number"===typeof f.value[l]?f.value[l]:1}else if(e.length){this.model=t||"rgb",l=o[this.model].channels;var d=i.call(e,0,l);this.color=h(d,l),this.valpha="number"===typeof e[l]?e[l]:1}else if("number"===typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var p=Object.keys(e);"alpha"in e&&(p.splice(p.indexOf("alpha"),1),this.valpha="number"===typeof e.alpha?e.alpha:0);var g=p.sort().join("");if(!(g in s))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=s[g];var v=o[this.model].labels,m=[];for(n=0;n<v.length;n++)m.push(e[v[n]]);this.color=h(m)}if(u[this.model])for(l=o[this.model].channels,n=0;n<l;n++){var y=u[this.model][n];y&&(this.color[n]=y(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function l(e,t,n){return(e=Array.isArray(e)?e:[e]).forEach((function(e){(u[e]||(u[e]=[]))[t]=n})),e=e[0],function(r){var o;return arguments.length?(n&&(r=n(r)),(o=this[e]()).color[t]=r,o):(o=this[e]().color[t],n&&(o=n(o)),o)}}function f(e){return function(t){return Math.max(0,Math.min(e,t))}}function d(e){return Array.isArray(e)?e:[e]}function h(e,t){for(var n=0;n<t;n++)"number"!==typeof e[n]&&(e[n]=0);return e}c.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in r.to?this:this.rgb(),n=1===(t=t.round("number"===typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return r.to[t.model](n)},percentString:function(e){var t=this.rgb().round("number"===typeof e?e:1),n=1===t.valpha?t.color:t.color.concat(this.valpha);return r.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=o[this.model].channels,n=o[this.model].labels,r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new c(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new c(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:l("rgb",0,f(255)),green:l("rgb",1,f(255)),blue:l("rgb",2,f(255)),hue:l(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:l("hsl",1,f(100)),lightness:l("hsl",2,f(100)),saturationv:l("hsv",1,f(100)),value:l("hsv",2,f(100)),chroma:l("hcg",1,f(100)),gray:l("hcg",2,f(100)),white:l("hwb",1,f(100)),wblack:l("hwb",2,f(100)),cyan:l("cmyk",0,f(100)),magenta:l("cmyk",1,f(100)),yellow:l("cmyk",2,f(100)),black:l("cmyk",3,f(100)),x:l("xyz",0,f(100)),y:l("xyz",1,f(100)),z:l("xyz",2,f(100)),l:l("lab",0,f(100)),a:l("lab",1),b:l("lab",2),keyword:function(e){return arguments.length?new c(e):o[this.model].keyword(this.color)},hex:function(e){return arguments.length?new c(e):r.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return c.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),n=t.color[0];return n=(n=(n+e)%360)<0?360+n:n,t.color[0]=n,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);var n=e.rgb(),r=this.rgb(),o=void 0===t?.5:t,i=2*o-1,a=n.alpha()-r.alpha(),s=((i*a===-1?i:(i+a)/(1+i*a))+1)/2,u=1-s;return c.rgb(s*n.red()+u*r.red(),s*n.green()+u*r.green(),s*n.blue()+u*r.blue(),n.alpha()*o+r.alpha()*(1-o))}},Object.keys(o).forEach((function(e){if(-1===a.indexOf(e)){var t=o[e].channels;c.prototype[e]=function(){if(this.model===e)return new c(this);if(arguments.length)return new c(arguments,e);var n="number"===typeof arguments[t]?t:this.valpha;return new c(d(o[this.model][e].raw(this.color)).concat(n),e)},c[e]=function(n){return"number"===typeof n&&(n=h(i.call(arguments),t)),new c(n,e)}}})),e.exports=c},6871:function(e,t,n){var r=n(9065),o={};for(var i in r)r.hasOwnProperty(i)&&(o[r[i]]=i);var a=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in a)if(a.hasOwnProperty(s)){if(!("channels"in a[s]))throw new Error("missing channels property: "+s);if(!("labels"in a[s]))throw new Error("missing channel labels property: "+s);if(a[s].labels.length!==a[s].channels)throw new Error("channel and label counts mismatch: "+s);var u=a[s].channels,c=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],"channels",{value:u}),Object.defineProperty(a[s],"labels",{value:c})}a.rgb.hsl=function(e){var t,n,r=e[0]/255,o=e[1]/255,i=e[2]/255,a=Math.min(r,o,i),s=Math.max(r,o,i),u=s-a;return s===a?t=0:r===s?t=(o-i)/u:o===s?t=2+(i-r)/u:i===s&&(t=4+(r-o)/u),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+s)/2,[t,100*(s===a?0:n<=.5?u/(s+a):u/(2-s-a)),100*n]},a.rgb.hsv=function(e){var t,n,r,o,i,a=e[0]/255,s=e[1]/255,u=e[2]/255,c=Math.max(a,s,u),l=c-Math.min(a,s,u),f=function(e){return(c-e)/6/l+.5};return 0===l?o=i=0:(i=l/c,t=f(a),n=f(s),r=f(u),a===c?o=r-n:s===c?o=1/3+t-r:u===c&&(o=2/3+n-t),o<0?o+=1:o>1&&(o-=1)),[360*o,100*i,100*c]},a.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2];return[a.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(r=1-1/255*Math.max(t,Math.max(n,r)))]},a.rgb.cmyk=function(e){var t,n=e[0]/255,r=e[1]/255,o=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-r,1-o)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-o-t)/(1-t)||0),100*t]},a.rgb.keyword=function(e){var t=o[e];if(t)return t;var n,i,a,s=1/0;for(var u in r)if(r.hasOwnProperty(u)){var c=r[u],l=(i=e,a=c,Math.pow(i[0]-a[0],2)+Math.pow(i[1]-a[1],2)+Math.pow(i[2]-a[2],2));l<s&&(s=l,n=u)}return n},a.keyword.rgb=function(e){return r[e]},a.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},a.rgb.lab=function(e){var t=a.rgb.xyz(e),n=t[0],r=t[1],o=t[2];return r/=100,o/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]},a.hsl.rgb=function(e){var t,n,r,o,i,a=e[0]/360,s=e[1]/100,u=e[2]/100;if(0===s)return[i=255*u,i,i];t=2*u-(n=u<.5?u*(1+s):u+s-u*s),o=[0,0,0];for(var c=0;c<3;c++)(r=a+1/3*-(c-1))<0&&r++,r>1&&r--,i=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,o[c]=255*i;return o},a.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,o=n,i=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,o*=i<=1?i:2-i,[t,100*(0===r?2*o/(i+o):2*n/(r+n)),100*((r+n)/2)]},a.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,o=Math.floor(t)%6,i=t-Math.floor(t),a=255*r*(1-n),s=255*r*(1-n*i),u=255*r*(1-n*(1-i));switch(r*=255,o){case 0:return[r,u,a];case 1:return[s,r,a];case 2:return[a,r,u];case 3:return[a,s,r];case 4:return[u,a,r];case 5:return[r,a,s]}},a.hsv.hsl=function(e){var t,n,r,o=e[0],i=e[1]/100,a=e[2]/100,s=Math.max(a,.01);return r=(2-i)*a,n=i*s,[o,100*(n=(n/=(t=(2-i)*s)<=1?t:2-t)||0),100*(r/=2)]},a.hwb.rgb=function(e){var t,n,r,o,i,a,s,u=e[0]/360,c=e[1]/100,l=e[2]/100,f=c+l;switch(f>1&&(c/=f,l/=f),r=6*u-(t=Math.floor(6*u)),0!==(1&t)&&(r=1-r),o=c+r*((n=1-l)-c),t){default:case 6:case 0:i=n,a=o,s=c;break;case 1:i=o,a=n,s=c;break;case 2:i=c,a=n,s=o;break;case 3:i=c,a=o,s=n;break;case 4:i=o,a=c,s=n;break;case 5:i=n,a=c,s=o}return[255*i,255*a,255*s]},a.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,o=e[3]/100;return[255*(1-Math.min(1,t*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o)),255*(1-Math.min(1,r*(1-o)+o))]},a.xyz.rgb=function(e){var t,n,r,o=e[0]/100,i=e[1]/100,a=e[2]/100;return n=-.9689*o+1.8758*i+.0415*a,r=.0557*o+-.204*i+1.057*a,t=(t=3.2406*o+-1.5372*i+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},a.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},a.lab.xyz=function(e){var t,n,r,o=e[0];t=e[1]/500+(n=(o+16)/116),r=n-e[2]/200;var i=Math.pow(n,3),a=Math.pow(t,3),s=Math.pow(r,3);return n=i>.008856?i:(n-16/116)/7.787,t=a>.008856?a:(t-16/116)/7.787,r=s>.008856?s:(r-16/116)/7.787,[t*=95.047,n*=100,r*=108.883]},a.lab.lch=function(e){var t,n=e[0],r=e[1],o=e[2];return(t=360*Math.atan2(o,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+o*o),t]},a.lch.lab=function(e){var t,n=e[0],r=e[1];return t=e[2]/360*2*Math.PI,[n,r*Math.cos(t),r*Math.sin(t)]},a.rgb.ansi16=function(e){var t=e[0],n=e[1],r=e[2],o=1 in arguments?arguments[1]:a.rgb.hsv(e)[2];if(0===(o=Math.round(o/50)))return 30;var i=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===o&&(i+=60),i},a.hsv.ansi16=function(e){return a.rgb.ansi16(a.hsv.rgb(e),e[2])},a.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},a.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},a.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},a.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},a.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},a.rgb.hcg=function(e){var t,n=e[0]/255,r=e[1]/255,o=e[2]/255,i=Math.max(Math.max(n,r),o),a=Math.min(Math.min(n,r),o),s=i-a;return t=s<=0?0:i===n?(r-o)/s%6:i===r?2+(o-n)/s:4+(n-r)/s+4,t/=6,[360*(t%=1),100*s,100*(s<1?a/(1-s):0)]},a.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=1,o=0;return(r=n<.5?2*t*n:2*t*(1-n))<1&&(o=(n-.5*r)/(1-r)),[e[0],100*r,100*o]},a.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=t*n,o=0;return r<1&&(o=(n-r)/(1-r)),[e[0],100*r,100*o]},a.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];var o,i=[0,0,0],a=t%1*6,s=a%1,u=1-s;switch(Math.floor(a)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=u,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=u,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=u}return o=(1-n)*r,[255*(n*i[0]+o),255*(n*i[1]+o),255*(n*i[2]+o)]},a.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},a.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},a.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},a.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,r=n-t,o=0;return r<1&&(o=(n-r)/(1-r)),[e[0],100*r,100*o]},a.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},a.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},a.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},a.gray.hsl=a.gray.hsv=function(e){return[0,0,e[0]]},a.gray.hwb=function(e){return[0,100,e[0]]},a.gray.cmyk=function(e){return[0,0,0,e[0]]},a.gray.lab=function(e){return[e[0],0,0]},a.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},a.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},9203:function(e,t,n){var r=n(6871),o=n(1283),i={};Object.keys(r).forEach((function(e){i[e]={},Object.defineProperty(i[e],"channels",{value:r[e].channels}),Object.defineProperty(i[e],"labels",{value:r[e].labels});var t=o(e);Object.keys(t).forEach((function(n){var r=t[n];i[e][n]=function(e){var t=function(t){if(void 0===t||null===t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"===typeof n)for(var r=n.length,o=0;o<r;o++)n[o]=Math.round(n[o]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(r),i[e][n].raw=function(e){var t=function(t){return void 0===t||null===t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)}))})),e.exports=i},1283:function(e,t,n){var r=n(6871);function o(e){var t=function(){for(var e={},t=Object.keys(r),n=t.length,o=0;o<n;o++)e[t[o]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var o=n.pop(),i=Object.keys(r[o]),a=i.length,s=0;s<a;s++){var u=i[s],c=t[u];-1===c.distance&&(c.distance=t[o].distance+1,c.parent=o,n.unshift(u))}return t}function i(e,t){return function(n){return t(e(n))}}function a(e,t){for(var n=[t[e].parent,e],o=r[t[e].parent][e],a=t[e].parent;t[a].parent;)n.unshift(t[a].parent),o=i(r[t[a].parent][a],o),a=t[a].parent;return o.conversion=n,o}e.exports=function(e){for(var t=o(e),n={},r=Object.keys(t),i=r.length,s=0;s<i;s++){var u=r[s];null!==t[u].parent&&(n[u]=a(u,t))}return n}},9065:function(e){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},8878:function(e,t,n){"use strict";function r(e,t){var n,r=1;function o(){var o,i,a=n.length,s=0,u=0;for(o=0;o<a;++o)s+=(i=n[o]).x,u+=i.y;for(s=(s/a-e)*r,u=(u/a-t)*r,o=0;o<a;++o)(i=n[o]).x-=s,i.y-=u}return null==e&&(e=0),null==t&&(t=0),o.initialize=function(e){n=e},o.x=function(t){return arguments.length?(e=+t,o):e},o.y=function(e){return arguments.length?(t=+e,o):t},o.strength=function(e){return arguments.length?(r=+e,o):r},o}function o(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,i,a,s,u,c,l,f,d,h=e._root,p={data:r},g=e._x0,v=e._y0,m=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((c=t>=(i=(g+m)/2))?g=i:m=i,(l=n>=(a=(v+y)/2))?v=a:y=a,o=h,!(h=h[f=l<<1|c]))return o[f]=p,e;if(s=+e._x.call(null,h.data),u=+e._y.call(null,h.data),t===s&&n===u)return p.next=h,o?o[f]=p:e._root=p,e;do{o=o?o[f]=new Array(4):e._root=new Array(4),(c=t>=(i=(g+m)/2))?g=i:m=i,(l=n>=(a=(v+y)/2))?v=a:y=a}while((f=l<<1|c)===(d=(u>=a)<<1|s>=i));return o[d]=h,o[f]=p,e}function i(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o}function a(e){return e[0]}function s(e){return e[1]}function u(e,t,n){var r=new c(null==t?a:t,null==n?s:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function c(e,t,n,r,o,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function l(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}n.r(t),n.d(t,{forceCenter:function(){return r},forceCollide:function(){return v},forceLink:function(){return b},forceManyBody:function(){return I},forceRadial:function(){return D},forceSimulation:function(){return O},forceX:function(){return R},forceY:function(){return L}});var f=u.prototype=c.prototype;function d(e){return function(){return e}}function h(e){return 1e-6*(e()-.5)}function p(e){return e.x+e.vx}function g(e){return e.y+e.vy}function v(e){var t,n,r,o=1,i=1;function a(){for(var e,a,c,l,f,d,v,m=t.length,y=0;y<i;++y)for(a=u(t,p,g).visitAfter(s),e=0;e<m;++e)c=t[e],d=n[c.index],v=d*d,l=c.x+c.vx,f=c.y+c.vy,a.visit(b);function b(e,t,n,i,a){var s=e.data,u=e.r,p=d+u;if(!s)return t>l+p||i<l-p||n>f+p||a<f-p;if(s.index>c.index){var g=l-s.x-s.vx,m=f-s.y-s.vy,y=g*g+m*m;y<p*p&&(0===g&&(y+=(g=h(r))*g),0===m&&(y+=(m=h(r))*m),y=(p-(y=Math.sqrt(y)))/y*o,c.vx+=(g*=y)*(p=(u*=u)/(v+u)),c.vy+=(m*=y)*p,s.vx-=g*(p=1-p),s.vy-=m*p)}}}function s(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function c(){if(t){var r,o,i=t.length;for(n=new Array(i),r=0;r<i;++r)o=t[r],n[o.index]=+e(o,r,t)}}return"function"!==typeof e&&(e=d(null==e?1:+e)),a.initialize=function(e,n){t=e,r=n,c()},a.iterations=function(e){return arguments.length?(i=+e,a):i},a.strength=function(e){return arguments.length?(o=+e,a):o},a.radius=function(t){return arguments.length?(e="function"===typeof t?t:d(+t),c(),a):e},a}function m(e){return e.index}function y(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function b(e){var t,n,r,o,i,a,s=m,u=function(e){return 1/Math.min(o[e.source.index],o[e.target.index])},c=d(30),l=1;function f(r){for(var o=0,s=e.length;o<l;++o)for(var u,c,f,d,p,g,v,m=0;m<s;++m)c=(u=e[m]).source,d=(f=u.target).x+f.vx-c.x-c.vx||h(a),p=f.y+f.vy-c.y-c.vy||h(a),d*=g=((g=Math.sqrt(d*d+p*p))-n[m])/g*r*t[m],p*=g,f.vx-=d*(v=i[m]),f.vy-=p*v,c.vx+=d*(v=1-v),c.vy+=p*v}function p(){if(r){var a,u,c=r.length,l=e.length,f=new Map(r.map((function(e,t){return[s(e,t,r),e]})));for(a=0,o=new Array(c);a<l;++a)(u=e[a]).index=a,"object"!==typeof u.source&&(u.source=y(f,u.source)),"object"!==typeof u.target&&(u.target=y(f,u.target)),o[u.source.index]=(o[u.source.index]||0)+1,o[u.target.index]=(o[u.target.index]||0)+1;for(a=0,i=new Array(l);a<l;++a)u=e[a],i[a]=o[u.source.index]/(o[u.source.index]+o[u.target.index]);t=new Array(l),g(),n=new Array(l),v()}}function g(){if(r)for(var n=0,o=e.length;n<o;++n)t[n]=+u(e[n],n,e)}function v(){if(r)for(var t=0,o=e.length;t<o;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),f.initialize=function(e,t){r=e,a=t,p()},f.links=function(t){return arguments.length?(e=t,p(),f):e},f.id=function(e){return arguments.length?(s=e,f):s},f.iterations=function(e){return arguments.length?(l=+e,f):l},f.strength=function(e){return arguments.length?(u="function"===typeof e?e:d(+e),g(),f):u},f.distance=function(e){return arguments.length?(c="function"===typeof e?e:d(+e),v(),f):c},f}f.copy=function(){var e,t,n=new c(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=l(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var o=0;o<4;++o)(t=r.source[o])&&(t.length?e.push({source:t,target:r.target[o]=new Array(4)}):r.target[o]=l(t));return n},f.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return o(this.cover(t,n),t,n,e)},f.addAll=function(e){var t,n,r,i,a=e.length,s=new Array(a),u=new Array(a),c=1/0,l=1/0,f=-1/0,d=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(s[n]=r,u[n]=i,r<c&&(c=r),r>f&&(f=r),i<l&&(l=i),i>d&&(d=i));if(c>f||l>d)return this;for(this.cover(c,l).cover(f,d),n=0;n<a;++n)o(this,s[n],u[n],e[n]);return this},f.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var a,s,u=o-n||1,c=this._root;n>e||e>=o||r>t||t>=i;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=c,c=a,u*=2,s){case 0:o=n+u,i=r+u;break;case 1:n=o-u,i=r+u;break;case 2:o=n+u,r=i-u;break;case 3:n=o-u,r=i-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this},f.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},f.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},f.find=function(e,t,n){var r,o,a,s,u,c,l,f=this._x0,d=this._y0,h=this._x1,p=this._y1,g=[],v=this._root;for(v&&g.push(new i(v,f,d,h,p)),null==n?n=1/0:(f=e-n,d=t-n,h=e+n,p=t+n,n*=n);c=g.pop();)if(!(!(v=c.node)||(o=c.x0)>h||(a=c.y0)>p||(s=c.x1)<f||(u=c.y1)<d))if(v.length){var m=(o+s)/2,y=(a+u)/2;g.push(new i(v[3],m,y,s,u),new i(v[2],o,y,m,u),new i(v[1],m,a,s,y),new i(v[0],o,a,m,y)),(l=(t>=y)<<1|e>=m)&&(c=g[g.length-1],g[g.length-1]=g[g.length-1-l],g[g.length-1-l]=c)}else{var b=e-+this._x.call(null,v.data),x=t-+this._y.call(null,v.data),w=b*b+x*x;if(w<n){var E=Math.sqrt(n=w);f=e-E,d=t-E,h=e+E,p=t+E,r=v.data}}return r},f.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,o,i,a,s,u,c,l,f,d,h=this._root,p=this._x0,g=this._y0,v=this._x1,m=this._y1;if(!h)return this;if(h.length)for(;;){if((c=i>=(s=(p+v)/2))?p=s:v=s,(l=a>=(u=(g+m)/2))?g=u:m=u,t=h,!(h=h[f=l<<1|c]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(o=h.next)&&delete h.next,r?(o?r.next=o:delete r.next,this):t?(o?t[f]=o:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=o,this)},f.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},f.root=function(){return this._root},f.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},f.visit=function(e){var t,n,r,o,a,s,u=[],c=this._root;for(c&&u.push(new i(c,this._x0,this._y0,this._x1,this._y1));t=u.pop();)if(!e(c=t.node,r=t.x0,o=t.y0,a=t.x1,s=t.y1)&&c.length){var l=(r+a)/2,f=(o+s)/2;(n=c[3])&&u.push(new i(n,l,f,a,s)),(n=c[2])&&u.push(new i(n,r,f,l,s)),(n=c[1])&&u.push(new i(n,l,o,a,f)),(n=c[0])&&u.push(new i(n,r,o,l,f))}return this},f.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new i(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var o=t.node;if(o.length){var a,s=t.x0,u=t.y0,c=t.x1,l=t.y1,f=(s+c)/2,d=(u+l)/2;(a=o[0])&&n.push(new i(a,s,u,f,d)),(a=o[1])&&n.push(new i(a,f,u,c,d)),(a=o[2])&&n.push(new i(a,s,d,f,l)),(a=o[3])&&n.push(new i(a,f,d,c,l))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},f.x=function(e){return arguments.length?(this._x=e,this):this._x},f.y=function(e){return arguments.length?(this._y=e,this):this._y};var x={value:function(){}};function w(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new E(r)}function E(e){this._=e}function _(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function S(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function k(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=x,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}E.prototype=w.prototype={constructor:E,on:function(e,t){var n,r=this._,o=_(e+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++i<a;)if(n=(e=o[i]).type)r[n]=k(r[n],e.name,t);else if(null==t)for(n in r)r[n]=k(r[n],e.name,null);return this}for(;++i<a;)if((n=(e=o[i]).type)&&(n=S(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new E(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};var T=w,C=n(6212),M=4294967296;function N(e){return e.x}function A(e){return e.y}var P=Math.PI*(3-Math.sqrt(5));function O(e){var t,n=1,r=.001,o=1-Math.pow(r,1/300),i=0,a=.6,s=new Map,u=(0,C.HT)(f),c=T("tick","end"),l=function(){var e=1;return function(){return(e=(1664525*e+1013904223)%M)/M}}();function f(){d(),c.call("tick",t),n<r&&(u.stop(),c.call("end",t))}function d(r){var u,c,l=e.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(i-n)*o,s.forEach((function(e){e(n)})),u=0;u<l;++u)null==(c=e[u]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return t}function h(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var o=10*Math.sqrt(.5+n),i=n*P;t.x=o*Math.cos(i),t.y=o*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,l),t}return null==e&&(e=[]),h(),t={tick:d,restart:function(){return u.restart(f),t},stop:function(){return u.stop(),t},nodes:function(n){return arguments.length?(e=n,h(),s.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(o=+e,t):+o},alphaTarget:function(e){return arguments.length?(i=+e,t):i},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},randomSource:function(e){return arguments.length?(l=e,s.forEach(p),t):l},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,p(n)),t):s.get(e)},find:function(t,n,r){var o,i,a,s,u,c=0,l=e.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(a=(o=t-(s=e[c]).x)*o+(i=n-s.y)*i)<r&&(u=s,r=a);return u},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}}function I(){var e,t,n,r,o,i=d(-30),a=1,s=1/0,c=.81;function l(n){var o,i=e.length,a=u(e,N,A).visitAfter(p);for(r=n,o=0;o<i;++o)t=e[o],a.visit(g)}function f(){if(e){var t,n,r=e.length;for(o=new Array(r),t=0;t<r;++t)n=e[t],o[n.index]=+i(n,t,e)}}function p(e){var t,n,r,i,a,s=0,u=0;if(e.length){for(r=i=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(s+=t.value,u+=n,r+=n*t.x,i+=n*t.y);e.x=r/u,e.y=i/u}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=o[t.data.index]}while(t=t.next)}e.value=s}function g(e,i,u,l){if(!e.value)return!0;var f=e.x-t.x,d=e.y-t.y,p=l-i,g=f*f+d*d;if(p*p/c<g)return g<s&&(0===f&&(g+=(f=h(n))*f),0===d&&(g+=(d=h(n))*d),g<a&&(g=Math.sqrt(a*g)),t.vx+=f*e.value*r/g,t.vy+=d*e.value*r/g),!0;if(!(e.length||g>=s)){(e.data!==t||e.next)&&(0===f&&(g+=(f=h(n))*f),0===d&&(g+=(d=h(n))*d),g<a&&(g=Math.sqrt(a*g)));do{e.data!==t&&(p=o[e.data.index]*r/g,t.vx+=f*p,t.vy+=d*p)}while(e=e.next)}}return l.initialize=function(t,r){e=t,n=r,f()},l.strength=function(e){return arguments.length?(i="function"===typeof e?e:d(+e),f(),l):i},l.distanceMin=function(e){return arguments.length?(a=e*e,l):Math.sqrt(a)},l.distanceMax=function(e){return arguments.length?(s=e*e,l):Math.sqrt(s)},l.theta=function(e){return arguments.length?(c=e*e,l):Math.sqrt(c)},l}function D(e,t,n){var r,o,i,a=d(.1);function s(e){for(var a=0,s=r.length;a<s;++a){var u=r[a],c=u.x-t||1e-6,l=u.y-n||1e-6,f=Math.sqrt(c*c+l*l),d=(i[a]-f)*o[a]*e/f;u.vx+=c*d,u.vy+=l*d}}function u(){if(r){var t,n=r.length;for(o=new Array(n),i=new Array(n),t=0;t<n;++t)i[t]=+e(r[t],t,r),o[t]=isNaN(i[t])?0:+a(r[t],t,r)}}return"function"!==typeof e&&(e=d(+e)),null==t&&(t=0),null==n&&(n=0),s.initialize=function(e){r=e,u()},s.strength=function(e){return arguments.length?(a="function"===typeof e?e:d(+e),u(),s):a},s.radius=function(t){return arguments.length?(e="function"===typeof t?t:d(+t),u(),s):e},s.x=function(e){return arguments.length?(t=+e,s):t},s.y=function(e){return arguments.length?(n=+e,s):n},s}function R(e){var t,n,r,o=d(.1);function i(e){for(var o,i=0,a=t.length;i<a;++i)(o=t[i]).vx+=(r[i]-o.x)*n[i]*e}function a(){if(t){var i,a=t.length;for(n=new Array(a),r=new Array(a),i=0;i<a;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!==typeof e&&(e=d(null==e?0:+e)),i.initialize=function(e){t=e,a()},i.strength=function(e){return arguments.length?(o="function"===typeof e?e:d(+e),a(),i):o},i.x=function(t){return arguments.length?(e="function"===typeof t?t:d(+t),a(),i):e},i}function L(e){var t,n,r,o=d(.1);function i(e){for(var o,i=0,a=t.length;i<a;++i)(o=t[i]).vy+=(r[i]-o.y)*n[i]*e}function a(){if(t){var i,a=t.length;for(n=new Array(a),r=new Array(a),i=0;i<a;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!==typeof e&&(e=d(null==e?0:+e)),i.initialize=function(e){t=e,a()},i.strength=function(e){return arguments.length?(o="function"===typeof e?e:d(+e),a(),i):o},i.y=function(t){return arguments.length?(e="function"===typeof t?t:d(+t),a(),i):e},i}},6212:function(e,t,n){"use strict";n.d(t,{HT:function(){return v}});var r,o,i=0,a=0,s=0,u=0,c=0,l=0,f="object"===typeof performance&&performance.now?performance:Date,d="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function h(){return c||(d(p),c=f.now()+l)}function p(){c=0}function g(){this._call=this._time=this._next=null}function v(e,t,n){var r=new g;return r.restart(e,t,n),r}function m(){c=(u=f.now())+l,i=a=0;try{!function(){h(),++i;for(var e,t=r;t;)(e=c-t._time)>=0&&t._call.call(null,e),t=t._next;--i}()}finally{i=0,function(){var e,t,n=r,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:r=t);o=e,b(i)}(),c=0}}function y(){var e=f.now(),t=e-u;t>1e3&&(l-=t,u=e)}function b(e){i||(a&&(a=clearTimeout(a)),e-c>24?(e<1/0&&(a=setTimeout(m,e-f.now()-l)),s&&(s=clearInterval(s))):(s||(u=f.now(),s=setInterval(y,1e3)),i=1,d(m)))}g.prototype=v.prototype={constructor:g,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?h():+n)+(null==t?0:+t),this._next||o===this||(o?o._next=this:r=this,o=this),this._call=e,this._time=n,b()},stop:function(){this._call&&(this._call=null,this._time=1/0,b())}}},9457:function(e,t,n){"use strict";n.r(t),n.d(t,{BRIDGE_GRAPH_NAME:function(){return y},GraphType:function(){return g},HierarchyNodeType:function(){return v},InclusionType:function(){return p},LAYOUT_CONFIG:function(){return l},NodeType:function(){return h},ROOT_NAME:function(){return m},buildGraph:function(){return wa},flatGraph:function(){return Ea},getEdges:function(){return _a},mergeConfig:function(){return f}});var r=n(7762),o=n(3433),i=n(9340),a=n(4062),s=n(9439),u=n(3144),c=n(5671),l={graph:{meta:{rankDir:"TB",nodeSep:50,rankSep:50,edgeSep:5,align:void 0}},subScene:{meta:{paddingTop:20,paddingBottom:20,paddingLeft:20,paddingRight:20,labelHeight:20}},nodeSize:{meta:{width:100,maxLabelWidth:0,height:20},node:{width:80,height:20,labelOffset:10,maxLabelWidth:40},bridge:{width:5,height:5,radius:2,labelOffset:0}}};function f(){var e,t,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,a=JSON.parse(JSON.stringify(i)),s=(null===(e=null==o?void 0:o.graph)||void 0===e?void 0:e.meta)||{},u=(null===(t=null==o?void 0:o.subScene)||void 0===t?void 0:t.meta)||{},c=(null===(n=null==o?void 0:o.nodeSize)||void 0===n?void 0:n.meta)||{},f=(null===(r=null==o?void 0:o.nodeSize)||void 0===r?void 0:r.node)||{},d=a.nodeSize.bridge;return{graph:{meta:Object.assign(a.graph.meta,s)},subScene:{meta:Object.assign(a.subScene.meta,u)},nodeSize:{meta:Object.assign(a.nodeSize.meta,c),node:Object.assign(a.nodeSize.node,f),bridge:d}}}function d(e){return"\u25ec".concat(e,"\u25ec")}var h,p,g,v,m=d("ROOT"),y=d("BRIDGE_GRAPH");!function(e){e[e.META=0]="META",e[e.NODE=1]="NODE",e[e.BRIDGE=2]="BRIDGE"}(h||(h={})),function(e){e[e.INCLUDE=0]="INCLUDE",e[e.EXCLUDE=1]="EXCLUDE",e[e.UNSPECIFIED=2]="UNSPECIFIED"}(p||(p={})),function(e){e[e.META=0]="META",e[e.CORE=1]="CORE",e[e.BRIDGE=2]="BRIDGE"}(g||(g={})),function(e){e[e.META=0]="META",e[e.OP=1]="OP",e[e.SERIES=2]="SERIES"}(v||(v={}));var b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};function x(e,t){return e(t={exports:{}},t.exports),t.exports}var w=function(e,t){return e===t||e!=e&&t!=t},E=function(e,t){for(var n=e.length;n--;)if(w(e[n][0],t))return n;return-1},_=Array.prototype.splice;function S(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}S.prototype.clear=function(){this.__data__=[],this.size=0},S.prototype.delete=function(e){var t=this.__data__,n=E(t,e);return!(n<0)&&(n==t.length-1?t.pop():_.call(t,n,1),--this.size,!0)},S.prototype.get=function(e){var t=this.__data__,n=E(t,e);return n<0?void 0:t[n][1]},S.prototype.has=function(e){return E(this.__data__,e)>-1},S.prototype.set=function(e,t){var n=this.__data__,r=E(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var k,T=S,C="object"==typeof b&&b&&b.Object===Object&&b,M="object"==typeof self&&self&&self.Object===Object&&self,N=C||M||Function("return this")(),A=N.Symbol,P=Object.prototype,O=P.hasOwnProperty,I=P.toString,D=A?A.toStringTag:void 0,R=Object.prototype.toString,L=A?A.toStringTag:void 0,j=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":L&&L in Object(e)?function(e){var t=O.call(e,D),n=e[D];try{e[D]=void 0;var r=!0}catch(e){}var o=I.call(e);return r&&(t?e[D]=n:delete e[D]),o}(e):function(e){return R.call(e)}(e)},F=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},B=function(e){if(!F(e))return!1;var t=j(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},z=N["__core-js_shared__"],G=(k=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"",V=Function.prototype.toString,U=function(e){if(null!=e){try{return V.call(e)}catch(e){}try{return e+""}catch(e){}}return""},W=/^\[object .+?Constructor\]$/,Z=Function.prototype,Y=Object.prototype,H=Z.toString,X=Y.hasOwnProperty,K=RegExp("^"+H.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),q=function(e){return!(!F(e)||function(e){return!!G&&G in e}(e))&&(B(e)?K:W).test(U(e))},$=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return q(n)?n:void 0},J=$(N,"Map"),Q=$(Object,"create"),ee=Object.prototype.hasOwnProperty,te=Object.prototype.hasOwnProperty;function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ne.prototype.clear=function(){this.__data__=Q?Q(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(Q){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ee.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return Q?void 0!==t[e]:te.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Q&&void 0===t?"__lodash_hash_undefined__":t,this};var re=ne,oe=function(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ie.prototype.clear=function(){this.size=0,this.__data__={hash:new re,map:new(J||T),string:new re}},ie.prototype.delete=function(e){var t=oe(this,e).delete(e);return this.size-=t?1:0,t},ie.prototype.get=function(e){return oe(this,e).get(e)},ie.prototype.has=function(e){return oe(this,e).has(e)},ie.prototype.set=function(e,t){var n=oe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var ae=ie;function se(e){var t=this.__data__=new T(e);this.size=t.size}se.prototype.clear=function(){this.__data__=new T,this.size=0},se.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},se.prototype.get=function(e){return this.__data__.get(e)},se.prototype.has=function(e){return this.__data__.has(e)},se.prototype.set=function(e,t){var n=this.__data__;if(n instanceof T){var r=n.__data__;if(!J||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ae(r)}return n.set(e,t),this.size=n.size,this};var ue=se,ce=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},le=function(){try{var e=$(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),fe=function(e,t,n){"__proto__"==t&&le?le(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},de=Object.prototype.hasOwnProperty,he=function(e,t,n){var r=e[t];de.call(e,t)&&w(r,n)&&(void 0!==n||t in e)||fe(e,t,n)},pe=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),o?fe(n,s,u):he(n,s,u)}return n},ge=function(e){return null!=e&&"object"==typeof e},ve=function(e){return ge(e)&&"[object Arguments]"==j(e)},me=Object.prototype,ye=me.hasOwnProperty,be=me.propertyIsEnumerable,xe=ve(function(){return arguments}())?ve:function(e){return ge(e)&&ye.call(e,"callee")&&!be.call(e,"callee")},we=Array.isArray,Ee=function(){return!1},_e=x((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?N.Buffer:void 0,i=(o?o.isBuffer:void 0)||Ee;e.exports=i})),Se=/^(?:0|[1-9]\d*)$/,ke=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Se.test(e))&&e>-1&&e%1==0&&e<t},Te=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Ce={};Ce["[object Float32Array]"]=Ce["[object Float64Array]"]=Ce["[object Int8Array]"]=Ce["[object Int16Array]"]=Ce["[object Int32Array]"]=Ce["[object Uint8Array]"]=Ce["[object Uint8ClampedArray]"]=Ce["[object Uint16Array]"]=Ce["[object Uint32Array]"]=!0,Ce["[object Arguments]"]=Ce["[object Array]"]=Ce["[object ArrayBuffer]"]=Ce["[object Boolean]"]=Ce["[object DataView]"]=Ce["[object Date]"]=Ce["[object Error]"]=Ce["[object Function]"]=Ce["[object Map]"]=Ce["[object Number]"]=Ce["[object Object]"]=Ce["[object RegExp]"]=Ce["[object Set]"]=Ce["[object String]"]=Ce["[object WeakMap]"]=!1;var Me=function(e){return function(t){return e(t)}},Ne=x((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&C.process,i=function(){try{return r&&r.require&&r.require("util").types||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=i})),Ae=Ne&&Ne.isTypedArray,Pe=Ae?Me(Ae):function(e){return ge(e)&&Te(e.length)&&!!Ce[j(e)]},Oe=Object.prototype.hasOwnProperty,Ie=function(e,t){var n=we(e),r=!n&&xe(e),o=!n&&!r&&_e(e),i=!n&&!r&&!o&&Pe(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!Oe.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ke(c,u))||s.push(c);return s},De=Object.prototype,Re=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||De)},Le=function(e,t){return function(n){return e(t(n))}},je=Le(Object.keys,Object),Fe=Object.prototype.hasOwnProperty,Be=function(e){if(!Re(e))return je(e);var t=[];for(var n in Object(e))Fe.call(e,n)&&"constructor"!=n&&t.push(n);return t},ze=function(e){return null!=e&&Te(e.length)&&!B(e)},Ge=function(e){return ze(e)?Ie(e):Be(e)},Ve=Object.prototype.hasOwnProperty,Ue=function(e){if(!F(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Re(e),n=[];for(var r in e)("constructor"!=r||!t&&Ve.call(e,r))&&n.push(r);return n},We=function(e){return ze(e)?Ie(e,!0):Ue(e)},Ze=x((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?N.Buffer:void 0,i=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=i?i(n):new e.constructor(n);return e.copy(r),r}})),Ye=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},He=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i},Xe=function(){return[]},Ke=Object.prototype.propertyIsEnumerable,qe=Object.getOwnPropertySymbols,$e=qe?function(e){return null==e?[]:(e=Object(e),He(qe(e),(function(t){return Ke.call(e,t)})))}:Xe,Je=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},Qe=Le(Object.getPrototypeOf,Object),et=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Je(t,$e(e)),e=Qe(e);return t}:Xe,tt=function(e,t,n){var r=t(e);return we(e)?r:Je(r,n(e))},nt=function(e){return tt(e,Ge,$e)},rt=function(e){return tt(e,We,et)},ot=$(N,"DataView"),it=$(N,"Promise"),at=$(N,"Set"),st=$(N,"WeakMap"),ut=U(ot),ct=U(J),lt=U(it),ft=U(at),dt=U(st),ht=j;(ot&&"[object DataView]"!=ht(new ot(new ArrayBuffer(1)))||J&&"[object Map]"!=ht(new J)||it&&"[object Promise]"!=ht(it.resolve())||at&&"[object Set]"!=ht(new at)||st&&"[object WeakMap]"!=ht(new st))&&(ht=function(e){var t=j(e),n="[object Object]"==t?e.constructor:void 0,r=n?U(n):"";if(r)switch(r){case ut:return"[object DataView]";case ct:return"[object Map]";case lt:return"[object Promise]";case ft:return"[object Set]";case dt:return"[object WeakMap]"}return t});var pt=ht,gt=Object.prototype.hasOwnProperty,vt=N.Uint8Array,mt=function(e){var t=new e.constructor(e.byteLength);return new vt(t).set(new vt(e)),t},yt=/\w*$/,bt=A?A.prototype:void 0,xt=bt?bt.valueOf:void 0,wt=function(e,t){var n=t?mt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Et=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return mt(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return function(e,t){var n=t?mt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return wt(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,yt.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Symbol]":return function(e){return xt?Object(xt.call(e)):{}}(e)}},_t=Object.create,St=function(){function e(){}return function(t){if(!F(t))return{};if(_t)return _t(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),kt=function(e){return"function"!=typeof e.constructor||Re(e)?{}:St(Qe(e))},Tt=Ne&&Ne.isMap,Ct=Tt?Me(Tt):function(e){return ge(e)&&"[object Map]"==pt(e)},Mt=Ne&&Ne.isSet,Nt=Mt?Me(Mt):function(e){return ge(e)&&"[object Set]"==pt(e)},At={};At["[object Arguments]"]=At["[object Array]"]=At["[object ArrayBuffer]"]=At["[object DataView]"]=At["[object Boolean]"]=At["[object Date]"]=At["[object Float32Array]"]=At["[object Float64Array]"]=At["[object Int8Array]"]=At["[object Int16Array]"]=At["[object Int32Array]"]=At["[object Map]"]=At["[object Number]"]=At["[object Object]"]=At["[object RegExp]"]=At["[object Set]"]=At["[object String]"]=At["[object Symbol]"]=At["[object Uint8Array]"]=At["[object Uint8ClampedArray]"]=At["[object Uint16Array]"]=At["[object Uint32Array]"]=!0,At["[object Error]"]=At["[object Function]"]=At["[object WeakMap]"]=!1;var Pt=function e(t,n,r,o,i,a){var s,u=1&n,c=2&n,l=4&n;if(r&&(s=i?r(t,o,i,a):r(t)),void 0!==s)return s;if(!F(t))return t;var f=we(t);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&gt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!u)return Ye(t,s)}else{var d=pt(t),h="[object Function]"==d||"[object GeneratorFunction]"==d;if(_e(t))return Ze(t,u);if("[object Object]"==d||"[object Arguments]"==d||h&&!i){if(s=c||h?{}:kt(t),!u)return c?function(e,t){return pe(e,et(e),t)}(t,function(e,t){return e&&pe(t,We(t),e)}(s,t)):function(e,t){return pe(e,$e(e),t)}(t,function(e,t){return e&&pe(t,Ge(t),e)}(s,t))}else{if(!At[d])return i?t:{};s=Et(t,d,u)}}a||(a=new ue);var p=a.get(t);if(p)return p;a.set(t,s),Nt(t)?t.forEach((function(o){s.add(e(o,n,r,o,t,a))})):Ct(t)&&t.forEach((function(o,i){s.set(i,e(o,n,r,i,t,a))}));var g=f?void 0:(l?c?rt:nt:c?We:Ge)(t);return ce(g||t,(function(o,i){g&&(o=t[i=o]),he(s,i,e(o,n,r,i,t,a))})),s},Ot=function(e){return function(){return e}},It=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[++r];if(!1===t(o[s],s,o))break}return e},Dt=function(e,t){return e&&It(e,t,Ge)},Rt=function(e,t){return function(t,n){if(null==t)return t;if(!ze(t))return e(t,n);for(var r=t.length,o=-1,i=Object(t);++o<r&&!1!==n(i[o],o,i););return t}}(Dt),Lt=function(e){return e},jt=function(e){return"function"==typeof e?e:Lt},Ft=function(e,t){return(we(e)?ce:Rt)(e,jt(t))},Bt=Ft,zt=function(e,t){var n=[];return Rt(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n};function Gt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ae;++t<n;)this.add(e[t])}Gt.prototype.add=Gt.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Gt.prototype.has=function(e){return this.__data__.has(e)};var Vt=Gt,Ut=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Wt=function(e,t){return e.has(t)},Zt=function(e,t,n,r,o,i){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=i.get(e),l=i.get(t);if(c&&l)return c==t&&l==e;var f=-1,d=!0,h=2&n?new Vt:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var p=e[f],g=t[f];if(r)var v=a?r(g,p,f,t,e,i):r(p,g,f,e,t,i);if(void 0!==v){if(v)continue;d=!1;break}if(h){if(!Ut(t,(function(e,t){if(!Wt(h,t)&&(p===e||o(p,e,n,r,i)))return h.push(t)}))){d=!1;break}}else if(p!==g&&!o(p,g,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d},Yt=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},Ht=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Xt=A?A.prototype:void 0,Kt=Xt?Xt.valueOf:void 0,qt=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new vt(e),new vt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return w(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Yt;case"[object Set]":var u=1&r;if(s||(s=Ht),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=Zt(s(e),s(t),r,o,i,a);return a.delete(e),l;case"[object Symbol]":if(Kt)return Kt.call(e)==Kt.call(t)}return!1},$t=Object.prototype.hasOwnProperty,Jt=Object.prototype.hasOwnProperty,Qt=function(e,t,n,r,o,i){var a=we(e),s=we(t),u=a?"[object Array]":pt(e),c=s?"[object Array]":pt(t),l="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),f="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),d=u==c;if(d&&_e(e)){if(!_e(t))return!1;a=!0,l=!1}if(d&&!l)return i||(i=new ue),a||Pe(e)?Zt(e,t,n,r,o,i):qt(e,t,u,n,r,o,i);if(!(1&n)){var h=l&&Jt.call(e,"__wrapped__"),p=f&&Jt.call(t,"__wrapped__");if(h||p){var g=h?e.value():e,v=p?t.value():t;return i||(i=new ue),o(g,v,n,r,i)}}return!!d&&(i||(i=new ue),function(e,t,n,r,o,i){var a=1&n,s=nt(e),u=s.length;if(u!=nt(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:$t.call(t,l)))return!1}var f=i.get(e),d=i.get(t);if(f&&d)return f==t&&d==e;var h=!0;i.set(e,t),i.set(t,e);for(var p=a;++c<u;){var g=e[l=s[c]],v=t[l];if(r)var m=a?r(v,g,l,t,e,i):r(g,v,l,e,t,i);if(!(void 0===m?g===v||o(g,v,n,r,i):m)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return i.delete(e),i.delete(t),h}(e,t,n,r,o,i))},en=function e(t,n,r,o,i){return t===n||(null==t||null==n||!ge(t)&&!ge(n)?t!=t&&n!=n:Qt(t,n,r,o,e,i))},tn=function(e){return e==e&&!F(e)},nn=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},rn=function(e){var t=function(e){for(var t=Ge(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,tn(o)]}return t}(e);return 1==t.length&&t[0][2]?nn(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var u=(s=n[o])[0],c=e[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var f=new ue;if(r)var d=r(c,l,u,e,t,f);if(!(void 0===d?en(l,c,3,r,f):d))return!1}}return!0}(n,e,t)}},on=function(e){return"symbol"==typeof e||ge(e)&&"[object Symbol]"==j(e)},an=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sn=/^\w*$/,un=function(e,t){if(we(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!on(e))||sn.test(e)||!an.test(e)||null!=t&&e in Object(t)};function cn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(cn.Cache||ae),n}cn.Cache=ae;var ln,fn=cn,dn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hn=/\\(\\)?/g,pn=function(e){var t=fn((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(dn,(function(e,n,r,o){t.push(r?o.replace(hn,"$1"):n||e)})),t}),(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}(),gn=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},vn=A?A.prototype:void 0,mn=vn?vn.toString:void 0,yn=function e(t){if("string"==typeof t)return t;if(we(t))return gn(t,e)+"";if(on(t))return mn?mn.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},bn=function(e){return null==e?"":yn(e)},xn=function(e,t){return we(e)?e:un(e,t)?[e]:pn(bn(e))},wn=function(e){if("string"==typeof e||on(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},En=function(e,t){for(var n=0,r=(t=xn(t,e)).length;null!=e&&n<r;)e=e[wn(t[n++])];return n&&n==r?e:void 0},_n=function(e,t){return null!=e&&t in Object(e)},Sn=function(e,t,n){for(var r=-1,o=(t=xn(t,e)).length,i=!1;++r<o;){var a=wn(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Te(o)&&ke(a,o)&&(we(e)||xe(e))},kn=function(e,t){return null!=e&&Sn(e,t,_n)},Tn=function(e,t){return un(e)&&tn(t)?nn(wn(e),t):function(n){var r=function(e,t,n){var r=null==e?void 0:En(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?kn(n,e):en(t,r,3)}},Cn=function(e){return function(t){return null==t?void 0:t[e]}},Mn=function(e){return un(e)?Cn(wn(e)):function(e){return function(t){return En(t,e)}}(e)},Nn=function(e){return"function"==typeof e?e:null==e?Lt:"object"==typeof e?we(e)?Tn(e[0],e[1]):rn(e):Mn(e)},An=function(e,t){return(we(e)?He:zt)(e,Nn(t))},Pn=Object.prototype.hasOwnProperty,On=function(e,t){return null!=e&&Pn.call(e,t)},In=function(e,t){return null!=e&&Sn(e,t,On)},Dn=Object.prototype.hasOwnProperty,Rn=function(e){return void 0===e},Ln=function(e,t){var n=-1,r=ze(e)?Array(e.length):[];return Rt(e,(function(e,o,i){r[++n]=t(e,o,i)})),r},jn=function(e,t){return(we(e)?gn:Ln)(e,Nn(t))},Fn=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n},Bn=function(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n},zn=function(e,t,n){var r=we(e)?Fn:Bn,o=arguments.length<3;return r(e,Nn(t),n,o,Rt)},Gn=Cn("length"),Vn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Un="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Wn="\\ud83c[\\udffb-\\udfff]",Zn="[^\\ud800-\\udfff]",Yn="(?:\\ud83c[\\udde6-\\uddff]){2}",Hn="[\\ud800-\\udbff][\\udc00-\\udfff]",Xn="(?:"+Un+"|"+Wn+")?",Kn="[\\ufe0e\\ufe0f]?"+Xn+"(?:\\u200d(?:"+[Zn,Yn,Hn].join("|")+")[\\ufe0e\\ufe0f]?"+Xn+")*",qn="(?:"+[Zn+Un+"?",Un,Yn,Hn,"[\\ud800-\\udfff]"].join("|")+")",$n=RegExp(Wn+"(?="+Wn+")|"+qn+Kn,"g"),Jn=function(e){return function(e){return Vn.test(e)}(e)?function(e){for(var t=$n.lastIndex=0;$n.test(e);)++t;return t}(e):Gn(e)},Qn=A?A.isConcatSpreadable:void 0,er=function(e){return we(e)||xe(e)||!!(Qn&&e&&e[Qn])},tr=function e(t,n,r,o,i){var a=-1,s=t.length;for(r||(r=er),i||(i=[]);++a<s;){var u=t[a];n>0&&r(u)?n>1?e(u,n-1,r,o,i):Je(i,u):o||(i[i.length]=u)}return i},nr=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},rr=Math.max,or=function(e,t,n){return t=rr(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=rr(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),nr(e,this,s)}},ir=le?function(e,t){return le(e,"toString",{configurable:!0,enumerable:!1,value:Ot(t),writable:!0})}:Lt,ar=Date.now,sr=function(e){var t=0,n=0;return function(){var r=ar(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ir),ur=function(e,t){return sr(or(e,t,Lt),e+"")},cr=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1},lr=function(e){return e!=e},fr=function(e,t){return!(null==e||!e.length)&&function(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):cr(e,lr,n)}(e,t,0)>-1},dr=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1},hr=at&&1/Ht(new at([,-0]))[1]==1/0?function(e){return new at(e)}:function(){},pr=function(e){return ge(e)&&ze(e)},gr=ur((function(e){return function(e,t,n){var r=-1,o=fr,i=e.length,a=!0,s=[],u=s;if(n)a=!1,o=dr;else if(i>=200){var c=t?null:hr(e);if(c)return Ht(c);a=!1,o=Wt,u=new Vt}else u=t?[]:s;e:for(;++r<i;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),s.push(l)}else o(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}(tr(e,1,pr,!0))})),vr=function(e){return null==e?[]:function(e,t){return gn(t,(function(t){return e[t]}))}(e,Ge(e))};try{ln={clone:function(e){return Pt(e,4)},constant:Ot,each:Bt,filter:An,has:In,isArray:we,isEmpty:function(e){if(null==e)return!0;if(ze(e)&&(we(e)||"string"==typeof e||"function"==typeof e.splice||_e(e)||Pe(e)||xe(e)))return!e.length;var t=pt(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Re(e))return!Be(e).length;for(var n in e)if(Dn.call(e,n))return!1;return!0},isFunction:B,isUndefined:Rn,keys:Ge,map:jn,reduce:zn,size:function(e){if(null==e)return 0;if(ze(e))return function(e){return"string"==typeof e||!we(e)&&ge(e)&&"[object String]"==j(e)}(e)?Jn(e):e.length;var t=pt(e);return"[object Map]"==t||"[object Set]"==t?e.size:Be(e).length},transform:function(e,t,n){var r=we(e),o=r||_e(e)||Pe(e);if(t=Nn(t),null==n){var i=e&&e.constructor;n=o?r?new i:[]:F(e)&&B(i)?St(Qe(e)):{}}return(o?ce:Dt)(e,(function(e,r,o){return t(n,e,r,o)})),n},union:gr,values:vr}}catch(l){}ln||(ln=window._);var mr=ln,yr=br;function br(e){this._isDirected=!mr.has(e,"directed")||e.directed,this._isMultigraph=!!mr.has(e,"multigraph")&&e.multigraph,this._isCompound=!!mr.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=mr.constant(void 0),this._defaultEdgeLabelFn=mr.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function xr(e,t){e[t]?e[t]++:e[t]=1}function wr(e,t){--e[t]||delete e[t]}function Er(e,t,n,r){var o=""+t,i=""+n;if(!e&&o>i){var a=o;o=i,i=a}return o+"\x01"+i+"\x01"+(mr.isUndefined(r)?"\0":r)}function _r(e,t,n,r){var o=""+t,i=""+n;if(!e&&o>i){var a=o;o=i,i=a}var s={v:o,w:i};return r&&(s.name=r),s}function Sr(e,t){return Er(e,t.v,t.w,t.name)}br.prototype._nodeCount=0,br.prototype._edgeCount=0,br.prototype.isDirected=function(){return this._isDirected},br.prototype.isMultigraph=function(){return this._isMultigraph},br.prototype.isCompound=function(){return this._isCompound},br.prototype.setGraph=function(e){return this._label=e,this},br.prototype.graph=function(){return this._label},br.prototype.setDefaultNodeLabel=function(e){return mr.isFunction(e)||(e=mr.constant(e)),this._defaultNodeLabelFn=e,this},br.prototype.nodeCount=function(){return this._nodeCount},br.prototype.nodes=function(){return mr.keys(this._nodes)},br.prototype.sources=function(){var e=this;return mr.filter(this.nodes(),(function(t){return mr.isEmpty(e._in[t])}))},br.prototype.sinks=function(){var e=this;return mr.filter(this.nodes(),(function(t){return mr.isEmpty(e._out[t])}))},br.prototype.setNodes=function(e,t){var n=arguments,r=this;return mr.each(e,(function(e){n.length>1?r.setNode(e,t):r.setNode(e)})),this},br.prototype.setNode=function(e,t){return mr.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]="\0",this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},br.prototype.node=function(e){return this._nodes[e]},br.prototype.hasNode=function(e){return mr.has(this._nodes,e)},br.prototype.removeNode=function(e){var t=this;if(mr.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],mr.each(this.children(e),(function(e){t.setParent(e)})),delete this._children[e]),mr.each(mr.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],mr.each(mr.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},br.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(mr.isUndefined(t))t="\0";else{for(var n=t+="";!mr.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},br.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},br.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if("\0"!==t)return t}},br.prototype.children=function(e){if(mr.isUndefined(e)&&(e="\0"),this._isCompound){var t=this._children[e];if(t)return mr.keys(t)}else{if("\0"===e)return this.nodes();if(this.hasNode(e))return[]}},br.prototype.predecessors=function(e){var t=this._preds[e];if(t)return mr.keys(t)},br.prototype.successors=function(e){var t=this._sucs[e];if(t)return mr.keys(t)},br.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return mr.union(t,this.successors(e))},br.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},br.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;mr.each(this._nodes,(function(n,r){e(r)&&t.setNode(r,n)})),mr.each(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))}));var r={};function o(e){var i=n.parent(e);return void 0===i||t.hasNode(i)?(r[e]=i,i):i in r?r[i]:o(i)}return this._isCompound&&mr.each(t.nodes(),(function(e){t.setParent(e,o(e))})),t},br.prototype.setDefaultEdgeLabel=function(e){return mr.isFunction(e)||(e=mr.constant(e)),this._defaultEdgeLabelFn=e,this},br.prototype.edgeCount=function(){return this._edgeCount},br.prototype.edges=function(){return mr.values(this._edgeObjs)},br.prototype.setPath=function(e,t){var n=this,r=arguments;return mr.reduce(e,(function(e,o){return r.length>1?n.setEdge(e,o,t):n.setEdge(e,o),o})),this},br.prototype.setEdge=function(){var e,t,n,r,o=!1,i=arguments[0];"object"==typeof i&&null!==i&&"v"in i?(e=i.v,t=i.w,n=i.name,2===arguments.length&&(r=arguments[1],o=!0)):(e=i,t=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],o=!0)),e=""+e,t=""+t,mr.isUndefined(n)||(n=""+n);var a=Er(this._isDirected,e,t,n);if(mr.has(this._edgeLabels,a))return o&&(this._edgeLabels[a]=r),this;if(!mr.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[a]=o?r:this._defaultEdgeLabelFn(e,t,n);var s=_r(this._isDirected,e,t,n);return e=s.v,t=s.w,Object.freeze(s),this._edgeObjs[a]=s,xr(this._preds[t],e),xr(this._sucs[e],t),this._in[t][a]=s,this._out[e][a]=s,this._edgeCount++,this},br.prototype.edge=function(e,t,n){var r=1===arguments.length?Sr(this._isDirected,arguments[0]):Er(this._isDirected,e,t,n);return this._edgeLabels[r]},br.prototype.hasEdge=function(e,t,n){var r=1===arguments.length?Sr(this._isDirected,arguments[0]):Er(this._isDirected,e,t,n);return mr.has(this._edgeLabels,r)},br.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?Sr(this._isDirected,arguments[0]):Er(this._isDirected,e,t,n),o=this._edgeObjs[r];return o&&(e=o.v,t=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],wr(this._preds[t],e),wr(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},br.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var r=mr.values(n);return t?mr.filter(r,(function(e){return e.v===t})):r}},br.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var r=mr.values(n);return t?mr.filter(r,(function(e){return e.w===t})):r}},br.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))};var kr={Graph:yr,version:"2.1.8"},Tr={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:Cr(e),edges:Mr(e)};return mr.isUndefined(e.graph())||(t.value=mr.clone(e.graph())),t},read:function(e){var t=new yr(e.options).setGraph(e.value);return mr.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),mr.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}};function Cr(e){return mr.map(e.nodes(),(function(t){var n=e.node(t),r=e.parent(t),o={v:t};return mr.isUndefined(n)||(o.value=n),mr.isUndefined(r)||(o.parent=r),o}))}function Mr(e){return mr.map(e.edges(),(function(t){var n=e.edge(t),r={v:t.v,w:t.w};return mr.isUndefined(t.name)||(r.name=t.name),mr.isUndefined(n)||(r.value=n),r}))}var Nr=Ar;function Ar(){this._arr=[],this._keyIndices={}}Ar.prototype.size=function(){return this._arr.length},Ar.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},Ar.prototype.has=function(e){return mr.has(this._keyIndices,e)},Ar.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},Ar.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},Ar.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!mr.has(n,e)){var r=this._arr,o=r.length;return n[e]=o,r.push({key:e,priority:t}),this._decrease(o),!0}return!1},Ar.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},Ar.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},Ar.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,o=e;n<t.length&&(o=t[n].priority<t[o].priority?n:o,r<t.length&&(o=t[r].priority<t[o].priority?r:o),o!==e&&(this._swap(e,o),this._heapify(o)))},Ar.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},Ar.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,o=n[e],i=n[t];n[e]=i,n[t]=o,r[i.key]=e,r[o.key]=t};var Pr=function(e,t,n,r){return function(e,t,n,r){var o,i,a={},s=new Nr,u=function(e){var t=e.v!==o?e.v:e.w,r=a[t],u=n(e),c=i.distance+u;if(u<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+u);c<r.distance&&(r.distance=c,r.predecessor=o,s.decrease(t,c))};for(e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;a[e]={distance:n},s.add(e,n)}));s.size()>0&&(o=s.removeMin(),(i=a[o]).distance!==Number.POSITIVE_INFINITY);)r(o).forEach(u);return a}(e,String(t),n||Or,r||function(t){return e.outEdges(t)})},Or=mr.constant(1),Ir=function(e){var t=0,n=[],r={},o=[];function i(a){var s=r[a]={onStack:!0,lowlink:t,index:t++};if(n.push(a),e.successors(a).forEach((function(e){mr.has(r,e)?r[e].onStack&&(s.lowlink=Math.min(s.lowlink,r[e].index)):(i(e),s.lowlink=Math.min(s.lowlink,r[e].lowlink))})),s.lowlink===s.index){var u,c=[];do{u=n.pop(),r[u].onStack=!1,c.push(u)}while(a!==u);o.push(c)}}return e.nodes().forEach((function(e){mr.has(r,e)||i(e)})),o},Dr=mr.constant(1),Rr=Lr;function Lr(e){var t={},n={},r=[];if(mr.each(e.sinks(),(function o(i){if(mr.has(n,i))throw new jr;mr.has(t,i)||(n[i]=!0,t[i]=!0,mr.each(e.predecessors(i),o),delete n[i],r.push(i))})),mr.size(t)!==e.nodeCount())throw new jr;return r}function jr(){}Lr.CycleException=jr,jr.prototype=new Error;var Fr=function(e,t,n){mr.isArray(t)||(t=[t]);var r=(e.isDirected()?e.successors:e.neighbors).bind(e),o=[],i={};return mr.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);Br(e,t,"post"===n,i,r,o)})),o};function Br(e,t,n,r,o,i){mr.has(r,t)||(r[t]=!0,n||i.push(t),mr.each(o(t),(function(t){Br(e,t,n,r,o,i)})),n&&i.push(t))}var zr,Gr={Graph:kr.Graph,json:Tr,alg:{components:function(e){var t,n={},r=[];function o(r){mr.has(n,r)||(n[r]=!0,t.push(r),mr.each(e.successors(r),o),mr.each(e.predecessors(r),o))}return mr.each(e.nodes(),(function(e){t=[],o(e),t.length&&r.push(t)})),r},dijkstra:Pr,dijkstraAll:function(e,t,n){return mr.transform(e.nodes(),(function(r,o){r[o]=Pr(e,o,t,n)}),{})},findCycles:function(e){return mr.filter(Ir(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))},floydWarshall:function(e,t,n){return function(e,t,n){var r={},o=e.nodes();return o.forEach((function(e){r[e]={},r[e][e]={distance:0},o.forEach((function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var o=n.v===e?n.w:n.v,i=t(n);r[e][o]={distance:i,predecessor:e}}))})),o.forEach((function(e){var t=r[e];o.forEach((function(n){var i=r[n];o.forEach((function(n){var r=i[e],o=t[n],a=i[n],s=r.distance+o.distance;s<a.distance&&(a.distance=s,a.predecessor=o.predecessor)}))}))})),r}(e,t||Dr,n||function(t){return e.outEdges(t)})},isAcyclic:function(e){try{Rr(e)}catch(e){if(e instanceof Rr.CycleException)return!1;throw e}return!0},postorder:function(e,t){return Fr(e,t,"post")},preorder:function(e,t){return Fr(e,t,"pre")},prim:function(e,t){var n,r=new yr,o={},i=new Nr;function a(e){var r=e.v===n?e.w:e.v,a=i.priority(r);if(void 0!==a){var s=t(e);s<a&&(o[r]=n,i.decrease(r,s))}}if(0===e.nodeCount())return r;mr.each(e.nodes(),(function(e){i.add(e,Number.POSITIVE_INFINITY),r.setNode(e)})),i.decrease(e.nodes()[0],0);for(var s=!1;i.size()>0;){if(n=i.removeMin(),mr.has(o,n))r.setEdge(n,o[n]);else{if(s)throw new Error("Input graph is not connected: "+e);s=!0}e.nodeEdges(n).forEach(a)}return r},tarjan:Ir,topsort:Rr},version:kr.version};try{zr=Gr}catch(l){}zr||(zr=window.graphlib);var Vr,Ur=zr,Wr=function(e,t,n){if(!F(n))return!1;var r=typeof t;return!!("number"==r?ze(n)&&ke(t,n.length):"string"==r&&t in n)&&w(n[t],e)},Zr=Object.prototype,Yr=Zr.hasOwnProperty,Hr=ur((function(e,t){e=Object(e);var n=-1,r=t.length,o=r>2?t[2]:void 0;for(o&&Wr(t[0],t[1],o)&&(r=1);++n<r;)for(var i=t[n],a=We(i),s=-1,u=a.length;++s<u;){var c=a[s],l=e[c];(void 0===l||w(l,Zr[c])&&!Yr.call(e,c))&&(e[c]=i[c])}return e})),Xr=/^\s+|\s+$/g,Kr=/^[-+]0x[0-9a-f]+$/i,qr=/^0b[01]+$/i,$r=/^0o[0-7]+$/i,Jr=parseInt,Qr=function(e){return e?1/0===(e=function(e){if("number"==typeof e)return e;if(on(e))return NaN;if(F(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=F(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Xr,"");var n=qr.test(e);return n||$r.test(e)?Jr(e.slice(2),n?2:8):Kr.test(e)?NaN:+e}(e))||-1/0===e?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},eo=Math.max,to=function(e){return function(t,n,r){var o=Object(t);if(!ze(t)){var i=Nn(n);t=Ge(t),n=function(e){return i(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[i?t[a]:a]:void 0}}((function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:function(e){var t=Qr(e),n=t%1;return t==t?n?t-n:t:0}(n);return o<0&&(o=eo(r+o,0)),cr(e,Nn(t),o)})),no=function(e){return null!=e&&e.length?tr(e,1):[]},ro=function(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],a=t(i);if(null!=a&&(void 0===s?a==a&&!on(a):n(a,s)))var s=a,u=i}return u},oo=function(e,t){return e>t},io=function(e,t,n){(void 0!==n&&!w(e[t],n)||void 0===n&&!(t in e))&&fe(e,t,n)},ao=Function.prototype,so=Object.prototype,uo=ao.toString,co=so.hasOwnProperty,lo=uo.call(Object),fo=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},ho=function(e,t,n,r,o,i,a){var s=fo(e,n),u=fo(t,n),c=a.get(u);if(c)io(e,n,c);else{var l=i?i(s,u,n+"",e,t,a):void 0,f=void 0===l;if(f){var d=we(u),h=!d&&_e(u),p=!d&&!h&&Pe(u);l=u,d||h||p?we(s)?l=s:pr(s)?l=Ye(s):h?(f=!1,l=Ze(u,!0)):p?(f=!1,l=wt(u,!0)):l=[]:function(e){if(!ge(e)||"[object Object]"!=j(e))return!1;var t=Qe(e);if(null===t)return!0;var n=co.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&uo.call(n)==lo}(u)||xe(u)?(l=s,xe(s)?l=function(e){return pe(e,We(e))}(s):F(s)&&!B(s)||(l=kt(u))):f=!1}f&&(a.set(u,l),o(l,u,r,i,a),a.delete(u)),io(e,n,l)}},po=function e(t,n,r,o,i){t!==n&&It(n,(function(a,s){if(i||(i=new ue),F(a))ho(t,n,s,r,e,o,i);else{var u=o?o(fo(t,s),a,s+"",t,n,i):void 0;void 0===u&&(u=a),io(t,s,u)}}),We)},go=function(e){return ur((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&Wr(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r)}return t}))}((function(e,t,n){po(e,t,n)})),vo=function(e,t){return e<t},mo=function(e,t,n,r){if(!F(e))return e;for(var o=-1,i=(t=xn(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var u=wn(t[o]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=F(l)?l:ke(t[o+1])?[]:{})}he(s,u,c),s=s[u]}return e},yo=function(e,t){return function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=En(e,a);n(s,a)&&mo(i,xn(a,e),s)}return i}(e,t,(function(t,n){return kn(e,n)}))},bo=function(e){return sr(or(e,void 0,no),e+"")}((function(e,t){return null==e?{}:yo(e,t)})),xo=Math.ceil,wo=Math.max,Eo=function(e,t,n){return n&&"number"!=typeof n&&Wr(e,t,n)&&(t=n=void 0),e=Qr(e),void 0===t?(t=e,e=0):t=Qr(t),function(e,t,n,r){for(var o=-1,i=wo(xo((t-e)/(n||1)),0),a=Array(i);i--;)a[r?i:++o]=e,e+=n;return a}(e,t,n=void 0===n?e<t?1:-1:Qr(n),void 0)},_o=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,i=on(e),a=void 0!==t,s=null===t,u=t==t,c=on(t);if(!s&&!c&&!i&&e>t||i&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!o)return 1;if(!r&&!i&&!c&&e<t||c&&n&&o&&!r&&!i||s&&n&&o||!a&&o||!u)return-1}return 0},So=function(e,t,n){t=t.length?gn(t,(function(e){return we(e)?function(t){return En(t,1===e.length?e[0]:e)}:e})):[Lt];var r=-1;t=gn(t,Me(Nn));var o=Ln(e,(function(e,n,o){return{criteria:gn(t,(function(t){return t(e)})),index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,(function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;++r<a;){var u=_o(o[r],i[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))},ko=ur((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Wr(e,t[0],t[1])?t=[]:n>2&&Wr(t[0],t[1],t[2])&&(t=[t[0]]),So(e,tr(t,1),[])})),To=0;try{Vr={cloneDeep:function(e){return Pt(e,5)},constant:Ot,defaults:Hr,each:Bt,filter:An,find:to,flatten:no,forEach:Ft,forIn:function(e,t){return null==e?e:It(e,jt(t),We)},has:In,isUndefined:Rn,last:function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},map:jn,mapValues:function(e,t){var n={};return t=Nn(t),Dt(e,(function(e,r,o){fe(n,r,t(e,r,o))})),n},max:function(e){return e&&e.length?ro(e,Lt,oo):void 0},merge:go,min:function(e){return e&&e.length?ro(e,Lt,vo):void 0},minBy:function(e,t){return e&&e.length?ro(e,Nn(t),vo):void 0},now:function(){return N.Date.now()},pick:bo,range:Eo,reduce:zn,sortBy:ko,uniqueId:function(e){var t=++To;return bn(e)+t},values:vr,zipObject:function(e,t){return function(e,t,n){for(var r=-1,o=e.length,i=t.length,a={};++r<o;){var s=r<i?t[r]:void 0;n(a,e[r],s)}return a}(e||[],t||[],he)}}}catch(l){}Vr||(Vr=window._);var Co=Vr,Mo=No;function No(){var e={};e._next=e._prev=e,this._sentinel=e}function Ao(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function Po(e,t){if("_next"!==e&&"_prev"!==e)return t}No.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return Ao(t),t},No.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&Ao(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},No.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,Po)),n=n._prev;return"["+e.join(", ")+"]"};var Oo=Ur.Graph,Io=Co.constant(1);function Do(e,t,n,r,o){var i=o?[]:void 0;return Co.forEach(e.inEdges(r.v),(function(r){var a=e.edge(r),s=e.node(r.v);o&&i.push({v:r.v,w:r.w}),s.out-=a,Ro(t,n,s)})),Co.forEach(e.outEdges(r.v),(function(r){var o=e.edge(r),i=r.w,a=e.node(i);a.in-=o,Ro(t,n,a)})),e.removeNode(r.v),i}function Ro(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var Lo=function(e){var t="greedy"===e.graph().acyclicer?function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new Oo,r=0,o=0;Co.forEach(e.nodes(),(function(e){n.setNode(e,{v:e,in:0,out:0})})),Co.forEach(e.edges(),(function(e){var i=n.edge(e.v,e.w)||0,a=t(e),s=i+a;n.setEdge(e.v,e.w,s),o=Math.max(o,n.node(e.v).out+=a),r=Math.max(r,n.node(e.w).in+=a)}));var i=Co.range(o+r+3).map((function(){return new Mo})),a=r+1;return Co.forEach(n.nodes(),(function(e){Ro(i,a,n.node(e))})),{graph:n,buckets:i,zeroIdx:a}}(e,t||Io),r=function(e,t,n){for(var r,o=[],i=t[t.length-1],a=t[0];e.nodeCount();){for(;r=a.dequeue();)Do(e,t,n,r);for(;r=i.dequeue();)Do(e,t,n,r);if(e.nodeCount())for(var s=t.length-2;s>0;--s)if(r=t[s].dequeue()){o=o.concat(Do(e,t,n,r,!0));break}}return o}(n.graph,n.buckets,n.zeroIdx);return Co.flatten(Co.map(r,(function(t){return e.outEdges(t.v,t.w)})),!0)}(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},r={};return Co.forEach(e.nodes(),(function o(i){Co.has(r,i)||(r[i]=!0,n[i]=!0,Co.forEach(e.outEdges(i),(function(e){Co.has(n,e.w)?t.push(e):o(e.w)})),delete n[i])})),t}(e);Co.forEach(t,(function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,Co.uniqueId("rev"))}))},jo=function(e){Co.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}}))},Fo=Ur.Graph,Bo={addDummyNode:zo,simplify:function(e){var t=(new Fo).setGraph(e.graph());return Co.forEach(e.nodes(),(function(n){t.setNode(n,e.node(n))})),Co.forEach(e.edges(),(function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},o=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})})),t},asNonCompoundGraph:function(e){var t=new Fo({multigraph:e.isMultigraph()}).setGraph(e.graph());return Co.forEach(e.nodes(),(function(n){e.children(n).length||t.setNode(n,e.node(n))})),Co.forEach(e.edges(),(function(n){t.setEdge(n,e.edge(n))})),t},successorWeights:function(e){var t=Co.map(e.nodes(),(function(t){var n={};return Co.forEach(e.outEdges(t),(function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight})),n}));return Co.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=Co.map(e.nodes(),(function(t){var n={};return Co.forEach(e.inEdges(t),(function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight})),n}));return Co.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,r,o=e.x,i=e.y,a=t.x-o,s=t.y-i,u=e.width/2,c=e.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*u>Math.abs(a)*c?(s<0&&(c=-c),n=c*a/s,r=c):(a<0&&(u=-u),n=u,r=u*s/a),{x:o+n,y:i+r}},buildLayerMatrix:function(e){var t=Co.map(Co.range(Go(e)+1),(function(){return[]}));return Co.forEach(e.nodes(),(function(n){var r=e.node(n),o=r.rank;Co.isUndefined(o)||(t[o][r.order]=n)})),t},normalizeRanks:function(e){var t=Co.min(Co.map(e.nodes(),(function(t){return e.node(t).rank})));Co.forEach(e.nodes(),(function(n){var r=e.node(n);Co.has(r,"rank")&&(r.rank-=t)}))},removeEmptyRanks:function(e){var t=Co.min(Co.map(e.nodes(),(function(t){return e.node(t).rank}))),n=[];Co.forEach(e.nodes(),(function(r){var o=e.node(r).rank-t;n[o]||(n[o]=[]),n[o].push(r)}));var r=0,o=e.graph().nodeRankFactor;Co.forEach(n,(function(t,n){Co.isUndefined(t)&&n%o!=0?--r:r&&Co.forEach(t,(function(t){e.node(t).rank+=r}))}))},addBorderNode:function(e,t,n,r){var o={width:0,height:0};return arguments.length>=4&&(o.rank=n,o.order=r),zo(e,"border",o,t)},maxRank:Go,partition:function(e,t){var n={lhs:[],rhs:[]};return Co.forEach(e,(function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n},time:function(e,t){var n=Co.now();try{return t()}finally{console.log(e+" time: "+(Co.now()-n)+"ms")}},notime:function(e,t){return t()}};function zo(e,t,n,r){var o;do{o=Co.uniqueId(r)}while(e.hasNode(o));return n.dummy=t,e.setNode(o,n),o}function Go(e){return Co.max(Co.map(e.nodes(),(function(t){var n=e.node(t).rank;if(!Co.isUndefined(n))return n})))}var Vo=function(e){e.graph().dummyChains=[],Co.forEach(e.edges(),(function(t){!function(e,t){var n,r,o,i=t.v,a=e.node(i).rank,s=t.w,u=e.node(s).rank,c=t.name,l=e.edge(t),f=l.labelRank;if(u!==a+1){for(e.removeEdge(t),o=0,++a;a<u;++o,++a)l.points=[],r={width:0,height:0,edgeLabel:l,edgeObj:t,rank:a},n=Bo.addDummyNode(e,"edge",r,"_d"),a===f&&(r.width=l.width,r.height=l.height,r.dummy="edge-label",r.labelpos=l.labelpos),e.setEdge(i,n,{weight:l.weight},c),0===o&&e.graph().dummyChains.push(n),i=n;e.setEdge(i,s,{weight:l.weight},c)}}(e,t)}))},Uo=function(e){Co.forEach(e.graph().dummyChains,(function(t){var n,r=e.node(t),o=r.edgeLabel;for(e.setEdge(r.edgeObj,o);r.dummy;)n=e.successors(t)[0],e.removeNode(t),o.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),t=n,r=e.node(t)}))},Wo=function(e){var t={};Co.forEach(e.sources(),(function n(r){var o=e.node(r);if(Co.has(t,r))return o.rank;t[r]=!0;var i=Co.min(Co.map(e.outEdges(r),(function(t){return n(t.w)-e.edge(t).minlen})));return i!==Number.POSITIVE_INFINITY&&null!=i||(i=0),o.rank=i}))},Zo=function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen},Yo=Ur.Graph,Ho=Zo,Xo=function(e){var t,n,r=new Yo({directed:!1}),o=e.nodes()[0],i=e.nodeCount();for(r.setNode(o,{});Ko(r,e)<i;)t=qo(r,e),n=r.hasNode(t.v)?Ho(e,t):-Ho(e,t),$o(r,e,n);return r};function Ko(e,t){return Co.forEach(e.nodes(),(function n(r){Co.forEach(t.nodeEdges(r),(function(o){var i=o.v,a=r===i?o.w:i;e.hasNode(a)||Ho(t,o)||(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))}))})),e.nodeCount()}function qo(e,t){return Co.minBy(t.edges(),(function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Ho(t,n)}))}function $o(e,t,n){Co.forEach(e.nodes(),(function(e){t.node(e).rank+=n}))}var Jo=Zo,Qo=Wo,ei=Ur.alg.preorder,ti=Ur.alg.postorder,ni=Bo.simplify,ri=oi;function oi(e){e=ni(e),Qo(e);var t,n=Xo(e);for(si(n),ii(n,e);t=ci(n);)fi(n,e,t,li(n,e,t))}function ii(e,t){var n=ti(e,e.nodes());n=n.slice(0,n.length-1),Co.forEach(n,(function(n){!function(e,t,n){var r=e.node(n).parent;e.edge(n,r).cutvalue=ai(e,t,n)}(e,t,n)}))}function ai(e,t,n){var r=e.node(n).parent,o=!0,i=t.edge(n,r),a=0;return i||(o=!1,i=t.edge(r,n)),a=i.weight,Co.forEach(t.nodeEdges(n),(function(i){var s,u,c=i.v===n,l=c?i.w:i.v;if(l!==r){var f=c===o,d=t.edge(i).weight;if(a+=f?d:-d,s=n,u=l,e.hasEdge(s,u)){var h=e.edge(n,l).cutvalue;a+=f?-h:h}}})),a}function si(e,t){arguments.length<2&&(t=e.nodes()[0]),ui(e,{},1,t)}function ui(e,t,n,r,o){var i=n,a=e.node(r);return t[r]=!0,Co.forEach(e.neighbors(r),(function(o){Co.has(t,o)||(n=ui(e,t,n,o,r))})),a.low=i,a.lim=n++,o?a.parent=o:delete a.parent,n}function ci(e){return Co.find(e.edges(),(function(t){return e.edge(t).cutvalue<0}))}function li(e,t,n){var r=n.v,o=n.w;t.hasEdge(r,o)||(r=n.w,o=n.v);var i=e.node(r),a=e.node(o),s=i,u=!1;i.lim>a.lim&&(s=a,u=!0);var c=Co.filter(t.edges(),(function(t){return u===di(e,e.node(t.v),s)&&u!==di(e,e.node(t.w),s)}));return Co.minBy(c,(function(e){return Jo(t,e)}))}function fi(e,t,n,r){var o=n.v,i=n.w;e.removeEdge(o,i),e.setEdge(r.v,r.w,{}),si(e),ii(e,t),function(e,t){var n=Co.find(e.nodes(),(function(e){return!t.node(e).parent})),r=ei(e,n);r=r.slice(1),Co.forEach(r,(function(n){var r=e.node(n).parent,o=t.edge(n,r),i=!1;o||(o=t.edge(r,n),i=!0),t.node(n).rank=t.node(r).rank+(i?o.minlen:-o.minlen)}))}(e,t)}function di(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}oi.initLowLimValues=si,oi.initCutValues=ii,oi.calcCutValue=ai,oi.leaveEdge=ci,oi.enterEdge=li,oi.exchangeEdges=fi;var hi=Wo,pi=hi;function gi(e){ri(e)}var vi=function(e){var t=Bo.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(r,o){var i=e.children(r);i&&i.length&&Co.forEach(i,(function(e){n(e,o+1)})),t[r]=o}return Co.forEach(e.children(),(function(e){n(e,1)})),t}(e),r=Co.max(Co.values(n))-1,o=2*r+1;e.graph().nestingRoot=t,Co.forEach(e.edges(),(function(t){e.edge(t).minlen*=o}));var i=function(e){return Co.reduce(e.edges(),(function(t,n){return t+e.edge(n).weight}),0)}(e)+1;Co.forEach(e.children(),(function(a){yi(e,t,o,i,r,n,a)})),e.graph().nodeRankFactor=o},mi=function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Co.forEach(e.edges(),(function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))};function yi(e,t,n,r,o,i,a){var s=e.children(a);if(s.length){var u=Bo.addBorderNode(e,"_bt"),c=Bo.addBorderNode(e,"_bb"),l=e.node(a);e.setParent(u,a),l.borderTop=u,e.setParent(c,a),l.borderBottom=c,Co.forEach(s,(function(s){yi(e,t,n,r,o,i,s);var l=e.node(s),f=l.borderTop?l.borderTop:s,d=l.borderBottom?l.borderBottom:s,h=l.borderTop?r:2*r,p=f!==d?1:o-i[a]+1;e.setEdge(u,f,{weight:h,minlen:p,nestingEdge:!0}),e.setEdge(d,c,{weight:h,minlen:p,nestingEdge:!0})})),e.parent(a)||e.setEdge(t,u,{weight:0,minlen:o+i[a]})}else a!==t&&e.setEdge(t,a,{weight:0,minlen:n})}function bi(e,t,n,r,o,i){var a={width:0,height:0,rank:i,borderType:t},s=o[t][i-1],u=Bo.addDummyNode(e,"border",a,n);o[t][i]=u,e.setParent(u,r),s&&e.setEdge(s,u,{weight:1})}var xi=function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||Ei(e)},wi=function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){Co.forEach(e.nodes(),(function(t){Si(e.node(t))})),Co.forEach(e.edges(),(function(t){var n=e.edge(t);Co.forEach(n.points,Si),Co.has(n,"y")&&Si(n)}))}(e),"lr"!==t&&"rl"!==t||(function(e){Co.forEach(e.nodes(),(function(t){ki(e.node(t))})),Co.forEach(e.edges(),(function(t){var n=e.edge(t);Co.forEach(n.points,ki),Co.has(n,"x")&&ki(n)}))}(e),Ei(e))};function Ei(e){Co.forEach(e.nodes(),(function(t){_i(e.node(t))})),Co.forEach(e.edges(),(function(t){_i(e.edge(t))}))}function _i(e){var t=e.width;e.width=e.height,e.height=t}function Si(e){e.y=-e.y}function ki(e){var t=e.x;e.x=e.y,e.y=t}var Ti=function(e,t){for(var n=0,r=1;r<t.length;++r)n+=Ci(e,t[r-1],t[r]);return n};function Ci(e,t,n){for(var r=Co.zipObject(n,Co.map(n,(function(e,t){return t}))),o=Co.flatten(Co.map(t,(function(t){return Co.sortBy(Co.map(e.outEdges(t),(function(t){return{pos:r[t.w],weight:e.edge(t).weight}})),"pos")})),!0),i=1;i<n.length;)i<<=1;var a=2*i-1;i-=1;var s=Co.map(new Array(a),(function(){return 0})),u=0;return Co.forEach(o.forEach((function(e){var t=e.pos+i;s[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=s[t+1]),s[t=t-1>>1]+=e.weight;u+=e.weight*n}))),u}function Mi(e,t,n){for(var r;t.length&&(r=Co.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}var Ni=function e(t,n,r,o){var i=t.children(n),a=t.node(n),s=a?a.borderLeft:void 0,u=a?a.borderRight:void 0,c={};s&&(i=Co.filter(i,(function(e){return e!==s&&e!==u})));var l=function(e,t){return Co.map(t,(function(t){var n=e.inEdges(t);if(n.length){var r=Co.reduce(n,(function(t,n){var r=e.edge(n),o=e.node(n.v);return{sum:t.sum+r.weight*o.order,weight:t.weight+r.weight}}),{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}}))}(t,i);Co.forEach(l,(function(n){if(t.children(n.v).length){var i=e(t,n.v,r,o);c[n.v]=i,Co.has(i,"barycenter")&&(a=n,s=i,Co.isUndefined(a.barycenter)?(a.barycenter=s.barycenter,a.weight=s.weight):(a.barycenter=(a.barycenter*a.weight+s.barycenter*s.weight)/(a.weight+s.weight),a.weight+=s.weight))}var a,s}));var f=function(e,t){var n={};return Co.forEach(e,(function(e,t){var r=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};Co.isUndefined(e.barycenter)||(r.barycenter=e.barycenter,r.weight=e.weight)})),Co.forEach(t.edges(),(function(e){var t=n[e.v],r=n[e.w];Co.isUndefined(t)||Co.isUndefined(r)||(r.indegree++,t.out.push(n[e.w]))})),function(e){var t=[];function n(e){return function(t){t.merged||(Co.isUndefined(t.barycenter)||Co.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function r(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}for(;e.length;){var o=e.pop();t.push(o),Co.forEach(o.in.reverse(),n(o)),Co.forEach(o.out,r(o))}return Co.map(Co.filter(t,(function(e){return!e.merged})),(function(e){return Co.pick(e,["vs","i","barycenter","weight"])}))}(Co.filter(n,(function(e){return!e.indegree})))}(l,r);!function(e,t){Co.forEach(e,(function(e){e.vs=Co.flatten(e.vs.map((function(e){return t[e]?t[e].vs:e})),!0)}))}(f,c);var d=function(e,t){var n,r=Bo.partition(e,(function(e){return Co.has(e,"barycenter")})),o=r.lhs,i=Co.sortBy(r.rhs,(function(e){return-e.i})),a=[],s=0,u=0,c=0;o.sort((n=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:n?t.i-e.i:e.i-t.i})),c=Mi(a,i,c),Co.forEach(o,(function(e){c+=e.vs.length,a.push(e.vs),s+=e.barycenter*e.weight,u+=e.weight,c=Mi(a,i,c)}));var l={vs:Co.flatten(a,!0)};return u&&(l.barycenter=s/u,l.weight=u),l}(f,o);if(s&&(d.vs=Co.flatten([s,d.vs,u],!0),t.predecessors(s).length)){var h=t.node(t.predecessors(s)[0]),p=t.node(t.predecessors(u)[0]);Co.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+h.order+p.order)/(d.weight+2),d.weight+=2}return d},Ai=Ur.Graph,Pi=Ur.Graph,Oi=function(e){var t=Bo.maxRank(e),n=Ii(e,Co.range(1,t+1),"inEdges"),r=Ii(e,Co.range(t-1,-1,-1),"outEdges"),o=function(e){var t={},n=Co.filter(e.nodes(),(function(t){return!e.children(t).length})),r=Co.max(Co.map(n,(function(t){return e.node(t).rank}))),o=Co.map(Co.range(r+1),(function(){return[]})),i=Co.sortBy(n,(function(t){return e.node(t).rank}));return Co.forEach(i,(function n(r){if(!Co.has(t,r)){t[r]=!0;var i=e.node(r);o[i.rank].push(r),Co.forEach(e.successors(r),n)}})),o}(e);Ri(e,o);for(var i,a=Number.POSITIVE_INFINITY,s=0,u=0;u<4;++s,++u){Di(s%2?n:r,s%4>=2),o=Bo.buildLayerMatrix(e);var c=Ti(e,o);c<a&&(u=0,i=Co.cloneDeep(o),a=c)}Ri(e,i)};function Ii(e,t,n){return Co.map(t,(function(t){return function(e,t,n){var r=function(e){for(var t;e.hasNode(t=Co.uniqueId("_root")););return t}(e),o=new Ai({compound:!0}).setGraph({root:r}).setDefaultNodeLabel((function(t){return e.node(t)}));return Co.forEach(e.nodes(),(function(i){var a=e.node(i),s=e.parent(i);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(o.setNode(i),o.setParent(i,s||r),Co.forEach(e[n](i),(function(t){var n=t.v===i?t.w:t.v,r=o.edge(n,i),a=Co.isUndefined(r)?0:r.weight;o.setEdge(n,i,{weight:e.edge(t).weight+a})})),Co.has(a,"minRank")&&o.setNode(i,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))})),o}(e,t,n)}))}function Di(e,t){var n=new Pi;Co.forEach(e,(function(e){var r=e.graph().root,o=Ni(e,r,n,t);Co.forEach(o.vs,(function(t,n){e.node(t).order=n})),function(e,t,n){var r,o={};Co.forEach(n,(function(n){for(var i,a,s=e.parent(n);s;){if((i=e.parent(s))?(a=o[i],o[i]=s):(a=r,r=s),a&&a!==s)return void t.setEdge(a,s);s=i}}))}(e,n,o.vs)}))}function Ri(e,t){Co.forEach(t,(function(t){Co.forEach(t,(function(t,n){e.node(t).order=n}))}))}var Li=Ur.Graph;function ji(e,t,n){if(t>n){var r=t;t=n,n=r}var o=e[t];o||(e[t]=o={}),o[n]=!0}function Fi(e,t,n){if(t>n){var r=t;t=n,n=r}return Co.has(e[t],n)}var Bi=function(e){var t,n=Bo.buildLayerMatrix(e),r=Co.merge(function(e,t){var n={};return Co.reduce(t,(function(t,r){var o=0,i=0,a=t.length,s=Co.last(r);return Co.forEach(r,(function(t,u){var c=function(e,t){if(e.node(t).dummy)return Co.find(e.predecessors(t),(function(t){return e.node(t).dummy}))}(e,t),l=c?e.node(c).order:a;(c||t===s)&&(Co.forEach(r.slice(i,u+1),(function(t){Co.forEach(e.predecessors(t),(function(r){var i=e.node(r),a=i.order;!(a<o||l<a)||i.dummy&&e.node(t).dummy||ji(n,r,t)}))})),i=u+1,o=l)})),r})),n}(e,n),function(e,t){var n={};function r(t,r,o,i,a){var s;Co.forEach(Co.range(r,o),(function(r){s=t[r],e.node(s).dummy&&Co.forEach(e.predecessors(s),(function(t){var r=e.node(t);r.dummy&&(r.order<i||r.order>a)&&ji(n,t,s)}))}))}return Co.reduce(t,(function(t,n){var o,i=-1,a=0;return Co.forEach(n,(function(s,u){if("border"===e.node(s).dummy){var c=e.predecessors(s);c.length&&(o=e.node(c[0]).order,r(n,a,u,i,o),a=u,i=o)}r(n,a,n.length,o,t.length)})),n})),n}(e,n)),o={};Co.forEach(["u","d"],(function(i){t="u"===i?n:Co.values(n).reverse(),Co.forEach(["l","r"],(function(n){"r"===n&&(t=Co.map(t,(function(e){return Co.values(e).reverse()})));var a=("u"===i?e.predecessors:e.successors).bind(e),s=function(e,t,n,r){var o={},i={},a={};return Co.forEach(t,(function(e){Co.forEach(e,(function(e,t){o[e]=e,i[e]=e,a[e]=t}))})),Co.forEach(t,(function(e){var t=-1;Co.forEach(e,(function(e){var s=r(e);if(s.length)for(var u=((s=Co.sortBy(s,(function(e){return a[e]}))).length-1)/2,c=Math.floor(u),l=Math.ceil(u);c<=l;++c){var f=s[c];i[e]===e&&t<a[f]&&!Fi(n,e,f)&&(i[f]=e,i[e]=o[e]=o[f],t=a[f])}}))})),{root:o,align:i}}(0,t,r,a),u=function(e,t,n,r,o){var i={},a=function(e,t,n,r){var o=new Li,i=e.graph(),a=function(e,t,n){return function(r,o,i){var a,s=r.node(o),u=r.node(i),c=0;if(c+=s.width/2,Co.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":a=-s.width/2;break;case"r":a=s.width/2}if(a&&(c+=n?a:-a),a=0,c+=(s.dummy?t:e)/2,c+=(u.dummy?t:e)/2,c+=u.width/2,Co.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":a=u.width/2;break;case"r":a=-u.width/2}return a&&(c+=n?a:-a),a=0,c}}(i.nodesep,i.edgesep,r);return Co.forEach(t,(function(t){var r;Co.forEach(t,(function(t){var i=n[t];if(o.setNode(i),r){var s=n[r],u=o.edge(s,i);o.setEdge(s,i,Math.max(a(e,t,r),u||0))}r=t}))})),o}(e,t,n,o),s=o?"borderLeft":"borderRight";function u(e,t){for(var n=a.nodes(),r=n.pop(),o={};r;)o[r]?e(r):(o[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return u((function(e){i[e]=a.inEdges(e).reduce((function(e,t){return Math.max(e,i[t.v]+a.edge(t))}),0)}),a.predecessors.bind(a)),u((function(t){var n=a.outEdges(t).reduce((function(e,t){return Math.min(e,i[t.w]-a.edge(t))}),Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==s&&(i[t]=Math.max(i[t],n))}),a.successors.bind(a)),Co.forEach(r,(function(e){i[e]=i[n[e]]})),i}(e,t,s.root,s.align,"r"===n);"r"===n&&(u=Co.mapValues(u,(function(e){return-e}))),o[i+n]=u}))}));var i=function(e,t){return Co.minBy(Co.values(t),(function(t){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return Co.forIn(t,(function(t,o){var i=function(e,t){return e.node(t).width}(e,o)/2;n=Math.max(t+i,n),r=Math.min(t-i,r)})),n-r}))}(e,o);return function(e,t){var n=Co.values(t),r=Co.min(n),o=Co.max(n);Co.forEach(["u","d"],(function(n){Co.forEach(["l","r"],(function(i){var a,s=n+i,u=e[s];if(u!==t){var c=Co.values(u);(a="l"===i?r-Co.min(c):o-Co.max(c))&&(e[s]=Co.mapValues(u,(function(e){return e+a})))}}))}))}(o,i),function(e,t){return Co.mapValues(e.ul,(function(n,r){if(t)return e[t.toLowerCase()][r];var o=Co.sortBy(Co.map(e,r));return(o[1]+o[2])/2}))}(o,e.graph().align)},zi=Bo.normalizeRanks,Gi=Bo.removeEmptyRanks,Vi=Bo,Ui=Ur.Graph,Wi=["nodesep","edgesep","ranksep","marginx","marginy"],Zi={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Yi=["acyclicer","ranker","rankdir","align"],Hi=["width","height"],Xi={width:0,height:0},Ki=["minlen","weight","width","height","labeloffset"],qi={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},$i=["labelpos"];function Ji(e,t){return Co.mapValues(Co.pick(e,t),Number)}function Qi(e){var t={};return Co.forEach(e,(function(e,n){t[n.toLowerCase()]=e})),t}var ea=Ur.Graph,ta={graphlib:Ur,layout:function(e,t){var n=t&&t.debugTiming?Vi.time:Vi.notime;n("layout",(function(){var t=n("  buildLayoutGraph",(function(){return function(e){var t=new Ui({multigraph:!0,compound:!0}),n=Qi(e.graph());return t.setGraph(Co.merge({},Zi,Ji(n,Wi),Co.pick(n,Yi))),Co.forEach(e.nodes(),(function(n){var r=Qi(e.node(n));t.setNode(n,Co.defaults(Ji(r,Hi),Xi)),t.setParent(n,e.parent(n))})),Co.forEach(e.edges(),(function(n){var r=Qi(e.edge(n));t.setEdge(n,Co.merge({},qi,Ji(r,Ki),Co.pick(r,$i)))})),t}(e)}));n("  runLayout",(function(){!function(e,t){t("    makeSpaceForEdgeLabels",(function(){!function(e){var t=e.graph();t.ranksep/=2,Co.forEach(e.edges(),(function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(e)})),t("    removeSelfEdges",(function(){!function(e){Co.forEach(e.edges(),(function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))}(e)})),t("    acyclic",(function(){Lo(e)})),t("    nestingGraph.run",(function(){vi(e)})),t("    rank",(function(){!function(e){switch(e.graph().ranker){case"network-simplex":default:gi(e);break;case"tight-tree":!function(e){hi(e),Xo(e)}(e);break;case"longest-path":pi(e)}}(Vi.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){!function(e){Co.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),o={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};Vi.addDummyNode(e,"edge-proxy",o,"_ep")}}))}(e)})),t("    removeEmptyRanks",(function(){Gi(e)})),t("    nestingGraph.cleanup",(function(){mi(e)})),t("    normalizeRanks",(function(){zi(e)})),t("    assignRankMinMax",(function(){!function(e){var t=0;Co.forEach(e.nodes(),(function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=Co.max(t,r.maxRank))})),e.graph().maxRank=t}(e)})),t("    removeEdgeLabelProxies",(function(){!function(e){Co.forEach(e.nodes(),(function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))}(e)})),t("    normalize.run",(function(){Vo(e)})),t("    parentDummyChains",(function(){!function(e){var t=function(e){var t={},n=0;return Co.forEach(e.children(),(function r(o){var i=n;Co.forEach(e.children(o),r),t[o]={low:i,lim:n++}})),t}(e);Co.forEach(e.graph().dummyChains,(function(n){for(var r=e.node(n),o=r.edgeObj,i=function(e,t,n,r){var o,i,a=[],s=[],u=Math.min(t[n].low,t[r].low),c=Math.max(t[n].lim,t[r].lim);o=n;do{o=e.parent(o),a.push(o)}while(o&&(t[o].low>u||c>t[o].lim));for(i=o,o=r;(o=e.parent(o))!==i;)s.push(o);return{path:a.concat(s.reverse()),lca:i}}(e,t,o.v,o.w),a=i.path,s=i.lca,u=0,c=a[u],l=!0;n!==o.w;){if(r=e.node(n),l){for(;(c=a[u])!==s&&e.node(c).maxRank<r.rank;)u++;c===s&&(l=!1)}if(!l){for(;u<a.length-1&&e.node(c=a[u+1]).minRank<=r.rank;)u++;c=a[u]}e.setParent(n,c),n=e.successors(n)[0]}}))}(e)})),t("    addBorderSegments",(function(){!function(e){Co.forEach(e.children(),(function t(n){var r=e.children(n),o=e.node(n);if(r.length&&Co.forEach(r,t),Co.has(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var i=o.minRank,a=o.maxRank+1;i<a;++i)bi(e,"borderLeft","_bl",n,o,i),bi(e,"borderRight","_br",n,o,i)}}))}(e)})),t("    order",(function(){Oi(e)})),t("    insertSelfEdges",(function(){!function(e){var t=Vi.buildLayerMatrix(e);Co.forEach(t,(function(t){var n=0;Co.forEach(t,(function(t,r){var o=e.node(t);o.order=r+n,Co.forEach(o.selfEdges,(function(t){Vi.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:o.rank,order:r+ ++n,e:t.e,label:t.label},"_se")})),delete o.selfEdges}))}))}(e)})),t("    adjustCoordinateSystem",(function(){xi(e)})),t("    position",(function(){!function(e){(function(e){var t=Bo.buildLayerMatrix(e),n=e.graph().ranksep,r=0;Co.forEach(t,(function(t){var o=Co.max(Co.map(t,(function(t){return e.node(t).height})));Co.forEach(t,(function(t){e.node(t).y=r+o/2})),r+=o+n}))})(e=Bo.asNonCompoundGraph(e)),Co.forEach(Bi(e),(function(t,n){e.node(n).x=t}))}(e)})),t("    positionSelfEdges",(function(){!function(e){Co.forEach(e.nodes(),(function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),o=r.x+r.width/2,i=r.y,a=n.x-o,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:o+2*a/3,y:i-s},{x:o+5*a/6,y:i-s},{x:o+a,y:i},{x:o+5*a/6,y:i+s},{x:o+2*a/3,y:i+s}],n.label.x=n.x,n.label.y=n.y}}))}(e)})),t("    removeBorderNodes",(function(){!function(e){Co.forEach(e.nodes(),(function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),o=e.node(n.borderBottom),i=e.node(Co.last(n.borderLeft)),a=e.node(Co.last(n.borderRight));n.width=Math.abs(a.x-i.x),n.height=Math.abs(o.y-r.y),n.x=i.x+n.width/2,n.y=r.y+n.height/2}})),Co.forEach(e.nodes(),(function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))}(e)})),t("    normalize.undo",(function(){Uo(e)})),t("    fixupEdgeLabelCoords",(function(){!function(e){Co.forEach(e.edges(),(function(t){var n=e.edge(t);if(Co.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(e)})),t("    undoCoordinateSystem",(function(){wi(e)})),t("    translateGraph",(function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,o=0,i=e.graph(),a=i.marginx||0,s=i.marginy||0;function u(e){var i=e.x,a=e.y,s=e.width,u=e.height;t=Math.min(t,i-s/2),n=Math.max(n,i+s/2),r=Math.min(r,a-u/2),o=Math.max(o,a+u/2)}Co.forEach(e.nodes(),(function(t){u(e.node(t))})),Co.forEach(e.edges(),(function(t){var n=e.edge(t);Co.has(n,"x")&&u(n)})),t-=a,r-=s,Co.forEach(e.nodes(),(function(n){var o=e.node(n);o.x-=t,o.y-=r})),Co.forEach(e.edges(),(function(n){var o=e.edge(n);Co.forEach(o.points,(function(e){e.x-=t,e.y-=r})),Co.has(o,"x")&&(o.x-=t),Co.has(o,"y")&&(o.y-=r)})),i.width=n-t+a,i.height=o-r+s}(e)})),t("    assignNodeIntersects",(function(){!function(e){Co.forEach(e.edges(),(function(t){var n,r,o=e.edge(t),i=e.node(t.v),a=e.node(t.w);o.points?(n=o.points[0],r=o.points[o.points.length-1]):(o.points=[],n=a,r=i),o.points.unshift(Vi.intersectRect(i,n)),o.points.push(Vi.intersectRect(a,r))}))}(e)})),t("    reversePoints",(function(){!function(e){Co.forEach(e.edges(),(function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))}(e)})),t("    acyclic.undo",(function(){jo(e)}))}(t,n)})),n("  updateInputGraph",(function(){!function(e,t){Co.forEach(e.nodes(),(function(n){var r=e.node(n),o=t.node(n);r&&(r.x=o.x,r.y=o.y,t.children(n).length&&(r.width=o.width,r.height=o.height))})),Co.forEach(e.edges(),(function(n){var r=e.edge(n),o=t.edge(n);r.points=o.points,Co.has(o,"x")&&(r.x=o.x,r.y=o.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)}))}))},debug:{debugOrdering:function(e){var t=Bo.buildLayerMatrix(e),n=new ea({compound:!0,multigraph:!0}).setGraph({});return Co.forEach(e.nodes(),(function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)})),Co.forEach(e.edges(),(function(e){n.setEdge(e.v,e.w,{},e.name)})),Co.forEach(t,(function(e,t){var r="layer"+t;n.setNode(r,{rank:"same"}),Co.reduce(e,(function(e,t){return n.setEdge(e,t,{style:"invis"}),t}))})),n}},util:{time:Bo.time,notime:Bo.notime},version:"0.8.5"},na=ta.graphlib,ra=ta.layout,oa=(0,u.Z)((function e(t){(0,c.Z)(this,e),this.cardinality=1,this.include=p.UNSPECIFIED,this.isGroupNode=!1,this.parentNode=null,this.type=h.NODE,this.name=t.name,this.attr=t.attr||{},this.inputs=t.inputs,this.path=t.path||[],this.width=t.width,this.height=t.height})),ia=(0,u.Z)((function e(){(0,c.Z)(this,e),this.nodes={},this.edges=[],this.nodes={},this.edges=[]}));var aa=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,c.Z)(this,e),this.attr=null,this.bridgeGraph=null,this.cardinality=0,this.depth=1,this.include=p.UNSPECIFIED,this.isGroupNode=!0,this.parentNode=null,this.type=h.META,this.path=[],this.name=t,this.metaGraph=la(t,g.META,n)}return(0,u.Z)(e,[{key:"getFirstChild",value:function(){return this.metaGraph.node(this.metaGraph.nodes()[0])}},{key:"getChildren",value:function(){var e=this;return this.metaGraph.nodes().map((function(t){return e.metaGraph.node(t)}))}},{key:"leaves",value:function(){for(var e,t=[],n=[this];n.length;){var r=n.shift();r.isGroupNode?(e=r.metaGraph).nodes().forEach((function(t){return n.push(e.node(t))})):t.push(r.name)}return t}}]),e}(),sa=function(){function e(t,n){(0,c.Z)(this,e),this.v=t,this.w=n,this.baseEdgeList=[],this.inbound=null,this.name=null}return(0,u.Z)(e,[{key:"addBaseEdge",value:function(e,t){this.baseEdgeList.push(e)}}]),e}();function ua(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new aa(e,t)}function ca(e,t){return new sa(e,t)}function la(e,t,n){var r=n||{},o=new na.Graph(r);return o.setGraph({name:e,rankdir:r.rankdir,type:t,align:r.align}),o}var fa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.Z)(this,e),this.graphOptions=t,this.index={},this.graphOptions.compound=!0,this.root=ua(m,this.graphOptions),this.index[m]=this.root}return(0,u.Z)(e,[{key:"getNodeMap",value:function(){return this.index}},{key:"node",value:function(e){return this.index[e]}},{key:"setNode",value:function(e,t){this.index[e]=t}},{key:"getBridgeGraph",value:function(e){var t=this,n=this.index[e];if(!n)throw Error("Could not find node in hierarchy: "+e);if(!("metaGraph"in n))return null;var r=n;if(r.bridgeGraph)return r.bridgeGraph;var o=la(y,g.BRIDGE,this.graphOptions);if(r.bridgeGraph=o,!n.parentNode||!("metaGraph"in n.parentNode))return o;var i=n.parentNode;return[i.metaGraph,this.getBridgeGraph(i.name)].forEach((function(n){n.edges().filter((function(t){return t.v===e||t.w===e})).forEach((function(r){var i=r.w===e;n.edge(r).baseEdgeList.forEach((function(n){var a=i?[n.w,r.v]:[n.v,r.w],u=(0,s.Z)(a,2),c=u[0],l=u[1],f=t.getChildName(e,c),d={v:i?l:f,w:i?f:l},h=o.edge(d);h||((h=ca(d.v,d.w)).inbound=i,o.setEdge(d.v,d.w,h)),h.addBaseEdge(n,t)}))}))})),o}},{key:"getChildName",value:function(e,t){for(var n=this.index[t];n;){if(n.parentNode&&n.parentNode.name===e)return n.name;n=n.parentNode}throw Error("Could not find immediate child for descendant: "+t)}},{key:"getPredecessors",value:function(e){var t=this.index[e];if(!t)throw Error("Could not find node with name: "+e);return this.getOneWayEdges(t,!0)}},{key:"getSuccessors",value:function(e){var t=this.index[e];if(!t)throw Error("Could not find node with name: "+e);return this.getOneWayEdges(t,!1)}},{key:"getOneWayEdges",value:function(e,t){var n=[];if(!e.parentNode||!e.parentNode.isGroupNode)return n;var r=e.parentNode,o=r.metaGraph,i=this.getBridgeGraph(r.name);return da(o,e,t,n),da(i,e,t,n),n}}]),e}();function da(e,t,n,r){(n?e.inEdges(t.name):e.outEdges(t.name)).forEach((function(t){var n=e.edge(t);r.push(n)}))}var ha=function(){function e(t){(0,c.Z)(this,e),this.hierarchy=t,this.index={},this.hasSubHierarchy={},this.root=new va(this.hierarchy.root,this.hierarchy.graphOptions),this.index[t.root.name]=this.root,this.buildSubHierarchy(t.root.name),this.root.expanded=!0}return(0,u.Z)(e,[{key:"getRenderInfoNodes",value:function(){return Object.values(this.index)}},{key:"getSubHierarchy",value:function(){return this.hasSubHierarchy}},{key:"buildSubHierarchy",value:function(e){var t=this;if(!(e in this.hasSubHierarchy)){this.hasSubHierarchy[e]=!0;var n=this.index[e];if(n.node.type===h.META){var r=n,o=r.node.metaGraph,i=r.coreGraph;o.nodes().forEach((function(e){var n=t.getOrCreateRenderNodeByName(e);i.setNode(e,n)})),o.edges().forEach((function(e){var t=o.edge(e),n=new ga(t);i.setEdge(e.v,e.w,n)}));var a=r.node.parentNode;if(a){var u=this.getRenderNodeByName(a.name),c=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.concat([e?"IN":"OUT"]).join("~~")},l=this.hierarchy.getBridgeGraph(e);l.edges().forEach((function(n){var r=l.edge(n),f=!!o.node(n.w),d=f?[n.w,n.v]:[n.v,n.w],g=(0,s.Z)(d,2),v=g[0],m=g[1],y=function(t){var n=f?{v:t,w:e}:{v:e,w:t};return u.coreGraph.edge(n)},b=y(m);b||(b=y(c(f,m,a.name)));var x=c(f,e),w=c(f,m,e),E=i.node(w);if(!E){var _=i.node(x);if(!_){var S={name:x,type:h.BRIDGE,isGroupNode:!1,cardinality:0,parentNode:null,include:p.UNSPECIFIED,inbound:f,attr:{}};_=new pa(S),t.index[x]=_,i.setNode(x,_)}var k={name:w,type:h.BRIDGE,isGroupNode:!1,cardinality:1,parentNode:null,include:p.UNSPECIFIED,inbound:f,attr:{}};E=new pa(k),t.index[w]=E,i.setNode(w,E),i.setParent(w,x),_.node.cardinality++}var T=new ga(r);T.adjoiningMetaEdge=b,f?i.setEdge(w,v,T):i.setEdge(v,w,T)}))}}}}},{key:"getOrCreateRenderNodeByName",value:function(e){if(!e)return null;if(e in this.index)return this.index[e];var t=this.getNodeByName(e);return t?(this.index[e]=t.isGroupNode?new va(t,this.hierarchy.graphOptions):new pa(t),this.index[e]):null}},{key:"getRenderNodeByName",value:function(e){return this.index[e]}},{key:"getNodeByName",value:function(e){return this.hierarchy.node(e)}}]),e}(),pa=(0,u.Z)((function e(t){(0,c.Z)(this,e),this.node=t,this.expanded=!1,this.x=0,this.y=0,this.coreBox={width:0,height:0},this.outboxWidth=0,this.labelOffset=0,this.radius=0,this.labelHeight=0,this.paddingTop=0,this.paddingLeft=0,this.paddingRight=0,this.paddingBottom=0,this.width=t.width||0,this.height=t.height||0,this.displayName=t.name,this.attr=t.attr})),ga=(0,u.Z)((function e(t){(0,c.Z)(this,e),this.metaEdge=t,this.adjoiningMetaEdge=null,this.weight=1,this.points=[]})),va=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var o;(0,c.Z)(this,n),o=t.call(this,e);var i=e.metaGraph.graph();return r.compound=!0,o.coreGraph=la(i.name,g.CORE,r),o}return(0,u.Z)(n)}(pa);function ma(e,t){e.node.isGroupNode&&function(e,t){var n=f(t);e.coreGraph.nodes().map((function(t){return e.coreGraph.node(t)})).forEach((function(e){var r,o,i,a,s,u,c=e.height,l=e.width;switch(e.node.type){case h.NODE:Object.assign(e,n.nodeSize.node),e.height=c||n.nodeSize.node.height,e.width=l||n.nodeSize.node.width;break;case h.BRIDGE:Object.assign(e,n.nodeSize.bridge);break;case h.META:e.expanded?ma(e,t):(Object.assign(e,n.nodeSize.meta),e.height=n.nodeSize.meta.height,e.width=n.nodeSize.meta.width);break;default:throw Error("Unrecognized node type: "+e.node.type)}if(!e.expanded){var f=e.attr;!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.coreBox.width=e.width,e.coreBox.height=e.height,!t){var n="".concat(e.displayName).length,r=3;e.width=Math.max(e.coreBox.width,n*r)}}(e,t&&(0===e.node.type&&!!(null===(o=null===(r=null==t?void 0:t.nodeSize)||void 0===r?void 0:r.meta)||void 0===o?void 0:o.width)||1===e.node.type&&(!!(null===(a=null===(i=null==t?void 0:t.nodeSize)||void 0===i?void 0:i.node)||void 0===a?void 0:a.width)||!!f.width)||2===e.node.type&&!!(null===(u=null===(s=null==t?void 0:t.nodeSize)||void 0===s?void 0:s.bridge)||void 0===u?void 0:u.width)))}}))}(e,t),e.node.type===h.META&&function(e,t){var n=f(t),r=n.subScene.meta;Object.assign(e,r);var o=n.graph.meta,i={nodesep:o.nodeSep,ranksep:o.rankSep,edgesep:o.edgeSep,align:o.align};Object.assign(e.coreBox,function(e,t){var n=t.ranksep,r=t.nodesep,o=t.edgesep,i=t.align;Object.assign(e.graph(),{ranksep:n,nodesep:r,edgesep:o,align:i});var a=[];if(e.nodes().forEach((function(t){e.node(t).node.type!==h.BRIDGE&&a.push(t)})),!a.length)return{width:0,height:0};ra(e);var s=1/0,u=1/0,c=-1/0,l=-1/0;return a.forEach((function(t){var n=e.node(t),r=.5*n.width,o=n.x-r,i=n.x+r;s=o<s?o:s,c=i>c?i:c;var a=.5*n.height,f=n.y-a,d=n.y+a;u=f<u?f:u,l=d>l?d:l})),e.edges().forEach((function(t){var n=e.edge(t),r=e.node(n.metaEdge.v),o=e.node(n.metaEdge.w);if(3===n.points.length&&function(e){for(var t=ya(e[0],e[1]),n=1;n<e.length-1;n++){var r=ya(e[n],e[n+1]);if(Math.abs(r-t)>1)return!1;t=r}return!0}(n.points)){if(null!=r){var i=r.expanded?r.x:ba(r);n.points[0].x=i}if(null!=o){var a=o.expanded?o.x:ba(o);n.points[2].x=a}n.points=[n.points[0],n.points[1]]}var f=n.points[n.points.length-2];null!=o&&(n.points[n.points.length-1]=xa(f,o));var d=n.points[1];null!=r&&(n.points[0]=xa(d,r)),n.points.forEach((function(e){s=e.x<s?e.x:s,c=e.x>c?e.x:c,u=e.y<u?e.y:u,l=e.y>l?e.y:l}))})),e.nodes().forEach((function(t){var n=e.node(t);n.x-=s,n.y-=u})),e.edges().forEach((function(t){e.edge(t).points.forEach((function(e){e.x-=s,e.y-=u}))})),{width:c-s,height:l-u}}(e.coreGraph,i));var a=0;e.coreGraph.nodeCount()>0&&a++;var s=a<=1?0:a;e.coreBox.width+=s+s,e.coreBox.height=r.labelHeight+e.coreBox.height,e.width=e.coreBox.width+r.paddingLeft+r.paddingRight,e.height=e.paddingTop+e.coreBox.height+e.paddingBottom}(e,t)}function ya(e,t){var n=t.x-e.x,r=t.y-e.y;return 180*Math.atan(r/n)/Math.PI}function ba(e){return e.expanded?e.x:e.x-e.width/2+0+e.coreBox.width/2}function xa(e,t){var n,r,o=t.expanded?t.x:ba(t),i=t.y,a=e.x-o,s=e.y-i,u=t.expanded?t.width:t.coreBox.width,c=t.expanded?t.height:t.coreBox.height;return Math.abs(s)*u/2>Math.abs(a)*c/2?(s<0&&(c=-c),n=0===s?0:c/2*a/s,r=c/2):(a<0&&(u=-u),n=u/2,r=0===a?0:u/2*s/a),{x:o+n,y:i+r}}function wa(e,t,n){var i,a,u,c,f=e.nodes.filter((function(e,t,n){return n.findIndex((function(t){return t.id===e.id}))!==t})).map((function(e){return e.id}));if(f.length)throw new Error("Duplicated ids found: ".concat(f.join(", ")));var d=function(e){var t={nodes:[]},n=e.compound,r=Object.keys(n||{}),i=new Map,a=function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(i.has(t))return i.get(t);for(var a=0;a<r.length;a++){var s=r[a];if(n&&-1!==n[s].indexOf(t))return o.unshift(s),e(s,o)}return 0===o.length&&i.set(t,o),o},s=function(t){return e.edges.filter((function(e){return e.w===t})).map((function(e){return{name:e.v}}))};return e.nodes.forEach((function(e){var n=e.id,r=[].concat((0,o.Z)(a(n)),[n]),i=s(n);t.nodes.push({name:n,path:r,inputs:i,width:e.width,height:e.height,attr:Object.assign({},e)})})),t}(e),h=function(e,t){var n=function(e,t){var n,o=(0,r.Z)(t.values());try{for(o.s();!(n=o.n()).done;){if(n.value.includes(e))return!0}}catch(i){o.e(i)}finally{o.f()}return!1};return function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===Object.keys(t).length)return(0,o.Z)(new Set(i));var a,u=new Map(Object.keys(t).map((function(e){return[e,t[e]]}))),c={},l=(0,r.Z)(u);try{for(l.s();!(a=l.n()).done;){var f=(0,s.Z)(a.value,2),d=f[0],h=f[1];n(d,u)?c[d]=h:i=i.concat(d,h)}}catch(p){l.e(p)}finally{l.f()}return e(c,i)}(e).filter((function(e){return t.includes(e)}))}(e.compound||{},(null==t?void 0:t.expanded)||[]),p=function(e,t){return function(e){return new ha(e)}(function(e,t){var n=t.rankDirection,r=t.align,o=new fa({rankdir:n,align:r});return function(e,t){Object.keys(t.nodes).forEach((function(n){var r=t.nodes[n],o=r.path,i=e.root;i.depth=Math.max(o.length,i.depth);for(var a=0;a<o.length&&(i.depth=Math.max(i.depth,o.length-a),i.cardinality+=r.cardinality,a!==o.length-1);a++){var s=o[a],u=e.node(s);u||((u=ua(s,e.graphOptions)).path=r.path.slice(0,a+1),u.parentNode=i,e.setNode(s,u),i.metaGraph.setNode(s,u)),i=u}e.setNode(r.name,r),r.parentNode=i,i.metaGraph.setNode(r.name,r)}))}(o,e),function(e,t){var n=e.getNodeMap(),r=[],o=[],i=function(e,t){for(var n=0;e;)t[n++]=e.name,e=e.parentNode;return n-1};t.edges.forEach((function(a){r=[],o=[];for(var s=i(t.nodes[a.v],r),u=i(t.nodes[a.w],o);r[s]===o[u];)if(u--,--s<0||u<0)throw Error("No difference found between ancestor paths.");var c=n[r[s+1]],l=r[s],f=o[u],d=c.metaGraph.edge(l,f);d||(d=ca(l,f),c.metaGraph.setEdge(l,f,d)),d.addBaseEdge(a,e)}))}(o,e),o}(function(e){var t=new ia;return e.nodes.map((function(e){return new oa(e)})).forEach((function(e){t.nodes[e.name]=e,e.inputs.forEach((function(n){!function(e,t,n){n.name!==t.name&&e.edges.push(Object.assign(Object.assign({},n.attr),{v:n.name,w:t.name}))}(t,e,n)}))})),t}(e),t))}(d,{rankDirection:(null===(a=null===(i=null==n?void 0:n.graph)||void 0===i?void 0:i.meta)||void 0===a?void 0:a.rankDir)||(null==t?void 0:t.rankDirection)||l.graph.meta.rankDir,align:(null===(c=null===(u=null==n?void 0:n.graph)||void 0===u?void 0:u.meta)||void 0===c?void 0:c.align)||l.graph.meta.align});return function(e,t){t.forEach((function(t){var n=e.getRenderInfoNodes().find((function(e){return e.displayName===t})),r=n&&n.node&&n.node.name||"",o=e.getRenderNodeByName(r);if(!o)throw new Error("No nodes found: ".concat(r));o.expanded=!0,e.buildSubHierarchy(r)}))}(p,h),ma(p.root,n),Sa(p.root)}function Ea(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=JSON.parse(JSON.stringify(e)),r={nodes:[n],edges:(0,o.Z)(n.edges)};return n.nodes.forEach((function e(t){(0===t.type||1===t.type)&&r.nodes.push(t),0===t.type&&(r.edges=r.edges.concat(t.edges)),Array.isArray(t.nodes)&&t.nodes.forEach(e)})),t&&r.nodes.forEach((function(e){var t=r.nodes.find((function(t){return t.id===e.parentNodeName}));if(t){var n=t.x-t.width/2+t.paddingLeft,o=t.y-t.height/2+t.labelHeight+t.paddingTop;t.id!==m&&(e.x+=n,e.y+=o),0===e.type&&e.edges.forEach((function(t){t.points.forEach((function(t){t.x+=e.x-e.width/2+e.paddingLeft,t.y+=e.y-e.height/2+e.labelHeight+e.paddingTop}))}))}})),r}function _a(e,t,n,r){var i,a,s=[],u=(null===(i=n.find((function(t){return t.id===e})))||void 0===i?void 0:i.path)||[],c=(null===(a=n.find((function(e){return e.id===t})))||void 0===a?void 0:a.path)||[],l=[m].concat((0,o.Z)(u)).slice(0,u.length).reverse(),f=[m].concat((0,o.Z)(c)).slice(0,c.length);return l.forEach((function(o){var i=n.find((function(e){return e.id===o}));s=s.concat(i.edges.filter((function(n){return n.baseEdgeList.some((function(n){return n.v===((null==r?void 0:r.v)||e)&&n.w===((null==r?void 0:r.w)||t)}))})))})),f.filter((function(e){return!l.includes(e)})).forEach((function(o){var i=n.find((function(e){return e.id===o}));s=s.concat(i.edges.filter((function(n){return n.baseEdgeList.some((function(n){return n.v===((null==r?void 0:r.v)||e)&&n.w===((null==r?void 0:r.w)||t)}))})))})),s}function Sa(e){var t,n=e.coreGraph.nodes().map((function(t){return e.coreGraph.node(t)}));return Object.assign(Object.assign({},ka(e)),{expanded:e.expanded,nodes:e.expanded?(t=n,t.map((function(e){return e.node.type===h.META?Sa(e):ka(e)}))):[],edges:e.expanded?Ta(e):[]})}function ka(e){return{id:e.node.name,name:e.node.name,type:e.node.type,cardinality:e.node.cardinality,attr:e.attr,parentNodeName:e.node.parentNode?e.node.parentNode.name:null,coreBox:Object.assign({},e.coreBox),x:e.x,y:e.y,width:e.width,height:e.height,radius:e.radius,labelHeight:e.labelHeight,labelOffset:e.labelOffset,outboxWidth:e.outboxWidth,paddingLeft:e.paddingLeft,paddingTop:e.paddingTop,paddingRight:e.paddingRight,paddingBottom:e.paddingBottom,path:e.node.path}}function Ta(e){return e.coreGraph.edges().map((function(t){return{renderInfoEdge:e.coreGraph.edge(t),edge:t}})).filter((function(e){return e.renderInfoEdge.metaEdge})).map((function(t){var n=t.edge,r=t.renderInfoEdge,o=function(e,t){var n=t.points.map((function(e){return Object.assign({},e)}));if(t.adjoiningMetaEdge){var r=t.adjoiningMetaEdge.points,o=t.metaEdge.inbound,i=o?r[r.length-1]:r[0],a=n[o?0:n.length-1],s=e.x-e.width/2,u=e.y-e.height/2,c=i.x-s,l=i.y-u,f=-e.paddingLeft,d=-(e.paddingTop+e.labelHeight);a.x=c+f,a.y=l+d}return n}(e,r);return{adjoiningEdge:r.adjoiningMetaEdge?{w:r.adjoiningMetaEdge.metaEdge.w,v:r.adjoiningMetaEdge.metaEdge.v}:null,inbound:r.metaEdge.inbound,w:n.w,v:n.v,points:o,weight:r.weight,baseEdgeList:r.metaEdge.baseEdgeList,parentNodeName:e.node.name}}))}},553:function(e,t,n){"use strict";n.d(t,{Ib:function(){return r},WT:function(){return o}});var r=1e-6,o="undefined"!==typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},5742:function(e,t,n){"use strict";n.r(t),n.d(t,{add:function(){return M},adjoint:function(){return h},clone:function(){return a},copy:function(){return s},create:function(){return o},determinant:function(){return p},equals:function(){return I},exactEquals:function(){return O},frob:function(){return C},fromMat2d:function(){return E},fromMat4:function(){return i},fromQuat:function(){return _},fromRotation:function(){return x},fromScaling:function(){return w},fromTranslation:function(){return b},fromValues:function(){return u},identity:function(){return l},invert:function(){return d},mul:function(){return D},multiply:function(){return g},multiplyScalar:function(){return A},multiplyScalarAndAdd:function(){return P},normalFromMat4:function(){return S},projection:function(){return k},rotate:function(){return m},scale:function(){return y},set:function(){return c},str:function(){return T},sub:function(){return R},subtract:function(){return N},translate:function(){return v},transpose:function(){return f}});var r=n(553);function o(){var e=new r.WT(9);return r.WT!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function a(e){var t=new r.WT(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function u(e,t,n,o,i,a,s,u,c){var l=new r.WT(9);return l[0]=e,l[1]=t,l[2]=n,l[3]=o,l[4]=i,l[5]=a,l[6]=s,l[7]=u,l[8]=c,l}function c(e,t,n,r,o,i,a,s,u,c){return e[0]=t,e[1]=n,e[2]=r,e[3]=o,e[4]=i,e[5]=a,e[6]=s,e[7]=u,e[8]=c,e}function l(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function f(e,t){if(e===t){var n=t[1],r=t[2],o=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=o}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function d(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=l*a-s*c,d=-l*i+s*u,h=c*i-a*u,p=n*f+r*d+o*h;return p?(p=1/p,e[0]=f*p,e[1]=(-l*r+o*c)*p,e[2]=(s*r-o*a)*p,e[3]=d*p,e[4]=(l*n-o*u)*p,e[5]=(-s*n+o*i)*p,e[6]=h*p,e[7]=(-c*n+r*u)*p,e[8]=(a*n-r*i)*p,e):null}function h(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8];return e[0]=a*l-s*c,e[1]=o*c-r*l,e[2]=r*s-o*a,e[3]=s*u-i*l,e[4]=n*l-o*u,e[5]=o*i-n*s,e[6]=i*c-a*u,e[7]=r*u-n*c,e[8]=n*a-r*i,e}function p(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],a=e[5],s=e[6],u=e[7],c=e[8];return t*(c*i-a*u)+n*(-c*o+a*s)+r*(u*o-i*s)}function g(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=n[0],h=n[1],p=n[2],g=n[3],v=n[4],m=n[5],y=n[6],b=n[7],x=n[8];return e[0]=d*r+h*a+p*c,e[1]=d*o+h*s+p*l,e[2]=d*i+h*u+p*f,e[3]=g*r+v*a+m*c,e[4]=g*o+v*s+m*l,e[5]=g*i+v*u+m*f,e[6]=y*r+b*a+x*c,e[7]=y*o+b*s+x*l,e[8]=y*i+b*u+x*f,e}function v(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=n[0],h=n[1];return e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=s,e[5]=u,e[6]=d*r+h*a+c,e[7]=d*o+h*s+l,e[8]=d*i+h*u+f,e}function m(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=Math.sin(n),h=Math.cos(n);return e[0]=h*r+d*a,e[1]=h*o+d*s,e[2]=h*i+d*u,e[3]=h*a-d*r,e[4]=h*s-d*o,e[5]=h*u-d*i,e[6]=c,e[7]=l,e[8]=f,e}function y(e,t,n){var r=n[0],o=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=o*t[3],e[4]=o*t[4],e[5]=o*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function b(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function x(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function w(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function E(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function _(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n+n,s=r+r,u=o+o,c=n*a,l=r*a,f=r*s,d=o*a,h=o*s,p=o*u,g=i*a,v=i*s,m=i*u;return e[0]=1-f-p,e[3]=l-m,e[6]=d+v,e[1]=l+m,e[4]=1-c-p,e[7]=h-g,e[2]=d-v,e[5]=h+g,e[8]=1-c-f,e}function S(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],h=t[11],p=t[12],g=t[13],v=t[14],m=t[15],y=n*s-r*a,b=n*u-o*a,x=n*c-i*a,w=r*u-o*s,E=r*c-i*s,_=o*c-i*u,S=l*g-f*p,k=l*v-d*p,T=l*m-h*p,C=f*v-d*g,M=f*m-h*g,N=d*m-h*v,A=y*N-b*M+x*C+w*T-E*k+_*S;return A?(A=1/A,e[0]=(s*N-u*M+c*C)*A,e[1]=(u*T-a*N-c*k)*A,e[2]=(a*M-s*T+c*S)*A,e[3]=(o*M-r*N-i*C)*A,e[4]=(n*N-o*T+i*k)*A,e[5]=(r*T-n*M-i*S)*A,e[6]=(g*_-v*E+m*w)*A,e[7]=(v*x-p*_-m*b)*A,e[8]=(p*E-g*x+m*y)*A,e):null}function k(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function T(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function C(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function M(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function N(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function A(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function P(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e}function O(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function I(e,t){var n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],d=t[0],h=t[1],p=t[2],g=t[3],v=t[4],m=t[5],y=t[6],b=t[7],x=t[8];return Math.abs(n-d)<=r.Ib*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(o-h)<=r.Ib*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(i-p)<=r.Ib*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-g)<=r.Ib*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=r.Ib*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-m)<=r.Ib*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(c-y)<=r.Ib*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(l-b)<=r.Ib*Math.max(1,Math.abs(l),Math.abs(b))&&Math.abs(f-x)<=r.Ib*Math.max(1,Math.abs(f),Math.abs(x))}var D=g,R=N},8679:function(e,t,n){"use strict";n.d(t,{$X:function(){return f},AK:function(){return g},Fv:function(){return p},IH:function(){return l},JG:function(){return u},Jp:function(){return d},TK:function(){return E},Ue:function(){return o},VC:function(){return x},Zh:function(){return _},al:function(){return s},bA:function(){return h},d9:function(){return i},fF:function(){return y},kC:function(){return v},kE:function(){return a},kK:function(){return b},lu:function(){return w},t7:function(){return m},t8:function(){return c}});var r=n(553);function o(){var e=new r.WT(3);return r.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function i(e){var t=new r.WT(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function a(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function s(e,t,n){var o=new r.WT(3);return o[0]=e,o[1]=t,o[2]=n,o}function u(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function c(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function l(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function f(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function d(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function h(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function p(e,t){var n=t[0],r=t[1],o=t[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function g(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function v(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[0],s=n[1],u=n[2];return e[0]=o*u-i*s,e[1]=i*a-r*u,e[2]=r*s-o*a,e}function m(e,t,n,r){var o=t[0],i=t[1],a=t[2];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e[2]=a+r*(n[2]-a),e}function y(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/a,e[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,e[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,e}function b(e,t,n){var r=t[0],o=t[1],i=t[2];return e[0]=r*n[0]+o*n[3]+i*n[6],e[1]=r*n[1]+o*n[4]+i*n[7],e[2]=r*n[2]+o*n[5]+i*n[8],e}function x(e,t,n){var r=n[0],o=n[1],i=n[2],a=n[3],s=t[0],u=t[1],c=t[2],l=o*c-i*u,f=i*s-r*c,d=r*u-o*s,h=o*d-i*f,p=i*l-r*d,g=r*f-o*l,v=2*a;return l*=v,f*=v,d*=v,h*=2,p*=2,g*=2,e[0]=s+l+h,e[1]=u+f+p,e[2]=c+d+g,e}var w=f,E=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return Math.hypot(n,r,o)},_=a;!function(){var e=o()}()},1989:function(e){e.exports=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}},6250:function(e){e.exports=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}},9573:function(e){e.exports=function(e){var t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}},1523:function(e){e.exports=function(e,t){return e[0]=t[0],e[1]=t[1],e}},7684:function(e){e.exports=function(){var e=new Float32Array(2);return e[0]=0,e[1]=0,e}},1023:function(e){e.exports=function(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}},6219:function(e,t,n){e.exports=n(857)},857:function(e){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}},8785:function(e,t,n){e.exports=n(4967)},4967:function(e){e.exports=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}},847:function(e){e.exports=function(e,t){return e[0]*t[0]+e[1]*t[1]}},1446:function(e){e.exports=1e-6},3348:function(e,t,n){e.exports=function(e,t){var n=e[0],o=e[1],i=t[0],a=t[1];return Math.abs(n-i)<=r*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(o-a)<=r*Math.max(1,Math.abs(o),Math.abs(a))};var r=n(1446)},2239:function(e){e.exports=function(e,t){return e[0]===t[0]&&e[1]===t[1]}},5497:function(e){e.exports=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}},4330:function(e,t,n){e.exports=function(e,t,n,o,i,a){var s,u;t||(t=2);n||(n=0);u=o?Math.min(o*t+n,e.length):e.length;for(s=n;s<u;s+=t)r[0]=e[s],r[1]=e[s+1],i(r,r,a),e[s]=r[0],e[s+1]=r[1];return e};var r=n(7684)()},9347:function(e){e.exports=function(e,t){var n=new Float32Array(2);return n[0]=e,n[1]=t,n}},1583:function(e,t,n){e.exports={EPSILON:n(1446),create:n(7684),clone:n(9573),fromValues:n(9347),copy:n(1523),set:n(5713),equals:n(3348),exactEquals:n(2239),add:n(1989),subtract:n(8828),sub:n(1756),multiply:n(3533),mul:n(3749),divide:n(4967),div:n(8785),inverse:n(8937),min:n(7539),max:n(6912),rotate:n(631),floor:n(5497),ceil:n(6250),round:n(190),scale:n(8362),scaleAndAdd:n(5685),distance:n(857),dist:n(6219),squaredDistance:n(5773),sqrDist:n(3039),length:n(11),len:n(5007),squaredLength:n(6915),sqrLen:n(4269),negate:n(9582),normalize:n(6845),dot:n(847),cross:n(1023),lerp:n(5358),random:n(2970),transformMat2:n(9519),transformMat2d:n(300),transformMat3:n(492),transformMat4:n(8823),forEach:n(4330),limit:n(1407)}},8937:function(e){e.exports=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}},5007:function(e,t,n){e.exports=n(11)},11:function(e){e.exports=function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}},5358:function(e){e.exports=function(e,t,n,r){var o=t[0],i=t[1];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e}},1407:function(e){e.exports=function(e,t,n){var r=t[0]*t[0]+t[1]*t[1];if(r>n*n){var o=Math.sqrt(r);e[0]=t[0]/o*n,e[1]=t[1]/o*n}else e[0]=t[0],e[1]=t[1];return e}},6912:function(e){e.exports=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}},7539:function(e){e.exports=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}},3749:function(e,t,n){e.exports=n(3533)},3533:function(e){e.exports=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}},9582:function(e){e.exports=function(e,t){return e[0]=-t[0],e[1]=-t[1],e}},6845:function(e){e.exports=function(e,t){var n=t[0],r=t[1],o=n*n+r*r;o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o);return e}},2970:function(e){e.exports=function(e,t){t=t||1;var n=2*Math.random()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}},631:function(e){e.exports=function(e,t,n){var r=Math.cos(n),o=Math.sin(n),i=t[0],a=t[1];return e[0]=i*r-a*o,e[1]=i*o+a*r,e}},190:function(e){e.exports=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}},8362:function(e){e.exports=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}},5685:function(e){e.exports=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}},5713:function(e){e.exports=function(e,t,n){return e[0]=t,e[1]=n,e}},3039:function(e,t,n){e.exports=n(5773)},4269:function(e,t,n){e.exports=n(6915)},5773:function(e){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}},6915:function(e){e.exports=function(e){var t=e[0],n=e[1];return t*t+n*n}},1756:function(e,t,n){e.exports=n(8828)},8828:function(e){e.exports=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}},9519:function(e){e.exports=function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[2]*o,e[1]=n[1]*r+n[3]*o,e}},300:function(e){e.exports=function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[2]*o+n[4],e[1]=n[1]*r+n[3]*o+n[5],e}},492:function(e){e.exports=function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[3]*o+n[6],e[1]=n[1]*r+n[4]*o+n[7],e}},8823:function(e){e.exports=function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[4]*o+n[12],e[1]=n[1]*r+n[5]*o+n[13],e}},6264:function(e,t,n){"use strict";var r="__global_unique_id__";e.exports=function(){return n.g[r]=(n.g[r]||0)+1}},2110:function(e,t,n){"use strict";var r=n(7441),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var o=h(n);o&&o!==p&&e(t,o,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),g=u(n),v=0;v<a.length;++v){var m=a[v];if(!i[m]&&(!r||!r[m])&&(!g||!g[m])&&(!s||!s[m])){var y=d(n,m);try{c(t,m,y)}catch(b){}}}}return t}},5929:function(e){var t=[],n=[];function r(e,r){if(r=r||{},void 0===e)throw new Error("insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).");var o,i=!0===r.prepend?"prepend":"append",a=void 0!==r.container?r.container:document.querySelector("head"),s=t.indexOf(a);return-1===s&&(s=t.push(a)-1,n[s]={}),void 0!==n[s]&&void 0!==n[s][i]?o=n[s][i]:(o=n[s][i]=function(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}(),"prepend"===i?a.insertBefore(o,a.childNodes[0]):a.appendChild(o)),65279===e.charCodeAt(0)&&(e=e.substr(1,e.length)),o.styleSheet?o.styleSheet.cssText+=e:o.textContent+=e,o}e.exports=r,e.exports.insertCss=r},722:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Symbol.for("INJECTION");function r(e,t,r,o){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return o&&!Reflect.hasMetadata(n,this,t)&&Reflect.defineMetadata(n,r(),this,t),Reflect.hasMetadata(n,this,t)?Reflect.getMetadata(n,this,t):r()},set:function(e){Reflect.defineMetadata(n,e,this,t)}})}t.makePropertyInjectDecorator=function(e,t){return function(n){return function(o,i){r(o,i,(function(){return e.get(n)}),t)}}},t.makePropertyInjectNamedDecorator=function(e,t){return function(n,o){return function(i,a){r(i,a,(function(){return e.getNamed(n,o)}),t)}}},t.makePropertyInjectTaggedDecorator=function(e,t){return function(n,o,i){return function(a,s){r(a,s,(function(){return e.getTagged(n,o,i)}),t)}}},t.makePropertyMultiInjectDecorator=function(e,t){return function(n){return function(o,i){r(o,i,(function(){return e.getAll(n)}),t)}}}},5696:function(e,t,n){"use strict";var r=n(722);t.Z=function(e,t){return void 0===t&&(t=!0),{lazyInject:r.makePropertyInjectDecorator(e,t),lazyInjectNamed:r.makePropertyInjectNamedDecorator(e,t),lazyInjectTagged:r.makePropertyInjectTaggedDecorator(e,t),lazyMultiInject:r.makePropertyMultiInjectDecorator(e,t)}}},3893:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagProperty=t.tagParameter=t.decorate=void 0;var r=n(9e3),o=n(7909);function i(e,t,n,o,i){var a={},s="number"===typeof i,u=void 0!==i&&s?i.toString():n;if(s&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(a=Reflect.getMetadata(e,t));var c=a[u];if(Array.isArray(c))for(var l=0,f=c;l<f.length;l++){var d=f[l];if(d.key===o.key)throw new Error(r.DUPLICATED_METADATA+" "+d.key.toString())}else c=[];c.push(o),a[u]=c,Reflect.defineMetadata(e,a,t)}function a(e,t){Reflect.decorate(e,t)}function s(e,t){return function(n,r){t(n,r,e)}}t.tagParameter=function(e,t,n,r){i(o.TAGGED,e,t,r,n)},t.tagProperty=function(e,t,n){i(o.TAGGED_PROP,e.constructor,t,n)},t.decorate=function(e,t,n){"number"===typeof n?a([s(n,e)],t):"string"===typeof n?Reflect.decorate([e],t,n):a([e],t)}},1412:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=t.LazyServiceIdentifer=void 0;var r=n(9e3),o=n(7909),i=n(4706),a=n(3893),s=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();t.LazyServiceIdentifer=s,t.inject=function(e){return function(t,n,s){if(void 0===e)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(t.name));var u=new i.Metadata(o.INJECT_TAG,e);"number"===typeof s?a.tagParameter(t,n,s,u):a.tagProperty(t,n,u)}}},9369:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var r=n(9e3),o=n(7909);t.injectable=function(){return function(e){if(Reflect.hasOwnMetadata(o.PARAM_TYPES,e))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(o.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(o.PARAM_TYPES,t,e),e}}},5030:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiInject=void 0;var r=n(7909),o=n(4706),i=n(3893);t.multiInject=function(e){return function(t,n,a){var s=new o.Metadata(r.MULTI_INJECT_TAG,e);"number"===typeof a?i.tagParameter(t,n,a,s):i.tagProperty(t,n,s)}}},8130:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.named=void 0;var r=n(7909),o=n(4706),i=n(3893);t.named=function(e){return function(t,n,a){var s=new o.Metadata(r.NAMED_TAG,e);"number"===typeof a?i.tagParameter(t,n,a,s):i.tagProperty(t,n,s)}}},4841:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optional=void 0;var r=n(7909),o=n(4706),i=n(3893);t.optional=function(){return function(e,t,n){var a=new o.Metadata(r.OPTIONAL_TAG,!0);"number"===typeof n?i.tagParameter(e,t,n,a):i.tagProperty(e,t,a)}}},4793:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var r=n(9e3),o=n(7909),i=n(4706);t.postConstruct=function(){return function(e,t,n){var a=new i.Metadata(o.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(o.POST_CONSTRUCT,e.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(o.POST_CONSTRUCT,a,e.constructor)}}},4460:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagged=void 0;var r=n(4706),o=n(3893);t.tagged=function(e,t){return function(n,i,a){var s=new r.Metadata(e,t);"number"===typeof a?o.tagParameter(n,i,a,s):o.tagProperty(n,i,s)}}},802:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.targetName=void 0;var r=n(7909),o=n(4706),i=n(3893);t.targetName=function(e){return function(t,n,a){var s=new o.Metadata(r.NAME_TAG,e);i.tagParameter(t,n,a,s)}}},6906:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unmanaged=void 0;var r=n(7909),o=n(4706),i=n(3893);t.unmanaged=function(){return function(e,t,n){var a=new o.Metadata(r.UNMANAGED_TAG,!0);i.tagParameter(e,t,n,a)}}},8522:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Binding=void 0;var r=n(1664),o=n(9825),i=function(){function e(e,t){this.id=o.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===r.BindingScopeEnum.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=i},1770:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingCount=void 0;t.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},9e3:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STACK_OVERFLOW=t.CIRCULAR_DEPENDENCY_IN_FACTORY=t.POST_CONSTRUCT_ERROR=t.MULTIPLE_POST_CONSTRUCT_METHODS=t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=t.ARGUMENTS_LENGTH_MISMATCH=t.INVALID_DECORATOR_OPERATION=t.INVALID_TO_SELF_VALUE=t.INVALID_FUNCTION_BINDING=t.INVALID_MIDDLEWARE_RETURN=t.NO_MORE_SNAPSHOTS_AVAILABLE=t.INVALID_BINDING_TYPE=t.NOT_IMPLEMENTED=t.CIRCULAR_DEPENDENCY=t.UNDEFINED_INJECT_ANNOTATION=t.MISSING_INJECT_ANNOTATION=t.MISSING_INJECTABLE_ANNOTATION=t.NOT_REGISTERED=t.CANNOT_UNBIND=t.AMBIGUOUS_MATCH=t.KEY_NOT_FOUND=t.NULL_ARGUMENT=t.DUPLICATED_METADATA=t.DUPLICATED_INJECTABLE_DECORATOR=void 0,t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";t.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";t.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";t.POST_CONSTRUCT_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]};t.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."},t.STACK_OVERFLOW="Maximum call stack size exceeded"},1664:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=void 0;t.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};t.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};t.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},7909:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NON_CUSTOM_TAG_KEYS=t.POST_CONSTRUCT=t.DESIGN_PARAM_TYPES=t.PARAM_TYPES=t.TAGGED_PROP=t.TAGGED=t.MULTI_INJECT_TAG=t.INJECT_TAG=t.OPTIONAL_TAG=t.UNMANAGED_TAG=t.NAME_TAG=t.NAMED_TAG=void 0,t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct",t.NON_CUSTOM_TAG_KEYS=[t.INJECT_TAG,t.MULTI_INJECT_TAG,t.NAME_TAG,t.UNMANAGED_TAG,t.NAMED_TAG,t.OPTIONAL_TAG]},3918:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var a=n(8522),s=n(9e3),u=n(1664),c=n(7909),l=n(4658),f=n(7206),d=n(1801),h=n(4310),p=n(9825),g=n(4362),v=n(5628),m=n(9847),y=function(){function e(e){this._appliedMiddleware=[];var t=e||{};if("object"!==typeof t)throw new Error(""+s.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=u.BindingScopeEnum.Transient;else if(t.defaultScope!==u.BindingScopeEnum.Singleton&&t.defaultScope!==u.BindingScopeEnum.Transient&&t.defaultScope!==u.BindingScopeEnum.Request)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!==typeof t.autoBindInjectable)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!==typeof t.skipBaseClassChecks)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=p.id(),this._bindingDictionary=new m.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new l.MetadataReader}return e.merge=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var a=new e,s=i([t,n],r).map((function(e){return f.getBindingDictionary(e)})),u=f.getBindingDictionary(a);function c(e,t){e.traverse((function(e,n){n.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))}return s.forEach((function(e){c(e,u)})),a},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,o=e;r<o.length;r++){var i=o[r],a=n(i.id);i.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,(function(){var t,n,r,i,a;return o(this,(function(o){switch(o.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,o.label=1;case 1:return n<r.length?(i=r[n],a=t(i.id),[4,i.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(e){return function(t){return t.moduleId===e}};t.forEach((function(t){var n=r(t.id);e._bindingDictionary.removeByCondition(n)}))},e.prototype.bind=function(e){var t=this.options.defaultScope||u.BindingScopeEnum.Transient,n=new a.Binding(e,t);return this._bindingDictionary.add(e,n),new h.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(s.CANNOT_UNBIND+" "+g.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new m.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,c.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var o=this._bindingDictionary.get(e),i=f.createMockRequest(this,e,t,n);r=o.some((function(e){return e.constraint(i)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(v.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(s.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._appliedMiddleware=this._appliedMiddleware.concat(e);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,u.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,n){return this._get(!1,!1,u.TargetTypeEnum.Variable,e,t,n)},e.prototype.getNamed=function(e,t){return this.getTagged(e,c.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,u.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,u.TargetTypeEnum.Variable,e,t,n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,c.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),this._appliedMiddleware.forEach((function(e){t.applyMiddleware(e)})),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var o=e.rebind.bind(e)(r);return t(o,n),o}};return function(r){return{bindFunction:(o=r,function(n){var r=e.bind.bind(e)(n);return t(r,o),r}),isboundFunction:function(t){return e.isBound.bind(e)(t)},rebindFunction:n(r),unbindFunction:function(t){e.unbind.bind(e)(t)}};var o}},e.prototype._get=function(e,t,n,r,o,i){var a=null,u={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:o,serviceIdentifier:r,targetType:n,value:i};if(this._middleware){if(void 0===(a=this._middleware(u))||null===a)throw new Error(s.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(u);return a},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=f.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return n=t.contextInterceptor(n),d.resolve(n)}},e}();t.Container=y},7837:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncContainerModule=t.ContainerModule=void 0;var r=n(9825),o=function(e){this.id=r.id(),this.registry=e};t.ContainerModule=o;var i=function(e){this.id=r.id(),this.registry=e};t.AsyncContainerModule=i},5628:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerSnapshot=void 0;var n=function(){function e(){}return e.of=function(t,n){var r=new e;return r.bindings=t,r.middleware=n,r},e}();t.ContainerSnapshot=n},9847:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lookup=void 0;var r=n(9e3),o=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},e.prototype.get=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(r.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(r.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach((function(n,r){var o=n.filter((function(t){return!e(t)}));o.length>0?t._map.set(r,o):t._map.delete(r)}))},e.prototype.hasKey=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){e.forEach((function(e){return t.add(n,e.clone())}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,n){e(n,t)}))},e}();t.Lookup=o},6543:function(e,t,n){"use strict";t.f3=t.t6=t.b2=t.W2=void 0,n(7909);var r=n(3918);Object.defineProperty(t,"W2",{enumerable:!0,get:function(){return r.Container}});var o=n(1664);var i=n(7837);var a=n(9369);Object.defineProperty(t,"b2",{enumerable:!0,get:function(){return a.injectable}});var s=n(4460);var u=n(8130);Object.defineProperty(t,"t6",{enumerable:!0,get:function(){return u.named}});var c=n(1412);Object.defineProperty(t,"f3",{enumerable:!0,get:function(){return c.inject}});var l=n(4841);var f=n(6906);var d=n(5030);var h=n(802);var p=n(4793);var g=n(4658);var v=n(9825);var m=n(3893);var y=n(371);var b=n(4362);var x=n(6747)},3065:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var r=n(9825),o=function(){function e(e){this.id=r.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=o},4706:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(7909),o=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=o},4658:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataReader=void 0;var r=n(7909),o=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(r.TAGGED_PROP,e)||[]},e}();t.MetadataReader=o},343:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plan=void 0;var n=function(e,t){this.parentContext=e,this.rootRequest=t};t.Plan=n},7206:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBindingDictionary=t.createMockRequest=t.plan=void 0;var r=n(1770),o=n(9e3),i=n(1664),a=n(7909),s=n(6016),u=n(4362),c=n(3065),l=n(4706),f=n(343),d=n(2440),h=n(3668),p=n(697);function g(e){return e._bindingDictionary}function v(e,t,n,i,a){var s=y(n.container,a.serviceIdentifier),c=[];return s.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"===typeof a.serviceIdentifier&&e.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(a.serviceIdentifier).toSelf(),s=y(n.container,a.serviceIdentifier)),c=t?s:s.filter((function(e){var t=new h.Request(e.serviceIdentifier,n,i,e,a);return e.constraint(t)})),function(e,t,n,i){switch(t.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var a=u.getServiceIdentifierAsString(e),s=o.NOT_REGISTERED;throw s+=u.listMetadataForTarget(a,n),s+=u.listRegisteredBindingsForServiceIdentifier(i,a,y),new Error(s);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;a=u.getServiceIdentifierAsString(e),s=o.AMBIGUOUS_MATCH+" "+a;throw s+=u.listRegisteredBindingsForServiceIdentifier(i,a,y),new Error(s)}}(a.serviceIdentifier,c,a,n.container),c}function m(e,t,n,r,a,s){var u,c;if(null===a){u=v(e,t,r,null,s),c=new h.Request(n,r,null,u,s);var l=new f.Plan(r,c);r.addPlan(l)}else u=v(e,t,r,a,s),c=a.addChildRequest(s.serviceIdentifier,u,s);u.forEach((function(t){var n=null;if(s.isArray())n=c.addChildRequest(t.serviceIdentifier,t,s);else{if(t.cache)return;n=c}if(t.type===i.BindingTypeEnum.Instance&&null!==t.implementationType){var a=d.getDependencies(e,t.implementationType);if(!r.container.options.skipBaseClassChecks){var u=d.getBaseClassDependencyCount(e,t.implementationType);if(a.length<u){var l=o.ARGUMENTS_LENGTH_MISMATCH(d.getFunctionName(t.implementationType));throw new Error(l)}}a.forEach((function(t){m(e,!1,t.serviceIdentifier,r,n,t)}))}}))}function y(e,t){var n=[],r=g(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=y(e.parent,t)),n}t.getBindingDictionary=g,t.plan=function(e,t,n,r,o,i,f,d){void 0===d&&(d=!1);var h=new c.Context(t),g=function(e,t,n,r,o,i){var s=e?a.MULTI_INJECT_TAG:a.INJECT_TAG,u=new l.Metadata(s,n),c=new p.Target(t,r,n,u);if(void 0!==o){var f=new l.Metadata(o,i);c.metadata.push(f)}return c}(n,r,o,"",i,f);try{return m(e,d,o,h,null,g),h}catch(v){throw s.isStackOverflowExeption(v)&&h.plan&&u.circularDependencyToException(h.plan.rootRequest),v}},t.createMockRequest=function(e,t,n,r){var o=new p.Target(i.TargetTypeEnum.Variable,"",t,new l.Metadata(n,r)),a=new c.Context(e);return new h.Request(t,a,null,[],o)}},3970:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryableString=void 0;var n=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=n},2440:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=t.getBaseClassDependencyCount=t.getDependencies=void 0;var o=n(1412),i=n(9e3),a=n(1664),s=n(7909),u=n(4362);Object.defineProperty(t,"getFunctionName",{enumerable:!0,get:function(){return u.getFunctionName}});var c=n(697);function l(e,t,n,o){var a=e.getConstructorMetadata(n),s=a.compilerGeneratedMetadata;if(void 0===s){var u=i.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(u)}var c=a.userGeneratedMetadata,l=Object.keys(c),h=0===n.length&&l.length>0,p=l.length>n.length,g=function(e,t,n,r,o){for(var i=[],a=0;a<o;a++){var s=f(a,e,t,n,r);null!==s&&i.push(s)}return i}(o,t,s,c,h||p?l.length:n.length),v=d(e,n);return r(r([],g),v)}function f(e,t,n,r,s){var u=s[e.toString()]||[],l=h(u),f=!0!==l.unmanaged,d=r[e],p=l.inject||l.multiInject;if((d=p||d)instanceof o.LazyServiceIdentifer&&(d=d.unwrap()),f){if(!t&&(d===Object||d===Function||void 0===d)){var g=i.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(g)}var v=new c.Target(a.TargetTypeEnum.ConstructorArgument,l.targetName,d);return v.metadata=u,v}return null}function d(e,t){for(var n=e.getPropertiesMetadata(t),o=[],i=0,s=Object.keys(n);i<s.length;i++){var u=s[i],l=n[u],f=h(n[u]),p=f.targetName||u,g=f.inject||f.multiInject,v=new c.Target(a.TargetTypeEnum.ClassProperty,p,g);v.metadata=l,o.push(v)}var m=Object.getPrototypeOf(t.prototype).constructor;if(m!==Object){var y=d(e,m);o=r(r([],o),y)}return o}function h(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[s.INJECT_TAG],multiInject:t[s.MULTI_INJECT_TAG],targetName:t[s.NAME_TAG],unmanaged:t[s.UNMANAGED_TAG]}}t.getDependencies=function(e,t){return l(e,u.getFunctionName(t),t,!1)},t.getBaseClassDependencyCount=function e(t,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var o=l(t,u.getFunctionName(r),r,!0),i=o.map((function(e){return e.metadata.filter((function(e){return e.key===s.UNMANAGED_TAG}))})),a=[].concat.apply([],i).length,c=o.length-a;return c>0?c:e(t,r)}return 0}},3668:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var r=n(9825),o=function(){function e(e,t,n,o,i){this.id=r.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=i,this.childRequests=[],this.bindings=Array.isArray(o)?o:[o],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var o=new e(t,this.parentContext,this,n,r);return this.childRequests.push(o),o},e}();t.Request=o},697:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Target=void 0;var r=n(7909),o=n(9825),i=n(4706),a=n(3970),s=function(){function e(e,t,n,s){this.id=o.id(),this.type=e,this.serviceIdentifier=n,this.name=new a.QueryableString(t||""),this.metadata=new Array;var u=null;"string"===typeof s?u=new i.Metadata(r.NAMED_TAG,s):s instanceof i.Metadata&&(u=s),null!==u&&this.metadata.push(u)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){if(n[t].key===e)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(r.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))}))},e.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===r.NAMED_TAG}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(r.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,o=t.metadata;r<o.length;r++){var i=o[r];if(i.key===e&&i.value===n)return!0}return!1}},e}();t.Target=s},1265:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveInstance=void 0;var o=n(9e3),i=n(1664),a=n(7909);t.resolveInstance=function(e,t,n){var s,u,c=null;if(t.length>0){var l=t.filter((function(e){return null!==e.target&&e.target.type===i.TargetTypeEnum.ConstructorArgument})).map(n);u=l,c=function(e,t,n){var r=t.filter((function(e){return null!==e.target&&e.target.type===i.TargetTypeEnum.ClassProperty})),o=r.map(n);return r.forEach((function(t,n){var r;r=t.target.name.value();var i=o[n];e[r]=i})),e}(c=new((s=e).bind.apply(s,r([void 0],u))),t,n)}else c=new e;return function(e,t){if(Reflect.hasMetadata(a.POST_CONSTRUCT,e)){var n=Reflect.getMetadata(a.POST_CONSTRUCT,e);try{t[n.value]()}catch(r){throw new Error(o.POST_CONSTRUCT_ERROR(e.name,r.message))}}}(e,c),c}},1801:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=void 0;var r=n(9e3),o=n(1664),i=n(6016),a=n(4362),s=n(1265),u=function(e,t,n){try{return n()}catch(o){throw i.isStackOverflowExeption(o)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):o}},c=function e(t){return function(n){n.parentContext.setCurrentRequest(n);var i=n.bindings,c=n.childRequests,l=n.target&&n.target.isArray(),f=!n.parentRequest||!n.parentRequest.target||!n.target||!n.parentRequest.target.matchesArray(n.target.serviceIdentifier);if(l&&f)return c.map((function(n){return e(t)(n)}));var d=null;if(!n.target.isOptional()||0!==i.length){var h=i[0],p=h.scope===o.BindingScopeEnum.Singleton,g=h.scope===o.BindingScopeEnum.Request;if(p&&h.activated)return h.cache;if(g&&null!==t&&t.has(h.id))return t.get(h.id);if(h.type===o.BindingTypeEnum.ConstantValue)d=h.cache,h.activated=!0;else if(h.type===o.BindingTypeEnum.Function)d=h.cache,h.activated=!0;else if(h.type===o.BindingTypeEnum.Constructor)d=h.implementationType;else if(h.type===o.BindingTypeEnum.DynamicValue&&null!==h.dynamicValue)d=u("toDynamicValue",h.serviceIdentifier,(function(){return h.dynamicValue(n.parentContext)}));else if(h.type===o.BindingTypeEnum.Factory&&null!==h.factory)d=u("toFactory",h.serviceIdentifier,(function(){return h.factory(n.parentContext)}));else if(h.type===o.BindingTypeEnum.Provider&&null!==h.provider)d=u("toProvider",h.serviceIdentifier,(function(){return h.provider(n.parentContext)}));else{if(h.type!==o.BindingTypeEnum.Instance||null===h.implementationType){var v=a.getServiceIdentifierAsString(n.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+v)}d=s.resolveInstance(h.implementationType,c,e(t))}return"function"===typeof h.onActivation&&(d=h.onActivation(n.parentContext,d)),p&&(h.cache=d,h.activated=!0),g&&null!==t&&!t.has(h.id)&&t.set(h.id,d),d}}};t.resolve=function(e){return c(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}},6120:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInSyntax=void 0;var r=n(1664),o=n(56),i=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new o.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new o.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new o.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=i},8109:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInWhenOnSyntax=void 0;var r=n(6120),o=n(8262),i=n(3505),a=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new o.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=a},8262:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingOnSyntax=void 0;var r=n(3505),o=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new r.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=o},4310:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingToSyntax=void 0;var r=n(9e3),o=n(1664),i=n(8109),a=n(56),s=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=o.BindingTypeEnum.Instance,this._binding.implementationType=e,new i.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!==typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=o.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=o.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=o.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new i.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=o.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=o.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=o.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=o.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!==typeof e)throw new Error(r.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=o.BindingTypeEnum.Function,this._binding.scope=o.BindingScopeEnum.Singleton,t},e.prototype.toAutoFactory=function(e){return this._binding.type=o.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},this._binding.scope=o.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=o.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=o.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}();t.BindingToSyntax=s},56:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenOnSyntax=void 0;var r=n(8262),o=n(3505),i=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=i},3505:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenSyntax=void 0;var r=n(8262),o=n(371),i=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=o.namedConstraint(e),new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=o.taggedConstraint(e)(t),new r.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return o.typeConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return o.namedConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return o.taggedConstraint(e)(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return o.traverseAncerstors(t,o.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!o.traverseAncerstors(t,o.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return o.traverseAncerstors(t,o.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!o.traverseAncerstors(t,o.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return o.traverseAncerstors(n,o.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!o.traverseAncerstors(n,o.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return o.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!o.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=i},371:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=void 0;var r=n(7909),o=n(4706);t.traverseAncerstors=function e(t,n){var r=t.parentRequest;return null!==r&&(!!n(r)||e(r,n))};var i=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new o.Metadata(e,t),n}};t.taggedConstraint=i;var a=i(r.NAMED_TAG);t.namedConstraint=a;t.typeConstraint=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"===typeof e)return n.serviceIdentifier===e;var r=t.bindings[0].implementationType;return e===r}return!1}}},6747:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=void 0;t.multiBindToService=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return e.bind(n).toService(t)}))}}}},6016:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStackOverflowExeption=void 0;var r=n(9e3);t.isStackOverflowExeption=function(e){return e instanceof RangeError||e.message===r.STACK_OVERFLOW}},9825:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id=void 0;var n=0;t.id=function(){return n++}},4362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.circularDependencyToException=t.listMetadataForTarget=t.listRegisteredBindingsForServiceIdentifier=t.getServiceIdentifierAsString=t.getFunctionName=void 0;var r=n(9e3);function o(e){return"function"===typeof e?e.name:"symbol"===typeof e?e.toString():e}function i(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||i(e.parentRequest,t))}function a(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=o,t.listRegisteredBindingsForServiceIdentifier=function(e,t,n){var r="",o=n(e,t);return 0!==o.length&&(r="\nRegistered bindings:",o.forEach((function(e){var t="Object";null!==e.implementationType&&(t=a(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)}))),r},t.circularDependencyToException=function e(t){t.childRequests.forEach((function(t){if(i(t,t.serviceIdentifier)){var n=function(e){return function e(t,n){void 0===n&&(n=[]);var r=o(t.serviceIdentifier);return n.push(r),null!==t.parentRequest?e(t.parentRequest,n):n}(e).reverse().join(" --\x3e ")}(t);throw new Error(r.CIRCULAR_DEPENDENCY+" "+n)}e(t)}))},t.listMetadataForTarget=function(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),o=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==o&&o.forEach((function(e){n+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+n}return" "+e},t.getFunctionName=a},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),o=n(2747),i=n(6037),a=n(4154),s=n(7728);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},8384:function(e,t,n){var r=n(3894),o=n(8699),i=n(4957),a=n(7184),s=n(7109);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),o=n(9255),i=n(9186),a=n(3423),s=n(3739);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),o=n(5774),i=n(1596);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},9424:function(e,t,n){var r=n(8384),o=n(511),i=n(835),a=n(707),s=n(8832),u=n(5077);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},4497:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},7538:function(e,t,n){var r=n(6478),o=n(4963),i=n(3629),a=n(5174),s=n(6800),u=n(6899),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),l=!n&&o(e),f=!n&&!l&&a(e),d=!n&&!l&&!f&&u(e),h=n||l||f||d,p=h?r(e.length,String):[],g=p.length;for(var v in e)!t&&!c.call(e,v)||h&&("length"==v||f&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||p.push(v);return p}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1986:function(e,t,n){var r=n(1705),o=n(3629);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},9066:function(e,t,n){var r=n(7197),o=n(1587),i=n(3581),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},4906:function(e,t,n){var r=n(9066),o=n(3141);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),o=n(3141);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!==t&&n!==n:r(t,n,i,a,e,s))}},3355:function(e,t,n){var r=n(9424),o=n(5305),i=n(2206),a=n(8078),s=n(8383),u=n(3629),c=n(5174),l=n(6899),f="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,v,m){var y=u(e),b=u(t),x=y?d:s(e),w=b?d:s(t),E=(x=x==f?h:x)==h,_=(w=w==f?h:w)==h,S=x==w;if(S&&c(e)){if(!c(t))return!1;y=!0,E=!1}if(S&&!E)return m||(m=new r),y||l(e)?o(e,t,n,g,v,m):i(e,t,x,n,g,v,m);if(!(1&n)){var k=E&&p.call(e,"__wrapped__"),T=_&&p.call(t,"__wrapped__");if(k||T){var C=k?e.value():e,M=T?t.value():t;return m||(m=new r),v(C,M,n,g,m)}}return!!S&&(m||(m=new r),a(e,t,n,g,v,m))}},6703:function(e,t,n){var r=n(4786),o=n(257),i=n(5418),a=n(7907),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?d:s).test(a(e))}},8150:function(e,t,n){var r=n(9066),o=n(4635),i=n(3141),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},3654:function(e,t,n){var r=n(2169),o=n(8836),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},821:function(e,t,n){var r=n(6050),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},5305:function(e,t,n){var r=n(692),o=n(7897),i=n(75);e.exports=function(e,t,n,a,s,u){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var d=u.get(e),h=u.get(t);if(d&&h)return d==t&&h==e;var p=-1,g=!0,v=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<l;){var m=e[p],y=t[p];if(a)var b=c?a(y,m,p,t,e,u):a(m,y,p,e,t,u);if(void 0!==b){if(b)continue;g=!1;break}if(v){if(!o(t,(function(e,t){if(!i(v,t)&&(m===e||s(m,e,n,a,u)))return v.push(t)}))){g=!1;break}}else if(m!==y&&!s(m,y,n,a,u)){g=!1;break}}return u.delete(e),u.delete(t),g}},2206:function(e,t,n){var r=n(7197),o=n(4497),i=n(9231),a=n(5305),s=n(234),u=n(2230),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=u),e.size!=t.size&&!p)return!1;var g=d.get(e);if(g)return g==t;r|=2,d.set(e,t);var v=a(h(e),h(t),r,c,f,d);return d.delete(e),v;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var f=l;f--;){var d=c[f];if(!(u?d in t:o.call(t,d)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var v=u;++f<l;){var m=e[d=c[f]],y=t[d];if(i)var b=u?i(y,m,d,t,e,s):i(m,y,d,e,t,s);if(!(void 0===b?m===y||a(m,y,n,i,s):b)){g=!1;break}v||(v="constructor"==d)}if(g&&!v){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(g=!1)}return s.delete(e),s.delete(t),g}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),o=n(5918),i=n(2742);e.exports=function(e){return r(e,i,o)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},8136:function(e,t,n){var r=n(6703),o=n(40);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},5918:function(e,t,n){var r=n(4903),o=n(8174),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},8383:function(e,t,n){var r=n(908),o=n(5797),i=n(8319),a=n(3924),s=n(7091),u=n(9066),c=n(7907),l="[object Map]",f="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",g=c(r),v=c(o),m=c(i),y=c(a),b=c(s),x=u;(r&&x(new r(new ArrayBuffer(1)))!=p||o&&x(new o)!=l||i&&x(i.resolve())!=f||a&&x(new a)!=d||s&&x(new s)!=h)&&(x=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case g:return p;case v:return l;case m:return f;case y:return d;case b:return h}return t}),e.exports=x},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!o&&o in e}},2169:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},4086:function(e,t,n){var r=n(9676),o=n(8384),i=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7009:function(e,t,n){var r=n(1032),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),o=n(5797),i=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},6050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},8573:function(e,t,n){var r=n(5418),o=n(72),i=n(2582),a=Math.max,s=Math.min;e.exports=function(e,t,n){var u,c,l,f,d,h,p=0,g=!1,v=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=u,r=c;return u=c=void 0,p=t,f=e.apply(r,n)}function b(e){return p=e,d=setTimeout(w,t),g?y(e):f}function x(e){var n=e-h;return void 0===h||n>=t||n<0||v&&e-p>=l}function w(){var e=o();if(x(e))return E(e);d=setTimeout(w,function(e){var n=t-(e-h);return v?s(n,l-(e-p)):n}(e))}function E(e){return d=void 0,m&&u?y(e):(u=c=void 0,f)}function _(){var e=o(),n=x(e);if(u=arguments,c=this,h=e,n){if(void 0===d)return b(h);if(v)return clearTimeout(d),d=setTimeout(w,t),y(h)}return void 0===d&&(d=setTimeout(w,t)),f}return t=i(t)||0,r(n)&&(g=!!n.leading,l=(v="maxWait"in n)?a(i(n.maxWait)||0,t):l,m="trailing"in n?!!n.trailing:m),_.cancel=function(){void 0!==d&&clearTimeout(d),p=0,u=h=c=d=void 0},_.flush=function(){return void 0===d?f:E(o())},_}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},4963:function(e,t,n){var r=n(4906),o=n(3141),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),o=n(4635);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),o=n(9488),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||o;e.exports=u},8111:function(e,t,n){var r=n(1848);e.exports=function(e,t){return r(e,t)}},4786:function(e,t,n){var r=n(9066),o=n(5418);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},5418:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,n){var r=n(9066),o=n(3141);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},6899:function(e,t,n){var r=n(8150),o=n(6194),i=n(9494),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},2742:function(e,t,n){var r=n(7538),o=n(3654),i=n(1473);e.exports=function(e){return i(e)?r(e):o(e)}},763:function(e,t,n){var r;e=n.nmd(e),function(){var o,i="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,c=32,l=64,f=128,d=256,h=1/0,p=9007199254740991,g=NaN,v=4294967295,m=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",c],["partialRight",l],["rearg",d]],y="[object Arguments]",b="[object Array]",x="[object Boolean]",w="[object Date]",E="[object Error]",_="[object Function]",S="[object GeneratorFunction]",k="[object Map]",T="[object Number]",C="[object Object]",M="[object Promise]",N="[object RegExp]",A="[object Set]",P="[object String]",O="[object Symbol]",I="[object WeakMap]",D="[object ArrayBuffer]",R="[object DataView]",L="[object Float32Array]",j="[object Float64Array]",F="[object Int8Array]",B="[object Int16Array]",z="[object Int32Array]",G="[object Uint8Array]",V="[object Uint8ClampedArray]",U="[object Uint16Array]",W="[object Uint32Array]",Z=/\b__p \+= '';/g,Y=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,q=RegExp(X.source),$=RegExp(K.source),J=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(oe.source),ae=/^\s+/,se=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ge=/\w*$/,ve=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,xe=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ee=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Me="\\ufe0e\\ufe0f",Ne="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ae="['\u2019]",Pe="[\\ud800-\\udfff]",Oe="["+Ne+"]",Ie="["+Se+"]",De="\\d+",Re="[\\u2700-\\u27bf]",Le="["+Te+"]",je="[^\\ud800-\\udfff"+Ne+De+ke+Te+Ce+"]",Fe="\\ud83c[\\udffb-\\udfff]",Be="[^\\ud800-\\udfff]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Ge="[\\ud800-\\udbff][\\udc00-\\udfff]",Ve="["+Ce+"]",Ue="(?:"+Le+"|"+je+")",We="(?:"+Ve+"|"+je+")",Ze="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ye="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",He="(?:"+Ie+"|"+Fe+")"+"?",Xe="[\\ufe0e\\ufe0f]?",Ke=Xe+He+("(?:\\u200d(?:"+[Be,ze,Ge].join("|")+")"+Xe+He+")*"),qe="(?:"+[Re,ze,Ge].join("|")+")"+Ke,$e="(?:"+[Be+Ie+"?",Ie,ze,Ge,Pe].join("|")+")",Je=RegExp(Ae,"g"),Qe=RegExp(Ie,"g"),et=RegExp(Fe+"(?="+Fe+")|"+$e+Ke,"g"),tt=RegExp([Ve+"?"+Le+"+"+Ze+"(?="+[Oe,Ve,"$"].join("|")+")",We+"+"+Ye+"(?="+[Oe,Ve+Ue,"$"].join("|")+")",Ve+"?"+Ue+"+"+Ze,Ve+"+"+Ye,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",De,qe].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+Se+Me+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],it=-1,at={};at[L]=at[j]=at[F]=at[B]=at[z]=at[G]=at[V]=at[U]=at[W]=!0,at[y]=at[b]=at[D]=at[x]=at[R]=at[w]=at[E]=at[_]=at[k]=at[T]=at[C]=at[N]=at[A]=at[P]=at[I]=!1;var st={};st[y]=st[b]=st[D]=st[R]=st[x]=st[w]=st[L]=st[j]=st[F]=st[B]=st[z]=st[k]=st[T]=st[C]=st[N]=st[A]=st[P]=st[O]=st[G]=st[V]=st[U]=st[W]=!0,st[E]=st[_]=st[I]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ct=parseFloat,lt=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,dt="object"==typeof self&&self&&self.Object===Object&&self,ht=ft||dt||Function("return this")(),pt=t&&!t.nodeType&&t,gt=pt&&e&&!e.nodeType&&e,vt=gt&&gt.exports===pt,mt=vt&&ft.process,yt=function(){try{var e=gt&&gt.require&&gt.require("util").types;return e||mt&&mt.binding&&mt.binding("util")}catch(t){}}(),bt=yt&&yt.isArrayBuffer,xt=yt&&yt.isDate,wt=yt&&yt.isMap,Et=yt&&yt.isRegExp,_t=yt&&yt.isSet,St=yt&&yt.isTypedArray;function kt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Tt(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Mt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function At(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Pt(e,t){return!!(null==e?0:e.length)&&Gt(e,t,0)>-1}function Ot(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function It(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Dt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Rt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Lt(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ft=Zt("length");function Bt(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function zt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Gt(e,t,n){return t===t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):zt(e,Ut,n)}function Vt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Ut(e){return e!==e}function Wt(e,t){var n=null==e?0:e.length;return n?Xt(e,t)/n:g}function Zt(e){return function(t){return null==t?o:t[e]}}function Yt(e){return function(t){return null==e?o:e[t]}}function Ht(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Xt(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function Kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function qt(e){return e?e.slice(0,gn(e)+1).replace(ae,""):e}function $t(e){return function(t){return e(t)}}function Jt(e,t){return It(t,(function(t){return e[t]}))}function Qt(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&Gt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Gt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=Yt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Yt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ut[e]}function sn(e){return nt.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function ln(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,i[o++]=n)}return i}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function hn(e){return sn(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Ft(e)}function pn(e){return sn(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function gn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var vn=Yt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mn=function e(t){var n=(t=null==t?ht:mn.defaults(ht.Object(),t,mn.pick(ht,ot))).Array,r=t.Date,se=t.Error,Se=t.Function,ke=t.Math,Te=t.Object,Ce=t.RegExp,Me=t.String,Ne=t.TypeError,Ae=n.prototype,Pe=Se.prototype,Oe=Te.prototype,Ie=t["__core-js_shared__"],De=Pe.toString,Re=Oe.hasOwnProperty,Le=0,je=function(){var e=/[^.]+$/.exec(Ie&&Ie.keys&&Ie.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=Oe.toString,Be=De.call(Te),ze=ht._,Ge=Ce("^"+De.call(Re).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=vt?t.Buffer:o,Ue=t.Symbol,We=t.Uint8Array,Ze=Ve?Ve.allocUnsafe:o,Ye=cn(Te.getPrototypeOf,Te),He=Te.create,Xe=Oe.propertyIsEnumerable,Ke=Ae.splice,qe=Ue?Ue.isConcatSpreadable:o,$e=Ue?Ue.iterator:o,et=Ue?Ue.toStringTag:o,nt=function(){try{var e=hi(Te,"defineProperty");return e({},"",{}),e}catch(t){}}(),ut=t.clearTimeout!==ht.clearTimeout&&t.clearTimeout,ft=r&&r.now!==ht.Date.now&&r.now,dt=t.setTimeout!==ht.setTimeout&&t.setTimeout,pt=ke.ceil,gt=ke.floor,mt=Te.getOwnPropertySymbols,yt=Ve?Ve.isBuffer:o,Ft=t.isFinite,Yt=Ae.join,yn=cn(Te.keys,Te),bn=ke.max,xn=ke.min,wn=r.now,En=t.parseInt,_n=ke.random,Sn=Ae.reverse,kn=hi(t,"DataView"),Tn=hi(t,"Map"),Cn=hi(t,"Promise"),Mn=hi(t,"Set"),Nn=hi(t,"WeakMap"),An=hi(Te,"create"),Pn=Nn&&new Nn,On={},In=zi(kn),Dn=zi(Tn),Rn=zi(Cn),Ln=zi(Mn),jn=zi(Nn),Fn=Ue?Ue.prototype:o,Bn=Fn?Fn.valueOf:o,zn=Fn?Fn.toString:o;function Gn(e){if(rs(e)&&!Ya(e)&&!(e instanceof Zn)){if(e instanceof Wn)return e;if(Re.call(e,"__wrapped__"))return Gi(e)}return new Wn(e)}var Vn=function(){function e(){}return function(t){if(!ns(t))return{};if(He)return He(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function Un(){}function Wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Zn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=v,this.__views__=[]}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Xn;++t<n;)this.add(e[t])}function qn(e){var t=this.__data__=new Hn(e);this.size=t.size}function $n(e,t){var n=Ya(e),r=!n&&Za(e),o=!n&&!r&&qa(e),i=!n&&!r&&!o&&fs(e),a=n||r||o||i,s=a?Kt(e.length,Me):[],u=s.length;for(var c in e)!t&&!Re.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||xi(c,u))||s.push(c);return s}function Jn(e){var t=e.length;return t?e[Kr(0,t-1)]:o}function Qn(e,t){return ji(Po(e),ur(t,0,e.length))}function er(e){return ji(Po(e))}function tr(e,t,n){(n!==o&&!Va(e[t],n)||n===o&&!(t in e))&&ar(e,t,n)}function nr(e,t,n){var r=e[t];Re.call(e,t)&&Va(r,n)&&(n!==o||t in e)||ar(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Va(e[n][0],t))return n;return-1}function or(e,t,n,r){return hr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function ir(e,t){return e&&Oo(t,Is(t),e)}function ar(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,i=t.length,a=n(i),s=null==e;++r<i;)a[r]=s?o:Ms(e,t[r]);return a}function ur(e,t,n){return e===e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function cr(e,t,n,r,i,a){var s,u=1&t,c=2&t,l=4&t;if(n&&(s=i?n(e,r,i,a):n(e)),s!==o)return s;if(!ns(e))return e;var f=Ya(e);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Re.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return Po(e,s)}else{var d=vi(e),h=d==_||d==S;if(qa(e))return ko(e,u);if(d==C||d==y||h&&!i){if(s=c||h?{}:yi(e),!u)return c?function(e,t){return Oo(e,gi(e),t)}(e,function(e,t){return e&&Oo(t,Ds(t),e)}(s,e)):function(e,t){return Oo(e,pi(e),t)}(e,ir(s,e))}else{if(!st[d])return i?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case D:return To(e);case x:case w:return new r(+e);case R:return function(e,t){var n=t?To(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case j:case F:case B:case z:case G:case V:case U:case W:return Co(e,n);case k:return new r;case T:case P:return new r(e);case N:return function(e){var t=new e.constructor(e.source,ge.exec(e));return t.lastIndex=e.lastIndex,t}(e);case A:return new r;case O:return o=e,Bn?Te(Bn.call(o)):{}}var o}(e,d,u)}}a||(a=new qn);var p=a.get(e);if(p)return p;a.set(e,s),us(e)?e.forEach((function(r){s.add(cr(r,t,n,r,e,a))})):os(e)&&e.forEach((function(r,o){s.set(o,cr(r,t,n,o,e,a))}));var g=f?o:(l?c?ai:ii:c?Ds:Is)(e);return Ct(g||e,(function(r,o){g&&(r=e[o=r]),nr(s,o,cr(r,t,n,o,e,a))})),s}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Te(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function fr(e,t,n){if("function"!=typeof e)throw new Ne(i);return Ii((function(){e.apply(o,n)}),t)}function dr(e,t,n,r){var o=-1,i=Pt,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=It(t,$t(n))),r?(i=Ot,a=!1):t.length>=200&&(i=Qt,a=!1,t=new Kn(t));e:for(;++o<s;){var l=e[o],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f===f){for(var d=c;d--;)if(t[d]===f)continue e;u.push(l)}else i(t,f,r)||u.push(l)}return u}Gn.templateSettings={escape:J,evaluate:Q,interpolate:ee,variable:"",imports:{_:Gn}},Gn.prototype=Un.prototype,Gn.prototype.constructor=Gn,Wn.prototype=Vn(Un.prototype),Wn.prototype.constructor=Wn,Zn.prototype=Vn(Un.prototype),Zn.prototype.constructor=Zn,Yn.prototype.clear=function(){this.__data__=An?An(null):{},this.size=0},Yn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Yn.prototype.get=function(e){var t=this.__data__;if(An){var n=t[e];return n===a?o:n}return Re.call(t,e)?t[e]:o},Yn.prototype.has=function(e){var t=this.__data__;return An?t[e]!==o:Re.call(t,e)},Yn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=An&&t===o?a:t,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,!0)},Hn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?o:t[n][1]},Hn.prototype.has=function(e){return rr(this.__data__,e)>-1},Hn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Xn.prototype.clear=function(){this.size=0,this.__data__={hash:new Yn,map:new(Tn||Hn),string:new Yn}},Xn.prototype.delete=function(e){var t=fi(this,e).delete(e);return this.size-=t?1:0,t},Xn.prototype.get=function(e){return fi(this,e).get(e)},Xn.prototype.has=function(e){return fi(this,e).has(e)},Xn.prototype.set=function(e,t){var n=fi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(e){return this.__data__.set(e,a),this},Kn.prototype.has=function(e){return this.__data__.has(e)},qn.prototype.clear=function(){this.__data__=new Hn,this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},qn.prototype.get=function(e){return this.__data__.get(e)},qn.prototype.has=function(e){return this.__data__.has(e)},qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Hn){var r=n.__data__;if(!Tn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Xn(r)}return n.set(e,t),this.size=n.size,this};var hr=Ro(wr),pr=Ro(Er,!0);function gr(e,t){var n=!0;return hr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function vr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(u===o?s===s&&!ls(s):n(s,u)))var u=s,c=a}return c}function mr(e,t){var n=[];return hr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function yr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=bi),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?yr(s,t-1,n,r,o):Dt(o,s):r||(o[o.length]=s)}return o}var br=Lo(),xr=Lo(!0);function wr(e,t){return e&&br(e,t,Is)}function Er(e,t){return e&&xr(e,t,Is)}function _r(e,t){return At(t,(function(t){return Qa(e[t])}))}function Sr(e,t){for(var n=0,r=(t=wo(t,e)).length;null!=e&&n<r;)e=e[Bi(t[n++])];return n&&n==r?e:o}function kr(e,t,n){var r=t(e);return Ya(e)?r:Dt(r,n(e))}function Tr(e){return null==e?e===o?"[object Undefined]":"[object Null]":et&&et in Te(e)?function(e){var t=Re.call(e,et),n=e[et];try{e[et]=o;var r=!0}catch(a){}var i=Fe.call(e);r&&(t?e[et]=n:delete e[et]);return i}(e):function(e){return Fe.call(e)}(e)}function Cr(e,t){return e>t}function Mr(e,t){return null!=e&&Re.call(e,t)}function Nr(e,t){return null!=e&&t in Te(e)}function Ar(e,t,r){for(var i=r?Ot:Pt,a=e[0].length,s=e.length,u=s,c=n(s),l=1/0,f=[];u--;){var d=e[u];u&&t&&(d=It(d,$t(t))),l=xn(d.length,l),c[u]=!r&&(t||a>=120&&d.length>=120)?new Kn(u&&d):o}d=e[0];var h=-1,p=c[0];e:for(;++h<a&&f.length<l;){var g=d[h],v=t?t(g):g;if(g=r||0!==g?g:0,!(p?Qt(p,v):i(f,v,r))){for(u=s;--u;){var m=c[u];if(!(m?Qt(m,v):i(e[u],v,r)))continue e}p&&p.push(v),f.push(g)}}return f}function Pr(e,t,n){var r=null==(e=Ni(e,t=wo(t,e)))?e:e[Bi(Ji(t))];return null==r?o:kt(r,e,n)}function Or(e){return rs(e)&&Tr(e)==y}function Ir(e,t,n,r,i){return e===t||(null==e||null==t||!rs(e)&&!rs(t)?e!==e&&t!==t:function(e,t,n,r,i,a){var s=Ya(e),u=Ya(t),c=s?b:vi(e),l=u?b:vi(t),f=(c=c==y?C:c)==C,d=(l=l==y?C:l)==C,h=c==l;if(h&&qa(e)){if(!qa(t))return!1;s=!0,f=!1}if(h&&!f)return a||(a=new qn),s||fs(e)?ri(e,t,n,r,i,a):function(e,t,n,r,o,i,a){switch(n){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case D:return!(e.byteLength!=t.byteLength||!i(new We(e),new We(t)));case x:case w:case T:return Va(+e,+t);case E:return e.name==t.name&&e.message==t.message;case N:case P:return e==t+"";case k:var s=un;case A:var u=1&r;if(s||(s=fn),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=ri(s(e),s(t),r,o,i,a);return a.delete(e),l;case O:if(Bn)return Bn.call(e)==Bn.call(t)}return!1}(e,t,c,n,r,i,a);if(!(1&n)){var p=f&&Re.call(e,"__wrapped__"),g=d&&Re.call(t,"__wrapped__");if(p||g){var v=p?e.value():e,m=g?t.value():t;return a||(a=new qn),i(v,m,n,r,a)}}if(!h)return!1;return a||(a=new qn),function(e,t,n,r,i,a){var s=1&n,u=ii(e),c=u.length,l=ii(t).length;if(c!=l&&!s)return!1;var f=c;for(;f--;){var d=u[f];if(!(s?d in t:Re.call(t,d)))return!1}var h=a.get(e),p=a.get(t);if(h&&p)return h==t&&p==e;var g=!0;a.set(e,t),a.set(t,e);var v=s;for(;++f<c;){var m=e[d=u[f]],y=t[d];if(r)var b=s?r(y,m,d,t,e,a):r(m,y,d,e,t,a);if(!(b===o?m===y||i(m,y,n,r,a):b)){g=!1;break}v||(v="constructor"==d)}if(g&&!v){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(g=!1)}return a.delete(e),a.delete(t),g}(e,t,n,r,i,a)}(e,t,n,r,Ir,i))}function Dr(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=Te(e);i--;){var u=n[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<a;){var c=(u=n[i])[0],l=e[c],f=u[1];if(s&&u[2]){if(l===o&&!(c in e))return!1}else{var d=new qn;if(r)var h=r(l,f,c,e,t,d);if(!(h===o?Ir(f,l,3,r,d):h))return!1}}return!0}function Rr(e){return!(!ns(e)||(t=e,je&&je in t))&&(Qa(e)?Ge:ye).test(zi(e));var t}function Lr(e){return"function"==typeof e?e:null==e?iu:"object"==typeof e?Ya(e)?Vr(e[0],e[1]):Gr(e):pu(e)}function jr(e){if(!ki(e))return yn(e);var t=[];for(var n in Te(e))Re.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!ns(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=ki(e),n=[];for(var r in e)("constructor"!=r||!t&&Re.call(e,r))&&n.push(r);return n}function Br(e,t){return e<t}function zr(e,t){var r=-1,o=Xa(e)?n(e.length):[];return hr(e,(function(e,n,i){o[++r]=t(e,n,i)})),o}function Gr(e){var t=di(e);return 1==t.length&&t[0][2]?Ci(t[0][0],t[0][1]):function(n){return n===e||Dr(n,e,t)}}function Vr(e,t){return Ei(e)&&Ti(t)?Ci(Bi(e),t):function(n){var r=Ms(n,e);return r===o&&r===t?Ns(n,e):Ir(t,r,3)}}function Ur(e,t,n,r,i){e!==t&&br(t,(function(a,s){if(i||(i=new qn),ns(a))!function(e,t,n,r,i,a,s){var u=Pi(e,n),c=Pi(t,n),l=s.get(c);if(l)return void tr(e,n,l);var f=a?a(u,c,n+"",e,t,s):o,d=f===o;if(d){var h=Ya(c),p=!h&&qa(c),g=!h&&!p&&fs(c);f=c,h||p||g?Ya(u)?f=u:Ka(u)?f=Po(u):p?(d=!1,f=ko(c,!0)):g?(d=!1,f=Co(c,!0)):f=[]:as(c)||Za(c)?(f=u,Za(u)?f=bs(u):ns(u)&&!Qa(u)||(f=yi(c))):d=!1}d&&(s.set(c,f),i(f,c,r,a,s),s.delete(c));tr(e,n,f)}(e,t,s,n,Ur,r,i);else{var u=r?r(Pi(e,s),a,s+"",e,t,i):o;u===o&&(u=a),tr(e,s,u)}}),Ds)}function Wr(e,t){var n=e.length;if(n)return xi(t+=t<0?n:0,n)?e[t]:o}function Zr(e,t,n){t=t.length?It(t,(function(e){return Ya(e)?function(t){return Sr(t,1===e.length?e[0]:e)}:e})):[iu];var r=-1;t=It(t,$t(li()));var o=zr(e,(function(e,n,o){var i=It(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;for(;++r<a;){var u=Mo(o[r],i[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Yr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=Sr(e,a);n(s,a)&&eo(i,wo(a,e),s)}return i}function Hr(e,t,n,r){var o=r?Vt:Gt,i=-1,a=t.length,s=e;for(e===t&&(t=Po(t)),n&&(s=It(e,$t(n)));++i<a;)for(var u=0,c=t[i],l=n?n(c):c;(u=o(s,l,u,r))>-1;)s!==e&&Ke.call(s,u,1),Ke.call(e,u,1);return e}function Xr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;xi(o)?Ke.call(e,o,1):ho(e,o)}}return e}function Kr(e,t){return e+gt(_n()*(t-e+1))}function qr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=gt(t/2))&&(e+=e)}while(t);return n}function $r(e,t){return Di(Mi(e,t,iu),e+"")}function Jr(e){return Jn(Vs(e))}function Qr(e,t){var n=Vs(e);return ji(n,ur(t,0,n.length))}function eo(e,t,n,r){if(!ns(e))return e;for(var i=-1,a=(t=wo(t,e)).length,s=a-1,u=e;null!=u&&++i<a;){var c=Bi(t[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=s){var f=u[c];(l=r?r(f,c,u):o)===o&&(l=ns(f)?f:xi(t[i+1])?[]:{})}nr(u,c,l),u=u[c]}return e}var to=Pn?function(e,t){return Pn.set(e,t),e}:iu,no=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:nu(t),writable:!0})}:iu;function ro(e){return ji(Vs(e))}function oo(e,t,r){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=n(i);++o<i;)a[o]=e[o+t];return a}function io(e,t){var n;return hr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function ao(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t===t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!ls(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return so(e,t,iu,n)}function so(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!==t,u=null===t,c=ls(t),l=t===o;i<a;){var f=gt((i+a)/2),d=n(e[f]),h=d!==o,p=null===d,g=d===d,v=ls(d);if(s)var m=r||g;else m=l?g&&(r||h):u?g&&h&&(r||!p):c?g&&h&&!p&&(r||!v):!p&&!v&&(r?d<=t:d<t);m?i=f+1:a=f}return xn(a,4294967294)}function uo(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Va(s,u)){var u=s;i[o++]=0===a?0:a}}return i}function co(e){return"number"==typeof e?e:ls(e)?g:+e}function lo(e){if("string"==typeof e)return e;if(Ya(e))return It(e,lo)+"";if(ls(e))return zn?zn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fo(e,t,n){var r=-1,o=Pt,i=e.length,a=!0,s=[],u=s;if(n)a=!1,o=Ot;else if(i>=200){var c=t?null:$o(e);if(c)return fn(c);a=!1,o=Qt,u=new Kn}else u=t?[]:s;e:for(;++r<i;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f===f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),s.push(l)}else o(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function ho(e,t){return null==(e=Ni(e,t=wo(t,e)))||delete e[Bi(Ji(t))]}function po(e,t,n,r){return eo(e,t,n(Sr(e,t)),r)}function go(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?oo(e,r?0:i,r?i+1:o):oo(e,r?i+1:0,r?o:i)}function vo(e,t){var n=e;return n instanceof Zn&&(n=n.value()),Rt(t,(function(e,t){return t.func.apply(t.thisArg,Dt([e],t.args))}),n)}function mo(e,t,r){var o=e.length;if(o<2)return o?fo(e[0]):[];for(var i=-1,a=n(o);++i<o;)for(var s=e[i],u=-1;++u<o;)u!=i&&(a[i]=dr(a[i]||s,e[u],t,r));return fo(yr(a,1),t,r)}function yo(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;){var u=r<a?t[r]:o;n(s,e[r],u)}return s}function bo(e){return Ka(e)?e:[]}function xo(e){return"function"==typeof e?e:iu}function wo(e,t){return Ya(e)?e:Ei(e,t)?[e]:Fi(xs(e))}var Eo=$r;function _o(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:oo(e,t,n)}var So=ut||function(e){return ht.clearTimeout(e)};function ko(e,t){if(t)return e.slice();var n=e.length,r=Ze?Ze(n):new e.constructor(n);return e.copy(r),r}function To(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Co(e,t){var n=t?To(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Mo(e,t){if(e!==t){var n=e!==o,r=null===e,i=e===e,a=ls(e),s=t!==o,u=null===t,c=t===t,l=ls(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!c)return-1}return 0}function No(e,t,r,o){for(var i=-1,a=e.length,s=r.length,u=-1,c=t.length,l=bn(a-s,0),f=n(c+l),d=!o;++u<c;)f[u]=t[u];for(;++i<s;)(d||i<a)&&(f[r[i]]=e[i]);for(;l--;)f[u++]=e[i++];return f}function Ao(e,t,r,o){for(var i=-1,a=e.length,s=-1,u=r.length,c=-1,l=t.length,f=bn(a-u,0),d=n(f+l),h=!o;++i<f;)d[i]=e[i];for(var p=i;++c<l;)d[p+c]=t[c];for(;++s<u;)(h||i<a)&&(d[p+r[s]]=e[i++]);return d}function Po(e,t){var r=-1,o=e.length;for(t||(t=n(o));++r<o;)t[r]=e[r];return t}function Oo(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],c=r?r(n[u],e[u],u,n,e):o;c===o&&(c=e[u]),i?ar(n,u,c):nr(n,u,c)}return n}function Io(e,t){return function(n,r){var o=Ya(n)?Tt:or,i=t?t():{};return o(n,e,li(r,2),i)}}function Do(e){return $r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,s&&wi(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=Te(t);++r<i;){var u=n[r];u&&e(t,u,r,a)}return t}))}function Ro(e,t){return function(n,r){if(null==n)return n;if(!Xa(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Te(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Lo(e){return function(t,n,r){for(var o=-1,i=Te(t),a=r(t),s=a.length;s--;){var u=a[e?s:++o];if(!1===n(i[u],u,i))break}return t}}function jo(e){return function(t){var n=sn(t=xs(t))?pn(t):o,r=n?n[0]:t.charAt(0),i=n?_o(n,1).join(""):t.slice(1);return r[e]()+i}}function Fo(e){return function(t){return Rt(Qs(Zs(t).replace(Je,"")),e,"")}}function Bo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Vn(e.prototype),r=e.apply(n,t);return ns(r)?r:n}}function zo(e){return function(t,n,r){var i=Te(t);if(!Xa(t)){var a=li(n,3);t=Is(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function Go(e){return oi((function(t){var n=t.length,r=n,a=Wn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Ne(i);if(a&&!u&&"wrapper"==ui(s))var u=new Wn([],!0)}for(r=u?r:n;++r<n;){var c=ui(s=t[r]),l="wrapper"==c?si(s):o;u=l&&_i(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[ui(l[0])].apply(u,l[3]):1==s.length&&_i(s)?u[c]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Ya(r))return u.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}function Vo(e,t,r,i,a,s,u,c,l,d){var h=t&f,p=1&t,g=2&t,v=24&t,m=512&t,y=g?o:Bo(e);return function o(){for(var f=arguments.length,b=n(f),x=f;x--;)b[x]=arguments[x];if(v)var w=ci(o),E=nn(b,w);if(i&&(b=No(b,i,a,v)),s&&(b=Ao(b,s,u,v)),f-=E,v&&f<d){var _=ln(b,w);return Ko(e,t,Vo,o.placeholder,r,b,_,c,l,d-f)}var S=p?r:this,k=g?S[e]:e;return f=b.length,c?b=Ai(b,c):m&&f>1&&b.reverse(),h&&l<f&&(b.length=l),this&&this!==ht&&this instanceof o&&(k=y||Bo(k)),k.apply(S,b)}}function Uo(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function Wo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=lo(n),r=lo(r)):(n=co(n),r=co(r)),i=e(n,r)}return i}}function Zo(e){return oi((function(t){return t=It(t,$t(li())),$r((function(n){var r=this;return e(t,(function(e){return kt(e,r,n)}))}))}))}function Yo(e,t){var n=(t=t===o?" ":lo(t)).length;if(n<2)return n?qr(t,e):t;var r=qr(t,pt(e/hn(t)));return sn(t)?_o(pn(r),0,e).join(""):r.slice(0,e)}function Ho(e){return function(t,r,i){return i&&"number"!=typeof i&&wi(t,r,i)&&(r=i=o),t=gs(t),r===o?(r=t,t=0):r=gs(r),function(e,t,r,o){for(var i=-1,a=bn(pt((t-e)/(r||1)),0),s=n(a);a--;)s[o?a:++i]=e,e+=r;return s}(t,r,i=i===o?t<r?1:-1:gs(i),e)}}function Xo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ys(t),n=ys(n)),e(t,n)}}function Ko(e,t,n,r,i,a,s,u,f,d){var h=8&t;t|=h?c:l,4&(t&=~(h?l:c))||(t&=-4);var p=[e,t,i,h?a:o,h?s:o,h?o:a,h?o:s,u,f,d],g=n.apply(o,p);return _i(e)&&Oi(g,p),g.placeholder=r,Ri(g,e,t)}function qo(e){var t=ke[e];return function(e,n){if(e=ys(e),(n=null==n?0:xn(vs(n),292))&&Ft(e)){var r=(xs(e)+"e").split("e");return+((r=(xs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var $o=Mn&&1/fn(new Mn([,-0]))[1]==h?function(e){return new Mn(e)}:lu;function Jo(e){return function(t){var n=vi(t);return n==k?un(t):n==A?dn(t):function(e,t){return It(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qo(e,t,r,a,h,p,g,v){var m=2&t;if(!m&&"function"!=typeof e)throw new Ne(i);var y=a?a.length:0;if(y||(t&=-97,a=h=o),g=g===o?g:bn(vs(g),0),v=v===o?v:vs(v),y-=h?h.length:0,t&l){var b=a,x=h;a=h=o}var w=m?o:si(e),E=[e,t,r,a,h,b,x,p,g,v];if(w&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=r==f&&8==n||r==f&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?No(c,u,t[4]):u,e[4]=c?ln(e[3],s):t[4]}(u=t[5])&&(c=e[5],e[5]=c?Ao(c,u,t[6]):u,e[6]=c?ln(e[5],s):t[6]);(u=t[7])&&(e[7]=u);r&f&&(e[8]=null==e[8]?t[8]:xn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(E,w),e=E[0],t=E[1],r=E[2],a=E[3],h=E[4],!(v=E[9]=E[9]===o?m?0:e.length:bn(E[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)_=8==t||t==u?function(e,t,r){var i=Bo(e);return function a(){for(var s=arguments.length,u=n(s),c=s,l=ci(a);c--;)u[c]=arguments[c];var f=s<3&&u[0]!==l&&u[s-1]!==l?[]:ln(u,l);return(s-=f.length)<r?Ko(e,t,Vo,a.placeholder,o,u,f,o,o,r-s):kt(this&&this!==ht&&this instanceof a?i:e,this,u)}}(e,t,v):t!=c&&33!=t||h.length?Vo.apply(o,E):function(e,t,r,o){var i=1&t,a=Bo(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=o.length,f=n(l+u),d=this&&this!==ht&&this instanceof t?a:e;++c<l;)f[c]=o[c];for(;u--;)f[c++]=arguments[++s];return kt(d,i?r:this,f)}}(e,t,r,a);else var _=function(e,t,n){var r=1&t,o=Bo(e);return function t(){return(this&&this!==ht&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,r);return Ri((w?to:Oi)(_,E),e,t)}function ei(e,t,n,r){return e===o||Va(e,Oe[n])&&!Re.call(r,n)?t:e}function ti(e,t,n,r,i,a){return ns(e)&&ns(t)&&(a.set(t,e),Ur(e,t,o,ti,a),a.delete(t)),e}function ni(e){return as(e)?o:e}function ri(e,t,n,r,i,a){var s=1&n,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(e),f=a.get(t);if(l&&f)return l==t&&f==e;var d=-1,h=!0,p=2&n?new Kn:o;for(a.set(e,t),a.set(t,e);++d<u;){var g=e[d],v=t[d];if(r)var m=s?r(v,g,d,t,e,a):r(g,v,d,e,t,a);if(m!==o){if(m)continue;h=!1;break}if(p){if(!jt(t,(function(e,t){if(!Qt(p,t)&&(g===e||i(g,e,n,r,a)))return p.push(t)}))){h=!1;break}}else if(g!==v&&!i(g,v,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function oi(e){return Di(Mi(e,o,Hi),e+"")}function ii(e){return kr(e,Is,pi)}function ai(e){return kr(e,Ds,gi)}var si=Pn?function(e){return Pn.get(e)}:lu;function ui(e){for(var t=e.name+"",n=On[t],r=Re.call(On,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ci(e){return(Re.call(Gn,"placeholder")?Gn:e).placeholder}function li(){var e=Gn.iteratee||au;return e=e===au?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function fi(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function di(e){for(var t=Is(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Ti(o)]}return t}function hi(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return Rr(n)?n:o}var pi=mt?function(e){return null==e?[]:(e=Te(e),At(mt(e),(function(t){return Xe.call(e,t)})))}:mu,gi=mt?function(e){for(var t=[];e;)Dt(t,pi(e)),e=Ye(e);return t}:mu,vi=Tr;function mi(e,t,n){for(var r=-1,o=(t=wo(t,e)).length,i=!1;++r<o;){var a=Bi(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&ts(o)&&xi(a,o)&&(Ya(e)||Za(e))}function yi(e){return"function"!=typeof e.constructor||ki(e)?{}:Vn(Ye(e))}function bi(e){return Ya(e)||Za(e)||!!(qe&&e&&e[qe])}function xi(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&xe.test(e))&&e>-1&&e%1==0&&e<t}function wi(e,t,n){if(!ns(n))return!1;var r=typeof t;return!!("number"==r?Xa(n)&&xi(t,n.length):"string"==r&&t in n)&&Va(n[t],e)}function Ei(e,t){if(Ya(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ls(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Te(t))}function _i(e){var t=ui(e),n=Gn[t];if("function"!=typeof n||!(t in Zn.prototype))return!1;if(e===n)return!0;var r=si(n);return!!r&&e===r[0]}(kn&&vi(new kn(new ArrayBuffer(1)))!=R||Tn&&vi(new Tn)!=k||Cn&&vi(Cn.resolve())!=M||Mn&&vi(new Mn)!=A||Nn&&vi(new Nn)!=I)&&(vi=function(e){var t=Tr(e),n=t==C?e.constructor:o,r=n?zi(n):"";if(r)switch(r){case In:return R;case Dn:return k;case Rn:return M;case Ln:return A;case jn:return I}return t});var Si=Ie?Qa:yu;function ki(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Oe)}function Ti(e){return e===e&&!ns(e)}function Ci(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in Te(n)))}}function Mi(e,t,r){return t=bn(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=bn(o.length-t,0),s=n(a);++i<a;)s[i]=o[t+i];i=-1;for(var u=n(t+1);++i<t;)u[i]=o[i];return u[t]=r(s),kt(e,this,u)}}function Ni(e,t){return t.length<2?e:Sr(e,oo(t,0,-1))}function Ai(e,t){for(var n=e.length,r=xn(t.length,n),i=Po(e);r--;){var a=t[r];e[r]=xi(a,n)?i[a]:o}return e}function Pi(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Oi=Li(to),Ii=dt||function(e,t){return ht.setTimeout(e,t)},Di=Li(no);function Ri(e,t,n){var r=t+"";return Di(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ct(m,(function(n){var r="_."+n[0];t&n[1]&&!Pt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(le):[]}(r),n)))}function Li(e){var t=0,n=0;return function(){var r=wn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function ji(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=Kr(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Fi=function(e){var t=La(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,o){t.push(r?o.replace(he,"$1"):n||e)})),t}));function Bi(e){if("string"==typeof e||ls(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function zi(e){if(null!=e){try{return De.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Gi(e){if(e instanceof Zn)return e.clone();var t=new Wn(e.__wrapped__,e.__chain__);return t.__actions__=Po(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Vi=$r((function(e,t){return Ka(e)?dr(e,yr(t,1,Ka,!0)):[]})),Ui=$r((function(e,t){var n=Ji(t);return Ka(n)&&(n=o),Ka(e)?dr(e,yr(t,1,Ka,!0),li(n,2)):[]})),Wi=$r((function(e,t){var n=Ji(t);return Ka(n)&&(n=o),Ka(e)?dr(e,yr(t,1,Ka,!0),o,n):[]}));function Zi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:vs(n);return o<0&&(o=bn(r+o,0)),zt(e,li(t,3),o)}function Yi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=vs(n),i=n<0?bn(r+i,0):xn(i,r-1)),zt(e,li(t,3),i,!0)}function Hi(e){return(null==e?0:e.length)?yr(e,1):[]}function Xi(e){return e&&e.length?e[0]:o}var Ki=$r((function(e){var t=It(e,bo);return t.length&&t[0]===e[0]?Ar(t):[]})),qi=$r((function(e){var t=Ji(e),n=It(e,bo);return t===Ji(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Ar(n,li(t,2)):[]})),$i=$r((function(e){var t=Ji(e),n=It(e,bo);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Ar(n,o,t):[]}));function Ji(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Qi=$r(ea);function ea(e,t){return e&&e.length&&t&&t.length?Hr(e,t):e}var ta=oi((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Xr(e,It(t,(function(e){return xi(e,n)?+e:e})).sort(Mo)),r}));function na(e){return null==e?e:Sn.call(e)}var ra=$r((function(e){return fo(yr(e,1,Ka,!0))})),oa=$r((function(e){var t=Ji(e);return Ka(t)&&(t=o),fo(yr(e,1,Ka,!0),li(t,2))})),ia=$r((function(e){var t=Ji(e);return t="function"==typeof t?t:o,fo(yr(e,1,Ka,!0),o,t)}));function aa(e){if(!e||!e.length)return[];var t=0;return e=At(e,(function(e){if(Ka(e))return t=bn(e.length,t),!0})),Kt(t,(function(t){return It(e,Zt(t))}))}function sa(e,t){if(!e||!e.length)return[];var n=aa(e);return null==t?n:It(n,(function(e){return kt(t,o,e)}))}var ua=$r((function(e,t){return Ka(e)?dr(e,t):[]})),ca=$r((function(e){return mo(At(e,Ka))})),la=$r((function(e){var t=Ji(e);return Ka(t)&&(t=o),mo(At(e,Ka),li(t,2))})),fa=$r((function(e){var t=Ji(e);return t="function"==typeof t?t:o,mo(At(e,Ka),o,t)})),da=$r(aa);var ha=$r((function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,sa(e,n)}));function pa(e){var t=Gn(e);return t.__chain__=!0,t}function ga(e,t){return t(e)}var va=oi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Zn&&xi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ga,args:[i],thisArg:o}),new Wn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));var ma=Io((function(e,t,n){Re.call(e,n)?++e[n]:ar(e,n,1)}));var ya=zo(Zi),ba=zo(Yi);function xa(e,t){return(Ya(e)?Ct:hr)(e,li(t,3))}function wa(e,t){return(Ya(e)?Mt:pr)(e,li(t,3))}var Ea=Io((function(e,t,n){Re.call(e,n)?e[n].push(t):ar(e,n,[t])}));var _a=$r((function(e,t,r){var o=-1,i="function"==typeof t,a=Xa(e)?n(e.length):[];return hr(e,(function(e){a[++o]=i?kt(t,e,r):Pr(e,t,r)})),a})),Sa=Io((function(e,t,n){ar(e,n,t)}));function ka(e,t){return(Ya(e)?It:zr)(e,li(t,3))}var Ta=Io((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ca=$r((function(e,t){if(null==e)return[];var n=t.length;return n>1&&wi(e,t[0],t[1])?t=[]:n>2&&wi(t[0],t[1],t[2])&&(t=[t[0]]),Zr(e,yr(t,1),[])})),Ma=ft||function(){return ht.Date.now()};function Na(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Qo(e,f,o,o,o,o,t)}function Aa(e,t){var n;if("function"!=typeof t)throw new Ne(i);return e=vs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Pa=$r((function(e,t,n){var r=1;if(n.length){var o=ln(n,ci(Pa));r|=c}return Qo(e,r,t,n,o)})),Oa=$r((function(e,t,n){var r=3;if(n.length){var o=ln(n,ci(Oa));r|=c}return Qo(t,r,e,n,o)}));function Ia(e,t,n){var r,a,s,u,c,l,f=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new Ne(i);function g(t){var n=r,i=a;return r=a=o,f=t,u=e.apply(i,n)}function v(e){return f=e,c=Ii(y,t),d?g(e):u}function m(e){var n=e-l;return l===o||n>=t||n<0||h&&e-f>=s}function y(){var e=Ma();if(m(e))return b(e);c=Ii(y,function(e){var n=t-(e-l);return h?xn(n,s-(e-f)):n}(e))}function b(e){return c=o,p&&r?g(e):(r=a=o,u)}function x(){var e=Ma(),n=m(e);if(r=arguments,a=this,l=e,n){if(c===o)return v(l);if(h)return So(c),c=Ii(y,t),g(l)}return c===o&&(c=Ii(y,t)),u}return t=ys(t)||0,ns(n)&&(d=!!n.leading,s=(h="maxWait"in n)?bn(ys(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),x.cancel=function(){c!==o&&So(c),f=0,r=l=a=c=o},x.flush=function(){return c===o?u:b(Ma())},x}var Da=$r((function(e,t){return fr(e,1,t)})),Ra=$r((function(e,t,n){return fr(e,ys(t)||0,n)}));function La(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ne(i);var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(La.Cache||Xn),n}function ja(e){if("function"!=typeof e)throw new Ne(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}La.Cache=Xn;var Fa=Eo((function(e,t){var n=(t=1==t.length&&Ya(t[0])?It(t[0],$t(li())):It(yr(t,1),$t(li()))).length;return $r((function(r){for(var o=-1,i=xn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return kt(e,this,r)}))})),Ba=$r((function(e,t){var n=ln(t,ci(Ba));return Qo(e,c,o,t,n)})),za=$r((function(e,t){var n=ln(t,ci(za));return Qo(e,l,o,t,n)})),Ga=oi((function(e,t){return Qo(e,d,o,o,o,t)}));function Va(e,t){return e===t||e!==e&&t!==t}var Ua=Xo(Cr),Wa=Xo((function(e,t){return e>=t})),Za=Or(function(){return arguments}())?Or:function(e){return rs(e)&&Re.call(e,"callee")&&!Xe.call(e,"callee")},Ya=n.isArray,Ha=bt?$t(bt):function(e){return rs(e)&&Tr(e)==D};function Xa(e){return null!=e&&ts(e.length)&&!Qa(e)}function Ka(e){return rs(e)&&Xa(e)}var qa=yt||yu,$a=xt?$t(xt):function(e){return rs(e)&&Tr(e)==w};function Ja(e){if(!rs(e))return!1;var t=Tr(e);return t==E||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!as(e)}function Qa(e){if(!ns(e))return!1;var t=Tr(e);return t==_||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function es(e){return"number"==typeof e&&e==vs(e)}function ts(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ns(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function rs(e){return null!=e&&"object"==typeof e}var os=wt?$t(wt):function(e){return rs(e)&&vi(e)==k};function is(e){return"number"==typeof e||rs(e)&&Tr(e)==T}function as(e){if(!rs(e)||Tr(e)!=C)return!1;var t=Ye(e);if(null===t)return!0;var n=Re.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&De.call(n)==Be}var ss=Et?$t(Et):function(e){return rs(e)&&Tr(e)==N};var us=_t?$t(_t):function(e){return rs(e)&&vi(e)==A};function cs(e){return"string"==typeof e||!Ya(e)&&rs(e)&&Tr(e)==P}function ls(e){return"symbol"==typeof e||rs(e)&&Tr(e)==O}var fs=St?$t(St):function(e){return rs(e)&&ts(e.length)&&!!at[Tr(e)]};var ds=Xo(Br),hs=Xo((function(e,t){return e<=t}));function ps(e){if(!e)return[];if(Xa(e))return cs(e)?pn(e):Po(e);if($e&&e[$e])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[$e]());var t=vi(e);return(t==k?un:t==A?fn:Vs)(e)}function gs(e){return e?(e=ys(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function vs(e){var t=gs(e),n=t%1;return t===t?n?t-n:t:0}function ms(e){return e?ur(vs(e),0,v):0}function ys(e){if("number"==typeof e)return e;if(ls(e))return g;if(ns(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ns(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=qt(e);var n=me.test(e);return n||be.test(e)?lt(e.slice(2),n?2:8):ve.test(e)?g:+e}function bs(e){return Oo(e,Ds(e))}function xs(e){return null==e?"":lo(e)}var ws=Do((function(e,t){if(ki(t)||Xa(t))Oo(t,Is(t),e);else for(var n in t)Re.call(t,n)&&nr(e,n,t[n])})),Es=Do((function(e,t){Oo(t,Ds(t),e)})),_s=Do((function(e,t,n,r){Oo(t,Ds(t),e,r)})),Ss=Do((function(e,t,n,r){Oo(t,Is(t),e,r)})),ks=oi(sr);var Ts=$r((function(e,t){e=Te(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&wi(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],s=Ds(a),u=-1,c=s.length;++u<c;){var l=s[u],f=e[l];(f===o||Va(f,Oe[l])&&!Re.call(e,l))&&(e[l]=a[l])}return e})),Cs=$r((function(e){return e.push(o,ti),kt(Ls,o,e)}));function Ms(e,t,n){var r=null==e?o:Sr(e,t);return r===o?n:r}function Ns(e,t){return null!=e&&mi(e,t,Nr)}var As=Uo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),nu(iu)),Ps=Uo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Re.call(e,t)?e[t].push(n):e[t]=[n]}),li),Os=$r(Pr);function Is(e){return Xa(e)?$n(e):jr(e)}function Ds(e){return Xa(e)?$n(e,!0):Fr(e)}var Rs=Do((function(e,t,n){Ur(e,t,n)})),Ls=Do((function(e,t,n,r){Ur(e,t,n,r)})),js=oi((function(e,t){var n={};if(null==e)return n;var r=!1;t=It(t,(function(t){return t=wo(t,e),r||(r=t.length>1),t})),Oo(e,ai(e),n),r&&(n=cr(n,7,ni));for(var o=t.length;o--;)ho(n,t[o]);return n}));var Fs=oi((function(e,t){return null==e?{}:function(e,t){return Yr(e,t,(function(t,n){return Ns(e,n)}))}(e,t)}));function Bs(e,t){if(null==e)return{};var n=It(ai(e),(function(e){return[e]}));return t=li(t),Yr(e,n,(function(e,n){return t(e,n[0])}))}var zs=Jo(Is),Gs=Jo(Ds);function Vs(e){return null==e?[]:Jt(e,Is(e))}var Us=Fo((function(e,t,n){return t=t.toLowerCase(),e+(n?Ws(t):t)}));function Ws(e){return Js(xs(e).toLowerCase())}function Zs(e){return(e=xs(e))&&e.replace(we,rn).replace(Qe,"")}var Ys=Fo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Hs=Fo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Xs=jo("toLowerCase");var Ks=Fo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var qs=Fo((function(e,t,n){return e+(n?" ":"")+Js(t)}));var $s=Fo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Js=jo("toUpperCase");function Qs(e,t,n){return e=xs(e),(t=n?o:t)===o?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var eu=$r((function(e,t){try{return kt(e,o,t)}catch(n){return Ja(n)?n:new se(n)}})),tu=oi((function(e,t){return Ct(t,(function(t){t=Bi(t),ar(e,t,Pa(e[t],e))})),e}));function nu(e){return function(){return e}}var ru=Go(),ou=Go(!0);function iu(e){return e}function au(e){return Lr("function"==typeof e?e:cr(e,1))}var su=$r((function(e,t){return function(n){return Pr(n,e,t)}})),uu=$r((function(e,t){return function(n){return Pr(e,n,t)}}));function cu(e,t,n){var r=Is(t),o=_r(t,r);null!=n||ns(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=_r(t,Is(t)));var i=!(ns(n)&&"chain"in n)||!!n.chain,a=Qa(e);return Ct(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=Po(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Dt([this.value()],arguments))})})),e}function lu(){}var fu=Zo(It),du=Zo(Nt),hu=Zo(jt);function pu(e){return Ei(e)?Zt(Bi(e)):function(e){return function(t){return Sr(t,e)}}(e)}var gu=Ho(),vu=Ho(!0);function mu(){return[]}function yu(){return!1}var bu=Wo((function(e,t){return e+t}),0),xu=qo("ceil"),wu=Wo((function(e,t){return e/t}),1),Eu=qo("floor");var _u=Wo((function(e,t){return e*t}),1),Su=qo("round"),ku=Wo((function(e,t){return e-t}),0);return Gn.after=function(e,t){if("function"!=typeof t)throw new Ne(i);return e=vs(e),function(){if(--e<1)return t.apply(this,arguments)}},Gn.ary=Na,Gn.assign=ws,Gn.assignIn=Es,Gn.assignInWith=_s,Gn.assignWith=Ss,Gn.at=ks,Gn.before=Aa,Gn.bind=Pa,Gn.bindAll=tu,Gn.bindKey=Oa,Gn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ya(e)?e:[e]},Gn.chain=pa,Gn.chunk=function(e,t,r){t=(r?wi(e,t,r):t===o)?1:bn(vs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,u=n(pt(i/t));a<i;)u[s++]=oo(e,a,a+=t);return u},Gn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Gn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Dt(Ya(r)?Po(r):[r],yr(t,1))},Gn.cond=function(e){var t=null==e?0:e.length,n=li();return e=t?It(e,(function(e){if("function"!=typeof e[1])throw new Ne(i);return[n(e[0]),e[1]]})):[],$r((function(n){for(var r=-1;++r<t;){var o=e[r];if(kt(o[0],this,n))return kt(o[1],this,n)}}))},Gn.conforms=function(e){return function(e){var t=Is(e);return function(n){return lr(n,e,t)}}(cr(e,1))},Gn.constant=nu,Gn.countBy=ma,Gn.create=function(e,t){var n=Vn(e);return null==t?n:ir(n,t)},Gn.curry=function e(t,n,r){var i=Qo(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Gn.curryRight=function e(t,n,r){var i=Qo(t,u,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Gn.debounce=Ia,Gn.defaults=Ts,Gn.defaultsDeep=Cs,Gn.defer=Da,Gn.delay=Ra,Gn.difference=Vi,Gn.differenceBy=Ui,Gn.differenceWith=Wi,Gn.drop=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,(t=n||t===o?1:vs(t))<0?0:t,r):[]},Gn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,0,(t=r-(t=n||t===o?1:vs(t)))<0?0:t):[]},Gn.dropRightWhile=function(e,t){return e&&e.length?go(e,li(t,3),!0,!0):[]},Gn.dropWhile=function(e,t){return e&&e.length?go(e,li(t,3),!0):[]},Gn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&wi(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=vs(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:vs(r))<0&&(r+=i),r=n>r?0:ms(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Gn.filter=function(e,t){return(Ya(e)?At:mr)(e,li(t,3))},Gn.flatMap=function(e,t){return yr(ka(e,t),1)},Gn.flatMapDeep=function(e,t){return yr(ka(e,t),h)},Gn.flatMapDepth=function(e,t,n){return n=n===o?1:vs(n),yr(ka(e,t),n)},Gn.flatten=Hi,Gn.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,h):[]},Gn.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===o?1:vs(t)):[]},Gn.flip=function(e){return Qo(e,512)},Gn.flow=ru,Gn.flowRight=ou,Gn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Gn.functions=function(e){return null==e?[]:_r(e,Is(e))},Gn.functionsIn=function(e){return null==e?[]:_r(e,Ds(e))},Gn.groupBy=Ea,Gn.initial=function(e){return(null==e?0:e.length)?oo(e,0,-1):[]},Gn.intersection=Ki,Gn.intersectionBy=qi,Gn.intersectionWith=$i,Gn.invert=As,Gn.invertBy=Ps,Gn.invokeMap=_a,Gn.iteratee=au,Gn.keyBy=Sa,Gn.keys=Is,Gn.keysIn=Ds,Gn.map=ka,Gn.mapKeys=function(e,t){var n={};return t=li(t,3),wr(e,(function(e,r,o){ar(n,t(e,r,o),e)})),n},Gn.mapValues=function(e,t){var n={};return t=li(t,3),wr(e,(function(e,r,o){ar(n,r,t(e,r,o))})),n},Gn.matches=function(e){return Gr(cr(e,1))},Gn.matchesProperty=function(e,t){return Vr(e,cr(t,1))},Gn.memoize=La,Gn.merge=Rs,Gn.mergeWith=Ls,Gn.method=su,Gn.methodOf=uu,Gn.mixin=cu,Gn.negate=ja,Gn.nthArg=function(e){return e=vs(e),$r((function(t){return Wr(t,e)}))},Gn.omit=js,Gn.omitBy=function(e,t){return Bs(e,ja(li(t)))},Gn.once=function(e){return Aa(2,e)},Gn.orderBy=function(e,t,n,r){return null==e?[]:(Ya(t)||(t=null==t?[]:[t]),Ya(n=r?o:n)||(n=null==n?[]:[n]),Zr(e,t,n))},Gn.over=fu,Gn.overArgs=Fa,Gn.overEvery=du,Gn.overSome=hu,Gn.partial=Ba,Gn.partialRight=za,Gn.partition=Ta,Gn.pick=Fs,Gn.pickBy=Bs,Gn.property=pu,Gn.propertyOf=function(e){return function(t){return null==e?o:Sr(e,t)}},Gn.pull=Qi,Gn.pullAll=ea,Gn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,li(n,2)):e},Gn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,o,n):e},Gn.pullAt=ta,Gn.range=gu,Gn.rangeRight=vu,Gn.rearg=Ga,Gn.reject=function(e,t){return(Ya(e)?At:mr)(e,ja(li(t,3)))},Gn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=li(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Xr(e,o),n},Gn.rest=function(e,t){if("function"!=typeof e)throw new Ne(i);return $r(e,t=t===o?t:vs(t))},Gn.reverse=na,Gn.sampleSize=function(e,t,n){return t=(n?wi(e,t,n):t===o)?1:vs(t),(Ya(e)?Qn:Qr)(e,t)},Gn.set=function(e,t,n){return null==e?e:eo(e,t,n)},Gn.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:eo(e,t,n,r)},Gn.shuffle=function(e){return(Ya(e)?er:ro)(e)},Gn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&wi(e,t,n)?(t=0,n=r):(t=null==t?0:vs(t),n=n===o?r:vs(n)),oo(e,t,n)):[]},Gn.sortBy=Ca,Gn.sortedUniq=function(e){return e&&e.length?uo(e):[]},Gn.sortedUniqBy=function(e,t){return e&&e.length?uo(e,li(t,2)):[]},Gn.split=function(e,t,n){return n&&"number"!=typeof n&&wi(e,t,n)&&(t=n=o),(n=n===o?v:n>>>0)?(e=xs(e))&&("string"==typeof t||null!=t&&!ss(t))&&!(t=lo(t))&&sn(e)?_o(pn(e),0,n):e.split(t,n):[]},Gn.spread=function(e,t){if("function"!=typeof e)throw new Ne(i);return t=null==t?0:bn(vs(t),0),$r((function(n){var r=n[t],o=_o(n,0,t);return r&&Dt(o,r),kt(e,this,o)}))},Gn.tail=function(e){var t=null==e?0:e.length;return t?oo(e,1,t):[]},Gn.take=function(e,t,n){return e&&e.length?oo(e,0,(t=n||t===o?1:vs(t))<0?0:t):[]},Gn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,(t=r-(t=n||t===o?1:vs(t)))<0?0:t,r):[]},Gn.takeRightWhile=function(e,t){return e&&e.length?go(e,li(t,3),!1,!0):[]},Gn.takeWhile=function(e,t){return e&&e.length?go(e,li(t,3)):[]},Gn.tap=function(e,t){return t(e),e},Gn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Ne(i);return ns(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Ia(e,t,{leading:r,maxWait:t,trailing:o})},Gn.thru=ga,Gn.toArray=ps,Gn.toPairs=zs,Gn.toPairsIn=Gs,Gn.toPath=function(e){return Ya(e)?It(e,Bi):ls(e)?[e]:Po(Fi(xs(e)))},Gn.toPlainObject=bs,Gn.transform=function(e,t,n){var r=Ya(e),o=r||qa(e)||fs(e);if(t=li(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:ns(e)&&Qa(i)?Vn(Ye(e)):{}}return(o?Ct:wr)(e,(function(e,r,o){return t(n,e,r,o)})),n},Gn.unary=function(e){return Na(e,1)},Gn.union=ra,Gn.unionBy=oa,Gn.unionWith=ia,Gn.uniq=function(e){return e&&e.length?fo(e):[]},Gn.uniqBy=function(e,t){return e&&e.length?fo(e,li(t,2)):[]},Gn.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?fo(e,o,t):[]},Gn.unset=function(e,t){return null==e||ho(e,t)},Gn.unzip=aa,Gn.unzipWith=sa,Gn.update=function(e,t,n){return null==e?e:po(e,t,xo(n))},Gn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:po(e,t,xo(n),r)},Gn.values=Vs,Gn.valuesIn=function(e){return null==e?[]:Jt(e,Ds(e))},Gn.without=ua,Gn.words=Qs,Gn.wrap=function(e,t){return Ba(xo(t),e)},Gn.xor=ca,Gn.xorBy=la,Gn.xorWith=fa,Gn.zip=da,Gn.zipObject=function(e,t){return yo(e||[],t||[],nr)},Gn.zipObjectDeep=function(e,t){return yo(e||[],t||[],eo)},Gn.zipWith=ha,Gn.entries=zs,Gn.entriesIn=Gs,Gn.extend=Es,Gn.extendWith=_s,cu(Gn,Gn),Gn.add=bu,Gn.attempt=eu,Gn.camelCase=Us,Gn.capitalize=Ws,Gn.ceil=xu,Gn.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=ys(n))===n?n:0),t!==o&&(t=(t=ys(t))===t?t:0),ur(ys(e),t,n)},Gn.clone=function(e){return cr(e,4)},Gn.cloneDeep=function(e){return cr(e,5)},Gn.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:o)},Gn.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:o)},Gn.conformsTo=function(e,t){return null==t||lr(e,t,Is(t))},Gn.deburr=Zs,Gn.defaultTo=function(e,t){return null==e||e!==e?t:e},Gn.divide=wu,Gn.endsWith=function(e,t,n){e=xs(e),t=lo(t);var r=e.length,i=n=n===o?r:ur(vs(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Gn.eq=Va,Gn.escape=function(e){return(e=xs(e))&&$.test(e)?e.replace(K,on):e},Gn.escapeRegExp=function(e){return(e=xs(e))&&ie.test(e)?e.replace(oe,"\\$&"):e},Gn.every=function(e,t,n){var r=Ya(e)?Nt:gr;return n&&wi(e,t,n)&&(t=o),r(e,li(t,3))},Gn.find=ya,Gn.findIndex=Zi,Gn.findKey=function(e,t){return Bt(e,li(t,3),wr)},Gn.findLast=ba,Gn.findLastIndex=Yi,Gn.findLastKey=function(e,t){return Bt(e,li(t,3),Er)},Gn.floor=Eu,Gn.forEach=xa,Gn.forEachRight=wa,Gn.forIn=function(e,t){return null==e?e:br(e,li(t,3),Ds)},Gn.forInRight=function(e,t){return null==e?e:xr(e,li(t,3),Ds)},Gn.forOwn=function(e,t){return e&&wr(e,li(t,3))},Gn.forOwnRight=function(e,t){return e&&Er(e,li(t,3))},Gn.get=Ms,Gn.gt=Ua,Gn.gte=Wa,Gn.has=function(e,t){return null!=e&&mi(e,t,Mr)},Gn.hasIn=Ns,Gn.head=Xi,Gn.identity=iu,Gn.includes=function(e,t,n,r){e=Xa(e)?e:Vs(e),n=n&&!r?vs(n):0;var o=e.length;return n<0&&(n=bn(o+n,0)),cs(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Gt(e,t,n)>-1},Gn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:vs(n);return o<0&&(o=bn(r+o,0)),Gt(e,t,o)},Gn.inRange=function(e,t,n){return t=gs(t),n===o?(n=t,t=0):n=gs(n),function(e,t,n){return e>=xn(t,n)&&e<bn(t,n)}(e=ys(e),t,n)},Gn.invoke=Os,Gn.isArguments=Za,Gn.isArray=Ya,Gn.isArrayBuffer=Ha,Gn.isArrayLike=Xa,Gn.isArrayLikeObject=Ka,Gn.isBoolean=function(e){return!0===e||!1===e||rs(e)&&Tr(e)==x},Gn.isBuffer=qa,Gn.isDate=$a,Gn.isElement=function(e){return rs(e)&&1===e.nodeType&&!as(e)},Gn.isEmpty=function(e){if(null==e)return!0;if(Xa(e)&&(Ya(e)||"string"==typeof e||"function"==typeof e.splice||qa(e)||fs(e)||Za(e)))return!e.length;var t=vi(e);if(t==k||t==A)return!e.size;if(ki(e))return!jr(e).length;for(var n in e)if(Re.call(e,n))return!1;return!0},Gn.isEqual=function(e,t){return Ir(e,t)},Gn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?Ir(e,t,o,n):!!r},Gn.isError=Ja,Gn.isFinite=function(e){return"number"==typeof e&&Ft(e)},Gn.isFunction=Qa,Gn.isInteger=es,Gn.isLength=ts,Gn.isMap=os,Gn.isMatch=function(e,t){return e===t||Dr(e,t,di(t))},Gn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Dr(e,t,di(t),n)},Gn.isNaN=function(e){return is(e)&&e!=+e},Gn.isNative=function(e){if(Si(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Rr(e)},Gn.isNil=function(e){return null==e},Gn.isNull=function(e){return null===e},Gn.isNumber=is,Gn.isObject=ns,Gn.isObjectLike=rs,Gn.isPlainObject=as,Gn.isRegExp=ss,Gn.isSafeInteger=function(e){return es(e)&&e>=-9007199254740991&&e<=p},Gn.isSet=us,Gn.isString=cs,Gn.isSymbol=ls,Gn.isTypedArray=fs,Gn.isUndefined=function(e){return e===o},Gn.isWeakMap=function(e){return rs(e)&&vi(e)==I},Gn.isWeakSet=function(e){return rs(e)&&"[object WeakSet]"==Tr(e)},Gn.join=function(e,t){return null==e?"":Yt.call(e,t)},Gn.kebabCase=Ys,Gn.last=Ji,Gn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=vs(n))<0?bn(r+i,0):xn(i,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):zt(e,Ut,i,!0)},Gn.lowerCase=Hs,Gn.lowerFirst=Xs,Gn.lt=ds,Gn.lte=hs,Gn.max=function(e){return e&&e.length?vr(e,iu,Cr):o},Gn.maxBy=function(e,t){return e&&e.length?vr(e,li(t,2),Cr):o},Gn.mean=function(e){return Wt(e,iu)},Gn.meanBy=function(e,t){return Wt(e,li(t,2))},Gn.min=function(e){return e&&e.length?vr(e,iu,Br):o},Gn.minBy=function(e,t){return e&&e.length?vr(e,li(t,2),Br):o},Gn.stubArray=mu,Gn.stubFalse=yu,Gn.stubObject=function(){return{}},Gn.stubString=function(){return""},Gn.stubTrue=function(){return!0},Gn.multiply=_u,Gn.nth=function(e,t){return e&&e.length?Wr(e,vs(t)):o},Gn.noConflict=function(){return ht._===this&&(ht._=ze),this},Gn.noop=lu,Gn.now=Ma,Gn.pad=function(e,t,n){e=xs(e);var r=(t=vs(t))?hn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Yo(gt(o),n)+e+Yo(pt(o),n)},Gn.padEnd=function(e,t,n){e=xs(e);var r=(t=vs(t))?hn(e):0;return t&&r<t?e+Yo(t-r,n):e},Gn.padStart=function(e,t,n){e=xs(e);var r=(t=vs(t))?hn(e):0;return t&&r<t?Yo(t-r,n)+e:e},Gn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),En(xs(e).replace(ae,""),t||0)},Gn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&wi(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=gs(e),t===o?(t=e,e=0):t=gs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=_n();return xn(e+i*(t-e+ct("1e-"+((i+"").length-1))),t)}return Kr(e,t)},Gn.reduce=function(e,t,n){var r=Ya(e)?Rt:Ht,o=arguments.length<3;return r(e,li(t,4),n,o,hr)},Gn.reduceRight=function(e,t,n){var r=Ya(e)?Lt:Ht,o=arguments.length<3;return r(e,li(t,4),n,o,pr)},Gn.repeat=function(e,t,n){return t=(n?wi(e,t,n):t===o)?1:vs(t),qr(xs(e),t)},Gn.replace=function(){var e=arguments,t=xs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Gn.result=function(e,t,n){var r=-1,i=(t=wo(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[Bi(t[r])];a===o&&(r=i,a=n),e=Qa(a)?a.call(e):a}return e},Gn.round=Su,Gn.runInContext=e,Gn.sample=function(e){return(Ya(e)?Jn:Jr)(e)},Gn.size=function(e){if(null==e)return 0;if(Xa(e))return cs(e)?hn(e):e.length;var t=vi(e);return t==k||t==A?e.size:jr(e).length},Gn.snakeCase=Ks,Gn.some=function(e,t,n){var r=Ya(e)?jt:io;return n&&wi(e,t,n)&&(t=o),r(e,li(t,3))},Gn.sortedIndex=function(e,t){return ao(e,t)},Gn.sortedIndexBy=function(e,t,n){return so(e,t,li(n,2))},Gn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ao(e,t);if(r<n&&Va(e[r],t))return r}return-1},Gn.sortedLastIndex=function(e,t){return ao(e,t,!0)},Gn.sortedLastIndexBy=function(e,t,n){return so(e,t,li(n,2),!0)},Gn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ao(e,t,!0)-1;if(Va(e[n],t))return n}return-1},Gn.startCase=qs,Gn.startsWith=function(e,t,n){return e=xs(e),n=null==n?0:ur(vs(n),0,e.length),t=lo(t),e.slice(n,n+t.length)==t},Gn.subtract=ku,Gn.sum=function(e){return e&&e.length?Xt(e,iu):0},Gn.sumBy=function(e,t){return e&&e.length?Xt(e,li(t,2)):0},Gn.template=function(e,t,n){var r=Gn.templateSettings;n&&wi(e,t,n)&&(t=o),e=xs(e),t=_s({},t,r,ei);var i,a,s=_s({},t.imports,r.imports,ei),u=Is(s),c=Jt(s,u),l=0,f=t.interpolate||Ee,d="__p += '",h=Ce((t.escape||Ee).source+"|"+f.source+"|"+(f===ee?pe:Ee).source+"|"+(t.evaluate||Ee).source+"|$","g"),p="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++it+"]")+"\n";e.replace(h,(function(t,n,r,o,s,u){return r||(r=o),d+=e.slice(l,u).replace(_e,an),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),d+="';\n";var g=Re.call(t,"variable")&&t.variable;if(g){if(de.test(g))throw new se("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(Z,""):d).replace(Y,"$1").replace(H,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=eu((function(){return Se(u,p+"return "+d).apply(o,c)}));if(v.source=d,Ja(v))throw v;return v},Gn.times=function(e,t){if((e=vs(e))<1||e>p)return[];var n=v,r=xn(e,v);t=li(t),e-=v;for(var o=Kt(r,t);++n<e;)t(n);return o},Gn.toFinite=gs,Gn.toInteger=vs,Gn.toLength=ms,Gn.toLower=function(e){return xs(e).toLowerCase()},Gn.toNumber=ys,Gn.toSafeInteger=function(e){return e?ur(vs(e),-9007199254740991,p):0===e?e:0},Gn.toString=xs,Gn.toUpper=function(e){return xs(e).toUpperCase()},Gn.trim=function(e,t,n){if((e=xs(e))&&(n||t===o))return qt(e);if(!e||!(t=lo(t)))return e;var r=pn(e),i=pn(t);return _o(r,en(r,i),tn(r,i)+1).join("")},Gn.trimEnd=function(e,t,n){if((e=xs(e))&&(n||t===o))return e.slice(0,gn(e)+1);if(!e||!(t=lo(t)))return e;var r=pn(e);return _o(r,0,tn(r,pn(t))+1).join("")},Gn.trimStart=function(e,t,n){if((e=xs(e))&&(n||t===o))return e.replace(ae,"");if(!e||!(t=lo(t)))return e;var r=pn(e);return _o(r,en(r,pn(t))).join("")},Gn.truncate=function(e,t){var n=30,r="...";if(ns(t)){var i="separator"in t?t.separator:i;n="length"in t?vs(t.length):n,r="omission"in t?lo(t.omission):r}var a=(e=xs(e)).length;if(sn(e)){var s=pn(e);a=s.length}if(n>=a)return e;var u=n-hn(r);if(u<1)return r;var c=s?_o(s,0,u).join(""):e.slice(0,u);if(i===o)return c+r;if(s&&(u+=c.length-u),ss(i)){if(e.slice(u).search(i)){var l,f=c;for(i.global||(i=Ce(i.source,xs(ge.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var d=l.index;c=c.slice(0,d===o?u:d)}}else if(e.indexOf(lo(i),u)!=u){var h=c.lastIndexOf(i);h>-1&&(c=c.slice(0,h))}return c+r},Gn.unescape=function(e){return(e=xs(e))&&q.test(e)?e.replace(X,vn):e},Gn.uniqueId=function(e){var t=++Le;return xs(e)+t},Gn.upperCase=$s,Gn.upperFirst=Js,Gn.each=xa,Gn.eachRight=wa,Gn.first=Xi,cu(Gn,function(){var e={};return wr(Gn,(function(t,n){Re.call(Gn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Gn.VERSION="4.17.21",Ct(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Gn[e].placeholder=Gn})),Ct(["drop","take"],(function(e,t){Zn.prototype[e]=function(n){n=n===o?1:bn(vs(n),0);var r=this.__filtered__&&!t?new Zn(this):this.clone();return r.__filtered__?r.__takeCount__=xn(n,r.__takeCount__):r.__views__.push({size:xn(n,v),type:e+(r.__dir__<0?"Right":"")}),r},Zn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ct(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Zn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:li(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ct(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Zn.prototype[e]=function(){return this[n](1).value()[0]}})),Ct(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Zn.prototype[e]=function(){return this.__filtered__?new Zn(this):this[n](1)}})),Zn.prototype.compact=function(){return this.filter(iu)},Zn.prototype.find=function(e){return this.filter(e).head()},Zn.prototype.findLast=function(e){return this.reverse().find(e)},Zn.prototype.invokeMap=$r((function(e,t){return"function"==typeof e?new Zn(this):this.map((function(n){return Pr(n,e,t)}))})),Zn.prototype.reject=function(e){return this.filter(ja(li(e)))},Zn.prototype.slice=function(e,t){e=vs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Zn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=vs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Zn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Zn.prototype.toArray=function(){return this.take(v)},wr(Zn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Gn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(Gn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof Zn,c=s[0],l=u||Ya(t),f=function(e){var t=i.apply(Gn,Dt([e],s));return r&&d?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,g=u&&!h;if(!a&&l){t=g?t:new Zn(this);var v=e.apply(t,s);return v.__actions__.push({func:ga,args:[f],thisArg:o}),new Wn(v,d)}return p&&g?e.apply(this,s):(v=this.thru(f),p?r?v.value()[0]:v.value():v)})})),Ct(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ae[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Gn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Ya(o)?o:[],e)}return this[n]((function(n){return t.apply(Ya(n)?n:[],e)}))}})),wr(Zn.prototype,(function(e,t){var n=Gn[t];if(n){var r=n.name+"";Re.call(On,r)||(On[r]=[]),On[r].push({name:t,func:n})}})),On[Vo(o,2).name]=[{name:"wrapper",func:o}],Zn.prototype.clone=function(){var e=new Zn(this.__wrapped__);return e.__actions__=Po(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Po(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Po(this.__views__),e},Zn.prototype.reverse=function(){if(this.__filtered__){var e=new Zn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Zn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ya(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=xn(t,e+a);break;case"takeRight":e=bn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,s=i.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,d=0,h=xn(u,this.__takeCount__);if(!n||!r&&o==u&&h==u)return vo(e,this.__actions__);var p=[];e:for(;u--&&d<h;){for(var g=-1,v=e[c+=t];++g<f;){var m=l[g],y=m.iteratee,b=m.type,x=y(v);if(2==b)v=x;else if(!x){if(1==b)continue e;break e}}p[d++]=v}return p},Gn.prototype.at=va,Gn.prototype.chain=function(){return pa(this)},Gn.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},Gn.prototype.next=function(){this.__values__===o&&(this.__values__=ps(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Gn.prototype.plant=function(e){for(var t,n=this;n instanceof Un;){var r=Gi(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Gn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Zn){var t=e;return this.__actions__.length&&(t=new Zn(this)),(t=t.reverse()).__actions__.push({func:ga,args:[na],thisArg:o}),new Wn(t,this.__chain__)}return this.thru(na)},Gn.prototype.toJSON=Gn.prototype.valueOf=Gn.prototype.value=function(){return vo(this.__wrapped__,this.__actions__)},Gn.prototype.first=Gn.prototype.head,$e&&(Gn.prototype[$e]=function(){return this}),Gn}();ht._=mn,(r=function(){return mn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},72:function(e,t,n){var r=n(7009);e.exports=function(){return r.Date.now()}},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},2582:function(e,t,n){var r=n(821),o=n(5418),i=n(152),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},1132:function(e,t,n){"use strict";n.r(t),n.d(t,{AbstractMatrix:function(){return z},CHO:function(){return we},CholeskyDecomposition:function(){return we},EVD:function(){return ge},EigenvalueDecomposition:function(){return ge},LU:function(){return ne},LuDecomposition:function(){return ne},Matrix:function(){return V},MatrixColumnSelectionView:function(){return Z},MatrixColumnView:function(){return W},MatrixFlipColumnView:function(){return Y},MatrixFlipRowView:function(){return H},MatrixRowSelectionView:function(){return K},MatrixRowView:function(){return X},MatrixSelectionView:function(){return q},MatrixSubView:function(){return $},MatrixTransposeView:function(){return J},NIPALS:function(){return Ee},Nipals:function(){return Ee},QR:function(){return oe},QrDecomposition:function(){return oe},SVD:function(){return ie},SingularValueDecomposition:function(){return ie},WrapperMatrix1D:function(){return Q},WrapperMatrix2D:function(){return ee},correlation:function(){return pe},covariance:function(){return he},default:function(){return V},determinant:function(){return ue},inverse:function(){return ae},linearDependencies:function(){return fe},pseudoInverse:function(){return de},solve:function(){return se},wrap:function(){return te}});var r=n(2963),o=n(9340),i=n(4062),a=n(5671),s=n(3144),u=Object.prototype.toString;function c(e){return u.call(e).endsWith("Array]")}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!c(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var n=t.fromIndex,r=void 0===n?0:n,o=t.toIndex,i=void 0===o?e.length:o;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=r||i>e.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=e[r],s=r+1;s<i;s++)e[s]>a&&(a=e[s]);return a}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!c(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var n=t.fromIndex,r=void 0===n?0:n,o=t.toIndex,i=void 0===o?e.length:o;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=r||i>e.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=e[r],s=r+1;s<i;s++)e[s]<a&&(a=e[s]);return a}function d(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!c(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");if(void 0!==n.output){if(!c(n.output))throw new TypeError("output option must be an array if specified");t=n.output}else t=new Array(e.length);var r=f(e),o=l(e);if(r===o)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var i=n.min,a=void 0===i?n.autoMinMax?r:0:i,s=n.max,u=void 0===s?n.autoMinMax?o:1:s;if(a>=u)throw new RangeError("min option must be smaller than max option");for(var d=(u-a)/(o-r),h=0;h<e.length;h++)t[h]=(e[h]-r)*d+a;return t}var h=" ".repeat(2),p=" ".repeat(4);function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxRows,r=void 0===n?15:n,o=t.maxColumns,i=void 0===o?10:o,a=t.maxNumSize,s=void 0===a?8:a;return"".concat(e.constructor.name," {\n").concat(h,"[\n").concat(p).concat(v(e,r,i,s),"\n").concat(h,"]\n").concat(h,"rows: ").concat(e.rows,"\n").concat(h,"columns: ").concat(e.columns,"\n}")}function v(e,t,n,r){for(var o=e.rows,i=e.columns,a=Math.min(o,t),s=Math.min(i,n),u=[],c=0;c<a;c++){for(var l=[],f=0;f<s;f++)l.push(m(e.get(c,f),r));u.push("".concat(l.join(" ")))}return s!==i&&(u[u.length-1]+=" ... ".concat(i-n," more columns")),a!==o&&u.push("... ".concat(o-t," more rows")),u.join("\n".concat(p))}function m(e,t){var n=String(e);if(n.length<=t)return n.padEnd(t," ");var r=e.toPrecision(t-2);if(r.length<=t)return r;var o=e.toExponential(t-2),i=o.indexOf("e"),a=o.slice(i);return o.slice(0,t-a.length)+a}function y(e,t,n){var r=n?e.rows:e.rows-1;if(t<0||t>r)throw new RangeError("Row index out of range")}function b(e,t,n){var r=n?e.columns:e.columns-1;if(t<0||t>r)throw new RangeError("Column index out of range")}function x(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function w(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function E(e,t){if(!c(t))throw new TypeError("row indices must be an array");for(var n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.rows)throw new RangeError("row indices are out of range")}function _(e,t){if(!c(t))throw new TypeError("column indices must be an array");for(var n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.columns)throw new RangeError("column indices are out of range")}function S(e,t,n,r,o){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(T("startRow",t),T("endRow",n),T("startColumn",r),T("endColumn",o),t>n||r>o||t<0||t>=e.rows||n<0||n>=e.rows||r<0||r>=e.columns||o<0||o>=e.columns)throw new RangeError("Submatrix indices are out of range")}function k(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=0;r<e;r++)n.push(t);return n}function T(e,t){if("number"!==typeof t)throw new TypeError("".concat(e," must be a number"))}function C(e){if(e.isEmpty())throw new Error("Empty matrix has no elements to index")}function M(e,t,n){for(var r=e.rows,o=e.columns,i=[],a=0;a<r;a++){for(var s=0,u=0,c=0,l=0;l<o;l++)s+=c=e.get(a,l)-n[a],u+=c*c;t?i.push((u-s*s/o)/(o-1)):i.push((u-s*s/o)/o)}return i}function N(e,t,n){for(var r=e.rows,o=e.columns,i=[],a=0;a<o;a++){for(var s=0,u=0,c=0,l=0;l<r;l++)s+=c=e.get(l,a)-n[a],u+=c*c;t?i.push((u-s*s/r)/(r-1)):i.push((u-s*s/r)/r)}return i}function A(e,t,n){for(var r=e.rows,o=e.columns,i=r*o,a=0,s=0,u=0,c=0;c<r;c++)for(var l=0;l<o;l++)a+=u=e.get(c,l)-n,s+=u*u;return t?(s-a*a/i)/(i-1):(s-a*a/i)/i}function P(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[n])}function O(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[r])}function I(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t)}function D(e){for(var t=[],n=0;n<e.rows;n++){for(var r=0,o=0;o<e.columns;o++)r+=Math.pow(e.get(n,o),2)/(e.columns-1);t.push(Math.sqrt(r))}return t}function R(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[n])}function L(e){for(var t=[],n=0;n<e.columns;n++){for(var r=0,o=0;o<e.rows;o++)r+=Math.pow(e.get(o,n),2)/(e.rows-1);t.push(Math.sqrt(r))}return t}function j(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[r])}function F(e){for(var t=e.size-1,n=0,r=0;r<e.columns;r++)for(var o=0;o<e.rows;o++)n+=Math.pow(e.get(o,r),2)/t;return Math.sqrt(n)}function B(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t)}var z=function(){function e(){(0,a.Z)(this,e)}return(0,s.Z)(e,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(e){if("function"!==typeof e)throw new TypeError("callback must be a function");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.call(this,t,n);return this}},{key:"to1DArray",value:function(){for(var e=[],t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"to2DArray",value:function(){for(var e=[],t=0;t<this.rows;t++){e.push([]);for(var n=0;n<this.columns;n++)e[t].push(this.get(t,n))}return e}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return 1===this.rows}},{key:"isColumnVector",value:function(){return 1===this.columns}},{key:"isVector",value:function(){return 1===this.rows||1===this.columns}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return 0===this.rows||0===this.columns}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var e=0,t=0,n=-1,r=!0,o=!1;e<this.rows&&r;){for(t=0,o=!1;t<this.columns&&!1===o;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>n?(o=!0,n=t):(r=!1,o=!0);e++}return r}},{key:"isReducedEchelonForm",value:function(){for(var e=0,t=0,n=-1,r=!0,o=!1;e<this.rows&&r;){for(t=0,o=!1;t<this.columns&&!1===o;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>n?(o=!0,n=t):(r=!1,o=!0);for(var i=t+1;i<this.rows;i++)0!==this.get(e,i)&&(r=!1);e++}return r}},{key:"echelonForm",value:function(){for(var e=this.clone(),t=0,n=0;t<e.rows&&n<e.columns;){for(var r=t,o=t;o<e.rows;o++)e.get(o,n)>e.get(r,n)&&(r=o);if(0===e.get(r,n))n++;else{e.swapRows(t,r);for(var i=e.get(t,n),a=n;a<e.columns;a++)e.set(t,a,e.get(t,a)/i);for(var s=t+1;s<e.rows;s++){var u=e.get(s,n)/e.get(t,n);e.set(s,n,0);for(var c=n+1;c<e.columns;c++)e.set(s,c,e.get(s,c)-e.get(t,c)*u)}t++,n++}}return e}},{key:"reducedEchelonForm",value:function(){for(var e=this.echelonForm(),t=e.columns,n=e.rows,r=n-1;r>=0;)if(0===e.maxRow(r))r--;else{for(var o=0,i=!1;o<n&&!1===i;)1===e.get(r,o)?i=!0:o++;for(var a=0;a<r;a++)for(var s=e.get(a,o),u=o;u<t;u++){var c=e.get(a,u)-s*e.get(r,u);e.set(a,u,c)}r--}return e}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.rows,n=void 0===t?1:t,r=e.columns,o=void 0===r?1:r;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(o)||o<=0)throw new TypeError("columns must be a positive integer");for(var i=new V(this.rows*n,this.columns*o),a=0;a<n;a++)for(var s=0;s<o;s++)i.setSubMatrix(this,this.rows*a,this.columns*s);return i}},{key:"fill",value:function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,e);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(e){y(this,e);for(var t=[],n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"getRowVector",value:function(e){return V.rowVector(this.getRow(e))}},{key:"setRow",value:function(e,t){y(this,e),t=x(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}},{key:"swapRows",value:function(e,t){y(this,e),y(this,t);for(var n=0;n<this.columns;n++){var r=this.get(e,n);this.set(e,n,this.get(t,n)),this.set(t,n,r)}return this}},{key:"getColumn",value:function(e){b(this,e);for(var t=[],n=0;n<this.rows;n++)t.push(this.get(n,e));return t}},{key:"getColumnVector",value:function(e){return V.columnVector(this.getColumn(e))}},{key:"setColumn",value:function(e,t){b(this,e),t=w(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}},{key:"swapColumns",value:function(e,t){b(this,e),b(this,t);for(var n=0;n<this.rows;n++){var r=this.get(n,e);this.set(n,e,this.get(n,t)),this.set(n,t,r)}return this}},{key:"addRowVector",value:function(e){e=x(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[n]);return this}},{key:"subRowVector",value:function(e){e=x(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[n]);return this}},{key:"mulRowVector",value:function(e){e=x(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[n]);return this}},{key:"divRowVector",value:function(e){e=x(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[n]);return this}},{key:"addColumnVector",value:function(e){e=w(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[t]);return this}},{key:"subColumnVector",value:function(e){e=w(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[t]);return this}},{key:"mulColumnVector",value:function(e){e=w(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[t]);return this}},{key:"divColumnVector",value:function(e){e=w(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[t]);return this}},{key:"mulRow",value:function(e,t){y(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}},{key:"mulColumn",value:function(e,t){b(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}},{key:"max",value:function(){if(this.isEmpty())return NaN;for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}},{key:"maxIndex",value:function(){C(this);for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)>e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}},{key:"min",value:function(){if(this.isEmpty())return NaN;for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}},{key:"minIndex",value:function(){C(this);for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)<e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}},{key:"maxRow",value:function(e){if(y(this,e),this.isEmpty())return NaN;for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}},{key:"maxRowIndex",value:function(e){y(this,e),C(this);for(var t=this.get(e,0),n=[e,0],r=1;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r),n[1]=r);return n}},{key:"minRow",value:function(e){if(y(this,e),this.isEmpty())return NaN;for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}},{key:"minRowIndex",value:function(e){y(this,e),C(this);for(var t=this.get(e,0),n=[e,0],r=1;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r),n[1]=r);return n}},{key:"maxColumn",value:function(e){if(b(this,e),this.isEmpty())return NaN;for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}},{key:"maxColumnIndex",value:function(e){b(this,e),C(this);for(var t=this.get(0,e),n=[0,e],r=1;r<this.rows;r++)this.get(r,e)>t&&(t=this.get(r,e),n[0]=r);return n}},{key:"minColumn",value:function(e){if(b(this,e),this.isEmpty())return NaN;for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}},{key:"minColumnIndex",value:function(e){b(this,e),C(this);for(var t=this.get(0,e),n=[0,e],r=1;r<this.rows;r++)this.get(r,e)<t&&(t=this.get(r,e),n[0]=r);return n}},{key:"diag",value:function(){for(var e=Math.min(this.rows,this.columns),t=[],n=0;n<e;n++)t.push(this.get(n,n));return t}},{key:"norm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"frobenius",t=0;if("max"===e)return this.max();if("frobenius"===e){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)t+=this.get(n,r)*this.get(n,r);return Math.sqrt(t)}throw new RangeError("unknown norm type: ".concat(e))}},{key:"cumulativeSum",value:function(){for(var e=0,t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e+=this.get(t,n),this.set(t,n,e);return this}},{key:"dot",value:function(t){e.isMatrix(t)&&(t=t.to1DArray());var n=this.to1DArray();if(n.length!==t.length)throw new RangeError("vectors do not have the same size");for(var r=0,o=0;o<n.length;o++)r+=n[o]*t[o];return r}},{key:"mmul",value:function(e){e=V.checkMatrix(e);for(var t=this.rows,n=this.columns,r=e.columns,o=new V(t,r),i=new Float64Array(n),a=0;a<r;a++){for(var s=0;s<n;s++)i[s]=e.get(s,a);for(var u=0;u<t;u++){for(var c=0,l=0;l<n;l++)c+=this.get(u,l)*i[l];o.set(u,a,c)}}return o}},{key:"strassen2x2",value:function(e){e=V.checkMatrix(e);var t=new V(2,2),n=this.get(0,0),r=e.get(0,0),o=this.get(0,1),i=e.get(0,1),a=this.get(1,0),s=e.get(1,0),u=this.get(1,1),c=e.get(1,1),l=(n+u)*(r+c),f=(a+u)*r,d=n*(i-c),h=u*(s-r),p=(n+o)*c,g=l+h-p+(o-u)*(s+c),v=d+p,m=f+h,y=l-f+d+(a-n)*(r+i);return t.set(0,0,g),t.set(0,1,v),t.set(1,0,m),t.set(1,1,y),t}},{key:"strassen3x3",value:function(e){e=V.checkMatrix(e);var t=new V(3,3),n=this.get(0,0),r=this.get(0,1),o=this.get(0,2),i=this.get(1,0),a=this.get(1,1),s=this.get(1,2),u=this.get(2,0),c=this.get(2,1),l=this.get(2,2),f=e.get(0,0),d=e.get(0,1),h=e.get(0,2),p=e.get(1,0),g=e.get(1,1),v=e.get(1,2),m=e.get(2,0),y=e.get(2,1),b=e.get(2,2),x=(n-i)*(-d+g),w=(-n+i+a)*(f-d+g),E=(i+a)*(-f+d),_=n*f,S=(-n+u+c)*(f-h+v),k=(-n+u)*(h-v),T=(u+c)*(-f+h),C=(-o+c+l)*(g+m-y),M=(o-l)*(g-y),N=o*m,A=(c+l)*(-m+y),P=(-o+a+s)*(v+m-b),O=(o-s)*(v-b),I=(a+s)*(-m+b),D=_+N+r*p,R=(n+r+o-i-a-c-l)*g+w+E+_+C+N+A,L=_+S+T+(n+r+o-a-s-u-c)*v+N+P+I,j=x+a*(-f+d+p-g-v-m+b)+w+_+N+P+O,F=x+w+E+_+s*y,B=N+P+O+I+i*h,z=_+S+k+c*(-f+h+p-g-v-m+y)+C+M+N,G=C+M+N+A+u*d,U=_+S+k+T+l*b;return t.set(0,0,D),t.set(0,1,R),t.set(0,2,L),t.set(1,0,j),t.set(1,1,F),t.set(1,2,B),t.set(2,0,z),t.set(2,1,G),t.set(2,2,U),t}},{key:"mmulStrassen",value:function(t){t=V.checkMatrix(t);var n=this.clone(),r=n.rows,o=n.columns,i=t.rows,a=t.columns;function s(t,n,r){var o=t.rows,i=t.columns;if(o===n&&i===r)return t;var a=e.zeros(n,r);return a=a.setSubMatrix(t,0,0)}o!==i&&console.warn("Multiplying ".concat(r," x ").concat(o," and ").concat(i," x ").concat(a," matrix: dimensions do not match."));var u=Math.max(r,i),c=Math.max(o,a);return function t(n,r,o,i){if(o<=512||i<=512)return n.mmul(r);o%2===1&&i%2===1?(n=s(n,o+1,i+1),r=s(r,o+1,i+1)):o%2===1?(n=s(n,o+1,i),r=s(r,o+1,i)):i%2===1&&(n=s(n,o,i+1),r=s(r,o,i+1));var a=parseInt(n.rows/2,10),u=parseInt(n.columns/2,10),c=n.subMatrix(0,a-1,0,u-1),l=r.subMatrix(0,a-1,0,u-1),f=n.subMatrix(0,a-1,u,n.columns-1),d=r.subMatrix(0,a-1,u,r.columns-1),h=n.subMatrix(a,n.rows-1,0,u-1),p=r.subMatrix(a,r.rows-1,0,u-1),g=n.subMatrix(a,n.rows-1,u,n.columns-1),v=r.subMatrix(a,r.rows-1,u,r.columns-1),m=t(e.add(c,g),e.add(l,v),a,u),y=t(e.add(h,g),l,a,u),b=t(c,e.sub(d,v),a,u),x=t(g,e.sub(p,l),a,u),w=t(e.add(c,f),v,a,u),E=t(e.sub(h,c),e.add(l,d),a,u),_=t(e.sub(f,g),e.add(p,v),a,u),S=e.add(m,x);S.sub(w),S.add(_);var k=e.add(b,w),T=e.add(y,x),C=e.sub(m,y);C.add(b),C.add(E);var M=e.zeros(2*S.rows,2*S.columns);return(M=(M=(M=(M=M.setSubMatrix(S,0,0)).setSubMatrix(k,S.rows,0)).setSubMatrix(T,0,S.columns)).setSubMatrix(C,S.rows,S.columns)).subMatrix(0,o-1,0,i-1)}(n=s(n,u,c),t=s(t,u,c),u,c)}},{key:"scaleRows",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.min,n=void 0===t?0:t,r=e.max,o=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var i=new V(this.rows,this.columns),a=0;a<this.rows;a++){var s=this.getRow(a);s.length>0&&d(s,{min:n,max:o,output:s}),i.setRow(a,s)}return i}},{key:"scaleColumns",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.min,n=void 0===t?0:t,r=e.max,o=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var i=new V(this.rows,this.columns),a=0;a<this.columns;a++){var s=this.getColumn(a);s.length&&d(s,{min:n,max:o,output:s}),i.setColumn(a,s)}return i}},{key:"flipRows",value:function(){for(var e=Math.ceil(this.columns/2),t=0;t<this.rows;t++)for(var n=0;n<e;n++){var r=this.get(t,n),o=this.get(t,this.columns-1-n);this.set(t,n,o),this.set(t,this.columns-1-n,r)}return this}},{key:"flipColumns",value:function(){for(var e=Math.ceil(this.rows/2),t=0;t<this.columns;t++)for(var n=0;n<e;n++){var r=this.get(n,t),o=this.get(this.rows-1-n,t);this.set(n,t,o),this.set(this.rows-1-n,t,r)}return this}},{key:"kroneckerProduct",value:function(e){e=V.checkMatrix(e);for(var t=this.rows,n=this.columns,r=e.rows,o=e.columns,i=new V(t*r,n*o),a=0;a<t;a++)for(var s=0;s<n;s++)for(var u=0;u<r;u++)for(var c=0;c<o;c++)i.set(r*a+u,o*s+c,this.get(a,s)*e.get(u,c));return i}},{key:"kroneckerSum",value:function(e){if(e=V.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var t=this.rows,n=e.rows,r=this.kroneckerProduct(V.eye(n,n)),o=V.eye(t,t).kroneckerProduct(e);return r.add(o)}},{key:"transpose",value:function(){for(var e=new V(this.columns,this.rows),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.set(n,t,this.get(t,n));return e}},{key:"sortRows",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}},{key:"sortColumns",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}},{key:"subMatrix",value:function(e,t,n,r){S(this,e,t,n,r);for(var o=new V(t-e+1,r-n+1),i=e;i<=t;i++)for(var a=n;a<=r;a++)o.set(i-e,a-n,this.get(i,a));return o}},{key:"subMatrixRow",value:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||t<0||t>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var r=new V(e.length,n-t+1),o=0;o<e.length;o++)for(var i=t;i<=n;i++){if(e[o]<0||e[o]>=this.rows)throw new RangeError("Row index out of range: ".concat(e[o]));r.set(o,i-t,this.get(e[o],i))}return r}},{key:"subMatrixColumn",value:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||t<0||t>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var r=new V(n-t+1,e.length),o=0;o<e.length;o++)for(var i=t;i<=n;i++){if(e[o]<0||e[o]>=this.columns)throw new RangeError("Column index out of range: ".concat(e[o]));r.set(i-t,o,this.get(i,e[o]))}return r}},{key:"setSubMatrix",value:function(e,t,n){if((e=V.checkMatrix(e)).isEmpty())return this;S(this,t,t+e.rows-1,n,n+e.columns-1);for(var r=0;r<e.rows;r++)for(var o=0;o<e.columns;o++)this.set(t+r,n+o,e.get(r,o));return this}},{key:"selection",value:function(e,t){E(this,e),_(this,t);for(var n=new V(e.length,t.length),r=0;r<e.length;r++)for(var o=e[r],i=0;i<t.length;i++){var a=t[i];n.set(r,i,this.get(o,a))}return n}},{key:"trace",value:function(){for(var e=Math.min(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}},{key:"clone",value:function(){for(var e=new V(this.rows,this.columns),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.set(t,n,this.get(t,n));return e}},{key:"sum",value:function(e){switch(e){case"row":return function(e){for(var t=k(e.rows),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[n]+=e.get(n,r);return t}(this);case"column":return function(e){for(var t=k(e.columns),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[r]+=e.get(n,r);return t}(this);case void 0:return function(e){for(var t=0,n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)t+=e.get(n,r);return t}(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"product",value:function(e){switch(e){case"row":return function(e){for(var t=k(e.rows,1),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[n]*=e.get(n,r);return t}(this);case"column":return function(e){for(var t=k(e.columns,1),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[r]*=e.get(n,r);return t}(this);case void 0:return function(e){for(var t=1,n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)t*=e.get(n,r);return t}(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"mean",value:function(e){var t=this.sum(e);switch(e){case"row":for(var n=0;n<this.rows;n++)t[n]/=this.columns;return t;case"column":for(var r=0;r<this.columns;r++)t[r]/=this.rows;return t;case void 0:return t/this.size;default:throw new Error("invalid option: ".concat(e))}}},{key:"variance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t,r=n.unbiased,o=void 0===r||r,i=n.mean,a=void 0===i?this.mean(e):i;if("boolean"!==typeof o)throw new TypeError("unbiased must be a boolean");switch(e){case"row":if(!c(a))throw new TypeError("mean must be an array");return M(this,o,a);case"column":if(!c(a))throw new TypeError("mean must be an array");return N(this,o,a);case void 0:if("number"!==typeof a)throw new TypeError("mean must be a number");return A(this,o,a);default:throw new Error("invalid option: ".concat(e))}}},{key:"standardDeviation",value:function(e,t){"object"===typeof e&&(t=e,e=void 0);var n=this.variance(e,t);if(void 0===e)return Math.sqrt(n);for(var r=0;r<n.length;r++)n[r]=Math.sqrt(n[r]);return n}},{key:"center",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t,r=n.center,o=void 0===r?this.mean(e):r;switch(e){case"row":if(!c(o))throw new TypeError("center must be an array");return P(this,o),this;case"column":if(!c(o))throw new TypeError("center must be an array");return O(this,o),this;case void 0:if("number"!==typeof o)throw new TypeError("center must be a number");return I(this,o),this;default:throw new Error("invalid option: ".concat(e))}}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t.scale;switch(e){case"row":if(void 0===n)n=D(this);else if(!c(n))throw new TypeError("scale must be an array");return R(this,n),this;case"column":if(void 0===n)n=L(this);else if(!c(n))throw new TypeError("scale must be an array");return j(this,n),this;case void 0:if(void 0===n)n=F(this);else if("number"!==typeof n)throw new TypeError("scale must be a number");return B(this,n),this;default:throw new Error("invalid option: ".concat(e))}}},{key:"toString",value:function(e){return g(this,e)}}],[{key:"from1DArray",value:function(e,t,n){if(e*t!==n.length)throw new RangeError("data length does not match given dimensions");for(var r=new V(e,t),o=0;o<e;o++)for(var i=0;i<t;i++)r.set(o,i,n[o*t+i]);return r}},{key:"rowVector",value:function(e){for(var t=new V(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}},{key:"columnVector",value:function(e){for(var t=new V(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}},{key:"zeros",value:function(e,t){return new V(e,t)}},{key:"ones",value:function(e,t){return new V(e,t).fill(1)}},{key:"rand",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof n)throw new TypeError("options must be an object");for(var r=n.random,o=void 0===r?Math.random:r,i=new V(e,t),a=0;a<e;a++)for(var s=0;s<t;s++)i.set(a,s,o());return i}},{key:"randInt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof n)throw new TypeError("options must be an object");var r=n.min,o=void 0===r?0:r,i=n.max,a=void 0===i?1e3:i,s=n.random,u=void 0===s?Math.random:s;if(!Number.isInteger(o))throw new TypeError("min must be an integer");if(!Number.isInteger(a))throw new TypeError("max must be an integer");if(o>=a)throw new RangeError("min must be smaller than max");for(var c=a-o,l=new V(e,t),f=0;f<e;f++)for(var d=0;d<t;d++){var h=o+Math.round(u()*c);l.set(f,d,h)}return l}},{key:"eye",value:function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=1);for(var r=Math.min(e,t),o=this.zeros(e,t),i=0;i<r;i++)o.set(i,i,n);return o}},{key:"diag",value:function(e,t,n){var r=e.length;void 0===t&&(t=r),void 0===n&&(n=t);for(var o=Math.min(r,t,n),i=this.zeros(t,n),a=0;a<o;a++)i.set(a,a,e[a]);return i}},{key:"min",value:function(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,r=e.columns,o=new V(n,r),i=0;i<n;i++)for(var a=0;a<r;a++)o.set(i,a,Math.min(e.get(i,a),t.get(i,a)));return o}},{key:"max",value:function(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,r=e.columns,o=new this(n,r),i=0;i<n;i++)for(var a=0;a<r;a++)o.set(i,a,Math.max(e.get(i,a),t.get(i,a)));return o}},{key:"checkMatrix",value:function(t){return e.isMatrix(t)?t:new V(t)}},{key:"isMatrix",value:function(e){return null!=e&&"Matrix"===e.klass}}]),e}();function G(e,t){return e-t}z.prototype.klass="Matrix","undefined"!==typeof Symbol&&(z.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return g(this)}),z.random=z.rand,z.randomInt=z.randInt,z.diagonal=z.diag,z.prototype.diagonal=z.prototype.diag,z.identity=z.eye,z.prototype.negate=z.prototype.neg,z.prototype.tensorProduct=z.prototype.kroneckerProduct;var V=function(e){(0,o.Z)(n,e);var t=(0,i.Z)(n);function n(e,o){var i;if((0,a.Z)(this,n),i=t.call(this),n.isMatrix(e))return(0,r.Z)(i,e.clone());if(Number.isInteger(e)&&e>=0){if(i.data=[],!(Number.isInteger(o)&&o>=0))throw new TypeError("nColumns must be a positive integer");for(var s=0;s<e;s++)i.data.push(new Float64Array(o))}else{if(!c(e))throw new TypeError("First argument must be a positive number or an array");var u=e;if("number"!==typeof(o=(e=u.length)?u[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");i.data=[];for(var l=0;l<e;l++){if(u[l].length!==o)throw new RangeError("Inconsistent array dimensions");i.data.push(Float64Array.from(u[l]))}}return i.rows=e,i.columns=o,i}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.data[e][t]=n,this}},{key:"get",value:function(e,t){return this.data[e][t]}},{key:"removeRow",value:function(e){return y(this,e),this.data.splice(e,1),this.rows-=1,this}},{key:"addRow",value:function(e,t){return void 0===t&&(t=e,e=this.rows),y(this,e,!0),t=Float64Array.from(x(this,t)),this.data.splice(e,0,t),this.rows+=1,this}},{key:"removeColumn",value:function(e){b(this,e);for(var t=0;t<this.rows;t++){for(var n=new Float64Array(this.columns-1),r=0;r<e;r++)n[r]=this.data[t][r];for(var o=e+1;o<this.columns;o++)n[o-1]=this.data[t][o];this.data[t]=n}return this.columns-=1,this}},{key:"addColumn",value:function(e,t){"undefined"===typeof t&&(t=e,e=this.columns),b(this,e,!0),t=w(this,t);for(var n=0;n<this.rows;n++){for(var r=new Float64Array(this.columns+1),o=0;o<e;o++)r[o]=this.data[n][o];for(r[o++]=t[n];o<this.columns+1;o++)r[o]=this.data[n][o-1];this.data[n]=r}return this.columns+=1,this}}]),n}(z);!function(e,t){e.prototype.add=function(e){return"number"===typeof e?this.addS(e):this.addM(e)},e.prototype.addS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e);return this},e.prototype.addM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+e.get(n,r));return this},e.add=function(e,n){return new t(e).add(n)},e.prototype.sub=function(e){return"number"===typeof e?this.subS(e):this.subM(e)},e.prototype.subS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e);return this},e.prototype.subM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-e.get(n,r));return this},e.sub=function(e,n){return new t(e).sub(n)},e.prototype.subtract=e.prototype.sub,e.prototype.subtractS=e.prototype.subS,e.prototype.subtractM=e.prototype.subM,e.subtract=e.sub,e.prototype.mul=function(e){return"number"===typeof e?this.mulS(e):this.mulM(e)},e.prototype.mulS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this},e.prototype.mulM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*e.get(n,r));return this},e.mul=function(e,n){return new t(e).mul(n)},e.prototype.multiply=e.prototype.mul,e.prototype.multiplyS=e.prototype.mulS,e.prototype.multiplyM=e.prototype.mulM,e.multiply=e.mul,e.prototype.div=function(e){return"number"===typeof e?this.divS(e):this.divM(e)},e.prototype.divS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e);return this},e.prototype.divM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/e.get(n,r));return this},e.div=function(e,n){return new t(e).div(n)},e.prototype.divide=e.prototype.div,e.prototype.divideS=e.prototype.divS,e.prototype.divideM=e.prototype.divM,e.divide=e.div,e.prototype.mod=function(e){return"number"===typeof e?this.modS(e):this.modM(e)},e.prototype.modS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)%e);return this},e.prototype.modM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)%e.get(n,r));return this},e.mod=function(e,n){return new t(e).mod(n)},e.prototype.modulus=e.prototype.mod,e.prototype.modulusS=e.prototype.modS,e.prototype.modulusM=e.prototype.modM,e.modulus=e.mod,e.prototype.and=function(e){return"number"===typeof e?this.andS(e):this.andM(e)},e.prototype.andS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)&e);return this},e.prototype.andM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)&e.get(n,r));return this},e.and=function(e,n){return new t(e).and(n)},e.prototype.or=function(e){return"number"===typeof e?this.orS(e):this.orM(e)},e.prototype.orS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)|e);return this},e.prototype.orM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)|e.get(n,r));return this},e.or=function(e,n){return new t(e).or(n)},e.prototype.xor=function(e){return"number"===typeof e?this.xorS(e):this.xorM(e)},e.prototype.xorS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)^e);return this},e.prototype.xorM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)^e.get(n,r));return this},e.xor=function(e,n){return new t(e).xor(n)},e.prototype.leftShift=function(e){return"number"===typeof e?this.leftShiftS(e):this.leftShiftM(e)},e.prototype.leftShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)<<e);return this},e.prototype.leftShiftM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)<<e.get(n,r));return this},e.leftShift=function(e,n){return new t(e).leftShift(n)},e.prototype.signPropagatingRightShift=function(e){return"number"===typeof e?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},e.prototype.signPropagatingRightShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>e);return this},e.prototype.signPropagatingRightShiftM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)>>e.get(n,r));return this},e.signPropagatingRightShift=function(e,n){return new t(e).signPropagatingRightShift(n)},e.prototype.rightShift=function(e){return"number"===typeof e?this.rightShiftS(e):this.rightShiftM(e)},e.prototype.rightShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>>e);return this},e.prototype.rightShiftM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)>>>e.get(n,r));return this},e.rightShift=function(e,n){return new t(e).rightShift(n)},e.prototype.zeroFillRightShift=e.prototype.rightShift,e.prototype.zeroFillRightShiftS=e.prototype.rightShiftS,e.prototype.zeroFillRightShiftM=e.prototype.rightShiftM,e.zeroFillRightShift=e.rightShift,e.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,~this.get(e,t));return this},e.not=function(e){return new t(e).not()},e.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.abs(this.get(e,t)));return this},e.abs=function(e){return new t(e).abs()},e.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.acos(this.get(e,t)));return this},e.acos=function(e){return new t(e).acos()},e.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.acosh(this.get(e,t)));return this},e.acosh=function(e){return new t(e).acosh()},e.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.asin(this.get(e,t)));return this},e.asin=function(e){return new t(e).asin()},e.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.asinh(this.get(e,t)));return this},e.asinh=function(e){return new t(e).asinh()},e.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.atan(this.get(e,t)));return this},e.atan=function(e){return new t(e).atan()},e.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.atanh(this.get(e,t)));return this},e.atanh=function(e){return new t(e).atanh()},e.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cbrt(this.get(e,t)));return this},e.cbrt=function(e){return new t(e).cbrt()},e.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.ceil(this.get(e,t)));return this},e.ceil=function(e){return new t(e).ceil()},e.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.clz32(this.get(e,t)));return this},e.clz32=function(e){return new t(e).clz32()},e.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cos(this.get(e,t)));return this},e.cos=function(e){return new t(e).cos()},e.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cosh(this.get(e,t)));return this},e.cosh=function(e){return new t(e).cosh()},e.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.exp(this.get(e,t)));return this},e.exp=function(e){return new t(e).exp()},e.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.expm1(this.get(e,t)));return this},e.expm1=function(e){return new t(e).expm1()},e.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.floor(this.get(e,t)));return this},e.floor=function(e){return new t(e).floor()},e.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.fround(this.get(e,t)));return this},e.fround=function(e){return new t(e).fround()},e.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log(this.get(e,t)));return this},e.log=function(e){return new t(e).log()},e.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log1p(this.get(e,t)));return this},e.log1p=function(e){return new t(e).log1p()},e.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log10(this.get(e,t)));return this},e.log10=function(e){return new t(e).log10()},e.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log2(this.get(e,t)));return this},e.log2=function(e){return new t(e).log2()},e.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.round(this.get(e,t)));return this},e.round=function(e){return new t(e).round()},e.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sign(this.get(e,t)));return this},e.sign=function(e){return new t(e).sign()},e.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sin(this.get(e,t)));return this},e.sin=function(e){return new t(e).sin()},e.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sinh(this.get(e,t)));return this},e.sinh=function(e){return new t(e).sinh()},e.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sqrt(this.get(e,t)));return this},e.sqrt=function(e){return new t(e).sqrt()},e.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.tan(this.get(e,t)));return this},e.tan=function(e){return new t(e).tan()},e.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.tanh(this.get(e,t)));return this},e.tanh=function(e){return new t(e).tanh()},e.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.trunc(this.get(e,t)));return this},e.trunc=function(e){return new t(e).trunc()},e.pow=function(e,n){return new t(e).pow(n)},e.prototype.pow=function(e){return"number"===typeof e?this.powS(e):this.powM(e)},e.prototype.powS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.pow(this.get(t,n),e));return this},e.prototype.powM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,Math.pow(this.get(n,r),e.get(n,r)));return this}}(z,V);var U=function(e){(0,o.Z)(n,e);var t=(0,i.Z)(n);function n(e,r,o){var i;return(0,a.Z)(this,n),(i=t.call(this)).matrix=e,i.rows=r,i.columns=o,i}return(0,s.Z)(n)}(z),W=function(e){(0,o.Z)(n,e);var t=(0,i.Z)(n);function n(e,r){var o;return(0,a.Z)(this,n),b(e,r),(o=t.call(this,e,e.rows,1)).column=r,o}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(e,this.column,n),this}},{key:"get",value:function(e){return this.matrix.get(e,this.column)}}]),n}(U),Z=function(e){(0,o.Z)(n,e);var t=(0,i.Z)(n);function n(e,r){var o;return(0,a.Z)(this,n),_(e,r),(o=t.call(this,e,e.rows,r.length)).columnIndices=r,o}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(e,this.columnIndices[t],n),this}},{key:"get",value:function(e,t){return this.matrix.get(e,this.columnIndices[t])}}]),n}(U),Y=function(e){(0,o.Z)(n,e);var t=(0,i.Z)(n);function n(e){return(0,a.Z)(this,n),t.call(this,e,e.rows,e.columns)}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(e,this.columns-t-1,n),this}},{key:"get",value:function(e,t){return this.matrix.get(e,this.columns-t-1)}}]),n}(U),H=function(e){(0,o.Z)(n,e);var t=(0,i.Z)(n);function n(e){return(0,a.Z)(this,n),t.call(this,e,e.rows,e.columns)}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.rows-e-1,t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.rows-e-1,t)}}]),n}(U),X=function(e){(0,o.Z)(n,e);var t=(0,i.Z)(n);function n(e,r){var o;return(0,a.Z)(this,n),y(e,r),(o=t.call(this,e,1,e.columns)).row=r,o}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.row,t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.row,t)}}]),n}(U),K=function(e){(0,o.Z)(n,e);var t=(0,i.Z)(n);function n(e,r){var o;return(0,a.Z)(this,n),E(e,r),(o=t.call(this,e,r.length,e.columns)).rowIndices=r,o}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.rowIndices[e],t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.rowIndices[e],t)}}]),n}(U),q=function(e){(0,o.Z)(n,e);var t=(0,i.Z)(n);function n(e,r,o){var i;return(0,a.Z)(this,n),E(e,r),_(e,o),(i=t.call(this,e,r.length,o.length)).rowIndices=r,i.columnIndices=o,i}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}]),n}(U),$=function(e){(0,o.Z)(n,e);var t=(0,i.Z)(n);function n(e,r,o,i,s){var u;return(0,a.Z)(this,n),S(e,r,o,i,s),(u=t.call(this,e,o-r+1,s-i+1)).startRow=r,u.startColumn=i,u}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.startRow+e,this.startColumn+t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}}]),n}(U),J=function(e){(0,o.Z)(n,e);var t=(0,i.Z)(n);function n(e){return(0,a.Z)(this,n),t.call(this,e,e.columns,e.rows)}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(t,e,n),this}},{key:"get",value:function(e,t){return this.matrix.get(t,e)}}]),n}(U),Q=function(e){(0,o.Z)(n,e);var t=(0,i.Z)(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,n);var i=o.rows,s=void 0===i?1:i;if(e.length%s!==0)throw new Error("the data length is not divisible by the number of rows");return(r=t.call(this)).rows=s,r.columns=e.length/s,r.data=e,r}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){var r=this._calculateIndex(e,t);return this.data[r]=n,this}},{key:"get",value:function(e,t){var n=this._calculateIndex(e,t);return this.data[n]}},{key:"_calculateIndex",value:function(e,t){return e*this.columns+t}}]),n}(z),ee=function(e){(0,o.Z)(n,e);var t=(0,i.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this)).data=e,r.rows=e.length,r.columns=e[0].length,r}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.data[e][t]=n,this}},{key:"get",value:function(e,t){return this.data[e][t]}}]),n}(z);function te(e,t){if(c(e))return e[0]&&c(e[0])?new ee(e):new Q(e,t);throw new Error("the argument is not an array")}var ne=function(){function e(t){(0,a.Z)(this,e);var n,r,o,i,s,u,c,l,f,d=(t=ee.checkMatrix(t)).clone(),h=d.rows,p=d.columns,g=new Float64Array(h),v=1;for(n=0;n<h;n++)g[n]=n;for(l=new Float64Array(h),r=0;r<p;r++){for(n=0;n<h;n++)l[n]=d.get(n,r);for(n=0;n<h;n++){for(f=Math.min(n,r),s=0,o=0;o<f;o++)s+=d.get(n,o)*l[o];l[n]-=s,d.set(n,r,l[n])}for(i=r,n=r+1;n<h;n++)Math.abs(l[n])>Math.abs(l[i])&&(i=n);if(i!==r){for(o=0;o<p;o++)u=d.get(i,o),d.set(i,o,d.get(r,o)),d.set(r,o,u);c=g[i],g[i]=g[r],g[r]=c,v=-v}if(r<h&&0!==d.get(r,r))for(n=r+1;n<h;n++)d.set(n,r,d.get(n,r)/d.get(r,r))}this.LU=d,this.pivotVector=g,this.pivotSign=v}return(0,s.Z)(e,[{key:"isSingular",value:function(){for(var e=this.LU,t=e.columns,n=0;n<t;n++)if(0===e.get(n,n))return!0;return!1}},{key:"solve",value:function(e){e=V.checkMatrix(e);var t=this.LU;if(t.rows!==e.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var n,r,o,i=e.columns,a=e.subMatrixRow(this.pivotVector,0,i-1),s=t.columns;for(o=0;o<s;o++)for(n=o+1;n<s;n++)for(r=0;r<i;r++)a.set(n,r,a.get(n,r)-a.get(o,r)*t.get(n,o));for(o=s-1;o>=0;o--){for(r=0;r<i;r++)a.set(o,r,a.get(o,r)/t.get(o,o));for(n=0;n<o;n++)for(r=0;r<i;r++)a.set(n,r,a.get(n,r)-a.get(o,r)*t.get(n,o))}return a}},{key:"determinant",get:function(){var e=this.LU;if(!e.isSquare())throw new Error("Matrix must be square");for(var t=this.pivotSign,n=e.columns,r=0;r<n;r++)t*=e.get(r,r);return t}},{key:"lowerTriangularMatrix",get:function(){for(var e=this.LU,t=e.rows,n=e.columns,r=new V(t,n),o=0;o<t;o++)for(var i=0;i<n;i++)o>i?r.set(o,i,e.get(o,i)):o===i?r.set(o,i,1):r.set(o,i,0);return r}},{key:"upperTriangularMatrix",get:function(){for(var e=this.LU,t=e.rows,n=e.columns,r=new V(t,n),o=0;o<t;o++)for(var i=0;i<n;i++)o<=i?r.set(o,i,e.get(o,i)):r.set(o,i,0);return r}},{key:"pivotPermutationVector",get:function(){return Array.from(this.pivotVector)}}]),e}();function re(e,t){var n=0;return Math.abs(e)>Math.abs(t)?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):0!==t?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0}var oe=function(){function e(t){(0,a.Z)(this,e);var n,r,o,i,s=(t=ee.checkMatrix(t)).clone(),u=t.rows,c=t.columns,l=new Float64Array(c);for(o=0;o<c;o++){var f=0;for(n=o;n<u;n++)f=re(f,s.get(n,o));if(0!==f){for(s.get(o,o)<0&&(f=-f),n=o;n<u;n++)s.set(n,o,s.get(n,o)/f);for(s.set(o,o,s.get(o,o)+1),r=o+1;r<c;r++){for(i=0,n=o;n<u;n++)i+=s.get(n,o)*s.get(n,r);for(i=-i/s.get(o,o),n=o;n<u;n++)s.set(n,r,s.get(n,r)+i*s.get(n,o))}}l[o]=-f}this.QR=s,this.Rdiag=l}return(0,s.Z)(e,[{key:"solve",value:function(e){e=V.checkMatrix(e);var t=this.QR,n=t.rows;if(e.rows!==n)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var r,o,i,a,s=e.columns,u=e.clone(),c=t.columns;for(i=0;i<c;i++)for(o=0;o<s;o++){for(a=0,r=i;r<n;r++)a+=t.get(r,i)*u.get(r,o);for(a=-a/t.get(i,i),r=i;r<n;r++)u.set(r,o,u.get(r,o)+a*t.get(r,i))}for(i=c-1;i>=0;i--){for(o=0;o<s;o++)u.set(i,o,u.get(i,o)/this.Rdiag[i]);for(r=0;r<i;r++)for(o=0;o<s;o++)u.set(r,o,u.get(r,o)-u.get(i,o)*t.get(r,i))}return u.subMatrix(0,c-1,0,s-1)}},{key:"isFullRank",value:function(){for(var e=this.QR.columns,t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0}},{key:"upperTriangularMatrix",get:function(){var e,t,n=this.QR,r=n.columns,o=new V(r,r);for(e=0;e<r;e++)for(t=0;t<r;t++)e<t?o.set(e,t,n.get(e,t)):e===t?o.set(e,t,this.Rdiag[e]):o.set(e,t,0);return o}},{key:"orthogonalMatrix",get:function(){var e,t,n,r,o=this.QR,i=o.rows,a=o.columns,s=new V(i,a);for(n=a-1;n>=0;n--){for(e=0;e<i;e++)s.set(e,n,0);for(s.set(n,n,1),t=n;t<a;t++)if(0!==o.get(n,n)){for(r=0,e=n;e<i;e++)r+=o.get(e,n)*s.get(e,t);for(r=-r/o.get(n,n),e=n;e<i;e++)s.set(e,t,s.get(e,t)+r*o.get(e,n))}}return s}}]),e}(),ie=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,a.Z)(this,e),(t=ee.checkMatrix(t)).isEmpty())throw new Error("Matrix must be non-empty");var r,o=t.rows,i=t.columns,s=n.computeLeftSingularVectors,u=void 0===s||s,c=n.computeRightSingularVectors,l=void 0===c||c,f=n.autoTranspose,d=void 0!==f&&f,h=Boolean(u),p=Boolean(l),g=!1;if(o<i)if(d){o=(r=t.transpose()).rows,i=r.columns,g=!0;var v=h;h=p,p=v}else r=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else r=t.clone();for(var m=Math.min(o,i),y=Math.min(o+1,i),b=new Float64Array(y),x=new V(o,m),w=new V(i,i),E=new Float64Array(i),_=new Float64Array(o),S=new Float64Array(y),k=0;k<y;k++)S[k]=k;for(var T=Math.min(o-1,i),C=Math.max(0,Math.min(i-2,o)),M=Math.max(T,C),N=0;N<M;N++){if(N<T){b[N]=0;for(var A=N;A<o;A++)b[N]=re(b[N],r.get(A,N));if(0!==b[N]){r.get(N,N)<0&&(b[N]=-b[N]);for(var P=N;P<o;P++)r.set(P,N,r.get(P,N)/b[N]);r.set(N,N,r.get(N,N)+1)}b[N]=-b[N]}for(var O=N+1;O<i;O++){if(N<T&&0!==b[N]){for(var I=0,D=N;D<o;D++)I+=r.get(D,N)*r.get(D,O);I=-I/r.get(N,N);for(var R=N;R<o;R++)r.set(R,O,r.get(R,O)+I*r.get(R,N))}E[O]=r.get(N,O)}if(h&&N<T)for(var L=N;L<o;L++)x.set(L,N,r.get(L,N));if(N<C){E[N]=0;for(var j=N+1;j<i;j++)E[N]=re(E[N],E[j]);if(0!==E[N]){E[N+1]<0&&(E[N]=0-E[N]);for(var F=N+1;F<i;F++)E[F]/=E[N];E[N+1]+=1}if(E[N]=-E[N],N+1<o&&0!==E[N]){for(var B=N+1;B<o;B++)_[B]=0;for(var z=N+1;z<o;z++)for(var G=N+1;G<i;G++)_[z]+=E[G]*r.get(z,G);for(var U=N+1;U<i;U++)for(var W=-E[U]/E[N+1],Z=N+1;Z<o;Z++)r.set(Z,U,r.get(Z,U)+W*_[Z])}if(p)for(var Y=N+1;Y<i;Y++)w.set(Y,N,E[Y])}}var H=Math.min(i,o+1);if(T<i&&(b[T]=r.get(T,T)),o<H&&(b[H-1]=0),C+1<H&&(E[C]=r.get(C,H-1)),E[H-1]=0,h){for(var X=T;X<m;X++){for(var K=0;K<o;K++)x.set(K,X,0);x.set(X,X,1)}for(var q=T-1;q>=0;q--)if(0!==b[q]){for(var $=q+1;$<m;$++){for(var J=0,Q=q;Q<o;Q++)J+=x.get(Q,q)*x.get(Q,$);J=-J/x.get(q,q);for(var te=q;te<o;te++)x.set(te,$,x.get(te,$)+J*x.get(te,q))}for(var ne=q;ne<o;ne++)x.set(ne,q,-x.get(ne,q));x.set(q,q,1+x.get(q,q));for(var oe=0;oe<q-1;oe++)x.set(oe,q,0)}else{for(var ie=0;ie<o;ie++)x.set(ie,q,0);x.set(q,q,1)}}if(p)for(var ae=i-1;ae>=0;ae--){if(ae<C&&0!==E[ae])for(var se=ae+1;se<i;se++){for(var ue=0,ce=ae+1;ce<i;ce++)ue+=w.get(ce,ae)*w.get(ce,se);ue=-ue/w.get(ae+1,ae);for(var le=ae+1;le<i;le++)w.set(le,se,w.get(le,se)+ue*w.get(le,ae))}for(var fe=0;fe<i;fe++)w.set(fe,ae,0);w.set(ae,ae,1)}for(var de=H-1,he=Number.EPSILON;H>0;){var pe=void 0,ge=void 0;for(pe=H-2;pe>=-1&&-1!==pe;pe--){var ve=Number.MIN_VALUE+he*Math.abs(b[pe]+Math.abs(b[pe+1]));if(Math.abs(E[pe])<=ve||Number.isNaN(E[pe])){E[pe]=0;break}}if(pe===H-2)ge=4;else{var me=void 0;for(me=H-1;me>=pe&&me!==pe;me--){var ye=(me!==H?Math.abs(E[me]):0)+(me!==pe+1?Math.abs(E[me-1]):0);if(Math.abs(b[me])<=he*ye){b[me]=0;break}}me===pe?ge=3:me===H-1?ge=1:(ge=2,pe=me)}switch(pe++,ge){case 1:var be=E[H-2];E[H-2]=0;for(var xe=H-2;xe>=pe;xe--){var we=re(b[xe],be),Ee=b[xe]/we,_e=be/we;if(b[xe]=we,xe!==pe&&(be=-_e*E[xe-1],E[xe-1]=Ee*E[xe-1]),p)for(var Se=0;Se<i;Se++)we=Ee*w.get(Se,xe)+_e*w.get(Se,H-1),w.set(Se,H-1,-_e*w.get(Se,xe)+Ee*w.get(Se,H-1)),w.set(Se,xe,we)}break;case 2:var ke=E[pe-1];E[pe-1]=0;for(var Te=pe;Te<H;Te++){var Ce=re(b[Te],ke),Me=b[Te]/Ce,Ne=ke/Ce;if(b[Te]=Ce,ke=-Ne*E[Te],E[Te]=Me*E[Te],h)for(var Ae=0;Ae<o;Ae++)Ce=Me*x.get(Ae,Te)+Ne*x.get(Ae,pe-1),x.set(Ae,pe-1,-Ne*x.get(Ae,Te)+Me*x.get(Ae,pe-1)),x.set(Ae,Te,Ce)}break;case 3:var Pe=Math.max(Math.abs(b[H-1]),Math.abs(b[H-2]),Math.abs(E[H-2]),Math.abs(b[pe]),Math.abs(E[pe])),Oe=b[H-1]/Pe,Ie=b[H-2]/Pe,De=E[H-2]/Pe,Re=b[pe]/Pe,Le=E[pe]/Pe,je=((Ie+Oe)*(Ie-Oe)+De*De)/2,Fe=Oe*De*(Oe*De),Be=0;0===je&&0===Fe||(Be=Fe/(je+(Be=je<0?0-Math.sqrt(je*je+Fe):Math.sqrt(je*je+Fe))));for(var ze=(Re+Oe)*(Re-Oe)+Be,Ge=Re*Le,Ve=pe;Ve<H-1;Ve++){var Ue=re(ze,Ge);0===Ue&&(Ue=Number.MIN_VALUE);var We=ze/Ue,Ze=Ge/Ue;if(Ve!==pe&&(E[Ve-1]=Ue),ze=We*b[Ve]+Ze*E[Ve],E[Ve]=We*E[Ve]-Ze*b[Ve],Ge=Ze*b[Ve+1],b[Ve+1]=We*b[Ve+1],p)for(var Ye=0;Ye<i;Ye++)Ue=We*w.get(Ye,Ve)+Ze*w.get(Ye,Ve+1),w.set(Ye,Ve+1,-Ze*w.get(Ye,Ve)+We*w.get(Ye,Ve+1)),w.set(Ye,Ve,Ue);if(0===(Ue=re(ze,Ge))&&(Ue=Number.MIN_VALUE),We=ze/Ue,Ze=Ge/Ue,b[Ve]=Ue,ze=We*E[Ve]+Ze*b[Ve+1],b[Ve+1]=-Ze*E[Ve]+We*b[Ve+1],Ge=Ze*E[Ve+1],E[Ve+1]=We*E[Ve+1],h&&Ve<o-1)for(var He=0;He<o;He++)Ue=We*x.get(He,Ve)+Ze*x.get(He,Ve+1),x.set(He,Ve+1,-Ze*x.get(He,Ve)+We*x.get(He,Ve+1)),x.set(He,Ve,Ue)}E[H-2]=ze,1;break;case 4:if(b[pe]<=0&&(b[pe]=b[pe]<0?-b[pe]:0,p))for(var Xe=0;Xe<=de;Xe++)w.set(Xe,pe,-w.get(Xe,pe));for(;pe<de&&!(b[pe]>=b[pe+1]);){var Ke=b[pe];if(b[pe]=b[pe+1],b[pe+1]=Ke,p&&pe<i-1)for(var qe=0;qe<i;qe++)Ke=w.get(qe,pe+1),w.set(qe,pe+1,w.get(qe,pe)),w.set(qe,pe,Ke);if(h&&pe<o-1)for(var $e=0;$e<o;$e++)Ke=x.get($e,pe+1),x.set($e,pe+1,x.get($e,pe)),x.set($e,pe,Ke);pe++}0,H--}}if(g){var Je=w;w=x,x=Je}this.m=o,this.n=i,this.s=b,this.U=x,this.V=w}return(0,s.Z)(e,[{key:"solve",value:function(e){for(var t=e,n=this.threshold,r=this.s.length,o=V.zeros(r,r),i=0;i<r;i++)Math.abs(this.s[i])<=n?o.set(i,i,0):o.set(i,i,1/this.s[i]);for(var a=this.U,s=this.rightSingularVectors,u=s.mmul(o),c=s.rows,l=a.rows,f=V.zeros(c,l),d=0;d<c;d++)for(var h=0;h<l;h++){for(var p=0,g=0;g<r;g++)p+=u.get(d,g)*a.get(h,g);f.set(d,h,p)}return f.mmul(t)}},{key:"solveForDiagonal",value:function(e){return this.solve(V.diag(e))}},{key:"inverse",value:function(){for(var e=this.V,t=this.threshold,n=e.rows,r=e.columns,o=new V(n,this.s.length),i=0;i<n;i++)for(var a=0;a<r;a++)Math.abs(this.s[a])>t&&o.set(i,a,e.get(i,a)/this.s[a]);for(var s=this.U,u=s.rows,c=s.columns,l=new V(n,u),f=0;f<n;f++)for(var d=0;d<u;d++){for(var h=0,p=0;p<c;p++)h+=o.get(f,p)*s.get(d,p);l.set(f,d,h)}return l}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var e=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,t=0,n=this.s,r=0,o=n.length;r<o;r++)n[r]>e&&t++;return t}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return V.diag(this.s)}}]),e}();function ae(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e=ee.checkMatrix(e),t?new ie(e).inverse():se(e,V.eye(e.rows))}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e=ee.checkMatrix(e),t=ee.checkMatrix(t),n?new ie(e).solve(t):e.isSquare()?new ne(e).solve(t):new oe(e).solve(t)}function ue(e){var t,n,r,o,i,a;if((e=V.checkMatrix(e)).isSquare())return 0===e.columns?1:2===e.columns?(t=e.get(0,0),n=e.get(0,1),r=e.get(1,0),t*e.get(1,1)-n*r):3===e.columns?(o=new q(e,[1,2],[1,2]),i=new q(e,[1,2],[0,2]),a=new q(e,[1,2],[0,1]),t=e.get(0,0),n=e.get(0,1),r=e.get(0,2),t*ue(o)-n*ue(i)+r*ue(a)):new ne(e).determinant;throw Error("determinant can only be calculated for a square matrix")}function ce(e,t){for(var n=[],r=0;r<e;r++)r!==t&&n.push(r);return n}function le(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-9,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e-9;if(e>o)return new Array(t.rows+1).fill(0);for(var i=t.addRow(n,[0]),a=0;a<i.rows;a++)Math.abs(i.get(a,0))<r&&i.set(a,0,0);return i.to1DArray()}function fe(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.thresholdValue,r=void 0===n?1e-9:n,o=t.thresholdError,i=void 0===o?1e-9:o,a=(e=V.checkMatrix(e)).rows,s=new V(a,a),u=0;u<a;u++){var c=V.columnVector(e.getRow(u)),l=e.subMatrixRow(ce(a,u)).transpose(),f=new ie(l),d=f.solve(c),h=V.sub(c,l.mmul(d)).abs().max();s.setRow(u,le(h,d,u,r,i))}return s}function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.EPSILON;if((e=V.checkMatrix(e)).isEmpty())return e.transpose();for(var n=new ie(e,{autoTranspose:!0}),r=n.leftSingularVectors,o=n.rightSingularVectors,i=n.diagonal,a=0;a<i.length;a++)Math.abs(i[a])>t?i[a]=1/i[a]:i[a]=0;return o.mmul(V.diag(i).mmul(r.transpose()))}function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=new V(e);var r=!1;if("object"!==typeof t||V.isMatrix(t)||c(t)?t=new V(t):(n=t,t=e,r=!0),e.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");var o=n,i=o.center,a=void 0===i||i;a&&(e=e.center("column"),r||(t=t.center("column")));for(var s=e.transpose().mmul(t),u=0;u<s.rows;u++)for(var l=0;l<s.columns;l++)s.set(u,l,s.get(u,l)*(1/(e.rows-1)));return s}function pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=new V(e);var r=!1;if("object"!==typeof t||V.isMatrix(t)||c(t)?t=new V(t):(n=t,t=e,r=!0),e.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");var o=n,i=o.center,a=void 0===i||i,s=o.scale,u=void 0===s||s;a&&(e.center("column"),r||t.center("column")),u&&(e.scale("column"),r||t.scale("column"));for(var l=e.standardDeviation("column",{unbiased:!0}),f=r?l:t.standardDeviation("column",{unbiased:!0}),d=e.transpose().mmul(t),h=0;h<d.rows;h++)for(var p=0;p<d.columns;p++)d.set(h,p,d.get(h,p)*(1/(l[h]*f[p]))*(1/(e.rows-1)));return d}var ge=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,e);var r=n.assumeSymmetric,o=void 0!==r&&r;if(!(t=ee.checkMatrix(t)).isSquare())throw new Error("Matrix is not a square matrix");if(t.isEmpty())throw new Error("Matrix must be non-empty");var i,s,u=t.columns,c=new V(u,u),l=new Float64Array(u),f=new Float64Array(u),d=t;if(!!o||t.isSymmetric()){for(i=0;i<u;i++)for(s=0;s<u;s++)c.set(i,s,d.get(i,s));ve(u,f,l,c),me(u,f,l,c)}else{var h=new V(u,u),p=new Float64Array(u);for(s=0;s<u;s++)for(i=0;i<u;i++)h.set(i,s,d.get(i,s));ye(u,h,p,c),be(u,f,l,c,h)}this.n=u,this.e=f,this.d=l,this.V=c}return(0,s.Z)(e,[{key:"realEigenvalues",get:function(){return Array.from(this.d)}},{key:"imaginaryEigenvalues",get:function(){return Array.from(this.e)}},{key:"eigenvectorMatrix",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){var e,t,n=this.n,r=this.e,o=this.d,i=new V(n,n);for(e=0;e<n;e++){for(t=0;t<n;t++)i.set(e,t,0);i.set(e,e,o[e]),r[e]>0?i.set(e,e+1,r[e]):r[e]<0&&i.set(e,e-1,r[e])}return i}}]),e}();function ve(e,t,n,r){var o,i,a,s,u,c,l,f;for(u=0;u<e;u++)n[u]=r.get(e-1,u);for(s=e-1;s>0;s--){for(f=0,a=0,c=0;c<s;c++)f+=Math.abs(n[c]);if(0===f)for(t[s]=n[s-1],u=0;u<s;u++)n[u]=r.get(s-1,u),r.set(s,u,0),r.set(u,s,0);else{for(c=0;c<s;c++)n[c]/=f,a+=n[c]*n[c];for(o=n[s-1],i=Math.sqrt(a),o>0&&(i=-i),t[s]=f*i,a-=o*i,n[s-1]=o-i,u=0;u<s;u++)t[u]=0;for(u=0;u<s;u++){for(o=n[u],r.set(u,s,o),i=t[u]+r.get(u,u)*o,c=u+1;c<=s-1;c++)i+=r.get(c,u)*n[c],t[c]+=r.get(c,u)*o;t[u]=i}for(o=0,u=0;u<s;u++)t[u]/=a,o+=t[u]*n[u];for(l=o/(a+a),u=0;u<s;u++)t[u]-=l*n[u];for(u=0;u<s;u++){for(o=n[u],i=t[u],c=u;c<=s-1;c++)r.set(c,u,r.get(c,u)-(o*t[c]+i*n[c]));n[u]=r.get(s-1,u),r.set(s,u,0)}}n[s]=a}for(s=0;s<e-1;s++){if(r.set(e-1,s,r.get(s,s)),r.set(s,s,1),0!==(a=n[s+1])){for(c=0;c<=s;c++)n[c]=r.get(c,s+1)/a;for(u=0;u<=s;u++){for(i=0,c=0;c<=s;c++)i+=r.get(c,s+1)*r.get(c,u);for(c=0;c<=s;c++)r.set(c,u,r.get(c,u)-i*n[c])}}for(c=0;c<=s;c++)r.set(c,s+1,0)}for(u=0;u<e;u++)n[u]=r.get(e-1,u),r.set(e-1,u,0);r.set(e-1,e-1,1),t[0]=0}function me(e,t,n,r){var o,i,a,s,u,c,l,f,d,h,p,g,v,m,y,b;for(a=1;a<e;a++)t[a-1]=t[a];t[e-1]=0;var x=0,w=0,E=Number.EPSILON;for(c=0;c<e;c++){for(w=Math.max(w,Math.abs(n[c])+Math.abs(t[c])),l=c;l<e&&!(Math.abs(t[l])<=E*w);)l++;if(l>c){0;do{for(1,o=n[c],d=re(f=(n[c+1]-o)/(2*t[c]),1),f<0&&(d=-d),n[c]=t[c]/(f+d),n[c+1]=t[c]*(f+d),h=n[c+1],i=o-n[c],a=c+2;a<e;a++)n[a]-=i;for(x+=i,f=n[l],g=p=1,v=p,m=t[c+1],y=0,b=0,a=l-1;a>=c;a--)for(v=g,g=p,b=y,o=p*t[a],i=p*f,d=re(f,t[a]),t[a+1]=y*d,y=t[a]/d,f=(p=f/d)*n[a]-y*o,n[a+1]=i+y*(p*o+y*n[a]),u=0;u<e;u++)i=r.get(u,a+1),r.set(u,a+1,y*r.get(u,a)+p*i),r.set(u,a,p*r.get(u,a)-y*i);f=-y*b*v*m*t[c]/h,t[c]=y*f,n[c]=p*f}while(Math.abs(t[c])>E*w)}n[c]=n[c]+x,t[c]=0}for(a=0;a<e-1;a++){for(u=a,f=n[a],s=a+1;s<e;s++)n[s]<f&&(u=s,f=n[s]);if(u!==a)for(n[u]=n[a],n[a]=f,s=0;s<e;s++)f=r.get(s,a),r.set(s,a,r.get(s,u)),r.set(s,u,f)}}function ye(e,t,n,r){var o,i,a,s,u,c,l,f=e-1;for(c=1;c<=f-1;c++){for(l=0,s=c;s<=f;s++)l+=Math.abs(t.get(s,c-1));if(0!==l){for(a=0,s=f;s>=c;s--)n[s]=t.get(s,c-1)/l,a+=n[s]*n[s];for(i=Math.sqrt(a),n[c]>0&&(i=-i),a-=n[c]*i,n[c]=n[c]-i,u=c;u<e;u++){for(o=0,s=f;s>=c;s--)o+=n[s]*t.get(s,u);for(o/=a,s=c;s<=f;s++)t.set(s,u,t.get(s,u)-o*n[s])}for(s=0;s<=f;s++){for(o=0,u=f;u>=c;u--)o+=n[u]*t.get(s,u);for(o/=a,u=c;u<=f;u++)t.set(s,u,t.get(s,u)-o*n[u])}n[c]=l*n[c],t.set(c,c-1,l*i)}}for(s=0;s<e;s++)for(u=0;u<e;u++)r.set(s,u,s===u?1:0);for(c=f-1;c>=1;c--)if(0!==t.get(c,c-1)){for(s=c+1;s<=f;s++)n[s]=t.get(s,c-1);for(u=c;u<=f;u++){for(i=0,s=c;s<=f;s++)i+=n[s]*r.get(s,u);for(i=i/n[c]/t.get(c,c-1),s=c;s<=f;s++)r.set(s,u,r.get(s,u)+i*n[s])}}}function be(e,t,n,r,o){var i,a,s,u,c,l,f,d,h,p,g,v,m,y,b,x=e-1,w=e-1,E=Number.EPSILON,_=0,S=0,k=0,T=0,C=0,M=0,N=0,A=0;for(i=0;i<e;i++)for((i<0||i>w)&&(n[i]=o.get(i,i),t[i]=0),a=Math.max(i-1,0);a<e;a++)S+=Math.abs(o.get(i,a));for(;x>=0;){for(u=x;u>0&&(0===(M=Math.abs(o.get(u-1,u-1))+Math.abs(o.get(u,u)))&&(M=S),!(Math.abs(o.get(u,u-1))<E*M));)u--;if(u===x)o.set(x,x,o.get(x,x)+_),n[x]=o.get(x,x),t[x]=0,x--,A=0;else if(u===x-1){if(f=o.get(x,x-1)*o.get(x-1,x),T=(k=(o.get(x-1,x-1)-o.get(x,x))/2)*k+f,N=Math.sqrt(Math.abs(T)),o.set(x,x,o.get(x,x)+_),o.set(x-1,x-1,o.get(x-1,x-1)+_),d=o.get(x,x),T>=0){for(N=k>=0?k+N:k-N,n[x-1]=d+N,n[x]=n[x-1],0!==N&&(n[x]=d-f/N),t[x-1]=0,t[x]=0,k=(d=o.get(x,x-1))/(M=Math.abs(d)+Math.abs(N)),T=N/M,k/=C=Math.sqrt(k*k+T*T),T/=C,a=x-1;a<e;a++)N=o.get(x-1,a),o.set(x-1,a,T*N+k*o.get(x,a)),o.set(x,a,T*o.get(x,a)-k*N);for(i=0;i<=x;i++)N=o.get(i,x-1),o.set(i,x-1,T*N+k*o.get(i,x)),o.set(i,x,T*o.get(i,x)-k*N);for(i=0;i<=w;i++)N=r.get(i,x-1),r.set(i,x-1,T*N+k*r.get(i,x)),r.set(i,x,T*r.get(i,x)-k*N)}else n[x-1]=d+k,n[x]=d+k,t[x-1]=N,t[x]=-N;x-=2,A=0}else{if(d=o.get(x,x),h=0,f=0,u<x&&(h=o.get(x-1,x-1),f=o.get(x,x-1)*o.get(x-1,x)),10===A){for(_+=d,i=0;i<=x;i++)o.set(i,i,o.get(i,i)-d);d=h=.75*(M=Math.abs(o.get(x,x-1))+Math.abs(o.get(x-1,x-2))),f=-.4375*M*M}if(30===A&&(M=(M=(h-d)/2)*M+f)>0){for(M=Math.sqrt(M),h<d&&(M=-M),M=d-f/((h-d)/2+M),i=0;i<=x;i++)o.set(i,i,o.get(i,i)-M);_+=M,d=h=f=.964}for(A+=1,c=x-2;c>=u&&(k=((C=d-(N=o.get(c,c)))*(M=h-N)-f)/o.get(c+1,c)+o.get(c,c+1),T=o.get(c+1,c+1)-N-C-M,C=o.get(c+2,c+1),k/=M=Math.abs(k)+Math.abs(T)+Math.abs(C),T/=M,C/=M,c!==u)&&!(Math.abs(o.get(c,c-1))*(Math.abs(T)+Math.abs(C))<E*(Math.abs(k)*(Math.abs(o.get(c-1,c-1))+Math.abs(N)+Math.abs(o.get(c+1,c+1)))));)c--;for(i=c+2;i<=x;i++)o.set(i,i-2,0),i>c+2&&o.set(i,i-3,0);for(s=c;s<=x-1&&(y=s!==x-1,s!==c&&(k=o.get(s,s-1),T=o.get(s+1,s-1),C=y?o.get(s+2,s-1):0,0!==(d=Math.abs(k)+Math.abs(T)+Math.abs(C))&&(k/=d,T/=d,C/=d)),0!==d);s++)if(M=Math.sqrt(k*k+T*T+C*C),k<0&&(M=-M),0!==M){for(s!==c?o.set(s,s-1,-M*d):u!==c&&o.set(s,s-1,-o.get(s,s-1)),d=(k+=M)/M,h=T/M,N=C/M,T/=k,C/=k,a=s;a<e;a++)k=o.get(s,a)+T*o.get(s+1,a),y&&(k+=C*o.get(s+2,a),o.set(s+2,a,o.get(s+2,a)-k*N)),o.set(s,a,o.get(s,a)-k*d),o.set(s+1,a,o.get(s+1,a)-k*h);for(i=0;i<=Math.min(x,s+3);i++)k=d*o.get(i,s)+h*o.get(i,s+1),y&&(k+=N*o.get(i,s+2),o.set(i,s+2,o.get(i,s+2)-k*C)),o.set(i,s,o.get(i,s)-k),o.set(i,s+1,o.get(i,s+1)-k*T);for(i=0;i<=w;i++)k=d*r.get(i,s)+h*r.get(i,s+1),y&&(k+=N*r.get(i,s+2),r.set(i,s+2,r.get(i,s+2)-k*C)),r.set(i,s,r.get(i,s)-k),r.set(i,s+1,r.get(i,s+1)-k*T)}}}if(0!==S){for(x=e-1;x>=0;x--)if(k=n[x],0===(T=t[x]))for(u=x,o.set(x,x,1),i=x-1;i>=0;i--){for(f=o.get(i,i)-k,C=0,a=u;a<=x;a++)C+=o.get(i,a)*o.get(a,x);if(t[i]<0)N=f,M=C;else if(u=i,0===t[i]?o.set(i,x,0!==f?-C/f:-C/(E*S)):(d=o.get(i,i+1),h=o.get(i+1,i),l=(d*M-N*C)/(T=(n[i]-k)*(n[i]-k)+t[i]*t[i]),o.set(i,x,l),o.set(i+1,x,Math.abs(d)>Math.abs(N)?(-C-f*l)/d:(-M-h*l)/N)),E*(l=Math.abs(o.get(i,x)))*l>1)for(a=i;a<=x;a++)o.set(a,x,o.get(a,x)/l)}else if(T<0)for(u=x-1,Math.abs(o.get(x,x-1))>Math.abs(o.get(x-1,x))?(o.set(x-1,x-1,T/o.get(x,x-1)),o.set(x-1,x,-(o.get(x,x)-k)/o.get(x,x-1))):(b=xe(0,-o.get(x-1,x),o.get(x-1,x-1)-k,T),o.set(x-1,x-1,b[0]),o.set(x-1,x,b[1])),o.set(x,x-1,0),o.set(x,x,1),i=x-2;i>=0;i--){for(p=0,g=0,a=u;a<=x;a++)p+=o.get(i,a)*o.get(a,x-1),g+=o.get(i,a)*o.get(a,x);if(f=o.get(i,i)-k,t[i]<0)N=f,C=p,M=g;else if(u=i,0===t[i]?(b=xe(-p,-g,f,T),o.set(i,x-1,b[0]),o.set(i,x,b[1])):(d=o.get(i,i+1),h=o.get(i+1,i),v=(n[i]-k)*(n[i]-k)+t[i]*t[i]-T*T,m=2*(n[i]-k)*T,0===v&&0===m&&(v=E*S*(Math.abs(f)+Math.abs(T)+Math.abs(d)+Math.abs(h)+Math.abs(N))),b=xe(d*C-N*p+T*g,d*M-N*g-T*p,v,m),o.set(i,x-1,b[0]),o.set(i,x,b[1]),Math.abs(d)>Math.abs(N)+Math.abs(T)?(o.set(i+1,x-1,(-p-f*o.get(i,x-1)+T*o.get(i,x))/d),o.set(i+1,x,(-g-f*o.get(i,x)-T*o.get(i,x-1))/d)):(b=xe(-C-h*o.get(i,x-1),-M-h*o.get(i,x),N,T),o.set(i+1,x-1,b[0]),o.set(i+1,x,b[1]))),E*(l=Math.max(Math.abs(o.get(i,x-1)),Math.abs(o.get(i,x))))*l>1)for(a=i;a<=x;a++)o.set(a,x-1,o.get(a,x-1)/l),o.set(a,x,o.get(a,x)/l)}for(i=0;i<e;i++)if(i<0||i>w)for(a=i;a<e;a++)r.set(i,a,o.get(i,a));for(a=e-1;a>=0;a--)for(i=0;i<=w;i++){for(N=0,s=0;s<=Math.min(a,w);s++)N+=r.get(i,s)*o.get(s,a);r.set(i,a,N)}}}function xe(e,t,n,r){var o,i;return Math.abs(n)>Math.abs(r)?[(e+(o=r/n)*t)/(i=n+o*r),(t-o*e)/i]:[((o=n/r)*e+t)/(i=r+o*n),(o*t-e)/i]}var we=function(){function e(t){if((0,a.Z)(this,e),!(t=ee.checkMatrix(t)).isSymmetric())throw new Error("Matrix is not symmetric");var n,r,o,i=t,s=i.rows,u=new V(s,s),c=!0;for(r=0;r<s;r++){var l=0;for(o=0;o<r;o++){var f=0;for(n=0;n<o;n++)f+=u.get(o,n)*u.get(r,n);f=(i.get(r,o)-f)/u.get(o,o),u.set(r,o,f),l+=f*f}for(c&=(l=i.get(r,r)-l)>0,u.set(r,r,Math.sqrt(Math.max(l,0))),o=r+1;o<s;o++)u.set(r,o,0)}this.L=u,this.positiveDefinite=Boolean(c)}return(0,s.Z)(e,[{key:"isPositiveDefinite",value:function(){return this.positiveDefinite}},{key:"solve",value:function(e){e=ee.checkMatrix(e);var t=this.L,n=t.rows;if(e.rows!==n)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");var r,o,i,a=e.columns,s=e.clone();for(i=0;i<n;i++)for(o=0;o<a;o++){for(r=0;r<i;r++)s.set(i,o,s.get(i,o)-s.get(r,o)*t.get(i,r));s.set(i,o,s.get(i,o)/t.get(i,i))}for(i=n-1;i>=0;i--)for(o=0;o<a;o++){for(r=i+1;r<n;r++)s.set(i,o,s.get(i,o)-s.get(r,o)*t.get(r,i));s.set(i,o,s.get(i,o)/t.get(i,i))}return s}},{key:"lowerTriangularMatrix",get:function(){return this.L}}]),e}(),Ee=(0,s.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,e),t=ee.checkMatrix(t);var r,o=n.Y,i=n.scaleScores,s=void 0!==i&&i,u=n.maxIterations,l=void 0===u?1e3:u,f=n.terminationCriteria,d=void 0===f?1e-10:f;if(o){if((o=c(o)&&"number"===typeof o[0]?V.columnVector(o):ee.checkMatrix(o)).rows!==t.rows)throw new Error("Y should have the same number of rows as X");r=o.getColumnVector(0)}else r=t.getColumnVector(0);for(var h,p,g,v,m=1,y=0;y<l&&m>d;y++)g=(g=t.transpose().mmul(r).div(r.transpose().mmul(r).get(0,0))).div(g.norm()),h=t.mmul(g).div(g.transpose().mmul(g).get(0,0)),y>0&&(m=h.clone().sub(v).pow(2).sum()),v=h.clone(),o?(p=(p=o.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0))).div(p.norm()),r=o.mmul(p).div(p.transpose().mmul(p).get(0,0))):r=h;if(o){var b=t.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0));b=b.div(b.norm());var x=t.clone().sub(h.clone().mmul(b.transpose())),w=r.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0)),E=o.clone().sub(h.clone().mulS(w.get(0,0)).mmul(p.transpose()));this.t=h,this.p=b.transpose(),this.w=g.transpose(),this.q=p,this.u=r,this.s=h.transpose().mmul(h),this.xResidual=x,this.yResidual=E,this.betas=w}else this.w=g.transpose(),this.s=h.transpose().mmul(h).sqrt(),this.t=s?h.clone().div(this.s.get(0,0)):h,this.xResidual=t.sub(h.mmul(g.transpose()))}))},2426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function o(e){t=e}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function h(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Hn(e,t,n,r,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(e){return null==e._pf&&(e._pf=g()),e._pf}function m(e){if(null==e._isValid){var t=v(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),o=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(o=o&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return o;e._isValid=o}return e._isValid}function y(e){var t=p(NaN);return null!=e?h(v(t),e):v(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var b=r.momentProperties=[],x=!1;function w(e,t){var n,r,o;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=v(t)),c(t._locale)||(e._locale=t._locale),b.length>0)for(n=0;n<b.length;n++)c(o=t[r=b[n]])||(e[r]=o);return e}function E(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===x&&(x=!0,r.updateOffset(this),x=!1)}function _(e){return e instanceof E||null!=e&&null!=e._isAMomentObject}function S(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,t){var n=!0;return h((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var o,i,a,u=[];for(i=0;i<arguments.length;i++){if(o="","object"===typeof arguments[i]){for(a in o+="\n["+i+"] ",arguments[0])s(arguments[0],a)&&(o+=a+": "+arguments[0][a]+", ");o=o.slice(0,-2)}else o=arguments[i];u.push(o)}S(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var T,C={};function M(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),C[e]||(S(t),C[e]=!0)}function N(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e){var t,n;for(n in e)s(e,n)&&(N(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function P(e,t){var n,r=h({},e);for(n in t)s(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},h(r[n],e[n]),h(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&a(e[n])&&(r[n]=h({},r[n]));return r}function O(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,T=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var I={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function D(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return N(r)?r.call(t,n):r}function R(e,t,n){var r=""+Math.abs(e),o=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},B={};function z(e,t,n,r){var o=r;"string"===typeof r&&(o=function(){return this[r]()}),e&&(B[e]=o),t&&(B[t[0]]=function(){return R(o.apply(this,arguments),t[1],t[2])}),n&&(B[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function G(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function V(e){var t,n,r=e.match(L);for(t=0,n=r.length;t<n;t++)B[r[t]]?r[t]=B[r[t]]:r[t]=G(r[t]);return function(t){var o,i="";for(o=0;o<n;o++)i+=N(r[o])?r[o].call(t,e):r[o];return i}}function U(e,t){return e.isValid()?(t=W(t,e.localeData()),F[t]=F[t]||V(t),F[t](e)):e.localeData().invalidDate()}function W(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(j.lastIndex=0;n>=0&&j.test(e);)e=e.replace(j,r),j.lastIndex=0,n-=1;return e}var Z={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Y(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(L).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var H="Invalid date";function X(){return this._invalidDate}var K="%d",q=/\d{1,2}/;function $(e){return this._ordinal.replace("%d",e)}var J={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Q(e,t,n,r){var o=this._relativeTime[n];return N(o)?o(e,t,n,r):o.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return N(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function oe(e){var t,n,r={};for(n in e)s(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var ie={};function ae(e,t){ie[e]=t}function se(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:ie[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function ue(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function le(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function fe(e,t){return function(n){return null!=n?(he(this,e,n),r.updateOffset(this,t),this):de(this,e)}}function de(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function he(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ue(e.year())&&1===e.month()&&29===e.date()?(n=le(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Qe(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return N(this[e=re(e)])?this[e]():this}function ge(e,t){if("object"===typeof e){var n,r=se(e=oe(e));for(n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit])}else if(N(this[e=re(e)]))return this[e](t);return this}var ve,me=/\d/,ye=/\d\d/,be=/\d{3}/,xe=/\d{4}/,we=/[+-]?\d{6}/,Ee=/\d\d?/,_e=/\d\d\d\d?/,Se=/\d\d\d\d\d\d?/,ke=/\d{1,3}/,Te=/\d{1,4}/,Ce=/[+-]?\d{1,6}/,Me=/\d+/,Ne=/[+-]?\d+/,Ae=/Z|[+-]\d\d:?\d\d/gi,Pe=/Z|[+-]\d\d(?::?\d\d)?/gi,Oe=/[+-]?\d+(\.\d{1,3})?/,Ie=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function De(e,t,n){ve[e]=N(t)?t:function(e,r){return e&&n?n:t}}function Re(e,t){return s(ve,e)?ve[e](t._strict,t._locale):new RegExp(Le(e))}function Le(e){return je(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,o){return t||n||r||o})))}function je(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}ve={};var Fe={};function Be(e,t){var n,r=t;for("string"===typeof e&&(e=[e]),l(t)&&(r=function(e,n){n[t]=le(e)}),n=0;n<e.length;n++)Fe[e[n]]=r}function ze(e,t){Be(e,(function(e,n,r,o){r._w=r._w||{},t(e,r._w,r,o)}))}function Ge(e,t,n){null!=t&&s(Fe,e)&&Fe[e](t,n._a,n,e)}var Ve,Ue=0,We=1,Ze=2,Ye=3,He=4,Xe=5,Ke=6,qe=7,$e=8;function Je(e,t){return(e%t+t)%t}function Qe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Je(t,12);return e+=(t-n)/12,1===n?ue(e)?29:28:31-n%7%2}Ve=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},z("M",["MM",2],"Mo",(function(){return this.month()+1})),z("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),z("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),ae("month",8),De("M",Ee),De("MM",Ee,ye),De("MMM",(function(e,t){return t.monthsShortRegex(e)})),De("MMMM",(function(e,t){return t.monthsRegex(e)})),Be(["M","MM"],(function(e,t){t[We]=le(e)-1})),Be(["MMM","MMMM"],(function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);null!=o?t[We]=o:v(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Ie,ot=Ie;function it(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone}function at(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,n){var r,o,i,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(o=Ve.call(this._shortMonthsParse,a))?o:null:-1!==(o=Ve.call(this._longMonthsParse,a))?o:null:"MMM"===t?-1!==(o=Ve.call(this._shortMonthsParse,a))||-1!==(o=Ve.call(this._longMonthsParse,a))?o:null:-1!==(o=Ve.call(this._longMonthsParse,a))||-1!==(o=Ve.call(this._shortMonthsParse,a))?o:null}function ut(e,t,n){var r,o,i;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ct(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=le(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Qe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function lt(e){return null!=e?(ct(this,e),r.updateOffset(this,!0),this):de(this,"Month")}function ft(){return Qe(this.year(),this.month())}function dt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ht(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=ot),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],o=[],i=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),o.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(r.sort(e),o.sort(e),i.sort(e),t=0;t<12;t++)r[t]=je(r[t]),o[t]=je(o[t]);for(t=0;t<24;t++)i[t]=je(i[t]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function gt(e){return ue(e)?366:365}z("Y",0,0,(function(){var e=this.year();return e<=9999?R(e,4):"+"+e})),z(0,["YY",2],0,(function(){return this.year()%100})),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),ae("year",1),De("Y",Ne),De("YY",Ee,ye),De("YYYY",Te,xe),De("YYYYY",Ce,we),De("YYYYYY",Ce,we),Be(["YYYYY","YYYYYY"],Ue),Be("YYYY",(function(e,t){t[Ue]=2===e.length?r.parseTwoDigitYear(e):le(e)})),Be("YY",(function(e,t){t[Ue]=r.parseTwoDigitYear(e)})),Be("Y",(function(e,t){t[Ue]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return le(e)+(le(e)>68?1900:2e3)};var vt=fe("FullYear",!0);function mt(){return ue(this.year())}function yt(e,t,n,r,o,i,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,o,i,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,o,i,a),s}function bt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function xt(e,t,n){var r=7+t-n;return-(7+bt(e,0,r).getUTCDay()-t)%7+r-1}function wt(e,t,n,r,o){var i,a,s=1+7*(t-1)+(7+n-r)%7+xt(e,r,o);return s<=0?a=gt(i=e-1)+s:s>gt(e)?(i=e+1,a=s-gt(e)):(i=e,a=s),{year:i,dayOfYear:a}}function Et(e,t,n){var r,o,i=xt(e.year(),t,n),a=Math.floor((e.dayOfYear()-i-1)/7)+1;return a<1?r=a+_t(o=e.year()-1,t,n):a>_t(e.year(),t,n)?(r=a-_t(e.year(),t,n),o=e.year()+1):(o=e.year(),r=a),{week:r,year:o}}function _t(e,t,n){var r=xt(e,t,n),o=xt(e+1,t,n);return(gt(e)-r+o)/7}function St(e){return Et(e,this._week.dow,this._week.doy).week}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),ae("week",5),ae("isoWeek",5),De("w",Ee),De("ww",Ee,ye),De("W",Ee),De("WW",Ee,ye),ze(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=le(e)}));var kt={dow:0,doy:6};function Tt(){return this._week.dow}function Ct(){return this._week.doy}function Mt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Nt(e){var t=Et(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function At(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Pt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ot(e,t){return e.slice(t,7).concat(e.slice(0,t))}z("d",0,"do","day"),z("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),z("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),z("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),ae("day",11),ae("weekday",11),ae("isoWeekday",11),De("d",Ee),De("e",Ee),De("E",Ee),De("dd",(function(e,t){return t.weekdaysMinRegex(e)})),De("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),De("dddd",(function(e,t){return t.weekdaysRegex(e)})),ze(["dd","ddd","dddd"],(function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);null!=o?t.d=o:v(n).invalidWeekday=e})),ze(["d","e","E"],(function(e,t,n,r){t[r]=le(e)}));var It="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Dt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Rt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lt=Ie,jt=Ie,Ft=Ie;function Bt(e,t){var n=i(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ot(n,this._week.dow):e?n[e.day()]:n}function zt(e){return!0===e?Ot(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Gt(e){return!0===e?Ot(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Vt(e,t,n){var r,o,i,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(o=Ve.call(this._weekdaysParse,a))?o:null:"ddd"===t?-1!==(o=Ve.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=Ve.call(this._minWeekdaysParse,a))?o:null:"dddd"===t?-1!==(o=Ve.call(this._weekdaysParse,a))||-1!==(o=Ve.call(this._shortWeekdaysParse,a))||-1!==(o=Ve.call(this._minWeekdaysParse,a))?o:null:"ddd"===t?-1!==(o=Ve.call(this._shortWeekdaysParse,a))||-1!==(o=Ve.call(this._weekdaysParse,a))||-1!==(o=Ve.call(this._minWeekdaysParse,a))?o:null:-1!==(o=Ve.call(this._minWeekdaysParse,a))||-1!==(o=Ve.call(this._weekdaysParse,a))||-1!==(o=Ve.call(this._shortWeekdaysParse,a))?o:null}function Ut(e,t,n){var r,o,i;if(this._weekdaysParseExact)return Vt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=At(e,this.localeData()),this.add(e-t,"d")):t}function Zt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Yt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Pt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ht(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||qt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Lt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Xt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||qt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=jt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Kt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||qt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ft),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function qt(){function e(e,t){return t.length-e.length}var t,n,r,o,i,a=[],s=[],u=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=je(this.weekdaysMin(n,"")),o=je(this.weekdaysShort(n,"")),i=je(this.weekdays(n,"")),a.push(r),s.push(o),u.push(i),c.push(r),c.push(o),c.push(i);a.sort(e),s.sort(e),u.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function $t(){return this.hours()%12||12}function Jt(){return this.hours()||24}function Qt(e,t){z(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,$t),z("k",["kk",2],0,Jt),z("hmm",0,0,(function(){return""+$t.apply(this)+R(this.minutes(),2)})),z("hmmss",0,0,(function(){return""+$t.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)})),z("Hmm",0,0,(function(){return""+this.hours()+R(this.minutes(),2)})),z("Hmmss",0,0,(function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)})),Qt("a",!0),Qt("A",!1),ne("hour","h"),ae("hour",13),De("a",en),De("A",en),De("H",Ee),De("h",Ee),De("k",Ee),De("HH",Ee,ye),De("hh",Ee,ye),De("kk",Ee,ye),De("hmm",_e),De("hmmss",Se),De("Hmm",_e),De("Hmmss",Se),Be(["H","HH"],Ye),Be(["k","kk"],(function(e,t,n){var r=le(e);t[Ye]=24===r?0:r})),Be(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Be(["h","hh"],(function(e,t,n){t[Ye]=le(e),v(n).bigHour=!0})),Be("hmm",(function(e,t,n){var r=e.length-2;t[Ye]=le(e.substr(0,r)),t[He]=le(e.substr(r)),v(n).bigHour=!0})),Be("hmmss",(function(e,t,n){var r=e.length-4,o=e.length-2;t[Ye]=le(e.substr(0,r)),t[He]=le(e.substr(r,2)),t[Xe]=le(e.substr(o)),v(n).bigHour=!0})),Be("Hmm",(function(e,t,n){var r=e.length-2;t[Ye]=le(e.substr(0,r)),t[He]=le(e.substr(r))})),Be("Hmmss",(function(e,t,n){var r=e.length-4,o=e.length-2;t[Ye]=le(e.substr(0,r)),t[He]=le(e.substr(r,2)),t[Xe]=le(e.substr(o))}));var nn=/[ap]\.?m?\.?/i,rn=fe("Hours",!0);function on(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var an,sn={calendar:I,longDateFormat:Z,invalidDate:H,ordinal:K,dayOfMonthOrdinalParse:q,relativeTime:J,months:et,monthsShort:tt,week:kt,weekdays:It,weekdaysMin:Rt,weekdaysShort:Dt,meridiemParse:nn},un={},cn={};function ln(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function fn(e){return e?e.toLowerCase().replace("_","-"):e}function dn(e){for(var t,n,r,o,i=0;i<e.length;){for(t=(o=fn(e[i]).split("-")).length,n=(n=fn(e[i+1]))?n.split("-"):null;t>0;){if(r=hn(o.slice(0,t).join("-")))return r;if(n&&n.length>=t&&ln(o,n)>=t-1)break;t--}i++}return an}function hn(t){var n=null;if(void 0===un[t]&&e&&e.exports)try{n=an._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),pn(n)}catch(r){un[t]=null}return un[t]}function pn(e,t){var n;return e&&((n=c(t)?mn(e):gn(e,t))?an=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),an._abbr}function gn(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=un[e])M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[e]._config;else if(null!=t.parentLocale)if(null!=un[t.parentLocale])r=un[t.parentLocale]._config;else{if(null==(n=hn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return un[e]=new O(P(r,t)),cn[e]&&cn[e].forEach((function(e){gn(e.name,e.config)})),pn(e),un[e]}return delete un[e],null}function vn(e,t){if(null!=t){var n,r,o=sn;null!=un[e]&&null!=un[e].parentLocale?un[e].set(P(un[e]._config,t)):(null!=(r=hn(e))&&(o=r._config),t=P(o,t),null==r&&(t.abbr=e),(n=new O(t)).parentLocale=un[e],un[e]=n),pn(e)}else null!=un[e]&&(null!=un[e].parentLocale?(un[e]=un[e].parentLocale,e===pn()&&pn(e)):null!=un[e]&&delete un[e]);return un[e]}function mn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return an;if(!i(e)){if(t=hn(e))return t;e=[e]}return dn(e)}function yn(){return T(un)}function bn(e){var t,n=e._a;return n&&-2===v(e).overflow&&(t=n[We]<0||n[We]>11?We:n[Ze]<1||n[Ze]>Qe(n[Ue],n[We])?Ze:n[Ye]<0||n[Ye]>24||24===n[Ye]&&(0!==n[He]||0!==n[Xe]||0!==n[Ke])?Ye:n[He]<0||n[He]>59?He:n[Xe]<0||n[Xe]>59?Xe:n[Ke]<0||n[Ke]>999?Ke:-1,v(e)._overflowDayOfYear&&(t<Ue||t>Ze)&&(t=Ze),v(e)._overflowWeeks&&-1===t&&(t=qe),v(e)._overflowWeekday&&-1===t&&(t=$e),v(e).overflow=t),e}var xn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,En=/Z|[+-]\d\d(?::?\d\d)?/,_n=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Sn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],kn=/^\/?Date\((-?\d+)/i,Tn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Cn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Mn(e){var t,n,r,o,i,a,s=e._i,u=xn.exec(s)||wn.exec(s);if(u){for(v(e).iso=!0,t=0,n=_n.length;t<n;t++)if(_n[t][1].exec(u[1])){o=_n[t][0],r=!1!==_n[t][2];break}if(null==o)return void(e._isValid=!1);if(u[3]){for(t=0,n=Sn.length;t<n;t++)if(Sn[t][1].exec(u[3])){i=(u[2]||" ")+Sn[t][0];break}if(null==i)return void(e._isValid=!1)}if(!r&&null!=i)return void(e._isValid=!1);if(u[4]){if(!En.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=o+(i||"")+(a||""),zn(e)}else e._isValid=!1}function Nn(e,t,n,r,o,i){var a=[An(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&a.push(parseInt(i,10)),a}function An(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Pn(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function On(e,t,n){return!e||Dt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(v(n).weekdayMismatch=!0,n._isValid=!1,!1)}function In(e,t,n){if(e)return Cn[e];if(t)return 0;var r=parseInt(n,10),o=r%100;return(r-o)/100*60+o}function Dn(e){var t,n=Tn.exec(Pn(e._i));if(n){if(t=Nn(n[4],n[3],n[2],n[5],n[6],n[7]),!On(n[1],t,e))return;e._a=t,e._tzm=In(n[8],n[9],n[10]),e._d=bt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),v(e).rfc2822=!0}else e._isValid=!1}function Rn(e){var t=kn.exec(e._i);null===t?(Mn(e),!1===e._isValid&&(delete e._isValid,Dn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Ln(e,t,n){return null!=e?e:null!=t?t:n}function jn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Fn(e){var t,n,r,o,i,a=[];if(!e._d){for(r=jn(e),e._w&&null==e._a[Ze]&&null==e._a[We]&&Bn(e),null!=e._dayOfYear&&(i=Ln(e._a[Ue],r[Ue]),(e._dayOfYear>gt(i)||0===e._dayOfYear)&&(v(e)._overflowDayOfYear=!0),n=bt(i,0,e._dayOfYear),e._a[We]=n.getUTCMonth(),e._a[Ze]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ye]&&0===e._a[He]&&0===e._a[Xe]&&0===e._a[Ke]&&(e._nextDay=!0,e._a[Ye]=0),e._d=(e._useUTC?bt:yt).apply(null,a),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ye]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==o&&(v(e).weekdayMismatch=!0)}}function Bn(e){var t,n,r,o,i,a,s,u,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(i=1,a=4,n=Ln(t.GG,e._a[Ue],Et(Xn(),1,4).year),r=Ln(t.W,1),((o=Ln(t.E,1))<1||o>7)&&(u=!0)):(i=e._locale._week.dow,a=e._locale._week.doy,c=Et(Xn(),i,a),n=Ln(t.gg,e._a[Ue],c.year),r=Ln(t.w,c.week),null!=t.d?((o=t.d)<0||o>6)&&(u=!0):null!=t.e?(o=t.e+i,(t.e<0||t.e>6)&&(u=!0)):o=i),r<1||r>_t(n,i,a)?v(e)._overflowWeeks=!0:null!=u?v(e)._overflowWeekday=!0:(s=wt(n,r,o,i,a),e._a[Ue]=s.year,e._dayOfYear=s.dayOfYear)}function zn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],v(e).empty=!0;var t,n,o,i,a,s,u=""+e._i,c=u.length,l=0;for(o=W(e._f,e._locale).match(L)||[],t=0;t<o.length;t++)i=o[t],(n=(u.match(Re(i,e))||[])[0])&&((a=u.substr(0,u.indexOf(n))).length>0&&v(e).unusedInput.push(a),u=u.slice(u.indexOf(n)+n.length),l+=n.length),B[i]?(n?v(e).empty=!1:v(e).unusedTokens.push(i),Ge(i,n,e)):e._strict&&!n&&v(e).unusedTokens.push(i);v(e).charsLeftOver=c-l,u.length>0&&v(e).unusedInput.push(u),e._a[Ye]<=12&&!0===v(e).bigHour&&e._a[Ye]>0&&(v(e).bigHour=void 0),v(e).parsedDateParts=e._a.slice(0),v(e).meridiem=e._meridiem,e._a[Ye]=Gn(e._locale,e._a[Ye],e._meridiem),null!==(s=v(e).era)&&(e._a[Ue]=e._locale.erasConvertYear(s,e._a[Ue])),Fn(e),bn(e)}else Dn(e);else Mn(e)}function Gn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Vn(e){var t,n,r,o,i,a,s=!1;if(0===e._f.length)return v(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)i=0,a=!1,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],zn(t),m(t)&&(a=!0),i+=v(t).charsLeftOver,i+=10*v(t).unusedTokens.length,v(t).score=i,s?i<r&&(r=i,n=t):(null==r||i<r||a)&&(r=i,n=t,a&&(s=!0));h(e,n||t)}function Un(e){if(!e._d){var t=oe(e._i),n=void 0===t.day?t.date:t.day;e._a=d([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Fn(e)}}function Wn(e){var t=new E(bn(Zn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Zn(e){var t=e._i,n=e._f;return e._locale=e._locale||mn(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),_(t)?new E(bn(t)):(f(t)?e._d=t:i(n)?Vn(e):n?zn(e):Yn(e),m(e)||(e._d=null),e))}function Yn(e){var t=e._i;c(t)?e._d=new Date(r.now()):f(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Rn(e):i(t)?(e._a=d(t.slice(0),(function(e){return parseInt(e,10)})),Fn(e)):a(t)?Un(e):l(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Hn(e,t,n,r,o){var s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&u(e)||i(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=o,s._l=n,s._i=e,s._f=t,s._strict=r,Wn(s)}function Xn(e,t,n,r){return Hn(e,t,n,r,!1)}r.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Kn=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Xn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),qn=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Xn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function $n(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return Xn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Jn(){return $n("isBefore",[].slice.call(arguments,0))}function Qn(){return $n("isAfter",[].slice.call(arguments,0))}var er=function(){return Date.now?Date.now():+new Date},tr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function nr(e){var t,n,r=!1;for(t in e)if(s(e,t)&&(-1===Ve.call(tr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<tr.length;++n)if(e[tr[n]]){if(r)return!1;parseFloat(e[tr[n]])!==le(e[tr[n]])&&(r=!0)}return!0}function rr(){return this._isValid}function or(){return Cr(NaN)}function ir(e){var t=oe(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=nr(t),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+a+7*i,this._months=+o+3*r+12*n,this._data={},this._locale=mn(),this._bubble()}function ar(e){return e instanceof ir}function sr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function ur(e,t,n){var r,o=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0;for(r=0;r<o;r++)(n&&e[r]!==t[r]||!n&&le(e[r])!==le(t[r]))&&a++;return a+i}function cr(e,t){z(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+R(~~(e/60),2)+t+R(~~e%60,2)}))}cr("Z",":"),cr("ZZ",""),De("Z",Pe),De("ZZ",Pe),Be(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=fr(Pe,e)}));var lr=/([\+\-]|\d\d)/gi;function fr(e,t){var n,r,o=(t||"").match(e);return null===o?null:0===(r=60*(n=((o[o.length-1]||[])+"").match(lr)||["-",0,0])[1]+le(n[2]))?0:"+"===n[0]?r:-r}function dr(e,t){var n,o;return t._isUTC?(n=t.clone(),o=(_(e)||f(e)?e.valueOf():Xn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),r.updateOffset(n,!1),n):Xn(e).local()}function hr(e){return-Math.round(e._d.getTimezoneOffset())}function pr(e,t,n){var o,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=fr(Pe,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(o=hr(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),i!==e&&(!t||this._changeInProgress?Or(this,Cr(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:hr(this)}function gr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function vr(e){return this.utcOffset(0,e)}function mr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(hr(this),"m")),this}function yr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=fr(Ae,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function br(e){return!!this.isValid()&&(e=e?Xn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function xr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wr(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return w(t,this),(t=Zn(t))._a?(e=t._isUTC?p(t._a):Xn(t._a),this._isDSTShifted=this.isValid()&&ur(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Er(){return!!this.isValid()&&!this._isUTC}function _r(){return!!this.isValid()&&this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var kr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Tr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cr(e,t){var n,r,o,i=e,a=null;return ar(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(a=kr.exec(e))?(n="-"===a[1]?-1:1,i={y:0,d:le(a[Ze])*n,h:le(a[Ye])*n,m:le(a[He])*n,s:le(a[Xe])*n,ms:le(sr(1e3*a[Ke]))*n}):(a=Tr.exec(e))?(n="-"===a[1]?-1:1,i={y:Mr(a[2],n),M:Mr(a[3],n),w:Mr(a[4],n),d:Mr(a[5],n),h:Mr(a[6],n),m:Mr(a[7],n),s:Mr(a[8],n)}):null==i?i={}:"object"===typeof i&&("from"in i||"to"in i)&&(o=Ar(Xn(i.from),Xn(i.to)),(i={}).ms=o.milliseconds,i.M=o.months),r=new ir(i),ar(e)&&s(e,"_locale")&&(r._locale=e._locale),ar(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Mr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Nr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ar(e,t){var n;return e.isValid()&&t.isValid()?(t=dr(t,e),e.isBefore(t)?n=Nr(e,t):((n=Nr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Pr(e,t){return function(n,r){var o;return null===r||isNaN(+r)||(M(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),Or(this,Cr(n,r),e),this}}function Or(e,t,n,o){var i=t._milliseconds,a=sr(t._days),s=sr(t._months);e.isValid()&&(o=null==o||o,s&&ct(e,de(e,"Month")+s*n),a&&he(e,"Date",de(e,"Date")+a*n),i&&e._d.setTime(e._d.valueOf()+i*n),o&&r.updateOffset(e,a||s))}Cr.fn=ir.prototype,Cr.invalid=or;var Ir=Pr(1,"add"),Dr=Pr(-1,"subtract");function Rr(e){return"string"===typeof e||e instanceof String}function Lr(e){return _(e)||f(e)||Rr(e)||l(e)||Fr(e)||jr(e)||null===e||void 0===e}function jr(e){var t,n,r=a(e)&&!u(e),o=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<i.length;t+=1)n=i[t],o=o||s(e,n);return r&&o}function Fr(e){var t=i(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&Rr(e)})).length),t&&n}function Br(e){var t,n,r=a(e)&&!u(e),o=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<i.length;t+=1)n=i[t],o=o||s(e,n);return r&&o}function zr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Gr(e,t){1===arguments.length&&(arguments[0]?Lr(arguments[0])?(e=arguments[0],t=void 0):Br(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Xn(),o=dr(n,this).startOf("day"),i=r.calendarFormat(this,o)||"sameElse",a=t&&(N(t[i])?t[i].call(this,n):t[i]);return this.format(a||this.localeData().calendar(i,this,Xn(n)))}function Vr(){return new E(this)}function Ur(e,t){var n=_(e)?e:Xn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Wr(e,t){var n=_(e)?e:Xn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Zr(e,t,n,r){var o=_(e)?e:Xn(e),i=_(t)?t:Xn(t);return!!(this.isValid()&&o.isValid()&&i.isValid())&&("("===(r=r||"()")[0]?this.isAfter(o,n):!this.isBefore(o,n))&&(")"===r[1]?this.isBefore(i,n):!this.isAfter(i,n))}function Yr(e,t){var n,r=_(e)?e:Xn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Hr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Xr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Kr(e,t,n){var r,o,i;if(!this.isValid())return NaN;if(!(r=dr(e,this)).isValid())return NaN;switch(o=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":i=qr(this,r)/12;break;case"month":i=qr(this,r);break;case"quarter":i=qr(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:ce(i)}function qr(e,t){if(e.date()<t.date())return-qr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function $r(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Jr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?U(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):N(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",U(n,"Z")):U(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Qr(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,o="moment",i="";return this.isLocal()||(o=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),e="["+o+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=i+'[")]',this.format(e+t+n+r)}function eo(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=U(this,e);return this.localeData().postformat(t)}function to(e,t){return this.isValid()&&(_(e)&&e.isValid()||Xn(e).isValid())?Cr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function no(e){return this.from(Xn(),e)}function ro(e,t){return this.isValid()&&(_(e)&&e.isValid()||Xn(e).isValid())?Cr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function oo(e){return this.to(Xn(),e)}function io(e){var t;return void 0===e?this._locale._abbr:(null!=(t=mn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ao=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function so(){return this._locale}var uo=1e3,co=60*uo,lo=60*co,fo=3506328*lo;function ho(e,t){return(e%t+t)%t}function po(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-fo:new Date(e,t,n).valueOf()}function go(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-fo:Date.UTC(e,t,n)}function vo(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?go:po,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=ho(t+(this._isUTC?0:this.utcOffset()*co),lo);break;case"minute":t=this._d.valueOf(),t-=ho(t,co);break;case"second":t=this._d.valueOf(),t-=ho(t,uo)}return this._d.setTime(t),r.updateOffset(this,!0),this}function mo(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?go:po,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=lo-ho(t+(this._isUTC?0:this.utcOffset()*co),lo)-1;break;case"minute":t=this._d.valueOf(),t+=co-ho(t,co)-1;break;case"second":t=this._d.valueOf(),t+=uo-ho(t,uo)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function yo(){return this._d.valueOf()-6e4*(this._offset||0)}function bo(){return Math.floor(this.valueOf()/1e3)}function xo(){return new Date(this.valueOf())}function wo(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Eo(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function _o(){return this.isValid()?this.toISOString():null}function So(){return m(this)}function ko(){return h({},v(this))}function To(){return v(this).overflow}function Co(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Mo(e,t){var n,o,i,a=this._eras||mn("en")._eras;for(n=0,o=a.length;n<o;++n)switch("string"===typeof a[n].since&&(i=r(a[n].since).startOf("day"),a[n].since=i.valueOf()),typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":i=r(a[n].until).startOf("day").valueOf(),a[n].until=i.valueOf()}return a}function No(e,t,n){var r,o,i,a,s,u=this.eras();for(e=e.toUpperCase(),r=0,o=u.length;r<o;++r)if(i=u[r].name.toUpperCase(),a=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return u[r];break;case"NNNN":if(i===e)return u[r];break;case"NNNNN":if(s===e)return u[r]}else if([i,a,s].indexOf(e)>=0)return u[r]}function Ao(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Po(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Oo(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Io(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Do(){var e,t,n,o,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,o=this.clone().startOf("day").valueOf(),i[e].since<=o&&o<=i[e].until||i[e].until<=o&&o<=i[e].since)return(this.year()-r(i[e].since).year())*n+i[e].offset;return this.year()}function Ro(e){return s(this,"_erasNameRegex")||Vo.call(this),e?this._erasNameRegex:this._erasRegex}function Lo(e){return s(this,"_erasAbbrRegex")||Vo.call(this),e?this._erasAbbrRegex:this._erasRegex}function jo(e){return s(this,"_erasNarrowRegex")||Vo.call(this),e?this._erasNarrowRegex:this._erasRegex}function Fo(e,t){return t.erasAbbrRegex(e)}function Bo(e,t){return t.erasNameRegex(e)}function zo(e,t){return t.erasNarrowRegex(e)}function Go(e,t){return t._eraYearOrdinalRegex||Me}function Vo(){var e,t,n=[],r=[],o=[],i=[],a=this.eras();for(e=0,t=a.length;e<t;++e)r.push(je(a[e].name)),n.push(je(a[e].abbr)),o.push(je(a[e].narrow)),i.push(je(a[e].name)),i.push(je(a[e].abbr)),i.push(je(a[e].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function Uo(e,t){z(0,[e,e.length],0,t)}function Wo(e){return qo.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Zo(e){return qo.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Yo(){return _t(this.year(),1,4)}function Ho(){return _t(this.isoWeekYear(),1,4)}function Xo(){var e=this.localeData()._week;return _t(this.year(),e.dow,e.doy)}function Ko(){var e=this.localeData()._week;return _t(this.weekYear(),e.dow,e.doy)}function qo(e,t,n,r,o){var i;return null==e?Et(this,r,o).year:(t>(i=_t(e,r,o))&&(t=i),$o.call(this,e,t,n,r,o))}function $o(e,t,n,r,o){var i=wt(e,t,n,r,o),a=bt(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Jo(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}z("N",0,0,"eraAbbr"),z("NN",0,0,"eraAbbr"),z("NNN",0,0,"eraAbbr"),z("NNNN",0,0,"eraName"),z("NNNNN",0,0,"eraNarrow"),z("y",["y",1],"yo","eraYear"),z("y",["yy",2],0,"eraYear"),z("y",["yyy",3],0,"eraYear"),z("y",["yyyy",4],0,"eraYear"),De("N",Fo),De("NN",Fo),De("NNN",Fo),De("NNNN",Bo),De("NNNNN",zo),Be(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?v(n).era=o:v(n).invalidEra=e})),De("y",Me),De("yy",Me),De("yyy",Me),De("yyyy",Me),De("yo",Go),Be(["y","yy","yyy","yyyy"],Ue),Be(["yo"],(function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ue]=n._locale.eraYearOrdinalParse(e,o):t[Ue]=parseInt(e,10)})),z(0,["gg",2],0,(function(){return this.weekYear()%100})),z(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Uo("gggg","weekYear"),Uo("ggggg","weekYear"),Uo("GGGG","isoWeekYear"),Uo("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),ae("weekYear",1),ae("isoWeekYear",1),De("G",Ne),De("g",Ne),De("GG",Ee,ye),De("gg",Ee,ye),De("GGGG",Te,xe),De("gggg",Te,xe),De("GGGGG",Ce,we),De("ggggg",Ce,we),ze(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=le(e)})),ze(["gg","GG"],(function(e,t,n,o){t[o]=r.parseTwoDigitYear(e)})),z("Q",0,"Qo","quarter"),ne("quarter","Q"),ae("quarter",7),De("Q",me),Be("Q",(function(e,t){t[We]=3*(le(e)-1)})),z("D",["DD",2],"Do","date"),ne("date","D"),ae("date",9),De("D",Ee),De("DD",Ee,ye),De("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Be(["D","DD"],Ze),Be("Do",(function(e,t){t[Ze]=le(e.match(Ee)[0])}));var Qo=fe("Date",!0);function ei(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}z("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),ae("dayOfYear",4),De("DDD",ke),De("DDDD",be),Be(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=le(e)})),z("m",["mm",2],0,"minute"),ne("minute","m"),ae("minute",14),De("m",Ee),De("mm",Ee,ye),Be(["m","mm"],He);var ti=fe("Minutes",!1);z("s",["ss",2],0,"second"),ne("second","s"),ae("second",15),De("s",Ee),De("ss",Ee,ye),Be(["s","ss"],Xe);var ni,ri,oi=fe("Seconds",!1);for(z("S",0,0,(function(){return~~(this.millisecond()/100)})),z(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),z(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),z(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),z(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),z(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),z(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),ae("millisecond",16),De("S",ke,me),De("SS",ke,ye),De("SSS",ke,be),ni="SSSS";ni.length<=9;ni+="S")De(ni,Me);function ii(e,t){t[Ke]=le(1e3*("0."+e))}for(ni="S";ni.length<=9;ni+="S")Be(ni,ii);function ai(){return this._isUTC?"UTC":""}function si(){return this._isUTC?"Coordinated Universal Time":""}ri=fe("Milliseconds",!1),z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var ui=E.prototype;function ci(e){return Xn(1e3*e)}function li(){return Xn.apply(null,arguments).parseZone()}function fi(e){return e}ui.add=Ir,ui.calendar=Gr,ui.clone=Vr,ui.diff=Kr,ui.endOf=mo,ui.format=eo,ui.from=to,ui.fromNow=no,ui.to=ro,ui.toNow=oo,ui.get=pe,ui.invalidAt=To,ui.isAfter=Ur,ui.isBefore=Wr,ui.isBetween=Zr,ui.isSame=Yr,ui.isSameOrAfter=Hr,ui.isSameOrBefore=Xr,ui.isValid=So,ui.lang=ao,ui.locale=io,ui.localeData=so,ui.max=qn,ui.min=Kn,ui.parsingFlags=ko,ui.set=ge,ui.startOf=vo,ui.subtract=Dr,ui.toArray=wo,ui.toObject=Eo,ui.toDate=xo,ui.toISOString=Jr,ui.inspect=Qr,"undefined"!==typeof Symbol&&null!=Symbol.for&&(ui[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ui.toJSON=_o,ui.toString=$r,ui.unix=bo,ui.valueOf=yo,ui.creationData=Co,ui.eraName=Po,ui.eraNarrow=Oo,ui.eraAbbr=Io,ui.eraYear=Do,ui.year=vt,ui.isLeapYear=mt,ui.weekYear=Wo,ui.isoWeekYear=Zo,ui.quarter=ui.quarters=Jo,ui.month=lt,ui.daysInMonth=ft,ui.week=ui.weeks=Mt,ui.isoWeek=ui.isoWeeks=Nt,ui.weeksInYear=Xo,ui.weeksInWeekYear=Ko,ui.isoWeeksInYear=Yo,ui.isoWeeksInISOWeekYear=Ho,ui.date=Qo,ui.day=ui.days=Wt,ui.weekday=Zt,ui.isoWeekday=Yt,ui.dayOfYear=ei,ui.hour=ui.hours=rn,ui.minute=ui.minutes=ti,ui.second=ui.seconds=oi,ui.millisecond=ui.milliseconds=ri,ui.utcOffset=pr,ui.utc=vr,ui.local=mr,ui.parseZone=yr,ui.hasAlignedHourOffset=br,ui.isDST=xr,ui.isLocal=Er,ui.isUtcOffset=_r,ui.isUtc=Sr,ui.isUTC=Sr,ui.zoneAbbr=ai,ui.zoneName=si,ui.dates=k("dates accessor is deprecated. Use date instead.",Qo),ui.months=k("months accessor is deprecated. Use month instead",lt),ui.years=k("years accessor is deprecated. Use year instead",vt),ui.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gr),ui.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wr);var di=O.prototype;function hi(e,t,n,r){var o=mn(),i=p().set(r,t);return o[n](i,e)}function pi(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return hi(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=hi(e,r,n,"month");return o}function gi(e,t,n,r){"boolean"===typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var o,i=mn(),a=e?i._week.dow:0,s=[];if(null!=n)return hi(t,(n+a)%7,r,"day");for(o=0;o<7;o++)s[o]=hi(t,(o+a)%7,r,"day");return s}function vi(e,t){return pi(e,t,"months")}function mi(e,t){return pi(e,t,"monthsShort")}function yi(e,t,n){return gi(e,t,n,"weekdays")}function bi(e,t,n){return gi(e,t,n,"weekdaysShort")}function xi(e,t,n){return gi(e,t,n,"weekdaysMin")}di.calendar=D,di.longDateFormat=Y,di.invalidDate=X,di.ordinal=$,di.preparse=fi,di.postformat=fi,di.relativeTime=Q,di.pastFuture=ee,di.set=A,di.eras=Mo,di.erasParse=No,di.erasConvertYear=Ao,di.erasAbbrRegex=Lo,di.erasNameRegex=Ro,di.erasNarrowRegex=jo,di.months=it,di.monthsShort=at,di.monthsParse=ut,di.monthsRegex=ht,di.monthsShortRegex=dt,di.week=St,di.firstDayOfYear=Ct,di.firstDayOfWeek=Tt,di.weekdays=Bt,di.weekdaysMin=Gt,di.weekdaysShort=zt,di.weekdaysParse=Ut,di.weekdaysRegex=Ht,di.weekdaysShortRegex=Xt,di.weekdaysMinRegex=Kt,di.isPM=tn,di.meridiem=on,pn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===le(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=k("moment.lang is deprecated. Use moment.locale instead.",pn),r.langData=k("moment.langData is deprecated. Use moment.localeData instead.",mn);var wi=Math.abs;function Ei(){var e=this._data;return this._milliseconds=wi(this._milliseconds),this._days=wi(this._days),this._months=wi(this._months),e.milliseconds=wi(e.milliseconds),e.seconds=wi(e.seconds),e.minutes=wi(e.minutes),e.hours=wi(e.hours),e.months=wi(e.months),e.years=wi(e.years),this}function _i(e,t,n,r){var o=Cr(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function Si(e,t){return _i(this,e,t,1)}function ki(e,t){return _i(this,e,t,-1)}function Ti(e){return e<0?Math.floor(e):Math.ceil(e)}function Ci(){var e,t,n,r,o,i=this._milliseconds,a=this._days,s=this._months,u=this._data;return i>=0&&a>=0&&s>=0||i<=0&&a<=0&&s<=0||(i+=864e5*Ti(Ni(s)+a),a=0,s=0),u.milliseconds=i%1e3,e=ce(i/1e3),u.seconds=e%60,t=ce(e/60),u.minutes=t%60,n=ce(t/60),u.hours=n%24,a+=ce(n/24),s+=o=ce(Mi(a)),a-=Ti(Ni(o)),r=ce(s/12),s%=12,u.days=a,u.months=s,u.years=r,this}function Mi(e){return 4800*e/146097}function Ni(e){return 146097*e/4800}function Ai(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Mi(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ni(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Pi(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*le(this._months/12):NaN}function Oi(e){return function(){return this.as(e)}}var Ii=Oi("ms"),Di=Oi("s"),Ri=Oi("m"),Li=Oi("h"),ji=Oi("d"),Fi=Oi("w"),Bi=Oi("M"),zi=Oi("Q"),Gi=Oi("y");function Vi(){return Cr(this)}function Ui(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Wi(e){return function(){return this.isValid()?this._data[e]:NaN}}var Zi=Wi("milliseconds"),Yi=Wi("seconds"),Hi=Wi("minutes"),Xi=Wi("hours"),Ki=Wi("days"),qi=Wi("months"),$i=Wi("years");function Ji(){return ce(this.days()/7)}var Qi=Math.round,ea={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ta(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function na(e,t,n,r){var o=Cr(e).abs(),i=Qi(o.as("s")),a=Qi(o.as("m")),s=Qi(o.as("h")),u=Qi(o.as("d")),c=Qi(o.as("M")),l=Qi(o.as("w")),f=Qi(o.as("y")),d=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(d=d||l<=1&&["w"]||l<n.w&&["ww",l]),(d=d||c<=1&&["M"]||c<n.M&&["MM",c]||f<=1&&["y"]||["yy",f])[2]=t,d[3]=+e>0,d[4]=r,ta.apply(null,d)}function ra(e){return void 0===e?Qi:"function"===typeof e&&(Qi=e,!0)}function oa(e,t){return void 0!==ea[e]&&(void 0===t?ea[e]:(ea[e]=t,"s"===e&&(ea.ss=t-1),!0))}function ia(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,o=!1,i=ea;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(o=e),"object"===typeof t&&(i=Object.assign({},ea,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),r=na(this,!o,i,n=this.localeData()),o&&(r=n.pastFuture(+this,r)),n.postformat(r)}var aa=Math.abs;function sa(e){return(e>0)-(e<0)||+e}function ua(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,o,i,a,s,u=aa(this._milliseconds)/1e3,c=aa(this._days),l=aa(this._months),f=this.asSeconds();return f?(e=ce(u/60),t=ce(e/60),u%=60,e%=60,n=ce(l/12),l%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",o=f<0?"-":"",i=sa(this._months)!==sa(f)?"-":"",a=sa(this._days)!==sa(f)?"-":"",s=sa(this._milliseconds)!==sa(f)?"-":"",o+"P"+(n?i+n+"Y":"")+(l?i+l+"M":"")+(c?a+c+"D":"")+(t||e||u?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(u?s+r+"S":"")):"P0D"}var ca=ir.prototype;return ca.isValid=rr,ca.abs=Ei,ca.add=Si,ca.subtract=ki,ca.as=Ai,ca.asMilliseconds=Ii,ca.asSeconds=Di,ca.asMinutes=Ri,ca.asHours=Li,ca.asDays=ji,ca.asWeeks=Fi,ca.asMonths=Bi,ca.asQuarters=zi,ca.asYears=Gi,ca.valueOf=Pi,ca._bubble=Ci,ca.clone=Vi,ca.get=Ui,ca.milliseconds=Zi,ca.seconds=Yi,ca.minutes=Hi,ca.hours=Xi,ca.days=Ki,ca.weeks=Ji,ca.months=qi,ca.years=$i,ca.humanize=ia,ca.toISOString=ua,ca.toString=ua,ca.toJSON=ua,ca.locale=io,ca.localeData=so,ca.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ua),ca.lang=ao,z("X",0,0,"unix"),z("x",0,0,"valueOf"),De("x",Ne),De("X",Oe),Be("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Be("x",(function(e,t,n){n._d=new Date(le(e))})),r.version="2.29.1",o(Xn),r.fn=ui,r.min=Jn,r.max=Qn,r.now=er,r.utc=p,r.unix=ci,r.months=vi,r.isDate=f,r.locale=pn,r.invalid=y,r.duration=Cr,r.isMoment=_,r.weekdays=yi,r.parseZone=li,r.localeData=mn,r.isDuration=ar,r.monthsShort=mi,r.weekdaysMin=xi,r.defineLocale=gn,r.updateLocale=vn,r.locales=yn,r.weekdaysShort=bi,r.normalizeUnits=re,r.relativeTimeRounding=ra,r.relativeTimeThreshold=oa,r.calendarFormat=zr,r.prototype=ui,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(o){return!1}}()?Object.assign:function(e,i){for(var a,s,u=o(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var f=0;f<s.length;f++)r.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u}},5687:function(e,t,n){var r=n(1989),o=n(5713),i=n(6845),a=n(8828),s=n(847),u=[0,0];e.exports.x7=function(e,t,n,a,c){return r(e,n,a),i(e,e),o(t,-e[1],e[0]),o(u,-n[1],n[0]),c/s(t,u)},e.exports.mJ=function(e,t){return o(e,-t[1],t[0]),e},e.exports.o7=function(e,t,n){return a(e,t,n),i(e,e),e}},888:function(e,t,n){"use strict";var r=n(9047);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2209:function(e,t,n){!function(e,t,n,r,o,i,a,s,u,c,l,f,d,h,p,g,v,m,y,b,x){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;var w="default"in a?a.default:a;function E(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1})}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};for(var n,r={},o=Object.keys(e),i=0;i<o.length;i++)n=o[i],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),i=0;i<o.length;i++)n=o[i],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return I(e)}function R(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=A(t);return D(this,n?(e=A(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments))}}function L(e,t){return B(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||G(e,t)||U()}function j(e){return B(e)||z(e)||G(e)||U()}function F(e){return function(e){if(Array.isArray(e))return V(e)}(e)||z(e)||G(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e){if(Array.isArray(e))return e}function z(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function G(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function W(){if(!u(a.useContext))return{};var e=a.useContext(H);if(e)return e;var t=(e=L(a.useState(ee.currentContextValue),2))[0],n=e[1];return a.useEffect((function(){var e=i(n);return Q.on("update",e),function(){return Q.off("update",e)}}),[]),t}function Z(e){var t=e.children;return e=O(e,ne),w.createElement(X,M({},e,{_nk:"".concat(re,"11")}),w.createElement(ee,M({},e,{_nk:"".concat(re,"21")}),t))}function Y(e){var t=e.children;return w.createElement(K,{_nk:"".concat(re,"31")},(function(e){return e?o(t,void 0,e):w.createElement(te,{_nk:"".concat(re,"41")},t)}))}s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u,c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,f=f&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d,h=h&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h,p=p&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p,g=g&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g,v=v&&Object.prototype.hasOwnProperty.call(v,"default")?v.default:v,m=m&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m,y=y&&Object.prototype.hasOwnProperty.call(y,"default")?y.default:y,b=b&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b,x=x&&Object.prototype.hasOwnProperty.call(x,"default")?x.default:x;var H=c(),X=H.Provider,K=H.Consumer,q=c(),$=q.Provider,J=q.Consumer,Q=new l,ee=function(){N(t,a.Component);var e=R(t);function t(n){var r;return S(this,t),r=e.call(this,n),t.currentContextValue=n.value,r}return T(t,[{key:"shouldComponentUpdate",value:function(e){return e.value!==this.props.value&&(t.currentContextValue=e.value,Q.emit("update",e.value)),e.children!==this.props.children||e.value!==this.props.value}},{key:"render",value:function(){return this.props.children}}]),t}(),te=(C(ee,"eventBus",Q),C(ee,"currentContextValue",void 0),function(){N(t,a.PureComponent);var e=R(t);function t(n){var r;return S(this,t),C(I(r=e.call(this,n)),"state",{context:ee.currentContextValue}),C(I(r),"updateListener",i((function(e){r.setState({context:e})}))),Q.on("update",r.updateListener),r}return T(t,[{key:"componentWillUnmount",value:function(){Q.off("update",this.updateListener)}},{key:"render",value:function(){var e=this.props.children,t=this.state.context;return o(e,void 0,t)}}]),t}()),ne=["children"],re="qj9A",oe=function(){N(t,a.Component);var e=R(t);function t(){var n;S(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return C(I(n=e.call.apply(e,[this].concat(o))),"promiseCache",{}),n}return T(t,[{key:"render",value:function(){var e=(t=this.props).freeze,t=t.children,n=this.promiseCache;if(e&&!n.promise)throw n.promise=new Promise((function(e){n.resolve=e})),n.promise;if(e)throw n.promise;return n.promise&&(n.resolve(),n.promise=void 0),w.createElement(a.Fragment,null,t)}}]),t}();function ie(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){var t=(e=j(e))[0];e.slice(1).forEach((function(e){var n;u(r(t,e))&&!r(t,[e,"_overridden"])&&(n=t[e].bind(t),t[e]=function(e){d(e)||fe(e);for(var t=arguments.length,r=new Array(1<t?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return n.apply(void 0,[e].concat(r))},t[e]._overridden=!0)}))}))}catch(e){console.warn("activation override failed:",e)}}function ae(e){return e=e.children,o(e)}var se=[],ue=new Map,ce=new l,le=p((function(e){!h(e)||[H,q].includes(e)||(se.push(e),setTimeout((function(){return ce.emit("update")})))})),fe=p((function(e){e=r(e,"_context")||r(e,"context"),r(e,"$$typeof")===r(H,"$$typeof")&&le(e)})),de=(ie([w,"createElement"]),function(){N(t,a.PureComponent);var e=R(t);function t(n){var r;if(S(this,t),C(I(r=e.call(this,n)),"unmount",null),0===(n=n.value).length)return r.state={ctxValue:null},D(r);var o=((n=L(n,1)[0]).ctx,n.value);return n=n.onUpdate,r.state={ctxValue:o},r.unmount=n((function(e){r.setState({ctxValue:e})})),r}return T(t,[{key:"componentWillUnmount",value:function(){o(this.unmount)}},{key:"render",value:function(){var e=(n=this.props).value,n=n.children;if(0===e.length)return n;var r=this.state.ctxValue,o=(e=j(e))[0].ctx;return e=e.slice(1),o=o.Provider,o=g(r)?n:w.createElement(o,{value:r,_nk:"".concat("lqEk","11")},n),0<e.length?w.createElement(t,{value:e,_nk:"".concat("lqEk","21")},o):o}}]),t}()),he=function(){N(t,a.Component);var e=R(t);function t(n){S(this,t),C(I(i=e.call(this,n)),"updateListener",null),C(I(i),"ctxInfo",null);var i,a=n.value,s=n.ctx;return n=n.id,g(a)?D(i):(i.updateListener=r(ue.get(s),n,new Map),o(i.updateListener,"forEach",(function(e){return e(a)})),i.ctxInfo={ctx:s,value:a,onUpdate:function(e){return i.updateListener.set(e,e),function(){return i.updateListener.delete(e)}}},i)}return T(t,[{key:"componentWillUnmount",value:function(){var e=(n=this.props).value,t=n.ctx,n=n.id;g(e)||ue.set(t,_(_({},r(ue.get(t),void 0,{})),{},C({},n,this.updateListener)))}},{key:"shouldComponentUpdate",value:function(e){var t=e.value;return(e=this.props.value!==t)&&o(this.updateListener,"forEach",(function(e){return e(t)})),e}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.renderWrapper,o=t.renderContent;return t.id,r((function(t){return o(g(n)?t:[].concat(F(t),[e.ctxInfo]))}))}}]),t}(),pe={},ge=function(){N(t,a.PureComponent);var e=R(t);function t(n){var r;return S(this,t),C(I(r=e.call(this,n)),"renderWrapper",(function(e){var t=r.props.id;return pe[t].reduce((function(e,n){var r=n.Consumer;return function(o){return w.createElement(r,{_nk:"".concat("SsUr","11")},(function(r){return w.createElement(he,{value:r,ctx:n,renderWrapper:e,renderContent:o,id:t,_nk:"".concat("SsUr","21")})}))}}),(function(e){return e([])}))(e)})),n=n.id,pe[n]||(pe[n]=F(se)),r}return T(t,[{key:"render",value:function(){var e=this.props.children;return this.renderWrapper(e)}}]),t}(),ve="46lG",me=(p=u(a.lazy)&&!g(a.Suspense))?a.lazy((function(){return new Promise((function(){return null}))})):function(){return null},ye=function(){N(t,a.Component);var e=R(t);function t(){return S(this,t),e.apply(this,arguments)}return T(t,[{key:"componentDidMount",value:function(){o(this.props,"onStart")}},{key:"componentWillUnmount",value:function(){o(this.props,"onEnd")}},{key:"render",value:function(){return null}}]),t}(),be=p?function(){N(t,a.Component);var e=R(t);function t(){var n;S(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return C(I(n=e.call.apply(e,[this].concat(o))),"state",{suspense:!1}),C(I(n),"onSuspenseStart",(function(){n.setState({suspense:!0})})),C(I(n),"onSuspenseEnd",(function(){n.setState({suspense:!1})})),C(I(n),"sus$$",{onSuspenseStart:n.onSuspenseStart,onSuspenseEnd:n.onSuspenseEnd}),n}return T(t,[{key:"render",value:function(){var e=this.props.children;return w.createElement(a.Fragment,null,o(e,void 0,this.sus$$),this.state.suspense&&w.createElement(me,{_nk:"".concat(ve,"31")}))}}]),t}():ae,xe=p?function(e){var t=e.children;return e=e.sus$$,w.createElement(a.Suspense,{fallback:w.createElement(ye,{onStart:e.onSuspenseStart,onEnd:e.onSuspenseEnd,_nk:"".concat(ve,"21")}),_nk:"".concat(ve,"11")},t)}:ae,we=function(){N(t,a.Component);var e=R(t);function t(){return S(this,t),e.apply(this,arguments)}return T(t,[{key:"componentDidCatch",value:function(e){var t=this.props.error$$;o(t,void 0,e,(function(){o(t,void 0,null)}))}},{key:"render",value:function(){return this.props.children}}]),t}(),Ee=(C(we,"getDerivedStateFromError",(function(){return null})),function(){N(t,a.Component);var e=R(t);function t(){var n;S(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return C(I(n=e.call.apply(e,[this].concat(o))),"state",{error:null}),C(I(n),"throwError",(function(e,t){return n.setState({error:e},t)})),n}return T(t,[{key:"render",value:function(){if(this.state.error)throw this.state.error;return o(this.props.children,void 0,this.throwError)}}]),t}()),_e="lajT";function Se(e){var t=e.id,n=e.children,r=(e=e.bridgeProps).sus$$,o=e.ctx$$;return e=e.error$$,w.createElement(we,{error$$:e,_nk:"".concat(_e,"11")},w.createElement(xe,{sus$$:r,_nk:"".concat(_e,"21")},w.createElement(de,{id:t,value:o,_nk:"".concat(_e,"31")},n)))}function ke(e){var t=e.id,n=e.children;return w.createElement(Ee,{_nk:"".concat(_e,"41")},(function(e){return w.createElement(be,{_nk:"".concat(_e,"51")},(function(r){return w.createElement(ge,{id:t,_nk:"".concat(_e,"61")},(function(t){return o(n,void 0,{bridgeProps:{sus$$:r,ctx$$:t,error$$:e}})}))}))}))}function Te(e){var t=function(){N(n,a.Component);var t=R(n);function n(){var e;S(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return C(I(e=t.call.apply(t,[this].concat(o))),"drop",null),e}return T(n,[{key:"componentWillUnmount",value:function(){o(this.drop)}},{key:"render",value:function(){var t=this,n=this.props,i=n.forwardedRef,a=O(n,Me);return w.createElement(J,{_nk:"".concat(Ne,"11")},(function(){var n=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).attach;return w.createElement(e,M({ref:function(e){[Ae,Pe].every((function(t){return!u(r(e,t))}))||(t.drop=o(n,void 0,e),g(i)||(v(i)&&"current"in i?i.current=e:o(i,void 0,e)))}},a,{_nk:"".concat(Ne,"21")}))}))}}]),n}();return u(e.prototype.componentDidMount)&&(e.prototype._componentDidMount=e.prototype.componentDidMount,e.prototype.componentDidMount=function(){var t=this;f((function(){return e.prototype._componentDidMount.call(t)}))}),u(a.forwardRef)?m(a.forwardRef((function(e,n){return w.createElement(t,M({},e,{forwardedRef:n,_nk:"".concat(Ne,"31")}))})),e):m(t,e)}function Ce(e,t){var n,r;[a.useRef,a.useContext,a.useEffect].some((function(e){return!u(e)}))||(r=a.useContext(q))&&(n=a.useRef({}).current,r=r.attach,n[e]=t,n.drop=r(n),a.useEffect((function(){return function(){return o(n.drop)}}),[]))}var Me=["forwardedRef"],Ne="XKTv",Ae="componentDidActivate",Pe="componentWillUnactivate",Oe=(p=Ce.bind(null,Ae),Ce.bind(null,Pe)),Ie=["id"],De="bNyU",Re=a.Suspense?function(e){var t=e.freeze,n=e.children;return e=e.placeholder,w.createElement(a.Suspense,{fallback:void 0===e?null:e,_nk:"".concat("Leb+","11")},w.createElement(oe,{freeze:t,_nk:"".concat("Leb+","21")},n))}:function(e){return e.children},Le=function(){N(t,a.PureComponent);var e=R(t);function t(n){var i;S(this,t);for(var a=arguments.length,s=new Array(1<a?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];return C(I(i=e.call.apply(e,[this,n].concat(s))),"eventBus",new l),C(I(i),"listeners",new Map),C(I(i),"wrapper",null),C(I(i),"cache",void 0),C(I(i),"unmounted",!1),C(I(i),"safeSetState",(function(e,t){i.unmounted||i.setState(e,t)})),C(I(i),"freezeTimeout",null),C(I(i),"attach",(function(e){var t,n=i.listeners;return e?(e.isKeepAlive&&f((function(){var t,n=(t=i.props).id;(t=t.store.get(n)).aliveNodesId=new Set([].concat(F(t.aliveNodesId),[e.id]))})),n.set(e,(C(t={},Ae,(function(){return o(e,Ae)})),C(t,Pe,(function(){return o(e,Pe)})),t)),function(){n.delete(e)}):function(){return null}})),C(I(i),"contextValue",{id:i.props.id,attach:i.attach}),C(I(i),"drop",(function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).delay,t=void 0===e?1200:e;return new Promise((function(e){function n(){clearTimeout(o),i.eventBus.off(Pe,n),i.cache.willDrop=!0,s.nodes.delete(u),s.helpers=_({},s.helpers),s.smartForceUpdate((function(){return e(!0)}))}var o,a=i.props,s=a.scope,u=a.id;if(!r(i.cache,"cached")&&!r(i.cache,"willDrop"))return i.eventBus.on(Pe,n),void(o=setTimeout((function(){i.eventBus.off(Pe,n),e(!1)}),t));n()}))})),C(I(i),"refresh",(function(){return new Promise((function(e){r(i.cache,"cached")&&e(!1),i.safeSetState({key:Math.random()},(function(){return e(!0)}))}))})),i.state={children:n.children,bridgeProps:n.bridgeProps,key:Math.random(),freeze:!1},i}return T(t,[{key:"componentDidMount",value:function(){var e,t=this,n=(r=this.props).store,r=r.id,o=this.listeners,i=this.wrapper;if(!n.has(r)){try{e=F(i.children)}catch(t){e=[i.children]}this.cache=(C(o={listeners:o,aliveNodesId:[],inited:!1,cached:!1,wrapper:i,nodes:e},Ae,(function(){return t[Ae]()})),C(o,Pe,(function(){return t[Pe]()})),o),n.set(r,this.cache)}}},{key:"componentWillUnmount",value:function(){var e=(n=this.props).store,t=n.keepers,n=n.id;try{var r=e.get(n);r.nodes.forEach((function(e){r.wrapper.appendChild(e)}))}catch(n){}e.delete(n),t.delete(n),this.unmounted=!0}},{key:Ae,value:function(){clearTimeout(this.freezeTimeout),this.safeSetState({freeze:!1}),this.eventBus.emit(Ae),this.listeners.forEach((function(e){return o(e,[Ae])}))}},{key:Pe,value:function(){var e=this;this.eventBus.emit(Pe),F(this.listeners).reverse().forEach((function(e){return e=L(e,2)[1],o(e,[Pe])})),clearTimeout(this.freezeTimeout),this.freezeTimeout=setTimeout((function(){e.safeSetState({freeze:!0})}),1e3)}},{key:"render",value:function(){var e=this,t=(i=this.props).id,n=(O(i,Ie),i=this.state).children,r=i.bridgeProps,o=i.key,i=i.freeze;return w.createElement(Re,{freeze:i,_nk:"".concat(De,"11")},w.createElement("div",{ref:function(t){e.wrapper=t},_nk:"".concat(De,"21")},w.createElement("div",{key:"keeper-container",className:"ka-content"},w.createElement(Se,{id:t,bridgeProps:r,_nk:"".concat(De,"31")},w.createElement($,{value:this.contextValue,_nk:"".concat(De,"41")},w.Children.map(n,(function(e,t){return w.cloneElement(e,{key:"".concat(e.key||"",":").concat(o,":").concat(t)})})))))))}}]),t}(),je=["children"],Fe="UVSV",Be="drop",ze="refresh",Ge=function(){N(t,a.Component);var e=R(t);function t(){var a;S(this,t);for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];return C(I(a=e.call.apply(e,[this].concat(u))),"store",new Map),C(I(a),"nodes",new Map),C(I(a),"keepers",new Map),C(I(a),"debouncedForceUpdate",i((function(e){return a.forceUpdate(e)}))),C(I(a),"updateCallbackList",[]),C(I(a),"smartForceUpdate",(function(e){a.updateCallbackList.push(e),a.debouncedForceUpdate((function(){a.updateCallbackList.forEach((function(e){return o(e)})),a.updateCallbackList=[]}))})),C(I(a),"update",(function(e,t){return new Promise((function(n){var r=a.keepers.get(e),o=!r,i=Date.now(),s=a.nodes.get(e)||null;a.nodes.set(e,_(_({id:e,createTime:i,updateTime:i},s),t)),o?(a.helpers=_({},a.helpers),a.forceUpdate(n)):(i=t.children,s=t.bridgeProps,r.setState({children:i,bridgeProps:s},n))}))})),C(I(a),"keep",(function(e,t){return new Promise((function(n){a.update(e,_({id:e},t)).then((function(){n(a.store.get(e))}))}))})),C(I(a),"getCachingNodesByName",(function(e){return a.getCachingNodes().filter((function(t){return e instanceof RegExp?e.test(t.name):t.name===e}))})),C(I(a),"getScopeIds",(function(e){return n(e.map((function e(t){var n=r(a.getCache(t),"aliveNodesId",[]);return 0<n.size?[t,F(n).map(e)]:[t].concat(F(n))})))})),C(I(a),"dropById",(function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a.handleNodes.apply(a,[[e],Be].concat(n))})),C(I(a),"dropScopeByIds",(function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a.handleNodes.apply(a,[a.getScopeIds(e),Be].concat(n))})),C(I(a),"drop",(function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a.handleNodes.apply(a,[a.getCachingNodesByName(e).map((function(e){return e.id})),Be].concat(n))})),C(I(a),"dropScope",(function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a.dropScopeByIds.apply(a,[a.getCachingNodesByName(e).map((function(e){return e.id}))].concat(n))})),C(I(a),"refreshById",(function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a.handleNodes.apply(a,[[e],ze].concat(n))})),C(I(a),"refreshScopeByIds",(function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a.handleNodes.apply(a,[a.getScopeIds(e),ze].concat(n))})),C(I(a),"refresh",(function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a.handleNodes.apply(a,[a.getCachingNodesByName(e).map((function(e){return e.id})),ze].concat(n))})),C(I(a),"refreshScope",(function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a.refreshScopeByIds.apply(a,[a.getCachingNodesByName(e).map((function(e){return e.id}))].concat(n))})),C(I(a),"handleNodes",(function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Be,n=arguments.length,r=new Array(2<n?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return new Promise((function(n){var i=[];e.forEach((function(e){a.store.get(e)&&(e=a.keepers.get(e),i.push(e))})),0===i.length?n(!1):Promise.all(i.map((function(e){return o.apply(void 0,[e,t].concat(r))}))).then((function(e){return n(e.every(Boolean))}))}))})),C(I(a),"clear",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.handleNodes.apply(a,[a.getCachingNodes().map((function(e){return e.id})),Be].concat(t))})),C(I(a),"getCache",(function(e){return a.store.get(e)})),C(I(a),"getNode",(function(e){return a.nodes.get(e)})),C(I(a),"getCachingNodes",(function(){return F(a.nodes.values())})),C(I(a),"helpers",{keep:a.keep,update:a.update,drop:a.drop,dropScope:a.dropScope,dropById:a.dropById,dropScopeByIds:a.dropScopeByIds,refresh:a.refresh,refreshScope:a.refreshScope,refreshById:a.refreshById,refreshScopeByIds:a.refreshScopeByIds,getScopeIds:a.getScopeIds,clear:a.clear,getCache:a.getCache,getNode:a.getNode,getCachingNodes:a.getCachingNodes}),a}return T(t,[{key:"render",value:function(){var e=this,t=void 0===(t=this.props.children)?null:t;return w.createElement(Z,{value:this.helpers,_nk:"".concat(Fe,"11")},t,w.createElement("div",{style:{display:"none"},_nk:"".concat(Fe,"21")},F(this.nodes.values()).map((function(t){var n=t.children,r=O(t,je);return w.createElement(Le,M({key:r.id},r,{scope:e,store:e.store,keepers:e.keepers,ref:function(t){e.keepers.set(r.id,t)},_nk:"iAr".concat(Fe,"31")}),n)}))))}}]),t}();r(t,"document")&&(tt=o(t,"document.createElement","div"),s.createRoot?s.createRoot(tt).render(w.createElement(Ge,{_nk:"".concat(Fe,"41")})):s.render(w.createElement(Ge,{_nk:"".concat(Fe,"42")}),tt));var Ve=["id"],Ue=["id"],We=["forwardedRef"],Ze=["forwardedRef"],Ye="X7Aa";function He(e){return{drop:e.drop,dropScope:e.dropScope,refresh:e.refresh,refreshScope:e.refreshScope,clear:e.clear,getCachingNodes:e.getCachingNodes}}function Xe(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return!!h(e)&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight)}function Ke(e){return u(r(t,"document.querySelectorAll"))?[].concat(F(y(o(e,"querySelectorAll","*"),[])),[e]).filter(Xe):[]}var qe=["_helpers","id","children"],$e=["_helpers","id","name"],Je=r(t,"document.body"),Qe=r(t,"document.scrollingElement",r(t,"document.documentElement",{}));s=function(){N(r,a.Component);var e=R(r);function r(a){var s;return S(this,r),C(I(s=e.call(this,a)),"updateTimes",0),C(I(s),"errorTips",i((function(){var e=s.props.name;console.error("<KeepAlive ".concat((e=e)?'name="'.concat(e,'" '):"","/> Too many transient updates, may have encountered an infinite loop of updates, forced to pause the update\nThere are serious performance issues with the update results you are currently seeing\nMay encounter an implied bug, please don't use KeepAlive and contact the author to solve"))}),100)),C(I(s),"releaseUpdateTimes",i((function(){s.updateTimes=0}),16)),C(I(s),"needForceStopUpdate",(function(){var e=64<s.updateTimes;return e&&s.errorTips(),s.updateTimes++,s.releaseUpdateTimes(),e})),C(I(s),"id",null),C(I(s),"isKeepAlive",!0),C(I(s),"cached",!1),C(I(s),"inject",(function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=(r=s.props).id,n=r.saveScrollPosition,r=r._helpers.getCache(t);try{r.nodes.forEach((function(e){s.placeholder.appendChild(e)})),e&&n&&o(r.revertScrollPos)}catch(e){}})),C(I(s),"eject",(function(){var e,r=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],i=(u=s.props).id,a=u._helpers.getCache(i),u=n(n([s.props.saveScrollPosition]).map((function(e){return!0===e?a.nodes:"screen"===e?[Qe,Je]:F(y(o(t,"document.querySelectorAll",e),[]))}))).filter(Boolean);try{r&&0<u.length&&(a.revertScrollPos=(e=F(new Set(F(n(u.map(Ke))))).map((function(e){return[e,{x:e.scrollLeft,y:e.scrollTop}]})),function(){e.forEach((function(e){var t=(e=L(e,2))[0],n=(e=e[1]).x;e=e.y,t.scrollLeft=n,t.scrollTop=e}))})),a.nodes.forEach((function(e){r?s.placeholder.removeChild(e):a.wrapper.appendChild(e)}))}catch(e){}})),C(I(s),"init",(function(){var e=(r=s.props)._helpers,t=r.id,n=r.children,r=O(r,qe);e.keep(t,_({children:n,getInstance:function(){return I(s)}},r)).then((function(e){e&&(s.inject(),e.inited?o(I(s),Ae):e.inited=!0,s.cached=!1)}))})),C(I(s),"update",(function(){var e=(r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})._helpers,t=r.id,n=r.name,r=O(r,$e);!e||s.cached||s.needForceStopUpdate(n)||e.update(t,_({name:n,getInstance:function(){return I(s)}},r))})),s.id=a.id,s.init(),[Ae,Pe].forEach((function(e){s[e]=function(){var t,n=(t=s.props).id,r=(t=t._helpers).getCache(n);(t=t.getNode(n))&&e===Ae&&(t.updateTime=Date.now()),n=e===Pe,!r||r.willDrop?s.cached&&!n&&s.init():(o(r,e),r.cached=n,s.cached=n)}})),s}return T(r,[{key:"shouldComponentUpdate",value:function(e){return this.update(e),!1}},{key:"componentWillUnmount",value:function(){var e=(n=this.props).id,t=n._helpers,n=void 0===(n=n.when)||n,r=t.getCache(e);n=o(n);var i=(n=L(b(n)?n:[n],2))[0];n=n[1],r&&(this.eject(),delete r.getInstance,i||(n?([r].concat(F(t.getScopeIds([e]).map((function(e){return t.getCache(e)})))).filter(Boolean).forEach((function(e){e.willDrop=!0})),f((function(){return t.dropScopeByIds([e])}))):(r.willDrop=!0,f((function(){return t.dropById(e)})))),o(this,Pe))}},{key:"render",value:function(){var e=this;return w.createElement("div",{key:"keep-alive-placeholder",className:"ka-wrapper",ref:function(t){e.placeholder=t}})}}]),r}(),C(s,"defaultProps",{saveScrollPosition:!0});var et,tt=u(r(t,"document.getElementById"))?(et=Te(s),u(a.useContext)?function(e){var t=e.id;return e=O(e,Ve),nt({idPrefix:t,helpers:W(),props:e})}:function(e){var t=e.id,n=O(e,Ue);return w.createElement(Y,{_nk:"".concat(Ye,"41")},(function(e){return nt({idPrefix:t,helpers:e,props:n})}))}):function(e){return e=e.children,w.createElement("div",{key:"keep-alive-placeholder",className:"ka-wrapper"},w.createElement("div",{key:"keeper-container",className:"ka-content"},e))};function nt(e){var t=e.idPrefix,n=e.helpers,o=e.props;return(e=g(n))&&console.error("You should not use <KeepAlive /> outside a <AliveScope>"),e?r(o,"children",null):w.createElement(x,{prefix:t,key:o._nk,_nk:"".concat(Ye,"11")},(function(e){return w.createElement(ke,{key:e,id:e,_nk:"".concat(Ye,"21")},(function(t){return w.createElement(et,M({key:e},o,t,{id:e,_helpers:n,_nk:"".concat(Ye,"31")}))}))}))}e.AliveScope=Ge,e.KeepAlive=tt,e.NodeKey=x,e.autoFixContext=ie,e.createContext=function(e,t){return e=c(e,t),le(e),e},e.default=tt,e.fixContext=le,e.useActivate=p,e.useAliveController=function(){if(!u(a.useContext))return{};var e=W();return e?He(e):{}},e.useUnactivate=Oe,e.withActivation=Te,e.withAliveScope=function(e){function t(t){var n=t.helpers,r=t.props;return t=t.forwardedRef,w.createElement(e,M({},r,n,{ref:t,_nk:"".concat(Ye,"51")}))}var n=u(a.useContext)?function(e){var n=e.forwardedRef;return e=O(e,We),t({helpers:He(W()||{}),props:e,forwardedRef:n})}:function(e){var n=e.forwardedRef,r=O(e,Ze);return w.createElement(Y,{_nk:"".concat(Ye,"42")},(function(){return t({helpers:He(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),props:r,forwardedRef:n})}))};return u(a.forwardRef)?m(a.forwardRef((function(e,t){return w.createElement(n,M({},e,{forwardedRef:t,_nk:"".concat(Ye,"61")}))})),e):m(n,e)},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(3438),n(8410),n(2520),n(5710),n(9648),n(2791),n(4164),n(546),n(6904),n(937),n(2357),n(9731),n(7231),n(2572),n(1918),n(7675),n(2110),n(96),n(9332),n(7306))},5499:function(e,t,n){"use strict";t.__esModule=!0;var r=n(2791),o=(a(r),a(n(2007))),i=a(n(6264));a(n(2391));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=1073741823;function f(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}t.default=function(e,t){var n,a,d="__create-react-context-"+(0,i.default)()+"__",h=function(e){function n(){var t,r;s(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=r=u(this,e.call.apply(e,[this].concat(i))),r.emitter=f(r.props.value),u(r,t)}return c(n,e),n.prototype.getChildContext=function(){var e;return(e={})[d]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,o=void 0;((i=n)===(a=r)?0!==i||1/i===1/a:i!==i&&a!==a)?o=0:(o="function"===typeof t?t(n,r):l,0!==(o|=0)&&this.emitter.set(e.value,o))}var i,a},n.prototype.render=function(){return this.props.children},n}(r.Component);h.childContextTypes=((n={})[d]=o.default.object.isRequired,n);var p=function(t){function n(){var e,r;s(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=r=u(this,t.call.apply(t,[this].concat(i))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!==((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},u(r,e)}return c(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?l:t},n.prototype.componentDidMount=function(){this.context[d]&&this.context[d].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?l:e},n.prototype.componentWillUnmount=function(){this.context[d]&&this.context[d].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[d]?this.context[d].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return p.contextTypes=((a={})[d]=o.default.object,a),{Provider:h,Consumer:p}},e.exports=t.default},6904:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(2791)),o=i(n(5499));function i(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.createContext||o.default,e.exports=t.default},4463:function(e,t,n){"use strict";var r=n(2791),o=n(1725),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},g={};function v(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,n,r){var o=m.hasOwnProperty(t)?m[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!h.call(g,e)||!h.call(p,e)&&(d.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,_=60106,S=60107,k=60108,T=60114,C=60109,M=60110,N=60112,A=60113,P=60120,O=60115,I=60116,D=60121,R=60128,L=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var B=Symbol.for;E=B("react.element"),_=B("react.portal"),S=B("react.fragment"),k=B("react.strict_mode"),T=B("react.profiler"),C=B("react.provider"),M=B("react.context"),N=B("react.forward_ref"),A=B("react.suspense"),P=B("react.suspense_list"),O=B("react.memo"),I=B("react.lazy"),D=B("react.block"),B("react.scope"),R=B("react.opaque.id"),L=B("react.debug_trace_mode"),j=B("react.offscreen"),F=B("react.legacy_hidden")}var z,G="function"===typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=G&&e[G]||e["@@iterator"])?e:null}function U(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var W=!1;function Z(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var o=u.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s])return"\n"+o[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function Y(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=Z(e.type,!1);case 11:return e=Z(e.type.render,!1);case 22:return e=Z(e.type._render,!1);case 1:return e=Z(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case T:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case M:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return H(e.type);case D:return H(e._render);case I:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function X(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=X(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=X(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&oe(e,t.type,X(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function oe(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ie(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+X(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:X(n)}}function ce(e,t){var n=X(t.value),r=X(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ge,ve,me=(ve=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((ge=ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(be).forEach((function(e){xe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var _e=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Me=null,Ne=null;function Ae(e){if(e=ro(e)){if("function"!==typeof Ce)throw Error(a(280));var t=e.stateNode;t&&(t=io(t),Ce(e.stateNode,e.type,t))}}function Pe(e){Me?Ne?Ne.push(e):Ne=[e]:Me=e}function Oe(){if(Me){var e=Me,t=Ne;if(Ne=Me=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Ie(e,t){return e(t)}function De(e,t,n,r,o){return e(t,n,r,o)}function Re(){}var Le=Ie,je=!1,Fe=!1;function Be(){null===Me&&null===Ne||(Re(),Oe())}function ze(e,t){var n=e.stateNode;if(null===n)return null;var r=io(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ge=!1;if(f)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){Ge=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(ve){Ge=!1}function Ue(e,t,n,r,o,i,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,Ze=null,Ye=!1,He=null,Xe={onError:function(e){We=!0,Ze=e}};function Ke(e,t,n,r,o,i,a,s,u){We=!1,Ze=null,Ue.apply(Xe,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(qe(e)!==e)throw Error(a(188))}function Qe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Je(o),e;if(i===r)return Je(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,ot,it=!1,at=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,o){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:o,targetContainers:[r]}}function gt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function vt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e=pt(t,n,r,o,i),null!==t&&(null!==(t=ro(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function mt(e){var t=no(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void ot(e.lanePriority,(function(){i.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ro(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function xt(){for(it=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ro(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==ct&&yt(ct)&&(ct=null),lt.forEach(bt),ft.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,xt)))}function Et(e){function t(t){return wt(t,e)}if(0<at.length){wt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)mt(n),null===n.blockedOn&&dt.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},kt={},Tt={};function Ct(e){if(kt[e])return kt[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return kt[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Mt=Ct("animationend"),Nt=Ct("animationiteration"),At=Ct("animationstart"),Pt=Ct("transitionend"),Ot=new Map,It=new Map,Dt=["abort","abort",Mt,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Rt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),It.set(r,t),Ot.set(r,o),c(o,[r])}}(0,i.unstable_now)();var Lt=8;function jt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,o=0,i=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==i)r=i,o=Lt=15;else if(0!==(i=134217727&n)){var u=i&~a;0!==u?(r=jt(u),o=Lt):0!==(s&=i)&&(r=jt(s),o=Lt)}else 0!==(i=n&~a)?(r=jt(i),o=Lt):0!==s&&(r=jt(s),o=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(jt(t),o<=Lt)return t;Lt=o}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-Wt(t)),r|=e[n],t&=~o;return r}function Bt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function zt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Gt(24&~t))?zt(10,t):e;case 10:return 0===(e=Gt(192&~t))?zt(8,t):e;case 8:return 0===(e=Gt(3584&~t))&&(0===(e=Gt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Gt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Gt(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ut(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Zt(e)/Yt|0)|0},Zt=Math.log,Yt=Math.LN2;var Ht=i.unstable_UserBlockingPriority,Xt=i.unstable_runWithPriority,Kt=!0;function qt(e,t,n,r){je||Re();var o=Jt,i=je;je=!0;try{De(o,e,t,n,r)}finally{(je=i)||Be()}}function $t(e,t,n,r){Xt(Ht,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var o;if(Kt)if((o=0===(4&t))&&0<at.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var i=Qt(e,t,n,r);if(null===i)o&&gt(e,r);else{if(o){if(-1<ht.indexOf(e))return e=pt(i,e,t,n,r),void at.push(e);if(function(e,t,n,r,o){switch(t){case"focusin":return st=vt(st,e,t,n,r,o),!0;case"dragenter":return ut=vt(ut,e,t,n,r,o),!0;case"mouseover":return ct=vt(ct,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return lt.set(i,vt(lt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,ft.set(i,vt(ft.get(i)||null,e,t,n,r,o)),!0}return!1}(i,e,t,n,r))return;gt(e,r)}Rr(e,t,r,null,n)}}}function Qt(e,t,n,r){var o=Te(r);if(null!==(o=no(o))){var i=qe(o);if(null===i)o=null;else{var a=i.tag;if(13===a){if(null!==(o=$e(i)))return o;o=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null)}}return Rr(e,t,r,o,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,o="value"in en?en.value:en.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return nn=o.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function un(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?an:sn,this.isPropagationStopped=sn,this}return o(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,ln,fn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=un(dn),pn=o({},dn,{view:0,detail:0}),gn=un(pn),vn=o({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=un(vn),yn=un(o({},vn,{dataTransfer:0})),bn=un(o({},pn,{relatedTarget:0})),xn=un(o({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=o({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=un(wn),_n=un(o({},dn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Mn(){return Cn}var Nn=o({},pn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=un(Nn),Pn=un(o({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=un(o({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn})),In=un(o({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=o({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=un(Dn),Ln=[9,13,27,32],jn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Bn=f&&"TextEvent"in window&&!Fn,zn=f&&(!jn||Fn&&8<Fn&&11>=Fn),Gn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Zn=!1;var Yn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Yn[e.type]:"textarea"===t}function Xn(e,t,n,r){Pe(r),0<(t=jr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,qn=null;function $n(e){Nr(e,0)}function Jn(e){if($(oo(e)))return e}function Qn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function or(){Kn&&(Kn.detachEvent("onpropertychange",ir),qn=Kn=null)}function ir(e){if("value"===e.propertyName&&Jn(qn)){var t=[];if(Xn(t,qn,e,Te(e)),e=$n,je)e(t);else{je=!0;try{Ie(e,t)}finally{je=!1,Be()}}}}function ar(e,t,n){"focusin"===e?(or(),qn=n,(Kn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&or()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(qn)}function ur(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function dr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function gr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?gr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,br=null,xr=null,wr=null,Er=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==br||br!==J(r)||("selectionStart"in(r=br)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&dr(wr,r)||(wr=r,0<(r=jr(xr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Rt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Rt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Rt(Dt,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),kr=0;kr<Sr.length;kr++)It.set(Sr[kr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,i,s,u,c){if(Ke.apply(this,arguments),We){if(!We)throw Error(a(198));var l=Ze;We=!1,Ze=null,Ye||(Ye=!0,He=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==i&&o.isPropagationStopped())break e;Mr(o,s,c),i=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==i&&o.isPropagationStopped())break e;Mr(o,s,c),i=u}}}if(Ye)throw e=He,Ye=!1,He=null,e}function Ar(e,t){var n=ao(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Pr]||(e[Pr]=!0,s.forEach((function(t){Cr.has(t)||Ir(t,!1,e,null),Ir(t,!0,e,null)})))}function Ir(e,t,n,r){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=n;if("selectionchange"===e&&9!==n.nodeType&&(i=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;o|=2,i=r}var a=ao(i),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(o|=4),Dr(i,e,o,t),a.add(s))}function Dr(e,t,n,r){var o=It.get(t);switch(void 0===o?2:o){case 0:o=qt;break;case 1:o=$t;break;default:o=Jt}n=o.bind(null,t,n,e),o=void 0,!Ge||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Rr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===o||8===u.nodeType&&u.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=no(s)))return;if(5===(u=a.tag)||6===u){r=i=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Le(e,t,n)}finally{Fe=!1,Be()}}((function(){var r=i,o=Te(n),a=[];e:{var s=Ot.get(e);if(void 0!==s){var u=hn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case Mt:case Nt:case At:u=xn;break;case Pt:u=In;break;case"scroll":u=gn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Pn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==d&&(null!=(g=ze(p,d))&&l.push(Lr(p,g,h)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,o),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!no(c)&&!c[eo])&&(u||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?no(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=mn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Pn,g="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:oo(u),h=null==c?s:oo(c),(s=new l(g,p+"leave",u,n,o)).target=f,s.relatedTarget=h,g=null,no(o)===r&&((l=new l(d,p+"enter",c,n,o)).target=h,l.relatedTarget=f,g=l),f=g,u&&c)e:{for(d=c,p=0,h=l=u;h;h=Fr(h))p++;for(h=0,g=d;g;g=Fr(g))h++;for(;0<p-h;)l=Fr(l),p--;for(;0<h-p;)d=Fr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Fr(l),d=Fr(d)}l=null}else l=null;null!==u&&Br(a,s,u,l,!1),null!==c&&null!==f&&Br(a,f,c,l,!0)}if("select"===(u=(s=r?oo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Qn;else if(Hn(s))if(er)v=cr;else{v=sr;var m=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ur);switch(v&&(v=v(e,r))?Xn(a,v,n,o):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&oe(s,"number",s.value)),m=r?oo(r):window,e){case"focusin":(Hn(m)||"true"===m.contentEditable)&&(br=m,xr=r,wr=null);break;case"focusout":wr=xr=br=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,_r(a,n,o);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":_r(a,n,o)}var y;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(zn&&"ko"!==n.locale&&(Zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Zn&&(y=rn()):(tn="value"in(en=o)?en.value:en.textContent,Zn=!0)),0<(m=jr(r,b)).length&&(b=new _n(b,e,null,n,o),a.push({event:b,listeners:m}),y?b.data=y:null!==(y=Wn(n))&&(b.data=y))),(y=Bn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Gn);case"textInput":return(e=t.data)===Gn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Zn)return"compositionend"===e||!jn&&Un(e,t)?(e=rn(),nn=tn=en=null,Zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(o=new _n("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=y))}Nr(a,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=ze(e,n))&&r.unshift(Lr(e,i,o)),null!=(i=ze(e,t))&&r.push(Lr(e,i,o))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Br(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(u=ze(n,i))&&a.unshift(Lr(n,u,s)):o||null!=(u=ze(n,i))&&a.push(Lr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function zr(){}var Gr=null,Vr=null;function Ur(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zr="function"===typeof setTimeout?setTimeout:void 0,Yr="function"===typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Xr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var qr=0;var $r=Math.random().toString(36).slice(2),Jr="__reactFiber$"+$r,Qr="__reactProps$"+$r,eo="__reactContainer$"+$r,to="__reactEvents$"+$r;function no(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[eo]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Kr(e);null!==e;){if(n=e[Jr])return n;e=Kr(e)}return t}n=(e=n).parentNode}return null}function ro(e){return!(e=e[Jr]||e[eo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function oo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function io(e){return e[Qr]||null}function ao(e){var t=e[to];return void 0===t&&(t=e[to]=new Set),t}var so=[],uo=-1;function co(e){return{current:e}}function lo(e){0>uo||(e.current=so[uo],so[uo]=null,uo--)}function fo(e,t){uo++,so[uo]=e.current,e.current=t}var ho={},po=co(ho),go=co(!1),vo=ho;function mo(e,t){var n=e.type.contextTypes;if(!n)return ho;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function yo(e){return null!==(e=e.childContextTypes)&&void 0!==e}function bo(){lo(go),lo(po)}function xo(e,t,n){if(po.current!==ho)throw Error(a(168));fo(po,t),fo(go,n)}function wo(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(a(108,H(t)||"Unknown",i));return o({},n,r)}function Eo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ho,vo=po.current,fo(po,e),fo(go,go.current),!0}function _o(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=wo(e,t,vo),r.__reactInternalMemoizedMergedChildContext=e,lo(go),lo(po),fo(po,e)):lo(go),fo(go,n)}var So=null,ko=null,To=i.unstable_runWithPriority,Co=i.unstable_scheduleCallback,Mo=i.unstable_cancelCallback,No=i.unstable_shouldYield,Ao=i.unstable_requestPaint,Po=i.unstable_now,Oo=i.unstable_getCurrentPriorityLevel,Io=i.unstable_ImmediatePriority,Do=i.unstable_UserBlockingPriority,Ro=i.unstable_NormalPriority,Lo=i.unstable_LowPriority,jo=i.unstable_IdlePriority,Fo={},Bo=void 0!==Ao?Ao:function(){},zo=null,Go=null,Vo=!1,Uo=Po(),Wo=1e4>Uo?Po:function(){return Po()-Uo};function Zo(){switch(Oo()){case Io:return 99;case Do:return 98;case Ro:return 97;case Lo:return 96;case jo:return 95;default:throw Error(a(332))}}function Yo(e){switch(e){case 99:return Io;case 98:return Do;case 97:return Ro;case 96:return Lo;case 95:return jo;default:throw Error(a(332))}}function Ho(e,t){return e=Yo(e),To(e,t)}function Xo(e,t,n){return e=Yo(e),Co(e,t,n)}function Ko(){if(null!==Go){var e=Go;Go=null,Mo(e)}qo()}function qo(){if(!Vo&&null!==zo){Vo=!0;var e=0;try{var t=zo;Ho(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),zo=null}catch(n){throw null!==zo&&(zo=zo.slice(e+1)),Co(Io,Ko),n}finally{Vo=!1}}}var $o=w.ReactCurrentBatchConfig;function Jo(e,t){if(e&&e.defaultProps){for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Qo=co(null),ei=null,ti=null,ni=null;function ri(){ni=ti=ei=null}function oi(e){var t=Qo.current;lo(Qo),e.type._context._currentValue=t}function ii(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ai(e,t){ei=e,ni=ti=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ja=!0),e.firstContext=null)}function si(e,t){if(ni!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ni=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ti){if(null===ei)throw Error(a(308));ti=t,ei.dependencies={lanes:0,firstContext:t,responders:null}}else ti=ti.next=t;return e._currentValue}var ui=!1;function ci(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function li(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function di(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function hi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function pi(e,t,n,r){var i=e.updateQueue;ui=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==s&&(null===d?f.firstBaseUpdate=l:d.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(d=i.baseState,s=0,f=l=c=null;;){u=a.lane;var h=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(u=t,h=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(h,d,u);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=g.payload)?p.call(h,d,u):p)||void 0===u)break e;d=o({},d,u);break e;case 2:ui=!0}}null!==a.callback&&(e.flags|=32,null===(u=i.effects)?i.effects=[a]:u.push(a))}else h={eventTime:h,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=h,c=d):f=f.next=h,s|=u;if(null===(a=a.next)){if(null===(u=i.shared.pending))break;a=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}null===f&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=f,Gs|=s,e.lanes=s,e.memoizedState=d}}function gi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(a(191,o));o.call(r)}}}var vi=(new r.Component).refs;function mi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:o({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var yi={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=du(),o=hu(e),i=fi(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),di(e,i),pu(e,o,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=du(),o=hu(e),i=fi(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),di(e,i),pu(e,o,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=du(),r=hu(e),o=fi(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),di(e,o),pu(e,r,n)}};function bi(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(o,i))}function xi(e,t,n){var r=!1,o=ho,i=t.contextType;return"object"===typeof i&&null!==i?i=si(i):(o=yo(t)?vo:po.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?mo(e,o):ho),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function wi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yi.enqueueReplaceState(t,t.state,null)}function Ei(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=vi,ci(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=si(i):(i=yo(t)?vo:po.current,o.context=mo(e,i)),pi(e,n,o,r),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(mi(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&yi.enqueueReplaceState(o,o.state,null),pi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4)}var _i=Array.isArray;function Si(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;t===vi&&(t=r.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ki(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ti(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Yu(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=qu(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=Si(e,t,n),r.return=e,r):((r=Hu(n.type,n.key,n.props,null,e.mode,r)).ref=Si(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$u(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Xu(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=qu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Hu(t.type,t.key,t.props,null,e.mode,n)).ref=Si(e,null,t),n.return=e,n;case _:return(t=$u(t,e.mode,n)).return=e,t}if(_i(t)||V(t))return(t=Xu(t,e.mode,n,null)).return=e,t;ki(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==o?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===o?n.type===S?f(e,t,n.props.children,r,o):c(e,t,n,r):null;case _:return n.key===o?l(e,t,n,r):null}if(_i(n)||V(n))return null!==o?null:f(e,t,n,r,null);ki(e,n)}return null}function p(e,t,n,r,o){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===S?f(t,e,r.props.children,o,r.key):c(t,e,r,o);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(_i(r)||V(r))return f(t,e=e.get(n)||null,r,o,null);ki(t,r)}return null}function g(o,a,s,u){for(var c=null,l=null,f=a,g=a=0,v=null;null!==f&&g<s.length;g++){f.index>g?(v=f,f=null):v=f.sibling;var m=h(o,f,s[g],u);if(null===m){null===f&&(f=v);break}e&&f&&null===m.alternate&&t(o,f),a=i(m,a,g),null===l?c=m:l.sibling=m,l=m,f=v}if(g===s.length)return n(o,f),c;if(null===f){for(;g<s.length;g++)null!==(f=d(o,s[g],u))&&(a=i(f,a,g),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(o,f);g<s.length;g++)null!==(v=p(f,o,g,s[g],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),a=i(v,a,g),null===l?c=v:l.sibling=v,l=v);return e&&f.forEach((function(e){return t(o,e)})),c}function v(o,s,u,c){var l=V(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,g=s,v=s=0,m=null,y=u.next();null!==g&&!y.done;v++,y=u.next()){g.index>v?(m=g,g=null):m=g.sibling;var b=h(o,g,y.value,c);if(null===b){null===g&&(g=m);break}e&&g&&null===b.alternate&&t(o,g),s=i(b,s,v),null===f?l=b:f.sibling=b,f=b,g=m}if(y.done)return n(o,g),l;if(null===g){for(;!y.done;v++,y=u.next())null!==(y=d(o,y.value,c))&&(s=i(y,s,v),null===f?l=y:f.sibling=y,f=y);return l}for(g=r(o,g);!y.done;v++,y=u.next())null!==(y=p(g,o,v,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?v:y.key),s=i(y,s,v),null===f?l=y:f.sibling=y,f=y);return e&&g.forEach((function(e){return t(o,e)})),l}return function(e,r,i,u){var c="object"===typeof i&&null!==i&&i.type===S&&null===i.key;c&&(i=i.props.children);var l="object"===typeof i&&null!==i;if(l)switch(i.$$typeof){case E:e:{for(l=i.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(i.type===S){n(e,c.sibling),(r=o(c,i.props.children)).return=e,e=r;break e}}else if(c.elementType===i.type){n(e,c.sibling),(r=o(c,i.props)).ref=Si(e,c,i),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}i.type===S?((r=Xu(i.props.children,e.mode,u,i.key)).return=e,e=r):((u=Hu(i.type,i.key,i.props,null,e.mode,u)).ref=Si(e,r,i),u.return=e,e=u)}return s(e);case _:e:{for(c=i.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=o(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$u(i,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,i)).return=e,e=r):(n(e,r),(r=qu(i,e.mode,u)).return=e,e=r),s(e);if(_i(i))return g(e,r,i,u);if(V(i))return v(e,r,i,u);if(l&&ki(e,i),"undefined"===typeof i&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,H(e.type)||"Component"))}return n(e,r)}}var Ci=Ti(!0),Mi=Ti(!1),Ni={},Ai=co(Ni),Pi=co(Ni),Oi=co(Ni);function Ii(e){if(e===Ni)throw Error(a(174));return e}function Di(e,t){switch(fo(Oi,t),fo(Pi,e),fo(Ai,Ni),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}lo(Ai),fo(Ai,t)}function Ri(){lo(Ai),lo(Pi),lo(Oi)}function Li(e){Ii(Oi.current);var t=Ii(Ai.current),n=pe(t,e.type);t!==n&&(fo(Pi,e),fo(Ai,n))}function ji(e){Pi.current===e&&(lo(Ai),lo(Pi))}var Fi=co(0);function Bi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zi=null,Gi=null,Vi=!1;function Ui(e,t){var n=Wu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Wi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Zi(e){if(Vi){var t=Gi;if(t){var n=t;if(!Wi(e,t)){if(!(t=Xr(n.nextSibling))||!Wi(e,t))return e.flags=-1025&e.flags|2,Vi=!1,void(zi=e);Ui(zi,n)}zi=e,Gi=Xr(t.firstChild)}else e.flags=-1025&e.flags|2,Vi=!1,zi=e}}function Yi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;zi=e}function Hi(e){if(e!==zi)return!1;if(!Vi)return Yi(e),Vi=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Gi;t;)Ui(e,t),t=Xr(t.nextSibling);if(Yi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Gi=Xr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Gi=null}}else Gi=zi?Xr(e.stateNode.nextSibling):null;return!0}function Xi(){Gi=zi=null,Vi=!1}var Ki=[];function qi(){for(var e=0;e<Ki.length;e++)Ki[e]._workInProgressVersionPrimary=null;Ki.length=0}var $i=w.ReactCurrentDispatcher,Ji=w.ReactCurrentBatchConfig,Qi=0,ea=null,ta=null,na=null,ra=!1,oa=!1;function ia(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,o,i){if(Qi=i,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$i.current=null===e||null===e.memoizedState?Ia:Da,e=n(r,o),oa){i=0;do{if(oa=!1,!(25>i))throw Error(a(301));i+=1,na=ta=null,t.updateQueue=null,$i.current=Ra,e=n(r,o)}while(oa)}if($i.current=Oa,t=null!==ta&&null!==ta.next,Qi=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ca(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function la(e,t){return"function"===typeof t?t(e):t}function fa(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(null!==o){o=o.next,r=r.baseState;var u=s=i=null,c=o;do{var l=c.lane;if((Qi&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,i=r):u=u.next=f,ea.lanes|=l,Gs|=l}c=c.next}while(null!==c&&c!==o);null===u?i=r:u.next=s,lr(r,t.memoizedState)||(ja=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function da(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);lr(i,t.memoizedState)||(ja=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ha(e,t,n){var r=t._getVersion;r=r(t._source);var o=t._workInProgressVersionPrimary;if(null!==o?e=o===r:(e=e.mutableReadLanes,(e=(Qi&e)===e)&&(t._workInProgressVersionPrimary=r,Ki.push(t))),e)return n(t._source);throw Ki.push(t),Error(a(350))}function pa(e,t,n,r){var o=Is;if(null===o)throw Error(a(349));var i=t._getVersion,s=i(t._source),u=$i.current,c=u.useState((function(){return ha(o,t,n)})),l=c[1],f=c[0];c=na;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,g=d.source;d=d.subscribe;var v=ea;return e.memoizedState={refs:h,source:t,subscribe:r},u.useEffect((function(){h.getSnapshot=n,h.setSnapshot=l;var e=i(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=hu(v),o.mutableReadLanes|=e&o.pendingLanes),e=o.mutableReadLanes,o.entangledLanes|=e;for(var r=o.entanglements,a=e;0<a;){var u=31-Wt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=hu(v);o.mutableReadLanes|=r&o.pendingLanes}catch(i){n((function(){throw i}))}}))}),[t,r]),lr(p,n)&&lr(g,t)&&lr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:f}).dispatch=l=Pa.bind(null,ea,e),c.queue=e,c.baseQueue=null,f=ha(o,t,n),c.memoizedState=c.baseState=f),f}function ga(e,t,n){return pa(ca(),e,t,n)}function va(e){var t=ua();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Pa.bind(null,ea,e),[t.memoizedState,e]}function ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ya(e){return e={current:e},ua().memoizedState=e}function ba(){return ca().memoizedState}function xa(e,t,n,r){var o=ua();ea.flags|=e,o.memoizedState=ma(1|t,n,void 0,void 0===r?null:r)}function wa(e,t,n,r){var o=ca();r=void 0===r?null:r;var i=void 0;if(null!==ta){var a=ta.memoizedState;if(i=a.destroy,null!==r&&aa(r,a.deps))return void ma(t,n,i,r)}ea.flags|=e,o.memoizedState=ma(1|t,n,i,r)}function Ea(e,t){return xa(516,4,e,t)}function _a(e,t){return wa(516,4,e,t)}function Sa(e,t){return wa(4,2,e,t)}function ka(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ta(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,ka.bind(null,t,e),n)}function Ca(){}function Ma(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Na(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Aa(e,t){var n=Zo();Ho(98>n?98:n,(function(){e(!0)})),Ho(97<n?97:n,(function(){var n=Ji.transition;Ji.transition=1;try{e(!1),t()}finally{Ji.transition=n}}))}function Pa(e,t,n){var r=du(),o=hu(e),i={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===ea||null!==a&&a===ea)oa=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(i.eagerReducer=a,i.eagerState=u,lr(u,s))return}catch(c){}pu(e,o,r)}}var Oa={readContext:si,useCallback:ia,useContext:ia,useEffect:ia,useImperativeHandle:ia,useLayoutEffect:ia,useMemo:ia,useReducer:ia,useRef:ia,useState:ia,useDebugValue:ia,useDeferredValue:ia,useTransition:ia,useMutableSource:ia,useOpaqueIdentifier:ia,unstable_isNewReconciler:!1},Ia={readContext:si,useCallback:function(e,t){return ua().memoizedState=[e,void 0===t?null:t],e},useContext:si,useEffect:Ea,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xa(4,2,ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xa(4,2,e,t)},useMemo:function(e,t){var n=ua();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ua();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Pa.bind(null,ea,e),[r.memoizedState,e]},useRef:ya,useState:va,useDebugValue:Ca,useDeferredValue:function(e){var t=va(e),n=t[0],r=t[1];return Ea((function(){var t=Ji.transition;Ji.transition=1;try{r(e)}finally{Ji.transition=t}}),[e]),n},useTransition:function(){var e=va(!1),t=e[0];return ya(e=Aa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ua();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(Vi){var e=!1,t=function(e){return{$$typeof:R,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(qr++).toString(36))),Error(a(355))})),n=va(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ma(5,(function(){n("r:"+(qr++).toString(36))}),void 0,null)),t}return va(t="r:"+(qr++).toString(36)),t},unstable_isNewReconciler:!1},Da={readContext:si,useCallback:Ma,useContext:si,useEffect:_a,useImperativeHandle:Ta,useLayoutEffect:Sa,useMemo:Na,useReducer:fa,useRef:ba,useState:function(){return fa(la)},useDebugValue:Ca,useDeferredValue:function(e){var t=fa(la),n=t[0],r=t[1];return _a((function(){var t=Ji.transition;Ji.transition=1;try{r(e)}finally{Ji.transition=t}}),[e]),n},useTransition:function(){var e=fa(la)[0];return[ba().current,e]},useMutableSource:ga,useOpaqueIdentifier:function(){return fa(la)[0]},unstable_isNewReconciler:!1},Ra={readContext:si,useCallback:Ma,useContext:si,useEffect:_a,useImperativeHandle:Ta,useLayoutEffect:Sa,useMemo:Na,useReducer:da,useRef:ba,useState:function(){return da(la)},useDebugValue:Ca,useDeferredValue:function(e){var t=da(la),n=t[0],r=t[1];return _a((function(){var t=Ji.transition;Ji.transition=1;try{r(e)}finally{Ji.transition=t}}),[e]),n},useTransition:function(){var e=da(la)[0];return[ba().current,e]},useMutableSource:ga,useOpaqueIdentifier:function(){return da(la)[0]},unstable_isNewReconciler:!1},La=w.ReactCurrentOwner,ja=!1;function Fa(e,t,n,r){t.child=null===e?Mi(t,null,n,r):Ci(t,e.child,n,r)}function Ba(e,t,n,r,o){n=n.render;var i=t.ref;return ai(t,o),r=sa(e,t,n,r,i,o),null===e||ja?(t.flags|=1,Fa(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,is(e,t,o))}function za(e,t,n,r,o,i){if(null===e){var a=n.type;return"function"!==typeof a||Zu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ga(e,t,a,r,o,i))}return a=e.child,0===(o&i)&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:dr)(o,r)&&e.ref===t.ref)?is(e,t,i):(t.flags|=1,(e=Yu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ga(e,t,n,r,o,i){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(ja=!1,0===(i&o))return t.lanes=e.lanes,is(e,t,i);0!==(16384&e.flags)&&(ja=!0)}return Wa(e,t,n,r,i)}function Va(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Eu(t,n);else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Eu(t,e),null;t.memoizedState={baseLanes:0},Eu(t,null!==i?i.baseLanes:n)}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Eu(t,r);return Fa(e,t,o,n),t.child}function Ua(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wa(e,t,n,r,o){var i=yo(n)?vo:po.current;return i=mo(t,i),ai(t,o),n=sa(e,t,n,r,i,o),null===e||ja?(t.flags|=1,Fa(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,is(e,t,o))}function Za(e,t,n,r,o){if(yo(n)){var i=!0;Eo(t)}else i=!1;if(ai(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),xi(t,n,r),Ei(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=si(c):c=mo(t,c=yo(n)?vo:po.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&wi(t,a,r,c),ui=!1;var d=t.memoizedState;a.state=d,pi(t,r,a,o),u=t.memoizedState,s!==r||d!==u||go.current||ui?("function"===typeof l&&(mi(t,n,l,r),u=t.memoizedState),(s=ui||bi(t,n,s,r,d,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,li(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Jo(t.type,s),a.props=c,f=t.pendingProps,d=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=si(u):u=mo(t,u=yo(n)?vo:po.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||d!==u)&&wi(t,a,r,u),ui=!1,d=t.memoizedState,a.state=d,pi(t,r,a,o);var p=t.memoizedState;s!==f||d!==p||go.current||ui?("function"===typeof h&&(mi(t,n,h,r),p=t.memoizedState),(c=ui||bi(t,n,c,r,d,p,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Ya(e,t,n,r,i,o)}function Ya(e,t,n,r,o,i){Ua(e,t);var a=0!==(64&t.flags);if(!r&&!a)return o&&_o(t,n,!1),is(e,t,i);r=t.stateNode,La.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ci(t,e.child,null,i),t.child=Ci(t,null,s,i)):Fa(e,t,s,i),t.memoizedState=r.state,o&&_o(t,n,!0),t.child}function Ha(e){var t=e.stateNode;t.pendingContext?xo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&xo(0,t.context,!1),Di(e,t.containerInfo)}var Xa,Ka,qa,$a={dehydrated:null,retryLane:0};function Ja(e,t,n){var r,o=t.pendingProps,i=Fi.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(i|=1),fo(Fi,1&i),null===e?(void 0!==o.fallback&&Zi(t),e=o.children,i=o.fallback,a?(e=Qa(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$a,e):"number"===typeof o.unstable_expectedLoadTime?(e=Qa(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$a,t.lanes=33554432,e):((n=Ku({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(o=ts(e,t,o.children,o.fallback,n),a=t.child,i=e.child.memoizedState,a.memoizedState=null===i?{baseLanes:n}:{baseLanes:i.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=$a,o):(n=es(e,t,o.children,n),t.memoizedState=null,n))}function Qa(e,t,n,r){var o=e.mode,i=e.child;return t={mode:"hidden",children:t},0===(2&o)&&null!==i?(i.childLanes=0,i.pendingProps=t):i=Ku(t,o,0,null),n=Xu(n,o,r,null),i.return=e,n.return=e,i.sibling=n,e.child=i,n}function es(e,t,n,r){var o=e.child;return e=o.sibling,n=Yu(o,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,o){var i=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&i)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Yu(a,s),null!==e?r=Yu(e,r):(r=Xu(r,i,o,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ii(e.return,t)}function rs(e,t,n,r,o,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,lastEffect:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o,a.lastEffect=i)}function os(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Fa(e,t,r.children,n),0!==(2&(r=Fi.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fo(Fi,r),0===(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Bi(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),rs(t,!1,o,n,i,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Bi(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}rs(t,!0,n,null,i,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function is(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Gs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Yu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Yu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!Vi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yo(t.type)&&bo(),null;case 3:return Ri(),lo(go),lo(po),qi(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Hi(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:ji(t);var i=Ii(Oi.current);if(n=t.type,null!==e&&null!=t.stateNode)Ka(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Ii(Ai.current),Hi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Qr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Ar(Tr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":ue(r,s),Ar("invalid",r)}for(var c in Se(n,s),e=null,s)s.hasOwnProperty(c)&&(i=s[c],"children"===c?"string"===typeof i?r.textContent!==i&&(e=["children",i]):"number"===typeof i&&r.textContent!==""+i&&(e=["children",""+i]):u.hasOwnProperty(c)&&null!=i&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":q(r),re(r,s,!0);break;case"textarea":q(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=zr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===i.nodeType?i:i.ownerDocument,e===fe&&(e=he(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Qr]=r,Xa(e,t),t.stateNode=e,c=ke(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),i=r;break;case"iframe":case"object":case"embed":Ar("load",e),i=r;break;case"video":case"audio":for(i=0;i<Tr.length;i++)Ar(Tr[i],e);i=r;break;case"source":Ar("error",e),i=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),i=r;break;case"details":Ar("toggle",e),i=r;break;case"input":ee(e,r),i=Q(e,r),Ar("invalid",e);break;case"option":i=ie(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=o({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ue(e,r),i=se(e,r),Ar("invalid",e);break;default:i=r}Se(n,i);var l=i;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?Ee(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Ar("scroll",e):null!=f&&x(e,s,f,c))}switch(n){case"input":q(e),re(e,r,!1);break;case"textarea":q(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+X(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=zr)}Ur(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)qa(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Ii(Oi.current),Ii(Ai.current),Hi(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return lo(Fi),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Hi(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fi.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Is||0===(134217727&Gs)&&0===(134217727&Vs)||yu(Is,Rs))),(r||n)&&(t.flags|=4),null);case 4:return Ri(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return oi(t),null;case 19:if(lo(Fi),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)as(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Bi(e))){for(t.flags|=64,as(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fo(Fi,1&Fi.current|2),t.child}e=e.sibling}null!==r.tail&&Wo()>Ys&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Bi(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Vi)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Wo()-r.renderingStartTime>Ys&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Wo(),n.sibling=null,t=Fi.current,fo(Fi,s?1&t|2:1&t),n):null;case 23:case 24:return _u(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:yo(e.type)&&bo();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ri(),lo(go),lo(po),qi(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return ji(e),null;case 13:return lo(Fi),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return lo(Fi),null;case 4:return Ri(),null;case 10:return oi(e),null;case 23:case 24:return _u(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=Y(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Xa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ka=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ii(Ai.current);var a,s=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),s=[];break;case"option":i=ie(e,i),r=ie(e,r),s=[];break;case"select":i=o({},i,{value:void 0}),r=o({},r,{value:void 0}),s=[];break;case"textarea":i=se(e,i),r=se(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=zr)}for(f in Se(n,r),n=null,i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&null!=i[f])if("style"===f){var c=i[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=i?i[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===R?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},qa=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=fi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qs||(qs=!0,$s=r),ls(0,t)},n}function hs(e,t,n){(n=fi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return ls(0,t),r(o)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function gs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){zu(e,n)}else t.current=null}function vs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Jo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(a(163))}function ms(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var o=e;r=o.next,0!==(4&(o=o.tag))&&0!==(1&o)&&(ju(n,e),Lu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Jo(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&gi(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}gi(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ur(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(a(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=void 0!==o&&null!==o&&o.hasOwnProperty("display")?o.display:null,r.style.display=we("display",o)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(ko&&"function"===typeof ko.onCommitFiberUnmount)try{ko.onCommitFiberUnmount(So,t)}catch(i){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,o=r.destroy;if(r=r.tag,void 0!==o)if(0!==(4&r))ju(t,n);else{r=t;try{o()}catch(i){zu(r,i)}}n=n.next}while(n!==e)}break;case 1:if(gs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){zu(t,i)}break;case 5:gs(t);break;case 4:ks(e,t)}}function xs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function Es(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_s(e,n,t):Ss(e,n,t)}function _s(e,t,n){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=zr));else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Ss(e,t,n){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function ks(e,t){for(var n,r,o=t,i=!1;;){if(!i){i=o.return;e:for(;;){if(null===i)throw Error(a(160));switch(n=i.stateNode,i.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}i=i.return}i=!0}if(5===o.tag||6===o.tag){e:for(var s=e,u=o,c=u;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=o.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(bs(e,o),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(i=!1)}o.sibling.return=o.return,o=o.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var o=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[Qr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),ke(e,o),t=ke(e,r),o=0;o<i.length;o+=2){var s=i[o],u=i[o+1];"style"===s?Ee(n,u):"dangerouslySetInnerHTML"===s?me(n,u):"children"===s?ye(n,u):x(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(i=r.value)?ae(n,!!r.multiple,i,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(Zs=Wo(),ys(t.child,!0)),void Cs(t);case 19:return void Cs(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(a(163))}function Cs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Vu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ms(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,As=w.ReactCurrentDispatcher,Ps=w.ReactCurrentOwner,Os=0,Is=null,Ds=null,Rs=0,Ls=0,js=co(0),Fs=0,Bs=null,zs=0,Gs=0,Vs=0,Us=0,Ws=null,Zs=0,Ys=1/0;function Hs(){Ys=Wo()+500}var Xs,Ks=null,qs=!1,$s=null,Js=null,Qs=!1,eu=null,tu=90,nu=[],ru=[],ou=null,iu=0,au=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function du(){return 0!==(48&Os)?Wo():-1!==su?su:su=Wo()}function hu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Zo()?1:2;if(0===uu&&(uu=zs),0!==$o.transition){0!==cu&&(cu=null!==Ws?Ws.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Zo(),0!==(4&Os)&&98===e?e=zt(12,uu):e=zt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<iu)throw iu=0,au=null,Error(a(185));if(null===(e=gu(e,t)))return null;Ut(e,t,n),e===Is&&(Vs|=t,4===Fs&&yu(e,Rs));var r=Zo();1===t?0!==(8&Os)&&0===(48&Os)?bu(e):(vu(e,n),0===Os&&(Hs(),Ko())):(0===(4&Os)||98!==r&&99!==r||(null===ou?ou=new Set([e]):ou.add(e)),vu(e,n)),Ws=e}function gu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function vu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Wt(s),c=1<<u,l=i[u];if(-1===l){if(0===(c&r)||0!==(c&o)){l=t,jt(c);var f=Lt;i[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Is?Rs:0),t=Lt,0===r)null!==n&&(n!==Fo&&Mo(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fo&&Mo(n)}15===t?(n=bu.bind(null,e),null===zo?(zo=[n],Go=Co(Io,qo)):zo.push(n),n=Fo):14===t?n=Xo(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Xo(n,mu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function mu(e){if(su=-1,cu=uu=0,0!==(48&Os))throw Error(a(327));var t=e.callbackNode;if(Ru()&&e.callbackNode!==t)return null;var n=Ft(e,e===Is?Rs:0);if(0===n)return null;var r=n,o=Os;Os|=16;var i=Tu();for(Is===e&&Rs===r||(Hs(),Su(e,r));;)try{Nu();break}catch(u){ku(e,u)}if(ri(),As.current=i,Os=o,null!==Ds?r=0:(Is=null,Rs=0,r=Fs),0!==(zs&Vs))Su(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Bt(e))&&(r=Cu(e,n))),1===r)throw t=Bs,Su(e,0),yu(e,n),vu(e,Wo()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Ou(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Zs+500-Wo())){if(0!==Ft(e,0))break;if(((o=e.suspendedLanes)&n)!==n){du(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Zr(Ou.bind(null,e),r);break}Ou(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,o=-1;0<n;){var s=31-Wt(n);i=1<<s,(s=r[s])>o&&(o=s),n&=~i}if(n=o,10<(n=(120>(n=Wo()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=Zr(Ou.bind(null,e),n);break}Ou(e);break;default:throw Error(a(329))}}return vu(e,Wo()),e.callbackNode===t?mu.bind(null,e):null}function yu(e,t){for(t&=~Us,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&Os))throw Error(a(327));if(Ru(),e===Is&&0!==(e.expiredLanes&Rs)){var t=Rs,n=Cu(e,t);0!==(zs&Vs)&&(n=Cu(e,t=Ft(e,t)))}else n=Cu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Bt(e))&&(n=Cu(e,t))),1===n)throw n=Bs,Su(e,0),yu(e,t),vu(e,Wo()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ou(e),vu(e,Wo()),null}function xu(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(Hs(),Ko())}}function wu(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(Hs(),Ko())}}function Eu(e,t){fo(js,Ls),Ls|=t,zs|=t}function _u(){Ls=js.current,lo(js)}function Su(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Yr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&bo();break;case 3:Ri(),lo(go),lo(po),qi();break;case 5:ji(r);break;case 4:Ri();break;case 13:case 19:lo(Fi);break;case 10:oi(r);break;case 23:case 24:_u()}n=n.return}Is=e,Ds=Yu(e.current,null),Rs=Ls=zs=t,Fs=0,Bs=null,Us=Vs=Gs=0}function ku(e,t){for(;;){var n=Ds;try{if(ri(),$i.current=Oa,ra){for(var r=ea.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ra=!1}if(Qi=0,na=ta=ea=null,oa=!1,Ps.current=null,null===n||null===n.return){Fs=1,Bs=t,Ds=null;break}e:{var i=e,a=n.return,s=n,u=t;if(t=Rs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Fi.current),d=a;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var g=d.memoizedProps;h=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!f)}}if(h){var v=d.updateQueue;if(null===v){var m=new Set;m.add(c),d.updateQueue=m}else v.add(c);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=fi(-1,1);y.tag=2,di(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=i.pingCache;if(null===b?(b=i.pingCache=new fs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var x=Gu.bind(null,i,c,s);c.then(x,x)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);u=Error((H(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),d=a;do{switch(d.tag){case 3:i=u,d.flags|=4096,t&=-t,d.lanes|=t,hi(d,ds(0,i,t));break e;case 1:i=u;var w=d.type,E=d.stateNode;if(0===(64&d.flags)&&("function"===typeof w.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Js||!Js.has(E)))){d.flags|=4096,t&=-t,d.lanes|=t,hi(d,hs(d,i,t));break e}}d=d.return}while(null!==d)}Pu(n)}catch(_){t=_,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Tu(){var e=As.current;return As.current=Oa,null===e?Oa:e}function Cu(e,t){var n=Os;Os|=16;var r=Tu();for(Is===e&&Rs===t||Su(e,t);;)try{Mu();break}catch(o){ku(e,o)}if(ri(),Os=n,As.current=r,null!==Ds)throw Error(a(261));return Is=null,Rs=0,Fs}function Mu(){for(;null!==Ds;)Au(Ds)}function Nu(){for(;null!==Ds&&!No();)Au(Ds)}function Au(e){var t=Xs(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Pu(e):Ds=t,Ps.current=null}function Pu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ls)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ls)||0===(4&n.mode)){for(var r=0,o=n.child;null!==o;)r|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Fs&&(Fs=5)}function Ou(e){var t=Zo();return Ho(99,Iu.bind(null,e,t)),null}function Iu(e,t){do{Ru()}while(null!==eu);if(0!==(48&Os))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,o=r,i=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<i;){var c=31-Wt(i),l=1<<c;o[c]=0,s[c]=-1,u[c]=-1,i&=~l}if(null!==ou&&0===(24&r)&&ou.has(e)&&ou.delete(e),e===Is&&(Ds=Is=null,Rs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(o=Os,Os|=32,Ps.current=null,Gr=Kt,mr(s=vr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,i=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(T){u=null;break e}var f=0,d=-1,h=-1,p=0,g=0,v=s,m=null;t:for(;;){for(var y;v!==u||0!==i&&3!==v.nodeType||(d=f+i),v!==c||0!==l&&3!==v.nodeType||(h=f+l),3===v.nodeType&&(f+=v.nodeValue.length),null!==(y=v.firstChild);)m=v,v=y;for(;;){if(v===s)break t;if(m===u&&++p===i&&(d=f),m===c&&++g===l&&(h=f),null!==(y=v.nextSibling))break;m=(v=m).parentNode}v=y}u=-1===d||-1===h?null:{start:d,end:h}}else u=null;u=u||{start:0,end:0}}else u=null;Vr={focusedElem:s,selectionRange:u},Kt=!1,lu=null,fu=!1,Ks=r;do{try{Du()}catch(T){if(null===Ks)throw Error(a(330));zu(Ks,T),Ks=Ks.nextEffect}}while(null!==Ks);lu=null,Ks=r;do{try{for(s=e;null!==Ks;){var b=Ks.flags;if(16&b&&ye(Ks.stateNode,""),128&b){var x=Ks.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:Es(Ks),Ks.flags&=-3;break;case 6:Es(Ks),Ks.flags&=-3,Ts(Ks.alternate,Ks);break;case 1024:Ks.flags&=-1025;break;case 1028:Ks.flags&=-1025,Ts(Ks.alternate,Ks);break;case 4:Ts(Ks.alternate,Ks);break;case 8:ks(s,u=Ks);var E=u.alternate;xs(u),null!==E&&xs(E)}Ks=Ks.nextEffect}}catch(T){if(null===Ks)throw Error(a(330));zu(Ks,T),Ks=Ks.nextEffect}}while(null!==Ks);if(w=Vr,x=vr(),b=w.focusedElem,s=w.selectionRange,x!==b&&b&&b.ownerDocument&&gr(b.ownerDocument.documentElement,b)){null!==s&&mr(b)&&(x=s.start,void 0===(w=s.end)&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!w.extend&&E>s&&(u=s,s=E,E=u),u=pr(b,E),i=pr(b,s),u&&i&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==i.node||w.focusOffset!==i.offset)&&((x=x.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),E>s?(w.addRange(x),w.extend(i.node,i.offset)):(x.setEnd(i.node,i.offset),w.addRange(x))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)(w=x[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Kt=!!Gr,Vr=Gr=null,e.current=n,Ks=r;do{try{for(b=e;null!==Ks;){var _=Ks.flags;if(36&_&&ms(b,Ks.alternate,Ks),128&_){x=void 0;var S=Ks.ref;if(null!==S){var k=Ks.stateNode;Ks.tag,x=k,"function"===typeof S?S(x):S.current=x}}Ks=Ks.nextEffect}}catch(T){if(null===Ks)throw Error(a(330));zu(Ks,T),Ks=Ks.nextEffect}}while(null!==Ks);Ks=null,Bo(),Os=o}else e.current=n;if(Qs)Qs=!1,eu=e,tu=t;else for(Ks=r;null!==Ks;)t=Ks.nextEffect,Ks.nextEffect=null,8&Ks.flags&&((_=Ks).sibling=null,_.stateNode=null),Ks=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===au?iu++:(iu=0,au=e):iu=0,n=n.stateNode,ko&&"function"===typeof ko.onCommitFiberRoot)try{ko.onCommitFiberRoot(So,n,void 0,64===(64&n.current.flags))}catch(T){}if(vu(e,Wo()),qs)throw qs=!1,e=$s,$s=null,e;return 0!==(8&Os)||Ko(),null}function Du(){for(;null!==Ks;){var e=Ks.alternate;fu||null===lu||(0!==(8&Ks.flags)?et(Ks,lu)&&(fu=!0):13===Ks.tag&&Ms(e,Ks)&&et(Ks,lu)&&(fu=!0));var t=Ks.flags;0!==(256&t)&&vs(e,Ks),0===(512&t)||Qs||(Qs=!0,Xo(97,(function(){return Ru(),null}))),Ks=Ks.nextEffect}}function Ru(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ho(e,Fu)}return!1}function Lu(e,t){nu.push(t,e),Qs||(Qs=!0,Xo(97,(function(){return Ru(),null})))}function ju(e,t){ru.push(t,e),Qs||(Qs=!0,Xo(97,(function(){return Ru(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Os))throw Error(a(331));var t=Os;Os|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var o=n[r],i=n[r+1],s=o.destroy;if(o.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===i)throw Error(a(330));zu(i,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){o=n[r],i=n[r+1];try{var u=o.create;o.destroy=u()}catch(c){if(null===i)throw Error(a(330));zu(i,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Os=t,Ko(),!0}function Bu(e,t,n){di(e,t=ds(0,t=cs(n,t),1)),t=du(),null!==(e=gu(e,1))&&(Ut(e,1,t),vu(e,t))}function zu(e,t){if(3===e.tag)Bu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Bu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var o=hs(n,e=cs(t,e),1);if(di(n,o),o=du(),null!==(n=gu(n,1)))Ut(n,1,o),vu(n,o);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(i){}break}}n=n.return}}function Gu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=du(),e.pingedLanes|=e.suspendedLanes&n,Is===e&&(Rs&n)===n&&(4===Fs||3===Fs&&(62914560&Rs)===Rs&&500>Wo()-Zs?Su(e,0):Us|=n),vu(e,t)}function Vu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Zo()?1:2:(0===uu&&(uu=zs),0===(t=Gt(62914560&~uu))&&(t=4194304))),n=du(),null!==(e=gu(e,t))&&(Ut(e,t,n),vu(e,n))}function Uu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wu(e,t,n,r){return new Uu(e,t,n,r)}function Zu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Yu(e,t){var n=e.alternate;return null===n?((n=Wu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hu(e,t,n,r,o,i){var s=2;if(r=e,"function"===typeof e)Zu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Xu(n.children,o,i,t);case L:s=8,o|=16;break;case k:s=8,o|=1;break;case T:return(e=Wu(12,n,t,8|o)).elementType=T,e.type=T,e.lanes=i,e;case A:return(e=Wu(13,n,t,o)).type=A,e.elementType=A,e.lanes=i,e;case P:return(e=Wu(19,n,t,o)).elementType=P,e.lanes=i,e;case j:return Ku(n,o,i,t);case F:return(e=Wu(24,n,t,o)).elementType=F,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case M:s=9;break e;case N:s=11;break e;case O:s=14;break e;case I:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Wu(s,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function Xu(e,t,n,r){return(e=Wu(7,e,r,t)).lanes=n,e}function Ku(e,t,n,r){return(e=Wu(23,e,r,t)).elementType=j,e.lanes=n,e}function qu(e,t,n){return(e=Wu(6,e,null,t)).lanes=n,e}function $u(e,t,n){return(t=Wu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function Qu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var o=t.current,i=du(),s=hu(o);e:if(n){t:{if(qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yo(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(yo(c)){n=wo(n,c,u);break e}}n=u}else n=ho;return null===t.context?t.context=n:t.pendingContext=n,(t=fi(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),di(o,t),pu(o,s,i),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function oc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Wu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ci(t),e[eo]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var o=(t=r[e])._getVersion;o=o(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=n}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i._internalRoot;if("function"===typeof o){var s=o;o=function(){var e=tc(a);s.call(e)}}ec(t,a,e,o)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new oc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=i._internalRoot,"function"===typeof o){var u=o;o=function(){var e=tc(a);u.call(e)}}wu((function(){ec(t,a,e,o)}))}return tc(a)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(a(200));return Qu(e,t,null,n)}Xs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||go.current)ja=!0;else{if(0===(n&r)){switch(ja=!1,t.tag){case 3:Ha(t),Xi();break;case 5:Li(t);break;case 1:yo(t.type)&&Eo(t);break;case 4:Di(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var o=t.type._context;fo(Qo,o._currentValue),o._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ja(e,t,n):(fo(Fi,1&Fi.current),null!==(t=is(e,t,n))?t.sibling:null);fo(Fi,1&Fi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return os(e,t,n);t.flags|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),fo(Fi,Fi.current),r)break;return null;case 23:case 24:return t.lanes=0,Va(e,t,n)}return is(e,t,n)}ja=0!==(16384&e.flags)}else ja=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=mo(t,po.current),ai(t,n),o=sa(null,t,r,e,o,n),t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yo(r)){var i=!0;Eo(t)}else i=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ci(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&mi(t,r,s,e),o.updater=yi,t.stateNode=o,o._reactInternals=t,Ei(t,r,e,n),t=Ya(null,t,r,!0,i,n)}else t.tag=0,Fa(null,t,o,n),t=t.child;return t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=(i=o._init)(o._payload),t.type=o,i=t.tag=function(e){if("function"===typeof e)return Zu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===O)return 14}return 2}(o),e=Jo(o,e),i){case 0:t=Wa(null,t,o,e,n);break e;case 1:t=Za(null,t,o,e,n);break e;case 11:t=Ba(null,t,o,e,n);break e;case 14:t=za(null,t,o,Jo(o.type,e),r,n);break e}throw Error(a(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,Wa(e,t,r,o=t.elementType===r?o:Jo(r,o),n);case 1:return r=t.type,o=t.pendingProps,Za(e,t,r,o=t.elementType===r?o:Jo(r,o),n);case 3:if(Ha(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,li(e,t),pi(t,r,null,n),(r=t.memoizedState.element)===o)Xi(),t=is(e,t,n);else{if((i=(o=t.stateNode).hydrate)&&(Gi=Xr(t.stateNode.containerInfo.firstChild),zi=t,i=Vi=!0),i){if(null!=(e=o.mutableSourceEagerHydrationData))for(o=0;o<e.length;o+=2)(i=e[o])._workInProgressVersionPrimary=e[o+1],Ki.push(i);for(n=Mi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fa(e,t,r,n),Xi();t=t.child}return t;case 5:return Li(t),null===e&&Zi(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,Wr(r,o)?s=null:null!==i&&Wr(r,i)&&(t.flags|=16),Ua(e,t),Fa(e,t,s,n),t.child;case 6:return null===e&&Zi(t),null;case 13:return Ja(e,t,n);case 4:return Di(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ci(t,null,r,n):Fa(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Ba(e,t,r,o=t.elementType===r?o:Jo(r,o),n);case 7:return Fa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value;var u=t.type._context;if(fo(Qo,u._currentValue),u._currentValue=i,null!==s)if(u=s.value,0===(i=lr(u,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,i):1073741823))){if(s.children===o.children&&!go.current){t=is(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&i)){1===u.tag&&((l=fi(-1,n&-n)).tag=2,di(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ii(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fa(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(i=t.pendingProps).children,ai(t,n),r=r(o=si(o,i.unstable_observedBits)),t.flags|=1,Fa(e,t,r,n),t.child;case 14:return i=Jo(o=t.type,t.pendingProps),za(e,t,o,i=Jo(o.type,i),r,n);case 15:return Ga(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Jo(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yo(r)?(e=!0,Eo(t)):e=!1,ai(t,n),xi(t,r,o),Ei(t,r,o,n),Ya(null,t,r,!0,e,n);case 19:return os(e,t,n);case 23:case 24:return Va(e,t,n)}throw Error(a(156,t.tag))},oc.prototype.render=function(e){ec(e,this._internalRoot,null,null)},oc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[eo]=null}))},tt=function(e){13===e.tag&&(pu(e,4,du()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,du()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=du(),n=hu(e);pu(e,n,t),rc(e,n)}},ot=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=io(r);if(!o)throw Error(a(90));$(r),ne(r,o)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Ie=xu,De=function(e,t,n,r,o){var i=Os;Os|=4;try{return Ho(98,e.bind(null,t,n,r,o))}finally{0===(Os=i)&&(Hs(),Ko())}},Re=function(){0===(49&Os)&&(function(){if(null!==ou){var e=ou;ou=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,vu(e,Wo())}))}Ko()}(),Ru())},Le=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(Hs(),Ko())}};var uc={Events:[ro,oo,io,Pe,Oe,Ru,{current:!1}]},cc={findFiberByHostInstance:no,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{So=fc.inject(lc),ko=fc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(0!==(48&n))return e(t);Os|=1;try{if(e)return Ho(99,e.bind(null,t))}finally{Os=n,Ko()}},t.hydrate=function(e,t,n){if(!ic(t))throw Error(a(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!ic(t))throw Error(a(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(a(40));return!!e._reactRootContainer&&(wu((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[eo]=null}))})),!0)},t.unstable_batchedUpdates=xu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case i:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case v:case g:case u:return e;default:return t}}case o:return t}}}function E(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=i,t.Lazy=v,t.Memo=g,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return E(e)||w(e)===l},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===f||e===s||e===a||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===m)},t.typeOf=w},7441:function(e,t,n){"use strict";e.exports=n(1372)},7306:function(e,t,n){"use strict";e.exports=n(7192)},7192:function(e,t,n){!function(e,t,n,r,o,i){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r,o=u(t);return!(r=n?(e=u(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments))||"object"!=typeof r&&"function"!=typeof r?l(this):r}}function d(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(){var e=0,t=new Map;return function(n){var r=t.get(n);return r||(r=(++e).toString(32),t.set(n,r)),r}}function g(e){var t,n,r,a=b(i(e,"type.$$typeof",e.type)),s=(n=i(t=e,"key")||t.index,r=i(t,"memoizedProps._nk")||i(t,"pendingProps._nk"),o(r)&&y.test(r)?"".concat(r,".").concat(n):r||n);return"".concat(a,",").concat(s)}function v(e){var t,n,r,a=E(e.type),s=(n=i(t=e,"key")||t.index,r=i(t,"props._nk"),o(r)&&w.test(r)?"".concat(r,".").concat(n):r||n);return"".concat(a,",").concat(s)}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;var m,y=/^iAr/,b=p(),x=function(e,n){var o,i,a=(o=function e(t){return t.return?[t].concat(d(e(t.return))):[t]}(e),i=n,o.map((function(e){var n=g(e);return r(i)?t(i,void 0,e,n):n})).filter(Boolean).join("|"));return b(a)},w=/^iAr/,E=p(),_=function(e,n){var o,i,a=(o=function e(t){return t.__?[t].concat(d(e(t.__))):[t]}(e),i=n,o.map((function(e){var n=v(e);return r(i)?t(i,void 0,e,n):n})).filter(Boolean).join("|"));return E(a)},S=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(u,n.Component);var e,r,o,i=f(u);function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return s(l(e=i.call.apply(i,[this].concat(n))),"key",null),s(l(e),"genKey",(function(t){switch(m||((e._reactInternalFiber||e._reactInternals)&&(m="React"),e.__v&&(m="Preact")),m){case"Preact":e.key=_(e.__v,t);break;case"React":var n=e._reactInternalFiber||e._reactInternals;e.key=x(n,t)}return e.key})),e}return e=u,(r=[{key:"render",value:function(){var e=this.props,n=e.children,r=e.prefix,o=e.onHandleNode;return t(n,void 0,"".concat(r).concat(this.key||this.genKey(o)))}}])&&a(e.prototype,r),o&&a(e,o),u}();s(S,"defaultProps",{onHandleNode:void 0,prefix:""}),e.default=S,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(5710),n(2791),n(546),n(9731),n(2520))},8459:function(e,t){"use strict";var n=60103,r=60106,o=60107,i=60108,a=60114,s=60109,u=60110,c=60112,l=60113,f=60120,d=60115,h=60116,p=60121,g=60122,v=60117,m=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),o=b("react.fragment"),i=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),u=b("react.context"),c=b("react.forward_ref"),l=b("react.suspense"),f=b("react.suspense_list"),d=b("react.memo"),h=b("react.lazy"),p=b("react.block"),g=b("react.server.block"),v=b("react.fundamental"),m=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case a:case i:case l:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case h:case d:case s:return e;default:return t}}case r:return t}}}},6900:function(e,t,n){"use strict";n(8459)},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),o=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var i=Symbol.for;o=i("react.element"),t.Fragment=i("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:l,props:i,_owner:a.current}}t.jsx=c,t.jsxs=c},9117:function(e,t,n){"use strict";var r=n(1725),o=60103,i=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;o=f("react.element"),i=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function m(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=v.prototype;var b=y.prototype=new m;b.constructor=y,r(b,v.prototype),b.isPureReactComponent=!0;var x={current:null},w=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!E.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var k=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case i:u=!0}}if(u)return a=a(u=e),e=""===r?"."+T(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(k,"$&/")+"/"),C(a,t,n,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(s=e[c],c);u+=C(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,n,l=r+T(s,c++),a);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function M(e,t,n){if(null==e)return e;var r=[],o=0;return C(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function P(){var e=A.current;if(null===e)throw Error(h(321));return e}var O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(h(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var i=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!E.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6121:function(e,t,n){var r;!function(e){!function(t){var r="object"===typeof n.g?n.g:"object"===typeof self?self:"object"===typeof this?this:Function("return this;")(),o=i(e);function i(e,t){return function(n,r){"function"!==typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}"undefined"===typeof r.Reflect?r.Reflect=e:o=i(r.Reflect,o),function(e){var t=Object.prototype.hasOwnProperty,n="function"===typeof Symbol,r=n&&"undefined"!==typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=n&&"undefined"!==typeof Symbol.iterator?Symbol.iterator:"@@iterator",i="function"===typeof Object.create,a={__proto__:[]}instanceof Array,s=!i&&!a,u={create:i?function(){return re(Object.create(null))}:a?function(){return re({__proto__:null})}:function(){return re({})},has:s?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:s?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),l="object"===typeof process&&{NODE_ENV:"production",PUBLIC_URL:"/DMBLiteratureWebsite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&"true"==={NODE_ENV:"production",PUBLIC_URL:"/DMBLiteratureWebsite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REFLECT_METADATA_USE_MAP_POLYFILL,f=l||"function"!==typeof Map||"function"!==typeof Map.prototype.entries?ee():Map,d=l||"function"!==typeof Set||"function"!==typeof Set.prototype.entries?te():Set,h=new(l||"function"!==typeof WeakMap?ne():WeakMap);function p(e,t,n,r){if(R(n)){if(!W(e))throw new TypeError;if(!Y(t))throw new TypeError;return S(e,t)}if(!W(e))throw new TypeError;if(!F(t))throw new TypeError;if(!F(r)&&!R(r)&&!L(r))throw new TypeError;return L(r)&&(r=void 0),k(e,t,n=U(n),r)}function g(e,t){function n(n,r){if(!F(n))throw new TypeError;if(!R(r)&&!H(r))throw new TypeError;P(e,t,n,r)}return n}function v(e,t,n,r){if(!F(n))throw new TypeError;return R(r)||(r=U(r)),P(e,t,n,r)}function m(e,t,n){if(!F(t))throw new TypeError;return R(n)||(n=U(n)),C(e,t,n)}function y(e,t,n){if(!F(t))throw new TypeError;return R(n)||(n=U(n)),M(e,t,n)}function b(e,t,n){if(!F(t))throw new TypeError;return R(n)||(n=U(n)),N(e,t,n)}function x(e,t,n){if(!F(t))throw new TypeError;return R(n)||(n=U(n)),A(e,t,n)}function w(e,t){if(!F(e))throw new TypeError;return R(t)||(t=U(t)),O(e,t)}function E(e,t){if(!F(e))throw new TypeError;return R(t)||(t=U(t)),I(e,t)}function _(e,t,n){if(!F(t))throw new TypeError;R(n)||(n=U(n));var r=T(t,n,!1);if(R(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var o=h.get(t);return o.delete(n),o.size>0||h.delete(t),!0}function S(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!R(r)&&!L(r)){if(!Y(r))throw new TypeError;t=r}}return t}function k(e,t,n,r){for(var o=e.length-1;o>=0;--o){var i=(0,e[o])(t,n,r);if(!R(i)&&!L(i)){if(!F(i))throw new TypeError;r=i}}return r}function T(e,t,n){var r=h.get(e);if(R(r)){if(!n)return;r=new f,h.set(e,r)}var o=r.get(t);if(R(o)){if(!n)return;o=new f,r.set(t,o)}return o}function C(e,t,n){if(M(e,t,n))return!0;var r=Q(t);return!L(r)&&C(e,r,n)}function M(e,t,n){var r=T(t,n,!1);return!R(r)&&G(r.has(e))}function N(e,t,n){if(M(e,t,n))return A(e,t,n);var r=Q(t);return L(r)?void 0:N(e,r,n)}function A(e,t,n){var r=T(t,n,!1);if(!R(r))return r.get(e)}function P(e,t,n,r){T(n,r,!0).set(e,t)}function O(e,t){var n=I(e,t),r=Q(e);if(null===r)return n;var o=O(r,t);if(o.length<=0)return n;if(n.length<=0)return o;for(var i=new d,a=[],s=0,u=n;s<u.length;s++){var c=u[s];i.has(c)||(i.add(c),a.push(c))}for(var l=0,f=o;l<f.length;l++){c=f[l];i.has(c)||(i.add(c),a.push(c))}return a}function I(e,t){var n=[],r=T(e,t,!1);if(R(r))return n;for(var o=K(r.keys()),i=0;;){var a=$(o);if(!a)return n.length=i,n;var s=q(a);try{n[i]=s}catch(u){try{J(o)}finally{throw u}}i++}}function D(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function R(e){return void 0===e}function L(e){return null===e}function j(e){return"symbol"===typeof e}function F(e){return"object"===typeof e?null!==e:"function"===typeof e}function B(e,t){switch(D(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",o=X(e,r);if(void 0!==o){var i=o.call(e,n);if(F(i))throw new TypeError;return i}return z(e,"default"===n?"number":n)}function z(e,t){if("string"===t){var n=e.toString;if(Z(n))if(!F(o=n.call(e)))return o;if(Z(r=e.valueOf))if(!F(o=r.call(e)))return o}else{var r;if(Z(r=e.valueOf))if(!F(o=r.call(e)))return o;var o,i=e.toString;if(Z(i))if(!F(o=i.call(e)))return o}throw new TypeError}function G(e){return!!e}function V(e){return""+e}function U(e){var t=B(e,3);return j(t)?t:V(t)}function W(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function Z(e){return"function"===typeof e}function Y(e){return"function"===typeof e}function H(e){switch(D(e)){case 3:case 4:return!0;default:return!1}}function X(e,t){var n=e[t];if(void 0!==n&&null!==n){if(!Z(n))throw new TypeError;return n}}function K(e){var t=X(e,o);if(!Z(t))throw new TypeError;var n=t.call(e);if(!F(n))throw new TypeError;return n}function q(e){return e.value}function $(e){var t=e.next();return!t.done&&t}function J(e){var t=e.return;t&&t.call(e)}function Q(e){var t=Object.getPrototypeOf(e);if("function"!==typeof e||e===c)return t;if(t!==c)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var o=r.constructor;return"function"!==typeof o||o===e?t:o}function ee(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,i)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function i(e,t){return t}function a(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new f}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}()}function ne(){var e=16,n=u.create(),r=o();return function(){function e(){this._key=o()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=o()},e}();function o(){var e;do{e="@@WeakMap@@"+c()}while(u.has(n,e));return n[e]=!0,e}function i(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:u.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(e){return"function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function c(){var t=s(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var o=t[r];4!==r&&6!==r&&8!==r||(n+="-"),o<16&&(n+="0"),n+=o.toString(16).toLowerCase()}return n}}function re(e){return e.__=void 0,delete e.__,e}e("decorate",p),e("metadata",g),e("defineMetadata",v),e("hasMetadata",m),e("hasOwnMetadata",y),e("getMetadata",b),e("getOwnMetadata",x),e("getMetadataKeys",w),e("getOwnMetadataKeys",E),e("deleteMetadata",_)}(o)}()}(r||(r={}))},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(P){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),a=new M(r||[]);return i._invoke=function(e,t,n){var r=f;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:d,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,a),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",g={};function v(){}function m(){}function y(){}var b={};u(b,i,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(N([])));w&&w!==n&&r.call(w,i)&&(b=w);var E=y.prototype=v.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,s){var u=l(e[o],e,i);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function k(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=l(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:A}}function A(){return{value:t,done:!0}}return m.prototype=y,u(E,"constructor",y),u(y,"constructor",m),m.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},_(S.prototype),u(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(E),u(E,s,"Generator"),u(E,i,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},9084:function(e){e.exports=function(){"use strict";var e=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},t=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]=t[n[r]];return e},n="\n";function r(e){return"undefined"!==typeof atob?atob(e):"base64:"+e}function o(e){var t=new Error("(regl) "+e);throw console.error(t),t}function i(e,t){e||o(t)}function a(e){return e?": "+e:""}function s(e,t,n){e in t||o("unknown parameter ("+e+")"+a(n)+". possible values: "+Object.keys(t).join())}function u(t,n){e(t)||o("invalid parameter type"+a(n)+". must be a typed array")}function c(e,t){switch(t){case"number":return"number"===typeof e;case"object":return"object"===typeof e;case"string":return"string"===typeof e;case"boolean":return"boolean"===typeof e;case"function":return"function"===typeof e;case"undefined":return"undefined"===typeof e;case"symbol":return"symbol"===typeof e}}function l(e,t,n){c(e,t)||o("invalid parameter type"+a(n)+". expected "+t+", got "+typeof e)}function f(e,t){e>=0&&(0|e)===e||o("invalid parameter type, ("+e+")"+a(t)+". must be a nonnegative integer")}function d(e,t,n){t.indexOf(e)<0&&o("invalid value"+a(n)+". must be one of: "+t)}var h=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function p(e){Object.keys(e).forEach((function(e){h.indexOf(e)<0&&o('invalid regl constructor argument "'+e+'". must be one of '+h)}))}function g(e,t){for(e+="";e.length<t;)e=" "+e;return e}function v(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function m(e,t){this.number=e,this.line=t,this.errors=[]}function y(e,t,n){this.file=e,this.line=t,this.message=n}function b(){var e=new Error,t=(e.stack||e).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return r?r[1]:"unknown"}function x(){var e=new Error,t=(e.stack||e).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return r?r[1]:"unknown"}function w(e,t){var n=e.split("\n"),o=1,i=0,a={unknown:new v,0:new v};a.unknown.name=a[0].name=t||b(),a.unknown.lines.push(new m(0,""));for(var s=0;s<n.length;++s){var u=n[s],c=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(u);if(c)switch(c[1]){case"line":var l=/(\d+)(\s+\d+)?/.exec(c[2]);l&&(o=0|l[1],l[2]&&((i=0|l[2])in a||(a[i]=new v)));break;case"define":var f=/SHADER_NAME(_B64)?\s+(.*)$/.exec(c[2]);f&&(a[i].name=f[1]?r(f[2]):f[2])}a[i].lines.push(new m(o++,u))}return Object.keys(a).forEach((function(e){var t=a[e];t.lines.forEach((function(e){t.index[e.number]=e}))})),a}function E(e){var t=[];return e.split("\n").forEach((function(e){if(!(e.length<5)){var n=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(e);n?t.push(new y(0|n[1],0|n[2],n[3].trim())):e.length>0&&t.push(new y("unknown",0,e))}})),t}function _(e,t){t.forEach((function(t){var n=e[t.file];if(n){var r=n.index[t.line];if(r)return r.errors.push(t),void(n.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)}))}function S(e,t,r,o,a){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var s=e.getShaderInfoLog(t),u=o===e.FRAGMENT_SHADER?"fragment":"vertex";P(r,"string",u+" shader source must be a string",a);var c=w(r,a),l=E(s);_(c,l),Object.keys(c).forEach((function(e){var t=c[e];if(t.hasErrors){var r=[""],o=[""];i("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach((function(e){if(e.errors.length>0){i(g(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),i(e.line+n,"color:red; background-color:yellow; font-weight:bold");var t=0;e.errors.forEach((function(r){var o=r.message,a=/^\s*'(.*)'\s*:\s*(.*)$/.exec(o);if(a){var s=a[1];o=a[2],"assign"===s&&(s="="),t=Math.max(e.line.indexOf(s,t),0)}else t=0;i(g("| ",6)),i(g("^^^",t+3)+n,"font-weight:bold"),i(g("| ",6)),i(o+n,"font-weight:bold")})),i(g("| ",6)+n)}else i(g(e.number,4)+"|  "),i(e.line+n,"color:red")})),"undefined"===typeof document||window.chrome?console.log(r.join("")):(o[0]=r.join("%c"),console.log.apply(console,o))}function i(e,t){r.push(e),o.push(t||"")}})),i.raise("Error compiling "+u+" shader, "+c[0].name)}}function k(e,t,r,o,a){if(!e.getProgramParameter(t,e.LINK_STATUS)){var s=e.getProgramInfoLog(t),u=w(r,a),c='Error linking program with vertex shader, "'+w(o,a)[0].name+'", and fragment shader "'+u[0].name+'"';"undefined"!==typeof document?console.log("%c"+c+n+"%c"+s,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(c+n+s),i.raise(c)}}function T(e){e._commandRef=b()}function C(e,t,n,r){function o(e){return e?r.id(e):0}function i(e,t){Object.keys(t).forEach((function(t){e[r.id(t)]=!0}))}T(e),e._fragId=o(e.static.frag),e._vertId=o(e.static.vert);var a=e._uniformSet={};i(a,t.static),i(a,t.dynamic);var s=e._attributeSet={};i(s,n.static),i(s,n.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic}function M(e,t){var n=x();o(e+" in command "+(t||b())+("unknown"===n?"":" called from "+n))}function N(e,t,n){e||M(t,n||b())}function A(e,t,n,r){e in t||M("unknown parameter ("+e+")"+a(n)+". possible values: "+Object.keys(t).join(),r||b())}function P(e,t,n,r){c(e,t)||M("invalid parameter type"+a(n)+". expected "+t+", got "+typeof e,r||b())}function O(e){e()}function I(e,t,n){e.texture?d(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):d(e.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")}var D=33071,R=9728,L=9984,j=9985,F=9986,B=9987,z=5121,G=5122,V=5123,U=5124,W=5125,Z=5126,Y=32819,H=32820,X=33635,K=34042,q=36193,$={};function J(e,t){return e===H||e===Y||e===X?2:e===K?4:$[e]*t}function Q(e){return!(e&e-1)&&!!e}function ee(e,t,n){var r,o=t.width,a=t.height,s=t.channels;i(o>0&&o<=n.maxTextureSize&&a>0&&a<=n.maxTextureSize,"invalid texture shape"),e.wrapS===D&&e.wrapT===D||i(Q(o)&&Q(a),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==o&&1!==a&&i(e.minFilter!==L&&e.minFilter!==F&&e.minFilter!==j&&e.minFilter!==B,"min filter requires mipmap"):(i(Q(o)&&Q(a),"texture must be a square power of 2 to support mipmapping"),i(t.mipmask===(o<<1)-1,"missing or incomplete mipmap data")),t.type===Z&&(n.extensions.indexOf("oes_texture_float_linear")<0&&i(e.minFilter===R&&e.magFilter===R,"filter not supported, must enable oes_texture_float_linear"),i(!e.genMipmaps,"mipmap generation not supported with float textures"));var u=t.images;for(r=0;r<16;++r)if(u[r]){var c=o>>r,l=a>>r;i(t.mipmask&1<<r,"missing mipmap data");var f=u[r];if(i(f.width===c&&f.height===l,"invalid shape for mip images"),i(f.format===t.format&&f.internalformat===t.internalformat&&f.type===t.type,"incompatible type for mip image"),f.compressed);else if(f.data){var d=Math.ceil(J(f.type,s)*c/f.unpackAlignment)*f.unpackAlignment;i(f.data.byteLength===d*l,"invalid data for image, buffer size is inconsistent with image format")}else f.element||f.copy}else e.genMipmaps||i(0===(t.mipmask&1<<r),"extra mipmap data");t.compressed&&i(!e.genMipmaps,"mipmap generation for compressed images not supported")}function te(e,t,n,r){var o=e.width,a=e.height,s=e.channels;i(o>0&&o<=r.maxTextureSize&&a>0&&a<=r.maxTextureSize,"invalid texture shape"),i(o===a,"cube map must be square"),i(t.wrapS===D&&t.wrapT===D,"wrap mode not supported by cube map");for(var u=0;u<n.length;++u){var c=n[u];i(c.width===o&&c.height===a,"inconsistent cube map face shape"),t.genMipmaps&&(i(!c.compressed,"can not generate mipmap for compressed textures"),i(1===c.mipmask,"can not specify mipmaps and generate mipmaps"));for(var l=c.images,f=0;f<16;++f){var d=l[f];if(d){var h=o>>f,p=a>>f;i(c.mipmask&1<<f,"missing mipmap data"),i(d.width===h&&d.height===p,"invalid shape for mip images"),i(d.format===e.format&&d.internalformat===e.internalformat&&d.type===e.type,"incompatible type for mip image"),d.compressed||(d.data?i(d.data.byteLength===h*p*Math.max(J(d.type,s),d.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):d.element||d.copy)}}}}$[5120]=$[z]=1,$[G]=$[V]=$[q]=$[X]=$[Y]=$[H]=2,$[U]=$[W]=$[Z]=$[K]=4;var ne=t(i,{optional:O,raise:o,commandRaise:M,command:N,parameter:s,commandParameter:A,constructor:p,type:l,commandType:P,isTypedArray:u,nni:f,oneOf:d,shaderError:S,linkError:k,callSite:x,saveCommandRef:T,saveDrawInfo:C,framebufferFormat:I,guessCommand:b,texture2D:ee,textureCube:te}),re=0,oe=0,ie=5,ae=6;function se(e,t){this.id=re++,this.type=e,this.data=t}function ue(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function ce(e){if(0===e.length)return[];var t=e.charAt(0),n=e.charAt(e.length-1);if(e.length>1&&t===n&&('"'===t||"'"===t))return['"'+ue(e.substr(1,e.length-2))+'"'];var r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(r)return ce(e.substr(0,r.index)).concat(ce(r[1])).concat(ce(e.substr(r.index+r[0].length)));var o=e.split(".");if(1===o.length)return['"'+ue(e)+'"'];for(var i=[],a=0;a<o.length;++a)i=i.concat(ce(o[a]));return i}function le(e){return"["+ce(e).join("][")+"]"}function fe(e,t){return new se(e,le(t+""))}function de(e){return"function"===typeof e&&!e._reglType||e instanceof se}function he(e,t){return"function"===typeof e?new se(oe,e):"number"===typeof e||"boolean"===typeof e?new se(ie,e):Array.isArray(e)?new se(ae,e.map((function(e,n){return he(e,t+"["+n+"]")}))):e instanceof se?e:void ne(!1,"invalid option type in uniform "+t)}var pe={DynamicVariable:se,define:fe,isDynamic:de,unbox:he,accessor:le},ge={next:"function"===typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"===typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},ve="undefined"!==typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function me(){var e={"":0},t=[""];return{id:function(n){var r=e[n];return r||(r=e[n]=t.length,t.push(n),r)},str:function(e){return t[e]}}}function ye(e,n,r){var o,i=document.createElement("canvas");function a(){var n=window.innerWidth,o=window.innerHeight;if(e!==document.body){var a=e.getBoundingClientRect();n=a.right-a.left,o=a.bottom-a.top}i.width=r*n,i.height=r*o,t(i.style,{width:n+"px",height:o+"px"})}function s(){o?o.disconnect():window.removeEventListener("resize",a),e.removeChild(i)}return t(i.style,{border:0,margin:0,padding:0,top:0,left:0}),e.appendChild(i),e===document.body&&(i.style.position="absolute",t(e.style,{margin:0,padding:0})),e!==document.body&&"function"===typeof ResizeObserver?(o=new ResizeObserver((function(){setTimeout(a)}))).observe(e):window.addEventListener("resize",a,!1),a(),{canvas:i,onDestroy:s}}function be(e,t){function n(n){try{return e.getContext(n,t)}catch(r){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}function xe(e){return"string"===typeof e.nodeName&&"function"===typeof e.appendChild&&"function"===typeof e.getBoundingClientRect}function we(e){return"function"===typeof e.drawArrays||"function"===typeof e.drawElements}function Ee(e){return"string"===typeof e?e.split():(ne(Array.isArray(e),"invalid extension array"),e)}function _e(e){return"string"===typeof e?(ne("undefined"!==typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function Se(e){var t,n,r,o,i=e||{},a={},s=[],u=[],c="undefined"===typeof window?1:window.devicePixelRatio,l=!1,f=function(e){e&&ne.raise(e)},d=function(){};if("string"===typeof i?(ne("undefined"!==typeof document,"selector queries only supported in DOM enviroments"),t=document.querySelector(i),ne(t,"invalid query string for element")):"object"===typeof i?xe(i)?t=i:we(i)?r=(o=i).canvas:(ne.constructor(i),"gl"in i?o=i.gl:"canvas"in i?r=_e(i.canvas):"container"in i&&(n=_e(i.container)),"attributes"in i&&(a=i.attributes,ne.type(a,"object","invalid context attributes")),"extensions"in i&&(s=Ee(i.extensions)),"optionalExtensions"in i&&(u=Ee(i.optionalExtensions)),"onDone"in i&&(ne.type(i.onDone,"function","invalid or missing onDone callback"),f=i.onDone),"profile"in i&&(l=!!i.profile),"pixelRatio"in i&&(c=+i.pixelRatio,ne(c>0,"invalid pixel ratio"))):ne.raise("invalid arguments to regl"),t&&("canvas"===t.nodeName.toLowerCase()?r=t:n=t),!o){if(!r){ne("undefined"!==typeof document,"must manually specify webgl context outside of DOM environments");var h=ye(n||document.body,f,c);if(!h)return null;r=h.canvas,d=h.onDestroy}void 0===a.premultipliedAlpha&&(a.premultipliedAlpha=!0),o=be(r,a)}return o?{gl:o,canvas:r,container:n,extensions:s,optionalExtensions:u,pixelRatio:c,profile:l,onDone:f,onDestroy:d}:(d(),f("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function ke(e,t){var n={};function r(t){ne.type(t,"string","extension name must be string");var r,o=t.toLowerCase();try{r=n[o]=e.getExtension(o)}catch(i){}return!!r}for(var o=0;o<t.extensions.length;++o){var i=t.extensions[o];if(!r(i))return t.onDestroy(),t.onDone('"'+i+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach((function(e){if(n[e]&&!r(e))throw new Error("(regl): error restoring extension "+e)}))}}}function Te(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=t(r);return n}var Ce=5120,Me=5121,Ne=5122,Ae=5123,Pe=5124,Oe=5125,Ie=5126;function De(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}function Re(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1}function Le(){var e=Te(8,(function(){return[]}));function t(t){var n=De(t),r=e[Re(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(t){e[Re(t.byteLength)>>2].push(t)}function r(e,n){var r=null;switch(e){case Ce:r=new Int8Array(t(n),0,n);break;case Me:r=new Uint8Array(t(n),0,n);break;case Ne:r=new Int16Array(t(2*n),0,n);break;case Ae:r=new Uint16Array(t(2*n),0,n);break;case Pe:r=new Int32Array(t(4*n),0,n);break;case Oe:r=new Uint32Array(t(4*n),0,n);break;case Ie:r=new Float32Array(t(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r}function o(e){n(e.buffer)}return{alloc:t,free:n,allocType:r,freeType:o}}var je=Le();je.zero=Le();var Fe=3408,Be=3410,ze=3411,Ge=3412,Ve=3413,Ue=3414,We=3415,Ze=33901,Ye=33902,He=3379,Xe=3386,Ke=34921,qe=36347,$e=36348,Je=35661,Qe=35660,et=34930,tt=36349,nt=34076,rt=34024,ot=7936,it=7937,at=7938,st=35724,ut=34047,ct=36063,lt=34852,ft=3553,dt=34067,ht=34069,pt=33984,gt=6408,vt=5126,mt=5121,yt=36160,bt=36053,xt=36064,wt=16384,Et=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(ut));var r=1,o=1;t.webgl_draw_buffers&&(r=e.getParameter(lt),o=e.getParameter(ct));var i=!!t.oes_texture_float;if(i){var a=e.createTexture();e.bindTexture(ft,a),e.texImage2D(ft,0,gt,1,1,0,gt,vt,null);var s=e.createFramebuffer();if(e.bindFramebuffer(yt,s),e.framebufferTexture2D(yt,xt,ft,a,0),e.bindTexture(ft,null),e.checkFramebufferStatus(yt)!==bt)i=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(wt);var u=je.allocType(vt,4);e.readPixels(0,0,1,1,gt,vt,u),e.getError()?i=!1:(e.deleteFramebuffer(s),e.deleteTexture(a),i=1===u[0]),je.freeType(u)}}var c=!0;if("undefined"===typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var l=e.createTexture(),f=je.allocType(mt,36);e.activeTexture(pt),e.bindTexture(dt,l),e.texImage2D(ht,0,gt,3,3,0,gt,mt,f),je.freeType(f),e.bindTexture(dt,null),e.deleteTexture(l),c=!e.getError()}return{colorBits:[e.getParameter(Be),e.getParameter(ze),e.getParameter(Ge),e.getParameter(Ve)],depthBits:e.getParameter(Ue),stencilBits:e.getParameter(We),subpixelBits:e.getParameter(Fe),extensions:Object.keys(t).filter((function(e){return!!t[e]})),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:o,pointSizeDims:e.getParameter(Ze),lineWidthDims:e.getParameter(Ye),maxViewportDims:e.getParameter(Xe),maxCombinedTextureUnits:e.getParameter(Je),maxCubeMapSize:e.getParameter(nt),maxRenderbufferSize:e.getParameter(rt),maxTextureUnits:e.getParameter(et),maxTextureSize:e.getParameter(He),maxAttributes:e.getParameter(Ke),maxVertexUniforms:e.getParameter(qe),maxVertexTextureUnits:e.getParameter(Qe),maxVaryingVectors:e.getParameter($e),maxFragmentUniforms:e.getParameter(tt),glsl:e.getParameter(st),renderer:e.getParameter(it),vendor:e.getParameter(ot),version:e.getParameter(at),readFloat:i,npotTextureCube:c}};function _t(t){return!!t&&"object"===typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"===typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||e(t.data))}var St=function(e){return Object.keys(e).map((function(t){return e[t]}))},kt={shape:Pt,flatten:At};function Tt(e,t,n){for(var r=0;r<t;++r)n[r]=e[r]}function Ct(e,t,n,r){for(var o=0,i=0;i<t;++i)for(var a=e[i],s=0;s<n;++s)r[o++]=a[s]}function Mt(e,t,n,r,o,i){for(var a=i,s=0;s<t;++s)for(var u=e[s],c=0;c<n;++c)for(var l=u[c],f=0;f<r;++f)o[a++]=l[f]}function Nt(e,t,n,r,o){for(var i=1,a=n+1;a<t.length;++a)i*=t[a];var s=t[n];if(t.length-n===4){var u=t[n+1],c=t[n+2],l=t[n+3];for(a=0;a<s;++a)Mt(e[a],u,c,l,r,o),o+=i}else for(a=0;a<s;++a)Nt(e[a],t,n+1,r,o),o+=i}function At(e,t,n,r){var o=1;if(t.length)for(var i=0;i<t.length;++i)o*=t[i];else o=0;var a=r||je.allocType(n,o);switch(t.length){case 0:break;case 1:Tt(e,t[0],a);break;case 2:Ct(e,t[0],t[1],a);break;case 3:Mt(e,t[0],t[1],t[2],a,0);break;default:Nt(e,t,0,a,0)}return a}function Pt(e){for(var t=[],n=e;n.length;n=n[0])t.push(n.length);return t}var Ot={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},It={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Dt={dynamic:35048,stream:35040,static:35044},Rt=kt.flatten,Lt=kt.shape,jt=35044,Ft=35040,Bt=5121,zt=5126,Gt=[];function Vt(e){return 0|Ot[Object.prototype.toString.call(e)]}function Ut(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function Wt(e,t,n,r,o,i,a){for(var s=0,u=0;u<n;++u)for(var c=0;c<r;++c)e[s++]=t[o*u+i*c+a]}function Zt(t,n,r,o){var i=0,a={};function s(e){this.id=i++,this.buffer=t.createBuffer(),this.type=e,this.usage=jt,this.byteLength=0,this.dimension=1,this.dtype=Bt,this.persistentData=null,r.profile&&(this.stats={size:0})}s.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},s.prototype.destroy=function(){h(this)};var u=[];function c(e,t){var n=u.pop();return n||(n=new s(e)),n.bind(),d(n,t,Ft,0,1,!1),n}function l(e){u.push(e)}function f(e,n,r){e.byteLength=n.byteLength,t.bufferData(e.type,n,r)}function d(t,n,r,o,i,a){var s,u;if(t.usage=r,Array.isArray(n)){if(t.dtype=o||zt,n.length>0)if(Array.isArray(n[0])){s=Lt(n);for(var c=1,l=1;l<s.length;++l)c*=s[l];t.dimension=c,f(t,u=Rt(n,s,t.dtype),r),a?t.persistentData=u:je.freeType(u)}else if("number"===typeof n[0]){t.dimension=i;var d=je.allocType(t.dtype,n.length);Ut(d,n),f(t,d,r),a?t.persistentData=d:je.freeType(d)}else e(n[0])?(t.dimension=n[0].length,t.dtype=o||Vt(n[0])||zt,f(t,u=Rt(n,[n.length,n[0].length],t.dtype),r),a?t.persistentData=u:je.freeType(u)):ne.raise("invalid buffer data")}else if(e(n))t.dtype=o||Vt(n),t.dimension=i,f(t,n,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(_t(n)){s=n.shape;var h=n.stride,p=n.offset,g=0,v=0,m=0,y=0;1===s.length?(g=s[0],v=1,m=h[0],y=0):2===s.length?(g=s[0],v=s[1],m=h[0],y=h[1]):ne.raise("invalid shape"),t.dtype=o||Vt(n.data)||zt,t.dimension=v;var b=je.allocType(t.dtype,g*v);Wt(b,n.data,g,v,m,y,p),f(t,b,r),a?t.persistentData=b:je.freeType(b)}else n instanceof ArrayBuffer?(t.dtype=Bt,t.dimension=i,f(t,n,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(n)))):ne.raise("invalid buffer data")}function h(e){n.bufferCount--,o(e);var r=e.buffer;ne(r,"buffer must not be deleted already"),t.deleteBuffer(r),e.buffer=null,delete a[e.id]}function p(o,i,u,c){n.bufferCount++;var l=new s(i);function f(n){var o=jt,i=null,a=0,s=0,u=1;return Array.isArray(n)||e(n)||_t(n)||n instanceof ArrayBuffer?i=n:"number"===typeof n?a=0|n:n&&(ne.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(ne(null===i||Array.isArray(i)||e(i)||_t(i),"invalid data for buffer"),i=n.data),"usage"in n&&(ne.parameter(n.usage,Dt,"invalid buffer usage"),o=Dt[n.usage]),"type"in n&&(ne.parameter(n.type,It,"invalid buffer type"),s=It[n.type]),"dimension"in n&&(ne.type(n.dimension,"number","invalid dimension"),u=0|n.dimension),"length"in n&&(ne.nni(a,"buffer length must be a nonnegative integer"),a=0|n.length)),l.bind(),i?d(l,i,o,s,u,c):(a&&t.bufferData(l.type,a,o),l.dtype=s||Bt,l.usage=o,l.dimension=u,l.byteLength=a),r.profile&&(l.stats.size=l.byteLength*Gt[l.dtype]),f}function p(e,n){ne(n+e.byteLength<=l.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+e.byteLength+" starting from offset "+n+" to a buffer of size "+l.byteLength),t.bufferSubData(l.type,n,e)}function g(t,n){var r,o=0|(n||0);if(l.bind(),e(t)||t instanceof ArrayBuffer)p(t,o);else if(Array.isArray(t)){if(t.length>0)if("number"===typeof t[0]){var i=je.allocType(l.dtype,t.length);Ut(i,t),p(i,o),je.freeType(i)}else if(Array.isArray(t[0])||e(t[0])){r=Lt(t);var a=Rt(t,r,l.dtype);p(a,o),je.freeType(a)}else ne.raise("invalid buffer data")}else if(_t(t)){r=t.shape;var s=t.stride,u=0,c=0,d=0,h=0;1===r.length?(u=r[0],c=1,d=s[0],h=0):2===r.length?(u=r[0],c=r[1],d=s[0],h=s[1]):ne.raise("invalid shape");var g=Array.isArray(t.data)?l.dtype:Vt(t.data),v=je.allocType(g,u*c);Wt(v,t.data,u,c,d,h,t.offset),p(v,o),je.freeType(v)}else ne.raise("invalid data for buffer subdata");return f}return a[l.id]=l,u||f(o),f._reglType="buffer",f._buffer=l,f.subdata=g,r.profile&&(f.stats=l.stats),f.destroy=function(){h(l)},f}function g(){St(a).forEach((function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)}))}return r.profile&&(n.getTotalBufferSize=function(){var e=0;return Object.keys(a).forEach((function(t){e+=a[t].stats.size})),e}),{create:p,createStream:c,destroyStream:l,clear:function(){St(a).forEach(h),u.forEach(h)},getBuffer:function(e){return e&&e._buffer instanceof s?e._buffer:null},restore:g,_initBuffer:d}}Gt[5120]=1,Gt[5122]=2,Gt[5124]=4,Gt[5121]=1,Gt[5123]=2,Gt[5125]=4,Gt[5126]=4;var Yt={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Ht=0,Xt=1,Kt=4,qt=5120,$t=5121,Jt=5122,Qt=5123,en=5124,tn=5125,nn=34963,rn=35040,on=35044;function an(t,n,r,o){var i={},a=0,s={uint8:$t,uint16:Qt};function u(e){this.id=a++,i[this.id]=this,this.buffer=e,this.primType=Kt,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(s.uint32=tn),u.prototype.bind=function(){this.buffer.bind()};var c=[];function l(e){var t=c.pop();return t||(t=new u(r.create(null,nn,!0,!1)._buffer)),d(t,e,rn,-1,-1,0,0),t}function f(e){c.push(e)}function d(o,i,a,s,u,c,l){var f;if(o.buffer.bind(),i){var d=l;l||e(i)&&(!_t(i)||e(i.data))||(d=n.oes_element_index_uint?tn:Qt),r._initBuffer(o.buffer,i,a,d,3)}else t.bufferData(nn,c,a),o.buffer.dtype=f||$t,o.buffer.usage=a,o.buffer.dimension=3,o.buffer.byteLength=c;if(f=l,!l){switch(o.buffer.dtype){case $t:case qt:f=$t;break;case Qt:case Jt:f=Qt;break;case tn:case en:f=tn;break;default:ne.raise("unsupported type for element array")}o.buffer.dtype=f}o.type=f,ne(f!==tn||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var h=u;h<0&&(h=o.buffer.byteLength,f===Qt?h>>=1:f===tn&&(h>>=2)),o.vertCount=h;var p=s;if(s<0){p=Kt;var g=o.buffer.dimension;1===g&&(p=Ht),2===g&&(p=Xt),3===g&&(p=Kt)}o.primType=p}function h(e){o.elementsCount--,ne(null!==e.buffer,"must not double destroy elements"),delete i[e.id],e.buffer.destroy(),e.buffer=null}function p(t,n){var i=r.create(null,nn,!0),a=new u(i._buffer);function c(t){if(t)if("number"===typeof t)i(t),a.primType=Kt,a.vertCount=0|t,a.type=$t;else{var n=null,r=on,o=-1,u=-1,l=0,f=0;Array.isArray(t)||e(t)||_t(t)?n=t:(ne.type(t,"object","invalid arguments for elements"),"data"in t&&(n=t.data,ne(Array.isArray(n)||e(n)||_t(n),"invalid data for element buffer")),"usage"in t&&(ne.parameter(t.usage,Dt,"invalid element buffer usage"),r=Dt[t.usage]),"primitive"in t&&(ne.parameter(t.primitive,Yt,"invalid element buffer primitive"),o=Yt[t.primitive]),"count"in t&&(ne("number"===typeof t.count&&t.count>=0,"invalid vertex count for elements"),u=0|t.count),"type"in t&&(ne.parameter(t.type,s,"invalid buffer type"),f=s[t.type]),"length"in t?l=0|t.length:(l=u,f===Qt||f===Jt?l*=2:f!==tn&&f!==en||(l*=4))),d(a,n,r,o,u,l,f)}else i(),a.primType=Kt,a.vertCount=0,a.type=$t;return c}return o.elementsCount++,c(t),c._reglType="elements",c._elements=a,c.subdata=function(e,t){return i.subdata(e,t),c},c.destroy=function(){h(a)},c}return{create:p,createStream:l,destroyStream:f,getElements:function(e){return"function"===typeof e&&e._elements instanceof u?e._elements:null},clear:function(){St(i).forEach(h)}}}var sn=new Float32Array(1),un=new Uint32Array(sn.buffer),cn=5123;function ln(e){for(var t=je.allocType(cn,e.length),n=0;n<e.length;++n)if(isNaN(e[n]))t[n]=65535;else if(e[n]===1/0)t[n]=31744;else if(e[n]===-1/0)t[n]=64512;else{sn[0]=e[n];var r=un[0],o=r>>>31<<15,i=(r<<1>>>24)-127,a=r>>13&1023;if(i<-24)t[n]=o;else if(i<-14){var s=-14-i;t[n]=o+(a+1024>>s)}else t[n]=i>15?o+31744:o+(i+15<<10)+a}return t}function fn(t){return Array.isArray(t)||e(t)}var dn=function(e){return!(e&e-1)&&!!e},hn=34467,pn=3553,gn=34067,vn=34069,mn=6408,yn=6406,bn=6407,xn=6409,wn=6410,En=32854,_n=32855,Sn=36194,kn=32819,Tn=32820,Cn=33635,Mn=34042,Nn=6402,An=34041,Pn=35904,On=35906,In=36193,Dn=33776,Rn=33777,Ln=33778,jn=33779,Fn=35986,Bn=35987,zn=34798,Gn=35840,Vn=35841,Un=35842,Wn=35843,Zn=36196,Yn=5121,Hn=5123,Xn=5125,Kn=5126,qn=10242,$n=10243,Jn=10497,Qn=33071,er=33648,tr=10240,nr=10241,rr=9728,or=9729,ir=9984,ar=9985,sr=9986,ur=9987,cr=33170,lr=4352,fr=4353,dr=4354,hr=34046,pr=3317,gr=37440,vr=37441,mr=37443,yr=37444,br=33984,xr=[ir,sr,ar,ur],wr=[0,xn,wn,bn,mn],Er={};function _r(e){return"[object "+e+"]"}Er[xn]=Er[yn]=Er[Nn]=1,Er[An]=Er[wn]=2,Er[bn]=Er[Pn]=3,Er[mn]=Er[On]=4;var Sr=_r("HTMLCanvasElement"),kr=_r("OffscreenCanvas"),Tr=_r("CanvasRenderingContext2D"),Cr=_r("ImageBitmap"),Mr=_r("HTMLImageElement"),Nr=_r("HTMLVideoElement"),Ar=Object.keys(Ot).concat([Sr,kr,Tr,Cr,Mr,Nr]),Pr=[];Pr[Yn]=1,Pr[Kn]=4,Pr[In]=2,Pr[Hn]=2,Pr[Xn]=4;var Or=[];function Ir(e){return Array.isArray(e)&&(0===e.length||"number"===typeof e[0])}function Dr(e){return!!Array.isArray(e)&&!(0===e.length||!fn(e[0]))}function Rr(e){return Object.prototype.toString.call(e)}function Lr(e){return Rr(e)===Sr}function jr(e){return Rr(e)===kr}function Fr(e){return Rr(e)===Tr}function Br(e){return Rr(e)===Cr}function zr(e){return Rr(e)===Mr}function Gr(e){return Rr(e)===Nr}function Vr(e){if(!e)return!1;var t=Rr(e);return Ar.indexOf(t)>=0||Ir(e)||Dr(e)||_t(e)}function Ur(e){return 0|Ot[Object.prototype.toString.call(e)]}function Wr(e,t){var n=t.length;switch(e.type){case Yn:case Hn:case Xn:case Kn:var r=je.allocType(e.type,n);r.set(t),e.data=r;break;case In:e.data=ln(t);break;default:ne.raise("unsupported texture type, must specify a typed array")}}function Zr(e,t){return je.allocType(e.type===In?Kn:e.type,t)}function Yr(e,t){e.type===In?(e.data=ln(t),je.freeType(t)):e.data=t}function Hr(e,t,n,r,o,i){for(var a=e.width,s=e.height,u=e.channels,c=Zr(e,a*s*u),l=0,f=0;f<s;++f)for(var d=0;d<a;++d)for(var h=0;h<u;++h)c[l++]=t[n*d+r*f+o*h+i];Yr(e,c)}function Xr(e,t,n,r,o,i){var a;if(a="undefined"!==typeof Or[e]?Or[e]:Er[e]*Pr[t],i&&(a*=6),o){for(var s=0,u=n;u>=1;)s+=a*u*u,u/=2;return s}return a*n*r}function Kr(n,r,o,i,a,s,u){var c={"don't care":lr,"dont care":lr,nice:dr,fast:fr},l={repeat:Jn,clamp:Qn,mirror:er},f={nearest:rr,linear:or},d=t({mipmap:ur,"nearest mipmap nearest":ir,"linear mipmap nearest":ar,"nearest mipmap linear":sr,"linear mipmap linear":ur},f),h={none:0,browser:yr},p={uint8:Yn,rgba4:kn,rgb565:Cn,"rgb5 a1":Tn},g={alpha:yn,luminance:xn,"luminance alpha":wn,rgb:bn,rgba:mn,rgba4:En,"rgb5 a1":_n,rgb565:Sn},v={};r.ext_srgb&&(g.srgb=Pn,g.srgba=On),r.oes_texture_float&&(p.float32=p.float=Kn),r.oes_texture_half_float&&(p.float16=p["half float"]=In),r.webgl_depth_texture&&(t(g,{depth:Nn,"depth stencil":An}),t(p,{uint16:Hn,uint32:Xn,"depth stencil":Mn})),r.webgl_compressed_texture_s3tc&&t(v,{"rgb s3tc dxt1":Dn,"rgba s3tc dxt1":Rn,"rgba s3tc dxt3":Ln,"rgba s3tc dxt5":jn}),r.webgl_compressed_texture_atc&&t(v,{"rgb atc":Fn,"rgba atc explicit alpha":Bn,"rgba atc interpolated alpha":zn}),r.webgl_compressed_texture_pvrtc&&t(v,{"rgb pvrtc 4bppv1":Gn,"rgb pvrtc 2bppv1":Vn,"rgba pvrtc 4bppv1":Un,"rgba pvrtc 2bppv1":Wn}),r.webgl_compressed_texture_etc1&&(v["rgb etc1"]=Zn);var m=Array.prototype.slice.call(n.getParameter(hn));Object.keys(v).forEach((function(e){var t=v[e];m.indexOf(t)>=0&&(g[e]=t)}));var y=Object.keys(g);o.textureFormats=y;var b=[];Object.keys(g).forEach((function(e){var t=g[e];b[t]=e}));var x=[];Object.keys(p).forEach((function(e){var t=p[e];x[t]=e}));var w=[];Object.keys(f).forEach((function(e){var t=f[e];w[t]=e}));var E=[];Object.keys(d).forEach((function(e){var t=d[e];E[t]=e}));var _=[];Object.keys(l).forEach((function(e){var t=l[e];_[t]=e}));var S=y.reduce((function(e,t){var n=g[t];return n===xn||n===yn||n===xn||n===wn||n===Nn||n===An||r.ext_srgb&&(n===Pn||n===On)?e[n]=n:n===_n||t.indexOf("rgba")>=0?e[n]=mn:e[n]=bn,e}),{});function k(){this.internalformat=mn,this.format=mn,this.type=Yn,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=yr,this.width=0,this.height=0,this.channels=0}function T(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function C(e,t){if("object"===typeof t&&t){if("premultiplyAlpha"in t&&(ne.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(ne.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(ne.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(ne.parameter(t.colorSpace,h,"invalid colorSpace"),e.colorSpace=h[t.colorSpace]),"type"in t){var n=t.type;ne(r.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),ne(r.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),ne(r.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ne.parameter(n,p,"invalid texture type"),e.type=p[n]}var i=e.width,a=e.height,s=e.channels,u=!1;"shape"in t?(ne(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),i=t.shape[0],a=t.shape[1],3===t.shape.length&&(s=t.shape[2],ne(s>0&&s<=4,"invalid number of channels"),u=!0),ne(i>=0&&i<=o.maxTextureSize,"invalid width"),ne(a>=0&&a<=o.maxTextureSize,"invalid height")):("radius"in t&&(i=a=t.radius,ne(i>=0&&i<=o.maxTextureSize,"invalid radius")),"width"in t&&(i=t.width,ne(i>=0&&i<=o.maxTextureSize,"invalid width")),"height"in t&&(a=t.height,ne(a>=0&&a<=o.maxTextureSize,"invalid height")),"channels"in t&&(s=t.channels,ne(s>0&&s<=4,"invalid number of channels"),u=!0)),e.width=0|i,e.height=0|a,e.channels=0|s;var c=!1;if("format"in t){var l=t.format;ne(r.webgl_depth_texture||!("depth"===l||"depth stencil"===l),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ne.parameter(l,g,"invalid texture format");var f=e.internalformat=g[l];e.format=S[f],l in p&&("type"in t||(e.type=p[l])),l in v&&(e.compressed=!0),c=!0}!u&&c?e.channels=Er[e.format]:u&&!c?e.channels!==wr[e.format]&&(e.format=e.internalformat=wr[e.channels]):c&&u&&ne(e.channels===Er[e.format],"number of channels inconsistent with specified format")}}function M(e){n.pixelStorei(gr,e.flipY),n.pixelStorei(vr,e.premultiplyAlpha),n.pixelStorei(mr,e.colorSpace),n.pixelStorei(pr,e.unpackAlignment)}function N(){k.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function A(t,n){var r=null;if(Vr(n)?r=n:n&&(ne.type(n,"object","invalid pixel data type"),C(t,n),"x"in n&&(t.xOffset=0|n.x),"y"in n&&(t.yOffset=0|n.y),Vr(n.data)&&(r=n.data)),ne(!t.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){ne(!r,"can not specify copy and data field for the same texture");var i=a.viewportWidth,s=a.viewportHeight;t.width=t.width||i-t.xOffset,t.height=t.height||s-t.yOffset,t.needsCopy=!0,ne(t.xOffset>=0&&t.xOffset<i&&t.yOffset>=0&&t.yOffset<s&&t.width>0&&t.width<=i&&t.height>0&&t.height<=s,"copy texture read out of bounds")}else if(r){if(e(r))t.channels=t.channels||4,t.data=r,"type"in n||t.type!==Yn||(t.type=Ur(r));else if(Ir(r))t.channels=t.channels||4,Wr(t,r),t.alignment=1,t.needsFree=!0;else if(_t(r)){var u=r.data;Array.isArray(u)||t.type!==Yn||(t.type=Ur(u));var c,l,f,d,h,p,g=r.shape,v=r.stride;3===g.length?(f=g[2],p=v[2]):(ne(2===g.length,"invalid ndarray pixel data, must be 2 or 3D"),f=1,p=1),c=g[0],l=g[1],d=v[0],h=v[1],t.alignment=1,t.width=c,t.height=l,t.channels=f,t.format=t.internalformat=wr[f],t.needsFree=!0,Hr(t,u,d,h,p,r.offset)}else if(Lr(r)||jr(r)||Fr(r))Lr(r)||jr(r)?t.element=r:t.element=r.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(Br(r))t.element=r,t.width=r.width,t.height=r.height,t.channels=4;else if(zr(r))t.element=r,t.width=r.naturalWidth,t.height=r.naturalHeight,t.channels=4;else if(Gr(r))t.element=r,t.width=r.videoWidth,t.height=r.videoHeight,t.channels=4;else if(Dr(r)){var m=t.width||r[0].length,y=t.height||r.length,b=t.channels;b=fn(r[0][0])?b||r[0][0].length:b||1;for(var x=kt.shape(r),w=1,E=0;E<x.length;++E)w*=x[E];var _=Zr(t,w);kt.flatten(r,x,"",_),Yr(t,_),t.alignment=1,t.width=m,t.height=y,t.channels=b,t.format=t.internalformat=wr[b],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;t.type===Kn?ne(o.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):t.type===In&&ne(o.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function P(e,t,r){var o=e.element,a=e.data,s=e.internalformat,u=e.format,c=e.type,l=e.width,f=e.height;M(e),o?n.texImage2D(t,r,u,u,c,o):e.compressed?n.compressedTexImage2D(t,r,s,l,f,0,a):e.needsCopy?(i(),n.copyTexImage2D(t,r,u,e.xOffset,e.yOffset,l,f,0)):n.texImage2D(t,r,u,l,f,0,u,c,a||null)}function O(e,t,r,o,a){var s=e.element,u=e.data,c=e.internalformat,l=e.format,f=e.type,d=e.width,h=e.height;M(e),s?n.texSubImage2D(t,a,r,o,l,f,s):e.compressed?n.compressedTexSubImage2D(t,a,r,o,c,d,h,u):e.needsCopy?(i(),n.copyTexSubImage2D(t,a,r,o,e.xOffset,e.yOffset,d,h)):n.texSubImage2D(t,a,r,o,d,h,l,f,u)}var I=[];function D(){return I.pop()||new N}function R(e){e.needsFree&&je.freeType(e.data),N.call(e),I.push(e)}function L(){k.call(this),this.genMipmaps=!1,this.mipmapHint=lr,this.mipmask=0,this.images=Array(16)}function j(e,t,n){var r=e.images[0]=D();e.mipmask=1,r.width=e.width=t,r.height=e.height=n,r.channels=e.channels=4}function F(e,t){var n=null;if(Vr(t))T(n=e.images[0]=D(),e),A(n,t),e.mipmask=1;else if(C(e,t),Array.isArray(t.mipmap))for(var r=t.mipmap,o=0;o<r.length;++o)T(n=e.images[o]=D(),e),n.width>>=o,n.height>>=o,A(n,r[o]),e.mipmask|=1<<o;else T(n=e.images[0]=D(),e),A(n,t),e.mipmask=1;T(e,e.images[0]),!e.compressed||e.internalformat!==Dn&&e.internalformat!==Rn&&e.internalformat!==Ln&&e.internalformat!==jn||ne(e.width%4===0&&e.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function B(e,t){for(var n=e.images,r=0;r<n.length;++r){if(!n[r])return;P(n[r],t,r)}}var z=[];function G(){var e=z.pop()||new L;k.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function V(e){for(var t=e.images,n=0;n<t.length;++n)t[n]&&R(t[n]),t[n]=null;z.push(e)}function U(){this.minFilter=rr,this.magFilter=rr,this.wrapS=Qn,this.wrapT=Qn,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=lr}function W(e,t){if("min"in t){var n=t.min;ne.parameter(n,d),e.minFilter=d[n],xr.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var r=t.mag;ne.parameter(r,f),e.magFilter=f[r]}var i=e.wrapS,a=e.wrapT;if("wrap"in t){var s=t.wrap;"string"===typeof s?(ne.parameter(s,l),i=a=l[s]):Array.isArray(s)&&(ne.parameter(s[0],l),ne.parameter(s[1],l),i=l[s[0]],a=l[s[1]])}else{if("wrapS"in t){var u=t.wrapS;ne.parameter(u,l),i=l[u]}if("wrapT"in t){var h=t.wrapT;ne.parameter(h,l),a=l[h]}}if(e.wrapS=i,e.wrapT=a,"anisotropic"in t){var p=t.anisotropic;ne("number"===typeof p&&p>=1&&p<=o.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var g=!1;switch(typeof t.mipmap){case"string":ne.parameter(t.mipmap,c,"invalid mipmap hint"),e.mipmapHint=c[t.mipmap],e.genMipmaps=!0,g=!0;break;case"boolean":g=e.genMipmaps=t.mipmap;break;case"object":ne(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,g=!0;break;default:ne.raise("invalid mipmap type")}g&&!("min"in t)&&(e.minFilter=ir)}}function Z(e,t){n.texParameteri(t,nr,e.minFilter),n.texParameteri(t,tr,e.magFilter),n.texParameteri(t,qn,e.wrapS),n.texParameteri(t,$n,e.wrapT),r.ext_texture_filter_anisotropic&&n.texParameteri(t,hr,e.anisotropic),e.genMipmaps&&(n.hint(cr,e.mipmapHint),n.generateMipmap(t))}var Y=0,H={},X=o.maxTextureUnits,K=Array(X).map((function(){return null}));function q(e){k.call(this),this.mipmask=0,this.internalformat=mn,this.id=Y++,this.refCount=1,this.target=e,this.texture=n.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new U,u.profile&&(this.stats={size:0})}function $(e){n.activeTexture(br),n.bindTexture(e.target,e.texture)}function J(){var e=K[0];e?n.bindTexture(e.target,e.texture):n.bindTexture(pn,null)}function Q(e){var t=e.texture;ne(t,"must not double destroy texture");var r=e.unit,o=e.target;r>=0&&(n.activeTexture(br+r),n.bindTexture(o,null),K[r]=null),n.deleteTexture(t),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete H[e.id],s.textureCount--}function ee(e,t){var r=new q(pn);function i(e,t){var n=r.texInfo;U.call(n);var a=G();return"number"===typeof e?j(a,0|e,"number"===typeof t?0|t:0|e):e?(ne.type(e,"object","invalid arguments to regl.texture"),W(n,e),F(a,e)):j(a,1,1),n.genMipmaps&&(a.mipmask=(a.width<<1)-1),r.mipmask=a.mipmask,T(r,a),ne.texture2D(n,a,o),r.internalformat=a.internalformat,i.width=a.width,i.height=a.height,$(r),B(a,pn),Z(n,pn),J(),V(a),u.profile&&(r.stats.size=Xr(r.internalformat,r.type,a.width,a.height,n.genMipmaps,!1)),i.format=b[r.internalformat],i.type=x[r.type],i.mag=w[n.magFilter],i.min=E[n.minFilter],i.wrapS=_[n.wrapS],i.wrapT=_[n.wrapT],i}function a(e,t,n,o){ne(!!e,"must specify image data");var a=0|t,s=0|n,u=0|o,c=D();return T(c,r),c.width=0,c.height=0,A(c,e),c.width=c.width||(r.width>>u)-a,c.height=c.height||(r.height>>u)-s,ne(r.type===c.type&&r.format===c.format&&r.internalformat===c.internalformat,"incompatible format for texture.subimage"),ne(a>=0&&s>=0&&a+c.width<=r.width&&s+c.height<=r.height,"texture.subimage write out of bounds"),ne(r.mipmask&1<<u,"missing mipmap data"),ne(c.data||c.element||c.needsCopy,"missing image data"),$(r),O(c,pn,a,s,u),J(),R(c),i}function c(e,t){var o=0|e,a=0|t||o;if(o===r.width&&a===r.height)return i;i.width=r.width=o,i.height=r.height=a,$(r);for(var s=0;r.mipmask>>s;++s){var c=o>>s,l=a>>s;if(!c||!l)break;n.texImage2D(pn,s,r.format,c,l,0,r.format,r.type,null)}return J(),u.profile&&(r.stats.size=Xr(r.internalformat,r.type,o,a,!1,!1)),i}return H[r.id]=r,s.textureCount++,i(e,t),i.subimage=a,i.resize=c,i._reglType="texture2d",i._texture=r,u.profile&&(i.stats=r.stats),i.destroy=function(){r.decRef()},i}function te(e,t,r,i,a,c){var l=new q(gn);H[l.id]=l,s.cubeCount++;var f=new Array(6);function d(e,t,n,r,i,a){var s,c=l.texInfo;for(U.call(c),s=0;s<6;++s)f[s]=G();if("number"!==typeof e&&e)if("object"===typeof e)if(t)F(f[0],e),F(f[1],t),F(f[2],n),F(f[3],r),F(f[4],i),F(f[5],a);else if(W(c,e),C(l,e),"faces"in e){var h=e.faces;for(ne(Array.isArray(h)&&6===h.length,"cube faces must be a length 6 array"),s=0;s<6;++s)ne("object"===typeof h[s]&&!!h[s],"invalid input for cube map face"),T(f[s],l),F(f[s],h[s])}else for(s=0;s<6;++s)F(f[s],e);else ne.raise("invalid arguments to cube map");else{var p=0|e||1;for(s=0;s<6;++s)j(f[s],p,p)}for(T(l,f[0]),o.npotTextureCube||ne(dn(l.width)&&dn(l.height),"your browser does not support non power or two texture dimensions"),c.genMipmaps?l.mipmask=(f[0].width<<1)-1:l.mipmask=f[0].mipmask,ne.textureCube(l,c,f,o),l.internalformat=f[0].internalformat,d.width=f[0].width,d.height=f[0].height,$(l),s=0;s<6;++s)B(f[s],vn+s);for(Z(c,gn),J(),u.profile&&(l.stats.size=Xr(l.internalformat,l.type,d.width,d.height,c.genMipmaps,!0)),d.format=b[l.internalformat],d.type=x[l.type],d.mag=w[c.magFilter],d.min=E[c.minFilter],d.wrapS=_[c.wrapS],d.wrapT=_[c.wrapT],s=0;s<6;++s)V(f[s]);return d}function h(e,t,n,r,o){ne(!!t,"must specify image data"),ne("number"===typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var i=0|n,a=0|r,s=0|o,u=D();return T(u,l),u.width=0,u.height=0,A(u,t),u.width=u.width||(l.width>>s)-i,u.height=u.height||(l.height>>s)-a,ne(l.type===u.type&&l.format===u.format&&l.internalformat===u.internalformat,"incompatible format for texture.subimage"),ne(i>=0&&a>=0&&i+u.width<=l.width&&a+u.height<=l.height,"texture.subimage write out of bounds"),ne(l.mipmask&1<<s,"missing mipmap data"),ne(u.data||u.element||u.needsCopy,"missing image data"),$(l),O(u,vn+e,i,a,s),J(),R(u),d}function p(e){var t=0|e;if(t!==l.width){d.width=l.width=t,d.height=l.height=t,$(l);for(var r=0;r<6;++r)for(var o=0;l.mipmask>>o;++o)n.texImage2D(vn+r,o,l.format,t>>o,t>>o,0,l.format,l.type,null);return J(),u.profile&&(l.stats.size=Xr(l.internalformat,l.type,d.width,d.height,!1,!0)),d}}return d(e,t,r,i,a,c),d.subimage=h,d.resize=p,d._reglType="textureCube",d._texture=l,u.profile&&(d.stats=l.stats),d.destroy=function(){l.decRef()},d}function re(){for(var e=0;e<X;++e)n.activeTexture(br+e),n.bindTexture(pn,null),K[e]=null;St(H).forEach(Q),s.cubeCount=0,s.textureCount=0}function oe(){for(var e=0;e<X;++e){var t=K[e];t&&(t.bindCount=0,t.unit=-1,K[e]=null)}St(H).forEach((function(e){e.texture=n.createTexture(),n.bindTexture(e.target,e.texture);for(var t=0;t<32;++t)if(0!==(e.mipmask&1<<t))if(e.target===pn)n.texImage2D(pn,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);else for(var r=0;r<6;++r)n.texImage2D(vn+r,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);Z(e.texInfo,e.target)}))}function ie(){for(var e=0;e<X;++e){var t=K[e];t&&(t.bindCount=0,t.unit=-1,K[e]=null),n.activeTexture(br+e),n.bindTexture(pn,null),n.bindTexture(gn,null)}}return t(q.prototype,{bind:function(){var e=this;e.bindCount+=1;var t=e.unit;if(t<0){for(var r=0;r<X;++r){var o=K[r];if(o){if(o.bindCount>0)continue;o.unit=-1}K[r]=e,t=r;break}t>=X&&ne.raise("insufficient number of texture units"),u.profile&&s.maxTextureUnits<t+1&&(s.maxTextureUnits=t+1),e.unit=t,n.activeTexture(br+t),n.bindTexture(e.target,e.texture)}return t},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Q(this)}}),u.profile&&(s.getTotalTextureSize=function(){var e=0;return Object.keys(H).forEach((function(t){e+=H[t].stats.size})),e}),{create2D:ee,createCube:te,clear:re,getTexture:function(e){return null},restore:oe,refresh:ie}}Or[En]=2,Or[_n]=2,Or[Sn]=2,Or[An]=4,Or[Dn]=.5,Or[Rn]=.5,Or[Ln]=1,Or[jn]=1,Or[Fn]=.5,Or[Bn]=1,Or[zn]=1,Or[Gn]=.5,Or[Vn]=.25,Or[Un]=.5,Or[Wn]=.25,Or[Zn]=.5;var qr=36161,$r=32854,Jr=32855,Qr=36194,eo=33189,to=36168,no=34041,ro=35907,oo=34836,io=34842,ao=34843,so=[];function uo(e,t,n){return so[e]*t*n}so[$r]=2,so[Jr]=2,so[Qr]=2,so[eo]=2,so[to]=1,so[no]=4,so[ro]=4,so[oo]=16,so[io]=8,so[ao]=6;var co=function(e,t,n,r,o){var i={rgba4:$r,rgb565:Qr,"rgb5 a1":Jr,depth:eo,stencil:to,"depth stencil":no};t.ext_srgb&&(i.srgba=ro),t.ext_color_buffer_half_float&&(i.rgba16f=io,i.rgb16f=ao),t.webgl_color_buffer_float&&(i.rgba32f=oo);var a=[];Object.keys(i).forEach((function(e){var t=i[e];a[t]=e}));var s=0,u={};function c(e){this.id=s++,this.refCount=1,this.renderbuffer=e,this.format=$r,this.width=0,this.height=0,o.profile&&(this.stats={size:0})}function l(t){var n=t.renderbuffer;ne(n,"must not double destroy renderbuffer"),e.bindRenderbuffer(qr,null),e.deleteRenderbuffer(n),t.renderbuffer=null,t.refCount=0,delete u[t.id],r.renderbufferCount--}function f(t,s){var l=new c(e.createRenderbuffer());function f(t,r){var s=0,u=0,c=$r;if("object"===typeof t&&t){var d=t;if("shape"in d){var h=d.shape;ne(Array.isArray(h)&&h.length>=2,"invalid renderbuffer shape"),s=0|h[0],u=0|h[1]}else"radius"in d&&(s=u=0|d.radius),"width"in d&&(s=0|d.width),"height"in d&&(u=0|d.height);"format"in d&&(ne.parameter(d.format,i,"invalid renderbuffer format"),c=i[d.format])}else"number"===typeof t?(s=0|t,u="number"===typeof r?0|r:s):t?ne.raise("invalid arguments to renderbuffer constructor"):s=u=1;if(ne(s>0&&u>0&&s<=n.maxRenderbufferSize&&u<=n.maxRenderbufferSize,"invalid renderbuffer size"),s!==l.width||u!==l.height||c!==l.format)return f.width=l.width=s,f.height=l.height=u,l.format=c,e.bindRenderbuffer(qr,l.renderbuffer),e.renderbufferStorage(qr,c,s,u),ne(0===e.getError(),"invalid render buffer format"),o.profile&&(l.stats.size=uo(l.format,l.width,l.height)),f.format=a[l.format],f}function d(t,r){var i=0|t,a=0|r||i;return i===l.width&&a===l.height||(ne(i>0&&a>0&&i<=n.maxRenderbufferSize&&a<=n.maxRenderbufferSize,"invalid renderbuffer size"),f.width=l.width=i,f.height=l.height=a,e.bindRenderbuffer(qr,l.renderbuffer),e.renderbufferStorage(qr,l.format,i,a),ne(0===e.getError(),"invalid render buffer format"),o.profile&&(l.stats.size=uo(l.format,l.width,l.height))),f}return u[l.id]=l,r.renderbufferCount++,f(t,s),f.resize=d,f._reglType="renderbuffer",f._renderbuffer=l,o.profile&&(f.stats=l.stats),f.destroy=function(){l.decRef()},f}function d(){St(u).forEach((function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(qr,t.renderbuffer),e.renderbufferStorage(qr,t.format,t.width,t.height)})),e.bindRenderbuffer(qr,null)}return c.prototype.decRef=function(){--this.refCount<=0&&l(this)},o.profile&&(r.getTotalRenderbufferSize=function(){var e=0;return Object.keys(u).forEach((function(t){e+=u[t].stats.size})),e}),{create:f,clear:function(){St(u).forEach(l)},restore:d}},lo=36160,fo=36161,ho=3553,po=34069,go=36064,vo=36096,mo=36128,yo=33306,bo=36053,xo=36054,wo=36055,Eo=36057,_o=36061,So=36193,ko=5121,To=5126,Co=6407,Mo=6408,No=6402,Ao=[Co,Mo],Po=[];Po[Mo]=4,Po[Co]=3;var Oo=[];Oo[ko]=1,Oo[To]=4,Oo[So]=2;var Io=33189,Do=36168,Ro=34041,Lo=[32854,32855,36194,35907,34842,34843,34836],jo={};function Fo(e,n,r,o,i,a){var s={cur:null,next:null,dirty:!1,setFBO:null},u=["rgba"],c=["rgba4","rgb565","rgb5 a1"];n.ext_srgb&&c.push("srgba"),n.ext_color_buffer_half_float&&c.push("rgba16f","rgb16f"),n.webgl_color_buffer_float&&c.push("rgba32f");var l=["uint8"];function f(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var r=0,o=0;t?(r=t.width,o=t.height):n&&(r=n.width,o=n.height),this.width=r,this.height=o}function d(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function h(e,t,n){if(e)if(e.texture){var r=e.texture._texture,o=Math.max(1,r.width),i=Math.max(1,r.height);ne(o===t&&i===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var a=e.renderbuffer._renderbuffer;ne(a.width===t&&a.height===n,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function p(t,n){n&&(n.texture?e.framebufferTexture2D(lo,t,n.target,n.texture._texture.texture,0):e.framebufferRenderbuffer(lo,t,fo,n.renderbuffer._renderbuffer.renderbuffer))}function g(e){var t=ho,n=null,r=null,o=e;"object"===typeof e&&(o=e.data,"target"in e&&(t=0|e.target)),ne.type(o,"function","invalid attachment data");var i=o._reglType;return"texture2d"===i?(n=o,ne(t===ho)):"textureCube"===i?(n=o,ne(t>=po&&t<po+6,"invalid cube map target")):"renderbuffer"===i?(r=o,t=fo):ne.raise("invalid regl object for attachment"),new f(t,n,r)}function v(e,t,n,r,a){if(n){var s=o.create2D({width:e,height:t,format:r,type:a});return s._texture.refCount=0,new f(ho,s,null)}var u=i.create({width:e,height:t,format:r});return u._renderbuffer.refCount=0,new f(fo,null,u)}function m(e){return e&&(e.texture||e.renderbuffer)}function y(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n),e.width=t,e.height=n)}n.oes_texture_half_float&&l.push("half float","float16"),n.oes_texture_float&&l.push("float","float32");var b=0,x={};function w(){this.id=b++,x[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function E(e){e.colorAttachments.forEach(d),d(e.depthAttachment),d(e.stencilAttachment),d(e.depthStencilAttachment)}function _(t){var n=t.framebuffer;ne(n,"must not double destroy framebuffer"),e.deleteFramebuffer(n),t.framebuffer=null,a.framebufferCount--,delete x[t.id]}function S(t){var n;e.bindFramebuffer(lo,t.framebuffer);var o=t.colorAttachments;for(n=0;n<o.length;++n)p(go+n,o[n]);for(n=o.length;n<r.maxColorAttachments;++n)e.framebufferTexture2D(lo,go+n,ho,null,0);e.framebufferTexture2D(lo,yo,ho,null,0),e.framebufferTexture2D(lo,vo,ho,null,0),e.framebufferTexture2D(lo,mo,ho,null,0),p(vo,t.depthAttachment),p(mo,t.stencilAttachment),p(yo,t.depthStencilAttachment);var i=e.checkFramebufferStatus(lo);e.isContextLost()||i===bo||ne.raise("framebuffer configuration not supported, status = "+jo[i]),e.bindFramebuffer(lo,s.next?s.next.framebuffer:null),s.cur=s.next,e.getError()}function k(e,o){var i=new w;function f(e,t){var o;ne(s.next!==i,"can not update framebuffer which is currently in use");var a=0,d=0,p=!0,y=!0,b=null,x=!0,w="rgba",_="uint8",k=1,T=null,C=null,M=null,N=!1;if("number"===typeof e)a=0|e,d=0|t||a;else if(e){ne.type(e,"object","invalid arguments for framebuffer");var A=e;if("shape"in A){var P=A.shape;ne(Array.isArray(P)&&P.length>=2,"invalid shape for framebuffer"),a=P[0],d=P[1]}else"radius"in A&&(a=d=A.radius),"width"in A&&(a=A.width),"height"in A&&(d=A.height);("color"in A||"colors"in A)&&(b=A.color||A.colors,Array.isArray(b)&&ne(1===b.length||n.webgl_draw_buffers,"multiple render targets not supported")),b||("colorCount"in A&&(k=0|A.colorCount,ne(k>0,"invalid color buffer count")),"colorTexture"in A&&(x=!!A.colorTexture,w="rgba4"),"colorType"in A&&(_=A.colorType,x?(ne(n.oes_texture_float||!("float"===_||"float32"===_),"you must enable OES_texture_float in order to use floating point framebuffer objects"),ne(n.oes_texture_half_float||!("half float"===_||"float16"===_),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===_||"float16"===_?(ne(n.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),w="rgba16f"):"float"!==_&&"float32"!==_||(ne(n.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),w="rgba32f"),ne.oneOf(_,l,"invalid color type")),"colorFormat"in A&&(w=A.colorFormat,u.indexOf(w)>=0?x=!0:c.indexOf(w)>=0?x=!1:x?ne.oneOf(A.colorFormat,u,"invalid color format for texture"):ne.oneOf(A.colorFormat,c,"invalid color format for renderbuffer"))),("depthTexture"in A||"depthStencilTexture"in A)&&(N=!(!A.depthTexture&&!A.depthStencilTexture),ne(!N||n.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in A&&("boolean"===typeof A.depth?p=A.depth:(T=A.depth,y=!1)),"stencil"in A&&("boolean"===typeof A.stencil?y=A.stencil:(C=A.stencil,p=!1)),"depthStencil"in A&&("boolean"===typeof A.depthStencil?p=y=A.depthStencil:(M=A.depthStencil,p=!1,y=!1))}else a=d=1;var O=null,I=null,D=null,R=null;if(Array.isArray(b))O=b.map(g);else if(b)O=[g(b)];else for(O=new Array(k),o=0;o<k;++o)O[o]=v(a,d,x,w,_);ne(n.webgl_draw_buffers||O.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),ne(O.length<=r.maxColorAttachments,"too many color attachments, not supported"),a=a||O[0].width,d=d||O[0].height,T?I=g(T):p&&!y&&(I=v(a,d,N,"depth","uint32")),C?D=g(C):y&&!p&&(D=v(a,d,!1,"stencil","uint8")),M?R=g(M):!T&&!C&&y&&p&&(R=v(a,d,N,"depth stencil","depth stencil")),ne(!!T+!!C+!!M<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var L=null;for(o=0;o<O.length;++o)if(h(O[o],a,d),ne(!O[o]||O[o].texture&&Ao.indexOf(O[o].texture._texture.format)>=0||O[o].renderbuffer&&Lo.indexOf(O[o].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+o+" is invalid"),O[o]&&O[o].texture){var j=Po[O[o].texture._texture.format]*Oo[O[o].texture._texture.type];null===L?L=j:ne(L===j,"all color attachments much have the same number of bits per pixel.")}return h(I,a,d),ne(!I||I.texture&&I.texture._texture.format===No||I.renderbuffer&&I.renderbuffer._renderbuffer.format===Io,"invalid depth attachment for framebuffer object"),h(D,a,d),ne(!D||D.renderbuffer&&D.renderbuffer._renderbuffer.format===Do,"invalid stencil attachment for framebuffer object"),h(R,a,d),ne(!R||R.texture&&R.texture._texture.format===Ro||R.renderbuffer&&R.renderbuffer._renderbuffer.format===Ro,"invalid depth-stencil attachment for framebuffer object"),E(i),i.width=a,i.height=d,i.colorAttachments=O,i.depthAttachment=I,i.stencilAttachment=D,i.depthStencilAttachment=R,f.color=O.map(m),f.depth=m(I),f.stencil=m(D),f.depthStencil=m(R),f.width=i.width,f.height=i.height,S(i),f}function d(e,t){ne(s.next!==i,"can not resize a framebuffer which is currently in use");var n=Math.max(0|e,1),r=Math.max(0|t||n,1);if(n===i.width&&r===i.height)return f;for(var o=i.colorAttachments,a=0;a<o.length;++a)y(o[a],n,r);return y(i.depthAttachment,n,r),y(i.stencilAttachment,n,r),y(i.depthStencilAttachment,n,r),i.width=f.width=n,i.height=f.height=r,S(i),f}return a.framebufferCount++,f(e,o),t(f,{resize:d,_reglType:"framebuffer",_framebuffer:i,destroy:function(){_(i),E(i)},use:function(e){s.setFBO({framebuffer:f},e)}})}function T(e){var i=Array(6);function a(e){var r;ne(i.indexOf(s.next)<0,"can not update framebuffer which is currently in use");var c,f={color:null},d=0,h=null,p="rgba",g="uint8",v=1;if("number"===typeof e)d=0|e;else if(e){ne.type(e,"object","invalid arguments for framebuffer");var m=e;if("shape"in m){var y=m.shape;ne(Array.isArray(y)&&y.length>=2,"invalid shape for framebuffer"),ne(y[0]===y[1],"cube framebuffer must be square"),d=y[0]}else"radius"in m&&(d=0|m.radius),"width"in m?(d=0|m.width,"height"in m&&ne(m.height===d,"must be square")):"height"in m&&(d=0|m.height);("color"in m||"colors"in m)&&(h=m.color||m.colors,Array.isArray(h)&&ne(1===h.length||n.webgl_draw_buffers,"multiple render targets not supported")),h||("colorCount"in m&&(v=0|m.colorCount,ne(v>0,"invalid color buffer count")),"colorType"in m&&(ne.oneOf(m.colorType,l,"invalid color type"),g=m.colorType),"colorFormat"in m&&(p=m.colorFormat,ne.oneOf(m.colorFormat,u,"invalid color format for texture"))),"depth"in m&&(f.depth=m.depth),"stencil"in m&&(f.stencil=m.stencil),"depthStencil"in m&&(f.depthStencil=m.depthStencil)}else d=1;if(h)if(Array.isArray(h))for(c=[],r=0;r<h.length;++r)c[r]=h[r];else c=[h];else{c=Array(v);var b={radius:d,format:p,type:g};for(r=0;r<v;++r)c[r]=o.createCube(b)}for(f.color=Array(c.length),r=0;r<c.length;++r){var x=c[r];ne("function"===typeof x&&"textureCube"===x._reglType,"invalid cube map"),d=d||x.width,ne(x.width===d&&x.height===d,"invalid cube map shape"),f.color[r]={target:po,data:c[r]}}for(r=0;r<6;++r){for(var w=0;w<c.length;++w)f.color[w].target=po+r;r>0&&(f.depth=i[0].depth,f.stencil=i[0].stencil,f.depthStencil=i[0].depthStencil),i[r]?i[r](f):i[r]=k(f)}return t(a,{width:d,height:d,color:c})}function c(e){var t,n=0|e;if(ne(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===a.width)return a;var o=a.color;for(t=0;t<o.length;++t)o[t].resize(n);for(t=0;t<6;++t)i[t].resize(n);return a.width=a.height=n,a}return a(e),t(a,{faces:i,resize:c,_reglType:"framebufferCube",destroy:function(){i.forEach((function(e){e.destroy()}))}})}function C(){s.cur=null,s.next=null,s.dirty=!0,St(x).forEach((function(t){t.framebuffer=e.createFramebuffer(),S(t)}))}return t(s,{getFramebuffer:function(e){if("function"===typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof w)return t}return null},create:k,createCube:T,clear:function(){St(x).forEach(_)},restore:C})}jo[bo]="complete",jo[xo]="incomplete attachment",jo[Eo]="incomplete dimensions",jo[wo]="incomplete, missing attachment",jo[_o]="unsupported";var Bo=5126,zo=34962;function Go(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Bo,this.offset=0,this.stride=0,this.divisor=0}function Vo(t,n,r,o,i){for(var a=r.maxAttributes,s=new Array(a),u=0;u<a;++u)s[u]=new Go;var c=0,l={},f={Record:Go,scope:{},state:s,currentVAO:null,targetVAO:null,restore:h()?x:function(){},createVAO:w,getVAO:g,destroyBuffer:d,setVAO:h()?v:m,clear:h()?y:function(){}};function d(e){for(var n=0;n<s.length;++n){var r=s[n];r.buffer===e&&(t.disableVertexAttribArray(n),r.buffer=null)}}function h(){return n.oes_vertex_array_object}function p(){return n.angle_instanced_arrays}function g(e){return"function"===typeof e&&e._vao?e._vao:null}function v(e){if(e!==f.currentVAO){var t=h();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),f.currentVAO=e}}function m(e){if(e!==f.currentVAO){if(e)e.bindAttrs();else for(var n=p(),r=0;r<s.length;++r){var o=s[r];o.buffer?(t.enableVertexAttribArray(r),t.vertexAttribPointer(r,o.size,o.type,o.normalized,o.stride,o.offfset),n&&o.divisor&&n.vertexAttribDivisorANGLE(r,o.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,o.x,o.y,o.z,o.w))}f.currentVAO=e}}function y(){St(l).forEach((function(e){e.destroy()}))}function b(){this.id=++c,this.attributes=[];var e=h();this.vao=e?e.createVertexArrayOES():null,l[this.id]=this,this.buffers=[]}function x(){h()&&St(l).forEach((function(e){e.refresh()}))}function w(t){var r=new b;function s(t){ne(Array.isArray(t),"arguments to vertex array constructor must be an array"),ne(t.length<a,"too many attributes"),ne(t.length>0,"must specify at least one attribute");var o={},u=r.attributes;u.length=t.length;for(var c=0;c<t.length;++c){var l,f=t[c],d=u[c]=new Go,h=f.data||f;Array.isArray(h)||e(h)||_t(h)?(r.buffers[c]&&(l=r.buffers[c],e(h)&&l._buffer.byteLength>=h.byteLength?l.subdata(h):(l.destroy(),r.buffers[c]=null)),r.buffers[c]||(l=r.buffers[c]=i.create(f,zo,!1,!0)),d.buffer=i.getBuffer(l),d.size=0|d.buffer.dimension,d.normalized=!1,d.type=d.buffer.dtype,d.offset=0,d.stride=0,d.divisor=0,d.state=1,o[c]=1):i.getBuffer(f)?(d.buffer=i.getBuffer(f),d.size=0|d.buffer.dimension,d.normalized=!1,d.type=d.buffer.dtype,d.offset=0,d.stride=0,d.divisor=0,d.state=1):i.getBuffer(f.buffer)?(d.buffer=i.getBuffer(f.buffer),d.size=0|(+f.size||d.buffer.dimension),d.normalized=!!f.normalized||!1,"type"in f?(ne.parameter(f.type,It,"invalid buffer type"),d.type=It[f.type]):d.type=d.buffer.dtype,d.offset=0|(f.offset||0),d.stride=0|(f.stride||0),d.divisor=0|(f.divisor||0),d.state=1,ne(d.size>=1&&d.size<=4,"size must be between 1 and 4"),ne(d.offset>=0,"invalid offset"),ne(d.stride>=0&&d.stride<=255,"stride must be between 0 and 255"),ne(d.divisor>=0,"divisor must be positive"),ne(!d.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in f?(ne(c>0,"first attribute must not be a constant"),d.x=+f.x||0,d.y=+f.y||0,d.z=+f.z||0,d.w=+f.w||0,d.state=2):ne(!1,"invalid attribute spec for location "+c)}for(var p=0;p<r.buffers.length;++p)!o[p]&&r.buffers[p]&&(r.buffers[p].destroy(),r.buffers[p]=null);return r.refresh(),s}return o.vaoCount+=1,s.destroy=function(){for(var e=0;e<r.buffers.length;++e)r.buffers[e]&&r.buffers[e].destroy();r.buffers.length=0,r.destroy()},s._vao=r,s._reglType="vao",s(t)}return b.prototype.bindAttrs=function(){for(var e=p(),n=this.attributes,r=0;r<n.length;++r){var o=n[r];o.buffer?(t.enableVertexAttribArray(r),t.bindBuffer(zo,o.buffer.buffer),t.vertexAttribPointer(r,o.size,o.type,o.normalized,o.stride,o.offset),e&&o.divisor&&e.vertexAttribDivisorANGLE(r,o.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,o.x,o.y,o.z,o.w))}for(var i=n.length;i<a;++i)t.disableVertexAttribArray(i)},b.prototype.refresh=function(){var e=h();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),f.currentVAO=this)},b.prototype.destroy=function(){if(this.vao){var e=h();this===f.currentVAO&&(f.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}l[this.id]&&(delete l[this.id],o.vaoCount-=1)},f}var Uo=35632,Wo=35633,Zo=35718,Yo=35721;function Ho(e,n,r,o){var i={},a={};function s(e,t,n,r){this.name=e,this.id=t,this.location=n,this.info=r}function u(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t.id)return void(e[n].location=t.location);e.push(t)}function c(t,r,o){var s=t===Uo?i:a,u=s[r];if(!u){var c=n.str(r);u=e.createShader(t),e.shaderSource(u,c),e.compileShader(u),ne.shaderError(e,u,c,t,o),s[r]=u}return u}var l={},f=[],d=0;function h(e,t){this.id=d++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,o.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function p(t,r,i){var a,l,f=c(Uo,t.fragId),d=c(Wo,t.vertId),h=t.program=e.createProgram();if(e.attachShader(h,f),e.attachShader(h,d),i)for(a=0;a<i.length;++a){var p=i[a];e.bindAttribLocation(h,p[0],p[1])}e.linkProgram(h),ne.linkError(e,h,n.str(t.fragId),n.str(t.vertId),r);var g=e.getProgramParameter(h,Zo);o.profile&&(t.stats.uniformsCount=g);var v=t.uniforms;for(a=0;a<g;++a)if(l=e.getActiveUniform(h,a))if(l.size>1)for(var m=0;m<l.size;++m){var y=l.name.replace("[0]","["+m+"]");u(v,new s(y,n.id(y),e.getUniformLocation(h,y),l))}else u(v,new s(l.name,n.id(l.name),e.getUniformLocation(h,l.name),l));var b=e.getProgramParameter(h,Yo);o.profile&&(t.stats.attributesCount=b);var x=t.attributes;for(a=0;a<b;++a)(l=e.getActiveAttrib(h,a))&&u(x,new s(l.name,n.id(l.name),e.getAttribLocation(h,l.name),l))}function g(){i={},a={};for(var e=0;e<f.length;++e)p(f[e],null,f[e].attributes.map((function(e){return[e.location,e.name]})))}return o.profile&&(r.getMaxUniformsCount=function(){var e=0;return f.forEach((function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)})),e},r.getMaxAttributesCount=function(){var e=0;return f.forEach((function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)})),e}),{clear:function(){var t=e.deleteShader.bind(e);St(i).forEach(t),i={},St(a).forEach(t),a={},f.forEach((function(t){e.deleteProgram(t.program)})),f.length=0,l={},r.shaderCount=0},program:function(n,o,s,u){ne.command(n>=0,"missing vertex shader",s),ne.command(o>=0,"missing fragment shader",s);var c=l[o];c||(c=l[o]={});var d=c[n];if(d&&(d.refCount++,!u))return d;var g=new h(o,n);return r.shaderCount++,p(g,s,u),d||(c[n]=g),f.push(g),t(g,{destroy:function(){if(g.refCount--,g.refCount<=0){e.deleteProgram(g.program);var t=f.indexOf(g);f.splice(t,1),r.shaderCount--}c[g.vertId].refCount<=0&&(e.deleteShader(a[g.vertId]),delete a[g.vertId],delete l[g.fragId][g.vertId]),Object.keys(l[g.fragId]).length||(e.deleteShader(i[g.fragId]),delete i[g.fragId],delete l[g.fragId])}})},restore:g,shader:c,frag:-1,vert:-1}}var Xo=6408,Ko=5121,qo=3333,$o=5126;function Jo(t,n,r,o,i,a,s){function u(u){var c;null===n.next?(ne(i.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),c=Ko):(ne(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),c=n.next.colorAttachments[0].texture._texture.type,a.oes_texture_float?(ne(c===Ko||c===$o,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),c===$o&&ne(s.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):ne(c===Ko,"Reading from a framebuffer is only allowed for the type 'uint8'"));var l=0,f=0,d=o.framebufferWidth,h=o.framebufferHeight,p=null;e(u)?p=u:u&&(ne.type(u,"object","invalid arguments to regl.read()"),l=0|u.x,f=0|u.y,ne(l>=0&&l<o.framebufferWidth,"invalid x offset for regl.read"),ne(f>=0&&f<o.framebufferHeight,"invalid y offset for regl.read"),d=0|(u.width||o.framebufferWidth-l),h=0|(u.height||o.framebufferHeight-f),p=u.data||null),p&&(c===Ko?ne(p instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):c===$o&&ne(p instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),ne(d>0&&d+l<=o.framebufferWidth,"invalid width for read pixels"),ne(h>0&&h+f<=o.framebufferHeight,"invalid height for read pixels"),r();var g=d*h*4;return p||(c===Ko?p=new Uint8Array(g):c===$o&&(p=p||new Float32Array(g))),ne.isTypedArray(p,"data buffer for regl.read() must be a typedarray"),ne(p.byteLength>=g,"data buffer for regl.read() too small"),t.pixelStorei(qo,4),t.readPixels(l,f,d,h,Xo,c,p),p}function c(e){var t;return n.setFBO({framebuffer:e.framebuffer},(function(){t=u(e)})),t}function l(e){return e&&"framebuffer"in e?c(e):u(e)}return l}function Qo(e){return Array.prototype.slice.call(e)}function ei(e){return Qo(e).join("")}function ti(){var e=0,n=[],r=[];function o(t){for(var o=0;o<r.length;++o)if(r[o]===t)return n[o];var i="g"+e++;return n.push(i),r.push(t),i}function i(){var n=[];function r(){n.push.apply(n,Qo(arguments))}var o=[];function i(){var t="v"+e++;return o.push(t),arguments.length>0&&(n.push(t,"="),n.push.apply(n,Qo(arguments)),n.push(";")),t}return t(r,{def:i,toString:function(){return ei([o.length>0?"var "+o.join(",")+";":"",ei(n)])}})}function a(){var e=i(),n=i(),r=e.toString,o=n.toString;function a(t,r){n(t,r,"=",e.def(t,r),";")}return t((function(){e.apply(e,Qo(arguments))}),{def:e.def,entry:e,exit:n,save:a,set:function(t,n,r){a(t,n),e(t,n,"=",r,";")},toString:function(){return r()+o()}})}function s(){var e=ei(arguments),n=a(),r=a(),o=n.toString,i=r.toString;return t(n,{then:function(){return n.apply(n,Qo(arguments)),this},else:function(){return r.apply(r,Qo(arguments)),this},toString:function(){var t=i();return t&&(t="else{"+t+"}"),ei(["if(",e,"){",o(),"}",t])}})}var u=i(),c={};function l(e,n){var r=[];function o(){var e="a"+r.length;return r.push(e),e}n=n||0;for(var i=0;i<n;++i)o();var s=a(),u=s.toString;return c[e]=t(s,{arg:o,toString:function(){return ei(["function(",r.join(),"){",u(),"}"])}})}function f(){var e=['"use strict";',u,"return {"];Object.keys(c).forEach((function(t){e.push('"',t,'":',c[t].toString(),",")})),e.push("}");var t=ei(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,n.concat(t)).apply(null,r)}return{global:u,link:o,block:i,proc:l,scope:a,cond:s,compile:f}}var ni="xyzw".split(""),ri=5121,oi=1,ii=2,ai=0,si=1,ui=2,ci=3,li=4,fi=5,di=6,hi="dither",pi="blend.enable",gi="blend.color",vi="blend.equation",mi="blend.func",yi="depth.enable",bi="depth.func",xi="depth.range",wi="depth.mask",Ei="colorMask",_i="cull.enable",Si="cull.face",ki="frontFace",Ti="lineWidth",Ci="polygonOffset.enable",Mi="polygonOffset.offset",Ni="sample.alpha",Ai="sample.enable",Pi="sample.coverage",Oi="stencil.enable",Ii="stencil.mask",Di="stencil.func",Ri="stencil.opFront",Li="stencil.opBack",ji="scissor.enable",Fi="scissor.box",Bi="viewport",zi="profile",Gi="framebuffer",Vi="vert",Ui="frag",Wi="elements",Zi="primitive",Yi="count",Hi="offset",Xi="instances",Ki="vao",qi="Width",$i="Height",Ji=Gi+qi,Qi=Gi+$i,ea=Bi+qi,ta=Bi+$i,na="drawingBuffer",ra=na+qi,oa=na+$i,ia=[mi,vi,Di,Ri,Li,Pi,Bi,Fi,Mi],aa=34962,sa=34963,ua=3553,ca=34067,la=2884,fa=3042,da=3024,ha=2960,pa=2929,ga=3089,va=32823,ma=32926,ya=32928,ba=5126,xa=35664,wa=35665,Ea=35666,_a=5124,Sa=35667,ka=35668,Ta=35669,Ca=35670,Ma=35671,Na=35672,Aa=35673,Pa=35674,Oa=35675,Ia=35676,Da=35678,Ra=35680,La=4,ja=1028,Fa=1029,Ba=2304,za=2305,Ga=32775,Va=32776,Ua=519,Wa=7680,Za=0,Ya=1,Ha=32774,Xa=513,Ka=36160,qa=36064,$a={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ja=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Qa={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},es={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},ts={frag:35632,vert:35633},ns={cw:Ba,ccw:za};function rs(t){return Array.isArray(t)||e(t)||_t(t)}function os(e){return e.sort((function(e,t){return e===Bi?-1:t===Bi?1:e<t?-1:1}))}function is(e,t,n,r){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=r}function as(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function ss(e){return new is(!1,!1,!1,e)}function us(e,t){var n=e.type;if(n===ai){var r=e.data.length;return new is(!0,r>=1,r>=2,t)}if(n===li){var o=e.data;return new is(o.thisDep,o.contextDep,o.propDep,t)}if(n===fi)return new is(!1,!1,!1,t);if(n===di){for(var i=!1,a=!1,s=!1,u=0;u<e.data.length;++u){var c=e.data[u];if(c.type===si)s=!0;else if(c.type===ui)a=!0;else if(c.type===ci)i=!0;else if(c.type===ai){i=!0;var l=c.data;l>=1&&(a=!0),l>=2&&(s=!0)}else c.type===li&&(i=i||c.data.thisDep,a=a||c.data.contextDep,s=s||c.data.propDep)}return new is(i,a,s,t)}return new is(n===ci,n===ui,n===si,t)}var cs=new is(!1,!1,!1,(function(){}));function ls(e,n,r,o,i,a,s,u,c,l,f,d,h,p,g){var v=l.Record,m={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(m.min=Ga,m.max=Va);var y=r.angle_instanced_arrays,b=r.webgl_draw_buffers,x={dirty:!0,profile:g.profile},w={},E=[],_={},S={};function k(e){return e.replace(".","_")}function T(e,t,n){var r=k(e);E.push(e),w[r]=x[r]=!!n,_[r]=t}function C(e,t,n){var r=k(e);E.push(e),Array.isArray(n)?(x[r]=n.slice(),w[r]=n.slice()):x[r]=w[r]=n,S[r]=t}T(hi,da),T(pi,fa),C(gi,"blendColor",[0,0,0,0]),C(vi,"blendEquationSeparate",[Ha,Ha]),C(mi,"blendFuncSeparate",[Ya,Za,Ya,Za]),T(yi,pa,!0),C(bi,"depthFunc",Xa),C(xi,"depthRange",[0,1]),C(wi,"depthMask",!0),C(Ei,Ei,[!0,!0,!0,!0]),T(_i,la),C(Si,"cullFace",Fa),C(ki,ki,za),C(Ti,Ti,1),T(Ci,va),C(Mi,"polygonOffset",[0,0]),T(Ni,ma),T(Ai,ya),C(Pi,"sampleCoverage",[1,!1]),T(Oi,ha),C(Ii,"stencilMask",-1),C(Di,"stencilFunc",[Ua,0,-1]),C(Ri,"stencilOpSeparate",[ja,Wa,Wa,Wa]),C(Li,"stencilOpSeparate",[Fa,Wa,Wa,Wa]),T(ji,ga),C(Fi,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),C(Bi,Bi,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var M={gl:e,context:h,strings:n,next:w,current:x,draw:d,elements:a,buffer:i,shader:f,attributes:l.state,vao:l,uniforms:c,framebuffer:u,extensions:r,timer:p,isBufferArgs:rs},N={primTypes:Yt,compareFuncs:Qa,blendFuncs:$a,blendEquations:m,stencilOps:es,glTypes:It,orientationType:ns};ne.optional((function(){M.isArrayLike=fn})),b&&(N.backBuffer=[Fa],N.drawBuffer=Te(o.maxDrawbuffers,(function(e){return 0===e?[0]:Te(e,(function(e){return qa+e}))})));var A=0;function P(){var e=ti(),t=e.link,r=e.global;e.id=A++,e.batchId="0";var o=t(M),i=e.shared={props:"a0"};Object.keys(M).forEach((function(e){i[e]=r.def(o,".",e)})),ne.optional((function(){e.CHECK=t(ne),e.commandStr=ne.guessCommand(),e.command=t(e.commandStr),e.assert=function(e,n,r){e("if(!(",n,"))",this.CHECK,".commandRaise(",t(r),",",this.command,");")},N.invalidBlendCombinations=Ja}));var a=e.next={},s=e.current={};Object.keys(S).forEach((function(e){Array.isArray(x[e])&&(a[e]=r.def(i.next,".",e),s[e]=r.def(i.current,".",e))}));var u=e.constants={};Object.keys(N).forEach((function(e){u[e]=r.def(JSON.stringify(N[e]))})),e.invoke=function(n,r){switch(r.type){case ai:var o=["this",i.context,i.props,e.batchId];return n.def(t(r.data),".call(",o.slice(0,Math.max(r.data.length+1,4)),")");case si:return n.def(i.props,r.data);case ui:return n.def(i.context,r.data);case ci:return n.def("this",r.data);case li:return r.data.append(e,n),r.data.ref;case fi:return r.data.toString();case di:return r.data.map((function(t){return e.invoke(n,t)}))}},e.attribCache={};var c={};return e.scopeAttrib=function(e){var r=n.id(e);if(r in c)return c[r];var o=l.scope[r];return o||(o=l.scope[r]=new v),c[r]=t(o)},e}function O(e){var t,n=e.static,r=e.dynamic;if(zi in n){var o=!!n[zi];(t=ss((function(e,t){return o}))).enable=o}else if(zi in r){var i=r[zi];t=us(i,(function(e,t){return e.invoke(t,i)}))}return t}function I(e,t){var n=e.static,r=e.dynamic;if(Gi in n){var o=n[Gi];return o?(o=u.getFramebuffer(o),ne.command(o,"invalid framebuffer object"),ss((function(e,t){var n=e.link(o),r=e.shared;t.set(r.framebuffer,".next",n);var i=r.context;return t.set(i,"."+Ji,n+".width"),t.set(i,"."+Qi,n+".height"),n}))):ss((function(e,t){var n=e.shared;t.set(n.framebuffer,".next","null");var r=n.context;return t.set(r,"."+Ji,r+"."+ra),t.set(r,"."+Qi,r+"."+oa),"null"}))}if(Gi in r){var i=r[Gi];return us(i,(function(e,t){var n=e.invoke(t,i),r=e.shared,o=r.framebuffer,a=t.def(o,".getFramebuffer(",n,")");ne.optional((function(){e.assert(t,"!"+n+"||"+a,"invalid framebuffer object")})),t.set(o,".next",a);var s=r.context;return t.set(s,"."+Ji,a+"?"+a+".width:"+s+"."+ra),t.set(s,"."+Qi,a+"?"+a+".height:"+s+"."+oa),a}))}return null}function D(e,t,n){var r=e.static,o=e.dynamic;function i(e){if(e in r){var i=r[e];ne.commandType(i,"object","invalid "+e,n.commandStr);var a,s,u=!0,c=0|i.x,l=0|i.y;return"width"in i?(a=0|i.width,ne.command(a>=0,"invalid "+e,n.commandStr)):u=!1,"height"in i?(s=0|i.height,ne.command(s>=0,"invalid "+e,n.commandStr)):u=!1,new is(!u&&t&&t.thisDep,!u&&t&&t.contextDep,!u&&t&&t.propDep,(function(e,t){var n=e.shared.context,r=a;"width"in i||(r=t.def(n,".",Ji,"-",c));var o=s;return"height"in i||(o=t.def(n,".",Qi,"-",l)),[c,l,r,o]}))}if(e in o){var f=o[e],d=us(f,(function(t,n){var r=t.invoke(n,f);ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)}));var o=t.shared.context,i=n.def(r,".x|0"),a=n.def(r,".y|0"),s=n.def('"width" in ',r,"?",r,".width|0:","(",o,".",Ji,"-",i,")"),u=n.def('"height" in ',r,"?",r,".height|0:","(",o,".",Qi,"-",a,")");return ne.optional((function(){t.assert(n,s+">=0&&"+u+">=0","invalid "+e)})),[i,a,s,u]}));return t&&(d.thisDep=d.thisDep||t.thisDep,d.contextDep=d.contextDep||t.contextDep,d.propDep=d.propDep||t.propDep),d}return t?new is(t.thisDep,t.contextDep,t.propDep,(function(e,t){var n=e.shared.context;return[0,0,t.def(n,".",Ji),t.def(n,".",Qi)]})):null}var a=i(Bi);if(a){var s=a;a=new is(a.thisDep,a.contextDep,a.propDep,(function(e,t){var n=s.append(e,t),r=e.shared.context;return t.set(r,"."+ea,n[2]),t.set(r,"."+ta,n[3]),n}))}return{viewport:a,scissor_box:i(Fi)}}function R(e,t){var n=e.static;if("string"===typeof n[Ui]&&"string"===typeof n[Vi]){if(Object.keys(t.dynamic).length>0)return null;var r=t.static,o=Object.keys(r);if(o.length>0&&"number"===typeof r[o[0]]){for(var i=[],a=0;a<o.length;++a)ne("number"===typeof r[o[a]],"must specify all vertex attribute locations when using vaos"),i.push([0|r[o[a]],o[a]]);return i}}return null}function L(e,t,r){var o=e.static,i=e.dynamic;function a(e){if(e in o){var t=n.id(o[e]);ne.optional((function(){f.shader(ts[e],t,ne.guessCommand())}));var r=ss((function(){return t}));return r.id=t,r}if(e in i){var a=i[e];return us(a,(function(t,n){var r=t.invoke(n,a),o=n.def(t.shared.strings,".id(",r,")");return ne.optional((function(){n(t.shared.shader,".shader(",ts[e],",",o,",",t.command,");")})),o}))}return null}var s,u=a(Ui),c=a(Vi),l=null;return as(u)&&as(c)?(l=f.program(c.id,u.id,null,r),s=ss((function(e,t){return e.link(l)}))):s=new is(u&&u.thisDep||c&&c.thisDep,u&&u.contextDep||c&&c.contextDep,u&&u.propDep||c&&c.propDep,(function(e,t){var n,r=e.shared.shader;n=u?u.append(e,t):t.def(r,".",Ui);var o=r+".program("+(c?c.append(e,t):t.def(r,".",Vi))+","+n;return ne.optional((function(){o+=","+e.command})),t.def(o+")")})),{frag:u,vert:c,progVar:s,program:l}}function j(e,t){var n=e.static,r=e.dynamic;function o(){if(Wi in n){var e=n[Wi];rs(e)?e=a.getElements(a.create(e,!0)):e&&(e=a.getElements(e),ne.command(e,"invalid elements",t.commandStr));var o=ss((function(t,n){if(e){var r=t.link(e);return t.ELEMENTS=r,r}return t.ELEMENTS=null,null}));return o.value=e,o}if(Wi in r){var i=r[Wi];return us(i,(function(e,t){var n=e.shared,r=n.isBufferArgs,o=n.elements,a=e.invoke(t,i),s=t.def("null"),u=t.def(r,"(",a,")"),c=e.cond(u).then(s,"=",o,".createStream(",a,");").else(s,"=",o,".getElements(",a,");");return ne.optional((function(){e.assert(c.else,"!"+a+"||"+s,"invalid elements")})),t.entry(c),t.exit(e.cond(u).then(o,".destroyStream(",s,");")),e.ELEMENTS=s,s}))}return null}var i=o();function s(){if(Zi in n){var e=n[Zi];return ne.commandParameter(e,Yt,"invalid primitve",t.commandStr),ss((function(t,n){return Yt[e]}))}if(Zi in r){var o=r[Zi];return us(o,(function(e,t){var n=e.constants.primTypes,r=e.invoke(t,o);return ne.optional((function(){e.assert(t,r+" in "+n,"invalid primitive, must be one of "+Object.keys(Yt))})),t.def(n,"[",r,"]")}))}return i?as(i)?i.value?ss((function(e,t){return t.def(e.ELEMENTS,".primType")})):ss((function(){return La})):new is(i.thisDep,i.contextDep,i.propDep,(function(e,t){var n=e.ELEMENTS;return t.def(n,"?",n,".primType:",La)})):null}function u(e,o){if(e in n){var a=0|n[e];return ne.command(!o||a>=0,"invalid "+e,t.commandStr),ss((function(e,t){return o&&(e.OFFSET=a),a}))}if(e in r){var s=r[e];return us(s,(function(t,n){var r=t.invoke(n,s);return o&&(t.OFFSET=r,ne.optional((function(){t.assert(n,r+">=0","invalid "+e)}))),r}))}return o&&i?ss((function(e,t){return e.OFFSET="0",0})):null}var c=u(Hi,!0);function l(){if(Yi in n){var e=0|n[Yi];return ne.command("number"===typeof e&&e>=0,"invalid vertex count",t.commandStr),ss((function(){return e}))}if(Yi in r){var o=r[Yi];return us(o,(function(e,t){var n=e.invoke(t,o);return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")})),n}))}if(i){if(as(i)){if(i)return c?new is(c.thisDep,c.contextDep,c.propDep,(function(e,t){var n=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return ne.optional((function(){e.assert(t,n+">=0","invalid vertex offset/element buffer too small")})),n})):ss((function(e,t){return t.def(e.ELEMENTS,".vertCount")}));var a=ss((function(){return-1}));return ne.optional((function(){a.MISSING=!0})),a}var s=new is(i.thisDep||c.thisDep,i.contextDep||c.contextDep,i.propDep||c.propDep,(function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,"?",n,".vertCount-",e.OFFSET,":-1"):t.def(n,"?",n,".vertCount:-1")}));return ne.optional((function(){s.DYNAMIC=!0})),s}return null}return{elements:i,primitive:s(),count:l(),instances:u(Xi,!1),offset:c}}function F(e,t){var n=e.static,r=e.dynamic,i={};return E.forEach((function(e){var a=k(e);function s(t,o){if(e in n){var s=t(n[e]);i[a]=ss((function(){return s}))}else if(e in r){var u=r[e];i[a]=us(u,(function(e,t){return o(e,t,e.invoke(t,u))}))}}switch(e){case _i:case pi:case hi:case Oi:case yi:case ji:case Ci:case Ni:case Ai:case wi:return s((function(n){return ne.commandType(n,"boolean",e,t.commandStr),n}),(function(t,n,r){return ne.optional((function(){t.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+e,t.commandStr)})),r}));case bi:return s((function(n){return ne.commandParameter(n,Qa,"invalid "+e,t.commandStr),Qa[n]}),(function(t,n,r){var o=t.constants.compareFuncs;return ne.optional((function(){t.assert(n,r+" in "+o,"invalid "+e+", must be one of "+Object.keys(Qa))})),n.def(o,"[",r,"]")}));case xi:return s((function(e){return ne.command(fn(e)&&2===e.length&&"number"===typeof e[0]&&"number"===typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")})),[t.def("+",n,"[0]"),t.def("+",n,"[1]")]}));case mi:return s((function(e){ne.commandType(e,"object","blend.func",t.commandStr);var n="srcRGB"in e?e.srcRGB:e.src,r="srcAlpha"in e?e.srcAlpha:e.src,o="dstRGB"in e?e.dstRGB:e.dst,i="dstAlpha"in e?e.dstAlpha:e.dst;return ne.commandParameter(n,$a,a+".srcRGB",t.commandStr),ne.commandParameter(r,$a,a+".srcAlpha",t.commandStr),ne.commandParameter(o,$a,a+".dstRGB",t.commandStr),ne.commandParameter(i,$a,a+".dstAlpha",t.commandStr),ne.command(-1===Ja.indexOf(n+", "+o),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+o+")",t.commandStr),[$a[n],$a[o],$a[r],$a[i]]}),(function(t,n,r){var o=t.constants.blendFuncs;function i(i,a){var s=n.def('"',i,a,'" in ',r,"?",r,".",i,a,":",r,".",i);return ne.optional((function(){t.assert(n,s+" in "+o,"invalid "+e+"."+i+a+", must be one of "+Object.keys($a))})),s}ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")}));var a=i("src","RGB"),s=i("dst","RGB");ne.optional((function(){var e=t.constants.invalidBlendCombinations;t.assert(n,e+".indexOf("+a+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var u=n.def(o,"[",a,"]"),c=n.def(o,"[",i("src","Alpha"),"]");return[u,n.def(o,"[",s,"]"),c,n.def(o,"[",i("dst","Alpha"),"]")]}));case vi:return s((function(n){return"string"===typeof n?(ne.commandParameter(n,m,"invalid "+e,t.commandStr),[m[n],m[n]]):"object"===typeof n?(ne.commandParameter(n.rgb,m,e+".rgb",t.commandStr),ne.commandParameter(n.alpha,m,e+".alpha",t.commandStr),[m[n.rgb],m[n.alpha]]):void ne.commandRaise("invalid blend.equation",t.commandStr)}),(function(t,n,r){var o=t.constants.blendEquations,i=n.def(),a=n.def(),s=t.cond("typeof ",r,'==="string"');return ne.optional((function(){function n(e,n,r){t.assert(e,r+" in "+o,"invalid "+n+", must be one of "+Object.keys(m))}n(s.then,e,r),t.assert(s.else,r+"&&typeof "+r+'==="object"',"invalid "+e),n(s.else,e+".rgb",r+".rgb"),n(s.else,e+".alpha",r+".alpha")})),s.then(i,"=",a,"=",o,"[",r,"];"),s.else(i,"=",o,"[",r,".rgb];",a,"=",o,"[",r,".alpha];"),n(s),[i,a]}));case gi:return s((function(e){return ne.command(fn(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),Te(4,(function(t){return+e[t]}))}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")})),Te(4,(function(e){return t.def("+",n,"[",e,"]")}))}));case Ii:return s((function(e){return ne.commandType(e,"number",a,t.commandStr),0|e}),(function(e,t,n){return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"',"invalid stencil.mask")})),t.def(n,"|0")}));case Di:return s((function(n){ne.commandType(n,"object",a,t.commandStr);var r=n.cmp||"keep",o=n.ref||0,i="mask"in n?n.mask:-1;return ne.commandParameter(r,Qa,e+".cmp",t.commandStr),ne.commandType(o,"number",e+".ref",t.commandStr),ne.commandType(i,"number",e+".mask",t.commandStr),[Qa[r],o,i]}),(function(e,t,n){var r=e.constants.compareFuncs;return ne.optional((function(){function o(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}o(n+"&&typeof ",n,'==="object"'),o('!("cmp" in ',n,")||(",n,".cmp in ",r,")")})),[t.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",Wa),t.def(n,".ref|0"),t.def('"mask" in ',n,"?",n,".mask|0:-1")]}));case Ri:case Li:return s((function(n){ne.commandType(n,"object",a,t.commandStr);var r=n.fail||"keep",o=n.zfail||"keep",i=n.zpass||"keep";return ne.commandParameter(r,es,e+".fail",t.commandStr),ne.commandParameter(o,es,e+".zfail",t.commandStr),ne.commandParameter(i,es,e+".zpass",t.commandStr),[e===Li?Fa:ja,es[r],es[o],es[i]]}),(function(t,n,r){var o=t.constants.stencilOps;function i(i){return ne.optional((function(){t.assert(n,'!("'+i+'" in '+r+")||("+r+"."+i+" in "+o+")","invalid "+e+"."+i+", must be one of "+Object.keys(es))})),n.def('"',i,'" in ',r,"?",o,"[",r,".",i,"]:",Wa)}return ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),[e===Li?Fa:ja,i("fail"),i("zfail"),i("zpass")]}));case Mi:return s((function(e){ne.commandType(e,"object",a,t.commandStr);var n=0|e.factor,r=0|e.units;return ne.commandType(n,"number",a+".factor",t.commandStr),ne.commandType(r,"number",a+".units",t.commandStr),[n,r]}),(function(t,n,r){return ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),[n.def(r,".factor|0"),n.def(r,".units|0")]}));case Si:return s((function(e){var n=0;return"front"===e?n=ja:"back"===e&&(n=Fa),ne.command(!!n,a,t.commandStr),n}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+'==="front"||'+n+'==="back"',"invalid cull.face")})),t.def(n,'==="front"?',ja,":",Fa)}));case Ti:return s((function(e){return ne.command("number"===typeof e&&e>=o.lineWidthDims[0]&&e<=o.lineWidthDims[1],"invalid line width, must be a positive number between "+o.lineWidthDims[0]+" and "+o.lineWidthDims[1],t.commandStr),e}),(function(e,t,n){return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">="+o.lineWidthDims[0]+"&&"+n+"<="+o.lineWidthDims[1],"invalid line width")})),n}));case ki:return s((function(e){return ne.commandParameter(e,ns,a,t.commandStr),ns[e]}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),t.def(n+'==="cw"?'+Ba+":"+za)}));case Ei:return s((function(e){return ne.command(fn(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map((function(e){return!!e}))}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")})),Te(4,(function(e){return"!!"+n+"["+e+"]"}))}));case Pi:return s((function(e){ne.command("object"===typeof e&&e,a,t.commandStr);var n="value"in e?e.value:1,r=!!e.invert;return ne.command("number"===typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[n,r]}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")})),[t.def('"value" in ',n,"?+",n,".value:1"),t.def("!!",n,".invert")]}))}})),i}function B(e,t){var n=e.static,r=e.dynamic,o={};return Object.keys(n).forEach((function(e){var r,i=n[e];if("number"===typeof i||"boolean"===typeof i)r=ss((function(){return i}));else if("function"===typeof i){var a=i._reglType;"texture2d"===a||"textureCube"===a?r=ss((function(e){return e.link(i)})):"framebuffer"===a||"framebufferCube"===a?(ne.command(i.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),r=ss((function(e){return e.link(i.color[0])}))):ne.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else fn(i)?r=ss((function(t){return t.global.def("[",Te(i.length,(function(n){return ne.command("number"===typeof i[n]||"boolean"===typeof i[n],"invalid uniform "+e,t.commandStr),i[n]})),"]")})):ne.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);r.value=i,o[e]=r})),Object.keys(r).forEach((function(e){var t=r[e];o[e]=us(t,(function(e,n){return e.invoke(n,t)}))})),o}function z(e,t){var r=e.static,o=e.dynamic,a={};return Object.keys(r).forEach((function(e){var o=r[e],s=n.id(e),u=new v;if(rs(o))u.state=oi,u.buffer=i.getBuffer(i.create(o,aa,!1,!0)),u.type=0;else{var c=i.getBuffer(o);if(c)u.state=oi,u.buffer=c,u.type=0;else if(ne.command("object"===typeof o&&o,"invalid data for attribute "+e,t.commandStr),"constant"in o){var l=o.constant;u.buffer="null",u.state=ii,"number"===typeof l?u.x=l:(ne.command(fn(l)&&l.length>0&&l.length<=4,"invalid constant for attribute "+e,t.commandStr),ni.forEach((function(e,t){t<l.length&&(u[e]=l[t])})))}else{c=rs(o.buffer)?i.getBuffer(i.create(o.buffer,aa,!1,!0)):i.getBuffer(o.buffer),ne.command(!!c,'missing buffer for attribute "'+e+'"',t.commandStr);var f=0|o.offset;ne.command(f>=0,'invalid offset for attribute "'+e+'"',t.commandStr);var d=0|o.stride;ne.command(d>=0&&d<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',t.commandStr);var h=0|o.size;ne.command(!("size"in o)||h>0&&h<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',t.commandStr);var p=!!o.normalized,g=0;"type"in o&&(ne.commandParameter(o.type,It,"invalid type for attribute "+e,t.commandStr),g=It[o.type]);var m=0|o.divisor;"divisor"in o&&(ne.command(0===m||y,'cannot specify divisor for attribute "'+e+'", instancing not supported',t.commandStr),ne.command(m>=0,'invalid divisor for attribute "'+e+'"',t.commandStr)),ne.optional((function(){var n=t.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(o).forEach((function(t){ne.command(r.indexOf(t)>=0,'unknown parameter "'+t+'" for attribute pointer "'+e+'" (valid parameters are '+r+")",n)}))})),u.buffer=c,u.state=oi,u.size=h,u.normalized=p,u.type=g||c.dtype,u.offset=f,u.stride=d,u.divisor=m}}a[e]=ss((function(e,t){var n=e.attribCache;if(s in n)return n[s];var r={isStream:!1};return Object.keys(u).forEach((function(e){r[e]=u[e]})),u.buffer&&(r.buffer=e.link(u.buffer),r.type=r.type||r.buffer+".dtype"),n[s]=r,r}))})),Object.keys(o).forEach((function(e){var t=o[e];function n(n,r){var o=n.invoke(r,t),i=n.shared,a=n.constants,s=i.isBufferArgs,u=i.buffer;ne.optional((function(){n.assert(r,o+"&&(typeof "+o+'==="object"||typeof '+o+'==="function")&&('+s+"("+o+")||"+u+".getBuffer("+o+")||"+u+".getBuffer("+o+".buffer)||"+s+"("+o+'.buffer)||("constant" in '+o+"&&(typeof "+o+'.constant==="number"||'+i.isArrayLike+"("+o+".constant))))",'invalid dynamic attribute "'+e+'"')}));var c={isStream:r.def(!1)},l=new v;l.state=oi,Object.keys(l).forEach((function(e){c[e]=r.def(""+l[e])}));var f=c.buffer,d=c.type;function h(e){r(c[e],"=",o,".",e,"|0;")}return r("if(",s,"(",o,")){",c.isStream,"=true;",f,"=",u,".createStream(",aa,",",o,");",d,"=",f,".dtype;","}else{",f,"=",u,".getBuffer(",o,");","if(",f,"){",d,"=",f,".dtype;",'}else if("constant" in ',o,"){",c.state,"=",ii,";","if(typeof "+o+'.constant === "number"){',c[ni[0]],"=",o,".constant;",ni.slice(1).map((function(e){return c[e]})).join("="),"=0;","}else{",ni.map((function(e,t){return c[e]+"="+o+".constant.length>"+t+"?"+o+".constant["+t+"]:0;"})).join(""),"}}else{","if(",s,"(",o,".buffer)){",f,"=",u,".createStream(",aa,",",o,".buffer);","}else{",f,"=",u,".getBuffer(",o,".buffer);","}",d,'="type" in ',o,"?",a.glTypes,"[",o,".type]:",f,".dtype;",c.normalized,"=!!",o,".normalized;"),h("size"),h("offset"),h("stride"),h("divisor"),r("}}"),r.exit("if(",c.isStream,"){",u,".destroyStream(",f,");","}"),c}a[e]=us(t,n)})),a}function G(e,t){var n=e.static,r=e.dynamic;if(Ki in n){var o=n[Ki];return null!==o&&null===l.getVAO(o)&&(o=l.createVAO(o)),ss((function(e){return e.link(l.getVAO(o))}))}if(Ki in r){var i=r[Ki];return us(i,(function(e,t){var n=e.invoke(t,i);return t.def(e.shared.vao+".getVAO("+n+")")}))}return null}function V(e){var t=e.static,n=e.dynamic,r={};return Object.keys(t).forEach((function(e){var n=t[e];r[e]=ss((function(e,t){return"number"===typeof n||"boolean"===typeof n?""+n:e.link(n)}))})),Object.keys(n).forEach((function(e){var t=n[e];r[e]=us(t,(function(e,n){return e.invoke(n,t)}))})),r}function U(e,t,n,o,i){var a=e.static,s=e.dynamic;ne.optional((function(){var e=[Gi,Vi,Ui,Wi,Zi,Hi,Yi,Xi,zi,Ki].concat(E);function t(t){Object.keys(t).forEach((function(t){ne.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',i.commandStr)}))}t(a),t(s)}));var u=R(e,t),c=I(e,i),f=D(e,c,i),d=j(e,i),h=F(e,i),p=L(e,i,u);function g(e){var t=f[e];t&&(h[e]=t)}g(Bi),g(k(Fi));var v=Object.keys(h).length>0,m={framebuffer:c,draw:d,shader:p,state:h,dirty:v,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(m.profile=O(e,i),m.uniforms=B(n,i),m.drawVAO=m.scopeVAO=G(e,i),!m.drawVAO&&p.program&&!u&&r.angle_instanced_arrays){var y=!0,b=p.program.attributes.map((function(e){var n=t.static[e];return y=y&&!!n,n}));if(y&&b.length>0){var x=l.getVAO(l.createVAO(b));m.drawVAO=new is(null,null,null,(function(e,t){return e.link(x)})),m.useVAO=!0}}return u?m.useVAO=!0:m.attributes=z(t,i),m.context=V(o,i),m}function W(e,t,n){var r=e.shared.context,o=e.scope();Object.keys(n).forEach((function(i){t.save(r,"."+i);var a=n[i].append(e,t);Array.isArray(a)?o(r,".",i,"=[",a.join(),"];"):o(r,".",i,"=",a,";")})),t(o)}function Z(e,t,n,r){var o,i=e.shared,a=i.gl,s=i.framebuffer;b&&(o=t.def(i.extensions,".webgl_draw_buffers"));var u,c=e.constants,l=c.drawBuffer,f=c.backBuffer;u=n?n.append(e,t):t.def(s,".next"),r||t("if(",u,"!==",s,".cur){"),t("if(",u,"){",a,".bindFramebuffer(",Ka,",",u,".framebuffer);"),b&&t(o,".drawBuffersWEBGL(",l,"[",u,".colorAttachments.length]);"),t("}else{",a,".bindFramebuffer(",Ka,",null);"),b&&t(o,".drawBuffersWEBGL(",f,");"),t("}",s,".cur=",u,";"),r||t("}")}function Y(e,t,n){var r=e.shared,o=r.gl,i=e.current,a=e.next,s=r.current,u=r.next,c=e.cond(s,".dirty");E.forEach((function(t){var r,l,f=k(t);if(!(f in n.state))if(f in a){r=a[f],l=i[f];var d=Te(x[f].length,(function(e){return c.def(r,"[",e,"]")}));c(e.cond(d.map((function(e,t){return e+"!=="+l+"["+t+"]"})).join("||")).then(o,".",S[f],"(",d,");",d.map((function(e,t){return l+"["+t+"]="+e})).join(";"),";"))}else{r=c.def(u,".",f);var h=e.cond(r,"!==",s,".",f);c(h),f in _?h(e.cond(r).then(o,".enable(",_[f],");").else(o,".disable(",_[f],");"),s,".",f,"=",r,";"):h(o,".",S[f],"(",r,");",s,".",f,"=",r,";")}})),0===Object.keys(n.state).length&&c(s,".dirty=false;"),t(c)}function H(e,t,n,r){var o=e.shared,i=e.current,a=o.current,s=o.gl;os(Object.keys(n)).forEach((function(o){var u=n[o];if(!r||r(u)){var c=u.append(e,t);if(_[o]){var l=_[o];as(u)?t(s,c?".enable(":".disable(",l,");"):t(e.cond(c).then(s,".enable(",l,");").else(s,".disable(",l,");")),t(a,".",o,"=",c,";")}else if(fn(c)){var f=i[o];t(s,".",S[o],"(",c,");",c.map((function(e,t){return f+"["+t+"]="+e})).join(";"),";")}else t(s,".",S[o],"(",c,");",a,".",o,"=",c,";")}}))}function X(e,t){y&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function K(e,t,n,r,o){var i,a,s,u=e.shared,c=e.stats,l=u.current,f=u.timer,d=n.profile;function h(){return"undefined"===typeof performance?"Date.now()":"performance.now()"}function g(e){e(i=t.def(),"=",h(),";"),"string"===typeof o?e(c,".count+=",o,";"):e(c,".count++;"),p&&(r?e(a=t.def(),"=",f,".getNumPendingQueries();"):e(f,".beginQuery(",c,");"))}function v(e){e(c,".cpuTime+=",h(),"-",i,";"),p&&(r?e(f,".pushScopeStats(",a,",",f,".getNumPendingQueries(),",c,");"):e(f,".endQuery();"))}function m(e){var n=t.def(l,".profile");t(l,".profile=",e,";"),t.exit(l,".profile=",n,";")}if(d){if(as(d))return void(d.enable?(g(t),v(t.exit),m("true")):m("false"));m(s=d.append(e,t))}else s=t.def(l,".profile");var y=e.block();g(y),t("if(",s,"){",y,"}");var b=e.block();v(b),t.exit("if(",s,"){",b,"}")}function q(e,t,n,r,o){var i=e.shared;function a(e){switch(e){case xa:case Sa:case Ma:return 2;case wa:case ka:case Na:return 3;case Ea:case Ta:case Aa:return 4;default:return 1}}function s(n,r,o){var a=i.gl,s=t.def(n,".location"),u=t.def(i.attributes,"[",s,"]"),c=o.state,l=o.buffer,f=[o.x,o.y,o.z,o.w],d=["buffer","normalized","offset","stride"];function h(){t("if(!",u,".buffer){",a,".enableVertexAttribArray(",s,");}");var n,i=o.type;if(n=o.size?t.def(o.size,"||",r):r,t("if(",u,".type!==",i,"||",u,".size!==",n,"||",d.map((function(e){return u+"."+e+"!=="+o[e]})).join("||"),"){",a,".bindBuffer(",aa,",",l,".buffer);",a,".vertexAttribPointer(",[s,n,i,o.normalized,o.stride,o.offset],");",u,".type=",i,";",u,".size=",n,";",d.map((function(e){return u+"."+e+"="+o[e]+";"})).join(""),"}"),y){var c=o.divisor;t("if(",u,".divisor!==",c,"){",e.instancing,".vertexAttribDivisorANGLE(",[s,c],");",u,".divisor=",c,";}")}}function p(){t("if(",u,".buffer){",a,".disableVertexAttribArray(",s,");",u,".buffer=null;","}if(",ni.map((function(e,t){return u+"."+e+"!=="+f[t]})).join("||"),"){",a,".vertexAttrib4f(",s,",",f,");",ni.map((function(e,t){return u+"."+e+"="+f[t]+";"})).join(""),"}")}c===oi?h():c===ii?p():(t("if(",c,"===",oi,"){"),h(),t("}else{"),p(),t("}"))}r.forEach((function(r){var i,u=r.name,c=n.attributes[u];if(c){if(!o(c))return;i=c.append(e,t)}else{if(!o(cs))return;var l=e.scopeAttrib(u);ne.optional((function(){e.assert(t,l+".state","missing attribute "+u)})),i={},Object.keys(new v).forEach((function(e){i[e]=t.def(l,".",e)}))}s(e.link(r),a(r.info.type),i)}))}function $(e,t,r,o,i){for(var a,s=e.shared,u=s.gl,c=0;c<o.length;++c){var l,f=o[c],d=f.name,h=f.info.type,p=r.uniforms[d],g=e.link(f)+".location";if(p){if(!i(p))continue;if(as(p)){var v=p.value;if(ne.command(null!==v&&"undefined"!==typeof v,'missing uniform "'+d+'"',e.commandStr),h===Da||h===Ra){ne.command("function"===typeof v&&(h===Da&&("texture2d"===v._reglType||"framebuffer"===v._reglType)||h===Ra&&("textureCube"===v._reglType||"framebufferCube"===v._reglType)),"invalid texture for uniform "+d,e.commandStr);var m=e.link(v._texture||v.color[0]._texture);t(u,".uniform1i(",g,",",m+".bind());"),t.exit(m,".unbind();")}else if(h===Pa||h===Oa||h===Ia){ne.optional((function(){ne.command(fn(v),"invalid matrix for uniform "+d,e.commandStr),ne.command(h===Pa&&4===v.length||h===Oa&&9===v.length||h===Ia&&16===v.length,"invalid length for matrix uniform "+d,e.commandStr)}));var y=e.global.def("new Float32Array(["+Array.prototype.slice.call(v)+"])"),b=2;h===Oa?b=3:h===Ia&&(b=4),t(u,".uniformMatrix",b,"fv(",g,",false,",y,");")}else{switch(h){case ba:ne.commandType(v,"number","uniform "+d,e.commandStr),a="1f";break;case xa:ne.command(fn(v)&&2===v.length,"uniform "+d,e.commandStr),a="2f";break;case wa:ne.command(fn(v)&&3===v.length,"uniform "+d,e.commandStr),a="3f";break;case Ea:ne.command(fn(v)&&4===v.length,"uniform "+d,e.commandStr),a="4f";break;case Ca:ne.commandType(v,"boolean","uniform "+d,e.commandStr),a="1i";break;case _a:ne.commandType(v,"number","uniform "+d,e.commandStr),a="1i";break;case Ma:case Sa:ne.command(fn(v)&&2===v.length,"uniform "+d,e.commandStr),a="2i";break;case Na:case ka:ne.command(fn(v)&&3===v.length,"uniform "+d,e.commandStr),a="3i";break;case Aa:case Ta:ne.command(fn(v)&&4===v.length,"uniform "+d,e.commandStr),a="4i"}t(u,".uniform",a,"(",g,",",fn(v)?Array.prototype.slice.call(v):v,");")}continue}l=p.append(e,t)}else{if(!i(cs))continue;l=t.def(s.uniforms,"[",n.id(d),"]")}h===Da?(ne(!Array.isArray(l),"must specify a scalar prop for textures"),t("if(",l,"&&",l,'._reglType==="framebuffer"){',l,"=",l,".color[0];","}")):h===Ra&&(ne(!Array.isArray(l),"must specify a scalar prop for cube maps"),t("if(",l,"&&",l,'._reglType==="framebufferCube"){',l,"=",l,".color[0];","}")),ne.optional((function(){function n(n,r){e.assert(t,n,'bad data or missing for uniform "'+d+'".  '+r)}function r(e){ne(!Array.isArray(l),"must not specify an array type for uniform"),n("typeof "+l+'==="'+e+'"',"invalid type, expected "+e)}function o(t,r){Array.isArray(l)?ne(l.length===t,"must have length "+t):n(s.isArrayLike+"("+l+")&&"+l+".length==="+t,"invalid vector, should have length "+t,e.commandStr)}function i(t){ne(!Array.isArray(l),"must not specify a value type"),n("typeof "+l+'==="function"&&'+l+'._reglType==="texture'+(t===ua?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(h){case _a:r("number");break;case Sa:o(2,"number");break;case ka:o(3,"number");break;case Ta:o(4,"number");break;case ba:r("number");break;case xa:o(2,"number");break;case wa:o(3,"number");break;case Ea:o(4,"number");break;case Ca:r("boolean");break;case Ma:o(2,"boolean");break;case Na:o(3,"boolean");break;case Aa:o(4,"boolean");break;case Pa:o(4,"number");break;case Oa:o(9,"number");break;case Ia:o(16,"number");break;case Da:i(ua);break;case Ra:i(ca)}}));var x=1;switch(h){case Da:case Ra:var w=t.def(l,"._texture");t(u,".uniform1i(",g,",",w,".bind());"),t.exit(w,".unbind();");continue;case _a:case Ca:a="1i";break;case Sa:case Ma:a="2i",x=2;break;case ka:case Na:a="3i",x=3;break;case Ta:case Aa:a="4i",x=4;break;case ba:a="1f";break;case xa:a="2f",x=2;break;case wa:a="3f",x=3;break;case Ea:a="4f",x=4;break;case Pa:a="Matrix2fv";break;case Oa:a="Matrix3fv";break;case Ia:a="Matrix4fv"}if(t(u,".uniform",a,"(",g,","),"M"===a.charAt(0)){var E=Math.pow(h-Pa+2,2),_=e.global.def("new Float32Array(",E,")");Array.isArray(l)?t("false,(",Te(E,(function(e){return _+"["+e+"]="+l[e]})),",",_,")"):t("false,(Array.isArray(",l,")||",l," instanceof Float32Array)?",l,":(",Te(E,(function(e){return _+"["+e+"]="+l+"["+e+"]"})),",",_,")")}else x>1?t(Te(x,(function(e){return Array.isArray(l)?l[e]:l+"["+e+"]"}))):(ne(!Array.isArray(l),"uniform value must not be an array"),t(l));t(");")}}function J(e,t,n,r){var o=e.shared,i=o.gl,a=o.draw,s=r.draw;function u(){var o,u=s.elements,c=t;return u?((u.contextDep&&r.contextDynamic||u.propDep)&&(c=n),o=u.append(e,c)):o=c.def(a,".",Wi),o&&c("if("+o+")"+i+".bindBuffer("+sa+","+o+".buffer.buffer);"),o}function c(){var o,i=s.count,u=t;return i?((i.contextDep&&r.contextDynamic||i.propDep)&&(u=n),o=i.append(e,u),ne.optional((function(){i.MISSING&&e.assert(t,"false","missing vertex count"),i.DYNAMIC&&e.assert(u,o+">=0","missing vertex count")}))):(o=u.def(a,".",Yi),ne.optional((function(){e.assert(u,o+">=0","missing vertex count")}))),o}var l=u();function f(o){var i=s[o];return i?i.contextDep&&r.contextDynamic||i.propDep?i.append(e,n):i.append(e,t):t.def(a,".",o)}var d,h,p=f(Zi),g=f(Hi),v=c();if("number"===typeof v){if(0===v)return}else n("if(",v,"){"),n.exit("}");y&&(d=f(Xi),h=e.instancing);var m=l+".type",b=s.elements&&as(s.elements);function x(){function e(){n(h,".drawElementsInstancedANGLE(",[p,v,m,g+"<<(("+m+"-"+ri+")>>1)",d],");")}function t(){n(h,".drawArraysInstancedANGLE(",[p,g,v,d],");")}l?b?e():(n("if(",l,"){"),e(),n("}else{"),t(),n("}")):t()}function w(){function e(){n(i+".drawElements("+[p,v,m,g+"<<(("+m+"-"+ri+")>>1)"]+");")}function t(){n(i+".drawArrays("+[p,g,v]+");")}l?b?e():(n("if(",l,"){"),e(),n("}else{"),t(),n("}")):t()}y&&("number"!==typeof d||d>=0)?"string"===typeof d?(n("if(",d,">0){"),x(),n("}else if(",d,"<0){"),w(),n("}")):x():w()}function Q(e,t,n,r,o){var i=P(),a=i.proc("body",o);return ne.optional((function(){i.commandStr=t.commandStr,i.command=i.link(t.commandStr)})),y&&(i.instancing=a.def(i.shared.extensions,".angle_instanced_arrays")),e(i,a,n,r),i.compile().body}function ee(e,t,n,r){X(e,t),n.useVAO?n.drawVAO?t(e.shared.vao,".setVAO(",n.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),q(e,t,n,r.attributes,(function(){return!0}))),$(e,t,n,r.uniforms,(function(){return!0})),J(e,t,t,n)}function te(e,t){var n=e.proc("draw",1);X(e,n),W(e,n,t.context),Z(e,n,t.framebuffer),Y(e,n,t),H(e,n,t.state),K(e,n,t,!1,!0);var r=t.shader.progVar.append(e,n);if(n(e.shared.gl,".useProgram(",r,".program);"),t.shader.program)ee(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var o=e.global.def("{}"),i=n.def(r,".id"),a=n.def(o,"[",i,"]");n(e.cond(a).then(a,".call(this,a0);").else(a,"=",o,"[",i,"]=",e.link((function(n){return Q(ee,e,t,n,1)})),"(",r,");",a,".call(this,a0);"))}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;")}function re(e,t,n,r){function o(){return!0}e.batchId="a1",X(e,t),q(e,t,n,r.attributes,o),$(e,t,n,r.uniforms,o),J(e,t,t,n)}function oe(e,t,n,r){X(e,t);var o=n.contextDep,i=t.def(),a="a0",s="a1",u=t.def();e.shared.props=u,e.batchId=i;var c=e.scope(),l=e.scope();function f(e){return e.contextDep&&o||e.propDep}function d(e){return!f(e)}if(t(c.entry,"for(",i,"=0;",i,"<",s,";++",i,"){",u,"=",a,"[",i,"];",l,"}",c.exit),n.needsContext&&W(e,l,n.context),n.needsFramebuffer&&Z(e,l,n.framebuffer),H(e,l,n.state,f),n.profile&&f(n.profile)&&K(e,l,n,!1,!0),r)n.useVAO?n.drawVAO?f(n.drawVAO)?l(e.shared.vao,".setVAO(",n.drawVAO.append(e,l),");"):c(e.shared.vao,".setVAO(",n.drawVAO.append(e,c),");"):c(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(c(e.shared.vao,".setVAO(null);"),q(e,c,n,r.attributes,d),q(e,l,n,r.attributes,f)),$(e,c,n,r.uniforms,d),$(e,l,n,r.uniforms,f),J(e,c,l,n);else{var h=e.global.def("{}"),p=n.shader.progVar.append(e,l),g=l.def(p,".id"),v=l.def(h,"[",g,"]");l(e.shared.gl,".useProgram(",p,".program);","if(!",v,"){",v,"=",h,"[",g,"]=",e.link((function(t){return Q(re,e,n,t,2)})),"(",p,");}",v,".call(this,a0[",i,"],",i,");")}}function ie(e,t){var n=e.proc("batch",2);e.batchId="0",X(e,n);var r=!1,o=!0;Object.keys(t.context).forEach((function(e){r=r||t.context[e].propDep})),r||(W(e,n,t.context),o=!1);var i=t.framebuffer,a=!1;function s(e){return e.contextDep&&r||e.propDep}i?(i.propDep?r=a=!0:i.contextDep&&r&&(a=!0),a||Z(e,n,i)):Z(e,n,null),t.state.viewport&&t.state.viewport.propDep&&(r=!0),Y(e,n,t),H(e,n,t.state,(function(e){return!s(e)})),t.profile&&s(t.profile)||K(e,n,t,!1,"a1"),t.contextDep=r,t.needsContext=o,t.needsFramebuffer=a;var u=t.shader.progVar;if(u.contextDep&&r||u.propDep)oe(e,n,t,null);else{var c=u.append(e,n);if(n(e.shared.gl,".useProgram(",c,".program);"),t.shader.program)oe(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var l=e.global.def("{}"),f=n.def(c,".id"),d=n.def(l,"[",f,"]");n(e.cond(d).then(d,".call(this,a0,a1);").else(d,"=",l,"[",f,"]=",e.link((function(n){return Q(oe,e,t,n,2)})),"(",c,");",d,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;")}function ae(e,t){var r=e.proc("scope",3);e.batchId="a2";var o=e.shared,i=o.current;function a(n){var i=t.shader[n];i&&r.set(o.shader,"."+n,i.append(e,r))}W(e,r,t.context),t.framebuffer&&t.framebuffer.append(e,r),os(Object.keys(t.state)).forEach((function(n){var i=t.state[n].append(e,r);fn(i)?i.forEach((function(t,o){r.set(e.next[n],"["+o+"]",t)})):r.set(o.next,"."+n,i)})),K(e,r,t,!0,!0),[Wi,Hi,Yi,Xi,Zi].forEach((function(n){var i=t.draw[n];i&&r.set(o.draw,"."+n,""+i.append(e,r))})),Object.keys(t.uniforms).forEach((function(i){var a=t.uniforms[i].append(e,r);Array.isArray(a)&&(a="["+a.join()+"]"),r.set(o.uniforms,"["+n.id(i)+"]",a)})),Object.keys(t.attributes).forEach((function(n){var o=t.attributes[n].append(e,r),i=e.scopeAttrib(n);Object.keys(new v).forEach((function(e){r.set(i,"."+e,o[e])}))})),t.scopeVAO&&r.set(o.vao,".targetVAO",t.scopeVAO.append(e,r)),a(Vi),a(Ui),Object.keys(t.state).length>0&&(r(i,".dirty=true;"),r.exit(i,".dirty=true;")),r("a1(",e.shared.context,",a0,",e.batchId,");")}function se(e){if("object"===typeof e&&!fn(e)){for(var t=Object.keys(e),n=0;n<t.length;++n)if(pe.isDynamic(e[t[n]]))return!0;return!1}}function ue(e,t,n){var r=t.static[n];if(r&&se(r)){var o=e.global,i=Object.keys(r),a=!1,s=!1,u=!1,c=e.global.def("{}");i.forEach((function(t){var n=r[t];if(pe.isDynamic(n)){"function"===typeof n&&(n=r[t]=pe.unbox(n));var i=us(n,null);a=a||i.thisDep,u=u||i.propDep,s=s||i.contextDep}else{switch(o(c,".",t,"="),typeof n){case"number":o(n);break;case"string":o('"',n,'"');break;case"object":Array.isArray(n)&&o("[",n.join(),"]");break;default:o(e.link(n))}o(";")}})),t.dynamic[n]=new pe.DynamicVariable(li,{thisDep:a,contextDep:s,propDep:u,ref:c,append:l}),delete t.static[n]}function l(e,t){i.forEach((function(n){var o=r[n];if(pe.isDynamic(o)){var i=e.invoke(t,o);t(c,".",n,"=",i,";")}}))}}function ce(e,n,r,o,i){var a=P();a.stats=a.link(i),Object.keys(n.static).forEach((function(e){ue(a,n,e)})),ia.forEach((function(t){ue(a,e,t)}));var s=U(e,n,r,o,a);return te(a,s),ae(a,s),ie(a,s),t(a.compile(),{destroy:function(){s.shader.program.destroy()}})}return{next:w,current:x,procs:function(){var e=P(),t=e.proc("poll"),n=e.proc("refresh"),i=e.block();t(i),n(i);var a,s=e.shared,u=s.gl,c=s.next,l=s.current;i(l,".dirty=false;"),Z(e,t),Z(e,n,null,!0),y&&(a=e.link(y)),r.oes_vertex_array_object&&n(e.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var f=0;f<o.maxAttributes;++f){var d=n.def(s.attributes,"[",f,"]"),h=e.cond(d,".buffer");h.then(u,".enableVertexAttribArray(",f,");",u,".bindBuffer(",aa,",",d,".buffer.buffer);",u,".vertexAttribPointer(",f,",",d,".size,",d,".type,",d,".normalized,",d,".stride,",d,".offset);").else(u,".disableVertexAttribArray(",f,");",u,".vertexAttrib4f(",f,",",d,".x,",d,".y,",d,".z,",d,".w);",d,".buffer=null;"),n(h),y&&n(a,".vertexAttribDivisorANGLE(",f,",",d,".divisor);")}return n(e.shared.vao,".currentVAO=null;",e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"),Object.keys(_).forEach((function(r){var o=_[r],a=i.def(c,".",r),s=e.block();s("if(",a,"){",u,".enable(",o,")}else{",u,".disable(",o,")}",l,".",r,"=",a,";"),n(s),t("if(",a,"!==",l,".",r,"){",s,"}")})),Object.keys(S).forEach((function(r){var o,a,s=S[r],f=x[r],d=e.block();if(d(u,".",s,"("),fn(f)){var h=f.length;o=e.global.def(c,".",r),a=e.global.def(l,".",r),d(Te(h,(function(e){return o+"["+e+"]"})),");",Te(h,(function(e){return a+"["+e+"]="+o+"["+e+"];"})).join("")),t("if(",Te(h,(function(e){return o+"["+e+"]!=="+a+"["+e+"]"})).join("||"),"){",d,"}")}else o=i.def(c,".",r),a=i.def(l,".",r),d(o,");",l,".",r,"=",o,";"),t("if(",o,"!==",a,"){",d,"}");n(d)})),e.compile()}(),compile:ce}}function fs(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var ds=34918,hs=34919,ps=35007,gs=function(e,t){if(!t.ext_disjoint_timer_query)return null;var n=[];function r(){return n.pop()||t.ext_disjoint_timer_query.createQueryEXT()}function o(e){n.push(e)}var i=[];function a(e){var n=r();t.ext_disjoint_timer_query.beginQueryEXT(ps,n),i.push(n),h(i.length-1,i.length,e)}function s(){t.ext_disjoint_timer_query.endQueryEXT(ps)}function u(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var c=[];function l(){return c.pop()||new u}function f(e){c.push(e)}var d=[];function h(e,t,n){var r=l();r.startQueryIndex=e,r.endQueryIndex=t,r.sum=0,r.stats=n,d.push(r)}var p=[],g=[];function v(){var e,n,r=i.length;if(0!==r){g.length=Math.max(g.length,r+1),p.length=Math.max(p.length,r+1),p[0]=0,g[0]=0;var a=0;for(e=0,n=0;n<i.length;++n){var s=i[n];t.ext_disjoint_timer_query.getQueryObjectEXT(s,hs)?(a+=t.ext_disjoint_timer_query.getQueryObjectEXT(s,ds),o(s)):i[e++]=s,p[n+1]=a,g[n+1]=e}for(i.length=e,e=0,n=0;n<d.length;++n){var u=d[n],c=u.startQueryIndex,l=u.endQueryIndex;u.sum+=p[l]-p[c];var h=g[c],v=g[l];v===h?(u.stats.gpuTime+=u.sum/1e6,f(u)):(u.startQueryIndex=h,u.endQueryIndex=v,d[e++]=u)}d.length=e}}return{beginQuery:a,endQuery:s,pushScopeStats:h,update:v,getNumPendingQueries:function(){return i.length},clear:function(){n.push.apply(n,i);for(var e=0;e<n.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(n[e]);i.length=0,n.length=0},restore:function(){i.length=0,n.length=0}}},vs=16384,ms=256,ys=1024,bs=34962,xs="webglcontextlost",ws="webglcontextrestored",Es=1,_s=2,Ss=3;function ks(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function Ts(e){var n=Se(e);if(!n)return null;var r=n.gl,o=r.getContextAttributes(),i=r.isContextLost(),a=ke(r,n);if(!a)return null;var s=me(),u=fs(),c=a.extensions,l=gs(r,c),f=ve(),d=r.drawingBufferWidth,h=r.drawingBufferHeight,p={tick:0,time:0,viewportWidth:d,viewportHeight:h,framebufferWidth:d,framebufferHeight:h,drawingBufferWidth:d,drawingBufferHeight:h,pixelRatio:n.pixelRatio},g={},v={elements:null,primitive:4,count:-1,offset:0,instances:-1},m=Et(r,c),y=Zt(r,u,n,x),b=Vo(r,c,m,u,y);function x(e){return b.destroyBuffer(e)}var w=an(r,c,y,u),E=Ho(r,s,u,n),_=Kr(r,c,m,(function(){T.procs.poll()}),p,u,n),S=co(r,c,m,u,n),k=Fo(r,c,m,_,S,u),T=ls(r,s,c,m,y,w,_,k,g,b,E,v,p,l,n),C=Jo(r,k,T.procs.poll,p,o,c,m),M=T.next,N=r.canvas,A=[],P=[],O=[],I=[n.onDestroy],D=null;function R(){if(0===A.length)return l&&l.update(),void(D=null);D=ge.next(R),H();for(var e=A.length-1;e>=0;--e){var t=A[e];t&&t(p,null,0)}r.flush(),l&&l.update()}function L(){!D&&A.length>0&&(D=ge.next(R))}function j(){D&&(ge.cancel(R),D=null)}function F(e){e.preventDefault(),i=!0,j(),P.forEach((function(e){e()}))}function B(e){r.getError(),i=!1,a.restore(),E.restore(),y.restore(),_.restore(),S.restore(),k.restore(),b.restore(),l&&l.restore(),T.procs.refresh(),L(),O.forEach((function(e){e()}))}function z(){A.length=0,j(),N&&(N.removeEventListener(xs,F),N.removeEventListener(ws,B)),E.clear(),k.clear(),S.clear(),_.clear(),w.clear(),y.clear(),b.clear(),l&&l.clear(),I.forEach((function(e){e()}))}function G(e){function n(e){var n=t({},e);function r(e){if(e in n){var t=n[e];delete n[e],Object.keys(t).forEach((function(r){n[e+"."+r]=t[r]}))}}return delete n.uniforms,delete n.attributes,delete n.context,delete n.vao,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),"vao"in e&&(n.vao=e.vao),n}function r(e,t){var n={},r={};return Object.keys(e).forEach((function(o){var i=e[o];if(pe.isDynamic(i))r[o]=pe.unbox(i,o);else{if(t&&Array.isArray(i))for(var a=0;a<i.length;++a)if(pe.isDynamic(i[a]))return void(r[o]=pe.unbox(i,o));n[o]=i}})),{dynamic:r,static:n}}ne(!!e,"invalid args to regl({...})"),ne.type(e,"object","invalid args to regl({...})");var o=r(e.context||{},!0),a=r(e.uniforms||{},!0),s=r(e.attributes||{},!1),u=r(n(e),!1),c={gpuTime:0,cpuTime:0,count:0},l=T.compile(u,s,a,o,c),f=l.draw,d=l.batch,h=l.scope,p=[];function g(e){for(;p.length<e;)p.push(null);return p}function v(e,t){var n;if(i&&ne.raise("context lost"),"function"===typeof e)return h.call(this,null,e,0);if("function"===typeof t)if("number"===typeof e)for(n=0;n<e;++n)h.call(this,null,t,n);else{if(!Array.isArray(e))return h.call(this,e,t,0);for(n=0;n<e.length;++n)h.call(this,e[n],t,n)}else if("number"===typeof e){if(e>0)return d.call(this,g(0|e),0|e)}else{if(!Array.isArray(e))return f.call(this,e);if(e.length)return d.call(this,e,e.length)}}return t(v,{stats:c,destroy:function(){l.destroy()}})}N&&(N.addEventListener(xs,F,!1),N.addEventListener(ws,B,!1));var V=k.setFBO=G({framebuffer:pe.define.call(null,Es,"framebuffer")});function U(e,t){var n=0;T.procs.poll();var o=t.color;o&&(r.clearColor(+o[0]||0,+o[1]||0,+o[2]||0,+o[3]||0),n|=vs),"depth"in t&&(r.clearDepth(+t.depth),n|=ms),"stencil"in t&&(r.clearStencil(0|t.stencil),n|=ys),ne(!!n,"called regl.clear with no buffer specified"),r.clear(n)}function W(e){if(ne("object"===typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var n=0;n<6;++n)V(t({framebuffer:e.framebuffer.faces[n]},e),U);else V(e,U);else U(null,e)}function Z(e){function t(){var t=ks(A,e);function n(){var e=ks(A,n);A[e]=A[A.length-1],A.length-=1,A.length<=0&&j()}ne(t>=0,"cannot cancel a frame twice"),A[t]=n}return ne.type(e,"function","regl.frame() callback must be a function"),A.push(e),L(),{cancel:t}}function Y(){var e=M.viewport,t=M.scissor_box;e[0]=e[1]=t[0]=t[1]=0,p.viewportWidth=p.framebufferWidth=p.drawingBufferWidth=e[2]=t[2]=r.drawingBufferWidth,p.viewportHeight=p.framebufferHeight=p.drawingBufferHeight=e[3]=t[3]=r.drawingBufferHeight}function H(){p.tick+=1,p.time=K(),Y(),T.procs.poll()}function X(){_.refresh(),Y(),T.procs.refresh(),l&&l.update()}function K(){return(ve()-f)/1e3}function q(e,t){var n;switch(ne.type(t,"function","listener callback must be a function"),e){case"frame":return Z(t);case"lost":n=P;break;case"restore":n=O;break;case"destroy":n=I;break;default:ne.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(t),{cancel:function(){for(var e=0;e<n.length;++e)if(n[e]===t)return n[e]=n[n.length-1],void n.pop()}}}X();var $=t(G,{clear:W,prop:pe.define.bind(null,Es),context:pe.define.bind(null,_s),this:pe.define.bind(null,Ss),draw:G({}),buffer:function(e){return y.create(e,bs,!1,!1)},elements:function(e){return w.create(e,!1)},texture:_.create2D,cube:_.createCube,renderbuffer:S.create,framebuffer:k.create,framebufferCube:k.createCube,vao:b.createVAO,attributes:o,frame:Z,on:q,limits:m,hasExtension:function(e){return m.extensions.indexOf(e.toLowerCase())>=0},read:C,destroy:z,_gl:r,_refresh:X,poll:function(){H(),l&&l.update()},now:K,stats:u});return n.onDone(null,$),$}return Ts}()},6813:function(e,t){"use strict";var n,r,o,i;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},o=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,v=null,m=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},i=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();b=e+y;try{v(!0,e)?w.postMessage(null):(g=!1,v=null)}catch(n){throw w.postMessage(null),n}}else g=!1},n=function(e){v=e,g||(g=!0,w.postMessage(null))},r=function(e,n){m=d((function(){e(t.unstable_now())}),n)},o=function(){h(m),m=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<k(o,t)))break e;e[r]=t,e[n]=o,n=r}}function _(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var i=2*(r+1)-1,a=e[i],s=i+1,u=e[s];if(void 0!==a&&0>k(a,n))void 0!==u&&0>k(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[i]=n,r=i);else{if(!(void 0!==u&&0>k(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],C=[],M=1,N=null,A=3,P=!1,O=!1,I=!1;function D(e){for(var t=_(C);null!==t;){if(null===t.callback)S(C);else{if(!(t.startTime<=e))break;S(C),t.sortIndex=t.expirationTime,E(T,t)}t=_(C)}}function R(e){if(I=!1,D(e),!O)if(null!==_(T))O=!0,n(L);else{var t=_(C);null!==t&&r(R,t.startTime-e)}}function L(e,n){O=!1,I&&(I=!1,o()),P=!0;var i=A;try{for(D(n),N=_(T);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=N.callback;if("function"===typeof a){N.callback=null,A=N.priorityLevel;var s=a(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===_(T)&&S(T),D(n)}else S(T);N=_(T)}if(null!==N)var u=!0;else{var c=_(C);null!==c&&r(R,c.startTime-n),u=!1}return u}finally{N=null,A=i,P=!1}}var j=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||P||(O=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return _(T)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:M++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,E(C,e),null===_(T)&&e===_(C)&&(I?o():I=!0,r(R,a-s))):(e.sortIndex=u,E(T,e),O||P||(O=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<i.length;u++){var c=i[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(o=n?n.call(r,l,f,c):void 0)||void 0===o&&l!==f)return!1}return!0}},5114:function(e,t,n){"use strict";var r=n(423),o=Array.prototype.concat,i=Array.prototype.slice,a=e.exports=function(e){for(var t=[],n=0,a=e.length;n<a;n++){var s=e[n];r(s)?t=o.call(t,i.call(s)):t.push(s)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},423:function(e){e.exports=function(e){return!(!e||"string"===typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},937:function(e,t,n){"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(9713)),i=r(n(4575)),a=r(n(546)),s=r(n(1918));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function e(){var t=this;(0,i.default)(this,e),this.listeners={},this.getEventMap=function(e){return t.listeners[e]||(t.listeners[e]=new Map),t.listeners[e]},this.on=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.once,i=void 0!==o&&o;return(0,a.default)(n)?(t.getEventMap(e).set(n,i?function(){n.apply(void 0,arguments),t.off(e,n)}:n),t):(console.error("[EventBus Error] listener is not a function"),t)},this.once=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.on(e,n,c(c({},r),{},{once:!0}))},this.off=function(e,n){var r=t.getEventMap(e);return(0,s.default)(n)?r.clear():r.delete(n),t},this.emit=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.getEventMap(e).forEach((function(e){return e.apply(void 0,r)}))}}},9648:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return function(){for(var r=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return clearTimeout(t),t=setTimeout((function(){e.apply(r,i)}),n)}};t.default=n},8410:function(e,t,n){"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(319)),i=r(n(9332)),a=function e(t){return t.reduce((function(t,n){return[].concat((0,o.default)(t),(0,o.default)((0,i.default)(n)?e(n):[n]))}),[])};t.default=a},2520:function(e,t,n){"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;try{(0,a.default)(t)&&(t=String(t));var r=((0,o.default)(t)?t.split("."):t).reduce((function(e,t){return e[t]}),e);return(0,i.default)(r)?n:r}catch(s){return n}};var o=r(n(9731)),i=r(n(1918)),a=r(n(9570))},3438:function(e,t,n){"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(8)),i="undefined"!==typeof window?window:"undefined"!==typeof self?self:"undefined"!==typeof n.g?n.g:Function("return this")(),a="object"===("undefined"===typeof n.g?"undefined":(0,o.default)(n.g))&&n.g&&n.g.Math===Math&&n.g.Array===Array?n.g:i;t.default=a},9332:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e instanceof Array};t.default=n},7231:function(e,t,n){"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(1918)),i=r(n(7843)),a=function(e){return!((0,o.default)(e)||(0,i.default)(e))};t.default=a},546:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return"function"===typeof e};t.default=n},1313:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e!==e};t.default=n},7843:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return null===e};t.default=n},9570:function(e,t,n){"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(1313)),i=function(e){return"number"===typeof e&&!(0,o.default)(e)};t.default=i},7675:function(e,t,n){"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(8)),i=r(n(9332)),a=r(n(7843)),s=function(e){return"object"===(0,o.default)(e)&&!((0,i.default)(e)||(0,a.default)(e))};t.default=s},9731:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e}},1918:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return"undefined"===typeof e};t.default=n},2572:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.disable,r=void 0===n?function(){return!1}:n,o=new Map,i=function(t){if(o.has(t))return o.get(t);for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var s=e.call.apply(e,[this,t].concat(i));return r.call(this,{cache:o,key:t,result:s,drop:function(){return o.delete(t)}})||o.set(t,s),s};return i.cache=o,i};t.default=n},2357:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return Promise.resolve().then(e)};t.default=n},5710:function(e,t,n){"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(9731)),i=r(n(546)),a=r(n(2520)),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t=(0,o.default)(t)?t.split("."):t;for(var n=(0,a.default)(e,t),r=(0,a.default)(e,t.slice(0,-1)),s=arguments.length,u=new Array(s>2?s-2:0),c=2;c<s;c++)u[c-2]=arguments[c];return(0,i.default)(n)?n.call.apply(n,[r].concat(u)):n};t.default=s},96:function(e,t,n){"use strict";var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(1918)),i=r(n(5710)),a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return(0,o.default)(e)?(0,i.default)(t):(0,i.default)(e)}),void 0)};t.default=a},7045:function(e,t,n){var r;!function(o){var i=/^\s+/,a=/\s+$/,s=0,u=o.round,c=o.min,l=o.max,f=o.random;function d(e,t){if(t=t||{},(e=e||"")instanceof d)return e;if(!(this instanceof d))return new d(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,u=null,f=!1,d=!1;"string"==typeof e&&(e=function(e){e=e.replace(i,"").replace(a,"").toLowerCase();var t,n=!1;if(A[e])e=A[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=z.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=z.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=z.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=z.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=z.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=z.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=z.hex8.exec(e))return{r:R(t[1]),g:R(t[2]),b:R(t[3]),a:B(t[4]),format:n?"name":"hex8"};if(t=z.hex6.exec(e))return{r:R(t[1]),g:R(t[2]),b:R(t[3]),format:n?"name":"hex"};if(t=z.hex4.exec(e))return{r:R(t[1]+""+t[1]),g:R(t[2]+""+t[2]),b:R(t[3]+""+t[3]),a:B(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=z.hex3.exec(e))return{r:R(t[1]+""+t[1]),g:R(t[2]+""+t[2]),b:R(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(G(e.r)&&G(e.g)&&G(e.b)?(h=e.r,p=e.g,g=e.b,t={r:255*I(h,255),g:255*I(p,255),b:255*I(g,255)},f=!0,d="%"===String(e.r).substr(-1)?"prgb":"rgb"):G(e.h)&&G(e.s)&&G(e.v)?(r=j(e.s),s=j(e.v),t=function(e,t,n){e=6*I(e,360),t=I(t,100),n=I(n,100);var r=o.floor(e),i=e-r,a=n*(1-t),s=n*(1-i*t),u=n*(1-(1-i)*t),c=r%6;return{r:255*[n,s,a,a,u,n][c],g:255*[u,n,n,s,a,a][c],b:255*[a,a,u,n,n,s][c]}}(e.h,r,s),f=!0,d="hsv"):G(e.h)&&G(e.s)&&G(e.l)&&(r=j(e.s),u=j(e.l),t=function(e,t,n){var r,o,i;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=I(e,360),t=I(t,100),n=I(n,100),0===t)r=o=i=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;r=a(u,s,e+1/3),o=a(u,s,e),i=a(u,s,e-1/3)}return{r:255*r,g:255*o,b:255*i}}(e.h,r,u),f=!0,d="hsl"),e.hasOwnProperty("a")&&(n=e.a));var h,p,g;return n=O(n),{ok:f,format:e.format||d,r:c(255,l(t.r,0)),g:c(255,l(t.g,0)),b:c(255,l(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=u(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=u(this._r)),this._g<1&&(this._g=u(this._g)),this._b<1&&(this._b=u(this._b)),this._ok=n.ok,this._tc_id=s++}function h(e,t,n){e=I(e,255),t=I(t,255),n=I(n,255);var r,o,i=l(e,t,n),a=c(e,t,n),s=(i+a)/2;if(i==a)r=o=0;else{var u=i-a;switch(o=s>.5?u/(2-i-a):u/(i+a),i){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:o,l:s}}function p(e,t,n){e=I(e,255),t=I(t,255),n=I(n,255);var r,o,i=l(e,t,n),a=c(e,t,n),s=i,u=i-a;if(o=0===i?0:u/i,i==a)r=0;else{switch(i){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:o,v:s}}function g(e,t,n,r){var o=[L(u(e).toString(16)),L(u(t).toString(16)),L(u(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function v(e,t,n,r){return[L(F(r)),L(u(e).toString(16)),L(u(t).toString(16)),L(u(n).toString(16))].join("")}function m(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s-=t/100,n.s=D(n.s),d(n)}function y(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s+=t/100,n.s=D(n.s),d(n)}function b(e){return d(e).desaturate(100)}function x(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l+=t/100,n.l=D(n.l),d(n)}function w(e,t){t=0===t?0:t||10;var n=d(e).toRgb();return n.r=l(0,c(255,n.r-u(-t/100*255))),n.g=l(0,c(255,n.g-u(-t/100*255))),n.b=l(0,c(255,n.b-u(-t/100*255))),d(n)}function E(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l-=t/100,n.l=D(n.l),d(n)}function _(e,t){var n=d(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,d(n)}function S(e){var t=d(e).toHsl();return t.h=(t.h+180)%360,d(t)}function k(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+120)%360,s:t.s,l:t.l}),d({h:(n+240)%360,s:t.s,l:t.l})]}function T(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+90)%360,s:t.s,l:t.l}),d({h:(n+180)%360,s:t.s,l:t.l}),d({h:(n+270)%360,s:t.s,l:t.l})]}function C(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+72)%360,s:t.s,l:t.l}),d({h:(n+216)%360,s:t.s,l:t.l})]}function M(e,t,n){t=t||6,n=n||30;var r=d(e).toHsl(),o=360/n,i=[d(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(d(r));return i}function N(e,t){t=t||6;for(var n=d(e).toHsv(),r=n.h,o=n.s,i=n.v,a=[],s=1/t;t--;)a.push(d({h:r,s:o,v:i})),i=(i+s)%1;return a}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:o.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:o.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:o.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=O(e),this._roundA=u(100*this._a)/100,this},toHsv:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=p(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=h(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return g(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,o){var i=[L(u(e).toString(16)),L(u(t).toString(16)),L(u(n).toString(16)),L(F(r))];if(o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0);return i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+u(this._r)+", "+u(this._g)+", "+u(this._b)+")":"rgba("+u(this._r)+", "+u(this._g)+", "+u(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:u(100*I(this._r,255))+"%",g:u(100*I(this._g,255))+"%",b:u(100*I(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+u(100*I(this._r,255))+"%, "+u(100*I(this._g,255))+"%, "+u(100*I(this._b,255))+"%)":"rgba("+u(100*I(this._r,255))+"%, "+u(100*I(this._g,255))+"%, "+u(100*I(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(P[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+v(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=d(e);n="#"+v(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(w,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(M,arguments)},complement:function(){return this._applyCombination(S,arguments)},monochromatic:function(){return this._applyCombination(N,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(k,arguments)},tetrad:function(){return this._applyCombination(T,arguments)}},d.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:j(e[r]));e=n}return d(e,t)},d.equals=function(e,t){return!(!e||!t)&&d(e).toRgbString()==d(t).toRgbString()},d.random=function(){return d.fromRatio({r:f(),g:f(),b:f()})},d.mix=function(e,t,n){n=0===n?0:n||50;var r=d(e).toRgb(),o=d(t).toRgb(),i=n/100;return d({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},d.readability=function(e,t){var n=d(e),r=d(t);return(o.max(n.getLuminance(),r.getLuminance())+.05)/(o.min(n.getLuminance(),r.getLuminance())+.05)},d.isReadable=function(e,t,n){var r,o,i=d.readability(e,t);switch(o=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7}return o},d.mostReadable=function(e,t,n){var r,o,i,a,s=null,u=0;o=(n=n||{}).includeFallbackColors,i=n.level,a=n.size;for(var c=0;c<t.length;c++)(r=d.readability(e,t[c]))>u&&(u=r,s=d(t[c]));return d.isReadable(e,s,{level:i,size:a})||!o?s:(n.includeFallbackColors=!1,d.mostReadable(e,["#fff","#000"],n))};var A=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=d.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(A);function O(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function I(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!=e.indexOf("%")}(e);return e=c(t,l(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),o.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function D(e){return c(1,l(0,e))}function R(e){return parseInt(e,16)}function L(e){return 1==e.length?"0"+e:""+e}function j(e){return e<=1&&(e=100*e+"%"),e}function F(e){return o.round(255*parseFloat(e)).toString(16)}function B(e){return R(e)/255}var z=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function G(e){return!!z.CSS_UNIT.exec(e)}e.exports?e.exports=d:void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}(Math)},9388:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return i},__asyncDelegator:function(){return w},__asyncGenerator:function(){return x},__asyncValues:function(){return E},__await:function(){return b},__awaiter:function(){return l},__classPrivateFieldGet:function(){return C},__classPrivateFieldSet:function(){return M},__createBinding:function(){return d},__decorate:function(){return s},__exportStar:function(){return h},__extends:function(){return o},__generator:function(){return f},__importDefault:function(){return T},__importStar:function(){return k},__makeTemplateObject:function(){return _},__metadata:function(){return c},__param:function(){return u},__read:function(){return g},__rest:function(){return a},__spread:function(){return v},__spreadArray:function(){return y},__spreadArrays:function(){return m},__values:function(){return p}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var d=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function h(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||d(t,e,n)}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function y(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function x(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof b?Promise.resolve(n.value.v).then(u,c):l(i[0][2],n)}catch(r){l(i[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var S=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&d(t,e,n);return S(t,e),t}function T(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function M(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}},2391:function(e){"use strict";var t=function(){};e.exports=t},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,u,"next",e)}function u(e){r(a,o,i,s,u,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return o}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return o}})},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(181);function o(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}},4062:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1120);var o=n(2963);function i(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,r.Z)(e);if(t){var a=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},9340:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}n.d(t,{Z:function(){return o}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},2963:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002),o=n(7326);function i(e,t){if(t&&("object"===(0,r.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(3878);var o=n(181),i=n(5267);function a(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){s=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||(0,o.Z)(e,t)||(0,i.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);var o=n(9199),i=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,o.Z)(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);function o(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".c1112931.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="app:";n.l=function(r,o,i,a){if(e[r])e[r].push(o);else{var s,u;if(void 0!==i)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+i){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[o];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/DMBLiteratureWebsite/",function(){var e={179:0};n.f.j=function(t,r){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise((function(n,r){o=e[t]=[n,r]}));r.push(o[2]=i);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var o,i,a=r[0],s=r[1],u=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(u)u(n)}for(t&&t(r);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkapp=self.webpackChunkapp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{GADDI:function(){return Xr},Stack:function(){return qr},breadthFirstSearch:function(){return Bn},connectedComponent:function(){return Gn},cosineSimilarity:function(){return yr},default:function(){return Jr},depthFirstSearch:function(){return Hn},detectAllCycles:function(){return qn},detectAllDirectedCycle:function(){return Kn},detectAllUndirectedCycle:function(){return Xn},detectCycle:function(){return $n},detectDirectedCycle:function(){return $r},dijkstra:function(){return Jn},findAllPath:function(){return nr},findShortestPath:function(){return tr},floydWarshall:function(){return rr},getAdjMatrix:function(){return Nn},getDegree:function(){return Un},getInDegree:function(){return Wn},getNeighbors:function(){return Ln},getOutDegree:function(){return Zn},iLouvain:function(){return pr},kCore:function(){return gr},kMeans:function(){return mr},labelPropagation:function(){return or},louvain:function(){return hr},minimumSpanningTree:function(){return Cr},nodesCosineSimilarity:function(){return br},pageRank:function(){return Mr}});var t={};n.r(t),n.d(t,{Line:function(){return Do},applyMatrix:function(){return yo},compare:function(){return fo},distance:function(){return wo},floydWarshall:function(){return _o},fractionToLine:function(){return Fo},getAdjMatrix:function(){return So},getBBoxBoundLine:function(){return Ro},getCircleCenterByPoints:function(){return xo},getCircleIntersectByPoint:function(){return vo},getDegree:function(){return No},getEllipseIntersectByPoint:function(){return mo},getLineIntersect:function(){return po},getPointsCenter:function(){return Bo},getRectIntersectByPoint:function(){return go},intersectBBox:function(){return Oo},invertMatrix:function(){return bo},isPointInPolygon:function(){return Po},isPointsOverlap:function(){return Vo},isPolygonsIntersect:function(){return Io},itemIntersectByLine:function(){return jo},lerp:function(){return Zo},move:function(){return To},pointLineDistance:function(){return Wo},pointLineSquareDist:function(){return Go},pointRectSquareDist:function(){return Uo},rotate:function(){return Mo},scale:function(){return Co},scaleMatrix:function(){return Eo},squareDist:function(){return zo},translate:function(){return ko}});var r={};n.r(r),n.d(r,{cloneBesidesImg:function(){return wi},getBBox:function(){return ui},getComboBBox:function(){return bi},getLabelPosition:function(){return li},getLetterWidth:function(){return gi},getLoopCfgs:function(){return ci},getTextSize:function(){return vi},plainCombosToTrees:function(){return mi},reconstructTree:function(){return yi},shouldRefreshEdge:function(){return xi},traverseTree:function(){return hi},traverseTreeUp:function(){return pi}});var o={};n.r(o),n.d(o,{catmullRomToBezier:function(){return Ni},fillPath:function(){return $i},fillPathByDiff:function(){return ea},formatPath:function(){return ra},intersection:function(){return Xi},parsePathArray:function(){return ji},parsePathString:function(){return Mi},pathToAbsolute:function(){return Pi},pathToCurve:function(){return Ri},rectPath:function(){return Ui}});var i={};n.r(i),n.d(i,{easeBack:function(){return ms},easeBackIn:function(){return gs},easeBackInOut:function(){return ms},easeBackOut:function(){return vs},easeBounce:function(){return ds},easeBounceIn:function(){return fs},easeBounceInOut:function(){return hs},easeBounceOut:function(){return ds},easeCircle:function(){return us},easeCircleIn:function(){return as},easeCircleInOut:function(){return us},easeCircleOut:function(){return ss},easeCubic:function(){return Ha},easeCubicIn:function(){return Za},easeCubicInOut:function(){return Ha},easeCubicOut:function(){return Ya},easeElastic:function(){return xs},easeElasticIn:function(){return bs},easeElasticInOut:function(){return ws},easeElasticOut:function(){return xs},easeExp:function(){return is},easeExpIn:function(){return rs},easeExpInOut:function(){return is},easeExpOut:function(){return os},easeLinear:function(){return Ga},easePoly:function(){return qa},easePolyIn:function(){return Xa},easePolyInOut:function(){return qa},easePolyOut:function(){return Ka},easeQuad:function(){return Wa},easeQuadIn:function(){return Va},easeQuadInOut:function(){return Wa},easeQuadOut:function(){return Ua},easeSin:function(){return ts},easeSinIn:function(){return Qa},easeSinInOut:function(){return ts},easeSinOut:function(){return es}});var a={};n.r(a),n.d(a,{calculationItemsBBox:function(){return zc},cloneEvent:function(){return jc},formatPadding:function(){return Lc},isNaN:function(){return Bc},isViewportChanged:function(){return Fc},processParallelEdges:function(){return Gc},uniqueId:function(){return Rc}});var s={};n.r(s),n.d(s,{getClosedSpline:function(){return Ll},getControlPoint:function(){return Il},getSpline:function(){return Ol},paddedHull:function(){return Gl},pathToPoints:function(){return Rl},pointsToPolygon:function(){return Dl},roundedHull:function(){return zl}});var u={};n.r(u),n.d(u,{defaultSubjectColors:function(){return _f}});var c={};n.r(c),n.d(c,{Base:function(){return bd},Circle:function(){return wd},Ellipse:function(){return Sd},Image:function(){return Cd},Line:function(){return Ad},Marker:function(){return Id},Path:function(){return Ud},Polygon:function(){return Yd},Polyline:function(){return Xd},Rect:function(){return qd},Text:function(){return Jd}});var l={};n.r(l),n.d(l,{Base:function(){return vh},Circle:function(){return yh},Dom:function(){return xh},Ellipse:function(){return Eh},Image:function(){return Sh},Line:function(){return Th},Marker:function(){return Ah},Path:function(){return Oh},Polygon:function(){return Dh},Polyline:function(){return Lh},Rect:function(){return Fh},Text:function(){return Uh}});var f={};n.r(f),n.d(f,{getColorSetsBySubjectColors:function(){return Sp},getColorsWithSubjectColor:function(){return _p},mixColor:function(){return Ep}});var d={};n.r(d),n.d(d,{arrayToTextureData:function(){return Vp},attributesToTextureData:function(){return Gp},buildTextureData:function(){return Fp},buildTextureDataWithOneEdgeAttr:function(){return Bp},buildTextureDataWithTwoEdgeAttr:function(){return zp},proccessToFunc:function(){return jp},radialLayout:function(){return Up}});var h={};n.r(h),n.d(h,{gpuDetector:function(){return Wp}});var p={};n.r(p),n.d(p,{assign:function(){return yv},default:function(){return Fv},defaultI18n:function(){return Ev},format:function(){return Lv},parse:function(){return jv},setGlobalDateI18n:function(){return Sv},setGlobalDateMasks:function(){return Rv}});var g={};n.r(g),n.d(g,{handleAutoZoom:function(){return Hx},handleChangeZoom:function(){return Zx},handleRealZoom:function(){return Yx},handleZoomIn:function(){return Wx},handleZoomOut:function(){return Ux}});var v={};n.r(v),n.d(v,{focusNodeById:function(){return Kx},highlightNodeById:function(){return Xx}});var m=n(2791),y=n(4164);function b(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function x(e){return!!e&&!!e[ce]}function w(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===le}(e)||Array.isArray(e)||!!e[ue]||!!e.constructor[ue]||M(e)||N(e))}function E(e,t,n){void 0===n&&(n=!1),0===_(e)?(n?Object.keys:fe)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function _(e){var t=e[ce];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:M(e)?2:N(e)?3:0}function S(e,t){return 2===_(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function k(e,t){return 2===_(e)?e.get(t):e[t]}function T(e,t,n){var r=_(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function C(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function M(e){return oe&&e instanceof Map}function N(e){return ie&&e instanceof Set}function A(e){return e.o||e.t}function P(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=de(e);delete t[ce];for(var n=fe(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function O(e,t){return void 0===t&&(t=!1),D(e)||x(e)||!w(e)||(_(e)>1&&(e.set=e.add=e.clear=e.delete=I),Object.freeze(e),t&&E(e,(function(e,t){return O(t,!0)}),!0)),e}function I(){b(2)}function D(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function R(e){var t=he[e];return t||b(18,e),t}function L(e,t){he[e]||(he[e]=t)}function j(){return ne}function F(e,t){t&&(R("Patches"),e.u=[],e.s=[],e.v=t)}function B(e){z(e),e.p.forEach(V),e.p=null}function z(e){e===ne&&(ne=e.l)}function G(e){return ne={p:[],l:ne,h:e,m:!0,_:0}}function V(e){var t=e[ce];0===t.i||1===t.i?t.j():t.O=!0}function U(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||R("ES5").S(t,e,r),r?(n[ce].P&&(B(t),b(4)),w(e)&&(e=W(t,e),t.l||Y(t,e)),t.u&&R("Patches").M(n[ce].t,e,t.u,t.s)):e=W(t,n,[]),B(t),t.u&&t.v(t.u,t.s),e!==se?e:void 0}function W(e,t,n){if(D(t))return t;var r=t[ce];if(!r)return E(t,(function(o,i){return Z(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Y(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=P(r.k):r.o;E(3===r.i?new Set(o):o,(function(t,i){return Z(e,r,o,t,i,n)})),Y(e,o,!1),n&&e.u&&R("Patches").R(r,n,e.u,e.s)}return r.o}function Z(e,t,n,r,o,i){if(x(o)){var a=W(e,o,i&&t&&3!==t.i&&!S(t.D,r)?i.concat(r):void 0);if(T(n,r,a),!x(a))return;e.m=!1}if(w(o)&&!D(o)){if(!e.h.F&&e._<1)return;W(e,o),t&&t.A.l||Y(e,o)}}function Y(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&O(t,n)}function H(e,t){var n=e[ce];return(n?A(n):e)[t]}function X(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function K(e){e.P||(e.P=!0,e.l&&K(e.l))}function q(e){e.o||(e.o=P(e.t))}function $(e,t,n){var r=M(t)?R("MapSet").N(t,n):N(t)?R("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:j(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=pe;n&&(o=[r],i=ge);var a=Proxy.revocable(o,i),s=a.revoke,u=a.proxy;return r.k=u,r.j=s,u}(t,n):R("ES5").J(t,n);return(n?n.A:j()).p.push(r),r}function J(e){return x(e)||b(22,e),function e(t){if(!w(t))return t;var n,r=t[ce],o=_(t);if(r){if(!r.P&&(r.i<4||!R("ES5").K(r)))return r.t;r.I=!0,n=Q(t,o),r.I=!1}else n=Q(t,o);return E(n,(function(t,o){r&&k(r.t,t)===o||T(n,t,e(o))})),3===o?new Set(n):n}(e)}function Q(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return P(e)}function ee(){function e(e,t){var n=o[e];return n?n.enumerable=t:o[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[ce];return pe.get(t,e)},set:function(t){var n=this[ce];pe.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var o=e[t][ce];if(!o.P)switch(o.i){case 5:r(o)&&K(o);break;case 4:n(o)&&K(o)}}}function n(e){for(var t=e.t,n=e.k,r=fe(n),o=r.length-1;o>=0;o--){var i=r[o];if(i!==ce){var a=t[i];if(void 0===a&&!S(t,i))return!0;var s=n[i],u=s&&s[ce];if(u?u.t!==a:!C(s,a))return!0}}var c=!!t[ce];return r.length!==fe(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var o={};L("ES5",{J:function(t,n){var r=Array.isArray(t),o=function(t,n){if(t){for(var r=Array(n.length),o=0;o<n.length;o++)Object.defineProperty(r,""+o,e(o,!0));return r}var i=de(n);delete i[ce];for(var a=fe(i),s=0;s<a.length;s++){var u=a[s];i[u]=e(u,t||!!i[u].enumerable)}return Object.create(Object.getPrototypeOf(n),i)}(r,t),i={i:r?5:4,A:n?n.A:j(),P:!1,I:!1,D:{},l:n,t:t,k:o,o:null,O:!1,C:!1};return Object.defineProperty(o,ce,{value:i,writable:!0}),o},S:function(e,n,o){o?x(n)&&n[ce].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[ce];if(n){var o=n.t,i=n.k,a=n.D,s=n.i;if(4===s)E(i,(function(t){t!==ce&&(void 0!==o[t]||S(o,t)?a[t]||e(i[t]):(a[t]=!0,K(n)))})),E(o,(function(e){void 0!==i[e]||S(i,e)||(a[e]=!1,K(n))}));else if(5===s){if(r(n)&&(K(n),a.length=!0),i.length<o.length)for(var u=i.length;u<o.length;u++)a[u]=!1;else for(var c=o.length;c<i.length;c++)a[c]=!0;for(var l=Math.min(i.length,o.length),f=0;f<l;f++)i.hasOwnProperty(f)||(a[f]=!0),void 0===a[f]&&e(i[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var te,ne,re="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),oe="undefined"!=typeof Map,ie="undefined"!=typeof Set,ae="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,se=re?Symbol.for("immer-nothing"):((te={})["immer-nothing"]=!0,te),ue=re?Symbol.for("immer-draftable"):"__$immer_draftable",ce=re?Symbol.for("immer-state"):"__$immer_state",le=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),fe="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,de=Object.getOwnPropertyDescriptors||function(e){var t={};return fe(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},he={},pe={get:function(e,t){if(t===ce)return e;var n=A(e);if(!S(n,t))return function(e,t,n){var r,o=X(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!w(r)?r:r===H(e.t,t)?(q(e),e.o[t]=$(e.A.h,r,e)):r},has:function(e,t){return t in A(e)},ownKeys:function(e){return Reflect.ownKeys(A(e))},set:function(e,t,n){var r=X(A(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=H(A(e),t),i=null==o?void 0:o[ce];if(i&&i.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(C(n,o)&&(void 0!==n||S(e.t,t)))return!0;q(e),K(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==H(e.t,t)||t in e.t?(e.D[t]=!1,q(e),K(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=A(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){b(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){b(12)}},ge={};E(pe,(function(e,t){ge[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ge.deleteProperty=function(e,t){return ge.set.call(this,e,t,void 0)},ge.set=function(e,t,n){return pe.set.call(this,e[0],t,n,e[0])};var ve=function(){function e(e){var t=this;this.g=ae,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var i=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return i.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&b(6),void 0!==r&&"function"!=typeof r&&b(7),w(e)){var s=G(t),u=$(t,e,void 0),c=!0;try{a=n(u),c=!1}finally{c?B(s):z(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return F(s,r),U(e,s)}),(function(e){throw B(s),e})):(F(s,r),U(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===se&&(a=void 0),t.F&&O(a,!0),r){var l=[],f=[];R("Patches").M(e,a,l,f),r(l,f)}return a}b(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))};var r,o,i=t.produce(e,n,(function(e,t){r=e,o=t}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,r,o]})):[i,r,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){w(e)||b(8),x(e)&&(e=J(e));var t=G(this),n=$(this,e,void 0);return n[ce].C=!0,z(t),n},t.finishDraft=function(e,t){var n=(e&&e[ce]).A;return F(n,t),U(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!ae&&b(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var o=R("Patches").$;return x(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),me=new ve,ye=me.produce,be=(me.produceWithPatches.bind(me),me.setAutoFreeze.bind(me),me.setUseProxies.bind(me),me.applyPatches.bind(me),me.createDraft.bind(me),me.finishDraft.bind(me),ye),xe=n(4942);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,xe.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Se="function"===typeof Symbol&&Symbol.observable||"@@observable",ke=function(){return Math.random().toString(36).substring(7).split("").join(".")},Te={INIT:"@@redux/INIT"+ke(),REPLACE:"@@redux/REPLACE"+ke(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ke()}};function Ce(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Me(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(_e(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(_e(1));return n(Me)(e,t)}if("function"!==typeof e)throw new Error(_e(2));var o=e,i=t,a=[],s=a,u=!1;function c(){s===a&&(s=a.slice())}function l(){if(u)throw new Error(_e(3));return i}function f(e){if("function"!==typeof e)throw new Error(_e(4));if(u)throw new Error(_e(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(_e(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function d(e){if(!Ce(e))throw new Error(_e(7));if("undefined"===typeof e.type)throw new Error(_e(8));if(u)throw new Error(_e(9));try{u=!0,i=o(i,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}function h(e){if("function"!==typeof e)throw new Error(_e(10));o=e,d({type:Te.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(_e(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[Se]=function(){return this},e}return d({type:Te.INIT}),(r={dispatch:d,subscribe:f,getState:l,replaceReducer:h})[Se]=p,r}function Ne(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"===typeof e[o]&&(n[o]=e[o])}var i,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Te.INIT}))throw new Error(_e(12));if("undefined"===typeof n(void 0,{type:Te.PROBE_UNKNOWN_ACTION()}))throw new Error(_e(13))}))}(n)}catch(s){i=s}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,o={},s=0;s<a.length;s++){var u=a[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(_e(14))}o[u]=f,r=r||f!==l}return(r=r||a.length!==Object.keys(e).length)?o:e}}function Ae(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Pe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(_e(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return r=Ae.apply(void 0,i)(n.dispatch),Ee(Ee({},n),{},{dispatch:r})}}}function Oe(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"===typeof o?o(n,r,e):t(o)}}}}var Ie=Oe();Ie.withExtraArgument=Oe;var De=Ie,Re=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Le=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},je=Object.defineProperty,Fe=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Be=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable,Ge=function(e,t,n){return t in e?je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ve=function(e,t){for(var n in t||(t={}))Be.call(t,n)&&Ge(e,n,t[n]);if(Fe)for(var r=0,o=Fe(t);r<o.length;r++){n=o[r];ze.call(t,n)&&Ge(e,n,t[n])}return e},Ue="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Ae:Ae.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function We(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var Ze=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,n)||this;return Object.setPrototypeOf(o,t.prototype),o}return Re(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Le([void 0],e[0].concat(this)))):new(t.bind.apply(t,Le([void 0],e.concat(this))))},t}(Array);function Ye(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Ze);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(De.withExtraArgument(n.extraArgument)):r.push(De));0;return r}(e)}}function He(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var o=t.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return Ve(Ve({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Xe(e){var t,n={},r=[],o={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,o},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),o},addDefaultCase:function(e){return t=e,o}};return e(o),[n,r,t]}function Ke(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:be(e.initialState,(function(){})),o=e.reducers||{},i=Object.keys(o),a={},s={},u={};function c(){var t="function"===typeof e.extraReducers?Xe(e.extraReducers):[e.extraReducers],n=t[0],o=void 0===n?{}:n,i=t[1],a=void 0===i?[]:i,u=t[2],c=void 0===u?void 0:u,l=Ve(Ve({},o),s);return function(e,t,n,r){void 0===n&&(n=[]);var o,i="function"===typeof t?Xe(t):[t,n,r],a=i[0],s=i[1],u=i[2];if(function(e){return"function"===typeof e}(e))o=function(){return be(e(),(function(){}))};else{var c=be(e,(function(){}));o=function(){return c}}function l(e,t){void 0===e&&(e=o());var n=Le([a[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(x(e))return"undefined"===typeof(r=n(e,t))?e:r;if(w(e))return be(e,(function(e){return n(e,t)}));if("undefined"===typeof(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=o,l}(r,l,a,c)}return i.forEach((function(e){var n,r,i=o[e],c=t+"/"+e;"reducer"in i?(n=i.reducer,r=i.prepare):n=i,a[e]=n,s[c]=n,u[e]=r?He(c,r):He(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:a,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}Object.assign;var qe,$e,Je,Qe,et,tt,nt="listenerMiddleware";He(nt+"/add"),He(nt+"/removeAll"),He(nt+"/remove");ee(),function(e){e.GraphData="Graph data",e.Images="Images",e.Other="Other",e.TabularStructured="Tabular / structured",e.Text="Text",e.TimeSeries="Time series",e.UserItemMatrix="User-item matrix",e.Video="Video",e.Any="Any"}(qe||(qe={})),function(e){e.DecisionRules="Decision Rules",e.DecisionTree="Decision Tree",e.Disentanglement="Disentanglement",e.FeatureImportance="Feature Importance",e.FeaturePlot="Feature plot",e.Graph="Graph",e.Heatmap="Heatmap",e.Localization="Localization",e.Other="Other",e.Prototypes="Prototypes",e.RepresentationSynthesis="Representation Synthesis",e.RepresentationVisualization="Representation Visualization",e.Text="Text",e.TimeSeries="Time series",e.UserItemMatrix="User-item matrix",e.WhiteBoxModel="White-box model"}($e||($e={})),function(e){e.ModelExplanation="Model Explanation",e.ModelInspection="Model Inspection",e.OutcomeExplanation="Outcome Explanation",e.TransparentBoxDesign="Transparent Box Design"}(Je||(Je={})),function(e){e.NeuralNetwork="(Deep) Neural Network",e.ModelAgnostic="Any (for a specific task); model-agnostic",e.Bayesian="Bayesian or Hierarchical Network",e.LogisticRegression="Logistic Regression",e.Other="Other",e.SupportVectorMachine="Support Vector Machine",e.TreeEnsemble="Tree Ensemble"}(Qe||(Qe={})),function(e){e.AnomalyDetections="Anomaly detection",e.Classification="Classification",e.Clustering="Clustering",e.Generation="Generation",e.Other="Other",e.PolicyLearning="Policy learning",e.QuestionAnswering="Question Answering",e.Recommendation="Recommendation",e.Regression="Regression",e.RepresntationLearning="Representation learning",e.Retrieval="Retrieval"}(et||(et={})),function(e){e.InterpretabilityPredictiveModel="Interpretability built into the predictive model",e.PostHocExplanation="Post-hoc explanation method",e.SupervisedExplanationTraining="Supervised explanation training"}(tt||(tt={}));var rt=function(e){return function(t){var n=!0;return t.forEach((function(t){ot(e)(t)||(n=!1)})),n}},ot=function(e){return function(t){return Object.values(e).includes(t)}},it=JSON.parse('[{"Title":"Explainable Recommendation via Interpretable Feature Mapping and Evaluation of Explainability.","url":"https://doi.org/10.24963/ijcai.2020/373","Year":"2020","Venue":"IJCAI","Authors":["Deng Pan","Xiangrui Li","Xin Li 0081","Dongxiao Zhu"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Disentanglement","Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Select, Answer and Explain - Interpretable Multi-Hop Reading Comprehension over Multiple Documents.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/6441","Year":"2020","Venue":"AAAI","Authors":["Ming Tu","Kevin Huang 0002","Guangtao Wang","Jing Huang 0019","Xiaodong He 0002","Bowen Zhou"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Feature Importance","Localization"],"Method used to explain":["Supervised explanation training"]},{"Title":"A Disentangling Invertible Interpretation Network for Explaining Latent Representations.","url":"https://doi.org/10.1109/CVPR42600.2020.00924","Year":"2020","Venue":"CVPR","Authors":["Patrick Esser","Robin Rombach","Bj\xf6rn Ommer"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Representation learning"],"Type of Explanation":["Disentanglement","Representation Synthesis","Representation Visualization"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"LP-Explain - Local Pictorial Explanation for Outliers.","url":"https://doi.org/10.1109/ICDM50108.2020.00046","Year":"2020","Venue":"ICDM","Authors":["Haoyu Liu","Fenglong Ma","Yaqing Wang","Shibo He","Jiming Chen 0001","Jing Gao"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic"],"Type of Task":["Anomaly detection"],"Type of Explanation":["Feature plot"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Feature Interaction Interpretability - A Case for Explaining Ad-Recommendation Systems via Neural Interaction Detection.","url":"https://openreview.net/forum?id=BkgnhTEtDS","Year":"2020","Venue":"ICLR","Authors":["Michael Tsang","Dehua Cheng","Hanpeng Liu","Xue Feng","Eric Zhou","Yan Liu 0002"],"Type of Data":["Images","Text","Graph data","Any"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification","Recommendation"],"Type of Explanation":["Localization"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Interpretations are Useful - Penalizing Explanations to Align Neural Networks with Prior Knowledge.","url":"http://proceedings.mlr.press/v119/rieger20a.html","Year":"2020","Venue":"ICML","Authors":["Laura Rieger","Chandan Singh","W. James Murdoch","Bin Yu"],"Type of Data":["Tabular / structured","Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Supervised explanation training"]},{"Title":"xGAIL - Explainable Generative Adversarial Imitation Learning for Explainable Human Decision Analysis.","url":"https://doi.org/10.1145/3394486.3403186","Year":"2020","Venue":"KDD","Authors":["Menghai Pan","Weixiao Huang","Yanhua Li","Xun Zhou","Jun Luo 0007"],"Type of Data":["Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Policy learning"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Interpretable and Personalized Apprenticeship Scheduling - Learning Interpretable Scheduling Policies from Heterogeneous User Demonstrations.","url":"https://proceedings.neurips.cc/paper/2020/hash/477bdb55b231264bb53a7942fd84254d-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Rohan R. Paleja","Andrew Silva","Letian Chen","Matthew C. Gombolay"],"Type of Data":["Graph data","Other"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Policy learning"],"Type of Explanation":["Decision Tree"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"PGM-Explainer - Probabilistic Graphical Model Explanations for Graph Neural Networks.","url":"https://proceedings.neurips.cc/paper/2020/hash/8fb134f258b1f7865a6ab2d935a897c9-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Minh N. Vu","My T. Thai"],"Type of Data":["Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Graph"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Towards Interpretable Natural Language Understanding with Explanations as Latent Variables.","url":"https://proceedings.neurips.cc/paper/2020/hash/4be2c8f27b8a420492f2d44463933eb6-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Wangchunshu Zhou","Jinyi Hu","Hanlin Zhang","Xiaodan Liang","Maosong Sun","Chenyan Xiong","Jian Tang"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Text"],"Method used to explain":["Supervised explanation training"]},{"Title":"The Curious Case of IR Explainability - Explaining Document Scores within and across Ranking Models.","url":"https://doi.org/10.1145/3397271.3401286","Year":"2020","Venue":"SIGIR","Authors":["Procheta Sen","Debasis Ganguly","Manisha Verma","Gareth J. F. Jones"],"Type of Data":["Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Other"],"Type of Task":["Retrieval"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Towards Explainable NLP - A Generative Explanation Framework for Text Classification.","url":"https://doi.org/10.18653/v1/p19-1560","Year":"2019","Venue":"ACL","Authors":["Hui Liu","Qingyu Yin","William Yang Wang"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Text","Other"],"Method used to explain":["Supervised explanation training"]},{"Title":"Interpretable and Fine-Grained Visual Explanations for Convolutional Neural Networks.","url":"http://openaccess.thecvf.com/content_CVPR_2019/html/Wagner_Interpretable_and_Fine-Grained_Visual_Explanations_for_Convolutional_Neural_Networks_CVPR_2019_paper.html","Year":"2019","Venue":"CVPR","Authors":["J\xf6rg Wagner","Jan Mathias K\xf6hler","Tobias Gindele","Leon Hetzel","Jakob Thadd\xe4us Wiedemer","Sven Behnke"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Heatmap"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Visual Explanation by Interpretation - Improving Visual Feedback Capabilities of Deep Neural Networks.","url":"https://openreview.net/forum?id=H1ziPjC5Fm","Year":"2019","Venue":"ICLR","Authors":["Jos\xe9 Oramas M.","Kaili Wang","Tinne Tuytelaars"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Gaining Free or Low-Cost Interpretability with Interpretable Partial Substitute.","url":"http://proceedings.mlr.press/v97/wang19a.html","Year":"2019","Venue":"ICML","Authors":["Tong Wang"],"Type of Data":["Tabular / structured","Text","Time series"],"Type of Problem":["Model Explanation","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"CXPlain - Causal Explanations for Model Interpretation under Uncertainty.","url":"https://proceedings.neurips.cc/paper/2019/hash/3ab6be46e1d6b21d59a3c3a0b9d0f6ef-Abstract.html","Year":"2019","Venue":"NeurIPS","Authors":["Patrick Schwab","Walter Karlen"],"Type of Data":["Images","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Personalized Fashion Recommendation with Visual Explanations based on Multimodal Attention Network - Towards Visually Explainable Recommendation.","url":"https://doi.org/10.1145/3331184.3331254","Year":"2019","Venue":"SIGIR","Authors":["Xu Chen 0017","Hanxiong Chen","Hongteng Xu","Yongfeng Zhang","Yixin Cao 0002","Zheng Qin","Hongyuan Zha"],"Type of Data":["Images","Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Heatmap"],"Method used to explain":["Supervised explanation training"]},{"Title":"LIRME - Locally Interpretable Ranking Model Explanation.","url":"https://doi.org/10.1145/3331184.3331377","Year":"2019","Venue":"SIGIR","Authors":["Manisha Verma","Debasis Ganguly"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic","Other"],"Type of Task":["Retrieval"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Interpreting CNN Knowledge via an Explanatory Graph.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/17354","Year":"2018","Venue":"AAAI","Authors":["Quanshi Zhang","Ruiming Cao","Feng Shi","Ying Nian Wu","Song-Chun Zhu"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Graph","Prototypes","Localization"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Towards Interpretation of Recommender Systems with Sorted Explanation Paths.","url":"https://doi.org/10.1109/ICDM.2018.00082","Year":"2018","Venue":"ICDM","Authors":["Fan Yang 0023","Ninghao Liu","Suhang Wang","Xia Hu"],"Type of Data":["Tabular / structured","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Graph"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Learning to Explain - An Information-Theoretic Perspective on Model Interpretation.","url":"http://proceedings.mlr.press/v80/chen18j.html","Year":"2018","Venue":"ICML","Authors":["Jianbo Chen","Le Song","Martin J. Wainwright","Michael I. Jordan"],"Type of Data":["Tabular / structured","Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Localization"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Explanation Mining - Post Hoc Interpretability of Latent Factor Models for Recommendation Systems.","url":"https://doi.org/10.1145/3219819.3220072","Year":"2018","Venue":"KDD","Authors":["Georgina Peake","Jun Wang"],"Type of Data":["User-item matrix"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Towards Robust Interpretability with Self-Explaining Neural Networks.","url":"https://proceedings.neurips.cc/paper/2018/hash/3e9f0fc9b2f89e043bc6233994dfcf76-Abstract.html","Year":"2018","Venue":"NeurIPS","Authors":["David Alvarez-Melis","Tommi S. Jaakkola"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Explanations based on the Missing - Towards Contrastive Explanations with Pertinent Negatives.","url":"https://proceedings.neurips.cc/paper/2018/hash/c5ff2543b53f4cc0ad3819a36752467b-Abstract.html","Year":"2018","Venue":"NeurIPS","Authors":["Amit Dhurandhar","Pin-Yu Chen","Ronny Luss","Chun-Chen Tu","Pai-Shun Ting","Karthikeyan Shanmugam","Payel Das"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Interpretable Explanations of Black Boxes by Meaningful Perturbation.","url":"https://doi.org/10.1109/ICCV.2017.371","Year":"2017","Venue":"ICCV","Authors":["Ruth C. Fong","Andrea Vedaldi"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"CoCoX - Generating Conceptual and Counterfactual Explanations via Fault-Lines.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5643","Year":"2020","Venue":"AAAI","Authors":["Arjun R. Akula","Shuai Wang","Song-Chun Zhu"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"LS-Tree - Model Interpretation When the Data Are Linguistic.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5749","Year":"2020","Venue":"AAAI","Authors":["Jianbo Chen","Michael I. Jordan"],"Type of Data":["Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic","Logistic Regression"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Graph"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"A Constraint-Based Approach to Learning and Explanation.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5774","Year":"2020","Venue":"AAAI","Authors":["Gabriele Ciravegna","Francesco Giannini","Stefano Melacci","Marco Maggini","Marco Gori"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Explainable Data Decompositions.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5780","Year":"2020","Venue":"AAAI","Authors":["Sebastian Dalleiger","Jilles Vreeken"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Clustering"],"Type of Explanation":["Other"],"Method used to explain":["Interpretability built into the predictive model","Post-hoc explanation method"]},{"Title":"Asymmetrical Hierarchical Networks with Attentive Interactions for Interpretable Review-Based Recommendation.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/6268","Year":"2020","Venue":"AAAI","Authors":["Xin Dong 0010","Jingchao Ni","Wei Cheng 0002","Zhengzhang Chen","Bo Zong","Dongjin Song","Yanchi Liu","Haifeng Chen","Gerard de Melo"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Interpretable and Differentially Private Predictions.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5827","Year":"2020","Venue":"AAAI","Authors":["Frederik Harder","Matthias Bauer","Mijung Park"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Towards Interpretation of Pairwise Learning.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5837","Year":"2020","Venue":"AAAI","Authors":["Mengdi Huai","Di Wang 0015","Chenglin Miao","Aidong Zhang"],"Type of Data":["Tabular / structured","Images","Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic"],"Type of Task":["Classification","Representation learning"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Word-Level Contextual Sentiment Analysis with Interpretability.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5845","Year":"2020","Venue":"AAAI","Authors":["Tomoki Ito","Kota Tsubouchi","Hiroki Sakaji","Tatsuo Yamashita","Kiyoshi Izumi"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"MRI Reconstruction with Interpretable Pixel-Wise Operations Using Reinforcement Learning.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5423","Year":"2020","Venue":"AAAI","Authors":["Wentian Li","Xidong Feng","Haotian An","Xiang Yao Ng","Yu-Jin Zhang"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Policy learning"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Explainable Reinforcement Learning through a Causal Lens.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5631","Year":"2020","Venue":"AAAI","Authors":["Prashan Madumal","Tim Miller 0001","Liz Sonenberg","Frank Vetere"],"Type of Data":["Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Any (for a specific task); model-agnostic","Other"],"Type of Task":["Policy learning"],"Type of Explanation":["Text"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Relative Attributing Propagation - Interpreting the Comparative Contributions of Individual Units in Deep Neural Networks.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5632","Year":"2020","Venue":"AAAI","Authors":["Woo-Jeoung Nam","Shir Gur","Jaesik Choi","Lior Wolf","Seong-Whan Lee"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Chemically Interpretable Graph Interaction Network for Prediction of Pharmacokinetic Properties of Drug-Like Molecules.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5433","Year":"2020","Venue":"AAAI","Authors":["Yashaswi Pathak","Siddhartha Laghuvarapu","Sarvesh Mehta","U. Deva Priyakumar"],"Type of Data":["Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Regression"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Explanation vs Attention - A Two-Player Game to Obtain Attention for VQA.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/6858","Year":"2020","Venue":"AAAI","Authors":["Badri N. Patro","Anupriy","Vinay Namboodiri"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Heatmap"],"Method used to explain":["Supervised explanation training"]},{"Title":"Dynamic Network Pruning with Interpretable Layerwise Channel Selection.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/6098","Year":"2020","Venue":"AAAI","Authors":["Yulong Wang","Xiaolu Zhang","Xiaolin Hu","Bo Zhang","Hang Su 0006"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Representation Visualization","Other"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Regional Tree Regularization for Interpretability in Deep Neural Networks.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/6112","Year":"2020","Venue":"AAAI","Authors":["Mike Wu","Sonali Parbhoo","Michael C. Hughes","Ryan Kindle","Leo A. Celi","Maurizio Zazzi","Volker Roth 0001","Finale Doshi-Velez"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Tree"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Iteratively Questioning and Answering for Interpretable Legal Judgment Prediction.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5479","Year":"2020","Venue":"AAAI","Authors":["Haoxi Zhong","Yuzhong Wang","Cunchao Tu","Tianyang Zhang","Zhiyuan Liu 0001","Maosong Sun"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering","Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Generating Fact Checking Explanations.","url":"https://doi.org/10.18653/v1/2020.acl-main.656","Year":"2020","Venue":"ACL","Authors":["Pepa Atanasova","Jakob Grue Simonsen","Christina Lioma","Isabelle Augenstein"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Other"],"Type of Explanation":["Text"],"Method used to explain":["Supervised explanation training"]},{"Title":"Generating Hierarchical Explanations on Text Classification via Feature Interaction Detection.","url":"https://doi.org/10.18653/v1/2020.acl-main.494","Year":"2020","Venue":"ACL","Authors":["Hanjie Chen","Guangtao Zheng","Yangfeng Ji"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Graph"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Simple, Interpretable and Stable Method for Detecting Words with Usage Change across Corpora.","url":"https://doi.org/10.18653/v1/2020.acl-main.51","Year":"2020","Venue":"ACL","Authors":["Hila Gonen","Ganesh Jawahar","Djam\xe9 Seddah","Yoav Goldberg"],"Type of Data":["Text"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Other"],"Type of Explanation":["Localization","Representation Visualization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Explaining Black Box Predictions and Unveiling Data Artifacts through Influence Functions.","url":"https://doi.org/10.18653/v1/2020.acl-main.492","Year":"2020","Venue":"ACL","Authors":["Xiaochuang Han","Byron C. Wallace","Yulia Tsvetkov"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Prototypes"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"NILE - Natural Language Inference with Faithful Natural Language Explanations.","url":"https://doi.org/10.18653/v1/2020.acl-main.771","Year":"2020","Venue":"ACL","Authors":["Sawan Kumar","Partha P. Talukdar"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Text","Localization"],"Method used to explain":["Supervised explanation training"]},{"Title":"GCAN - Graph-aware Co-Attention Networks for Explainable Fake News Detection on Social Media.","url":"https://doi.org/10.18653/v1/2020.acl-main.48","Year":"2020","Venue":"ACL","Authors":["Yi-Ju Lu","Cheng-Te Li"],"Type of Data":["Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Towards Transparent and Explainable Attention Models.","url":"https://doi.org/10.18653/v1/2020.acl-main.387","Year":"2020","Venue":"ACL","Authors":["Akash Kumar Mohankumar","Preksha Nema","Sharan Narasimhan","Mitesh M. Khapra","Balaji Vasan Srinivasan","Balaraman Ravindran"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Question Answering"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Relation Extraction with Explanation.","url":"https://doi.org/10.18653/v1/2020.acl-main.579","Year":"2020","Venue":"ACL","Authors":["Hamed Shahbazi","Xiaoli Z. Fern","Reza Ghaeini","Prasad Tadepalli"],"Type of Data":["Text","Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Other"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Obtaining Faithful Interpretations from Compositional Neural Networks.","url":"https://doi.org/10.18653/v1/2020.acl-main.495","Year":"2020","Venue":"ACL","Authors":["Sanjay Subramanian","Ben Bogin","Nitish Gupta","Tomer Wolfson","Sameer Singh 0001","Jonathan Berant","Matt Gardner 0001"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Question Answering"],"Type of Explanation":["Localization","Other"],"Method used to explain":["Interpretability built into the predictive model","Supervised explanation training"]},{"Title":"Perturbed Masking - Parameter-free Probing for Analyzing and Interpreting BERT.","url":"https://doi.org/10.18653/v1/2020.acl-main.383","Year":"2020","Venue":"ACL","Authors":["Zhiyong Wu","Yun Chen","Ben Kao","Qun Liu"],"Type of Data":["Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Other"],"Type of Explanation":["Heatmap","Other"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"DTCA - Decision Tree-based Co-Attention Networks for Explainable Claim Verification.","url":"https://doi.org/10.18653/v1/2020.acl-main.97","Year":"2020","Venue":"ACL","Authors":["Lianwei Wu","Yuan Rao","Yongqiang Zhao","Hao Liang","Ambreen Nazir"],"Type of Data":["Text","Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Localization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Learning Interpretable Relationships between Entities, Relations and Concepts via Bayesian Structure Learning on Open Domain Facts.","url":"https://doi.org/10.18653/v1/2020.acl-main.717","Year":"2020","Venue":"ACL","Authors":["Jingyuan Zhang","Mingming Sun","Yue Feng","Ping Li 0001"],"Type of Data":["Graph data"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Other"],"Type of Explanation":["Graph"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Interpretable Operational Risk Classification with Semi-Supervised Variational Autoencoder.","url":"https://doi.org/10.18653/v1/2020.acl-main.78","Year":"2020","Venue":"ACL","Authors":["Fan Zhou","Shengming Zhang","Yi Yang"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Explaining Knowledge Distillation by Quantifying the Knowledge.","url":"https://doi.org/10.1109/CVPR42600.2020.01294","Year":"2020","Venue":"CVPR","Authors":["Xu Cheng","Zhefan Rao","Yilan Chen","Quanshi Zhang"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Localization"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Interpretable and Accurate Fine-grained Recognition via Region Grouping.","url":"https://doi.org/10.1109/CVPR42600.2020.00869","Year":"2020","Venue":"CVPR","Authors":["Zixuan Huang","Yin Li"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Localization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Self-Supervised Learning of Interpretable Keypoints From Unlabelled Videos.","url":"https://doi.org/10.1109/CVPR42600.2020.00881","Year":"2020","Venue":"CVPR","Authors":["Tomas Jakab","Ankush Gupta 0001","Hakan Bilen","Andrea Vedaldi"],"Type of Data":["Images","Video"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Other"],"Type of Explanation":["Disentanglement","Localization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Attack to Explain Deep Representation.","url":"https://doi.org/10.1109/CVPR42600.2020.00956","Year":"2020","Venue":"CVPR","Authors":["Mohammad A. A. K. Jalwana","Naveed Akhtar","Mohammed Bennamoun","Ajmal Mian"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"A Programmatic and Semantic Approach to Explaining and Debugging Neural Network Based Object Detectors.","url":"https://doi.org/10.1109/CVPR42600.2020.01114","Year":"2020","Venue":"CVPR","Authors":["Edward Kim","Divya Gopinath","Corina S. Pasareanu","Sanjit A. Seshia"],"Type of Data":["Images"],"Type of Problem":["Model Explanation","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Towards Visually Explaining Variational Autoencoders.","url":"https://doi.org/10.1109/CVPR42600.2020.00867","Year":"2020","Venue":"CVPR","Authors":["WenQian Liu","Runze Li","Meng Zheng","Srikrishna Karanam","Ziyan Wu","Bir Bhanu","Richard J. Radke","Octavia I. Camps"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Disentanglement","Heatmap"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Interpreting the Latent Space of GANs for Semantic Face Editing.","url":"https://doi.org/10.1109/CVPR42600.2020.00926","Year":"2020","Venue":"CVPR","Authors":["Yujun Shen","Jinjin Gu","Xiaoou Tang","Bolei Zhou"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"SCOUT - Self-Aware Discriminant Counterfactual Explanations.","url":"https://doi.org/10.1109/CVPR42600.2020.00900","Year":"2020","Venue":"CVPR","Authors":["Pei Wang","Nuno Vasconcelos"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Towards Global Explanations of Convolutional Neural Networks With Concept Attribution.","url":"https://doi.org/10.1109/CVPR42600.2020.00868","Year":"2020","Venue":"CVPR","Authors":["Weibin Wu","Yuxin Su","Xixian Chen","Shenglin Zhao","Irwin King","Michael R. Lyu","Yu-Wing Tai"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Explainable Object-Induced Action Decision for Autonomous Vehicles.","url":"https://doi.org/10.1109/CVPR42600.2020.00954","Year":"2020","Venue":"CVPR","Authors":["Yiran Xu","Xiaoyin Yang","Lihang Gong","Hsuan-Chu Lin","Tz-Ying Wu","Yunsheng Li","Nuno Vasconcelos"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Text"],"Method used to explain":["Supervised explanation training"]},{"Title":"Interpretable Spatiotemporal Deep Learning Model for Traffic Flow Prediction based on Potential Energy Fields.","url":"https://doi.org/10.1109/ICDM50108.2020.00128","Year":"2020","Venue":"ICDM","Authors":["Jiahao Ji","Jingyuan Wang","Zhe Jiang 0001","Jingtian Ma","Hu Zhang"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Towards Hierarchical Importance Attribution - Explaining Compositional Semantics for Neural Sequence Models.","url":"https://openreview.net/forum?id=BkxRRkSKwr","Year":"2020","Venue":"ICLR","Authors":["Xisen Jin","Zhongyu Wei","Junyi Du","Xiangyang Xue","Xiang Ren 0001"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Graph"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Robust And Interpretable Blind Image Denoising Via Bias-Free Convolutional Neural Networks.","url":"https://openreview.net/forum?id=HJlSmC4FPS","Year":"2020","Venue":"ICLR","Authors":["Sreyas Mohan","Zahra Kadkhodaie","Eero P. Simoncelli","Carlos Fernandez-Granda"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Other"],"Type of Explanation":["Representation Synthesis","Other"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"N-BEATS - Neural basis expansion analysis for interpretable time series forecasting.","url":"https://openreview.net/forum?id=r1ecqn4YwB","Year":"2020","Venue":"ICLR","Authors":["Boris N. Oreshkin","Dmitri Carpov","Nicolas Chapados","Yoshua Bengio"],"Type of Data":["Time series"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Regression"],"Type of Explanation":["Feature plot"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Explain Your Move - Understanding Agent Actions Using Specific and Relevant Feature Attribution.","url":"https://openreview.net/forum?id=SJgzLkBKPB","Year":"2020","Venue":"ICLR","Authors":["Nikaash Puri","Sukriti Verma","Piyush Gupta","Dhruv Kayastha","Shripad Deshmukh","Balaji Krishnamurthy","Sameer Singh 0001"],"Type of Data":["Images","Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Policy learning"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Explanation by Progressive Exaggeration.","url":"https://openreview.net/forum?id=H1xFWgrFPS","Year":"2020","Venue":"ICLR","Authors":["Sumedha Singla","Brian Pollack","Junxiang Chen","Kayhan Batmanghelich"],"Type of Data":["Images","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Representation Synthesis","Representation Visualization","Heatmap"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Learn to Explain Efficiently via Neural Logic Inductive Learning.","url":"https://openreview.net/forum?id=SJlh8CEYDB","Year":"2020","Venue":"ICLR","Authors":["Yuan Yang","Le Song"],"Type of Data":["Images","Graph data"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Fairwashing explanations with off-manifold detergent.","url":"http://proceedings.mlr.press/v119/anders20a.html","Year":"2020","Venue":"ICML","Authors":["Christopher J. Anders","Plamen Pasliev","Ann-Kathrin Dombrowski","Klaus-Robert M\xfcller","Pan Kessel"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic","Logistic Regression"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Post-hoc explanation method","Supervised explanation training"]},{"Title":"Concise Explanations of Neural Networks using Adversarial Training.","url":"http://proceedings.mlr.press/v119/chalasani20a.html","Year":"2020","Venue":"ICML","Authors":["Prasad Chalasani","Jiefeng Chen","Amrita Roy Chowdhury 0001","Xi Wu 0001","Somesh Jha"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Explainable and Discourse Topic-aware Neural Language Understanding.","url":"http://proceedings.mlr.press/v119/chaudhary20a.html","Year":"2020","Venue":"ICML","Authors":["Yatin Chaudhary","Hinrich Sch\xfctze","Pankaj Gupta"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Retrieval"],"Type of Explanation":["Other"],"Method used to explain":["Supervised explanation training"]},{"Title":"Multi-Objective Molecule Generation using Interpretable Substructures.","url":"http://proceedings.mlr.press/v119/jin20b.html","Year":"2020","Venue":"ICML","Authors":["Wengong Jin","Regina Barzilay","Tommi S. Jaakkola"],"Type of Data":["Graph data"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Prototypes"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Robust and Stable Black Box Explanations.","url":"http://proceedings.mlr.press/v119/lakkaraju20a.html","Year":"2020","Venue":"ICML","Authors":["Himabindu Lakkaraju","Nino Arsov","Osbert Bastani"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Support Vector Machine","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules","White-box model"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Explainable k-Means and k-Medians Clustering.","url":"http://proceedings.mlr.press/v119/moshkovitz20a.html","Year":"2020","Venue":"ICML","Authors":["Michal Moshkovitz","Sanjoy Dasgupta","Cyrus Rashtchian","Nave Frost"],"Type of Data":["Tabular / structured"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Clustering"],"Type of Explanation":["Decision Tree"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Multiresolution Tensor Learning for Efficient and Interpretable Spatial Analysis.","url":"http://proceedings.mlr.press/v119/park20a.html","Year":"2020","Venue":"ICML","Authors":["Jung Yeon Park","Kenneth Theo Carr","Stephan Zheng","Yisong Yue","Rose Yu"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Explaining Groups of Points in Low-Dimensional Representations.","url":"http://proceedings.mlr.press/v119/plumb20a.html","Year":"2020","Venue":"ICML","Authors":["Gregory Plumb","Jonathan Terhorst","Sriram Sankararaman","Ameet Talwalkar"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Representation learning"],"Type of Explanation":["Feature Importance","Representation Visualization"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"DeepCoDA - personalized interpretability for compositional health data.","url":"http://proceedings.mlr.press/v119/quinn20a.html","Year":"2020","Venue":"ICML","Authors":["Thomas P. Quinn","Dang Nguyen","Santu Rana","Sunil Gupta 0001","Svetha Venkatesh"],"Type of Data":["Tabular / structured"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["White-box model"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Dispersed Exponential Family Mixture VAEs for Interpretable Text Generation.","url":"http://proceedings.mlr.press/v119/shi20f.html","Year":"2020","Venue":"ICML","Authors":["Wenxian Shi","Hao Zhou","Ning Miao","Lei Li 0005"],"Type of Data":["Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Unsupervised Discovery of Interpretable Directions in the GAN Latent Space.","url":"http://proceedings.mlr.press/v119/voynov20a.html","Year":"2020","Venue":"ICML","Authors":["Andrey Voynov","Artem Babenko"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Relation-Based Counterfactual Explanations for Bayesian Network Classifiers.","url":"https://doi.org/10.24963/ijcai.2020/63","Year":"2020","Venue":"IJCAI","Authors":["Emanuele Albini","Antonio Rago 0001","Pietro Baroni","Francesca Toni"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["Graph"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Learning Interpretable Representations with Informative Entanglements.","url":"https://doi.org/10.24963/ijcai.2020/273","Year":"2020","Venue":"IJCAI","Authors":["Ege Beyazit","Doruk Tuncel","Xu Yuan","Nian-Feng Tzeng","Xindong Wu 0001"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Representation learning","Generation"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Towards Explainable Conversational Recommendation.","url":"https://doi.org/10.24963/ijcai.2020/414","Year":"2020","Venue":"IJCAI","Authors":["Zhongxia Chen","Xiting Wang","Xing Xie 0001","Mehul Parsana","Akshay Soni","Xiang Ao","Enhong Chen"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Text"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Human-Driven FOL Explanations of Deep Learning.","url":"https://doi.org/10.24963/ijcai.2020/309","Year":"2020","Venue":"IJCAI","Authors":["Gabriele Ciravegna","Francesco Giannini","Marco Gori","Marco Maggini","Stefano Melacci"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"DACE - Distribution-Aware Counterfactual Explanation by Mixed-Integer Linear Optimization.","url":"https://doi.org/10.24963/ijcai.2020/395","Year":"2020","Venue":"IJCAI","Authors":["Kentaro Kanamori","Takuya Takagi","Ken Kobayashi","Hiroki Arimura"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic","Support Vector Machine","Tree Ensemble"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Synthesizing Aspect-Driven Recommendation Explanations from Reviews.","url":"https://doi.org/10.24963/ijcai.2020/336","Year":"2020","Venue":"IJCAI","Authors":["Trung-Hoang Le","Hady W. Lauw"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Text"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"]},{"Title":"Recurrent Dirichlet Belief Networks for interpretable Dynamic Relational Data Modelling.","url":"https://doi.org/10.24963/ijcai.2020/342","Year":"2020","Venue":"IJCAI","Authors":["Yaqiong Li","Xuhui Fan","Ling Chen","Bin Li","Zheng Yu","Scott A. Sisson"],"Type of Data":["Graph data"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["White-box model"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Explainable Inference on Sequential Data via Memory-Tracking.","url":"https://doi.org/10.24963/ijcai.2020/278","Year":"2020","Venue":"IJCAI","Authors":["Biagio La Rosa","Roberto Capobianco","Daniele Nardi"],"Type of Data":["Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Policy learning"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Interpretable Multimodal Learning for Intelligent Regulation in Online Payment Systems.","url":"https://doi.org/10.24963/ijcai.2020/645","Year":"2020","Venue":"IJCAI","Authors":["Shuoyao Wang","Diwei Zhu"],"Type of Data":["Tabular / structured","Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Retrieval"],"Type of Explanation":["Feature Importance","Feature plot"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Evidence-Aware Hierarchical Interactive Attention Networks for Explainable Claim Verification.","url":"https://doi.org/10.24963/ijcai.2020/193","Year":"2020","Venue":"IJCAI","Authors":["Lianwei Wu","Yuan Rao","Xiong Yang","Wanzhen Wang","Ambreen Nazir"],"Type of Data":["Text","Graph data","Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Interpretable Deep Graph Generation with Node-edge Co-disentanglement.","url":"https://doi.org/10.1145/3394486.3403221","Year":"2020","Venue":"KDD","Authors":["Xiaojie Guo","Liang Zhao 0002","Zhao Qin","Lingfei Wu","Amarda Shehu","Yanfang Ye"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation","Representation learning"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Explainable Classification of Brain Networks via Contrast Subgraphs.","url":"https://doi.org/10.1145/3394486.3403383","Year":"2020","Venue":"KDD","Authors":["Tommaso Lanciano","Francesco Bonchi","Aristides Gionis"],"Type of Data":["Images","Graph data"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature plot","Graph","Localization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"GRACE - Generating Concise and Informative Contrastive Sample to Explain Neural Network Model\'s Prediction.","url":"https://doi.org/10.1145/3394486.3403066","Year":"2020","Venue":"KDD","Authors":["Thai Le","Suhang Wang","Dongwon Lee 0001"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Text"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Adversarial Infidelity Learning for Model Interpretation.","url":"https://doi.org/10.1145/3394486.3403071","Year":"2020","Venue":"KDD","Authors":["Jian Liang","Bing Bai","Yuren Cao","Kun Bai","Fei Wang"],"Type of Data":["Images","Text","Time series","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Knowing your FATE - Friendship, Action and Temporal Explanations for User Engagement Prediction on Social Apps.","url":"https://doi.org/10.1145/3394486.3403276","Year":"2020","Venue":"KDD","Authors":["Xianfeng Tang","Yozen Liu","Neil Shah","Xiaolin Shi","Prasenjit Mitra","Suhang Wang"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"XGNN - Towards Model-Level Explanations of Graph Neural Networks.","url":"https://doi.org/10.1145/3394486.3403085","Year":"2020","Venue":"KDD","Authors":["Hao Yuan","Jiliang Tang","Xia Hu","Shuiwang Ji"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"INPREM - An Interpretable and Trustworthy Predictive Model for Healthcare.","url":"https://doi.org/10.1145/3394486.3403087","Year":"2020","Venue":"KDD","Authors":["Xianli Zhang","Buyue Qian","Shilei Cao 0001","Yang Li","Hang Chen","Yefeng Zheng","Ian Davidson"],"Type of Data":["Tabular / structured","Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature plot"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Explaining Naive Bayes and Other Linear Classifiers with Polynomial Time and Delay.","url":"https://proceedings.neurips.cc/paper/2020/hash/eccd2a86bae4728b38627162ba297828-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Jo\xe3o Marques-Silva 0001","Thomas Gerspacher","Martin C. Cooper","Alexey Ignatiev","Nina Narodytska"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Interpretable Sequence Learning for Covid-19 Forecasting.","url":"https://proceedings.neurips.cc/paper/2020/hash/d9dbc51dc534921589adf460c85cd824-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Sercan \xd6mer Arik","Chun-Liang Li","Jinsung Yoon","Rajarishi Sinha","Arkady Epshteyn","Long T. Le","Vikas Menon","Shashank Singh 0005","Leyou Zhang","Martin Nikoltchev","Yash Sonthalia","Hootan Nakhost","Elli Kanal","Tomas Pfister"],"Type of Data":["Time series"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Regression"],"Type of Explanation":["White-box model"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"ICAM - Interpretable Classification via Disentangled Representations and Feature Attribution Mapping.","url":"https://proceedings.neurips.cc/paper/2020/hash/56f9f88906aebf4ad985aaec7fa01313-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Cher Bass","Mariana da Silva","Carole H. Sudre","Petru-Daniel Tudosiu","Stephen M. Smith","Emma C. Robinson"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Representation learning"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Learning outside the Black-Box - The pursuit of interpretable models.","url":"https://proceedings.neurips.cc/paper/2020/hash/ce758408f6ef98d7c7a7b786eca7b3a8-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Jonathan Crabb\xe9","Yao Zhang","William R. Zame","Mihaela van der Schaar"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Support Vector Machine","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Asymmetric Shapley values - incorporating causal knowledge into model-agnostic explainability.","url":"https://proceedings.neurips.cc/paper/2020/hash/0d770c496aa3da6d2c3f2bd19e7b9d6b-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Christopher Frye","Colin Rowat","Ilya Feige"],"Type of Data":["Tabular / structured","Time series","Any"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"GANSpace - Discovering Interpretable GAN Controls.","url":"https://proceedings.neurips.cc/paper/2020/hash/6fe43269967adbb64ec6149852b5cc3e-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Erik H\xe4rk\xf6nen","Aaron Hertzmann","Jaakko Lehtinen","Sylvain Paris"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Disentanglement","Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Causal Shapley Values - Exploiting Causal Knowledge to Explain Individual Predictions of Complex Models.","url":"https://proceedings.neurips.cc/paper/2020/hash/32e54441e6382a7fbacbbbaf3c450059-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Tom Heskes","Evi Sijben","Ioan Gabriel Bucur","Tom Claassen"],"Type of Data":["Time series","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Interpretable multi-timescale models for predicting fMRI responses to continuous natural speech.","url":"https://proceedings.neurips.cc/paper/2020/hash/9e9a30b74c49d07d8150c8c83b1ccf07-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Shailee Jain","Vy A. Vo","Shivangi Mahto","Amanda LeBel","Javier S. Turek","Alexander Huth"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Heatmap"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Parameterized Explainer for Graph Neural Network.","url":"https://proceedings.neurips.cc/paper/2020/hash/e37b08dd3015330dcbb5d6663667b8b8-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Dongsheng Luo","Wei Cheng 0002","Dongkuan Xu","Wenchao Yu","Bo Zong","Haifeng Chen","Xiang Zhang 0001"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Graph","Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Compositional Explanations of Neurons.","url":"https://proceedings.neurips.cc/paper/2020/hash/c74956ffb38ba48ed6ce977af6727275-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Jesse Mu","Jacob Andreas"],"Type of Data":["Images","Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules","Localization"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Generative causal explanations of black-box classifiers.","url":"https://proceedings.neurips.cc/paper/2020/hash/3a93a609b97ec0ab0ff5539eb79ef33a-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["\\"Matthew R. OShaughnessy\\"","Gregory Canal","Marissa Connor","Christopher Rozell","Mark A. Davenport"],"Type of Data":["Images","Any"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Disentanglement","Graph","Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Learning Global Transparent Models consistent with Local Contrastive Explanations.","url":"https://proceedings.neurips.cc/paper/2020/hash/24aef8cb3281a2422a59b51659f1ad2e-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Tejaswini Pedapati","Avinash Balakrishnan","Karthikeyan Shanmugam","Amit Dhurandhar"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Decision Tree"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Model Agnostic Multilevel Explanations.","url":"https://proceedings.neurips.cc/paper/2020/hash/426f990b332ef8193a61cc90516c1245-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Karthikeyan Natesan Ramamurthy","Bhanukiran Vinzamuri","Yunfeng Zhang","Amit Dhurandhar"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Any (for a specific task); model-agnostic"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Beyond Individualized Recourse - Interpretable and Interactive Summaries of Actionable Recourses.","url":"https://proceedings.neurips.cc/paper/2020/hash/8ee7730e97c67473a424ccfeff49ab20-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Kaivalya Rawal","Himabindu Lakkaraju"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Any (for a specific task); model-agnostic","Logistic Regression"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"How does This Interaction Affect Me? Interpretable Attribution for Feature Interactions.","url":"https://proceedings.neurips.cc/paper/2020/hash/443dec3062d0286986e21dc0631734c9-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Michael Tsang","Sirisha Rambhatla","Yan Liu 0002"],"Type of Data":["Images","Text","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Fourier-transform-based attribution priors improve the interpretability and stability of deep learning models for genomics.","url":"https://proceedings.neurips.cc/paper/2020/hash/1487987e862c44b91a0296cf3866387e-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Alex Tseng","Avanti Shrikumar","Anshul Kundaje"],"Type of Data":["Any","Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"What Did You Think Would Happen? Explaining Agent Behaviour through Intended Outcomes.","url":"https://proceedings.neurips.cc/paper/2020/hash/d5ab8dc7ef67ca92e41d730982c5c602-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Herman Yau","Chris Russell 0001","Simon Hadfield"],"Type of Data":["Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Policy learning"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"On Completeness-aware Concept-Based Explanations in Deep Neural Networks.","url":"https://proceedings.neurips.cc/paper/2020/hash/ecb287ff763c169694f682af52c1f309-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Chih-Kuan Yeh","Been Kim","Sercan \xd6mer Arik","Chun-Liang Li","Tomas Pfister","Pradeep Ravikumar"],"Type of Data":["Images","Text","Any"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Prototypes"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Learning identifiable and interpretable latent models of high-dimensional neural activity using pi-VAE.","url":"https://proceedings.neurips.cc/paper/2020/hash/510f2318f324cf07fce24c3a4b89c771-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Ding Zhou","Xue-Xin Wei"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Other"],"Type of Explanation":["Representation Visualization","Feature plot"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Try This Instead - Personalized and Interpretable Substitute Recommendation.","url":"https://doi.org/10.1145/3397271.3401042","Year":"2020","Venue":"SIGIR","Authors":["Tong Chen 0005","Hongzhi Yin","Guanhua Ye","Zi Huang","Yang Wang 0023","Meng Wang 0001"],"Type of Data":["Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Feature Importance","Text"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Towards Explainable Retrieval Models for Precision Medicine Literature Search.","url":"https://doi.org/10.1145/3397271.3401277","Year":"2020","Venue":"SIGIR","Authors":["Jiaming Qu","Jaime Arguello","Yue Wang 0035"],"Type of Data":["Text"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Retrieval"],"Type of Explanation":["Decision Tree"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Neural Concept Map Generation for Effective Document Classification with Interpretable Structured Summarization.","url":"https://doi.org/10.1145/3397271.3401312","Year":"2020","Venue":"SIGIR","Authors":["Carl Yang","Jieyu Zhang","Haonan Wang","Bangzheng Li","Jiawei Han 0001"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Graph","Text"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Directional and Explainable Serendipity Recommendation.","url":"https://doi.org/10.1145/3366423.3380100","Year":"2020","Venue":"WWW","Authors":["Xueqi Li","Wenjun Jiang","Weiguang Chen","Jie Wu 0001","Guojun Wang 0001","Kenli Li 0001"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Localization","Text"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"The POLAR Framework - Polar Opposites Enable Interpretability of Pre-Trained Word Embeddings.","url":"https://doi.org/10.1145/3366423.3380227","Year":"2020","Venue":"WWW","Authors":["Binny Mathew","Sandipan Sikdar","Florian Lemmerich","Markus Strohmaier"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Tree Ensemble","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Mining Points-of-Interest for Explaining Urban Phenomena - A Scalable Variational Inference Approach.","url":"https://doi.org/10.1145/3366423.3380298","Year":"2020","Venue":"WWW","Authors":["Christof Naumzik","Patrick Zoechbauer","Stefan Feuerriegel"],"Type of Data":["Other"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Other"],"Type of Explanation":["Feature Importance","Feature plot","Heatmap"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Learning Model-Agnostic Counterfactual Explanations for Tabular Data.","url":"https://doi.org/10.1145/3366423.3380087","Year":"2020","Venue":"WWW","Authors":["Martin Pawelczyk","Klaus Broelemann","Gjergji Kasneci"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic","Logistic Regression"],"Type of Task":["Classification"],"Type of Explanation":["Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Dual Learning for Explainable Recommendation - Towards Unifying User Preference Prediction and Review Generation.","url":"https://doi.org/10.1145/3366423.3380164","Year":"2020","Venue":"WWW","Authors":["Peijie Sun","Le Wu","Kun Zhang","Yanjie Fu","Richang Hong","Meng Wang 0001"],"Type of Data":["Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Text"],"Method used to explain":["Supervised explanation training"]},{"Title":"DyCRS - Dynamic Interpretable Postoperative Complication Risk Scoring.","url":"https://doi.org/10.1145/3366423.3380253","Year":"2020","Venue":"WWW","Authors":["Wen Wang","Han Zhao 0002","Honglei Zhuang","Nirav Shah","Rema Padman"],"Type of Data":["Tabular / structured","Time series"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["White-box model"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Modeling Users\' Behavior Sequences with Hierarchical Explainable Network for Cross-domain Fraud Detection.","url":"https://doi.org/10.1145/3366423.3380172","Year":"2020","Venue":"WWW","Authors":["Yongchun Zhu","Dongbo Xi","Bowen Song","Fuzhen Zhuang","Shuai Chen","Xi Gu","Qing He 0003"],"Type of Data":["Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Towards Better Interpretability in Deep Q-Networks.","url":"https://doi.org/10.1609/aaai.v33i01.33014561","Year":"2019","Venue":"AAAI","Authors":["Raghuram Mandyam Annasamy","Katia P. Sycara"],"Type of Data":["Images","Other"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Policy learning"],"Type of Explanation":["Disentanglement","Heatmap","Representation Visualization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Dynamic Explainable Recommendation Based on Neural Attentive Models.","url":"https://doi.org/10.1609/aaai.v33i01.330153","Year":"2019","Venue":"AAAI","Authors":["Xu Chen 0017","Yongfeng Zhang","Zheng Qin"],"Type of Data":["Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Explainable Recommendation through Attentive Multi-View Learning.","url":"https://doi.org/10.1609/aaai.v33i01.33013622","Year":"2019","Venue":"AAAI","Authors":["Jingyue Gao","Xiting Wang","Yasha Wang","Xing Xie 0001"],"Type of Data":["Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Localization","Text"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Interpretable Predictive Modeling for Climate Variables with Weighted Lasso.","url":"https://doi.org/10.1609/aaai.v33i01.33011385","Year":"2019","Venue":"AAAI","Authors":["Sijie He","Xinyan Li","Vidyashankar Sivakumar","Arindam Banerjee 0001"],"Type of Data":["Time series"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Regression"],"Type of Explanation":["White-box model"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Abduction-Based Explanations for Machine Learning Models.","url":"https://doi.org/10.1609/aaai.v33i01.33011511","Year":"2019","Venue":"AAAI","Authors":["Alexey Ignatiev","Nina Narodytska","Jo\xe3o Marques-Silva 0001"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Accurate and Interpretable Factorization Machines.","url":"https://doi.org/10.1609/aaai.v33i01.33014139","Year":"2019","Venue":"AAAI","Authors":["Liang Lan","Yu Geng 0002"],"Type of Data":["Tabular / structured","Text"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"SDRL - Interpretable and Data-Efficient Deep Reinforcement Learning Leveraging Symbolic Planning.","url":"https://doi.org/10.1609/aaai.v33i01.33012970","Year":"2019","Venue":"AAAI","Authors":["Daoming Lyu","Fangkai Yang","Bo Liu","Steven Gustafson"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Policy learning"],"Type of Explanation":["Other"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Interpretable Preference Learning - A Game Theoretic Framework for Large Margin On-Line Feature and Rule Learning.","url":"https://doi.org/10.1609/aaai.v33i01.33014723","Year":"2019","Venue":"AAAI","Authors":["Mirko Polato","Fabio Aiolli"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules","Representation Visualization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Induction of Non-Monotonic Logic Programs to Explain Boosted Tree Models Using LIME.","url":"https://doi.org/10.1609/aaai.v33i01.33013052","Year":"2019","Venue":"AAAI","Authors":["Farhad Shakerin","Gopal Gupta"],"Type of Data":["Tabular / structured","Any"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Tree Ensemble"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Exploring Knowledge Graphs in an Interpretable Composite Approach for Text Entailment.","url":"https://doi.org/10.1609/aaai.v33i01.33017023","Year":"2019","Venue":"AAAI","Authors":["Vivian Dos Santos Silva","Andr\xe9 Freitas","Siegfried Handschuh"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["Graph","Text"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Generation of Policy-Level Explanations for Reinforcement Learning.","url":"https://doi.org/10.1609/aaai.v33i01.33012514","Year":"2019","Venue":"AAAI","Authors":["Nicholay Topin","Manuela Veloso"],"Type of Data":["Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Policy learning"],"Type of Explanation":["Graph","Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Explainable Reasoning over Knowledge Graphs for Recommendation.","url":"https://doi.org/10.1609/aaai.v33i01.33015329","Year":"2019","Venue":"AAAI","Authors":["Xiang Wang 0010","Dingxian Wang","Canran Xu","Xiangnan He 0001","Yixin Cao 0002","Tat-Seng Chua"],"Type of Data":["Graph data","User-item matrix"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Graph","Text"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"FLEX - Faithful Linguistic Explanations for Neural Net Based Model Decisions.","url":"https://doi.org/10.1609/aaai.v33i01.33012539","Year":"2019","Venue":"AAAI","Authors":["Sandareka Wickramanayake","Wynne Hsu","Mong-Li Lee"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Text"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Interpreting Deep Models for Text Analysis via Optimization and Regularization Methods.","url":"https://doi.org/10.1609/aaai.v33i01.33015717","Year":"2019","Venue":"AAAI","Authors":["Hao Yuan","Yongjun Chen","Xia Hu","Shuiwang Ji"],"Type of Data":["Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes","Representation Visualization"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Interpretable Neural Predictions with Differentiable Binary Variables.","url":"https://doi.org/10.18653/v1/p19-1284","Year":"2019","Venue":"ACL","Authors":["Jasmijn Bastings","Wilker Aziz","Ivan Titov"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation","Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Localization","Text","White-box model"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Explore, Propose, and Assemble - An Interpretable Model for Multi-Hop Reading Comprehension.","url":"https://doi.org/10.18653/v1/p19-1261","Year":"2019","Venue":"ACL","Authors":["Yichen Jiang","Nitish Joshi","Yen-Chun Chen 0001","Mohit Bansal"],"Type of Data":["Text"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Constructing Interpretive Spatio-Temporal Features for Multi-Turn Responses Selection.","url":"https://doi.org/10.18653/v1/p19-1006","Year":"2019","Venue":"ACL","Authors":["Junyu Lu","Chenbin Zhang","Zeying Xie","Guang Ling","Tom Chao Zhou","Zenglin Xu"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"OpenDialKG - Explainable Conversational Reasoning with Attention-based Walks over Knowledge Graphs.","url":"https://doi.org/10.18653/v1/p19-1081","Year":"2019","Venue":"ACL","Authors":["Seungwhan Moon","Pararth Shah","Anuj Kumar","Rajen Subba"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Graph"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Word2Sense - Sparse Interpretable Word Embeddings.","url":"https://doi.org/10.18653/v1/p19-1570","Year":"2019","Venue":"ACL","Authors":["Abhishek Panigrahi","Harsha Vardhan Simhadri","Chiranjib Bhattacharyya"],"Type of Data":["Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Tree Ensemble","Support Vector Machine","Any (for a specific task); model-agnostic","Logistic Regression"],"Type of Task":["Classification","Representation learning","Other"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Explain Yourself! Leveraging Language Models for Commonsense Reasoning.","url":"https://doi.org/10.18653/v1/p19-1487","Year":"2019","Venue":"ACL","Authors":["Nazneen Fatema Rajani","Bryan McCann","Caiming Xiong","Richard Socher"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Text"],"Method used to explain":["Post-hoc explanation method","Supervised explanation training"]},{"Title":"Interpretable Question Answering on Knowledge Bases and Text.","url":"https://doi.org/10.18653/v1/p19-1488","Year":"2019","Venue":"ACL","Authors":["Alona Sydorova","Nina P\xf6rner","Benjamin Roth 0001"],"Type of Data":["Tabular / structured","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"]},{"Title":"Attention Branch Network - Learning of Attention Mechanism for Visual Explanation.","url":"http://openaccess.thecvf.com/content_CVPR_2019/html/Fukui_Attention_Branch_Network_Learning_of_Attention_Mechanism_for_Visual_Explanation_CVPR_2019_paper.html","Year":"2019","Venue":"CVPR","Authors":["Hiroshi Fukui","Tsubasa Hirakawa","Takayoshi Yamashita","Hironobu Fujiyoshi"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Learning to Explain With Complemental Examples.","url":"http://openaccess.thecvf.com/content_CVPR_2019/html/Kanehira_Learning_to_Explain_With_Complemental_Examples_CVPR_2019_paper.html","Year":"2019","Venue":"CVPR","Authors":["Atsushi Kanehira","Tatsuya Harada"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes","Text"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Multimodal Explanations by Predicting Counterfactuality in Videos.","url":"http://openaccess.thecvf.com/content_CVPR_2019/html/Kanehira_Multimodal_Explanations_by_Predicting_Counterfactuality_in_Videos_CVPR_2019_paper.html","Year":"2019","Venue":"CVPR","Authors":["Atsushi Kanehira","Kentaro Takemoto","Sho Inayoshi","Tatsuya Harada"],"Type of Data":["Video"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Text"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Explainability Methods for Graph Convolutional Neural Networks.","url":"http://openaccess.thecvf.com/content_CVPR_2019/html/Pope_Explainability_Methods_for_Graph_Convolutional_Neural_Networks_CVPR_2019_paper.html","Year":"2019","Venue":"CVPR","Authors":["Phillip E. Pope","Soheil Kolouri","Mohammad Rostami","Charles E. Martin","Heiko Hoffmann"],"Type of Data":["Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Explainable and Explicit Visual Reasoning Over Scene Graphs.","url":"http://openaccess.thecvf.com/content_CVPR_2019/html/Shi_Explainable_and_Explicit_Visual_Reasoning_Over_Scene_Graphs_CVPR_2019_paper.html","Year":"2019","Venue":"CVPR","Authors":["Jiaxin Shi","Hanwang Zhang","Juanzi Li"],"Type of Data":["Images","Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"End-To-End Interpretable Neural Motion Planner.","url":"http://openaccess.thecvf.com/content_CVPR_2019/html/Zeng_End-To-End_Interpretable_Neural_Motion_Planner_CVPR_2019_paper.html","Year":"2019","Venue":"CVPR","Authors":["Wenyuan Zeng","Wenjie Luo","Simon Suo","Abbas Sadat","Bin Yang 0021","Sergio Casas 0002","Raquel Urtasun"],"Type of Data":["Time series","Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Policy learning"],"Type of Explanation":["Localization"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Interpreting CNNs via Decision Trees.","url":"http://openaccess.thecvf.com/content_CVPR_2019/html/Zhang_Interpreting_CNNs_via_Decision_Trees_CVPR_2019_paper.html","Year":"2019","Venue":"CVPR","Authors":["Quanshi Zhang","Yu Yang","Haotian Ma","Ying Nian Wu"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Tree","Heatmap","Prototypes","Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Explaining Neural Networks Semantically and Quantitatively.","url":"https://doi.org/10.1109/ICCV.2019.00928","Year":"2019","Venue":"ICCV","Authors":["Runjin Chen","Hao Chen","Ge Huang","Jie Ren","Quanshi Zhang"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Explaining the Ambiguity of Object Detection and 6D Pose From Visual Data.","url":"https://doi.org/10.1109/ICCV.2019.00694","Year":"2019","Venue":"ICCV","Authors":["Fabian Manhardt","Diego Mart\xedn Arroyo","Christian Rupprecht 0001","Benjamin Busam","Tolga Birdal","Nassir Navab","Federico Tombari"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Other"],"Type of Explanation":["Other"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"A Tour of Convolutional Networks Guided by Linear Interpreters.","url":"https://doi.org/10.1109/ICCV.2019.00485","Year":"2019","Venue":"ICCV","Authors":["Pablo Navarrete Michelini","Hanwen Liu","Yunhua Lu","Xingqun Jiang"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Generation"],"Type of Explanation":["Heatmap","Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"U-CAM - Visual Explanation Using Uncertainty Based Class Activation Maps.","url":"https://doi.org/10.1109/ICCV.2019.00754","Year":"2019","Venue":"ICCV","Authors":["Badri N. Patro","Mayank Lunayach","Shivansh Patel","Vinay Namboodiri"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Question Answering"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Taking a HINT - Leveraging Explanations to Make Vision and Language Models More Grounded.","url":"https://doi.org/10.1109/ICCV.2019.00268","Year":"2019","Venue":"ICCV","Authors":["Ramprasaath Ramasamy Selvaraju","Stefan Lee","Yilin Shen","Hongxia Jin","Shalini Ghosh","Larry P. Heck","Dhruv Batra","Devi Parikh"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering","Generation"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Fooling Network Interpretation in Image Classification.","url":"https://doi.org/10.1109/ICCV.2019.00211","Year":"2019","Venue":"ICCV","Authors":["Akshayvarun Subramanya","Vipin Pillai","Hamed Pirsiavash"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Adaptive Activation Thresholding - Dynamic Routing Type Behavior for Interpretability in Convolutional Neural Networks.","url":"https://doi.org/10.1109/ICCV.2019.00504","Year":"2019","Venue":"ICCV","Authors":["Yiyou Sun","Sathya N. Ravi","Vikas Singh"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Prototypes"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"]},{"Title":"Towards Interpretable Object Detection by Unfolding Latent Structures.","url":"https://doi.org/10.1109/ICCV.2019.00613","Year":"2019","Venue":"ICCV","Authors":["Tianfu Wu 0001","Xi Song"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Towards Interpretable Face Recognition.","url":"https://doi.org/10.1109/ICCV.2019.00944","Year":"2019","Venue":"ICCV","Authors":["Bangjie Yin","Luan Tran","Haoxiang Li","Xiaohui Shen","Xiaoming Liu 0002"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"MTEX-CNN - Multivariate Time Series EXplanations for Predictions with Convolutional Neural Networks.","url":"https://doi.org/10.1109/ICDM.2019.00106","Year":"2019","Venue":"ICDM","Authors":["Roy Assaf","Ioana Giurgiu","Frank Bagehorn","Anika Schumann"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Scalable Explanation of Inferences on Large Graphs.","url":"https://doi.org/10.1109/ICDM.2019.00111","Year":"2019","Venue":"ICDM","Authors":["Chao Chen","Yifei Liu","Xi Zhang 0008","Sihong Xie"],"Type of Data":["Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Tree"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Interpretable Feature Learning of Graphs using Tensor Decomposition.","url":"https://doi.org/10.1109/ICDM.2019.00037","Year":"2019","Venue":"ICDM","Authors":["Shah Muhammad Hamdi","Rafal A. Angryk"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Disentanglement","Heatmap"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"EDiT - Interpreting Ensemble Models via Compact Soft Decision Trees.","url":"https://doi.org/10.1109/ICDM.2019.00187","Year":"2019","Venue":"ICDM","Authors":["Jaemin Yoo","Lee Sael"],"Type of Data":["Tabular / structured"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Tree Ensemble"],"Type of Task":["Classification"],"Type of Explanation":["Decision Tree"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"KnowRisk - An Interpretable Knowledge-Guided Model for Disease Risk Prediction.","url":"https://doi.org/10.1109/ICDM.2019.00196","Year":"2019","Venue":"ICDM","Authors":["Xianli Zhang","Buyue Qian","Yang Li","Changchang Yin","Xudong Wang","Qinghua Zheng"],"Type of Data":["Tabular / structured","Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"A Model-Agnostic Approach for Explaining the Predictions on Clustered Data.","url":"https://doi.org/10.1109/ICDM.2019.00202","Year":"2019","Venue":"ICDM","Authors":["Zihan Zhou 0003","Mingxuan Sun","Jianhua Chen 0003"],"Type of Data":["User-item matrix","Other"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic","Other"],"Type of Task":["Classification","Regression"],"Type of Explanation":["White-box model"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Explaining Image Classifiers by Counterfactual Generation.","url":"https://openreview.net/forum?id=B1MXz20cYQ","Year":"2019","Venue":"ICLR","Authors":["Chun-Hao Chang","Elliot Creager","Anna Goldenberg","David Duvenaud"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Prototypes"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"L-Shapley and C-Shapley - Efficient Model Interpretation for Structured Data.","url":"https://openreview.net/forum?id=S1E3Ko09F7","Year":"2019","Venue":"ICLR","Authors":["Jianbo Chen","Le Song","Martin J. Wainwright","Michael I. Jordan"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Localization"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"SOM-VAE - Interpretable Discrete Representation Learning on Time Series.","url":"https://openreview.net/forum?id=rygjcsR9Y7","Year":"2019","Venue":"ICLR","Authors":["Vincent Fortuin","Matthias H\xfcser","Francesco Locatello","Heiko Strathmann","Gunnar R\xe4tsch"],"Type of Data":["Images","Time series"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Representation learning","Clustering"],"Type of Explanation":["Representation Visualization","Representation Synthesis"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Hierarchical interpretations for neural network predictions.","url":"https://openreview.net/forum?id=SkEqro0ctQ","Year":"2019","Venue":"ICLR","Authors":["Chandan Singh","W. James Murdoch","Bin Yu"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Graph"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Revealing interpretable object representations from human behavior.","url":"https://openreview.net/forum?id=ryxSrhC9KX","Year":"2019","Venue":"ICLR","Authors":["Charles Y. Zheng","Francisco Pereira","Chris I. Baker","Martin N. Hebart"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic"],"Type of Task":["Representation learning"],"Type of Explanation":["Disentanglement","Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Exploring interpretable LSTM neural networks over multi-variable data.","url":"http://proceedings.mlr.press/v97/guo19b.html","Year":"2019","Venue":"ICML","Authors":["Tian Guo 0002","Tao Lin","Nino Antulov-Fantulin"],"Type of Data":["Time series"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Regression"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Explaining Deep Neural Networks with a Polynomial Time Algorithm for Shapley Value Approximation.","url":"http://proceedings.mlr.press/v97/ancona19a.html","Year":"2019","Venue":"ICML","Authors":["Marco Ancona","Cengiz \xd6ztireli","Markus H. Gross"],"Type of Data":["Tabular / structured","Images","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Learning interpretable continuous-time models of latent stochastic dynamical systems.","url":"http://proceedings.mlr.press/v97/duncker19a.html","Year":"2019","Venue":"ICML","Authors":["Lea Duncker","Gergo Bohner","Julien Boussard","Maneesh Sahani"],"Type of Data":["Time series"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Regression"],"Type of Explanation":["Representation Visualization","Feature plot"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Counterfactual Visual Explanations.","url":"http://proceedings.mlr.press/v97/goyal19a.html","Year":"2019","Venue":"ICML","Authors":["Yash Goyal","Ziyan Wu","Jan Ernst","Dhruv Batra","Devi Parikh","Stefan Lee"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Prototypes","Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Understanding Impacts of High-Order Loss Approximations and Features in Deep Learning Interpretation.","url":"http://proceedings.mlr.press/v97/singla19a.html","Year":"2019","Venue":"ICML","Authors":["Sahil Singla 0002","Eric Wallace","Shi Feng","Soheil Feizi"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"]},{"Title":"Probabilistic Neural Symbolic Models for Interpretable Visual Question Answering.","url":"http://proceedings.mlr.press/v97/vedantam19a.html","Year":"2019","Venue":"ICML","Authors":["Ramakrishna Vedantam","Karan Desai","Stefan Lee","Marcus Rohrbach","Dhruv Batra","Devi Parikh"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Interpretability built into the predictive model","Supervised explanation training"]},{"Title":"Bias Also Matters - Bias Attribution for Deep Neural Network Explanation.","url":"http://proceedings.mlr.press/v97/wang19p.html","Year":"2019","Venue":"ICML","Authors":["Shengjie Wang","Tianyi Zhou","Jeff A. Bilmes"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Co-Attentive Multi-Task Learning for Explainable Recommendation.","url":"https://doi.org/10.24963/ijcai.2019/296","Year":"2019","Venue":"IJCAI","Authors":["Zhongxia Chen","Xiting Wang","Xing Xie 0001","Tong Wu","Guoqing Bu","Yining Wang","Enhong Chen"],"Type of Data":["Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Text"],"Method used to explain":["Supervised explanation training"]},{"Title":"RecoNet - An Interpretable Neural Architecture for Recommender Systems.","url":"https://doi.org/10.24963/ijcai.2019/325","Year":"2019","Venue":"IJCAI","Authors":["Francesco Fusco","Michalis Vlachos","Vasileios Vasileiadis","Kathrin Wardatzky","Johannes Schneider"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"]},{"Title":"Explainable Fashion Recommendation - A Semantic Attribute Region Guided Approach.","url":"https://doi.org/10.24963/ijcai.2019/650","Year":"2019","Venue":"IJCAI","Authors":["Min Hou","Le Wu","Enhong Chen","Zhi Li","Vincent W. Zheng","Qi Liu 0003"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Recommendation"],"Type of Explanation":["Feature Importance","Heatmap","Localization","Prototypes","Text"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Twin-Systems to Explain Artificial Neural Networks using Case-Based Reasoning - Comparative Tests of Feature-Weighting Methods in ANN-CBR Twins for XAI.","url":"https://doi.org/10.24963/ijcai.2019/376","Year":"2019","Venue":"IJCAI","Authors":["Eoin M. Kenny","Mark T. Keane"],"Type of Data":["Tabular / structured","Images","Any"],"Type of Problem":["Model Explanation","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Prototypes"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Learning Interpretable Deep State Space Model for Probabilistic Time Series Forecasting.","url":"https://doi.org/10.24963/ijcai.2019/402","Year":"2019","Venue":"IJCAI","Authors":["Longyuan Li","Junchi Yan","Xiaokang Yang","Yaohui Jin"],"Type of Data":["Time series"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Regression"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Learning Interpretable Relational Structures of Hinge-loss Markov Random Fields.","url":"https://doi.org/10.24963/ijcai.2019/838","Year":"2019","Venue":"IJCAI","Authors":["Yue Zhang","Arti Ramesh"],"Type of Data":["Text"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Policy learning","Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Incorporating Interpretability into Latent Factor Models via Fast Influence Analysis.","url":"https://doi.org/10.1145/3292500.3330857","Year":"2019","Venue":"KDD","Authors":["Weiyu Cheng","Yanyan Shen","Linpeng Huang","Yanmin Zhu"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Improving the Quality of Explanations with Local Embedding Perturbations.","url":"https://doi.org/10.1145/3292500.3330930","Year":"2019","Venue":"KDD","Authors":["Yunzhe Jia","James Bailey 0001","Kotagiri Ramamohanarao","Christopher Leckie","Michael E. Houle"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Tree Ensemble","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Localization"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Interpretable and Steerable Sequence Learning via Prototypes.","url":"https://doi.org/10.1145/3292500.3330908","Year":"2019","Venue":"KDD","Authors":["Yao Ming","Panpan Xu","Huamin Qu","Liu Ren"],"Type of Data":["Text","Time series","Other"],"Type of Problem":["Outcome Explanation","Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"dEFEND - Explainable Fake News Detection.","url":"https://doi.org/10.1145/3292500.3330935","Year":"2019","Venue":"KDD","Authors":["Kai Shu","Limeng Cui","Suhang Wang","Dongwon Lee 0001","Huan Liu 0001"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Text"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Log2Intent - Towards Interpretable User Modeling via Recurrent Semantics Memory Unit.","url":"https://doi.org/10.1145/3292500.3330889","Year":"2019","Venue":"KDD","Authors":["Zhiqiang Tao","Sheng Li 0001","Zhaowen Wang","Chen Fang","Longqi Yang","Handong Zhao","Yun Fu 0001"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Text"],"Method used to explain":["Interpretability built into the predictive model","Supervised explanation training"]},{"Title":"GroupINN - Grouping-based Interpretable Neural Network for Classification of Limited, Noisy Brain Data.","url":"https://doi.org/10.1145/3292500.3330921","Year":"2019","Venue":"KDD","Authors":["Yujun Yan","Jiong Zhu","Marlena Duda","Eric Solarz","Chandra Sekhar Sripada","Danai Koutra"],"Type of Data":["Images","Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Graph","Heatmap"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Learning Interpretable Metric between Graphs - Convex Formulation and Computation with Graph Mining.","url":"https://doi.org/10.1145/3292500.3330845","Year":"2019","Venue":"KDD","Authors":["Tomoki Yoshida","Ichiro Takeuchi","Masayuki Karasuyama"],"Type of Data":["Graph data"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Representation learning"],"Type of Explanation":["Feature Importance","Localization","Graph"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Axiomatic Interpretability for Multiclass Additive Models.","url":"https://doi.org/10.1145/3292500.3330898","Year":"2019","Venue":"KDD","Authors":["Xuezhou Zhang","Sarah Tan","Paul Koch","Yin Lou","Urszula Chajewska","Rich Caruana"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["Feature plot"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Riker - Mining Rich Keyword Representations for Interpretable Product Question Answering.","url":"https://doi.org/10.1145/3292500.3330985","Year":"2019","Venue":"KDD","Authors":["Jie Zhao","Ziyu Guan","Huan Sun"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"This Looks Like That - Deep Learning for Interpretable Image Recognition.","url":"https://proceedings.neurips.cc/paper/2019/hash/adf7ee2dcf142b0e11888e72b43fcb75-Abstract.html","Year":"2019","Venue":"NeurIPS","Authors":["Chaofan Chen","Oscar Li","Daniel Tao","Alina Barnett","Cynthia Rudin","Jonathan Su"],"Type of Data":["Images"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Towards Automatic Concept-based Explanations.","url":"https://proceedings.neurips.cc/paper/2019/hash/77d2afcb31f6493e350fca61764efb9a-Abstract.html","Year":"2019","Venue":"NeurIPS","Authors":["Amirata Ghorbani","James Wexler","James Y. Zou","Been Kim"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes","Localization","Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Grid Saliency for Context Explanations of Semantic Segmentation.","url":"https://proceedings.neurips.cc/paper/2019/hash/6950aa02ae8613af620668146dd11840-Abstract.html","Year":"2019","Venue":"NeurIPS","Authors":["Lukas Hoyer","Mauricio Munoz","Prateek Katiyar","Anna Khoreva","Volker Fischer 0003"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Other"],"Type of Explanation":["Heatmap","Localization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Learning Dynamics of Attention - Human Prior for Interpretable Machine Reasoning.","url":"https://proceedings.neurips.cc/paper/2019/hash/ae3539867aaeec609a4260c6feb725f4-Abstract.html","Year":"2019","Venue":"NeurIPS","Authors":["Wonjae Kim","Yoonho Lee"],"Type of Data":["Images","Text","Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic"],"Type of Task":["Question Answering"],"Type of Explanation":["Heatmap"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Deliberative Explanations - visualizing network insecurities.","url":"https://proceedings.neurips.cc/paper/2019/hash/68053af2923e00204c3ca7c6a3150cf7-Abstract.html","Year":"2019","Venue":"NeurIPS","Authors":["Pei Wang","Nuno Vasconcelos"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Prototypes"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"GNNExplainer - Generating Explanations for Graph Neural Networks.","url":"https://proceedings.neurips.cc/paper/2019/hash/d80b7040b773199015de6d3b4293c8ff-Abstract.html","Year":"2019","Venue":"NeurIPS","Authors":["Zhitao Ying","Dylan Bourgeois","Jiaxuan You","Marinka Zitnik","Jure Leskovec"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Graph"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Transparent, Scrutable and Explainable User Models for Personalized Recommendation.","url":"https://doi.org/10.1145/3331184.3331211","Year":"2019","Venue":"SIGIR","Authors":["Krisztian Balog","Filip Radlinski","Shushan Arakelyan"],"Type of Data":["User-item matrix"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Text"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Prototype-guided Attribute-wise Interpretable Scheme for Clothing Matching.","url":"https://doi.org/10.1145/3331184.3331245","Year":"2019","Venue":"SIGIR","Authors":["Xianjing Han","Xuemeng Song","Jianhua Yin","Yinglong Wang 0001","Liqiang Nie"],"Type of Data":["Images","Text","Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes","Text"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"A Capsule Network for Recommendation and Explaining What You Like and Dislike.","url":"https://doi.org/10.1145/3331184.3331216","Year":"2019","Venue":"SIGIR","Authors":["Chenliang Li","Cong Quan","Li Peng","Yunwei Qi","Yuming Deng","Libing Wu"],"Type of Data":["Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Heatmap","Localization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"The FacT - Taming Latent Factor Models for Explainability with Factorization Trees.","url":"https://doi.org/10.1145/3331184.3331244","Year":"2019","Venue":"SIGIR","Authors":["Yiyi Tao","Yiling Jia","Nan Wang","Hongning Wang"],"Type of Data":["User-item matrix"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Decision Tree","Text"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Reinforcement Knowledge Graph Reasoning for Explainable Recommendation.","url":"https://doi.org/10.1145/3331184.3331203","Year":"2019","Venue":"SIGIR","Authors":["Yikun Xian","Zuohui Fu","S. Muthukrishnan","Gerard de Melo","Yongfeng Zhang"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Policy learning","Recommendation"],"Type of Explanation":["Graph"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Interpretable Fashion Matching with Rich Attributes.","url":"https://doi.org/10.1145/3331184.3331242","Year":"2019","Venue":"SIGIR","Authors":["Xun Yang","Xiangnan He 0001","Xiang Wang 0010","Yunshan Ma","Fuli Feng","Meng Wang 0001","Tat-Seng Chua"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules","Decision Tree","Prototypes"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Jointly Learning Explainable Rules for Recommendation with Knowledge Graph.","url":"https://doi.org/10.1145/3308558.3313607","Year":"2019","Venue":"WWW","Authors":["Weizhi Ma","Min Zhang 0006","Yue Cao","Woojeong Jin","Chenyang Wang","Yiqun Liu 0001","Shaoping Ma","Xiang Ren 0001"],"Type of Data":["Graph data","User-item matrix"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Learning Interpretable Spatial Operations in a Rich 3D Blocks World.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/17410","Year":"2018","Venue":"AAAI","Authors":["Yonatan Bisk","Kevin J. Shih","Yejin Choi","Daniel Marcu"],"Type of Data":["Other"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Policy learning"],"Type of Explanation":["Other"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"An Interpretable Generative Adversarial Approach to Classification of Latent Entity Relations in Unstructured Sentences.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/16629","Year":"2018","Venue":"AAAI","Authors":["Shiou Tian Hsu","Changsung Moon","Paul Jones 0001","Nagiza F. Samatova"],"Type of Data":["Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Deep Learning for Case-Based Reasoning Through Prototypes - A Neural Network That Explains Its Predictions.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/17082","Year":"2018","Venue":"AAAI","Authors":["Oscar Li","Hao Liu 0015","Chaofan Chen","Cynthia Rudin"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"An Interpretable Joint Graphical Model for Fact-Checking From Crowds.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/16673","Year":"2018","Venue":"AAAI","Authors":["An T. Nguyen 0001","Aditya Kharosekar","Matthew Lease","Byron C. Wallace"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Logistic Regression"],"Type of Task":["Classification"],"Type of Explanation":["Other"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Question-Answering with Grammatically-Interpretable Representations.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/17090","Year":"2018","Venue":"AAAI","Authors":["Hamid Palangi","Paul Smolensky","Xiaodong He 0001","Li Deng 0001"],"Type of Data":["Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Question Answering"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Anchors - High-Precision Model-Agnostic Explanations.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/16982","Year":"2018","Venue":"AAAI","Authors":["Marco T\xfalio Ribeiro","Sameer Singh 0001","Carlos Guestrin"],"Type of Data":["Tabular / structured","Images","Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Any (for a specific task); model-agnostic","Logistic Regression"],"Type of Task":["Classification","Question Answering"],"Type of Explanation":["Decision Rules","Localization"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Improving the Adversarial Robustness and Interpretability of Deep Neural Networks by Regularizing Their Input Gradients.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/17337","Year":"2018","Venue":"AAAI","Authors":["Andrew Slavin Ross","Finale Doshi-Velez"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Representation Synthesis"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"]},{"Title":"Interpretable Graph-Based Semi-Supervised Learning via Flows.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/16396","Year":"2018","Venue":"AAAI","Authors":["Raif M. Rustamov","James T. Klosowski"],"Type of Data":["Tabular / structured","Images","Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Graph"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"SPINE - SParse Interpretable Neural Embeddings.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/17433","Year":"2018","Venue":"AAAI","Authors":["Anant Subramanian","Danish Pruthi","Harsh Jhamtani","Taylor Berg-Kirkpatrick","Eduard H. Hovy"],"Type of Data":["Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Support Vector Machine","Logistic Regression","Any (for a specific task); model-agnostic"],"Type of Task":["Classification","Regression","Representation learning"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Beyond Sparsity - Tree Regularization of Deep Models for Interpretability.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/16285","Year":"2018","Venue":"AAAI","Authors":["Mike Wu","Michael C. Hughes","Sonali Parbhoo","Maurizio Zazzi","Volker Roth 0001","Finale Doshi-Velez"],"Type of Data":["Tabular / structured","Time series"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Tree"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"]},{"Title":"Unsupervised Discrete Sentence Representation Learning for Interpretable Neural Dialog Generation.","url":"https://www.aclweb.org/anthology/P18-1101/","Year":"2018","Venue":"ACL","Authors":["Tiancheng Zhao","Kyusong Lee","Maxine Esk\xe9nazi"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation","Representation learning"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Interpretable and Compositional Relation Learning by Joint Training with an Autoencoder.","url":"https://www.aclweb.org/anthology/P18-1200/","Year":"2018","Venue":"ACL","Authors":["Ryo Takahashi","Ran Tian","Kentaro Inui"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Representation learning","Other"],"Type of Explanation":["Disentanglement","Representation Visualization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Multimodal Language Analysis in the Wild - CMU-MOSEI Dataset and Interpretable Dynamic Fusion Graph.","url":"https://www.aclweb.org/anthology/P18-1208/","Year":"2018","Venue":"ACL","Authors":["Amir Zadeh 0001","Paul Pu Liang","Soujanya Poria","Erik Cambria","Louis-Philippe Morency"],"Type of Data":["Text","Video","Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Feature plot"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Evaluating neural network explanation methods using hybrid documents and morphosyntactic agreement.","url":"https://www.aclweb.org/anthology/P18-1032/","Year":"2018","Venue":"ACL","Authors":["Nina P\xf6rner","Hinrich Sch\xfctze","Benjamin Roth 0001"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Learning to Act Properly - Predicting and Explaining Affordances From Images.","url":"http://openaccess.thecvf.com/content_cvpr_2018/html/Chuang_Learning_to_Act_CVPR_2018_paper.html","Year":"2018","Venue":"CVPR","Authors":["Ching-Yao Chuang","Jiaman Li","Antonio Torralba 0001","Sanja Fidler"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Text"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Net2Vec - Quantifying and Explaining How Concepts Are Encoded by Filters in Deep Neural Networks.","url":"http://openaccess.thecvf.com/content_cvpr_2018/html/Fong_Net2Vec_Quantifying_and_CVPR_2018_paper.html","Year":"2018","Venue":"CVPR","Authors":["Ruth Fong","Andrea Vedaldi"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Prototypes"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Transparency by Design - Closing the Gap Between Performance and Interpretability in Visual Reasoning.","url":"http://openaccess.thecvf.com/content_cvpr_2018/html/Mascharka_Transparency_by_Design_CVPR_2018_paper.html","Year":"2018","Venue":"CVPR","Authors":["David Mascharka","Philip Tran","Ryan Soklaski","Arjun Majumdar"],"Type of Data":["Images","Text"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Heatmap"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Multimodal Explanations - Justifying Decisions and Pointing to the Evidence.","url":"http://openaccess.thecvf.com/content_cvpr_2018/html/Park_Multimodal_Explanations_Justifying_CVPR_2018_paper.html","Year":"2018","Venue":"CVPR","Authors":["Dong Huk Park","Lisa Anne Hendricks","Zeynep Akata","Anna Rohrbach","Bernt Schiele","Trevor Darrell","Marcus Rohrbach"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Heatmap","Localization","Text"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Interpret Neural Networks by Identifying Critical Data Routing Paths.","url":"http://openaccess.thecvf.com/content_cvpr_2018/html/Wang_Interpret_Neural_Networks_CVPR_2018_paper.html","Year":"2018","Venue":"CVPR","Authors":["Yulong Wang","Hang Su 0006","Bo Zhang 0010","Xiaolin Hu 0001"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Other"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Interpretable Video Captioning via Trajectory Structured Localization.","url":"http://openaccess.thecvf.com/content_cvpr_2018/html/Wu_Interpretable_Video_Captioning_CVPR_2018_paper.html","Year":"2018","Venue":"CVPR","Authors":["Xian Wu","Guanbin Li","Qingxing Cao","Qingge Ji","Liang Lin"],"Type of Data":["Video"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Interpretable Convolutional Neural Networks.","url":"http://openaccess.thecvf.com/content_cvpr_2018/html/Zhang_Interpretable_Convolutional_Neural_CVPR_2018_paper.html","Year":"2018","Venue":"CVPR","Authors":["Quanshi Zhang","Ying Nian Wu","Song-Chun Zhu"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Disentanglement","Heatmap","Localization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"DeepVoting - A Robust and Explainable Deep Network for Semantic Part Detection Under Partial Occlusion.","url":"http://openaccess.thecvf.com/content_cvpr_2018/html/Zhang_DeepVoting_A_Robust_CVPR_2018_paper.html","Year":"2018","Venue":"CVPR","Authors":["Zhishuai Zhang","Cihang Xie","Jianyu Wang","Lingxi Xie","Alan L. Yuille"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Localization","Prototypes"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Interpretable Word Embeddings for Medical Domain.","url":"https://doi.org/10.1109/ICDM.2018.00135","Year":"2018","Venue":"ICDM","Authors":["Kishlay Jha","Yaqing Wang","Guangxu Xun","Aidong Zhang"],"Type of Data":["Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Representation learning"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Explainable Time Series Tweaking via Irreversible and Reversible Temporal Transformations.","url":"https://doi.org/10.1109/ICDM.2018.00036","Year":"2018","Venue":"ICDM","Authors":["Isak Karlsson","Jonathan Rebane","Panagiotis Papapetrou","Aristides Gionis"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Tree Ensemble"],"Type of Task":["Classification"],"Type of Explanation":["Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"A Reinforcement Learning Framework for Explainable Recommendation.","url":"https://doi.org/10.1109/ICDM.2018.00074","Year":"2018","Venue":"ICDM","Authors":["Xiting Wang","Yiru Chen","Jie Yang","Le Wu","Zhengtao Wu","Xing Xie 0001"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Recommendation"],"Type of Explanation":["Text"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Learning how to explain neural networks - PatternNet and PatternAttribution.","url":"https://openreview.net/forum?id=Hkn7CBaTW","Year":"2018","Venue":"ICLR","Authors":["Pieter-Jan Kindermans","Kristof T. Sch\xfctt","Maximilian Alber","Klaus-Robert M\xfcller","Dumitru Erhan","Been Kim","Sven D\xe4hne"],"Type of Data":["Images","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Hierarchical and Interpretable Skill Acquisition in Multi-task Reinforcement Learning.","url":"https://openreview.net/forum?id=SJJQVZW0b","Year":"2018","Venue":"ICLR","Authors":["Tianmin Shu","Caiming Xiong","Richard Socher"],"Type of Data":["Images"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Policy learning"],"Type of Explanation":["Graph","Text"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Interpretable Counting for Visual Question Answering.","url":"https://openreview.net/forum?id=S1J2ZyZ0Z","Year":"2018","Venue":"ICLR","Authors":["Alexander Trott","Caiming Xiong","Richard Socher"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Discovering Interpretable Representations for Both Deep Generative and Discriminative Models.","url":"http://proceedings.mlr.press/v80/adel18a.html","Year":"2018","Venue":"ICML","Authors":["Tameem Adel","Zoubin Ghahramani","Adrian Weller"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Representation learning"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"oi-VAE - Output Interpretable VAEs for Nonlinear Group Factor Analysis.","url":"http://proceedings.mlr.press/v80/ainsworth18a.html","Year":"2018","Venue":"ICML","Authors":["Samuel K. Ainsworth","Nicholas J. Foti","Adrian K. C. Lee","Emily B. Fox"],"Type of Data":["Images","Video","Time series"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Interpretability Beyond Feature Attribution - Quantitative Testing with Concept Activation Vectors (TCAV).","url":"http://proceedings.mlr.press/v80/kim18d.html","Year":"2018","Venue":"ICML","Authors":["Been Kim","Martin Wattenberg","Justin Gilmer","Carrie J. Cai","James Wexler","Fernanda B. Vi\xe9gas","Rory Sayres"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Heatmap","Prototypes","Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Programmatically Interpretable Reinforcement Learning.","url":"http://proceedings.mlr.press/v80/verma18a.html","Year":"2018","Venue":"ICML","Authors":["Abhinav Verma","Vijayaraghavan Murali","Rishabh Singh","Pushmeet Kohli","Swarat Chaudhuri"],"Type of Data":["Time series"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Policy learning"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Interpretable Recommendation via Attraction Modeling - Learning Multilevel Attractiveness over Multimodal Movie Contents.","url":"https://doi.org/10.24963/ijcai.2018/472","Year":"2018","Venue":"IJCAI","Authors":["Liang Hu 0004","Songlei Jian","Longbing Cao","Qingkui Chen"],"Type of Data":["Tabular / structured","Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Explaining Multi-Criteria Decision Aiding Models with an Extended Shapley Value.","url":"https://doi.org/10.24963/ijcai.2018/46","Year":"2018","Venue":"IJCAI","Authors":["Christophe Labreuche","Simon Fossier"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Other"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Contextual Outlier Interpretation.","url":"https://doi.org/10.24963/ijcai.2018/341","Year":"2018","Venue":"IJCAI","Authors":["Ninghao Liu","Donghwa Shin","Xia Hu"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Support Vector Machine","Any (for a specific task); model-agnostic"],"Type of Task":["Anomaly detection"],"Type of Explanation":["Localization","Prototypes","Other"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Beyond Polarity - Interpretable Financial Sentiment Analysis with Hierarchical Query-driven Attention.","url":"https://doi.org/10.24963/ijcai.2018/590","Year":"2018","Venue":"IJCAI","Authors":["Ling Luo","Xiang Ao","Feiyang Pan","Jin Wang 0007","Tong Zhao","Ningzi Yu","Qing He 0003"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Argumentation-Based Recommendations - Fantastic Explanations and How to Find Them.","url":"https://doi.org/10.24963/ijcai.2018/269","Year":"2018","Venue":"IJCAI","Authors":["Antonio Rago 0001","Oana Cocarascu","Francesca Toni"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Feature Importance","Graph"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Interpretable Adversarial Perturbation in Input Embedding Space for Text.","url":"https://doi.org/10.24963/ijcai.2018/601","Year":"2018","Venue":"IJCAI","Authors":["Motoki Sato","Jun Suzuki","Hiroyuki Shindo","Yuji Matsumoto 0001"],"Type of Data":["Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Prototypes","Text"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"A Symbolic Approach to Explaining Bayesian Network Classifiers.","url":"https://doi.org/10.24963/ijcai.2018/708","Year":"2018","Venue":"IJCAI","Authors":["Andy Shih","Arthur Choi","Adnan Darwiche"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Explanation","Outcome Explanation"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","White-box model"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Interpretable Representation Learning for Healthcare via Capturing Disease Progression through Time.","url":"https://doi.org/10.1145/3219819.3219904","Year":"2018","Venue":"KDD","Authors":["Tian Bai","Shanshan Zhang","Brian L. Egleston","Slobodan Vucetic"],"Type of Data":["Text","Time series"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Exact and Consistent Interpretation for Piecewise Linear Neural Networks - A Closed Form Solution.","url":"https://doi.org/10.1145/3219819.3220063","Year":"2018","Venue":"KDD","Authors":["Lingyang Chu","Xia Hu","Juhua Hu","Lanjun Wang","Jian Pei"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","White-box model"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Towards Explanation of DNN-based Prediction with Guided Feature Inversion.","url":"https://doi.org/10.1145/3219819.3220099","Year":"2018","Venue":"KDD","Authors":["Mengnan Du","Ninghao Liu","Qingquan Song","Xia Hu"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Explaining Aviation Safety Incidents Using Deep Temporal Multiple Instance Learning.","url":"https://doi.org/10.1145/3219819.3219871","Year":"2018","Venue":"KDD","Authors":["Vijay Manikandan Janakiraman"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Text"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"On Interpretation of Network Embedding via Taxonomy Induction.","url":"https://doi.org/10.1145/3219819.3220001","Year":"2018","Venue":"KDD","Authors":["Ninghao Liu","Xiao Huang 0001","Jundong Li","Xia Hu"],"Type of Data":["Graph data","Other"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Graph","Representation Visualization","Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Adversarial Detection with Model Interpretation.","url":"https://doi.org/10.1145/3219819.3220027","Year":"2018","Venue":"KDD","Authors":["Ninghao Liu","Hongxia Yang","Xia Hu"],"Type of Data":["Text","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Support Vector Machine","Any (for a specific task); model-agnostic","Logistic Regression"],"Type of Task":["Classification"],"Type of Explanation":["White-box model"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Multilevel Wavelet Decomposition Network for Interpretable Time Series Analysis.","url":"https://doi.org/10.1145/3219819.3220060","Year":"2018","Venue":"KDD","Authors":["Jingyuan Wang","Ze Wang","Jianfeng Li","Junjie Wu 0001"],"Type of Data":["Time series"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"I Know You\'ll Be Back - Interpretable New User Clustering and Churn Prediction on a Mobile Social Application.","url":"https://doi.org/10.1145/3219819.3219821","Year":"2018","Venue":"KDD","Authors":["Carl Yang","Xiaolin Shi","Luo Jie","Jiawei Han 0001"],"Type of Data":["Time series","Graph data"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Clustering","Classification"],"Type of Explanation":["Feature Importance","Representation Visualization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Learning and Interpreting Complex Distributions in Empirical Data.","url":"https://doi.org/10.1145/3219819.3220073","Year":"2018","Venue":"KDD","Authors":["Chengxi Zang","Peng Cui 0001","Wenwu Zhu 0001"],"Type of Data":["Tabular / structured","Time series"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Regression"],"Type of Explanation":["White-box model"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"e-SNLI - Natural Language Inference with Natural Language Explanations.","url":"https://proceedings.neurips.cc/paper/2018/hash/4c7a167bb329bd92580a99ce422d6fa6-Abstract.html","Year":"2018","Venue":"NeurIPS","Authors":["Oana-Maria Camburu","Tim Rockt\xe4schel","Thomas Lukasiewicz","Phil Blunsom"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Text"],"Method used to explain":["Supervised explanation training"]},{"Title":"Explaining Deep Learning Models - A Bayesian Non-parametric Approach.","url":"https://proceedings.neurips.cc/paper/2018/hash/4b4edc2630fe75800ddc29a7b4070add-Abstract.html","Year":"2018","Venue":"NeurIPS","Authors":["Wenbo Guo 0002","Sui Huang","Yunzhe Tao","Xinyu Xing","Lin Lin"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Localization"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Diminishing Returns Shape Constraints for Interpretability and Regularization.","url":"https://proceedings.neurips.cc/paper/2018/hash/caa202034f268232c26fac9435f54e15-Abstract.html","Year":"2018","Venue":"NeurIPS","Authors":["Maya R. Gupta","Dara Bahri","Andrew Cotter","Kevin Robert Canini"],"Type of Data":["Tabular / structured"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network","Other"],"Type of Task":["Regression"],"Type of Explanation":["Feature plot"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Uncertainty-Aware Attention for Reliable Interpretation and Prediction.","url":"https://proceedings.neurips.cc/paper/2018/hash/285e19f20beded7d215102b49d5c09a0-Abstract.html","Year":"2018","Venue":"NeurIPS","Authors":["Jay Heo","Haebeom Lee","Saehoon Kim","Juho Lee","Kwang Joon Kim","Eunho Yang","Sung Ju Hwang"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Learning Conditioned Graph Structures for Interpretable Visual Question Answering.","url":"https://proceedings.neurips.cc/paper/2018/hash/4aeae10ea1c6433c926cdfa558d31134-Abstract.html","Year":"2018","Venue":"NeurIPS","Authors":["Will Norcliffe-Brown","Stathis Vafeias","Sarah Parisot"],"Type of Data":["Images","Text"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Question Answering"],"Type of Explanation":["Graph","Localization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Model Agnostic Supervised Local Explanations.","url":"https://proceedings.neurips.cc/paper/2018/hash/b495ce63ede0f4efc9eec62cb947c162-Abstract.html","Year":"2018","Venue":"NeurIPS","Authors":["Gregory Plumb","Denali Molitor","Ameet S. Talwalkar"],"Type of Data":["Tabular / structured","Any"],"Type of Problem":["Model Inspection","Outcome Explanation","Transparent Box Design"],"Type of Model to be Explained":["Tree Ensemble","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["White-box model"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"]},{"Title":"Neural Interaction Transparency (NIT) - Disentangling Learned Interactions for Improved Interpretability.","url":"https://proceedings.neurips.cc/paper/2018/hash/74378afe5e8b20910cf1f939e57f0480-Abstract.html","Year":"2018","Venue":"NeurIPS","Authors":["Michael Tsang","Hanpeng Liu","Sanjay Purushotham","Pavankumar Murali","Yan Liu 0002"],"Type of Data":["Tabular / structured","Images","Any"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Logistic Regression","Any (for a specific task); model-agnostic"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Multi-value Rule Sets for Interpretable Classification with Feature-Efficient Representations.","url":"https://proceedings.neurips.cc/paper/2018/hash/32bbf7b2bc4ed14eb1e9c2580056a989-Abstract.html","Year":"2018","Venue":"NeurIPS","Authors":["Tong Wang"],"Type of Data":["Tabular / structured"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Representer Point Selection for Explaining Deep Neural Networks.","url":"https://proceedings.neurips.cc/paper/2018/hash/8a7129b8f3edd95b7d969dfc2c8e9d9d-Abstract.html","Year":"2018","Venue":"NeurIPS","Authors":["Chih-Kuan Yeh","Joon Sik Kim","Ian En-Hsu Yen","Pradeep Ravikumar"],"Type of Data":["Any","Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Interpreting Neural Network Judgments via Minimal, Stable, and Symbolic Corrections.","url":"https://proceedings.neurips.cc/paper/2018/hash/300891a62162b960cf02ce3827bb363c-Abstract.html","Year":"2018","Venue":"NeurIPS","Authors":["Xin Zhang 0035","Armando Solar-Lezama","Rishabh Singh"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Explainable Recommendation via Multi-Task Learning in Opinionated Text Data.","url":"https://doi.org/10.1145/3209978.3210010","Year":"2018","Venue":"SIGIR","Authors":["Nan Wang","Hongning Wang","Yiling Jia","Yue Yin"],"Type of Data":["User-item matrix","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Localization","Representation Visualization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Neural Attentional Rating Regression with Review-level Explanations.","url":"https://doi.org/10.1145/3178876.3186070","Year":"2018","Venue":"WWW","Authors":["Chong Chen","Min Zhang 0006","Yiqun Liu 0001","Shaoping Ma"],"Type of Data":["Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"TEM - Tree-enhanced Embedding Model for Explainable Recommendation.","url":"https://doi.org/10.1145/3178876.3186066","Year":"2018","Venue":"WWW","Authors":["Xiang Wang 0010","Xiangnan He 0001","Fuli Feng","Liqiang Nie","Tat-Seng Chua"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"]},{"Title":"Sharing Deep Neural Network Models with Interpretation.","url":"https://doi.org/10.1145/3178876.3185995","Year":"2018","Venue":"WWW","Authors":["Huijun Wu 0001","Chen Wang 0008","Jie Yin","Kai Lu","Liming Zhu"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Graph","Prototypes"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Growing Interpretable Part Graphs on ConvNets via Multi-Shot Learning.","url":"http://aaai.org/ocs/index.php/AAAI/AAAI17/paper/view/14909","Year":"2017","Venue":"AAAI","Authors":["Quanshi Zhang","Ruiming Cao","Ying Nian Wu","Song-Chun Zhu"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network","Support Vector Machine"],"Type of Task":["Classification"],"Type of Explanation":["Graph","Localization"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"An Interpretable Knowledge Transfer Model for Knowledge Base Completion.","url":"https://doi.org/10.18653/v1/P17-1088","Year":"2017","Venue":"ACL","Authors":["Qizhe Xie","Xuezhe Ma","Zihang Dai","Eduard H. Hovy"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Network Dissection - Quantifying Interpretability of Deep Visual Representations.","url":"https://doi.org/10.1109/CVPR.2017.354","Year":"2017","Venue":"CVPR","Authors":["David Bau","Bolei Zhou","Aditya Khosla","Aude Oliva","Antonio Torralba 0001"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Disentanglement","Localization","Text"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Improving Interpretability of Deep Neural Networks with Semantic Information.","url":"https://doi.org/10.1109/CVPR.2017.110","Year":"2017","Venue":"CVPR","Authors":["Yinpeng Dong","Hang Su 0006","Jun Zhu 0001","Bo Zhang 0010"],"Type of Data":["Video"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Text"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Interpretable Structure-Evolving LSTM.","url":"https://doi.org/10.1109/CVPR.2017.234","Year":"2017","Venue":"CVPR","Authors":["Xiaodan Liang","Liang Lin","Xiaohui Shen","Jiashi Feng","Shuicheng Yan","Eric P. Xing"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Interpretable Learning for Self-Driving Cars by Visualizing Causal Attention.","url":"https://doi.org/10.1109/ICCV.2017.320","Year":"2017","Venue":"ICCV","Authors":["Jinkyu Kim","John F. Canny"],"Type of Data":["Images","Video"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Regression"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Grad-CAM - Visual Explanations from Deep Networks via Gradient-Based Localization.","url":"https://doi.org/10.1109/ICCV.2017.74","Year":"2017","Venue":"ICCV","Authors":["Ramprasaath R. Selvaraju","Michael Cogswell","Abhishek Das","Ramakrishna Vedantam","Devi Parikh","Dhruv Batra"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Localization"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Interpretable Transformations with Encoder-Decoder Networks.","url":"https://doi.org/10.1109/ICCV.2017.611","Year":"2017","Venue":"ICCV","Authors":["Daniel E. Worrall","Stephan J. Garbin","Daniyar Turmukhambetov","Gabriel J. Brostow"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Generation","Representation learning"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Relational Mixture of Experts - Explainable Demographics Prediction with Behavioral Data.","url":"https://doi.org/10.1109/ICDM.2017.45","Year":"2017","Venue":"ICDM","Authors":["Masafumi Oyamada","Shinji Nakadai"],"Type of Data":["User-item matrix"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Support Vector Machine","Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules","Heatmap"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Towards Deep Interpretability (MUS-ROVER II) - Learning Hierarchical Representations of Tonal Music.","url":"https://openreview.net/forum?id=ryhqQFKgl","Year":"2017","Venue":"ICLR","Authors":["Haizi Yu","Lav R. Varshney"],"Type of Data":["Other"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Representation learning"],"Type of Explanation":["Decision Rules","Graph"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"iSurvive - An Interpretable, Event-time Prediction Model for mHealth.","url":"http://proceedings.mlr.press/v70/dempsey17a.html","Year":"2017","Venue":"ICML","Authors":["Walter H. Dempsey","Alexander Moreno","Christy K. Scott","Michael L. Dennis","David H. Gustafson","Susan A. Murphy","James M. Rehg"],"Type of Data":["Tabular / structured","Time series"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Regression"],"Type of Explanation":["White-box model"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Input Switched Affine Networks - An RNN Architecture Designed for Interpretability.","url":"http://proceedings.mlr.press/v70/foerster17a.html","Year":"2017","Venue":"ICML","Authors":["Jakob N. Foerster","Justin Gilmer","Jascha Sohl-Dickstein","Jan Chorowski","David Sussillo"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation","Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Feature Importance","Feature plot"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Right for the Right Reasons - Training Differentiable Models by Constraining their Explanations.","url":"https://doi.org/10.24963/ijcai.2017/371","Year":"2017","Venue":"IJCAI","Authors":["Andrew Slavin Ross","Michael C. Hughes","Finale Doshi-Velez"],"Type of Data":["Tabular / structured","Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Supervised explanation training"]},{"Title":"Interpretable Predictions of Tree-based Ensembles via Actionable Feature Tweaking.","url":"https://doi.org/10.1145/3097983.3098039","Year":"2017","Venue":"KDD","Authors":["Gabriele Tolomei","Fabrizio Silvestri","Andrew Haines","Mounia Lalmas"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Tree Ensemble"],"Type of Task":["Classification"],"Type of Explanation":["Other"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Streaming Weak Submodularity - Interpreting Neural Networks on the Fly.","url":"https://proceedings.neurips.cc/paper/2017/hash/c182f930a06317057d31c73bb2fedd4f-Abstract.html","Year":"2017","Venue":"NeurIPS","Authors":["Ethan R. Elenberg","Alexandros G. Dimakis","Moran Feldman","Amin Karbasi"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Unsupervised Learning of Disentangled and Interpretable Representations from Sequential Data.","url":"https://proceedings.neurips.cc/paper/2017/hash/0a0a0c8aaa00ade50f74a3f0ca981ed7-Abstract.html","Year":"2017","Venue":"NeurIPS","Authors":["Wei-Ning Hsu","Yu Zhang 0033","James R. Glass"],"Type of Data":["Time series"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Representation learning"],"Type of Explanation":["Disentanglement","Representation Synthesis"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"InfoGAIL - Interpretable Imitation Learning from Visual Demonstrations.","url":"https://proceedings.neurips.cc/paper/2017/hash/2cd4e8a2ce081c3d7c32c3cde4312ef7-Abstract.html","Year":"2017","Venue":"NeurIPS","Authors":["Yunzhu Li","Jiaming Song","Stefano Ermon"],"Type of Data":["Other"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Policy learning"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"A Unified Approach to Interpreting Model Predictions.","url":"https://proceedings.neurips.cc/paper/2017/hash/8a20a8621978632d76c43dfd28b67767-Abstract.html","Year":"2017","Venue":"NeurIPS","Authors":["Scott M. Lundberg","Su-In Lee"],"Type of Data":["Tabular / structured","Images","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"SVCCA - Singular Vector Canonical Correlation Analysis for Deep Learning Dynamics and Interpretability.","url":"https://proceedings.neurips.cc/paper/2017/hash/dc6a7e655d7e5840e66733e9ee67cc69-Abstract.html","Year":"2017","Venue":"NeurIPS","Authors":["Maithra Raghu","Justin Gilmer","Jason Yosinski","Jascha Sohl-Dickstein"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Interpretable Clustering via Discriminative Rectangle Mixture Model.","url":"https://doi.org/10.1109/ICDM.2016.0097","Year":"2016","Venue":"ICDM","Authors":["Junxiang Chen","Yale Chang","Brian Hobbs","Peter J. Castaldi","Michael H. Cho","Edwin K. Silverman","Jennifer G. Dy"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Other"],"Type of Task":["Clustering"],"Type of Explanation":["Decision Rules","Representation Visualization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Outlier Detection from Network Data with Subnetwork Interpretation.","url":"https://doi.org/10.1109/ICDM.2016.0101","Year":"2016","Venue":"ICDM","Authors":["Xuan-Hong Dang","Arlei Silva","Ambuj K. Singh","Ananthram Swami","Prithwish Basu"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Other"],"Type of Task":["Anomaly detection"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Bayesian Rule Sets for Interpretable Classification.","url":"https://doi.org/10.1109/ICDM.2016.0171","Year":"2016","Venue":"ICDM","Authors":["Tong Wang 0011","Cynthia Rudin","Finale Doshi-Velez","Yimin Liu","Erica Klampfl","Perry MacNeille"],"Type of Data":["Tabular / structured"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Interpretable Decision Sets - A Joint Framework for Description and Prediction.","url":"https://doi.org/10.1145/2939672.2939874","Year":"2016","Venue":"KDD","Authors":["Himabindu Lakkaraju","Stephen H. Bach","Jure Leskovec"],"Type of Data":["Tabular / structured"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"\\"Why Should I Trust You?\\" - Explaining the Predictions of Any Classifier.","url":"https://doi.org/10.1145/2939672.2939778","Year":"2016","Venue":"KDD","Authors":["Marco T\xfalio Ribeiro","Sameer Singh 0001","Carlos Guestrin"],"Type of Data":["Tabular / structured","Images","Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Support Vector Machine","Any (for a specific task); model-agnostic","Logistic Regression","Other"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Feature Importance","Localization"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"InfoGAN - Interpretable Representation Learning by Information Maximizing Generative Adversarial Nets.","url":"https://proceedings.neurips.cc/paper/2016/hash/7c9d0b1f96aebd7b5eca8c3edaa19ebb-Abstract.html","Year":"2016","Venue":"NeurIPS","Authors":["Xi Chen 0022","Yan Duan","Rein Houthooft","John Schulman","Ilya Sutskever","Pieter Abbeel"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Representation learning"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"RETAIN - An Interpretable Predictive Model for Healthcare using Reverse Time Attention Mechanism.","url":"https://proceedings.neurips.cc/paper/2016/hash/231141b34c82aa95e48810a9d1b33a79-Abstract.html","Year":"2016","Venue":"NeurIPS","Authors":["Edward Choi","Mohammad Taha Bahadori","Jimeng Sun","Joshua Kulas","Andy Schuetz","Walter F. Stewart"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Interpretable Distribution Features with Maximum Testing Power.","url":"https://proceedings.neurips.cc/paper/2016/hash/0a09c8844ba8f0936c20bd791130d6b6-Abstract.html","Year":"2016","Venue":"NeurIPS","Authors":["Wittawat Jitkrittum","Zolt\xe1n Szab\xf3 0001","Kacper P. Chwialkowski","Arthur Gretton"],"Type of Data":["Tabular / structured","Images","Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic","Other"],"Type of Task":["Other"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Examples are not enough, learn to criticize! Criticism for Interpretability.","url":"https://proceedings.neurips.cc/paper/2016/hash/5680522b8e2bb01943234bce7bf84534-Abstract.html","Year":"2016","Venue":"NeurIPS","Authors":["Been Kim","Oluwasanmi Koyejo","Rajiv Khanna"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Confusions over Time - An Interpretable Bayesian Model to Characterize Trends in Decision Making.","url":"https://proceedings.neurips.cc/paper/2016/hash/97d0145823aeb8ed80617be62e08bdcc-Abstract.html","Year":"2016","Venue":"NeurIPS","Authors":["Himabindu Lakkaraju","Jure Leskovec"],"Type of Data":["Time series","User-item matrix"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification","Clustering"],"Type of Explanation":["Feature Importance","Prototypes"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Interpretable Nonlinear Dynamic Modeling of Neural Trajectories.","url":"https://proceedings.neurips.cc/paper/2016/hash/b2531e7bb29bf22e1daae486fae3417a-Abstract.html","Year":"2016","Venue":"NeurIPS","Authors":["Yuan Zhao 0004","Il Memming Park"],"Type of Data":["Time series"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Regression"],"Type of Explanation":["White-box model"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Explainable User Clustering in Short Text Streams.","url":"https://doi.org/10.1145/2911451.2911522","Year":"2016","Venue":"SIGIR","Authors":["Yukun Zhao","Shangsong Liang","Zhaochun Ren","Jun Ma 0001","Emine Yilmaz","Maarten de Rijke"],"Type of Data":["Text","Time series","Graph data"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Clustering"],"Type of Explanation":["Prototypes"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Scalable and Interpretable Data Representation for High-Dimensional, Complex Data.","url":"http://www.aaai.org/ocs/index.php/AAAI/AAAI15/paper/view/9738","Year":"2015","Venue":"AAAI","Authors":["Been Kim","Kayur Patel","Afshin Rostamizadeh","Julie A. Shah"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Trading Interpretability for Accuracy - Oblique Treed Sparse Additive Models.","url":"https://doi.org/10.1145/2783258.2783407","Year":"2015","Venue":"KDD","Authors":["Jialei Wang","Ryohei Fujimaki","Yosuke Motohashi"],"Type of Data":["Tabular / structured"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Decision Tree","Feature plot"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Mind the Gap - A Generative Approach to Interpretable Feature Selection and Extraction.","url":"https://proceedings.neurips.cc/paper/2015/hash/82965d4ed8150294d4330ace00821d77-Abstract.html","Year":"2015","Venue":"NeurIPS","Authors":["Been Kim","Julie A. Shah","Finale Doshi-Velez"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Clustering"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Interpretable Semantic Vectors from a Joint Model of Brain- and Text- Based Meaning.","url":"https://doi.org/10.3115/v1/p14-1046","Year":"2014","Venue":"ACL","Authors":["Alona Fyshe","Partha Pratim Talukdar","Brian Murphy","Tom M. Mitchell"],"Type of Data":["Time series","Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Representation learning"],"Type of Explanation":["Heatmap","Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"TRIBAC - Discovering Interpretable Clusters and Latent Structures in Graphs.","url":"https://doi.org/10.1109/ICDM.2014.118","Year":"2014","Venue":"ICDM","Authors":["Jeffrey Chan","Christopher Leckie","James Bailey 0001","Kotagiri Ramamohanarao"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Other"],"Type of Task":["Clustering"],"Type of Explanation":["Feature plot"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Who to follow and why - link prediction with explanations.","url":"https://doi.org/10.1145/2623330.2623733","Year":"2014","Venue":"KDD","Authors":["Nicola Barbieri","Francesco Bonchi","Giuseppe Manco 0001"],"Type of Data":["Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Feature Importance"],"Method used to explain":["Post-hoc explanation method"]},{"Title":"Utilizing temporal patterns for estimating uncertainty in interpretable early decision making.","url":"https://doi.org/10.1145/2623330.2623694","Year":"2014","Venue":"KDD","Authors":["Mohamed F. Ghalwash","Vladan Radosavljevic","Zoran Obradovic"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic","Other"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Interpretability built into the predictive model"]},{"Title":"Explicit factor models for explainable recommendation based on phrase-level sentiment analysis.","url":"https://doi.org/10.1145/2600428.2609579","Year":"2014","Venue":"SIGIR","Authors":["Yongfeng Zhang","Guokun Lai","Min Zhang 0006","Yi Zhang","Yiqun Liu 0001","Shaoping Ma"],"Type of Data":["Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Feature Importance","Text"],"Method used to explain":["Interpretability built into the predictive model"]}]'),at=[];it.forEach((function(e){var t;"url"in(t=e)&&"Title"in t&&"Year"in t&&"Venue"in t&&"Authors"in t&&"Type of Data"in t&&rt(qe)(t["Type of Data"])&&"Type of Problem"in t&&rt(Je)(t["Type of Problem"])&&"Type of Model to be Explained"in t&&rt(Qe)(t["Type of Model to be Explained"])&&"Type of Task"in t&&rt(et)(t["Type of Task"])&&"Type of Explanation"in t&&rt($e)(t["Type of Explanation"])&&"Method used to explain"in t&&rt(tt)(t["Method used to explain"])?at.push(e):console.log(e," is not a paper and was excluded fromt the list")}));var st,ut=Ke({name:"papers",initialState:at,reducers:{}}),ct=ut.reducer,lt=(ut.actions,{data:[],problem:[],model:[],task:[],explanation:[],method:[],filterStateAND:!0}),ft=Ke({name:"filters",initialState:lt,reducers:{reset:function(){return lt},setData:function(e,t){e.data=t.payload},setProblem:function(e,t){e.problem=t.payload},setModel:function(e,t){e.model=t.payload},setTask:function(e,t){e.task=t.payload},setExplanation:function(e,t){e.explanation=t.payload},setMethod:function(e,t){e.method=t.payload},changeState:function(e,t){e.filterStateAND=t.payload}}}),dt=ft.reducer,ht=ft.actions,pt=function(e){var t,n=Ye(),r=e||{},o=r.reducer,i=void 0===o?void 0:o,a=r.middleware,s=void 0===a?n():a,u=r.devTools,c=void 0===u||u,l=r.preloadedState,f=void 0===l?void 0:l,d=r.enhancers,h=void 0===d?void 0:d;if("function"===typeof i)t=i;else{if(!We(i))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Ne(i)}var p=s;"function"===typeof p&&(p=p(n));var g=Pe.apply(void 0,p),v=Ae;c&&(v=Ue(Ve({trace:!1},"object"===typeof c&&c)));var m=[g];return Array.isArray(h)?m=Le([g],h):"function"===typeof h&&(m=h(m)),Me(t,f,v.apply(void 0,m))}({reducer:{papers:ct,filters:dt}}),gt=n(9439);function vt(){return vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vt.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(st||(st={}));var mt=function(e){return e};var yt="beforeunload",bt="popstate";function xt(e){e.preventDefault(),e.returnValue=""}function wt(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function Et(){return Math.random().toString(36).substr(2,8)}function _t(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,o=void 0===r?"":r,i=e.hash,a=void 0===i?"":i;return o&&"?"!==o&&(n+="?"===o.charAt(0)?o:"?"+o),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function St(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function kt(e,t){if(!e)throw new Error(t)}var Tt=(0,m.createContext)(null);var Ct=(0,m.createContext)(null);var Mt=(0,m.createContext)({outlet:null,matches:[]});function Nt(e){kt(!1)}function At(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,o=void 0===r?null:r,i=e.location,a=e.navigationType,s=void 0===a?st.Pop:a,u=e.navigator,c=e.static,l=void 0!==c&&c;Ot()&&kt(!1);var f=Yt(n),d=(0,m.useMemo)((function(){return{basename:f,navigator:u,static:l}}),[f,u,l]);"string"===typeof i&&(i=St(i));var h=i,p=h.pathname,g=void 0===p?"/":p,v=h.search,y=void 0===v?"":v,b=h.hash,x=void 0===b?"":b,w=h.state,E=void 0===w?null:w,_=h.key,S=void 0===_?"default":_,k=(0,m.useMemo)((function(){var e=Wt(g,f);return null==e?null:{pathname:e,search:y,hash:x,state:E,key:S}}),[f,g,y,x,E,S]);return null==k?null:(0,m.createElement)(Tt.Provider,{value:d},(0,m.createElement)(Ct.Provider,{children:o,value:{location:k,navigationType:s}}))}function Pt(e){var t=e.children,n=e.location;return function(e,t){Ot()||kt(!1);var n=(0,m.useContext)(Mt).matches,r=n[n.length-1],o=r?r.params:{},i=(r&&r.pathname,r?r.pathnameBase:"/");r&&r.route;0;var a,s=It();if(t){var u,c="string"===typeof t?St(t):t;"/"===i||(null==(u=c.pathname)?void 0:u.startsWith(i))||kt(!1),a=c}else a=s;var l=a.pathname||"/",f="/"===i?l:l.slice(i.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=Wt(("string"===typeof t?St(t):t).pathname||"/",n);if(null==r)return null;var o=Lt(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(o);for(var i=null,a=0;null==i&&a<o.length;++a)i=zt(o[a],r);return i}(e,{pathname:f});0;return Gt(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:Zt([i,e.pathname]),pathnameBase:"/"===e.pathnameBase?i:Zt([i,e.pathnameBase])})})),n)}(Rt(t),n)}function Ot(){return null!=(0,m.useContext)(Ct)}function It(){return Ot()||kt(!1),(0,m.useContext)(Ct).location}function Dt(){Ot()||kt(!1);var e=(0,m.useContext)(Tt),t=e.basename,n=e.navigator,r=(0,m.useContext)(Mt).matches,o=It().pathname,i=JSON.stringify(r.map((function(e){return e.pathnameBase}))),a=(0,m.useRef)(!1);(0,m.useEffect)((function(){a.current=!0}));var s=(0,m.useCallback)((function(e,r){if(void 0===r&&(r={}),a.current)if("number"!==typeof e){var s=Ut(e,JSON.parse(i),o);"/"!==t&&(s.pathname=Zt([t,s.pathname])),(r.replace?n.replace:n.push)(s,r.state)}else n.go(e)}),[t,n,i,o]);return s}function Rt(e){var t=[];return m.Children.forEach(e,(function(e){if((0,m.isValidElement)(e))if(e.type!==m.Fragment){e.type!==Nt&&kt(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=Rt(e.props.children)),t.push(n)}else t.push.apply(t,Rt(e.props.children))})),t}function Lt(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,o){var i={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};i.relativePath.startsWith("/")&&(i.relativePath.startsWith(r)||kt(!1),i.relativePath=i.relativePath.slice(r.length));var a=Zt([r,i.relativePath]),s=n.concat(i);e.children&&e.children.length>0&&(!0===e.index&&kt(!1),Lt(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:Bt(a,e.index),routesMeta:s})})),t}var jt=/^:\w+$/,Ft=function(e){return"*"===e};function Bt(e,t){var n=e.split("/"),r=n.length;return n.some(Ft)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!Ft(e)})).reduce((function(e,t){return e+(jt.test(t)?3:""===t?1:10)}),r)}function zt(e,t){for(var n=e.routesMeta,r={},o="/",i=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,c="/"===o?t:t.slice(o.length)||"/",l=Vt({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;i.push({params:r,pathname:Zt([o,l.pathname]),pathnameBase:Yt(Zt([o,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(o=Zt([o,l.pathnameBase]))}return i}function Gt(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,o){return(0,m.createElement)(Mt.Provider,{children:void 0!==r.route.element?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,o+1))}})}),null)}function Vt(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):o+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(o,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=(0,gt.Z)(n,2),o=r[0],i=r[1],a=t.match(o);if(!a)return null;var s=a[0],u=s.replace(/(.)\/+$/,"$1"),c=a.slice(1),l=i.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{});return{params:l,pathname:s,pathnameBase:u,pattern:e}}function Ut(e,t,n){var r,o="string"===typeof e?St(e):e,i=""===e||""===o.pathname?"/":o.pathname;if(null==i)r=n;else{var a=t.length-1;if(i.startsWith("..")){for(var s=i.split("/");".."===s[0];)s.shift(),a-=1;o.pathname=s.join("/")}r=a>=0?t[a]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?St(e):e,r=n.pathname,o=n.search,i=void 0===o?"":o,a=n.hash,s=void 0===a?"":a,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:Ht(i),hash:Xt(s)}}(o,r);return i&&"/"!==i&&i.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function Wt(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var Zt=function(e){return e.join("/").replace(/\/\/+/g,"/")},Yt=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Ht=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Xt=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function Kt(e){var t=e.basename,n=e.children,r=e.window,o=(0,m.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function o(){var e=n.location,t=e.pathname,o=e.search,i=e.hash,a=r.state||{};return[a.idx,mt({pathname:t,search:o,hash:i,state:a.usr||null,key:a.key||"default"})]}var i=null;n.addEventListener(bt,(function(){if(i)f.call(i),i=null;else{var e=st.Pop,t=o(),n=t[0],r=t[1];if(f.length){if(null!=n){var a=u-n;a&&(i={action:e,location:r,retry:function(){m(-1*a)}},m(a))}}else v(e)}}));var a=st.Pop,s=o(),u=s[0],c=s[1],l=wt(),f=wt();function d(e){return"string"===typeof e?e:_t(e)}function h(e,t){return void 0===t&&(t=null),mt(vt({pathname:c.pathname,hash:"",search:""},"string"===typeof e?St(e):e,{state:t,key:Et()}))}function p(e,t){return[{usr:e.state,key:e.key,idx:t},d(e)]}function g(e,t,n){return!f.length||(f.call({action:e,location:t,retry:n}),!1)}function v(e){a=e;var t=o();u=t[0],c=t[1],l.call({action:a,location:c})}function m(e){r.go(e)}null==u&&(u=0,r.replaceState(vt({},r.state,{idx:u}),""));var y={get action(){return a},get location(){return c},createHref:d,push:function e(t,o){var i=st.Push,a=h(t,o);if(g(i,a,(function(){e(t,o)}))){var s=p(a,u+1),c=s[0],l=s[1];try{r.pushState(c,"",l)}catch(f){n.location.assign(l)}v(i)}},replace:function e(t,n){var o=st.Replace,i=h(t,n);if(g(o,i,(function(){e(t,n)}))){var a=p(i,u),s=a[0],c=a[1];r.replaceState(s,"",c),v(o)}},go:m,back:function(){m(-1)},forward:function(){m(1)},listen:function(e){return l.push(e)},block:function(e){var t=f.push(e);return 1===f.length&&n.addEventListener(yt,xt),function(){t(),f.length||n.removeEventListener(yt,xt)}}};return y}({window:r}));var i=o.current,a=(0,m.useState)({action:i.action,location:i.location}),s=(0,gt.Z)(a,2),u=s[0],c=s[1];return(0,m.useLayoutEffect)((function(){return i.listen(c)}),[i]),(0,m.createElement)(At,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:i})}var qt=n(2209),$t=n.n(qt),Jt=m.createContext(null);var Qt=function(e){e()},en=function(){return Qt};var tn={notify:function(){},get:function(){return[]}};function nn(e,t){var n,r=tn;function o(){a.onStateChange&&a.onStateChange()}function i(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){var e=en(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())}var a={addNestedSub:function(e){return i(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return Boolean(n)},trySubscribe:i,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=tn)},getListeners:function(){return r}};return a}var rn="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?m.useLayoutEffect:m.useEffect;var on=function(e){var t=e.store,n=e.context,r=e.children,o=(0,m.useMemo)((function(){var e=nn(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),i=(0,m.useMemo)((function(){return t.getState()}),[t]);rn((function(){var e=o.subscription;return e.trySubscribe(),i!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,i]);var a=n||Jt;return m.createElement(a.Provider,{value:o},r)};n(2110),n(6900);function an(){return(0,m.useContext)(Jt)}function sn(e){void 0===e&&(e=Jt);var t=e===Jt?an:function(){return(0,m.useContext)(e)};return function(){return t().store}}var un=sn();function cn(e){void 0===e&&(e=Jt);var t=e===Jt?un:sn(e);return function(){return t().dispatch}}var ln=cn(),fn=function(e,t){return e===t};function dn(e){void 0===e&&(e=Jt);var t=e===Jt?an:function(){return(0,m.useContext)(e)};return function(e,n){void 0===n&&(n=fn);var r=t(),o=function(e,t,n,r){var o,i=(0,m.useReducer)((function(e){return e+1}),0),a=i[1],s=(0,m.useMemo)((function(){return nn(n,r)}),[n,r]),u=(0,m.useRef)(),c=(0,m.useRef)(),l=(0,m.useRef)(),f=(0,m.useRef)(),d=n.getState();try{if(e!==c.current||d!==l.current||u.current){var h=e(d);o=void 0!==f.current&&t(h,f.current)?f.current:h}else o=f.current}catch(p){throw u.current&&(p.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),p}return rn((function(){c.current=e,l.current=d,f.current=o,u.current=void 0})),rn((function(){function e(){try{var e=n.getState();if(e===l.current)return;var r=c.current(e);if(t(r,f.current))return;f.current=r,l.current=e}catch(p){u.current=p}a()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[n,s]),o}(e,n,r.store,r.subscription);return(0,m.useDebugValue)(o),o}}var hn,pn=dn();hn=y.unstable_batchedUpdates,Qt=hn;var gn=n(9388),vn=n(8092),mn={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(e){return Object.assign(this,e),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(e){var t=this,n=this.events;this.graph=e,"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||e.get("canvas").set("draggable",!0),(0,vn.each)(n,(function(t,n){e.on(n,t)})),document.addEventListener("visibilitychange",(function(){t.keydown=!1}))},unbind:function(e){var t=this.events,n=e.get("canvas").get("draggable");"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||e.get("canvas").set("draggable",!1),(0,vn.each)(t,(function(t,n){e.off(n,t)})),e.get("canvas").set("draggable",n)},get:function(e){return this[e]},set:function(e,t){return this[e]=t,this}},yn=function(){function e(){}return e.registerBehavior=function(t,n){if(!n)throw new Error("please specify handler for this behavior: ".concat(t));var r=(0,vn.clone)(mn);Object.assign(r,n);var o=function(e){var t=this;Object.assign(this,this.getDefaultCfg(),e);var n=this.getEvents();this.events=null;var r={};n&&((0,vn.each)(n,(function(e,n){r[n]=(0,vn.wrapBehavior)(t,e)})),this.events=r)};o.prototype=r,e.types[t]=o},e.hasBehavior=function(t){return!!e.types[t]},e.getBehavior=function(t){return e.types[t]},e.types={},e}(),bn=yn,xn=bn,wn=function(){function e(){this._events={}}return e.prototype.on=function(e,t,n){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!n}),this},e.prototype.once=function(e,t){return this.on(e,t,!0)},e.prototype.emit=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this._events[e]||[],i=this._events["*"]||[],a=function(r){for(var o=r.length,i=0;i<o;i++)if(r[i]){var a=r[i],s=a.callback;a.once&&(r.splice(i,1),0===r.length&&delete t._events[e],o--,i--),s.apply(t,n)}};a(o),a(i)},e.prototype.off=function(e,t){if(e)if(t){for(var n=this._events[e]||[],r=n.length,o=0;o<r;o++)n[o].callback===t&&(n.splice(o,1),r--,o--);0===n.length&&delete this._events[e]}else delete this._events[e];else this._events={};return this},e.prototype.getEvents=function(){return this._events},e}(),En=wn,_n=n(5742);function Sn(e,t,n){var r=[0,0,0,0,0,0,0,0,0];return _n.fromTranslation(r,n),_n.multiply(e,r,t)}function kn(e,t,n){var r=[0,0,0,0,0,0,0,0,0];return _n.fromRotation(r,n),_n.multiply(e,r,t)}function Tn(e,t,n){var r=[0,0,0,0,0,0,0,0,0];return _n.fromScaling(r,n),_n.multiply(e,r,t)}function Cn(e,t,n){return _n.multiply(e,n,t)}function Mn(e,t){for(var n=e?[].concat(e):[1,0,0,0,1,0,0,0,1],r=0,o=t.length;r<o;r++){var i=t[r];switch(i[0]){case"t":Sn(n,n,[i[1],i[2]]);break;case"s":Tn(n,n,[i[1],i[2]]);break;case"r":kn(n,n,i[1]);break;case"m":Cn(n,n,i[1])}}return n}var Nn=function(e,t){var n=e.nodes,r=e.edges,o=[],i={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(e,t){i[e.id]=t;o.push([])})),r&&r.forEach((function(e){var n=e.source,r=e.target,a=i[n],s=i[r];!a&&0!==a||!s&&0!==s||(o[a][s]=1,t||(o[s][a]=1))})),o},An=function(e,t){return e===t},Pn=function(){function e(e,t){void 0===t&&(t=null),this.value=e,this.next=t}return e.prototype.toString=function(e){return e?e(this.value):"".concat(this.value)},e}(),On=function(){function e(e){void 0===e&&(e=An),this.head=null,this.tail=null,this.compare=e}return e.prototype.prepend=function(e){var t=new Pn(e,this.head);return this.head=t,this.tail||(this.tail=t),this},e.prototype.append=function(e){var t=new Pn(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},e.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,e)?(t=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,e)&&(this.tail=n),t},e.prototype.find=function(e){var t=e.value,n=void 0===t?void 0:t,r=e.callback,o=void 0===r?void 0:r;if(!this.head)return null;for(var i=this.head;i;){if(o&&o(i.value))return i;if(void 0!==n&&this.compare(i.value,n))return i;i=i.next}return null},e.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},e.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},e.prototype.fromArray=function(e){var t=this;return e.forEach((function(e){return t.append(e)})),this},e.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},e.prototype.reverse=function(){for(var e=this.head,t=null,n=null;e;)n=e.next,e.next=t,t=e,e=n;this.tail=this.head,this.head=t},e.prototype.toString=function(e){return void 0===e&&(e=void 0),this.toArray().map((function(t){return t.toString(e)})).toString()},e}(),In=On,Dn=function(){function e(){this.linkedList=new In}return e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},e.prototype.enqueue=function(e){this.linkedList.append(e)},e.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},e.prototype.toString=function(e){return this.linkedList.toString(e)},e}(),Rn=Dn,Ln=function(e,t,n){void 0===t&&(t=[]);var r=t.filter((function(t){return t.source===e||t.target===e}));if("target"===n){return r.filter((function(t){return t.source===e})).map((function(e){return e.target}))}if("source"===n){return r.filter((function(t){return t.target===e})).map((function(e){return e.source}))}return r.map((function(t){return t.source===e?t.target:t.source}))},jn=function(e,t){return t.filter((function(t){return t.source===e||t.target===e}))},Fn=function(e){void 0===e&&(e=0);var t="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(e,"-").concat(t).concat(n)};var Bn=function(e,t,n,r){void 0===r&&(r=!0);var o=function(e){void 0===e&&(e={});var t=e,n=function(){},r=function(){var e={};return function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||r,t.enter=e.enter||n,t.leave=e.leave||n,t}(n),i=new Rn,a=e.edges,s=void 0===a?[]:a;i.enqueue(t);for(var u="",c=function(){var e=i.dequeue();o.enter({current:e,previous:u}),Ln(e,s,r?"target":void 0).forEach((function(t){o.allowTraversal({previous:u,current:e,next:t})&&i.enqueue(t)})),o.leave({current:e,previous:u}),u=e};!i.isEmpty();)c()},zn=function(e){for(var t=e.nodes,n=void 0===t?[]:t,r=e.edges,o=void 0===r?[]:r,i=[],a={},s={},u={},c=[],l=0,f=function e(t){s[t.id]=l,u[t.id]=l,l+=1,i.push(t),a[t.id]=!0;for(var r=Ln(t.id,o,"target").filter((function(e){return n.map((function(e){return e.id})).indexOf(e)>-1})),f=function(o){var i=r[o];if(s[i]||0===s[i])a[i]&&(u[t.id]=Math.min(u[t.id],s[i]));else{var c=n.filter((function(e){return e.id===i}));c.length>0&&e(c[0]),u[t.id]=Math.min(u[t.id],u[i])}},d=0;d<r.length;d++)f(d);if(u[t.id]===s[t.id]){for(var h=[];i.length>0;){var p=i.pop();if(a[p.id]=!1,h.push(p),p===t)break}h.length>0&&c.push(h)}},d=0,h=n;d<h.length;d++){var p=h[d];s[p.id]||0===s[p.id]||f(p)}return c};function Gn(e,t){return t?zn(e):function(e){for(var t=e.nodes,n=void 0===t?[]:t,r=e.edges,o=void 0===r?[]:r,i=[],a={},s=[],u=function e(t){s.push(t),a[t.id]=!0;for(var r=Ln(t.id,o),i=function(t){var o=r[t];if(!a[o]){var i=n.filter((function(e){return e.id===o}));i.length>0&&e(i[0])}},u=0;u<r.length;++u)i(u)},c=0;c<n.length;c++){var l=n[c];if(!a[l.id]){u(l);for(var f=[];s.length>0;)f.push(s.pop());i.push(f)}}return i}(e)}var Vn=function(e){var t={},n=e.nodes,r=void 0===n?[]:n,o=e.edges,i=void 0===o?[]:o;return r.forEach((function(e){t[e.id]={degree:0,inDegree:0,outDegree:0}})),i.forEach((function(e){t[e.source].degree++,t[e.source].outDegree++,t[e.target].degree++,t[e.target].inDegree++})),t},Un=Vn,Wn=function(e,t){return Vn(e)[t]?Vn(e)[t].inDegree:0},Zn=function(e,t){return Vn(e)[t]?Vn(e)[t].outDegree:0};function Yn(e,t,n,r){r.enter({current:t,previous:n});var o=e.edges;Ln(t,void 0===o?[]:o,"target").forEach((function(o){r.allowTraversal({previous:n,current:t,next:o})&&Yn(e,o,t,r)})),r.leave({current:t,previous:n})}function Hn(e,t,n){Yn(e,t,"",function(e){void 0===e&&(e={});var t=e,n=function(){},r=function(){var e={};return function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||r,t.enter=e.enter||n,t.leave=e.leave||n,t}(n))}var Xn=function(e,t,n){var r,o;void 0===n&&(n=!0);for(var i=[],a=0,s=Gn(e,!1);a<s.length;a++){var u=s[a];if(u.length)for(var c=u[0],l=c.id,f=[c],d=((r={})[l]=c,r),h=((o={})[l]=new Set,o);f.length>0;)for(var p=f.pop(),g=p.id,v=Ln(g,e.edges),m=function(r){var o,a=v[r],s=e.nodes.find((function(e){return e.id===a}));if(a===g)i.push(((o={})[a]=p,o));else if(a in h){if(!h[g].has(s)){for(var u=!0,c=[s,p],l=d[g];h[a].size&&!h[a].has(l)&&(c.push(l),l!==d[l.id]);)l=d[l.id];if(c.push(l),t&&n?(u=!1,c.findIndex((function(e){return t.indexOf(e.id)>-1}))>-1&&(u=!0)):t&&!n&&c.findIndex((function(e){return t.indexOf(e.id)>-1}))>-1&&(u=!1),u){for(var m={},y=1;y<c.length;y+=1)m[c[y-1].id]=c[y];c.length&&(m[c[c.length-1].id]=c[0]),i.push(m)}h[a].add(p)}}else d[a]=p,f.push(s),h[a]=new Set([p])},y=0;y<v.length;y+=1)m(y)}return i},Kn=function(e,t,n){void 0===n&&(n=!0);for(var r=[],o=new Set,i=[],a=[],s={},u={},c=function e(u,c,l){var f=!1;if(t&&!1===n&&t.indexOf(u.id)>-1)return f;r.push(u),o.add(u);for(var d=l[u.id],h=0;h<d.length;h+=1){if((v=s[d[h]])===c){for(var p={},g=1;g<r.length;g+=1)p[r[g-1].id]=r[g];r.length&&(p[r[r.length-1].id]=r[0]),a.push(p),f=!0}else o.has(v)||e(v,c,l)&&(f=!0)}if(f)!function(e){for(var t=[e];t.length>0;){var n=t.pop();o.has(n)&&(o.delete(n),i[n.id].forEach((function(e){t.push(e)})),i[n.id].clear())}}(u);else for(h=0;h<d.length;h+=1){var v=s[d[h]];i[v.id].has(u)||i[v.id].add(u)}return r.pop(),f},l=e.nodes,f=void 0===l?[]:l,d=0;d<f.length;d+=1){var h=f[d],p=h.id;u[p]=d,s[d]=h}if(t&&n){var g=function(e){var n=t[e];u[f[e].id]=u[n],u[n]=0,s[0]=f.find((function(e){return e.id===n})),s[u[f[e].id]]=f[e]};for(d=0;d<t.length;d++)g(d)}for(var v=function(r){for(var o,i,s=1/0,c=0;c<r.length;c+=1)for(var l=r[c],f=0;f<l.length;f++){var d=u[l[f].id];d<s&&(s=d,i=c)}var h=r[i],p=[];for(c=0;c<h.length;c+=1){var g=h[c];p[g.id]=[];for(var v=0,m=Ln(g.id,e.edges,"target").filter((function(e){return h.map((function(e){return e.id})).indexOf(e)>-1}));v<m.length;v++){var y=m[v];y!==g.id||!1===n&&t.indexOf(g.id)>-1?p[g.id].push(u[y]):a.push(((o={})[g.id]=g,o))}}return{component:h,adjList:p,minIdx:s}},m=0;m<f.length;){var y=f.filter((function(e){return u[e.id]>=m})),b=zn({nodes:y,edges:e.edges}).filter((function(e){return e.length>1}));if(0===b.length)break;var x=v(b),w=x.minIdx,E=x.adjList,_=x.component;if(!(_.length>1))break;_.forEach((function(e){i[e.id]=new Set}));var S=s[w];if(t&&n&&-1===t.indexOf(S.id))return a;c(S,S,E),m=w+1}return a},qn=function(e,t,n,r){return void 0===r&&(r=!0),t?Kn(e,n,r):Xn(e,n,r)},$n=function(e){var t=null,n=e.nodes,r={},o={},i={},a={};(void 0===n?[]:n).forEach((function(e){o[e.id]=e}));for(var s={enter:function(e){var n=e.current,a=e.previous;if(i[n]){t={};for(var s=n,u=a;u!==n;)t[s]=u,s=u,u=r[u];t[s]=u}else i[n]=n,delete o[n],r[n]=a},leave:function(e){var t=e.current;a[t]=t,delete i[t]},allowTraversal:function(e){var n=e.next;return!t&&!a[n]}};Object.keys(o).length;){Hn(e,Object.keys(o)[0],s)}return t},Jn=function(e,t,n,r){var o=e.nodes,i=void 0===o?[]:o,a=e.edges,s=void 0===a?[]:a,u=[],c={},l={},f={};i.forEach((function(e,n){var r=e.id;u.push(r),l[r]=1/0,r===t&&(l[r]=0)}));for(var d=i.length,h=function(e){var t=function(e,t,n){for(var r,o=1/0,i=0;i<t.length;i++){var a=t[i].id;!n[a]&&e[a]<=o&&(o=e[a],r=t[i])}return r}(l,i,c),o=t.id;if(c[o]=!0,l[o]===1/0)return"continue";var a=[];a=n?function(e,t){return t.filter((function(t){return t.source===e}))}(o,s):jn(o,s),a.forEach((function(e){var n=e.target,i=e.source,a=n===o?i:n,s=r&&e[r]?e[r]:1;l[a]>l[t.id]+s?(l[a]=l[t.id]+s,f[a]=[t.id]):l[a]===l[t.id]+s&&f[a].push(t.id)}))},p=0;p<d;p++)h();f[t]=[t];var g={};for(var v in l)l[v]!==1/0&&Qn(t,v,f,g);var m={};for(var v in g)m[v]=g[v][0];return{length:l,path:m,allPath:g}};function Qn(e,t,n,r){if(e===t)return[e];if(r[t])return r[t];for(var o=[],i=0,a=n[t];i<a.length;i++){var s=Qn(e,a[i],n,r);if(!s)return;for(var u=0,c=s;u<c.length;u++){var l=c[u];(0,vn.isArray)(l)?o.push((0,gn.__spreadArray)((0,gn.__spreadArray)([],l,!0),[t],!1)):o.push([l,t])}}return r[t]=o,r[t]}var er,tr=function(e,t,n,r,o){var i=Jn(e,t,r,o),a=i.length,s=i.path,u=i.allPath;return{length:a[n],path:s[n],allPath:u[n]}},nr=function(e,t,n,r){var o;if(t===n)return[[t]];var i=e.edges,a=void 0===i?[]:i,s=[t],u=((o={})[t]=!0,o),c=[],l=[],f=r?Ln(t,a,"target"):Ln(t,a);for(c.push(f);s.length>0&&c.length>0;){var d=c[c.length-1];if(d.length){var h=d.shift();if(h&&(s.push(h),u[h]=!0,f=r?Ln(h,a,"target"):Ln(h,a),c.push(f.filter((function(e){return!u[e]})))),s[s.length-1]===n){var p=s.map((function(e){return e}));l.push(p);g=s.pop();u[g]=!1,c.pop()}}else{var g=s.pop();u[g]=!1,c.pop()}}return l},rr=function(e,t){for(var n=Nn(e,t),r=[],o=n.length,i=0;i<o;i+=1){r[i]=[];for(var a=0;a<o;a+=1)i===a?r[i][a]=0:0!==n[i][a]&&n[i][a]?r[i][a]=n[i][a]:r[i][a]=1/0}for(var s=0;s<o;s+=1)for(i=0;i<o;i+=1)for(a=0;a<o;a+=1)r[i][a]>r[i][s]+r[s][a]&&(r[i][a]=r[i][s]+r[s][a]);return r},or=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e3);var o=e.nodes,i=void 0===o?[]:o,a=e.edges,s=void 0===a?[]:a,u={},c={};i.forEach((function(e,t){var n=Fn();e.clusterId=n,u[n]={id:n,nodes:[e]},c[e.id]={node:e,idx:t}}));var l=Nn(e,t),f=[],d={};l.forEach((function(e,t){var n=0,r=i[t].id;d[r]={},e.forEach((function(e,t){if(e){n+=e;var o=i[t].id;d[r][o]=e}})),f.push(n)}));for(var h=0,p=function(){var e=!1;if(i.forEach((function(t){var n={};Object.keys(d[t.id]).forEach((function(e){var r=d[t.id][e],o=c[e].node.clusterId;n[o]||(n[o]=0),n[o]+=r}));var r=-1/0,o=[];if(Object.keys(n).forEach((function(e){r<n[e]?(r=n[e],o=[e]):r===n[e]&&o.push(e)})),1!==o.length||o[0]!==t.clusterId){var i=o.indexOf(t.clusterId);if(i>=0&&o.splice(i,1),o&&o.length){e=!0;var a=u[t.clusterId],s=a.nodes.indexOf(t);a.nodes.splice(s,1);var l=Math.floor(Math.random()*o.length),f=u[o[l]];f.nodes.push(t),t.clusterId=f.id}}})),!e)return"break";h++};h<r;){if("break"===p())break}Object.keys(u).forEach((function(e){var t=u[e];t.nodes&&t.nodes.length||delete u[e]}));var g=[],v={};s.forEach((function(e){var t=e.source,r=e.target,o=e[n]||1,i=c[t].node.clusterId,a=c[r].node.clusterId,s="".concat(i,"---").concat(a);if(v[s])v[s].weight+=o,v[s].count++;else{var u={source:i,target:a,weight:o,count:1};v[s]=u,g.push(u)}}));var m=[];return Object.keys(u).forEach((function(e){m.push(u[e])})),{clusters:m,clusterEdges:g}},ir=function(){function e(e){this.arr=e}return e.prototype.getArr=function(){return this.arr||[]},e.prototype.add=function(t){var n,r=t.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new e(r);if(!(null===r||void 0===r?void 0:r.length))return new e(this.arr);if(this.arr.length===r.length){var o=[];for(var i in this.arr)o[i]=this.arr[i]+r[i];return new e(o)}},e.prototype.subtract=function(t){var n,r=t.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new e(r);if(!(null===r||void 0===r?void 0:r.length))return new e(this.arr);if(this.arr.length===r.length){var o=[];for(var i in this.arr)o[i]=this.arr[i]-r[i];return new e(o)}},e.prototype.avg=function(t){var n=[];if(0!==t)for(var r in this.arr)n[r]=this.arr[r]/t;return new e(n)},e.prototype.negate=function(){var t=[];for(var n in this.arr)t[n]=-this.arr[n];return new e(t)},e.prototype.squareEuclideanDistance=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var o in this.arr)r+=Math.pow(this.arr[o]-e.arr[o],2);return r}},e.prototype.euclideanDistance=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var o in this.arr)r+=Math.pow(this.arr[o]-e.arr[o],2);return Math.sqrt(r)}console.error("The two vectors are unequal in length.")},e.prototype.normalize=function(){var t=[],n=(0,vn.clone)(this.arr);n.sort((function(e,t){return e-t}));var r=n[n.length-1],o=n[0];for(var i in this.arr)t[i]=(this.arr[i]-o)/(r-o);return new e(t)},e.prototype.norm2=function(){var e;if(!(null===(e=this.arr)||void 0===e?void 0:e.length))return 0;var t=0;for(var n in this.arr)t+=Math.pow(this.arr[n],2);return Math.sqrt(t)},e.prototype.dot=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var o in this.arr)r+=this.arr[o]*e.arr[o];return r}console.error("The two vectors are unequal in length.")},e.prototype.equal=function(e){var t,n=e.arr;if((null===(t=this.arr)||void 0===t?void 0:t.length)!==(null===n||void 0===n?void 0:n.length))return!1;for(var r in this.arr)if(this.arr[r]!==n[r])return!1;return!0},e}(),ar=ir,sr=function(e,t){void 0===t&&(t=void 0);var n=[];return e.forEach((function(e){void 0===t&&n.push(e),void 0!==e[t]&&n.push(e[t])})),n};!function(e){e.EuclideanDistance="euclideanDistance"}(er||(er={}));var ur=function(e,t,n){var r=[];(null===t||void 0===t?void 0:t.length)?r=t:(e.forEach((function(e){r=r.concat(Object.keys(e))})),r=(0,vn.uniq)(r));var o={};return r.forEach((function(t){var r=[];e.forEach((function(e){void 0!==e[t]&&""!==e[t]&&r.push(e[t])})),r.length&&!(null===n||void 0===n?void 0:n.includes(t))&&(o[t]=(0,vn.uniq)(r))})),o},cr=function(e,t,n){var r=ur(e,t,n),o=[];return Object.keys(r).length?(e.forEach((function(e,t){var n=[];if(1===Object.keys(r).length){var i=Object.keys(r)[0];r[i].every((function(e){return!isNaN(Number(e))}))&&(n=[e[i]])}else Object.keys(r).forEach((function(t){for(var o=e[t],i=r[t],a=i.findIndex((function(e){return o===e})),s=[],u=0;u<i.length;u++)u===a?s.push(1):s.push(0);n=n.concat(s)}));o[t]=n})),o):o},lr=function(e,t,n,r){void 0===n&&(n=er.EuclideanDistance);var o=0;if(n===er.EuclideanDistance)o=new ar(e).euclideanDistance(new ar(t));return o},fr=function(e,t,n,r){for(var o=t.length,i=2*r,a=0,s=0;s<o;s++)for(var u=e[s].clusterId,c=0;c<o;c++){if(u===e[c].clusterId)a+=(t[s][c]||0)-(n[s]||0)*(n[c]||0)/i}return a*=1/i},dr=function(e,t){void 0===e&&(e=[]);for(var n=e.length,r=new ar([]),o=0;o<n;o++)r=r.add(new ar(t[o]));var i=r.avg(n);i.normalize();var a=0;for(o=0;o<n;o++){a+=(u=new ar(t[o])).squareEuclideanDistance(i)}var s=[];e.forEach((function(){s.push([])}));for(o=0;o<n;o++){var u=new ar(t[o]);e[o].clusterInertial=0;for(var c=0;c<n;c++)if(o!==c){var l=new ar(t[c]);s[o][c]=u.squareEuclideanDistance(l),e[o].clusterInertial+=s[o][c]}else s[o][c]=0}var f=0,d=2*n*a;for(o=0;o<n;o++){var h=e[o].clusterId;for(c=0;c<n;c++){var p=e[c].clusterId;if(o!==c&&h===p)f+=e[o].clusterInertial*e[c].clusterInertial/Math.pow(d,2)-s[o][c]/d}}return Number(f.toFixed(4))},hr=function(e,t,n,r,o,i,a,s,u){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e-4),void 0===o&&(o=!1),void 0===i&&(i=void 0),void 0===a&&(a=[]),void 0===s&&(s=["id"]),void 0===u&&(u=1);var c=e.nodes,l=void 0===c?[]:c,f=e.edges,d=void 0===f?[]:f,h=[];if(o){l.forEach((function(e,t){e.properties=e.properties||{},e.originIndex=t}));var p=[];l.every((function(e){return e.hasOwnProperty("nodeType")}))&&(p=Array.from(new Set(l.map((function(e){return e.nodeType})))),l.forEach((function(e){e.properties.nodeType=p.findIndex((function(t){return t===e.nodeType}))})));var g=sr(l,i);h=cr(g,a,s)}var v=1,m={},y={};l.forEach((function(e,t){var n=String(v++);e.clusterId=n,m[n]={id:n,nodes:[e]},y[e.id]={node:e,idx:t}}));var b=Nn(e,t),x=[],w={},E=0;b.forEach((function(e,t){var n=0,r=l[t].id;w[r]={},e.forEach((function(e,t){if(e){n+=e;var o=l[t].id;w[r][o]=e,E+=e}})),x.push(n)})),E/=2;for(var _=1/0,S=1/0,k=0,T=[],C={};;){_=o&&l.every((function(e){return e.hasOwnProperty("properties")}))?fr(l,b,x,E)+dr(l,h)*u:fr(l,b,x,E),0===k&&(S=_,T=l,C=m);var M=_>0&&_>S&&_-S<r;if(_>S&&(T=l.map((function(e){return{node:e,clusterId:e.clusterId}})),C=(0,vn.clone)(m),S=_),M||k>100)break;k++,Object.keys(m).forEach((function(e){var t=0;d.forEach((function(r){var o=r.source,i=r.target,a=y[o].node.clusterId,s=y[i].node.clusterId;(a===e&&s!==e||s===e&&a!==e)&&(t+=r[n]||1)})),m[e].sumTot=t})),l.forEach((function(e,t){var r,i=m[e.clusterId],a=0,s=x[t]/(2*E),c=0,l=i.nodes;l.forEach((function(e){var n=y[e.id].idx;c+=b[t][n]||0}));var f=c-i.sumTot*s,p=l.filter((function(t){return t.id!==e.id})),g=[];p.forEach((function(e,t){g[t]=h[e.originIndex]}));var v=dr(p,h)*u,_=w[e.id];if(Object.keys(_).forEach((function(n){var i=y[n].node.clusterId;if(i!==e.clusterId){var c=m[i],l=c.nodes;if(l&&l.length){var d=0;l.forEach((function(e){var n=y[e.id].idx;d+=b[t][n]||0}));var p=d-c.sumTot*s,g=l.concat([e]),x=[];g.forEach((function(e,t){x[t]=h[e.originIndex]}));var w=dr(g,h)*u,E=p-f;o&&(E=p+w-(f+v)),E>a&&(a=E,r=c)}}})),a>0){r.nodes.push(e);var S=e.clusterId;e.clusterId=r.id;var k=i.nodes.indexOf(e);i.nodes.splice(k,1);var T=0,C=0;d.forEach((function(e){var t=e.source,o=e.target,i=y[t].node.clusterId,a=y[o].node.clusterId;(i===r.id&&a!==r.id||a===r.id&&i!==r.id)&&(T+=e[n]||1),(i===S&&a!==S||a===S&&i!==S)&&(C+=e[n]||1)})),r.sumTot=T,i.sumTot=C}}))}var N={},A=0;Object.keys(C).forEach((function(e){var t=C[e];if(t.nodes&&t.nodes.length){var n=String(A+1);n!==e&&(t.id=n,t.nodes=t.nodes.map((function(e){return{id:e.id,clusterId:n}})),C[n]=t,N[e]=n,delete C[e],A++)}else delete C[e]})),T.forEach((function(e){var t=e.node,n=e.clusterId;t.clusterId=n,t.clusterId&&N[t.clusterId]&&(t.clusterId=N[t.clusterId])}));var P=[],O={};d.forEach((function(e){var t=e.source,r=e.target,o=e[n]||1,i=y[t].node.clusterId,a=y[r].node.clusterId,s="".concat(i,"---").concat(a);if(O[s])O[s].weight+=o,O[s].count++;else{var u={source:i,target:a,weight:o,count:1};O[s]=u,P.push(u)}}));var I=[];return Object.keys(C).forEach((function(e){I.push(C[e])})),{clusters:I,clusterEdges:P}},pr=function(e,t,n,r,o,i,a,s){return void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e-4),void 0===o&&(o=void 0),void 0===i&&(i=[]),void 0===a&&(a=["id"]),void 0===s&&(s=1),hr(e,t,n,r,!0,o,i,a,s)},gr=function(e,t){var n;void 0===t&&(t=1);for(var r=(0,vn.clone)(e),o=r.nodes,i=void 0===o?[]:o,a=r.edges,s=void 0===a?[]:a,u=function(){var e=Un({nodes:i,edges:s}),r=Object.keys(e);r.sort((function(t,n){var r,o;return(null===(r=e[t])||void 0===r?void 0:r.degree)-(null===(o=e[n])||void 0===o?void 0:o.degree)}));var o=r[0];if(!i.length||(null===(n=e[o])||void 0===n?void 0:n.degree)>=t)return"break";var a=i.findIndex((function(e){return e.id===o}));i.splice(a,1),s=s.filter((function(e){return!(e.source===o||e.target===o)}))};;){if("break"===u())break}return{nodes:i,edges:s}},vr=function(e,t,n){var r=[];if(e===er.EuclideanDistance)r=t[n];else r=[];return r},mr=function(e,t,n,r,o,i){void 0===t&&(t=3),void 0===n&&(n=void 0),void 0===r&&(r=[]),void 0===o&&(o=["id"]),void 0===i&&(i=er.EuclideanDistance);var a=e.nodes,s=void 0===a?[]:a,u=e.edges,c=void 0===u?[]:u,l={clusters:[{id:"0",nodes:s}],clusterEdges:[]};if(i===er.EuclideanDistance&&!s.every((function(e){return e.hasOwnProperty(n)})))return l;var f=[],d=[];if(i===er.EuclideanDistance&&(f=sr(s,n),d=cr(f,r,o)),!d.length)return l;for(var h=(0,vn.uniq)(d.map((function(e){return e.join("")}))),p=Math.min(t,s.length,h.length),g=0;g<s.length;g++)s[g].originIndex=g;var v=[],m=[],y=[];for(g=0;g<p;g++)if(0===g){var b=Math.floor(Math.random()*s.length);if(i===er.EuclideanDistance)v[g]=d[b];else v[g]=[];m.push(b),y[g]=[s[b]],s[b].clusterId=String(g)}else{for(var x=-1/0,w=0,E=function(e){if(!m.includes(e)){for(var t=0,n=0;n<v.length;n++){var r=0;if(i===er.EuclideanDistance)r=lr(d[s[e].originIndex],v[n],i);t+=r}var o=t/v.length;o>x&&!v.find((function(t){return(0,vn.isEqual)(t,vr(i,d,s[e].originIndex))}))&&(x=o,w=e)}},_=0;_<s.length;_++)E(_);v[g]=vr(i,d,w),m.push(w),y[g]=[s[w]],s[w].clusterId=String(g)}for(var S=0;;){for(g=0;g<s.length;g++){var k=0,T=1/0;if(0!==S||!m.includes(g)){for(var C=0;C<v.length;C++){var M=0;if(i===er.EuclideanDistance)M=lr(d[g],v[C],i);M<T&&(T=M,k=C)}if(void 0!==s[g].clusterId)for(var N=y[Number(s[g].clusterId)].length-1;N>=0;N--)y[Number(s[g].clusterId)][N].id===s[g].id&&y[Number(s[g].clusterId)].splice(N,1);s[g].clusterId=String(k),y[k].push(s[g])}}var A=!1;for(g=0;g<y.length;g++){var P=y[g],O=new ar([]);for(C=0;C<P.length;C++)O=O.add(new ar(d[P[C].originIndex]));var I=O.avg(P.length);I.equal(new ar(v[g]))||(A=!0,v[g]=I.getArr())}if(S++,s.every((function(e){return void 0!==e.clusterId}))&&A||S>=1e3)break}var D=[],R={};return c.forEach((function(e){var t,n,r=e.source,o=e.target,i=null===(t=s.find((function(e){return e.id===r})))||void 0===t?void 0:t.clusterId,a=null===(n=s.find((function(e){return e.id===o})))||void 0===n?void 0:n.clusterId,u="".concat(i,"---").concat(a);if(R[u])R[u].count++;else{var c={source:i,target:a,count:1};R[u]=c,D.push(c)}})),{clusters:y,clusterEdges:D}},yr=function(e,t){var n=new ar(t),r=n.norm2(),o=new ar(e),i=o.norm2(),a=n.dot(o),s=r*i,u=s?a/s:0;return u},br=function(e,t,n,r,o){void 0===e&&(e=[]),void 0===n&&(n=void 0),void 0===r&&(r=[]),void 0===o&&(o=[]);var i=(0,vn.clone)(e.filter((function(e){return e.id!==t.id}))),a=e.findIndex((function(e){return e.id===t.id})),s=sr(e,n),u=cr(s,r,o),c=u[a],l=[];return i.forEach((function(e,n){if(e.id!==t.id){var r=u[n],o=yr(r,c);l.push(o),e.cosineSimilarity=o}})),i.sort((function(e,t){return t.cosineSimilarity-e.cosineSimilarity})),{allCosineSimilarity:l,similarNodes:i}},xr=function(){function e(e){this.count=e.length,this.parent={};for(var t=0,n=e;t<n.length;t++){var r=n[t];this.parent[r]=r}}return e.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},e.prototype.union=function(e,t){var n=this.find(e),r=this.find(t);n!==r&&(n<r?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},e.prototype.connected=function(e,t){return this.find(e)===this.find(t)},e}(),wr=xr,Er=function(e,t){return e-t},_r=function(){function e(e){void 0===e&&(e=Er),this.compareFn=e,this.list=[]}return e.prototype.getLeft=function(e){return 2*e+1},e.prototype.getRight=function(e){return 2*e+2},e.prototype.getParent=function(e){return 0===e?null:Math.floor((e-1)/2)},e.prototype.isEmpty=function(){return this.list.length<=0},e.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},e.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},e.prototype.insert=function(e){if(null!==e){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},e.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var n=this.list[t];this.list[t]=this.list[e],this.list[e]=n,e=t,t=this.getParent(e)}},e.prototype.moveDown=function(e){var t,n=e,r=this.getLeft(e),o=this.getRight(e),i=this.list.length;null!==r&&r<i&&this.compareFn(this.list[n],this.list[r])>0?n=r:null!==o&&o<i&&this.compareFn(this.list[n],this.list[o])>0&&(n=o),e!==n&&(t=[this.list[n],this.list[e]],this.list[e]=t[0],this.list[n]=t[1],this.moveDown(n))},e}(),Sr=_r,kr=function(e,t){var n=[],r=e.nodes,o=void 0===r?[]:r,i=e.edges,a=void 0===i?[]:i;if(0===o.length)return n;var s=o[0],u=new Set;u.add(s);var c=new Sr((function(e,n){return t?e.weight-n.weight:0}));for(jn(s.id,a).forEach((function(e){c.insert(e)}));!c.isEmpty();){var l=c.delMin(),f=l.source,d=l.target;u.has(f)&&u.has(d)||(n.push(l),u.has(f)||(u.add(f),jn(f,a).forEach((function(e){c.insert(e)}))),u.has(d)||(u.add(d),jn(d,a).forEach((function(e){c.insert(e)}))))}return n},Tr=function(e,t){var n=[],r=e.nodes,o=void 0===r?[]:r,i=e.edges,a=void 0===i?[]:i;if(0===o.length)return n;var s=a.map((function(e){return e}));t&&s.sort((function(e,t){return e.weight-t.weight}));for(var u=new wr(o.map((function(e){return e.id})));s.length>0;){var c=s.shift(),l=c.source,f=c.target;u.connected(l,f)||(n.push(c),u.union(l,f))}return n},Cr=function(e,t,n){return n?{prim:kr,kruskal:Tr}[n](e,t):Tr(e,t)},Mr=function(e,t,n){"number"!==typeof t&&(t=1e-6),"number"!==typeof n&&(n=.85);for(var r,o=1,i=0,a=1e3,s=e.nodes,u=void 0===s?[]:s,c=e.edges,l=void 0===c?[]:c,f=u.length,d={},h={},p=0;p<f;++p){d[v=(w=u[p]).id]=1/f,h[v]=1/f}for(var g=Un(e);a>0&&o>t;){i=0;for(p=0;p<f;++p){var v=(w=u[p]).id;if(r=0,0===g[w.id].inDegree)d[v]=0;else{for(var m=Ln(v,l,"source"),y=0;y<m.length;++y){var b=m[y],x=g[b].outDegree;x>0&&(r+=h[b]/x)}d[v]=n*r,i+=d[v]}}i=(1-i)/f,o=0;for(p=0;p<f;++p){var w;r=d[v=(w=u[p]).id]+i,o+=Math.abs(r-h[v]),h[v]=r}a-=1}return h},Nr="-1",Ar=function(e,t,n,r){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===n&&(n=-1),void 0===r&&(r="-1"),this.id=e,this.from=t,this.to=n,this.label=r},Pr=function(){function e(e,t){void 0===e&&(e=-1),void 0===t&&(t=Nr),this.id=e,this.label=t,this.edges=[],this.edgeMap={}}return e.prototype.addEdge=function(e){this.edges.push(e),this.edgeMap[e.id]=e},e}(),Or=function(){function e(e,t,n){void 0===e&&(e=-1),void 0===t&&(t=!0),void 0===n&&(n=!1),this.id=e,this.edgeIdAutoIncrease=t,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return e.prototype.getNodeNum=function(){return this.nodes.length},e.prototype.addNode=function(e,t){if(!this.nodeMap[e]){var n=new Pr(e,t);this.nodes.push(n),this.nodeMap[e]=n,this.nodeLabelMap[t]||(this.nodeLabelMap[t]=[]),this.nodeLabelMap[t].push(e)}},e.prototype.addEdge=function(e,t,n,r){if((this.edgeIdAutoIncrease||void 0===e)&&(e=this.counter++),!(this.nodeMap[t]&&this.nodeMap[n]&&this.nodeMap[n].edgeMap[e])){var o=new Ar(e,t,n,r);if(this.edges.push(o),this.edgeMap[e]=o,this.nodeMap[t].addEdge(o),this.edgeLabelMap[r]||(this.edgeLabelMap[r]=[]),this.edgeLabelMap[r].push(o),!this.directed){var i=new Ar(e,n,t,r);this.nodeMap[n].addEdge(i),this.edgeLabelMap[r].push(i)}}},e}(),Ir=function(){function e(e,t,n,r,o){this.fromNode=e,this.toNode=t,this.nodeEdgeNodeLabel={nodeLabel1:n||Nr,edgeLabel:r||"-1",nodeLabel2:o||Nr}}return e.prototype.equalTo=function(e){return this.fromNode===e.formNode&&this.toNode===e.toNode&&this.nodeEdgeNodeLabel===e.nodeEdgeNodeLabel},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e}(),Dr=function(){function e(){this.rmpath=[],this.dfsEdgeList=[]}return e.prototype.equalTo=function(e){var t=this.dfsEdgeList.length;if(t!==e.length)return!1;for(var n=0;n<t;n++)if(this.dfsEdgeList[n]!==e[n])return!1;return!0},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e.prototype.pushBack=function(e,t,n,r,o){return this.dfsEdgeList.push(new Ir(e,t,n,r,o)),this.dfsEdgeList},e.prototype.toGraph=function(e,t){void 0===e&&(e=-1),void 0===t&&(t=!1);var n=new Or(e,!0,t);return this.dfsEdgeList.forEach((function(e){var t=e.fromNode,r=e.toNode,o=e.nodeEdgeNodeLabel,i=o.nodeLabel1,a=o.edgeLabel,s=o.nodeLabel2;i!==Nr&&n.addNode(t,i),s!==Nr&&n.addNode(r,s),i!==Nr&&s!==i&&n.addEdge(void 0,t,r,a)})),n},e.prototype.buildRmpath=function(){this.rmpath=[];for(var e=void 0,t=this.dfsEdgeList.length-1;t>=0;t--){var n=this.dfsEdgeList[t],r=n.fromNode,o=n.toNode;r<o&&(void 0===e||o===e)&&(this.rmpath.push(t),e=r)}return this.rmpath},e.prototype.getNodeNum=function(){var e={};return this.dfsEdgeList.forEach((function(t){e[t.fromNode]||(e[t.fromNode]=!0),e[t.toNode]||(e[t.toNode]=!0)})),Object.keys(e).length},e}(),Rr=function(){function e(e){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],e){for(;e;){var t=e.edge;this.edges.push(t),this.nodesUsed[t.from]=1,this.nodesUsed[t.to]=1,this.edgesUsed[t.id]=1,e=e.preNode}this.edges=this.edges.reverse()}}return e.prototype.hasNode=function(e){return 1===this.nodesUsed[e.id]},e.prototype.hasEdge=function(e){return 1===this.edgesUsed[e.id]},e}(),Lr=function(){function e(e){var t=e.graphs,n=e.minSupport,r=void 0===n?2:n,o=e.minNodeNum,i=void 0===o?1:o,a=e.maxNodeNum,s=void 0===a?4:a,u=e.top,c=void 0===u?10:u,l=e.directed,f=void 0!==l&&l,d=e.verbose,h=void 0!==d&&d;this.graphs=t,this.dfsCode=new Dr,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=r,this.top=c,this.directed=f,this.counter=0,this.maxNodeNum=s,this.minNodeNum=i,this.verbose=h,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return e.prototype.findForwardRootEdges=function(e,t){var n=this,r=[],o=e.nodeMap;return t.edges.forEach((function(e){(n.directed||t.label<=o[e.to].label)&&r.push(e)})),r},e.prototype.findBackwardEdge=function(e,t,n,r){if(!this.directed&&t===n)return null;for(var o=e.nodeMap,i=o[n.to].edges,a=i.length,s=0;s<a;s++){var u=i[s];if(!r.hasEdge(u)&&u.to===t.from)if(this.directed){if(o[t.from].label<o[n.to].label||o[t.from].label===o[n.to].label&&t.label<=u.label)return u}else if(t.label<u.label||t.label===u.label&&o[t.to].label<=o[n.to].label)return u}return null},e.prototype.findForwardPureEdges=function(e,t,n,r){for(var o=[],i=t.to,a=e.nodeMap[i].edges,s=a.length,u=0;u<s;u++){var c=a[u],l=e.nodeMap[c.to];n<=l.label&&!r.hasNode(l)&&o.push(c)}return o},e.prototype.findForwardRmpathEdges=function(e,t,n,r){for(var o=[],i=e.nodeMap,a=i[t.to].label,s=i[t.from].edges,u=s.length,c=0;c<u;c++){var l=s[c],f=i[l.to].label;t.to===l.to||n>f||r.hasNode(i[l.to])||(t.label<l.label||t.label===l.label&&a<=f)&&o.push(l)}return o},e.prototype.getSupport=function(e){var t={};return e.forEach((function(e){t[e.graphId]||(t[e.graphId]=!0)})),Object.keys(t).length},e.prototype.findMinLabel=function(e){var t=void 0;return Object.keys(e).forEach((function(n){var r=e[n],o=r.nodeLabel1,i=r.edgeLabel,a=r.nodeLabel2;t?(o<t.nodeLabel1||o===t.nodeLabel1&&i<t.edgeLabel||o===t.nodeLabel1&&i===t.edgeLabel&&a<t.nodeLabel2)&&(t={nodeLabel1:o,edgeLabel:i,nodeLabel2:a}):t={nodeLabel1:o,edgeLabel:i,nodeLabel2:a}})),t},e.prototype.isMin=function(){var e=this,t=this.dfsCode;if(this.verbose&&console.log("isMin checking",t),1===t.dfsEdgeList.length)return!0;var n=this.directed,r=t.toGraph(-1,n),o=r.nodeMap,i=new Dr,a={};r.nodes.forEach((function(t){e.findForwardRootEdges(r,t).forEach((function(e){var n=o[e.to],i="".concat(t.label,"-").concat(e.label,"-").concat(n.label);a[i]||(a[i]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:n.label});var s={graphId:r.id,edge:e,preNode:null};a[i].projected.push(s)}))}));var s=this.findMinLabel(a);if(s){i.dfsEdgeList.push(new Ir(0,1,s.nodeLabel1,s.edgeLabel,s.nodeLabel2));var u="".concat(s.nodeLabel1,"-").concat(s.edgeLabel,"-").concat(s.nodeLabel2);return function a(s){for(var u=i.buildRmpath(),c=i.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,l=i.dfsEdgeList[u[0]].toNode,f={},d=!1,h=0,p=n?-1:0,g=function(t){if(d)return"break";s.forEach((function(n){var o=new Rr(n),a=e.findBackwardEdge(r,o.edges[u[t]],o.edges[u[0]],o);a&&(f[a.label]||(f[a.label]={projected:[],edgeLabel:a.label}),f[a.label].projected.push({graphId:r.id,edge:f,preNode:n}),h=i.dfsEdgeList[u[t]].fromNode,d=!0)}))},v=u.length-1;v>p;v--){if("break"===g(v))break}if(d){var m=e.findMinLabel(f);i.dfsEdgeList.push(new Ir(l,h,Nr,m.edgeLabel,Nr));var y=i.dfsEdgeList.length-1;return e.dfsCode.dfsEdgeList[y]===i.dfsEdgeList[y]&&a(f[m.edgeLabel].projected)}var b={};d=!1;var x=0;s.forEach((function(t){var n=new Rr(t),i=e.findForwardPureEdges(r,n.edges[u[0]],c,n);i.length>0&&(d=!0,x=l,i.forEach((function(e){var n="".concat(e.label,"-").concat(o[e.to].label);b[n]||(b[n]={projected:[],edgeLabel:e.label,nodeLabel2:o[e.to].label}),b[n].projected.push({graphId:r.id,edge:e,preNode:t})})))}));var w=u.length,E=function(t){if(d)return"break";var n=u[t];s.forEach((function(t){var a=new Rr(t),s=e.findForwardRmpathEdges(r,a.edges[n],c,a);s.length>0&&(d=!0,x=i.dfsEdgeList[n].fromNode,s.forEach((function(e){var n="".concat(e.label,"-").concat(o[e.to].label);b[n]||(b[n]={projected:[],edgeLabel:e.label,nodeLabel2:o[e.to].label}),b[n].projected.push({graphId:r.id,edge:e,preNode:t})})))}))};for(v=0;v<w;v++){if("break"===E(v))break}if(!d)return!0;var _=e.findMinLabel(b);i.dfsEdgeList.push(new Ir(x,l+1,Nr,_.edgeLabel,_.nodeLabel2));var S=i.dfsEdgeList.length-1;return t.dfsEdgeList[S]===i.dfsEdgeList[S]&&a(b["".concat(_.edgeLabel,"-").concat(_.nodeLabel2)].projected)}(a[u].projected)}},e.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var e=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,vn.clone)(e))}},e.prototype.subGraphMining=function(e){var t=this;if(!(this.getSupport(e)<this.minSupport)&&this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),r=this.dfsCode.buildRmpath(),o=this.dfsCode.dfsEdgeList[r[0]].toNode,i=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,a={},s={};e.forEach((function(e){for(var u=t.graphs[e.graphId],c=u.nodeMap,l=new Rr(e),f=r.length-1;f>=0;f--){var d=t.findBackwardEdge(u,l.edges[r[f]],l.edges[r[0]],l);if(d){var h="".concat(t.dfsCode.dfsEdgeList[r[f]].fromNode,"-").concat(d.label);s[h]||(s[h]={projected:[],toNodeId:t.dfsCode.dfsEdgeList[r[f]].fromNode,edgeLabel:d.label}),s[h].projected.push({graphId:e.graphId,edge:d,preNode:e})}}if(!(n>=t.maxNodeNum)){t.findForwardPureEdges(u,l.edges[r[0]],i,l).forEach((function(t){var n="".concat(o,"-").concat(t.label,"-").concat(c[t.to].label);a[n]||(a[n]={projected:[],fromNodeId:o,edgeLabel:t.label,nodeLabel2:c[t.to].label}),a[n].projected.push({graphId:e.graphId,edge:t,preNode:e})}));var p=function(n){t.findForwardRmpathEdges(u,l.edges[r[n]],i,l).forEach((function(o){var i="".concat(t.dfsCode.dfsEdgeList[r[n]].fromNode,"-").concat(o.label,"-").concat(c[o.to].label);a[i]||(a[i]={projected:[],fromNodeId:t.dfsCode.dfsEdgeList[r[n]].fromNode,edgeLabel:o.label,nodeLabel2:c[o.to].label}),a[i].projected.push({graphId:e.graphId,edge:o,preNode:e})}))};for(f=0;f<r.length;f++)p(f)}})),Object.keys(s).forEach((function(e){var n=s[e],r=n.toNodeId,i=n.edgeLabel;t.dfsCode.dfsEdgeList.push(new Ir(o,r,"-1",i,"-1")),t.subGraphMining(s[e].projected),t.dfsCode.dfsEdgeList.pop()})),Object.keys(a).forEach((function(e){var n=a[e],r=n.fromNodeId,i=n.edgeLabel,s=n.nodeLabel2;t.dfsCode.dfsEdgeList.push(new Ir(r,o+1,Nr,i,s)),t.subGraphMining(a[e].projected),t.dfsCode.dfsEdgeList.pop()}))}},e.prototype.generate1EdgeFrequentSubGraphs=function(){var e=this.graphs,t=this.directed,n=this.minSupport,r=this.frequentSize1Subgraphs,o={},i={},a={},s={};return Object.keys(e).forEach((function(n){var r=e[n],u=r.nodeMap;r.nodes.forEach((function(e,r){var c=e.label,l="".concat(n,"-").concat(c);if(!a[l]){var f=o[c]||0;f++,o[c]=f}a[l]={graphKey:n,label:c},e.edges.forEach((function(e){var r=c,o=u[e.to].label;if(!t&&r>o){var a=o;o=r,r=a}var l=e.label,f="".concat(n,"-").concat(r,"-").concat(l,"-").concat(o),d="".concat(r,"-").concat(l,"-").concat(o);if(!i[d]){var h=i[d]||0;h++,i[d]=h}s[f]={graphId:n,nodeLabel1:r,edgeLabel:l,nodeLabel2:o}}))}))})),Object.keys(o).forEach((function(e){if(!(o[e]<n)){var t={nodes:[],edges:[]};t.nodes.push({id:"0",label:e}),r.push(t)}})),r},e.prototype.run=function(){var e=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var t=this.graphs,n=(this.directed,{});Object.keys(t).forEach((function(r){var o=t[r],i=o.nodeMap;o.nodes.forEach((function(t){e.findForwardRootEdges(o,t).forEach((function(e){var o=i[e.to],a="".concat(t.label,"-").concat(e.label,"-").concat(o.label);n[a]||(n[a]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:o.label});var s={graphId:r,edge:e,preNode:null};n[a].projected.push(s)}))}))})),Object.keys(n).forEach((function(t){var r=n[t],o=r.projected,i=r.nodeLabel1,a=r.edgeLabel,s=r.nodeLabel2;e.dfsCode.dfsEdgeList.push(new Ir(0,1,i,a,s)),e.subGraphMining(o),e.dfsCode.dfsEdgeList.pop()}))}},e}(),jr="cluster",Fr=function(e){var t=e.graphs,n=e.directed,r=void 0!==n&&n,o=e.nodeLabelProp,i=void 0===o?jr:o,a=e.edgeLabelProp,s=void 0===a?jr:a,u=function(e,t,n,r){var o={};return Object.keys(e).forEach((function(i,a){var s=e[i],u=new Or(a,!0,t),c={};s.nodes.forEach((function(e,t){u.addNode(t,e[n]),c[e.id]=t})),s.edges.forEach((function(e,t){var n=c[e.source],o=c[e.target];u.addEdge(-1,n,o,e[r])})),u&&u.getNodeNum()&&(o[u.id]=u)})),o}(t,r,i,s),c=e.minSupport,l=e.maxNodeNum,f=e.minNodeNum,d=e.verbose,h=e.top,p=new Lr({graphs:u,minSupport:c,maxNodeNum:l,minNodeNum:f,top:h,verbose:d,directed:r});p.run();var g=function(e,t,n){var r=[];return e.forEach((function(e){var o={nodes:[],edges:[]};e.nodes.forEach((function(e){var n;o.nodes.push(((n={id:"".concat(e.id)})[t]=e.label,n))})),e.edges.forEach((function(e){var t;o.edges.push(((t={source:"".concat(e.from),target:"".concat(e.to)})[n]=e.label,t))})),r.push(o)})),r}(p.frequentSubgraphs,i,s);return g},Br=function(e,t,n,r){void 0===n&&(n="cluster"),void 0===r&&(r=2);var o=[],i=e.nodes;return t.forEach((function(e,t){o.push(zr(i,e,t,n,r))})),o},zr=function(e,t,n,r,o){var i=[n],a=[],s={};return t.forEach((function(t,u){if(t<=o&&n!==u){i.push(u),a.push(e[u]);var c=e[u][r];s[c]?(s[c].count++,s[c].dists.push(t)):s[c]={count:1,dists:[t]}}})),Object.keys(s).forEach((function(e){s[e].dists=s[e].dists.sort((function(e,t){return e-t}))})),{nodeIdx:n,nodeId:e[n].id,nodeIdxs:i,neighbors:a,neighborNum:i.length-1,nodeLabelCountMap:s}},Gr=function(e,t,n,r){var o=n.nodes;return r||(r={}),Object.keys(e).forEach((function(i){var a,s;if(!r||!r[i]){r[i]={nodes:[],edges:[]};var u=e[i],c=null===(a=t[u.start])||void 0===a?void 0:a.nodeIdxs,l=null===(s=t[u.end])||void 0===s?void 0:s.nodeIdxs;if(c&&l){var f=new Set(l),d=c.filter((function(e){return f.has(e)}));if(d&&d.length){for(var h={},p=d.length,g=0;g<p;g++){var v=o[d[g]];r[i].nodes.push(v),h[v.id]=!0}n.edges.forEach((function(e){h[e.source]&&h[e.target]&&r[i].edges.push(e)}))}}}})),r},Vr=function(e,t,n,r){var o,i,a={};e.nodes.forEach((function(e){a[e.id]=e}));var s=0;return!(null===(o=null===t||void 0===t?void 0:t.edges)||void 0===o?void 0:o.length)||(null===(i=null===t||void 0===t?void 0:t.nodes)||void 0===i?void 0:i.length)<2?0:(e.edges.forEach((function(e){var o=a[e.source][n],i=a[e.target][n],u=null===t||void 0===t?void 0:t.nodes[0][n],c=null===t||void 0===t?void 0:t.nodes[1][n],l=null===t||void 0===t?void 0:t.edges[0][r];e[r]===l&&(o===u&&i===c||o===c&&i===u)&&s++})),s)},Ur=function(e,t){var n={},r={};return e.forEach((function(e,o){n[e.id]={idx:o,node:e,degree:0,inDegree:0,outDegree:0};var i=e[t];r[i]||(r[i]=[]),r[i].push(e)})),{nodeMap:n,nodeLabelMap:r}},Wr=function(e,t,n){var r={},o={};return e.forEach((function(e,i){r["".concat(Fn)]={idx:i,edge:e};var a=e[t];o[a]||(o[a]=[]),o[a].push(e);var s=n[e.source];s&&(s.degree++,s.outDegree++);var u=n[e.target];u&&(u.degree++,u.inDegree++)})),{edgeMap:r,edgeLabelMap:o}},Zr=function(e,t,n){var r=t.length,o={};return t.forEach((function(t,i){for(var a=n?0:i+1,s=e[i].id,u=a;u<r;u++)if(i!==u){var c=e[u].id,l=t[u];o["".concat(s,"-").concat(c)]=l,n||(o["".concat(c,"-").concat(s)]=l)}})),o},Yr=function(e,t,n,r,o,i,a,s,u,c,l){var f,d="".concat(t.id,"-").concat(n.id);if(c&&c[d])return c[d];var h=l?l[d]:void 0;if(!h){var p=((f={})[d]={start:r[t.id].idx,end:r[n.id].idx,distance:o},f);h=(l=Gr(p,i,e,l))[d]}return Vr(h,a,s,u)},Hr=function(e,t,n,r){var o,i,a,s=null===(o=e[t])||void 0===o?void 0:o.degree,u=null===(i=e[t])||void 0===i?void 0:i.inDegree,c=null===(a=e[t])||void 0===a?void 0:a.outDegree;return void 0===e[t]&&(s=1/0,u=1/0,c=1/0,r[t].forEach((function(e){var t=n[e.id].degree;s>t&&(s=t);var r=n[e.id].inDegree;u>r&&(u=r);var o=n[e.id].outDegree;c>o&&(c=o)})),e[t]={degree:s,inDegree:u,outDegree:c}),{minPatternNodeLabelDegree:s,minPatternNodeLabelInDegree:u,minPatternNodeLabelOutDegree:c}},Xr=function(e,t,n,r,o,i,a){var s;if(void 0===n&&(n=!1),void 0===i&&(i="cluster"),void 0===a&&(a="cluster"),e&&e.nodes){var u=e.nodes.length;if(u){var c=rr(e,n),l=rr(t,n),f=Zr(e.nodes,c,n),d=Zr(t.nodes,l,n),h=Ur(e.nodes,i),p=h.nodeMap,g=h.nodeLabelMap,v=Ur(t.nodes,i),m=v.nodeMap,y=v.nodeLabelMap;Wr(e.edges,a,p);var b=Wr(t.edges,a,m).edgeLabelMap,x=[];null===l||void 0===l||l.forEach((function(e){x=x.concat(e)})),o||(o=Math.max.apply(Math,(0,gn.__spreadArray)((0,gn.__spreadArray)([],x,!1),[2],!1))),r||(r=o);var w=Br(e,c,i,r),E=Br(t,l,i,r),_=function(e,t,n,r,o){var i=Math.ceil(n/t),a={},s=0;return r.forEach((function(e,r){for(var u=0,c=0,l=e.nodeIdxs,f=e.neighborNum-1;u<i;){for(var d=l[1+Math.floor(Math.random()*f)],h=0;(a["".concat(r,"-").concat(d)]||a["".concat(d,"-").concat(r)])&&(d=Math.floor(Math.random()*t),!(++h>2*t)););if(h<2*t&&(a["".concat(r,"-").concat(d)]={start:r,end:d,distance:o[r][d]},u++,++s>=n))return a;if(++c>2*t)break}u<i&&(i=(i+(i-u))/(t-r-1))})),a}(0,u,Math.min(100,u*(u-1)/2),w,c),S=Gr(_,w,e),k=Fr({graphs:S,nodeLabelProp:i,edgeLabelProp:a,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:n}).slice(0,10),T=k.length,C=[];k.forEach((function(e,t){C[t]={},Object.keys(S).forEach((function(n){var r=S[n],o=Vr(r,e,i,a);C[t][n]=o}))}));var M=function(e,t,n){for(var r=1/0,o=0,i=function(t){var n=e[t],i=Object.keys(n).sort((function(e,t){return n[e]-n[t]})),a=[];i.forEach((function(e,t){a[t%10]||(a[t%10]={graphs:[],totalCount:0,aveCount:0}),a[t%10].graphs.push(e),a[t%10].totalCount+=n[e]}));var s=0,u=[];a.forEach((function(e){var t=e.totalCount/e.graphs.length;e.aveCount=t,u.push(t);var r=0,o=e.length;e.graphs.forEach((function(t,o){var i=n[t];e.graphs.forEach((function(e,t){o!==t&&(r+=Math.abs(i-n[e]))}))})),s+=r/=o*(o-1)/2})),s/=a.length;var c=0;u.forEach((function(e,t){u.forEach((function(n,r){t!==r&&(c+=Math.abs(e-n))})),c/=u.length*(u.length-1)/2}));var l=c-s;r<l&&(r=l,o=t)},a=0;a<t;a++)i(a);return{structure:n[o],structureCountMap:e[o]}}(C,T,k),N=M.structure,A=M.structureCountMap,P=t.nodes[0],O=[],I=null===(s=t.nodes[0])||void 0===s?void 0:s[i],D=-1/0;t.nodes.forEach((function(e){var t=e[i],n=g[t];(null===n||void 0===n?void 0:n.length)>D&&(D=n.length,O=n,I=t,P=e)}));var R={},L={},j={},F={},B={},z={};Object.keys(y).forEach((function(r,o){B[r]=[],n&&(z[r]=[]);var s=-1/0,u=y[r],c={};u.forEach((function(e){var t=d["".concat(P.id,"-").concat(e.id)];if(t&&B[r].push(t),s<t&&(s=t),c["".concat(P.id,"-").concat(e.id)]={start:0,end:m[e.id].idx,distance:t},n){var o=d["".concat(e.id,"-").concat(P.id)];o&&z[r].push(o)}})),B[r]=B[r].sort((function(e,t){return e-t})),n&&(z[r]=z[r].sort((function(e,t){return e-t}))),L=Gr(c,E,t,L);var l=[];if(Object.keys(c).forEach((function(e){if(j[e])l.push(j[e]);else{var t=L[e];j[e]=Vr(t,N,i,a),l.push(j[e])}})),l=l.sort((function(e,t){return t-e})),F["".concat(P.id,"-").concat(r)]=l,r!==I)for(var h=function(t){var n=O[t],o=w[p[n.id].idx],s=o.nodeLabelCountMap[r],u=y[r].length;if(!s||s.count<u)return O.splice(t,1),"continue";for(var c=!1,d=0;d<u;d++)if(s.dists[d]>B[r][d]){c=!0;break}if(c)return O.splice(t,1),"continue";var h={};o.neighbors.forEach((function(e){var t=f["".concat(n.id,"-").concat(e.id)];h["".concat(n.id,"-").concat(e.id)]={start:p[n.id].idx,end:p[e.id].idx,distance:t}})),S=Gr(h,w,e,S);var g=[];Object.keys(h).forEach((function(e){if(A[e])g.push(A[e]);else{var t=S[e];A[e]=Vr(t,N,i,a),g.push(A[e])}})),g=g.sort((function(e,t){return t-e}));var v=!1;for(d=0;d<u;d++)if(g[d]<l[d]){v=!0;break}return v?(O.splice(t,1),"continue"):void 0},g=((null===O||void 0===O?void 0:O.length)||0)-1;g>=0;g--)h(g)}));var G=[];null===O||void 0===O||O.forEach((function(r){for(var s=p[r.id].idx,u=zr(e.nodes,c[s],s,i,o).neighbors,l=!1,d=u.length-1;d>=0;d--){if(u.length+1<t.nodes.length)return void(l=!0);var h=u[d],g=h[i];if(y[g]&&y[g].length)if(B[g]&&B[g].length){var v="".concat(r.id,"-").concat(h.id),b=f[v],x=B[g].length-1;if(b>B[g][x])u.splice(d,1);else{if(n){var E="".concat(h.id,"-").concat(r.id),_=f[E];if(x=z[g].length-1,_>z[g][x]){u.splice(d,1);continue}}var k=A[v]?A[v]:Yr(e,r,h,p,b,w,N,i,a,A,S),T="".concat(P.id,"-").concat(g);if(k<F[T][F[T].length-1])u.splice(d,1);else{var C=Hr(R,g,m,y),M=C.minPatternNodeLabelDegree;C.minPatternNodeLabelInDegree,C.minPatternNodeLabelOutDegree;p[h.id].degree<M&&u.splice(d,1)}}}else u.splice(d,1);else u.splice(d,1)}l||G.push({nodes:[r].concat(u)})}));var V=Jn(t,P.id,!1).length,U={};n?(Object.keys(V).forEach((function(e){var t=m[e].node[i];U[t]?U[t].push(V[e]):U[t]=[V[e]]})),Object.keys(U).forEach((function(e){U[e].sort((function(e,t){return e-t}))}))):U=B;for(var W=function(r){var o=G[r],s=o.nodes[0],u={},c={};o.nodes.forEach((function(e,t){c[e.id]={idx:t,node:e,degree:0,inDegree:0,outDegree:0};var n=e[i];u[n]?u[n]++:u[n]=1}));var l=[],f={};e.edges.forEach((function(e){c[e.source]&&c[e.target]&&(l.push(e),f[e[a]]?f[e[a]]++:f[e[a]]=1,c[e.source].degree++,c[e.target].degree++,c[e.source].outDegree++,c[e.target].inDegree++)}));for(var d=Object.keys(b).length,h=!1,g=0;g<d;g++){var v=Object.keys(b)[g];if(!f[v]||f[v]<b[v].length){h=!0;break}}if(h)return G.splice(r,1),"continue";var x=l.length;if(x<t.edges.length)return G.splice(r,1),"break";var w=!1,E=function(e){var t=l[e],r=t[a],o=b[r];if(!o||!o.length)return f[r]--,o&&f[r]<o.length?(w=!0,"break"):(l.splice(e,1),c[t.source].degree--,c[t.target].degree--,c[t.source].outDegree--,c[t.target].inDegree--,"continue");var s=c[t.source].node[i],u=c[t.target].node[i],d=!1;return o.forEach((function(e){var t=m[e.source].node,r=m[e.target].node;t[i]===s&&r[i]===u&&(d=!0),n||t[i]!==u||r[i]!==s||(d=!0)})),d?void 0:(f[r]--,o&&f[r]<o.length?(w=!0,"break"):(l.splice(e,1),c[t.source].degree--,c[t.target].degree--,c[t.source].outDegree--,c[t.target].inDegree--,"continue"))};for(g=x-1;g>=0;g--){if("break"===E(g))break}if(w)return G.splice(r,1),"continue";o.edges=l;var _=Jn(o,o.nodes[0].id,!1).length;if(Object.keys(_).reverse().forEach((function(e){if(e!==o.nodes[0].id&&!w){if(_[e]===1/0){var t=c[e].node[i];if(u[t]--,u[t]<y[t].length)return void(w=!0);var n=o.nodes.indexOf(c[e].node);return o.nodes.splice(n,1),void(c[e]=void 0)}var r=p[e].node[i];if(!U[r]||!U[r].length||_[e]>U[r][U[r].length-1]){t=c[e].node[i];if(u[t]--,u[t]<y[t].length)return void(w=!0);n=o.nodes.indexOf(c[e].node);o.nodes.splice(n,1),c[e]=void 0}}})),w)return G.splice(r,1),"continue";for(var S=!0,k=0;S&&!w;){if(S=!1,n?c[s.id].degree<m[P.id].degree||c[s.id].inDegree<m[P.id].inDegree||c[s.id].outDegree<m[P.id].outDegree:c[s.id].degree<m[P.id].degree){w=!0;break}if(u[s[i]]<y[s[i]].length){w=!0;break}for(var T=o.nodes.length-1;T>=0;T--){var C=o.nodes[T],M=c[C.id].degree,N=c[C.id].inDegree,A=c[C.id].outDegree,O=C[i],I=Hr(R,O,m,y),D=I.minPatternNodeLabelDegree,L=I.minPatternNodeLabelInDegree,j=I.minPatternNodeLabelOutDegree;if(n?M<D||N<L||A<j:M<D){if(u[C[i]]--,u[C[i]]<y[C[i]].length){w=!0;break}o.nodes.splice(T,1),c[C.id]=void 0,S=!0}}if(w||!S&&0!==k)break;for(var F=(x=l.length)-1;F>=0;F--){var B=l[F];if(!c[B.source]||!c[B.target]){l.splice(F,1);var z=B[a];if(f[z]--,c[B.source]&&(c[B.source].degree--,c[B.source].outDegree--),c[B.target]&&(c[B.target].degree--,c[B.target].inDegree--),b[z]&&f[z]<b[z].length){w=!0;break}S=!0}}k++}return w||w||o.nodes.length<t.nodes.length||l.length<t.edges.length?(G.splice(r,1),"continue"):void 0},Z=G.length-1;Z>=0;Z--){if("break"===W(Z))break}var Y=G.length,H=function(e){var t=G[e],n={};t.edges.forEach((function(e){var t="".concat(e.source,"-").concat(e.target,"-").concat(e.label);n[t]?n[t]++:n[t]=1}));for(var r=function(e){var t=G[e],r={};t.edges.forEach((function(e){var t="".concat(e.source,"-").concat(e.target,"-").concat(e.label);r[t]?r[t]++:r[t]=1}));var o=!0;Object.keys(r).length!==Object.keys(n).length?o=!1:Object.keys(n).forEach((function(e){r[e]!==n[e]&&(o=!1)})),o&&G.splice(e,1)},o=Y-1;o>e;o--)r(o);Y=G.length};for(Z=0;Z<=Y-1;Z++)H(Z);return G}}},Kr=function(){function e(e){void 0===e&&(e=10),this.linkedList=new In,this.maxStep=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},e.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},e.prototype.push=function(e){this.linkedList.prepend(e),this.length>this.maxStep&&this.linkedList.deleteTail()},e.prototype.pop=function(){var e=this.linkedList.deleteHead();return e?e.value:null},e.prototype.toArray=function(){return this.linkedList.toArray().map((function(e){return e.value}))},e.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},e}(),qr=Kr,$r=$n,Jr={getAdjMatrix:Nn,breadthFirstSearch:Bn,connectedComponent:Gn,getDegree:Un,getInDegree:Wn,getOutDegree:Zn,detectCycle:$n,detectDirectedCycle:$r,detectAllCycles:qn,detectAllDirectedCycle:Kn,detectAllUndirectedCycle:Xn,depthFirstSearch:Hn,dijkstra:Jn,findAllPath:nr,findShortestPath:tr,floydWarshall:rr,labelPropagation:or,louvain:hr,iLouvain:pr,kCore:gr,kMeans:mr,cosineSimilarity:yr,nodesCosineSimilarity:br,minimumSpanningTree:Cr,pageRank:Mr,getNeighbors:Ln,Stack:qr,GADDI:Xr},Qr=n(8679),eo=n(553);function to(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function no(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function ro(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function oo(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function io(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.hypot(n,r)}function ao(e,t){var n=t[0],r=t[1],o=n*n+r*r;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e}function so(e,t){return e[0]*t[0]+e[1]*t[1]}function uo(e,t){return e[0]===t[0]&&e[1]===t[1]}var co=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e},lo=(function(){var e=function(){var e=new eo.WT(2);return eo.WT!=Float32Array&&(e[0]=0,e[1]=0),e}()}(),Mn),fo=function(e){return function(t,n){return t[e]-n[e]}},ho=function(e,t,n){return e>=t&&e<=n},po=function(e,t,n,r){var o=n.x-e.x,i=n.y-e.y,a=t.x-e.x,s=t.y-e.y,u=r.x-n.x,c=r.y-n.y,l=a*c-s*u,f=1/l;if(l*l>1e-4*(a*a+s*s)*(u*u+c*c)){var d=(o*c-i*u)*f,h=(o*s-i*a)*f;return ho(d,0,1)&&ho(h,0,1)?{x:e.x+d*a,y:e.y+d*s}:null}return null},go=function(e,t){var n=e.x,r=e.y,o=e.width,i=e.height,a=[],s={x:n+o/2,y:r+i/2};a.push({x:n,y:r}),a.push({x:n+o,y:r}),a.push({x:n+o,y:r+i}),a.push({x:n,y:r+i}),a.push({x:n,y:r});for(var u=null,c=1;c<a.length&&!(u=po(a[c-1],a[c],s,t));c++);return u},vo=function(e,t){var n=e.x,r=e.y,o=e.r,i=t.x-n,a=t.y-r;if(i*i+a*a<o*o)return null;var s=Math.atan(a/i);return{x:n+Math.abs(o*Math.cos(s))*Math.sign(i),y:r+Math.abs(o*Math.sin(s))*Math.sign(a)}},mo=function(e,t){var n=e.rx,r=e.ry,o=e.x,i=e.y,a=t.x-o,s=t.y-i,u=Math.atan2(s/r,a/n);return u<0&&(u+=2*Math.PI),{x:o+n*Math.cos(u),y:i+r*Math.sin(u)}},yo=function(e,t,n){void 0===n&&(n=1);var r=[e.x,e.y,n];return t&&!isNaN(t[0])||(t=[1,0,0,0,1,0,0,0,1]),Qr.kK(r,r,t),{x:r[0],y:r[1]}},bo=function(e,t,n){void 0===n&&(n=1),t&&!isNaN(t[0])||(t=[1,0,0,0,1,0,0,0,1]);var r=_n.invert([1,0,0,0,1,0,0,0,1],t);r||(r=[1,0,0,0,1,0,0,0,1]);var o=[e.x,e.y,n];return Qr.kK(o,o,r),{x:o[0],y:o[1]}},xo=function(e,t,n){var r=e.x-t.x,o=e.y-t.y,i=e.x-n.x,a=e.y-n.y,s=(e.x*e.x-t.x*t.x-t.y*t.y+e.y*e.y)/2,u=(e.x*e.x-n.x*n.x-n.y*n.y+e.y*e.y)/2,c=o*i-r*a;return{x:-(a*s-o*u)/c,y:-(r*u-i*s)/c}},wo=function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},Eo=function(e,t){var n=[];return e.forEach((function(e){var r=[];e.forEach((function(e){r.push(e*t)})),n.push(r)})),n},_o=function(e){for(var t=[],n=e.length,r=0;r<n;r+=1){t[r]=[];for(var o=0;o<n;o+=1)r===o?t[r][o]=0:0!==e[r][o]&&e[r][o]?t[r][o]=e[r][o]:t[r][o]=1/0}for(var i=0;i<n;i+=1)for(r=0;r<n;r+=1)for(o=0;o<n;o+=1)t[r][o]>t[r][i]+t[i][o]&&(t[r][o]=t[r][i]+t[i][o]);return t},So=function(e,t){var n=e.nodes,r=e.edges,o=[],i={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(e,t){i[e.id]=t;o.push([])})),r&&r.forEach((function(e){var n=e.source,r=e.target,a=i[n],s=i[r];o[a][s]=1,t||(o[s][a]=1)})),o},ko=function(e,t){e.translate(t.x,t.y)},To=function(e,t,n,r){void 0===r&&(r={duration:500});var o=e.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]);var i=e.getCanvasBBox(),a=t.x-i.minX,s=t.y-i.minY;if(n){var u=a*o[0],c=s*o[4],l=0,f=0,d=0,h=0;e.animate((function(e){return o=lo(o,[["t",(d=u*e)-l,(h=c*e)-f]]),l=d,f=h,{matrix:o}}),r)}else{var p=lo(o,[["t",a,s]]);e.setMatrix(p)}},Co=function(e,t){var n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var r=t;(0,vn.isArray)(t)||(r=[t,t]),(0,vn.isArray)(t)&&1===t.length&&(r=[t[0],t[0]]),n=lo(n,[["s",r[0],r[1]]]),e.setMatrix(n)},Mo=function(e,t){var n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]),n=lo(n,[["r",t]]),e.setMatrix(n)},No=function(e,t,n){for(var r=[],o=0;o<e;o++)r[o]=0;return n.forEach((function(e){e.source&&(r[t[e.source]]+=1),e.target&&(r[t[e.target]]+=1)})),r};function Ao(e,t,n){return(n[0]-e[0])*(t[1]-e[1])===(t[0]-e[0])*(n[1]-e[1])&&Math.min(e[0],t[0])<=n[0]&&n[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=n[1]&&n[1]<=Math.max(e[1],t[1])}var Po=function(e,t,n){var r=!1,o=e.length;function i(e){return Math.abs(e)<1e-6?0:e<0?-1:1}if(o<=2)return!1;for(var a=0;a<o;a++){var s=e[a],u=e[(a+1)%o];if(Ao(s,u,[t,n]))return!0;i(s[1]-n)>0!==i(u[1]-n)>0&&i(t-(n-s[1])*(s[0]-u[0])/(s[1]-u[1])-s[0])<0&&(r=!r)}return r},Oo=function(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)},Io=function(e,t){var n=function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]}));return{minX:Math.min.apply(null,t),maxX:Math.max.apply(null,t),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}},r=function(e){for(var t=[],n=e.length,r=0;r<n-1;r++){var o=e[r],i=e[r+1];t.push({from:{x:o[0],y:o[1]},to:{x:i[0],y:i[1]}})}if(t.length>1){var a=e[0],s=e[n-1];t.push({from:{x:s[0],y:s[1]},to:{x:a[0],y:a[1]}})}return t};if(e.length<2||t.length<2)return!1;var o=n(e),i=n(t);if(!Oo(o,i))return!1;var a=!1;if((0,vn.each)(t,(function(t){if(Po(e,t[0],t[1]))return a=!0,!1})),a)return!0;if((0,vn.each)(e,(function(e){if(Po(t,e[0],e[1]))return a=!0,!1})),a)return!0;var s=r(e),u=r(t),c=!1;return(0,vn.each)(u,(function(e){if(function(e,t){var n=!1;return(0,vn.each)(e,(function(e){if(po(e.from,e.to,t.from,t.to))return n=!0,!1})),n}(s,e))return c=!0,!1})),c},Do=function(){function e(e,t,n,r){this.x1=e,this.y1=t,this.x2=n,this.y2=r}return e.prototype.getBBox=function(){var e=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),n=Math.max(this.x1,this.x2),r=Math.max(this.y1,this.y2);return{x:e,y:t,minX:e,minY:t,maxX:n,maxY:r,width:n-e,height:r-t}},e}(),Ro=function(e,t){return{top:[e.minX,e.minY,e.maxX,e.minY],left:[e.minX,e.minY,e.minX,e.maxY],bottom:[e.minX,e.maxY,e.maxX,e.maxY],right:[e.maxX,e.minY,e.maxX,e.maxY]}[t]},Lo=function(e,t){var n=(t.x2-t.x1)*(e.y1-t.y1)-(t.y2-t.y1)*(e.x1-t.x1),r=(e.x2-e.x1)*(e.y1-t.y1)-(e.y2-e.y1)*(e.x1-t.x1),o=(t.y2-t.y1)*(e.x2-e.x1)-(t.x2-t.x1)*(e.y2-e.y1);if(o){var i=n/o,a=r/o;if(i>=0&&i<=1&&a>=0&&a<=1)return i}return Number.POSITIVE_INFINITY},jo=function(e,t){for(var n=["top","left","bottom","right"],r=e.getBBox(),o=0,i=[],a=0;a<4;a++){var s=Ro(r,n[a]),u=s[0],c=s[1],l=s[2],f=s[3];i[a]=po({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:u,y:c},{x:l,y:f}),i[a]&&(o+=1)}return[i,o]},Fo=function(e,t){for(var n=["top","left","bottom","right"],r=e.getBBox(),o=Number.POSITIVE_INFINITY,i=0,a=0;a<4;a++){var s=Ro(r,n[a]),u=s[0],c=s[1],l=s[2],f=s[3],d=Lo(t,new Do(u,c,l,f));(d=Math.abs(d-.5))>=0&&d<=1&&(i+=1,o=d<o?d:o)}return 0===i?-1:o},Bo=function(e){var t=0,n=0;if(e.length>0){for(var r=0,o=e;r<o.length;r++){var i=o[r];t+=i.x,n+=i.y}t/=e.length,n/=e.length}return{x:t,y:n}},zo=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},Go=function(e,t){var n,r=t.x1,o=t.y1,i=t.x2-r,a=t.y2-o,s=e.x-r,u=e.y-o,c=s*i+u*a;n=c<=0||(c=(s=i-s)*i+(u=a-u)*a)<=0?0:c*c/(i*i+a*a);var l=s*s+u*u-n;return l<0&&(l=0),l},Vo=function(e,t,n){return void 0===n&&(n=.001),Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(n,2)},Uo=function(e,t){var n=e.x<t.x,r=e.x>t.x+t.width,o=e.y>t.y+t.height,i=e.y<t.y;if(!(n||r||o||i))return 0;if(o&&!n&&!r)return Math.pow(t.y+t.height-e.y,2);if(i&&!n&&!r)return Math.pow(e.y-t.y,2);if(n&&!o&&!i)return Math.pow(t.x-e.x,2);if(r&&!o&&!i)return Math.pow(t.x+t.width-e.x,2);var a=Math.min(Math.abs(t.x-e.x),Math.abs(t.x+t.width-e.x)),s=Math.min(Math.abs(t.y-e.y),Math.abs(t.y+t.height-e.y));return a*a+s*s},Wo=function(e,t){var n=e[0],r=e[1],o=e[2],i=e[3],a=t.x,s=t.y,u=[o-n,i-r];if(uo(u,[0,0]))return NaN;var c=[-u[1],u[0]];ao(c,c);var l=[a-n,s-r];return Math.abs(so(l,c))},Zo=function(e,t,n){return e+(t-e)*n},Yo="rgb(95, 149, 255)",Ho="rgb(0, 0, 0)",Xo="rgb(247, 250, 255)",Ko="rgb(239, 244, 255)",qo="rgb(253, 253, 253)",$o="rgb(250, 250, 250)",Jo="rgb(224, 224, 224)",Qo="rgb(234, 234, 234)",ei="#4572d9",ti={version:"0.6.3",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Yo,fill:Ko},size:20,color:Yo,linkPoints:{size:8,lineWidth:1,fill:Xo,stroke:Yo}},nodeStateStyles:{active:{fill:Xo,stroke:Yo,lineWidth:2,shadowColor:Yo,shadowBlur:10},selected:{fill:"rgb(255, 255, 255)",stroke:Yo,lineWidth:4,shadowColor:Yo,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:"rgb(223, 234, 255)",stroke:ei,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:Xo,stroke:"rgb(191, 213, 255)",lineWidth:1},disable:{fill:$o,stroke:Jo,lineWidth:1}},edgeLabel:{style:{fill:Ho,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Jo,lineAppendWidth:2},color:Jo},edgeStateStyles:{active:{stroke:Yo,lineWidth:1},selected:{stroke:Yo,lineWidth:2,shadowColor:Yo,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Yo,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:Qo,lineWidth:1},disable:{stroke:"rgb(245, 245, 245)",lineWidth:1}},comboLabel:{style:{fill:Ho,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:qo,lineWidth:1,stroke:Jo,r:5,width:20,height:10},size:[20,5],color:Jo,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:Yo,lineWidth:1,fill:Xo},selected:{stroke:Yo,lineWidth:2,fill:qo,shadowColor:Yo,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:ei,lineWidth:2,fill:qo,"text-shape":{fontWeight:500}},inactive:{stroke:Jo,fill:qo,lineWidth:1},disable:{stroke:Qo,fill:$o,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},windowFontFamily:"undefined"!==typeof window&&window.getComputedStyle&&document.body&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},ni={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},ri=Math.PI,oi=Math.sin,ii=Math.cos,ai=oi(ri/8),si=ii(ri/8),ui=function(e,t){var n=e.getBBox(),r={x:n.minX,y:n.minY},o={x:n.maxX,y:n.maxY};if(t){var i=t.getMatrix();i||(i=[1,0,0,0,1,0,0,0,1]),r=yo(r,i),o=yo(o,i)}var a=r.x,s=r.y,u=o.x,c=o.y;return{x:a,y:s,minX:a,minY:s,maxX:u,maxY:c,width:u-a,height:c-s}},ci=function(e){var t=e.sourceNode||e.targetNode,n=t.get("group").getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var r=t.getKeyShape().getBBox(),o=e.loopCfg||{},i=o.dist||2*Math.max(r.width,r.height),a=o.position||ti.defaultLoopPosition,s=[n[6],n[7]],u=[e.startPoint.x,e.startPoint.y],c=[e.endPoint.x,e.endPoint.y],l=r.height/2,f=r.height/2,d=l*ai,h=l*si,p=f*ai,g=f*si;if(u[0]===c[0]&&u[1]===c[1]){switch(a){case"top":u=[s[0]-d,s[1]-h],c=[s[0]+p,s[1]-g];break;case"top-right":l=r.height/2,f=r.width/2,u=[s[0]+(d=l*ai),s[1]-(h=l*si)],c=[s[0]+(g=f*si),s[1]-(p=f*ai)];break;case"right":l=r.width/2,f=r.width/2,u=[s[0]+(h=l*si),s[1]-(d=l*ai)],c=[s[0]+(g=f*si),s[1]+(p=f*ai)];break;case"bottom-right":l=r.width/2,f=r.height/2,u=[s[0]+(h=l*si),s[1]+(d=l*ai)],c=[s[0]+(p=f*ai),s[1]+(g=f*si)];break;case"bottom":l=r.height/2,f=r.height/2,u=[s[0]+(d=l*ai),s[1]+(h=l*si)],c=[s[0]-(p=f*ai),s[1]+(g=f*si)];break;case"bottom-left":l=r.height/2,f=r.width/2,u=[s[0]-(d=l*ai),s[1]+(h=l*si)],c=[s[0]-(g=f*si),s[1]+(p=f*ai)];break;case"left":l=r.width/2,f=r.width/2,u=[s[0]-(h=l*si),s[1]+(d=l*ai)],c=[s[0]-(g=f*si),s[1]-(p=f*ai)];break;case"top-left":l=r.width/2,f=r.height/2,u=[s[0]-(h=l*si),s[1]-(d=l*ai)],c=[s[0]-(p=f*ai),s[1]-(g=f*si)];break;default:l=r.width/2,f=r.width/2,u=[s[0]-(d=l*ai),s[1]-(h=l*si)],c=[s[0]+(p=f*ai),s[1]-(g=f*si)]}if(!1===o.clockwise){var v=[u[0],u[1]];u=[c[0],c[1]],c=[v[0],v[1]]}}var m=[u[0]-s[0],u[1]-s[1]],y=(l+i)/l,b=(f+i)/f;!1===o.clockwise&&(y=(f+i)/f,b=(l+i)/l);var x=oo([0,0],m,y),w=[s[0]+x[0],s[1]+x[1]],E=oo([0,0],[c[0]-s[0],c[1]-s[1]],b),_=[s[0]+E[0],s[1]+E[1]];return e.startPoint={x:u[0],y:u[1]},e.endPoint={x:c[0],y:c[1]},e.controlPoints=[{x:w[0],y:w[1]},{x:_[0],y:_[1]}],e},li=function(e,t,n,r,o){var i=1e-4,a=[],s=null===e||void 0===e?void 0:e.getPoint(t);if(!s)return{x:0,y:0,angle:0};if(t<i)a=e.getStartTangent().reverse();else if(t>.9999)a=e.getEndTangent();else{var u=null===e||void 0===e?void 0:e.getPoint(t+i);a.push([s.x,s.y]),a.push([u.x,u.y])}var c=Math.atan2(a[1][1]-a[0][1],a[1][0]-a[0][0]);if(c<0&&(c+=2*ri),n&&(s.x+=ii(c)*n,s.y+=oi(c)*n),r){var l=c-ri/2;c>.5*ri&&c<1.5*ri&&(l-=ri),s.x+=ii(l)*r,s.y+=oi(l)*r}var f={x:s.x,y:s.y,angle:c};return o?(c>.5*ri&&c<1.5*ri&&(c-=ri),(0,gn.__assign)({rotate:c},f)):f},fi=function e(t,n){if(!1===n(t))return!1;if(t&&t.children)for(var r=t.children.length-1;r>=0;r--)if(!e(t.children[r],n))return!1;return!0},di=function e(t,n){if(t&&t.children)for(var r=t.children.length-1;r>=0;r--)if(!e(t.children[r],n))return;return!1!==n(t)},hi=function(e,t){"function"===typeof t&&fi(e,t)},pi=function(e,t){"function"===typeof t&&di(e,t)},gi=function(e,t){return t*(ni[e]||1)},vi=function(e,t){var n=0,r=new RegExp("[\u4e00-\u9fa5]+");return e.split("").forEach((function(e){r.test(e)?n+=t:n+=gi(e,t)})),[n,t]},mi=function(e,t){var n=[],r={},o={};e.forEach((function(e){o[e.id]=e})),e.forEach((function(e,t){var i=(0,vn.clone)(e);i.itemType="combo",i.children=void 0,i.parentId===i.id?(console.warn("The parentId for combo ".concat(i.id," can not be the same as the combo's id")),delete i.parentId):i.parentId&&!o[i.parentId]&&(console.warn("The parent combo for combo ".concat(i.id," does not exist!")),delete i.parentId);var a=r[i.id];if(a){if(i.children=a.children,r[i.id]=i,!(a=i).parentId)return void n.push(a);var s=r[a.parentId];if(s)s.children?s.children.push(i):s.children=[i];else{var u={id:a.parentId,children:[a]};r[a.parentId]=u,r[i.id]=i}}else if((0,vn.isString)(e.parentId)){var c=r[e.parentId];if(c)c.children?c.children.push(i):c.children=[i],r[i.id]=i;else{var l={id:e.parentId,children:[i]};r[l.id]=l,r[i.id]=i}}else n.push(i),r[i.id]=i}));var i={};(t||[]).forEach((function(e){i[e.id]=e;var t=r[e.comboId];if(t){var n={id:e.id,comboId:e.comboId};t.children?t.children.push(n):t.children=[n],n.itemType="node",r[e.id]=n}}));var a=0;return n.forEach((function(e){e.depth=a+10,fi(e,(function(e){var t,n=r[e.id].itemType;t="node"===n?r[e.comboId]:r[e.parentId],e.depth=t&&"node"===n?a+1:a+10,a<e.depth&&(a=e.depth);var o=i[e.id];return o&&(o.depth=e.depth),!0}))})),n},yi=function(e,t,n){var r,o,i=e,a={root:{children:e}},s=!1,u="root";(e||[]).forEach((function(e){if(!s)return e.id===t?(o=e,"combo"===e.itemType?o.parentId=n:o.comboId=n,void(s=!0)):void hi(e,(function(e){var r;return a[e.id]={children:(null===e||void 0===e?void 0:e.children)||[]},i=null===(r=a[e.parentId||e.comboId||"root"])||void 0===r?void 0:r.children,!e||!e.removed&&t!==e.id||!i||(u=e.parentId||e.comboId||"root",o=e,"combo"===e.itemType?o.parentId=n:o.comboId=n,s=!0,!1)}))}));var c=(i=null===(r=a[u])||void 0===r?void 0:r.children)?i.indexOf(o):-1;if(c>-1&&i.splice(c,1),s||(o={id:t,itemType:"node",comboId:n},a[t]={children:void 0}),t){var l=!1;if(n){var f=0;(e||[]).forEach((function(e){l||hi(e,(function(e){return n!==e.id||(l=!0,e.children?e.children.push(o):e.children=[o],f=e.depth,"node"===o.itemType?o.depth=f+2:o.depth=f+1,!1)}))}))}else n&&l||"node"===o.itemType||e.push(o);var d=o.depth;hi(o,(function(e){return"node"===e.itemType?d+=2:d+=1,e.depth=d,!0}))}return e},bi=function(e,t,n){var r={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};if(!e||0===e.length){var o=(null===n||void 0===n?void 0:n.getModel())||{},i=o.x,a=o.y;return{minX:i,minY:a,maxX:i,maxY:a,x:i,y:a,width:void 0,height:void 0}}return e.forEach((function(e){var n=t.findById(e.id);if(n&&n.isVisible()){n.set("bboxCanvasCache",void 0);var o=n.getCanvasBBox();o.x&&r.minX>o.minX&&(r.minX=o.minX),o.y&&r.minY>o.minY&&(r.minY=o.minY),o.x&&r.maxX<o.maxX&&(r.maxX=o.maxX),o.y&&r.maxY<o.maxY&&(r.maxY=o.maxY)}})),r.x=(r.minX+r.maxX)/2,r.y=(r.minY+r.maxY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,Object.keys(r).forEach((function(e){r[e]!==1/0&&r[e]!==-1/0||(r[e]=void 0)})),r},xi=function(e){var t=(0,vn.isNumber)(e.x)||(0,vn.isNumber)(e.y)||e.type||e.anchorPoints||e.size;return e.style&&(t=t||(0,vn.isNumber)(e.style.r)||(0,vn.isNumber)(e.style.width)||(0,vn.isNumber)(e.style.height)||(0,vn.isNumber)(e.style.rx)||(0,vn.isNumber)(e.style.ry)),t},wi=function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];if((0,vn.isObject)(r)&&!(0,vn.isArray)(r)){var o={};Object.keys(r).forEach((function(e){var t=r[e];("img"!==e||(0,vn.isString)(t))&&(o[e]=(0,vn.clone)(t))})),t[n]=o}else t[n]=(0,vn.clone)(r)})),t},Ei=function(e){if(!e)return console.error("G6 Error Tips: the data must be defined"),!1;var t=e.nodes,n=e.edges,r=e.combos,o=void 0===r?[]:r;if(!t&&!n){var i=!0;return hi(e,(function(e){return!!(0,vn.isString)(e.id)||(i=!1,!1)})),i}var a=(t||[]).find((function(e){return!(0,vn.isString)(e.id)}));if(a)return console.warn("G6 Warning Tips: missing 'id' property, or %c".concat(a.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1;var s=(t||[]).map((function(e){return e.id})),u=null===o||void 0===o?void 0:o.map((function(e){return e.id})),c=(0,gn.__spreadArray)((0,gn.__spreadArray)([],s,!0),u,!0),l=(n||[]).find((function(e){return!c.includes(e.source)||!c.includes(e.target)}));return!l||(console.warn("G6 Warning Tips: The source %c".concat(l.source,"%c or the target %c").concat(l.target,"%c of the edge do not exist in the nodes or combos."),"font-size: 20px; color: red;","","font-size: 20px; color: red;",""),!1)},_i=function(){function e(e){this.graph=e,this.destroyed=!1,this.modes=e.get("modes")||{default:[]},this.formatModes(),this.mode=e.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return e.prototype.formatModes=function(){var e=this.modes;(0,vn.each)(e,(function(e){(0,vn.each)(e,(function(t,n){(0,vn.isString)(t)&&(e[n]={type:t})}))}))},e.prototype.setBehaviors=function(e){var t,n=this.graph,r=this.modes[e],o=[];(0,vn.each)(r||[],(function(e){var r=bn.getBehavior(e.type||e);r&&(t=new r(e))&&(t.bind(n),o.push(t))})),this.currentBehaves=o},e.mergeBehaviors=function(e,t){return(0,vn.each)(t,(function(t){e.indexOf(t)<0&&((0,vn.isString)(t)&&(t={type:t}),e.push(t))})),e},e.filterBehaviors=function(e,t){var n=[];return e.forEach((function(e){var r="";r=(0,vn.isString)(e)?e:e.type,t.indexOf(r)<0&&n.push(e)})),n},e.prototype.setMode=function(e){var t=this.modes,n=this.graph,r=e;t[r]&&(n.emit("beforemodechange",{mode:e}),(0,vn.each)(this.currentBehaves,(function(e){e.delegate&&e.delegate.remove(),e.unbind(n)})),this.setBehaviors(r),n.emit("aftermodechange",{mode:e}),this.mode=e)},e.prototype.getMode=function(){return this.mode},e.prototype.manipulateBehaviors=function(t,n,r){var o,i=this;if(o=(0,vn.isArray)(t)?t:[t],(0,vn.isArray)(n))return(0,vn.each)(n,(function(t){i.modes[t]?i.modes[t]=r?e.mergeBehaviors(i.modes[t]||[],o):e.filterBehaviors(i.modes[t]||[],o):r&&(i.modes[t]=o)})),this;var a=n;return n||(a=this.mode),this.modes[a]||r&&(this.modes[a]=o),this.modes[a]=r?e.mergeBehaviors(this.modes[a]||[],o):e.filterBehaviors(this.modes[a]||[],o),this.formatModes(),this.setMode(this.mode),this},e.prototype.updateBehavior=function(e,t,n){(0,vn.isString)(e)&&(e={type:e});var r=[];if(n&&n!==this.mode&&"default"!==n){if(!(r=this.modes[n])||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;var o=r.length;for(a=0;a<o;a++){if((s=r[a]).type===e.type||s===e.type)return s===e.type&&(s={type:s}),Object.assign(s,t),r[a]=s,this;a===o-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(!(r=this.currentBehaves)||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var i=r.length,a=0;a<i;a++){var s;if((s=r[a]).type===e.type)return s.updateCfg(t),this;a===i-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},e.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},e}(),Si=_i,ki="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",Ti=new RegExp("([a-z])["+ki+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+ki+"]*,?["+ki+"]*)+)","ig"),Ci=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+ki+"]*,?["+ki+"]*","ig"),Mi=function(e){if(!e)return null;if((0,vn.isArray)(e))return e;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(e).replace(Ti,(function(r,o,i){var a=[],s=o.toLowerCase();if(i.replace(Ci,(function(e,t){t&&a.push(+t)})),"m"===s&&a.length>2&&(n.push([o].concat(a.splice(0,2))),s="l",o="m"===o?"l":"L"),"o"===s&&1===a.length&&n.push([o,a[0]]),"r"===s)n.push([o].concat(a));else for(;a.length>=t[s]&&(n.push([o].concat(a.splice(0,t[s]))),t[s]););return e})),n},Ni=function(e,t){for(var n=[],r=0,o=e.length;o-2*!t>r;r+=2){var i=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?o-4===r?i[3]={x:+e[0],y:+e[1]}:o-2===r&&(i[2]={x:+e[0],y:+e[1]},i[3]={x:+e[2],y:+e[3]}):i[0]={x:+e[o-2],y:+e[o-1]}:o-4===r?i[3]=i[2]:r||(i[0]={x:+e[r],y:+e[r+1]}),n.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return n},Ai=function(e,t,n,r,o){var i=[];if(null===o&&null===r&&(r=n),e=+e,t=+t,n=+n,r=+r,null!==o){var a=Math.PI/180,s=e+n*Math.cos(-r*a),u=e+n*Math.cos(-o*a);i=[["M",s,t+n*Math.sin(-r*a)],["A",n,n,0,+(o-r>180),0,u,t+n*Math.sin(-o*a)]]}else i=[["M",e,t],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return i},Pi=function(e){if(!(e=Mi(e))||!e.length)return[["M",0,0]];var t,n,r=[],o=0,i=0,a=0,s=0,u=0;"M"===e[0][0]&&(a=o=+e[0][1],s=i=+e[0][2],u++,r[0]=["M",o,i]);for(var c=3===e.length&&"M"===e[0][0]&&"R"===e[1][0].toUpperCase()&&"Z"===e[2][0].toUpperCase(),l=void 0,f=void 0,d=u,h=e.length;d<h;d++){if(r.push(l=[]),(t=(f=e[d])[0])!==t.toUpperCase())switch(l[0]=t.toUpperCase(),l[0]){case"A":l[1]=f[1],l[2]=f[2],l[3]=f[3],l[4]=f[4],l[5]=f[5],l[6]=+f[6]+o,l[7]=+f[7]+i;break;case"V":l[1]=+f[1]+i;break;case"H":l[1]=+f[1]+o;break;case"R":for(var p=2,g=(n=[o,i].concat(f.slice(1))).length;p<g;p++)n[p]=+n[p]+o,n[++p]=+n[p]+i;r.pop(),r=r.concat(Ni(n,c));break;case"O":r.pop(),(n=Ai(o,i,f[1],f[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(Ai(o,i,f[1],f[2],f[3])),l=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+f[1]+o,s=+f[2]+i;break;default:for(p=1,g=f.length;p<g;p++)l[p]=+f[p]+(p%2?o:i)}else if("R"===t)n=[o,i].concat(f.slice(1)),r.pop(),r=r.concat(Ni(n,c)),l=["R"].concat(f.slice(-2));else if("O"===t)r.pop(),(n=Ai(o,i,f[1],f[2])).push(n[0]),r=r.concat(n);else if("U"===t)r.pop(),r=r.concat(Ai(o,i,f[1],f[2],f[3])),l=["U"].concat(r[r.length-1].slice(-2));else for(var v=0,m=f.length;v<m;v++)l[v]=f[v];if("O"!==(t=t.toUpperCase()))switch(l[0]){case"Z":o=+a,i=+s;break;case"H":o=l[1];break;case"V":i=l[1];break;case"M":a=l[l.length-2],s=l[l.length-1];break;default:o=l[l.length-2],i=l[l.length-1]}}return r},Oi=function(e,t,n,r){return[e,t,n,r,n,r]},Ii=function(e,t,n,r,o,i){var a=1/3,s=2/3;return[a*e+s*n,a*t+s*r,a*o+s*n,a*i+s*r,o,i]},Di=function e(t,n,r,o,i,a,s,u,c,l){r===o&&(r+=1);var f,d,h,p,g,v=120*Math.PI/180,m=Math.PI/180*(+i||0),y=[],b=function(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}};if(l)d=l[0],h=l[1],p=l[2],g=l[3];else{t=(f=b(t,n,-m)).x,n=f.y,u=(f=b(u,c,-m)).x,c=f.y,t===u&&n===c&&(u+=1,c+=1);var x=(t-u)/2,w=(n-c)/2,E=x*x/(r*r)+w*w/(o*o);E>1&&(r*=E=Math.sqrt(E),o*=E);var _=r*r,S=o*o,k=(a===s?-1:1)*Math.sqrt(Math.abs((_*S-_*w*w-S*x*x)/(_*w*w+S*x*x)));p=k*r*w/o+(t+u)/2,g=k*-o*x/r+(n+c)/2,d=Math.asin(((n-g)/o).toFixed(9)),h=Math.asin(((c-g)/o).toFixed(9)),d=t<p?Math.PI-d:d,h=u<p?Math.PI-h:h,d<0&&(d=2*Math.PI+d),h<0&&(h=2*Math.PI+h),s&&d>h&&(d-=2*Math.PI),!s&&h>d&&(h-=2*Math.PI)}var T=h-d;if(Math.abs(T)>v){var C=h,M=u,N=c;h=d+v*(s&&h>d?1:-1),y=e(u=p+r*Math.cos(h),c=g+o*Math.sin(h),r,o,i,0,s,M,N,[h,C,p,g])}T=h-d;var A=Math.cos(d),P=Math.sin(d),O=Math.cos(h),I=Math.sin(h),D=Math.tan(T/4),R=4/3*r*D,L=4/3*o*D,j=[t,n],F=[t+R*P,n-L*A],B=[u+R*I,c-L*O],z=[u,c];if(F[0]=2*j[0]-F[0],F[1]=2*j[1]-F[1],l)return[F,B,z].concat(y);for(var G=[],V=0,U=(y=[F,B,z].concat(y).join().split(",")).length;V<U;V++)G[V]=V%2?b(y[V-1],y[V],m).y:b(y[V],y[V+1],m).x;return G},Ri=function(e,t){var n,r=Pi(e),o=t&&Pi(t),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],u=[],c="",l="",f=function(e,t,n){var r,o;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(Di.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*t.x-t.bx,o=2*t.y-t.by):(r=t.x,o=t.y),e=["C",r,o].concat(e.slice(1));break;case"T":"Q"===n||"T"===n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(Ii(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(Ii(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(Oi(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(Oi(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(Oi(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(Oi(t.x,t.y,t.X,t.Y))}return e},d=function(e,t){if(e[t].length>7){e[t].shift();for(var i=e[t];i.length;)s[t]="A",o&&(u[t]="A"),e.splice(t++,0,["C"].concat(i.splice(0,6)));e.splice(t,1),n=Math.max(r.length,o&&o.length||0)}},h=function(e,t,i,a,s){e&&t&&"M"===e[s][0]&&"M"!==t[s][0]&&(t.splice(s,0,["M",a.x,a.y]),i.bx=0,i.by=0,i.x=e[s][1],i.y=e[s][2],n=Math.max(r.length,o&&o.length||0))};n=Math.max(r.length,o&&o.length||0);for(var p=0;p<n;p++){r[p]&&(c=r[p][0]),"C"!==c&&(s[p]=c,p&&(l=s[p-1])),r[p]=f(r[p],i,l),"A"!==s[p]&&"C"===c&&(s[p]="C"),d(r,p),o&&(o[p]&&(c=o[p][0]),"C"!==c&&(u[p]=c,p&&(l=u[p-1])),o[p]=f(o[p],a,l),"A"!==u[p]&&"C"===c&&(u[p]="C"),d(o,p)),h(r,o,i,a,p),h(o,r,a,i,p);var g=r[p],v=o&&o[p],m=g.length,y=o&&v.length;i.x=g[m-2],i.y=g[m-1],i.bx=parseFloat(g[m-4])||i.x,i.by=parseFloat(g[m-3])||i.y,a.bx=o&&(parseFloat(v[y-4])||a.x),a.by=o&&(parseFloat(v[y-3])||a.y),a.x=o&&v[y-2],a.y=o&&v[y-1]}return o?[r,o]:r},Li=/,?([a-z]),?/gi,ji=function(e){return e.join(",").replace(Li,"$1")},Fi=function(e,t,n,r,o){return e*(e*(-3*t+9*n-9*r+3*o)+6*t-12*n+6*r)-3*t+3*n},Bi=function(e,t,n,r,o,i,a,s,u){null===u&&(u=1);for(var c=(u=u>1?1:u<0?0:u)/2,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,h=0;h<12;h++){var p=c*l[h]+c,g=Fi(p,e,n,o,a),v=Fi(p,t,r,i,s),m=g*g+v*v;d+=f[h]*Math.sqrt(m)}return c*d},zi=function(e,t,n,r,o,i,a,s){for(var u,c,l,f,d=[],h=[[],[]],p=0;p<2;++p)if(0===p?(c=6*e-12*n+6*o,u=-3*e+9*n-9*o+3*a,l=3*n-3*e):(c=6*t-12*r+6*i,u=-3*t+9*r-9*i+3*s,l=3*r-3*t),Math.abs(u)<1e-12){if(Math.abs(c)<1e-12)continue;(f=-l/c)>0&&f<1&&d.push(f)}else{var g=c*c-4*l*u,v=Math.sqrt(g);if(!(g<0)){var m=(-c+v)/(2*u);m>0&&m<1&&d.push(m);var y=(-c-v)/(2*u);y>0&&y<1&&d.push(y)}}for(var b,x=d.length,w=x;x--;)b=1-(f=d[x]),h[0][x]=b*b*b*e+3*b*b*f*n+3*b*f*f*o+f*f*f*a,h[1][x]=b*b*b*t+3*b*b*f*r+3*b*f*f*i+f*f*f*s;return h[0][w]=e,h[1][w]=t,h[0][w+1]=a,h[1][w+1]=s,h[0].length=h[1].length=w+2,{min:{x:Math.min.apply(0,h[0]),y:Math.min.apply(0,h[1])},max:{x:Math.max.apply(0,h[0]),y:Math.max.apply(0,h[1])}}},Gi=function(e,t,n,r,o,i,a,s){if(!(Math.max(e,n)<Math.min(o,a)||Math.min(e,n)>Math.max(o,a)||Math.max(t,r)<Math.min(i,s)||Math.min(t,r)>Math.max(i,s))){var u=(e-n)*(i-s)-(t-r)*(o-a);if(u){var c=((e*r-t*n)*(o-a)-(e-n)*(o*s-i*a))/u,l=((e*r-t*n)*(i-s)-(t-r)*(o*s-i*a))/u,f=+c.toFixed(2),d=+l.toFixed(2);if(!(f<+Math.min(e,n).toFixed(2)||f>+Math.max(e,n).toFixed(2)||f<+Math.min(o,a).toFixed(2)||f>+Math.max(o,a).toFixed(2)||d<+Math.min(t,r).toFixed(2)||d>+Math.max(t,r).toFixed(2)||d<+Math.min(i,s).toFixed(2)||d>+Math.max(i,s).toFixed(2)))return{x:c,y:l}}}},Vi=function(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height},Ui=function(e,t,n,r,o){if(o)return[["M",+e+ +o,t],["l",n-2*o,0],["a",o,o,0,0,1,o,o],["l",0,r-2*o],["a",o,o,0,0,1,-o,o],["l",2*o-n,0],["a",o,o,0,0,1,-o,-o],["l",0,2*o-r],["a",o,o,0,0,1,o,-o],["z"]];var i=[["M",e,t],["l",n,0],["l",0,r],["l",-n,0],["z"]];return i.parsePathArray=ji,i},Wi=function(e,t,n,r){return null===e&&(e=t=n=r=0),null===t&&(t=e.y,n=e.width,r=e.height,e=e.x),{x:e,y:t,width:n,w:n,height:r,h:r,x2:e+n,y2:t+r,cx:e+n/2,cy:t+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:Ui(e,t,n,r),vb:[e,t,n,r].join(" ")}},Zi=function(e,t,n,r,o,i,a,s){(0,vn.isArray)(e)||(e=[e,t,n,r,o,i,a,s]);var u=zi.apply(null,e);return Wi(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},Yi=function(e,t,n,r,o,i,a,s,u){var c=1-u,l=Math.pow(c,3),f=Math.pow(c,2),d=u*u,h=d*u,p=e+2*u*(n-e)+d*(o-2*n+e),g=t+2*u*(r-t)+d*(i-2*r+t),v=n+2*u*(o-n)+d*(a-2*o+n),m=r+2*u*(i-r)+d*(s-2*i+r);return{x:l*e+3*f*u*n+3*c*u*u*o+h*a,y:l*t+3*f*u*r+3*c*u*u*i+h*s,m:{x:p,y:g},n:{x:v,y:m},start:{x:c*e+u*n,y:c*t+u*r},end:{x:c*o+u*a,y:c*i+u*s},alpha:90-180*Math.atan2(p-v,g-m)/Math.PI}},Hi=function(e,t,n){if(!function(e,t){return e=Wi(e),t=Wi(t),Vi(t,e.x,e.y)||Vi(t,e.x2,e.y)||Vi(t,e.x,e.y2)||Vi(t,e.x2,e.y2)||Vi(e,t.x,t.y)||Vi(e,t.x2,t.y)||Vi(e,t.x,t.y2)||Vi(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}(Zi(e),Zi(t)))return n?0:[];for(var r=~~(Bi.apply(0,e)/8),o=~~(Bi.apply(0,t)/8),i=[],a=[],s={},u=n?0:[],c=0;c<r+1;c++){var l=Yi.apply(0,e.concat(c/r));i.push({x:l.x,y:l.y,t:c/r})}for(c=0;c<o+1;c++){l=Yi.apply(0,t.concat(c/o));a.push({x:l.x,y:l.y,t:c/o})}for(c=0;c<r;c++)for(var f=0;f<o;f++){var d=i[c],h=i[c+1],p=a[f],g=a[f+1],v=Math.abs(h.x-d.x)<.001?"y":"x",m=Math.abs(g.x-p.x)<.001?"y":"x",y=Gi(d.x,d.y,h.x,h.y,p.x,p.y,g.x,g.y);if(y){if(s[y.x.toFixed(4)]===y.y.toFixed(4))continue;s[y.x.toFixed(4)]=y.y.toFixed(4);var b=d.t+Math.abs((y[v]-d[v])/(h[v]-d[v]))*(h.t-d.t),x=p.t+Math.abs((y[m]-p[m])/(g[m]-p[m]))*(g.t-p.t);b>=0&&b<=1&&x>=0&&x<=1&&(n?u+=1:u.push({x:y.x,y:y.y,t1:b,t2:x}))}}return u},Xi=function(e,t){return function(e,t,n){var r,o,i,a,s,u,c,l,f,d;e=Ri(e),t=Ri(t);for(var h=n?0:[],p=0,g=e.length;p<g;p++){var v=e[p];if("M"===v[0])r=s=v[1],o=u=v[2];else{"C"===v[0]?(f=[r,o].concat(v.slice(1)),r=f[6],o=f[7]):(f=[r,o,r,o,s,u,s,u],r=s,o=u);for(var m=0,y=t.length;m<y;m++){var b=t[m];if("M"===b[0])i=c=b[1],a=l=b[2];else{"C"===b[0]?(d=[i,a].concat(b.slice(1)),i=d[6],a=d[7]):(d=[i,a,i,a,c,l,c,l],i=c,a=l);var x=Hi(f,d,n);if(n)h+=x;else{for(var w=0,E=x.length;w<E;w++)x[w].segment1=p,x[w].segment2=m,x[w].bez1=f,x[w].bez2=d;h=h.concat(x)}}}}}return h}(e,t)};function Ki(e,t){var n=[],r=[];return e.length&&function e(t,o){if(1===t.length)n.push(t[0]),r.push(t[0]);else{for(var i=[],a=0;a<t.length-1;a++)0===a&&n.push(t[0]),a===t.length-2&&r.push(t[a+1]),i[a]=[(1-o)*t[a][0]+o*t[a+1][0],(1-o)*t[a][1]+o*t[a+1][1]];e(i,o)}}(e,t),{left:n,right:r.reverse()}}var qi=function(e,t,n){if(1===n)return[[].concat(e)];var r=[];if("L"===t[0]||"C"===t[0]||"Q"===t[0])r=r.concat(function(e,t,n){var r=[[e[1],e[2]]];n=n||2;var o=[];"A"===t[0]?(r.push(t[6]),r.push(t[7])):"C"===t[0]?(r.push([t[1],t[2]]),r.push([t[3],t[4]]),r.push([t[5],t[6]])):"S"===t[0]||"Q"===t[0]?(r.push([t[1],t[2]]),r.push([t[3],t[4]])):r.push([t[1],t[2]]);for(var i=r,a=1/n,s=0;s<n-1;s++){var u=Ki(i,a/(1-a*s));o.push(u.left),i=u.right}return o.push(i),o.map((function(e){var t=[];return 4===e.length&&(t.push("C"),t=t.concat(e[2])),e.length>=3&&(3===e.length&&t.push("Q"),t=t.concat(e[1])),2===e.length&&t.push("L"),t.concat(e[e.length-1])}))}(e,t,n));else{var o=[].concat(e);"M"===o[0]&&(o[0]="L");for(var i=0;i<=n-1;i++)r.push(o)}return r},$i=function(e,t){if(1===e.length)return e;var n=e.length-1,r=t.length-1,o=n/r,i=[];if(1===e.length&&"M"===e[0][0]){for(var a=0;a<r-n;a++)e.push(e[0]);return e}for(a=0;a<r;a++){var s=Math.floor(o*a);i[s]=(i[s]||0)+1}var u=i.reduce((function(t,r,o){return o===n?t.concat(e[n]):t.concat(qi(e[o],e[o+1],r))}),[]);return u.unshift(e[0]),"Z"!==t[r]&&"z"!==t[r]||u.push("Z"),u},Ji=function(e,t){if(e.length!==t.length)return!1;var n=!0;return(0,vn.each)(e,(function(e,r){if(e!==t[r])return n=!1,!1})),n};function Qi(e,t,n){var r=null,o=n;return t<o&&(o=t,r="add"),e<o&&(o=e,r="del"),{type:r,min:o}}var ea=function(e,t){var n=function(e,t){var n,r,o=e.length,i=t.length,a=0;if(0===o||0===i)return null;for(var s=[],u=0;u<=o;u++)s[u]=[],s[u][0]={min:u};for(var c=0;c<=i;c++)s[0][c]={min:c};for(u=1;u<=o;u++)for(n=e[u-1],c=1;c<=i;c++){r=t[c-1],a=Ji(n,r)?0:1;var l=s[u-1][c].min+1,f=s[u][c-1].min+1,d=s[u-1][c-1].min+a;s[u][c]=Qi(l,f,d)}return s}(e,t),r=e.length,o=t.length,i=[],a=1,s=1;if(n[r][o].min!==r){for(var u=1;u<=r;u++){var c=n[u][u].min;s=u;for(var l=a;l<=o;l++)n[u][l].min<c&&(c=n[u][l].min,s=l);a=s,n[u][a].type&&i.push({index:u-1,type:n[u][a].type})}for(u=i.length-1;u>=0;u--)a=i[u].index,"add"===i[u].type?e.splice(a,0,[].concat(e[a])):e.splice(a,1)}var f=o-(r=e.length);if(r<o)for(u=0;u<f;u++)"z"===e[r-1][0]||"Z"===e[r-1][0]?e.splice(r-2,0,e[r-2]):e.push(e[r-1]),r+=1;return e};function ta(e,t,n){for(var r,o=[].concat(e),i=1/(n+1),a=na(t)[0],s=1;s<=n;s++)i*=s,0===(r=Math.floor(e.length*i))?o.unshift([a[0]*i+e[r][0]*(1-i),a[1]*i+e[r][1]*(1-i)]):o.splice(r,0,[a[0]*i+e[r][0]*(1-i),a[1]*i+e[r][1]*(1-i)]);return o}function na(e){var t=[];switch(e[0]){case"M":case"L":case"T":t.push([e[1],e[2]]);break;case"A":t.push([e[6],e[7]]);break;case"Q":case"S":t.push([e[3],e[4]]),t.push([e[1],e[2]]);break;case"C":t.push([e[5],e[6]]),t.push([e[1],e[2]]),t.push([e[3],e[4]]);break;case"H":case"V":t.push([e[1],e[1]])}return t}var ra=function(e,t){if(e.length<=1)return e;for(var n,r=0;r<t.length;r++)if(e[r][0]!==t[r][0])switch(n=na(e[r]),t[r][0]){case"M":e[r]=["M"].concat(n[0]);break;case"L":e[r]=["L"].concat(n[0]);break;case"A":e[r]=[].concat(t[r]),e[r][6]=n[0][0],e[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){e[r]=t[r];break}n=ta(n,e[r-1],1)}e[r]=["Q"].concat(n.reduce((function(e,t){return e.concat(t)}),[]));break;case"T":e[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){e[r]=t[r];break}n=ta(n,e[r-1],2)}e[r]=["C"].concat(n.reduce((function(e,t){return e.concat(t)}),[]));break;case"S":if(n.length<2){if(!(r>0)){e[r]=t[r];break}n=ta(n,e[r-1],1)}e[r]=["S"].concat(n.reduce((function(e,t){return e.concat(t)}),[]));break;default:e[r]=t[r]}return e},oa=function(){function e(e,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=e,this.name=e,this.originalEvent=t,this.timeStamp=t.timeStamp}return e.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e.prototype.toString=function(){return"[Event (type="+this.type+")]"},e.prototype.save=function(){},e.prototype.restore=function(){},e}(),ia=oa;function aa(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}var sa="undefined"!==typeof window&&"undefined"!==typeof window.document;function ua(e,t){if(e.isCanvas())return!0;for(var n=t.getParent(),r=!1;n;){if(n===e){r=!0;break}n=n.getParent()}return r}function ca(e){return e.cfg.visible&&e.cfg.capture}var la=function(e){function t(t){var n=e.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=(0,vn.mix)(r,t),n}return(0,gn.__extends)(t,e),t.prototype.getDefaultCfg=function(){return{}},t.prototype.get=function(e){return this.cfg[e]},t.prototype.set=function(e,t){this.cfg[e]=t},t.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},t}(En),fa=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},da=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},ha=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},pa=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},ga=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},va=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},ma=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,ya=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],ba=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function xa(e){return e?Ea(e):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new va:"undefined"!==typeof navigator?Ea(navigator.userAgent):"undefined"!==typeof process&&process.version?new ha(process.version.slice(1)):null}function wa(e){return""!==e&&ya.reduce((function(t,n){var r=n[0],o=n[1];if(t)return t;var i=o.exec(e);return!!i&&[r,i]}),!1)}function Ea(e){var t=wa(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new ga;var o=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);o?o.length<3&&(o=fa(fa([],o,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-o.length),!0)):o=[];var i=o.join("."),a=function(e){for(var t=0,n=ba.length;t<n;t++){var r=ba[t],o=r[0];if(r[1].exec(e))return o}return null}(e),s=ma.exec(e);return s&&s[1]?new pa(n,i,a,s[1]):new da(n,i,a)}function _a(e,t){var n=[],r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],d=t[0],h=t[1],p=t[2],g=t[3],v=t[4],m=t[5],y=t[6],b=t[7],x=t[8];return n[0]=d*r+h*a+p*c,n[1]=d*o+h*s+p*l,n[2]=d*i+h*u+p*f,n[3]=g*r+v*a+m*c,n[4]=g*o+v*s+m*l,n[5]=g*i+v*u+m*f,n[6]=y*r+b*a+x*c,n[7]=y*o+b*s+x*l,n[8]=y*i+b*u+x*f,n}function Sa(e,t){var n=[],r=t[0],o=t[1];return n[0]=e[0]*r+e[3]*o+e[6],n[1]=e[1]*r+e[4]*o+e[7],n}function ka(e){var t=[],n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=l*a-s*c,d=-l*i+s*u,h=c*i-a*u,p=n*f+r*d+o*h;return p?(p=1/p,t[0]=f*p,t[1]=(-l*r+o*c)*p,t[2]=(s*r-o*a)*p,t[3]=d*p,t[4]=(l*n-o*u)*p,t[5]=(-s*n+o*i)*p,t[6]=h*p,t[7]=(-c*n+r*u)*p,t[8]=(a*n-r*i)*p,t):null}var Ta=Mn,Ca="matrix",Ma=["zIndex","capture","visible","type"],Na=["repeat"];function Aa(e,t){var n={},r=t.attrs;for(var o in e)n[o]=r[o];return n}function Pa(e,t){var n={},r=t.attr();return(0,vn.each)(e,(function(e,t){-1!==Na.indexOf(t)||(0,vn.isEqual)(r[t],e)||(n[t]=e)})),n}function Oa(e,t){if(t.onFrame)return e;var n=t.startTime,r=t.delay,o=t.duration,i=Object.prototype.hasOwnProperty;return(0,vn.each)(e,(function(e){n+r<e.startTime+e.delay+e.duration&&o>e.delay&&(0,vn.each)(t.toAttrs,(function(t,n){i.call(e.toAttrs,n)&&(delete e.toAttrs[n],delete e.fromAttrs[n])}))})),e}var Ia=function(e){function t(t){var n=e.call(this,t)||this;n.attrs={};var r=n.getDefaultAttrs();return(0,vn.mix)(r,t.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return(0,gn.__extends)(t,e),t.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},t.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},t.prototype.onCanvasChange=function(e){},t.prototype.initAttrs=function(e){},t.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},t.prototype.isGroup=function(){return!1},t.prototype.getParent=function(){return this.get("parent")},t.prototype.getCanvas=function(){return this.get("canvas")},t.prototype.attr=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],o=t[1];if(!r)return this.attrs;if((0,vn.isObject)(r)){for(var i in r)this.setAttr(i,r[i]);return this.afterAttrsChange(r),this}return 2===t.length?(this.setAttr(r,o),this.afterAttrsChange(((e={})[r]=o,e)),this):this.attrs[r]},t.prototype.isClipped=function(e,t){var n=this.getClip();return n&&!n.isHit(e,t)},t.prototype.setAttr=function(e,t){var n=this.attrs[e];n!==t&&(this.attrs[e]=t,this.onAttrChange(e,t,n))},t.prototype.onAttrChange=function(e,t,n){"matrix"===e&&this.set("totalMatrix",null)},t.prototype.afterAttrsChange=function(e){if(this.cfg.isClipShape){var t=this.cfg.applyTo;t&&t.onCanvasChange("clip")}else this.onCanvasChange("attr")},t.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},t.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},t.prototype.setZIndex=function(e){this.set("zIndex",e);var t=this.getParent();return t&&t.sort(),this},t.prototype.toFront=function(){var e=this.getParent();if(e){var t=e.getChildren(),n=(this.get("el"),t.indexOf(this));t.splice(n,1),t.push(this),this.onCanvasChange("zIndex")}},t.prototype.toBack=function(){var e=this.getParent();if(e){var t=e.getChildren(),n=(this.get("el"),t.indexOf(this));t.splice(n,1),t.unshift(this),this.onCanvasChange("zIndex")}},t.prototype.remove=function(e){void 0===e&&(e=!0);var t=this.getParent();t?(aa(t.getChildren(),this),t.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),e&&this.destroy()},t.prototype.resetMatrix=function(){this.attr(Ca,this.getDefaultMatrix()),this.onCanvasChange("matrix")},t.prototype.getMatrix=function(){return this.attr(Ca)},t.prototype.setMatrix=function(e){this.attr(Ca,e),this.onCanvasChange("matrix")},t.prototype.getTotalMatrix=function(){var e=this.cfg.totalMatrix;if(!e){var t=this.attr("matrix"),n=this.cfg.parentMatrix;e=n&&t?_a(n,t):t||n,this.set("totalMatrix",e)}return e},t.prototype.applyMatrix=function(e){var t=this.attr("matrix"),n=null;n=e&&t?_a(e,t):t||e,this.set("totalMatrix",n),this.set("parentMatrix",e)},t.prototype.getDefaultMatrix=function(){return null},t.prototype.applyToMatrix=function(e){var t=this.attr("matrix");return t?Sa(t,e):e},t.prototype.invertFromMatrix=function(e){var t=this.attr("matrix");if(t){var n=ka(t);if(n)return Sa(n,e)}return e},t.prototype.setClip=function(e){var t=this.getCanvas(),n=null;if(e){var r=this.getShapeBase()[(0,vn.upperFirst)(e.type)];r&&(n=new r({type:e.type,isClipShape:!0,applyTo:this,attrs:e.attrs,canvas:t}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},t.prototype.getClip=function(){var e=this.cfg.clipShape;return e||null},t.prototype.clone=function(){var e=this,t=this.attrs,n={};(0,vn.each)(t,(function(e,r){(0,vn.isArray)(t[r])?n[r]=function(e){for(var t=[],n=0;n<e.length;n++)(0,vn.isArray)(e[n])?t.push([].concat(e[n])):t.push(e[n]);return t}(t[r]):n[r]=t[r]}));var r=new(0,this.constructor)({attrs:n});return(0,vn.each)(Ma,(function(t){r.set(t,e.get(t))})),r},t.prototype.destroy=function(){this.destroyed||(this.attrs={},e.prototype.destroy.call(this))},t.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},t.prototype.animate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var o,i,a,s,u,c=e[0],l=e[1],f=e[2],d=void 0===f?"easeLinear":f,h=e[3],p=void 0===h?vn.noop:h,g=e[4],v=void 0===g?0:g;(0,vn.isFunction)(c)?(o=c,c={}):(0,vn.isObject)(c)&&c.onFrame&&(o=c.onFrame,i=c.repeat),(0,vn.isObject)(l)?(l=(u=l).duration,d=u.easing||"easeLinear",v=u.delay||0,i=u.repeat||i||!1,p=u.callback||vn.noop,a=u.pauseCallback||vn.noop,s=u.resumeCallback||vn.noop):((0,vn.isNumber)(p)&&(v=p,p=null),(0,vn.isFunction)(d)?(p=d,d="easeLinear"):d=d||"easeLinear");var m=Pa(c,this),y={fromAttrs:Aa(m,this),toAttrs:m,duration:l,easing:d,repeat:i,callback:p,pauseCallback:a,resumeCallback:s,delay:v,startTime:n.getTime(),id:(0,vn.uniqueId)(),onFrame:o,pathFormatted:!1};r.length>0?r=Oa(r,y):n.addAnimator(this),r.push(y),this.set("animations",r),this.set("_pause",{isPaused:!1})}},t.prototype.stopAnimate=function(e){var t=this;void 0===e&&(e=!0);var n=this.get("animations");(0,vn.each)(n,(function(n){e&&(n.onFrame?t.attr(n.onFrame(1)):t.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},t.prototype.pauseAnimate=function(){var e=this.get("timeline"),t=this.get("animations"),n=e.getTime();return(0,vn.each)(t,(function(e){e._paused=!0,e._pauseTime=n,e.pauseCallback&&e.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},t.prototype.resumeAnimate=function(){var e=this.get("timeline").getTime(),t=this.get("animations"),n=this.get("_pause").pauseTime;return(0,vn.each)(t,(function(t){t.startTime=t.startTime+(e-n),t._paused=!1,t._pauseTime=null,t.resumeCallback&&t.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",t),this},t.prototype.emitDelegation=function(e,t){var n,r=this,o=t.propagationPath;this.getEvents();"mouseenter"===e?n=t.fromShape:"mouseleave"===e&&(n=t.toShape);for(var i=function(e){var i=o[e],s=i.get("name");if(s){if((i.isGroup()||i.isCanvas&&i.isCanvas())&&n&&ua(i,n))return"break";(0,vn.isArray)(s)?(0,vn.each)(s,(function(e){r.emitDelegateEvent(i,e,t)})):a.emitDelegateEvent(i,s,t)}},a=this,s=0;s<o.length;s++){if("break"===i(s))break}},t.prototype.emitDelegateEvent=function(e,t,n){var r=this.getEvents(),o=t+":"+n.type;(r[o]||r["*"])&&(n.name=o,n.currentTarget=e,n.delegateTarget=this,n.delegateObject=e.get("delegateObject"),this.emit(o,n))},t.prototype.translate=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var n=this.getMatrix(),r=Ta(n,[["t",e,t]]);return this.setMatrix(r),this},t.prototype.move=function(e,t){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(e-n,t-r),this},t.prototype.moveTo=function(e,t){return this.move(e,t)},t.prototype.scale=function(e,t){var n=this.getMatrix(),r=Ta(n,[["s",e,t||e]]);return this.setMatrix(r),this},t.prototype.rotate=function(e){var t=this.getMatrix(),n=Ta(t,[["r",e]]);return this.setMatrix(n),this},t.prototype.rotateAtStart=function(e){var t=this.attr(),n=t.x,r=t.y,o=this.getMatrix(),i=Ta(o,[["t",-n,-r],["r",e],["t",n,r]]);return this.setMatrix(i),this},t.prototype.rotateAtPoint=function(e,t,n){var r=this.getMatrix(),o=Ta(r,[["t",-e,-t],["r",n],["t",e,t]]);return this.setMatrix(o),this},t}(la),Da=Ia,Ra={};function La(e,t){if(e.set("canvas",t),e.isGroup()){var n=e.get("children");n.length&&n.forEach((function(e){La(e,t)}))}}function ja(e,t){if(e.set("timeline",t),e.isGroup()){var n=e.get("children");n.length&&n.forEach((function(e){ja(e,t)}))}}var Fa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,gn.__extends)(t,e),t.prototype.isCanvas=function(){return!1},t.prototype.getBBox=function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,o=[],i=[],a=this.getChildren().filter((function(e){return e.get("visible")&&(!e.isGroup()||e.isGroup()&&e.getChildren().length>0)}));return a.length>0?((0,vn.each)(a,(function(e){var t=e.getBBox();o.push(t.minX,t.maxX),i.push(t.minY,t.maxY)})),e=(0,vn.min)(o),t=(0,vn.max)(o),n=(0,vn.min)(i),r=(0,vn.max)(i)):(e=0,t=0,n=0,r=0),{x:e,y:n,minX:e,minY:n,maxX:t,maxY:r,width:t-e,height:r-n}},t.prototype.getCanvasBBox=function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,o=[],i=[],a=this.getChildren().filter((function(e){return e.get("visible")&&(!e.isGroup()||e.isGroup()&&e.getChildren().length>0)}));return a.length>0?((0,vn.each)(a,(function(e){var t=e.getCanvasBBox();o.push(t.minX,t.maxX),i.push(t.minY,t.maxY)})),e=(0,vn.min)(o),t=(0,vn.max)(o),n=(0,vn.min)(i),r=(0,vn.max)(i)):(e=0,t=0,n=0,r=0),{x:e,y:n,minX:e,minY:n,maxX:t,maxY:r,width:t-e,height:r-n}},t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.children=[],t},t.prototype.onAttrChange=function(t,n,r){if(e.prototype.onAttrChange.call(this,t,n,r),"matrix"===t){var o=this.getTotalMatrix();this._applyChildrenMarix(o)}},t.prototype.applyMatrix=function(t){var n=this.getTotalMatrix();e.prototype.applyMatrix.call(this,t);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},t.prototype._applyChildrenMarix=function(e){var t=this.getChildren();(0,vn.each)(t,(function(t){t.applyMatrix(e)}))},t.prototype.addShape=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],r=e[1];(0,vn.isObject)(n)?r=n:r.type=n;var o=Ra[r.type];o||(o=(0,vn.upperFirst)(r.type),Ra[r.type]=o);var i=this.getShapeBase(),a=new i[o](r);return this.add(a),a},t.prototype.addGroup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r=e[0],o=e[1];if((0,vn.isFunction)(r))n=new r(o||{parent:this});else{var i=r||{},a=this.getGroupBase();n=new a(i)}return this.add(n),n},t.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},t.prototype.getShape=function(e,t,n){if(!ca(this))return null;var r,o=this.getChildren();if(this.isCanvas())r=this._findShape(o,e,t,n);else{var i=[e,t,1];i=this.invertFromMatrix(i),this.isClipped(i[0],i[1])||(r=this._findShape(o,i[0],i[1],n))}return r},t.prototype._findShape=function(e,t,n,r){for(var o=null,i=e.length-1;i>=0;i--){var a=e[i];if(ca(a)&&(a.isGroup()?o=a.getShape(t,n,r):a.isHit(t,n)&&(o=a)),o)break}return o},t.prototype.add=function(e){var t=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),o=e.getParent();o&&function(e,t,n){void 0===n&&(n=!0),n?t.destroy():(t.set("parent",null),t.set("canvas",null)),aa(e.getChildren(),t)}(o,e,!1),e.set("parent",this),t&&La(e,t),r&&ja(e,r),n.push(e),e.onCanvasChange("add"),this._applyElementMatrix(e)},t.prototype._applyElementMatrix=function(e){var t=this.getTotalMatrix();t&&e.applyMatrix(t)},t.prototype.getChildren=function(){return this.get("children")},t.prototype.sort=function(){var e=this.getChildren();(0,vn.each)(e,(function(e,t){return e._INDEX=t,e})),e.sort(function(e){return function(t,n){var r=e(t,n);return 0===r?t._INDEX-n._INDEX:r}}((function(e,t){return e.get("zIndex")-t.get("zIndex")}))),this.onCanvasChange("sort")},t.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var e=this.getChildren(),t=e.length-1;t>=0;t--)e[t].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},t.prototype.destroy=function(){this.get("destroyed")||(this.clear(),e.prototype.destroy.call(this))},t.prototype.getFirst=function(){return this.getChildByIndex(0)},t.prototype.getLast=function(){var e=this.getChildren();return this.getChildByIndex(e.length-1)},t.prototype.getChildByIndex=function(e){return this.getChildren()[e]},t.prototype.getCount=function(){return this.getChildren().length},t.prototype.contain=function(e){return this.getChildren().indexOf(e)>-1},t.prototype.removeChild=function(e,t){void 0===t&&(t=!0),this.contain(e)&&e.remove(t)},t.prototype.findAll=function(e){var t=[],n=this.getChildren();return(0,vn.each)(n,(function(n){e(n)&&t.push(n),n.isGroup()&&(t=t.concat(n.findAll(e)))})),t},t.prototype.find=function(e){var t=null,n=this.getChildren();return(0,vn.each)(n,(function(n){if(e(n)?t=n:n.isGroup()&&(t=n.find(e)),t)return!1})),t},t.prototype.findById=function(e){return this.find((function(t){return t.get("id")===e}))},t.prototype.findByClassName=function(e){return this.find((function(t){return t.get("className")===e}))},t.prototype.findAllByName=function(e){return this.findAll((function(t){return t.get("name")===e}))},t}(Da),Ba=Fa,za=n(6212);function Ga(e){return+e}function Va(e){return e*e}function Ua(e){return e*(2-e)}function Wa(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function Za(e){return e*e*e}function Ya(e){return--e*e*e+1}function Ha(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Xa=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),Ka=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),qa=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),$a=Math.PI,Ja=$a/2;function Qa(e){return 1===+e?1:1-Math.cos(e*Ja)}function es(e){return Math.sin(e*Ja)}function ts(e){return(1-Math.cos($a*e))/2}function ns(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}function rs(e){return ns(1-+e)}function os(e){return 1-ns(e)}function is(e){return((e*=2)<=1?ns(1-e):2-ns(e-1))/2}function as(e){return 1-Math.sqrt(1-e*e)}function ss(e){return Math.sqrt(1- --e*e)}function us(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var cs=4/11,ls=7.5625;function fs(e){return 1-ds(1-e)}function ds(e){return(e=+e)<cs?ls*e*e:e<.7272727272727273?ls*(e-=.5454545454545454)*e+.75:e<.9090909090909091?ls*(e-=.8181818181818182)*e+.9375:ls*(e-=.9545454545454546)*e+.984375}function hs(e){return((e*=2)<=1?1-ds(1-e):ds(e-1)+1)/2}var ps=1.70158,gs=function e(t){function n(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,n.overshoot=e,n}(ps),vs=function e(t){function n(e){return--e*e*((e+1)*t+e)+1}return t=+t,n.overshoot=e,n}(ps),ms=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(ps),ys=2*Math.PI,bs=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=ys);function o(e){return t*ns(- --e)*Math.sin((r-e)/n)}return o.amplitude=function(t){return e(t,n*ys)},o.period=function(n){return e(t,n)},o}(1,.3),xs=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=ys);function o(e){return 1-t*ns(e=+e)*Math.sin((e+r)/n)}return o.amplitude=function(t){return e(t,n*ys)},o.period=function(n){return e(t,n)},o}(1,.3),ws=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=ys);function o(e){return((e=2*e-1)<0?t*ns(-e)*Math.sin((r-e)/n):2-t*ns(e)*Math.sin((r+e)/n))/2}return o.amplitude=function(t){return e(t,n*ys)},o.period=function(n){return e(t,n)},o}(1,.3);function Es(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function _s(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ss(){}var ks=.7,Ts=1/ks,Cs="\\s*([+-]?\\d+)\\s*",Ms="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ns="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",As=/^#([0-9a-f]{3,8})$/,Ps=new RegExp("^rgb\\("+[Cs,Cs,Cs]+"\\)$"),Os=new RegExp("^rgb\\("+[Ns,Ns,Ns]+"\\)$"),Is=new RegExp("^rgba\\("+[Cs,Cs,Cs,Ms]+"\\)$"),Ds=new RegExp("^rgba\\("+[Ns,Ns,Ns,Ms]+"\\)$"),Rs=new RegExp("^hsl\\("+[Ms,Ns,Ns]+"\\)$"),Ls=new RegExp("^hsla\\("+[Ms,Ns,Ns,Ms]+"\\)$"),js={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Fs(){return this.rgb().formatHex()}function Bs(){return this.rgb().formatRgb()}function zs(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=As.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Gs(t):3===n?new Zs(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Vs(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Vs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Ps.exec(e))?new Zs(t[1],t[2],t[3],1):(t=Os.exec(e))?new Zs(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Is.exec(e))?Vs(t[1],t[2],t[3],t[4]):(t=Ds.exec(e))?Vs(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Rs.exec(e))?Ks(t[1],t[2]/100,t[3]/100,1):(t=Ls.exec(e))?Ks(t[1],t[2]/100,t[3]/100,t[4]):js.hasOwnProperty(e)?Gs(js[e]):"transparent"===e?new Zs(NaN,NaN,NaN,0):null}function Gs(e){return new Zs(e>>16&255,e>>8&255,255&e,1)}function Vs(e,t,n,r){return r<=0&&(e=t=n=NaN),new Zs(e,t,n,r)}function Us(e){return e instanceof Ss||(e=zs(e)),e?new Zs((e=e.rgb()).r,e.g,e.b,e.opacity):new Zs}function Ws(e,t,n,r){return 1===arguments.length?Us(e):new Zs(e,t,n,null==r?1:r)}function Zs(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Ys(){return"#"+Xs(this.r)+Xs(this.g)+Xs(this.b)}function Hs(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Xs(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Ks(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new $s(e,t,n,r)}function qs(e){if(e instanceof $s)return new $s(e.h,e.s,e.l,e.opacity);if(e instanceof Ss||(e=zs(e)),!e)return new $s;if(e instanceof $s)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,u=(i+o)/2;return s?(a=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=u<.5?i+o:2-i-o,a*=60):s=u>0&&u<1?0:a,new $s(a,s,u,e.opacity)}function $s(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Js(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Qs(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}function eu(e){return function(){return e}}function tu(e,t){return function(n){return e+n*t}}function nu(e){return 1===(e=+e)?ru:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):eu(isNaN(t)?n:t)}}function ru(e,t){var n=t-e;return n?tu(e,n):eu(isNaN(e)?t:e)}Es(Ss,zs,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Fs,formatHex:Fs,formatHsl:function(){return qs(this).formatHsl()},formatRgb:Bs,toString:Bs}),Es(Zs,Ws,_s(Ss,{brighter:function(e){return e=null==e?Ts:Math.pow(Ts,e),new Zs(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?ks:Math.pow(ks,e),new Zs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ys,formatHex:Ys,formatRgb:Hs,toString:Hs})),Es($s,(function(e,t,n,r){return 1===arguments.length?qs(e):new $s(e,t,n,null==r?1:r)}),_s(Ss,{brighter:function(e){return e=null==e?Ts:Math.pow(Ts,e),new $s(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?ks:Math.pow(ks,e),new $s(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Zs(Js(e>=240?e-240:e+120,o,r),Js(e,o,r),Js(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var ou=function e(t){var n=nu(t);function r(e,t){var r=n((e=Ws(e)).r,(t=Ws(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=ru(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function iu(e){return function(t){var n,r,o=t.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=Ws(t[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=e(i),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=s(e),r+""}}}iu((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,s=r<t-1?e[r+2]:2*i-o;return Qs((n-r/t)*t,a,o,i,s)}})),iu((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return Qs((n-r/t)*t,o,i,a,s)}}));function au(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(i){for(n=0;n<r;++n)o[n]=e[n]*(1-i)+t[n]*i;return o}}function su(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function uu(e,t){return(su(t)?au:cu)(e,t)}function cu(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=vu(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}}function lu(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function fu(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function du(e,t){var n,r={},o={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=vu(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}var hu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pu=new RegExp(hu.source,"g");function gu(e,t){var n,r,o,i=hu.lastIndex=pu.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=hu.exec(e))&&(r=pu.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:fu(n,r)})),i=pu.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}function vu(e,t){var n,r=typeof t;return null==t||"boolean"===r?eu(t):("number"===r?fu:"string"===r?(n=zs(t))?(t=n,ou):gu:t instanceof zs?ou:t instanceof Date?lu:su(t)?au:Array.isArray(t)?cu:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?du:fu)(e,t)}var mu=[1,0,0,0,1,0,0,0,1];function yu(e,t,n){var r,o=t.startTime;if(n<o+t.delay||t._paused)return!1;var a=t.duration,s=t.easing;if(n=n-o-t.delay,t.repeat)r=n%a/a,r=i[s](r);else{if(!((r=n/a)<1))return t.onFrame?e.attr(t.onFrame(1)):e.attr(t.toAttrs),!0;r=i[s](r)}if(t.onFrame){var u=t.onFrame(r);e.attr(u)}else!function(e,t,n){var r={},o=t.fromAttrs,i=t.toAttrs;if(!e.destroyed){var a,s;for(var u in i)if(!(0,vn.isEqual)(o[u],i[u]))if("path"===u){var c=i[u],l=o[u];c.length>l.length?(c=Mi(i[u]),l=Mi(o[u]),l=ea(l,c),l=ra(l,c),t.fromAttrs.path=l,t.toAttrs.path=c):t.pathFormatted||(c=Mi(i[u]),l=Mi(o[u]),l=ra(l,c),t.fromAttrs.path=l,t.toAttrs.path=c,t.pathFormatted=!0),r[u]=[];for(var f=0;f<c.length;f++){for(var d=c[f],h=l[f],p=[],g=0;g<d.length;g++)(0,vn.isNumber)(d[g])&&h&&(0,vn.isNumber)(h[g])?(a=vu(h[g],d[g]),p.push(a(n))):p.push(d[g]);r[u].push(p)}}else if("matrix"===u){var v=uu(o[u]||mu,i[u]||mu)(n);r[u]=v}else["fill","stroke","fillStyle","strokeStyle"].includes(u)&&(s=i[u],/^[r,R,L,l]{1}[\s]*\(/.test(s))?r[u]=i[u]:(0,vn.isFunction)(i[u])||(a=vu(o[u],i[u]),r[u]=a(n));e.attr(r)}}(e,t,r);return!1}var bu=function(){function e(e){this.animators=[],this.current=0,this.timer=null,this.canvas=e}return e.prototype.initTimer=function(){var e,t,n,r=this;this.timer=za.HT((function(o){if(r.current=o,r.animators.length>0){for(var i=r.animators.length-1;i>=0;i--)if((e=r.animators[i]).destroyed)r.removeAnimator(i);else{if(!e.isAnimatePaused())for(var a=(t=e.get("animations")).length-1;a>=0;a--)n=t[a],yu(e,n,o)&&(t.splice(a,1),!1,n.callback&&n.callback());0===t.length&&r.removeAnimator(i)}r.canvas.get("autoDraw")||r.canvas.draw()}}))},e.prototype.addAnimator=function(e){this.animators.push(e)},e.prototype.removeAnimator=function(e){this.animators.splice(e,1)},e.prototype.isAnimating=function(){return!!this.animators.length},e.prototype.stop=function(){this.timer&&this.timer.stop()},e.prototype.stopAllAnimations=function(e){void 0===e&&(e=!0),this.animators.forEach((function(t){t.stopAnimate(e)})),this.animators=[],this.canvas.draw()},e.prototype.getTime=function(){return this.current},e}(),xu=bu,wu=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Eu(e,t,n){n.name=t,n.target=e,n.currentTarget=e,n.delegateTarget=e,e.emit(t,n)}function _u(e,t,n){if(n.bubbles){var r=void 0,o=!1;if("mouseenter"===t?(r=n.fromShape,o=!0):"mouseleave"===t&&(o=!0,r=n.toShape),e.isCanvas()&&o)return;if(r&&ua(e,r))return void(n.bubbles=!1);n.name=t,n.currentTarget=e,n.delegateTarget=e,e.emit(t,n)}}var Su=function(){function e(e){var t=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(e){var n=e.type;t._triggerEvent(n,e)},this._onDocumentMove=function(e){if(t.canvas.get("el")!==e.target&&(t.dragging||t.currentShape)){var n=t._getPointInfo(e);t.dragging&&t._emitEvent("drag",e,n,t.draggingShape)}},this._onDocumentMouseUp=function(e){if(t.canvas.get("el")!==e.target&&t.dragging){var n=t._getPointInfo(e);t.draggingShape&&t._emitEvent("drop",e,n,null),t._emitEvent("dragend",e,n,t.draggingShape),t._afterDrag(t.draggingShape,n,e)}},this.canvas=e.canvas}return e.prototype.init=function(){this._bindEvents()},e.prototype._bindEvents=function(){var e=this,t=this.canvas.get("el");(0,vn.each)(wu,(function(n){t.addEventListener(n,e._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._clearEvents=function(){var e=this,t=this.canvas.get("el");(0,vn.each)(wu,(function(n){t.removeEventListener(n,e._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._getEventObj=function(e,t,n,r,o,i){var a=new ia(e,t);return a.fromShape=o,a.toShape=i,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},e.prototype._getShape=function(e,t){return this.canvas.getShape(e.x,e.y,t)},e.prototype._getPointInfo=function(e){var t=this.canvas,n=t.getClientByEvent(e),r=t.getPointByEvent(e);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},e.prototype._triggerEvent=function(e,t){var n=this._getPointInfo(t),r=this._getShape(n,t),o=this["_on"+e],i=!1;if(o)o.call(this,n,r,t);else{var a=this.currentShape;"mouseenter"===e||"dragenter"===e||"mouseover"===e?(this._emitEvent(e,t,n,null,null,r),r&&this._emitEvent(e,t,n,r,null,r),"mouseenter"===e&&this.draggingShape&&this._emitEvent("dragenter",t,n,null)):"mouseleave"===e||"dragleave"===e||"mouseout"===e?(i=!0,a&&this._emitEvent(e,t,n,a,a,null),this._emitEvent(e,t,n,null,a,null),"mouseleave"===e&&this.draggingShape&&this._emitEvent("dragleave",t,n,null)):this._emitEvent(e,t,n,r,null,null)}if(i||(this.currentShape=r),r&&!r.get("destroyed")){var s=this.canvas;s.get("el").style.cursor=r.attr("cursor")||s.get("cursor")}},e.prototype._onmousedown=function(e,t,n){0===n.button&&(this.mousedownShape=t,this.mousedownPoint=e,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,e,t,null,null)},e.prototype._emitMouseoverEvents=function(e,t,n,r){var o=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",e,t,n,n,r),this._emitEvent("mouseleave",e,t,n,n,r),r&&!r.get("destroyed")||(o.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",e,t,r,n,r),this._emitEvent("mouseenter",e,t,r,n,r)))},e.prototype._emitDragoverEvents=function(e,t,n,r,o){r?(r!==n&&(n&&this._emitEvent("dragleave",e,t,n,n,r),this._emitEvent("dragenter",e,t,r,n,r)),o||this._emitEvent("dragover",e,t,r)):n&&this._emitEvent("dragleave",e,t,n,n,r),o&&this._emitEvent("dragover",e,t,r)},e.prototype._afterDrag=function(e,t,n){e&&(e.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(t,n);r!==e&&this._emitMouseoverEvents(n,t,e,r),this.currentShape=r},e.prototype._onmouseup=function(e,t,n){if(0===n.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,e,t),this._emitEvent("dragend",n,e,r),this._afterDrag(r,e,n)):(this._emitEvent("mouseup",n,e,t),t===this.mousedownShape&&this._emitEvent("click",n,e,t),this.mousedownShape=null,this.mousedownPoint=null)}},e.prototype._ondragover=function(e,t,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,e,r,t,!0)},e.prototype._onmousemove=function(e,t,n){var r=this.canvas,o=this.currentShape,i=this.draggingShape;if(this.dragging)i&&this._emitDragoverEvents(n,e,o,t,!1),this._emitEvent("drag",n,e,i);else{var a=this.mousedownPoint;if(a){var s=this.mousedownShape,u=n.timeStamp-this.mousedownTimeStamp,c=a.clientX-e.clientX,l=a.clientY-e.clientY;u>120||c*c+l*l>40?s&&s.get("draggable")?((i=this.mousedownShape).set("capture",!1),this.draggingShape=i,this.dragging=!0,this._emitEvent("dragstart",n,e,i),this.mousedownShape=null,this.mousedownPoint=null):!s&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,e,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,e,o,t),this._emitEvent("mousemove",n,e,t)):(this._emitMouseoverEvents(n,e,o,t),this._emitEvent("mousemove",n,e,t))}else this._emitMouseoverEvents(n,e,o,t),this._emitEvent("mousemove",n,e,t)}},e.prototype._emitEvent=function(e,t,n,r,o,i){var a=this._getEventObj(e,t,n,r,o,i);if(r){a.shape=r,Eu(r,e,a);for(var s=r.getParent();s;)s.emitDelegation(e,a),a.propagationStopped||_u(s,e,a),a.propagationPath.push(s),s=s.getParent()}else{Eu(this.canvas,e,a)}},e.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},e}(),ku=Su,Tu=xa(),Cu=Tu&&"firefox"===Tu.name,Mu=function(e){function t(t){var n=e.call(this,t)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return(0,gn.__extends)(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},t.prototype.initContainer=function(){var e=this.get("container");(0,vn.isString)(e)&&(e=document.getElementById(e),this.set("container",e))},t.prototype.initDom=function(){var e=this.createDom();this.set("el",e),this.get("container").appendChild(e),this.setDOMSize(this.get("width"),this.get("height"))},t.prototype.initEvents=function(){var e=new ku({canvas:this});e.init(),this.set("eventController",e)},t.prototype.initTimeline=function(){var e=new xu(this);this.set("timeline",e)},t.prototype.setDOMSize=function(e,t){var n=this.get("el");sa&&(n.style.width=e+"px",n.style.height=t+"px")},t.prototype.changeSize=function(e,t){this.setDOMSize(e,t),this.set("width",e),this.set("height",t),this.onCanvasChange("changeSize")},t.prototype.getRenderer=function(){return this.get("renderer")},t.prototype.getCursor=function(){return this.get("cursor")},t.prototype.setCursor=function(e){this.set("cursor",e);var t=this.get("el");sa&&t&&(t.style.cursor=e)},t.prototype.getPointByEvent=function(e){if(this.get("supportCSSTransform")){if(Cu&&!(0,vn.isNil)(e.layerX)&&e.layerX!==e.offsetX)return{x:e.layerX,y:e.layerY};if(!(0,vn.isNil)(e.offsetX))return{x:e.offsetX,y:e.offsetY}}var t=this.getClientByEvent(e),n=t.x,r=t.y;return this.getPointByClient(n,r)},t.prototype.getClientByEvent=function(e){var t=e;return e.touches&&(t="touchend"===e.type?e.changedTouches[0]:e.touches[0]),{x:t.clientX,y:t.clientY}},t.prototype.getPointByClient=function(e,t){var n=this.get("el").getBoundingClientRect();return{x:e-n.left,y:t-n.top}},t.prototype.getClientByPoint=function(e,t){var n=this.get("el").getBoundingClientRect();return{x:e+n.left,y:t+n.top}},t.prototype.draw=function(){},t.prototype.removeDom=function(){var e=this.get("el");e.parentNode.removeChild(e)},t.prototype.clearEvents=function(){this.get("eventController").destroy()},t.prototype.isCanvas=function(){return!0},t.prototype.getParent=function(){return null},t.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),e.prototype.destroy.call(this))},t}(Ba),Nu=Mu,Au=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,gn.__extends)(t,e),t.prototype.isGroup=function(){return!0},t.prototype.isEntityGroup=function(){return!1},t.prototype.clone=function(){for(var t=e.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var o=n[r];t.add(o.clone())}return t},t}(Ba),Pu=Au,Ou=function(e){function t(t){return e.call(this,t)||this}return(0,gn.__extends)(t,e),t.prototype._isInBBox=function(e,t){var n=this.getBBox();return n.minX<=e&&n.maxX>=e&&n.minY<=t&&n.maxY>=t},t.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},t.prototype.getBBox=function(){var e=this.cfg.bbox;return e||(e=this.calculateBBox(),this.set("bbox",e)),e},t.prototype.getCanvasBBox=function(){var e=this.cfg.canvasBBox;return e||(e=this.calculateCanvasBBox(),this.set("canvasBBox",e)),e},t.prototype.applyMatrix=function(t){e.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},t.prototype.calculateCanvasBBox=function(){var e=this.getBBox(),t=this.getTotalMatrix(),n=e.minX,r=e.minY,o=e.maxX,i=e.maxY;if(t){var a=Sa(t,[e.minX,e.minY]),s=Sa(t,[e.maxX,e.minY]),u=Sa(t,[e.minX,e.maxY]),c=Sa(t,[e.maxX,e.maxY]);n=Math.min(a[0],s[0],u[0],c[0]),o=Math.max(a[0],s[0],u[0],c[0]),r=Math.min(a[1],s[1],u[1],c[1]),i=Math.max(a[1],s[1],u[1],c[1])}var l=this.attrs;if(l.shadowColor){var f=l.shadowBlur,d=void 0===f?0:f,h=l.shadowOffsetX,p=void 0===h?0:h,g=l.shadowOffsetY,v=void 0===g?0:g,m=n-d+p,y=o+d+p,b=r-d+v,x=i+d+v;n=Math.min(n,m),o=Math.max(o,y),r=Math.min(r,b),i=Math.max(i,x)}return{x:n,y:r,minX:n,minY:r,maxX:o,maxY:i,width:o-n,height:i-r}},t.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},t.prototype.isClipShape=function(){return this.get("isClipShape")},t.prototype.isInShape=function(e,t){return!1},t.prototype.isOnlyHitBox=function(){return!1},t.prototype.isHit=function(e,t){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),o=[e,t,1],i=(o=this.invertFromMatrix(o))[0],a=o[1],s=this._isInBBox(i,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(i,a)){if(this.isInShape(i,a))return!0;if(n&&n.isHit(i,a))return!0;if(r&&r.isHit(i,a))return!0}return!1},t}(Da),Iu=Ou,Du=new Map;function Ru(e,t){Du.set(e,t)}function Lu(e){return Du.get(e)}function ju(e){var t=e.attr();return{x:t.x,y:t.y,width:t.width,height:t.height}}function Fu(e){var t=e.attr(),n=t.x,r=t.y,o=t.r;return{x:n-o,y:r-o,width:2*o,height:2*o}}function Bu(e){return Math.min.apply(null,e)}function zu(e){return Math.max.apply(null,e)}function Gu(e,t,n,r){var o=e-n,i=t-r;return Math.sqrt(o*o+i*i)}function Vu(e,t){return Math.abs(e-t)<.001}function Uu(e,t){var n=Bu(e),r=Bu(t);return{x:n,y:r,width:zu(e)-n,height:zu(t)-r}}function Wu(e){return(e+2*Math.PI)%(2*Math.PI)}var Zu={box:function(e,t,n,r){return Uu([e,n],[t,r])},length:function(e,t,n,r){return Gu(e,t,n,r)},pointAt:function(e,t,n,r,o){return{x:(1-o)*e+o*n,y:(1-o)*t+o*r}},pointDistance:function(e,t,n,r,o,i){var a=(n-e)*(o-e)+(r-t)*(i-t);return a<0?Gu(e,t,o,i):a>(n-e)*(n-e)+(r-t)*(r-t)?Gu(n,r,o,i):this.pointToLine(e,t,n,r,o,i)},pointToLine:function(e,t,n,r,o,i){var a=[n-e,r-t];if(uo(a,[0,0]))return Math.sqrt((o-e)*(o-e)+(i-t)*(i-t));var s=[-a[1],a[0]];ao(s,s);var u=[o-e,i-t];return Math.abs(so(u,s))},tangentAngle:function(e,t,n,r){return Math.atan2(r-t,n-e)}};function Yu(e,t,n,r,o,i){var a,s=1/0,u=[n,r],c=20;i&&i>200&&(c=i/10);for(var l=1/c,f=l/10,d=0;d<=c;d++){var h=d*l,p=[o.apply(null,e.concat([h])),o.apply(null,t.concat([h]))];(y=Gu(u[0],u[1],p[0],p[1]))<s&&(a=h,s=y)}if(0===a)return{x:e[0],y:t[0]};if(1===a){var g=e.length;return{x:e[g-1],y:t[g-1]}}s=1/0;for(d=0;d<32&&!(f<1e-4);d++){var v=a-f,m=a+f,y=(p=[o.apply(null,e.concat([v])),o.apply(null,t.concat([v]))],Gu(u[0],u[1],p[0],p[1]));if(v>=0&&y<s)a=v,s=y;else{var b=[o.apply(null,e.concat([m])),o.apply(null,t.concat([m]))],x=Gu(u[0],u[1],b[0],b[1]);m<=1&&x<s?(a=m,s=x):f*=.5}}return{x:o.apply(null,e.concat([a])),y:o.apply(null,t.concat([a]))}}function Hu(e,t,n,r){var o=1-r;return o*o*e+2*r*o*t+r*r*n}function Xu(e,t,n){var r=e+n-2*t;if(Vu(r,0))return[.5];var o=(e-t)/r;return o<=1&&o>=0?[o]:[]}function Ku(e,t,n,r){return 2*(1-r)*(t-e)+2*r*(n-t)}function qu(e,t,n,r,o,i,a){var s=Hu(e,n,o,a),u=Hu(t,r,i,a),c=Zu.pointAt(e,t,n,r,a),l=Zu.pointAt(n,r,o,i,a);return[[e,t,c.x,c.y,s,u],[s,u,l.x,l.y,o,i]]}function $u(e,t,n,r,o,i,a){if(0===a)return(Gu(e,t,n,r)+Gu(n,r,o,i)+Gu(e,t,o,i))/2;var s=qu(e,t,n,r,o,i,.5),u=s[0],c=s[1];return u.push(a-1),c.push(a-1),$u.apply(null,u)+$u.apply(null,c)}var Ju={box:function(e,t,n,r,o,i){var a=Xu(e,n,o)[0],s=Xu(t,r,i)[0],u=[e,o],c=[t,i];return void 0!==a&&u.push(Hu(e,n,o,a)),void 0!==s&&c.push(Hu(t,r,i,s)),Uu(u,c)},length:function(e,t,n,r,o,i){return $u(e,t,n,r,o,i,3)},nearestPoint:function(e,t,n,r,o,i,a,s){return Yu([e,n,o],[t,r,i],a,s,Hu)},pointDistance:function(e,t,n,r,o,i,a,s){var u=this.nearestPoint(e,t,n,r,o,i,a,s);return Gu(u.x,u.y,a,s)},interpolationAt:Hu,pointAt:function(e,t,n,r,o,i,a){return{x:Hu(e,n,o,a),y:Hu(t,r,i,a)}},divide:function(e,t,n,r,o,i,a){return qu(e,t,n,r,o,i,a)},tangentAngle:function(e,t,n,r,o,i,a){var s=Ku(e,n,o,a),u=Ku(t,r,i,a);return Wu(Math.atan2(u,s))}};function Qu(e,t,n,r,o){var i=1-o;return i*i*i*e+3*t*o*i*i+3*n*o*o*i+r*o*o*o}function ec(e,t,n,r,o){var i=1-o;return 3*(i*i*(t-e)+2*i*o*(n-t)+o*o*(r-n))}function tc(e,t,n,r){var o,i,a,s=-3*e+9*t-9*n+3*r,u=6*e-12*t+6*n,c=3*t-3*e,l=[];if(Vu(s,0))Vu(u,0)||(o=-c/u)>=0&&o<=1&&l.push(o);else{var f=u*u-4*s*c;Vu(f,0)?l.push(-u/(2*s)):f>0&&(i=(-u-(a=Math.sqrt(f)))/(2*s),(o=(-u+a)/(2*s))>=0&&o<=1&&l.push(o),i>=0&&i<=1&&l.push(i))}return l}function nc(e,t,n,r,o,i,a,s,u){var c=Qu(e,n,o,a,u),l=Qu(t,r,i,s,u),f=Zu.pointAt(e,t,n,r,u),d=Zu.pointAt(n,r,o,i,u),h=Zu.pointAt(o,i,a,s,u),p=Zu.pointAt(f.x,f.y,d.x,d.y,u),g=Zu.pointAt(d.x,d.y,h.x,h.y,u);return[[e,t,f.x,f.y,p.x,p.y,c,l],[c,l,g.x,g.y,h.x,h.y,a,s]]}function rc(e,t,n,r,o,i,a,s,u){if(0===u)return function(e,t){for(var n=0,r=e.length,o=0;o<r;o++)n+=Gu(e[o],t[o],e[(o+1)%r],t[(o+1)%r]);return n/2}([e,n,o,a],[t,r,i,s]);var c=nc(e,t,n,r,o,i,a,s,.5),l=c[0],f=c[1];return l.push(u-1),f.push(u-1),rc.apply(null,l)+rc.apply(null,f)}var oc={extrema:tc,box:function(e,t,n,r,o,i,a,s){for(var u=[e,a],c=[t,s],l=tc(e,n,o,a),f=tc(t,r,i,s),d=0;d<l.length;d++)u.push(Qu(e,n,o,a,l[d]));for(d=0;d<f.length;d++)c.push(Qu(t,r,i,s,f[d]));return Uu(u,c)},length:function(e,t,n,r,o,i,a,s){return rc(e,t,n,r,o,i,a,s,3)},nearestPoint:function(e,t,n,r,o,i,a,s,u,c,l){return Yu([e,n,o,a],[t,r,i,s],u,c,Qu,l)},pointDistance:function(e,t,n,r,o,i,a,s,u,c,l){var f=this.nearestPoint(e,t,n,r,o,i,a,s,u,c,l);return Gu(f.x,f.y,u,c)},interpolationAt:Qu,pointAt:function(e,t,n,r,o,i,a,s,u){return{x:Qu(e,n,o,a,u),y:Qu(t,r,i,s,u)}},divide:function(e,t,n,r,o,i,a,s,u){return nc(e,t,n,r,o,i,a,s,u)},tangentAngle:function(e,t,n,r,o,i,a,s,u){var c=ec(e,n,o,a,u),l=ec(t,r,i,s,u);return Wu(Math.atan2(l,c))}};function ic(e,t,n,r,o,i){return n*Math.cos(o)*Math.cos(i)-r*Math.sin(o)*Math.sin(i)+e}function ac(e,t,n,r,o,i){return n*Math.sin(o)*Math.cos(i)+r*Math.cos(o)*Math.sin(i)+t}var sc=function(e,t,n,r,o,i,a){for(var s=function(e,t,n){return Math.atan(-t/e*Math.tan(n))}(n,r,o),u=1/0,c=-1/0,l=[i,a],f=2*-Math.PI;f<=2*Math.PI;f+=Math.PI){var d=s+f;i<a?i<d&&d<a&&l.push(d):a<d&&d<i&&l.push(d)}for(f=0;f<l.length;f++){var h=ic(e,0,n,r,o,l[f]);h<u&&(u=h),h>c&&(c=h)}var p=function(e,t,n){return Math.atan(t/(e*Math.tan(n)))}(n,r,o),g=1/0,v=-1/0,m=[i,a];for(f=2*-Math.PI;f<=2*Math.PI;f+=Math.PI){var y=p+f;i<a?i<y&&y<a&&m.push(y):a<y&&y<i&&m.push(y)}for(f=0;f<m.length;f++){var b=ac(0,t,n,r,o,m[f]);b<g&&(g=b),b>v&&(v=b)}return{x:u,y:g,width:c-u,height:v-g}};function uc(e){if(e.length<2)return 0;for(var t=0,n=0;n<e.length-1;n++){var r=e[n],o=e[n+1];t+=Gu(r[0],r[1],o[0],o[1])}return t}var cc=function(e){return uc(e)};function lc(e,t){return e&&t?{minX:Math.min(e.minX,t.minX),minY:Math.min(e.minY,t.minY),maxX:Math.max(e.maxX,t.maxX),maxY:Math.max(e.maxY,t.maxY)}:e||t}function fc(e,t){var n=e.get("startArrowShape"),r=e.get("endArrowShape");return n&&(t=lc(t,n.getCanvasBBox())),r&&(t=lc(t,r.getCanvasBBox())),t}var dc=null;function hc(){if(!dc){var e=document.createElement("canvas");e.width=1,e.height=1,dc=e.getContext("2d")}return dc}function pc(e,t,n){var r=1;if((0,vn.isString)(e)&&(r=e.split("\n").length),r>1){var o=function(e,t){return t?t-e:.14*e}(t,n);return t*r+o*(r-1)}return t}function gc(e){var t=e.fontSize,n=e.fontFamily,r=e.fontWeight;return[e.fontStyle,e.fontVariant,r,t+"px",n].join(" ").trim()}var vc=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,mc=/[^\s\,]+/gi;var yc=function(e){var t=e||[];return(0,vn.isArray)(t)?t:(0,vn.isString)(t)?(t=t.match(vc),(0,vn.each)(t,(function(e,n){if((e=e.match(mc))[0].length>1){var r=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=r}(0,vn.each)(e,(function(t,n){isNaN(t)||(e[n]=+t)})),t[n]=e})),t):void 0};var bc=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=[[0,0],[1,1]]);for(var r=!!t,o=[],i=0,a=e.length;i<a;i+=2)o.push([e[i],e[i+1]]);var s,u,c,l=function(e,t,n,r){var o,i,a,s,u,c,l,f=[],d=!!r;if(d){a=r[0],s=r[1];for(var h=0,p=e.length;h<p;h+=1)a=no([0,0],a,v=e[h]),s=ro([0,0],s,v)}h=0;for(var g=e.length;h<g;h+=1){var v=e[h];if(0!==h||n)if(h!==g-1||n){o=e[[h?h-1:g-1,h-1][n?0:1]],i=e[n?(h+1)%g:h+1];var m=[0,0];m=oo(m=co(m,i,o),m,t);var y=io(v,o),b=io(v,i),x=y+b;0!==x&&(y/=x,b/=x);var w=oo([0,0],m,-y),E=oo([0,0],m,b);c=to([0,0],v,w),u=no([0,0],u=to([0,0],v,E),ro([0,0],i,v)),u=ro([0,0],u,no([0,0],i,v)),c=no([0,0],c=to([0,0],v,w=oo([0,0],w=co([0,0],u,v),-y/b)),ro([0,0],o,v)),c=ro([0,0],c,no([0,0],o,v)),u=to([0,0],v,E=oo([0,0],E=co([0,0],v,c),b/y)),d&&(c=no([0,0],c=ro([0,0],c,a),s),u=no([0,0],u=ro([0,0],u,a),s)),f.push(l),f.push(c),l=u}else c=v,f.push(l),f.push(c);else l=v}return n&&f.push(f.shift()),f}(o,.4,r,n),f=o.length,d=[];for(i=0;i<f-1;i+=1)s=l[2*i],u=l[2*i+1],c=o[i+1],d.push(["C",s[0],s[1],u[0],u[1],c[0],c[1]]);return r&&(s=l[f],u=l[f+1],c=o[0],d.push(["C",s[0],s[1],u[0],u[1],c[0],c[1]])),d};var xc=new RegExp("([a-z])[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)","ig"),wc=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*","ig");function Ec(e){if(!e)return null;if((0,vn.isArray)(e))return e;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(e).replace(xc,(function(e,r,o){var i=[],a=r.toLowerCase();if(o.replace(wc,(function(e,t){t&&i.push(+t)})),"m"===a&&i.length>2&&(n.push([r].concat(i.splice(0,2))),a="l",r="m"===r?"l":"L"),"o"===a&&1===i.length&&n.push([r,i[0]]),"r"===a)n.push([r].concat(i));else for(;i.length>=t[a]&&(n.push([r].concat(i.splice(0,t[a]))),t[a]););return""})),n}var _c=/[a-z]/;function Sc(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}function kc(e){var t=Ec(e);if(!t||!t.length)return[["M",0,0]];for(var n=!1,r=0;r<t.length;r++){var o=t[r][0];if(_c.test(o)||["V","H","T","S"].indexOf(o)>=0){n=!0;break}}if(!n)return t;var i=[],a=0,s=0,u=0,c=0,l=0,f=t[0];"M"!==f[0]&&"m"!==f[0]||(u=a=+f[1],c=s=+f[2],l++,i[0]=["M",a,s]);r=l;for(var d=t.length;r<d;r++){var h=t[r],p=i[r-1],g=[],v=(o=h[0]).toUpperCase();if(o!==v)switch(g[0]=v,v){case"A":g[1]=h[1],g[2]=h[2],g[3]=h[3],g[4]=h[4],g[5]=h[5],g[6]=+h[6]+a,g[7]=+h[7]+s;break;case"V":g[1]=+h[1]+s;break;case"H":g[1]=+h[1]+a;break;case"M":u=+h[1]+a,c=+h[2]+s,g[1]=u,g[2]=c;break;default:for(var m=1,y=h.length;m<y;m++)g[m]=+h[m]+(m%2?a:s)}else g=t[r];switch(v){case"Z":a=+u,s=+c;break;case"H":g=["L",a=g[1],s];break;case"V":g=["L",a,s=g[1]];break;case"T":a=g[1],s=g[2];var b=Sc([p[1],p[2]],[p[3],p[4]]);g=["Q",b[0],b[1],a,s];break;case"S":a=g[g.length-2],s=g[g.length-1];var x=p.length,w=Sc([p[x-4],p[x-3]],[p[x-2],p[x-1]]);g=["C",w[0],w[1],g[1],g[2],a,s];break;case"M":u=g[g.length-2],c=g[g.length-1];break;default:a=g[g.length-2],s=g[g.length-1]}i.push(g)}return i}Math.PI;function Tc(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Cc(e,t){return Tc(e)*Tc(t)?(e[0]*t[0]+e[1]*t[1])/(Tc(e)*Tc(t)):1}function Mc(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(Cc(e,t))}function Nc(e,t){return e[0]===t[0]&&e[1]===t[1]}function Ac(e,t){var n=t[1],r=t[2],o=(0,vn.mod)((0,vn.toRadian)(t[3]),2*Math.PI),i=t[4],a=t[5],s=e[0],u=e[1],c=t[6],l=t[7],f=Math.cos(o)*(s-c)/2+Math.sin(o)*(u-l)/2,d=-1*Math.sin(o)*(s-c)/2+Math.cos(o)*(u-l)/2,h=f*f/(n*n)+d*d/(r*r);h>1&&(n*=Math.sqrt(h),r*=Math.sqrt(h));var p=n*n*(d*d)+r*r*(f*f),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;i===a&&(g*=-1),isNaN(g)&&(g=0);var v=r?g*n*d/r:0,m=n?g*-r*f/n:0,y=(s+c)/2+Math.cos(o)*v-Math.sin(o)*m,b=(u+l)/2+Math.sin(o)*v+Math.cos(o)*m,x=[(f-v)/n,(d-m)/r],w=[(-1*f-v)/n,(-1*d-m)/r],E=Mc([1,0],x),_=Mc(x,w);return Cc(x,w)<=-1&&(_=Math.PI),Cc(x,w)>=1&&(_=0),0===a&&_>0&&(_-=2*Math.PI),1===a&&_<0&&(_+=2*Math.PI),{cx:y,cy:b,rx:Nc(e,[c,l])?0:n,ry:Nc(e,[c,l])?0:r,startAngle:E,endAngle:E+_,xRotation:o,arcFlag:i,sweepFlag:a}}function Pc(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}function Oc(e){for(var t=[],n=null,r=null,o=null,i=0,a=(e=yc(e)).length,s=0;s<a;s++){var u=e[s];r=e[s+1];var c=u[0],l={command:c,prePoint:n,params:u,startTangent:null,endTangent:null};switch(c){case"M":o=[u[1],u[2]],i=s;break;case"A":var f=Ac(n,u);l.arcParams=f}if("Z"===c)n=o,r=e[i+1];else{var d=u.length;n=[u[d-2],u[d-1]]}r&&"Z"===r[0]&&(r=e[i],t[i]&&(t[i].prePoint=n)),l.currentPoint=n,t[i]&&Nc(n,t[i].currentPoint)&&(t[i].prePoint=l.prePoint);var h=r?[r[r.length-2],r[r.length-1]]:null;l.nextPoint=h;var p=l.prePoint;if(["L","H","V"].includes(c))l.startTangent=[p[0]-n[0],p[1]-n[1]],l.endTangent=[n[0]-p[0],n[1]-p[1]];else if("Q"===c){var g=[u[1],u[2]];l.startTangent=[p[0]-g[0],p[1]-g[1]],l.endTangent=[n[0]-g[0],n[1]-g[1]]}else if("T"===c){g=Pc((y=t[s-1]).currentPoint,p);"Q"===y.command?(l.command="Q",l.startTangent=[p[0]-g[0],p[1]-g[1]],l.endTangent=[n[0]-g[0],n[1]-g[1]]):(l.command="TL",l.startTangent=[p[0]-n[0],p[1]-n[1]],l.endTangent=[n[0]-p[0],n[1]-p[1]])}else if("C"===c){var v=[u[1],u[2]],m=[u[3],u[4]];l.startTangent=[p[0]-v[0],p[1]-v[1]],l.endTangent=[n[0]-m[0],n[1]-m[1]],0===l.startTangent[0]&&0===l.startTangent[1]&&(l.startTangent=[v[0]-m[0],v[1]-m[1]]),0===l.endTangent[0]&&0===l.endTangent[1]&&(l.endTangent=[m[0]-v[0],m[1]-v[1]])}else if("S"===c){var y;v=Pc((y=t[s-1]).currentPoint,p),m=[u[1],u[2]];"C"===y.command?(l.command="C",l.startTangent=[p[0]-v[0],p[1]-v[1]],l.endTangent=[n[0]-m[0],n[1]-m[1]]):(l.command="SQ",l.startTangent=[p[0]-m[0],p[1]-m[1]],l.endTangent=[n[0]-m[0],n[1]-m[1]])}else if("A"===c){var b=.001,x=l.arcParams||{},w=x.cx,E=void 0===w?0:w,_=x.cy,S=void 0===_?0:_,k=x.rx,T=void 0===k?0:k,C=x.ry,M=void 0===C?0:C,N=x.sweepFlag,A=void 0===N?0:N,P=x.startAngle,O=void 0===P?0:P,I=x.endAngle,D=void 0===I?0:I;0===A&&(b*=-1);var R=T*Math.cos(O-b)+E,L=M*Math.sin(O-b)+S;l.startTangent=[R-o[0],L-o[1]];var j=T*Math.cos(O+D+b)+E,F=M*Math.sin(O+D-b)+S;l.endTangent=[p[0]-j,p[1]-F]}t.push(l)}return t}function Ic(e,t){var n=e.prePoint,r=e.currentPoint,o=e.nextPoint,i=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2),s=Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2),u=Math.acos((i+a-s)/(2*Math.sqrt(i)*Math.sqrt(a)));if(!u||0===Math.sin(u)||(0,vn.isNumberEqual)(u,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(o[1]-r[1],o[0]-r[0])),l=Math.abs(Math.atan2(o[0]-r[0],o[1]-r[1]));return c=c>Math.PI/2?Math.PI-c:c,l=l>Math.PI/2?Math.PI-l:l,{xExtra:Math.cos(u/2-c)*(t/2*(1/Math.sin(u/2)))-t/2||0,yExtra:Math.cos(l-u/2)*(t/2*(1/Math.sin(u/2)))-t/2||0}}Ru("rect",ju),Ru("image",ju),Ru("circle",Fu),Ru("marker",Fu),Ru("polyline",(function(e){for(var t=e.attr().points,n=[],r=[],o=0;o<t.length;o++){var i=t[o];n.push(i[0]),r.push(i[1])}var a=Uu(n,r),s=a.x,u=a.y,c={minX:s,minY:u,maxX:s+a.width,maxY:u+a.height};return{x:(c=fc(e,c)).minX,y:c.minY,width:c.maxX-c.minX,height:c.maxY-c.minY}})),Ru("polygon",(function(e){for(var t=e.attr().points,n=[],r=[],o=0;o<t.length;o++){var i=t[o];n.push(i[0]),r.push(i[1])}return Uu(n,r)})),Ru("text",(function(e){var t=e.attr(),n=t.x,r=t.y,o=t.text,i=t.fontSize,a=t.lineHeight,s=t.font;s||(s=gc(t));var u,c=function(e,t){var n=hc(),r=0;if((0,vn.isNil)(e)||""===e)return r;if(n.save(),n.font=t,(0,vn.isString)(e)&&e.includes("\n")){var o=e.split("\n");(0,vn.each)(o,(function(e){var t=n.measureText(e).width;r<t&&(r=t)}))}else r=n.measureText(e).width;return n.restore(),r}(o,s);if(c){var l=t.textAlign,f=t.textBaseline,d=pc(o,i,a),h={x:n,y:r-d};l&&("end"===l||"right"===l?h.x-=c:"center"===l&&(h.x-=c/2)),f&&("top"===f?h.y+=d:"middle"===f&&(h.y+=d/2)),u={x:h.x,y:h.y,width:c,height:d}}else u={x:n,y:r,width:0,height:0};return u})),Ru("path",(function(e){var t=e.attr(),n=t.path,r=t.stroke?t.lineWidth:0,o=function(e,t){for(var n=[],r=[],o=[],i=0;i<e.length;i++){var a=(g=e[i]).currentPoint,s=g.params,u=g.prePoint,c=void 0;switch(g.command){case"Q":c=Ju.box(u[0],u[1],s[1],s[2],s[3],s[4]);break;case"C":c=oc.box(u[0],u[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case"A":var l=g.arcParams;c=sc(l.cx,l.cy,l.rx,l.ry,l.xRotation,l.startAngle,l.endAngle);break;default:n.push(a[0]),r.push(a[1])}c&&(g.box=c,n.push(c.x,c.x+c.width),r.push(c.y,c.y+c.height)),t&&("L"===g.command||"M"===g.command)&&g.prePoint&&g.nextPoint&&o.push(g)}n=n.filter((function(e){return!Number.isNaN(e)&&e!==1/0&&e!==-1/0})),r=r.filter((function(e){return!Number.isNaN(e)&&e!==1/0&&e!==-1/0}));var f=(0,vn.min)(n),d=(0,vn.min)(r),h=(0,vn.max)(n),p=(0,vn.max)(r);if(0===o.length)return{x:f,y:d,width:h-f,height:p-d};for(i=0;i<o.length;i++){var g;(a=(g=o[i]).currentPoint)[0]===f?f-=Ic(g,t).xExtra:a[0]===h&&(h+=Ic(g,t).xExtra),a[1]===d?d-=Ic(g,t).yExtra:a[1]===p&&(p+=Ic(g,t).yExtra)}return{x:f,y:d,width:h-f,height:p-d}}(e.get("segments")||Oc(n),r),i=o.x,a=o.y,s={minX:i,minY:a,maxX:i+o.width,maxY:a+o.height};return{x:(s=fc(e,s)).minX,y:s.minY,width:s.maxX-s.minX,height:s.maxY-s.minY}})),Ru("line",(function(e){var t=e.attr(),n=t.x1,r=t.y1,o=t.x2,i=t.y2,a={minX:Math.min(n,o),maxX:Math.max(n,o),minY:Math.min(r,i),maxY:Math.max(r,i)};return{x:(a=fc(e,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}})),Ru("ellipse",(function(e){var t=e.attr(),n=t.x,r=t.y,o=t.rx,i=t.ry;return{x:n-o,y:r-i,width:2*o,height:2*i}}));var Dc=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.item=n.item,r.canvasX=n.canvasX,r.canvasY=n.canvasY,r.wheelDelta=n.wheelDelta,r.detail=n.detail,r}return(0,gn.__extends)(t,e),t}(ia),Rc=function(e){return"".concat(e,"-").concat(Math.random()).concat(Date.now())},Lc=function(e){if((0,vn.isArray)(e))switch(e.length){case 4:return e;case 3:return e.push(e[1]),e;case 2:return e.concat(e);case 1:return[e[0],e[0],e[0],e[0]];default:return[0,0,0,0]}if((0,vn.isNumber)(e))return[e,e,e,e];if((0,vn.isString)(e)){var t=parseInt(e,10);return[t,t,t,t]}return[0,0,0,0]},jc=function(e){var t=new Dc(e.type,e);return t.clientX=e.clientX,t.clientY=e.clientY,t.x=e.x,t.y=e.y,t.target=e.target,t.currentTarget=e.currentTarget,t.bubbles=!0,t.item=e.item,t},Fc=function(e){if(!e)return!1;for(var t=[1,0,0,0,1,0,0,0,1],n=0;n<9;n++)if(e[n]!==t[n])return!0;return!1},Bc=function(e){return Number.isNaN(Number(e))},zc=function(e){for(var t=1/0,n=-1/0,r=1/0,o=-1/0,i=0;i<e.length;i++){var a=e[i].getBBox(),s=a.minX,u=a.minY,c=a.maxX,l=a.maxY;s<t&&(t=s),u<r&&(r=u),c>n&&(n=c),l>o&&(o=l)}return{x:Math.floor(t),y:Math.floor(r),width:Math.ceil(n)-Math.floor(t),height:Math.ceil(o)-Math.floor(r),minX:t,minY:r,maxX:n,maxY:o}},Gc=function(e,t,n,r,o){void 0===t&&(t=15),void 0===n&&(n="quadratic"),void 0===r&&(r=void 0),void 0===o&&(o=void 0);for(var i=e.length,a=2*t,s=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],u={},c=[],l={},f=0;f<i;f++){var d=e[f],h=d.source,p=d.target,g="".concat(h,"-").concat(p);if(!c[f]){u[g]||(u[g]=[]),c[f]=!0,u[g].push(d);for(var v=0;v<i;v++)if(f!==v){var m=e[v],y=m.source,b=m.target;c[v]||(h===b&&p===y?(u[g].push(m),c[v]=!0,l["".concat(y,"|").concat(b,"|").concat(u[g].length-1)]=!0):h===y&&p===b&&(u[g].push(m),c[v]=!0))}}}for(var x in u)for(var w=u[x],E=w.length,_=0;_<E;_++){var S=w[_];if(S.source!==S.target)if(1===E&&r&&S.source!==S.target)S.type=r;else{S.type=n;var k=(_%2===0?1:-1)*(l["".concat(S.source,"|").concat(S.target,"|").concat(_)]?-1:1);S.curveOffset=E%2===1?k*Math.ceil(_/2)*a:k*(Math.floor(_/2)*a+t)}else o&&(S.type=o),S.loopCfg={position:s[_%8],dist:20*Math.floor(_/8)+50}}return e},Vc=function(){function e(e){this.destroyed=!1,this.graph=e,this.destroyed=!1}return e.prototype.getViewCenter=function(){var e=this.getFormatPadding(),t=this.graph,n=this.graph.get("width"),r=t.get("height");return{x:(n-e[1]-e[3])/2+e[3],y:(r-e[0]-e[2])/2+e[0]}},e.prototype.fitCenter=function(){var e=this.graph,t=e.get("group");t.resetMatrix();var n=t.getCanvasBBox();if(0!==n.width&&0!==n.height){var r=this.getViewCenter(),o=n.x+n.width/2,i=n.y+n.height/2;e.translate(r.x-o,r.y-i)}},e.prototype.fitView=function(){var e=this.graph,t=this.getFormatPadding(),n=e.get("width"),r=e.get("height"),o=e.get("group");o.resetMatrix();var i=o.getCanvasBBox();if(0!==i.width&&0!==i.height){var a=this.getViewCenter(),s=i.x+i.width/2,u=i.y+i.height/2;e.translate(a.x-s,a.y-u);var c=(n-t[1]-t[3])/i.width,l=(r-t[0]-t[2])/i.height,f=c;c>l&&(f=l),e.zoom(f,a)||console.warn("zoom failed, ratio out of range, ratio: %f",f)}},e.prototype.fitViewByRules=function(e){var t=e.onlyOutOfViewPort,n=void 0!==t&&t,r=e.direction,o=void 0===r?"both":r,i=e.ratioRule,a=void 0===i?"min":i,s=this.graph,u=this.getFormatPadding(),c=s.get("width"),l=s.get("height"),f=s.get("group");f.resetMatrix();var d=f.getCanvasBBox();if(0!==d.width&&0!==d.height){var h=this.getViewCenter(),p=d.x+d.width/2,g=d.y+d.height/2;s.translate(h.x-p,h.y-g);var v,m=(c-u[1]-u[3])/d.width,y=(l-u[0]-u[2])/d.height;v="x"===o?m:"y"===o?y:"max"===a?Math.max(m,y):Math.min(m,y),n&&(v=v<1?v:1);var b=s.getZoom()*v,x=s.get("minZoom");b<x&&(b=x,console.warn("fitview failed, ratio out of range, ratio: %f",v,"graph minzoom has been used instead")),s.zoomTo(b,h)}},e.prototype.getFormatPadding=function(){var e=this.graph.get("fitViewPadding");return Lc(e)},e.prototype.focusPoint=function(e,t,n){var r=this,o=this.getViewCenter(),i=this.getPointByCanvas(o.x,o.y),a=this.graph.get("group").getMatrix();if(a||(a=[1,0,0,0,1,0,0,0,1]),t){var s=(i.x-e.x)*a[0],u=(i.y-e.y)*a[4],c=0,l=0,f=0,d=0;this.graph.get("canvas").animate((function(e){f=s*e,d=u*e,r.graph.translate(f-c,d-l),c=f,l=d}),(0,gn.__assign)({},n))}else this.graph.translate((i.x-e.x)*a[0],(i.y-e.y)*a[4])},e.prototype.getPointByCanvas=function(e,t){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),bo({x:e,y:t},n)},e.prototype.getPointByClient=function(e,t){var n=this.graph.get("canvas").getPointByClient(e,t);return this.getPointByCanvas(n.x,n.y)},e.prototype.getClientByPoint=function(e,t){var n=this.graph.get("canvas"),r=this.getCanvasByPoint(e,t),o=n.getClientByPoint(r.x,r.y);return{x:o.x,y:o.y}},e.prototype.getCanvasByPoint=function(e,t){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),yo({x:e,y:t},n)},e.prototype.focus=function(e,t,n){if((0,vn.isString)(e)&&(e=this.graph.findById(e)),e){var r=0,o=0;if(e.getType&&"edge"===e.getType()){var i=e.getSource().get("group").getMatrix(),a=e.getTarget().get("group").getMatrix();i&&a?(r=(i[6]+a[6])/2,o=(i[7]+a[7])/2):(i||a)&&(r=i?i[6]:a[6],o=i?i[7]:a[7])}else{var s=e.get("group").getMatrix();s||(s=[1,0,0,0,1,0,0,0,1]),r=s[6],o=s[7]}this.focusPoint({x:r,y:o},t,n)}},e.prototype.changeSize=function(e,t){var n=this.graph;if(!(0,vn.isNumber)(e)||!(0,vn.isNumber)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");n.set({width:e,height:t}),n.get("canvas").changeSize(e,t),n.get("plugins").forEach((function(e){e.get("gridContainer")&&e.positionInit()}))},e.prototype.destroy=function(){this.graph=null,this.destroyed=!1},e}(),Uc=Vc;function Wc(e){return Wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(e)}function Zc(e){if("string"!==typeof e)return e;var t=function(e){if("string"!==typeof e)return e;try{return JSON.parse(e.trim())}catch(t){return e.trim()}},n=t(e);if("string"!==typeof n)return n;for(var r=function(e){return e[e.length-1]},o=e.trim(),i=[],a=[],s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.some((function(e){return r(a)===e}))},u=null,c=0,l="";c<o.length;){var f=o[c],d=s('"',"'");if(d||f.trim()){var h="\\"===o[c-1],p=s("}"),g=s("]"),v=s(","),m=r(i);if(d)if(r(a)!==f||h)l+=f;else{a.pop();var y=t(l);m.push(y),u=y,l=""}else if(g&&","===f)l&&(m.push(t(l)),l="");else if(p&&":"===f)a.push(","),l&&(m.push(l),l="");else if(v&&","===f)l&&(m.push(t(l)),l=""),a.pop();else if("}"===f&&(p||v)){l&&(m.push(t(l)),l=""),v&&a.pop();for(var b={},x=1;x<m.length;x+=2)b[m[x-1]]=m[x];i.pop(),i.length&&r(i).push(b),a.pop(),u=b}else"]"===f&&g?(l&&(m.push(t(l)),l=""),i.pop(),i.length&&r(i).push(m),a.pop(),u=m):"{"===f?(i.push([]),a.push("}")):"["===f?(i.push([]),a.push("]")):'"'===f?a.push('"'):"'"===f?a.push("'"):l+=f;c+=1}else c+=1}return u||l}function Yc(e,t){var n={},r=e.getAttributeNames&&e.getAttributeNames()||[],o=e.children&&Array.from(e.children).map((function(e){return Yc(e,t)})),i={},a=e.tagName?e.tagName.toLowerCase():"group";return"text"===a&&(n.text=e.innerText),i.type=a,"img"===a&&(i.type="image"),Array.from(r).forEach((function(t){var r=function(e){return e.split("-").reduce((function(e,t){return e+t.charAt(0).toUpperCase()+t.slice(1)}))}(t),o=e.getAttribute(t);try{if("style"===r||"attrs"===r){var a=Zc(o);n=(0,gn.__assign)((0,gn.__assign)({},n),a)}else i[r]=Zc(o)}catch(s){if("style"===r)throw s;i[r]=o}})),i.attrs=n,t&&t.style&&i.name&&"object"===Wc(t.style[i.name])&&(i.attrs=(0,gn.__assign)((0,gn.__assign)({},i.attrs),t.style[i.name])),t&&t.style&&i.keyshape&&(i.attrs=(0,gn.__assign)((0,gn.__assign)({},i.attrs),t.style)),o.length&&(i.children=o),i}function Hc(e,t){var n;void 0===t&&(t={x:0,y:0});var r=(0,gn.__assign)({x:0,y:0,width:0,height:0},t);if(null===(n=e.children)||void 0===n?void 0:n.length){var o=e.attrs,i=void 0===o?{}:o,a=i.marginTop,s=(0,gn.__assign)({},t);a&&(s.y+=a);for(var u=0;u<e.children.length;u++){e.children[u].attrs.key="".concat(i.key||"root"," -").concat(u," ");var c=Hc(e.children[u],s);if(c.bbox){var l=c.bbox;"inline"===c.attrs.next?s.x+=c.bbox.width:s.y+=c.bbox.height,l.width+l.x>r.width&&(r.width=l.width+l.x),l.height+l.y>r.height&&(r.height=l.height+l.y)}}}return e.bbox=function(e,t,n){var r,o,i=e.attrs,a=void 0===i?{}:i,s={x:t.x||0,y:t.y||0,width:n.width||0,height:n.height||0};switch(e.type){case"maker":case"circle":a.r&&(o=2*a.r,r=2*a.r);break;case"text":a.text&&(o=vi(a.text,a.fontSize||12)[0],r=16,s.y+=r,s.height=r,s.width=o,e.attrs=(0,gn.__assign)({fontSize:12,fill:"#000"},a));break;default:a.width&&(o=a.width),a.height&&(r=a.height)}return r>=0&&(s.height=r),o>=0&&(s.width=o),a.marginTop&&(s.y+=a.marginTop),a.marginLeft&&(s.x+=a.marginLeft),s}(e,t,r),e.attrs=(0,gn.__assign)((0,gn.__assign)({},e.attrs),e.bbox),e}function Xc(e,t){var n,r,o,i,a=(e||{}).type,s=((null===t||void 0===t?void 0:t.attrs)||{}).key;if(s&&e&&(e.attrs.key=s),!e&&t)return{action:"delete",val:t,type:a,key:s};if(e&&!t)return{action:"add",val:e,type:a};if(!e&&!t)return{action:"same",type:a};var u=[];if((null===(n=e.children)||void 0===n?void 0:n.length)>0||(null===(r=t.children)||void 0===r?void 0:r.length)>0)for(var c=Math.max(null===(o=e.children)||void 0===o?void 0:o.length,null===(i=t.children)||void 0===i?void 0:i.length),l=t.children||[],f=e.children||[],d=0;d<c;d+=1)u.push(Xc(f[d],l[d]));var h=Object.keys(t.attrs),p=Object.keys(e.attrs);return t.type!==e.type?{action:"restructure",nowTarget:e,formerTarget:t,key:s,children:u}:h.filter((function(e){return"children"!==e})).some((function(n){return e.attrs[n]!==t.attrs[n]||!p.includes(n)}))?{action:"change",val:e,children:u,type:a,key:s}:{action:"same",children:u,type:a,key:s}}function Kc(e){var t={},n=function(t){var n=function(e){return function(t){for(var n=e.length,r=[],o=0,i="";o<n;)if("{"===e[o]&&"{"===e[o+1])r.push(i),i="",o+=2;else if("}"===e[o]&&"}"===e[o+1]){if(r.length){var a=r.pop();i=(0,vn.get)(t,i,a.endsWith("=")?'"{'.concat(i,'}"'):i),r.push(a+i)}o+=2,i=""}else i+=e[o],o+=1;return r.push(i),r.map((function(e,t){return r[t-1]&&r[t-1].endsWith("=")?'"{'.concat(e,'}"'):e})).join("")}}("function"===typeof e?e(t):e)(t),r=document.createElement("div");r.innerHTML=n;var o=Hc(Yc(r.children[0],t));return r.remove(),o};return{draw:function(e,r){var o=n(e),i=r;return function e(t){var n=t.attrs,o=void 0===n?{}:n,a=t.bbox,s=t.type,u=t.children,c=(0,gn.__rest)(t,["attrs","bbox","type","children"]);if("group"!==t.type){var l=r.addShape(t.type,(0,gn.__assign)({attrs:o,origin:{bbox:a,type:s,children:u}},c));t.keyshape&&(i=l)}t.children&&t.children.forEach((function(t){return e(t)}))}(o),t[e.id]=[o],i},update:function(e,r){t[e.id]||(t[e.id]=[]);var o=r.getContainer(),i=o.get("children"),a=n(e),s=Xc(a,t[e.id].pop()),u=function e(t){var n;"group"!==t.type&&o.addShape(t.type,{attrs:t.attrs}),(null===(n=t.children)||void 0===n?void 0:n.length)&&t.children.map((function(t){return e(t)}))},c=function e(t){var n,r=i.find((function(e){return e.attrs.key===t.attrs.key}));r&&o.removeChild(r),(null===(n=t.children)||void 0===n?void 0:n.length)&&t.children.map((function(t){return e(t)}))};!function e(t){var n=t.key;if("group"!==t.type){var o=i.find((function(e){return e.attrs.key===n}));switch(t.action){case"change":if(o){var a=t.val.keyshape?r.getOriginStyle():{};o.attr((0,gn.__assign)((0,gn.__assign)({},a),t.val.attrs))}break;case"add":u(t.val);break;case"delete":c(t.val);break;case"restructure":c(t.formerTarget),u(t.nowTarget)}}t.children&&t.children.forEach((function(t){return e(t)}))}(s),t[e.id].push(a)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var qc={};function $c(e){return qc[e]||(qc[e]=(0,vn.upperFirst)(e)),qc[e]}var Jc={defaultShapeType:"defaultType",className:null,getShape:function(e){var t=this;return t[e]||t[t.defaultShapeType]||t["simple-circle"]},draw:function(e,t,n){var r=this.getShape(e);n.shapeMap={};var o=r.draw(t,n);return r.afterDraw&&r.afterDraw(t,n,o),o},baseUpdate:function(e,t,n,r){var o,i,a=this.getShape(e);a.update&&(a.mergeStyle=null===(o=a.getOptions)||void 0===o?void 0:o.call(a,t,r),null===(i=a.update)||void 0===i||i.call(a,t,n,r)),a.afterUpdate&&a.afterUpdate(t,n)},setState:function(e,t,n,r){this.getShape(e).setState(t,n,r)},shouldUpdate:function(e){return!!this.getShape(e).update},getControlPoints:function(e,t){return this.getShape(e).getControlPoints(t)},getAnchorPoints:function(e,t){return this.getShape(e).getAnchorPoints(t)}},Qc={options:{},draw:function(e,t){return this.drawShape(e,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t=this.options.anchorPoints;return e.anchorPoints||t}},el=function(){function e(){}return e.registerFactory=function(t,n){var r=$c(t),o=Jc,i=(0,gn.__assign)((0,gn.__assign)({},o),n);return e[r]=i,i.className=r,i},e.getFactory=function(t){return e[$c(t)]},e.registerNode=function(t,n,r){var o,i=e.Node;if("string"===typeof n||"function"===typeof n){var a=Kc(n);o=(0,gn.__assign)((0,gn.__assign)({},i.getShape("single-node")),a)}else if(n.jsx){a=Kc(n.jsx);o=(0,gn.__assign)((0,gn.__assign)((0,gn.__assign)({},i.getShape("single-node")),a),n)}else{i.getShape(r);var s=r?i.getShape(r):Qc;o=(0,gn.__assign)((0,gn.__assign)({},s),n)}return o.type=t,o.itemType="node",i[t]=o,o},e.registerEdge=function(t,n,r){var o=e.Edge,i=r?o.getShape(r):Qc,a=(0,gn.__assign)((0,gn.__assign)({},i),n);return a.type=t,a.itemType="edge",o[t]=a,a},e.registerCombo=function(t,n,r){var o=e.Combo,i=r?o.getShape(r):Qc,a=(0,gn.__assign)((0,gn.__assign)({},i),n);return a.type=t,a.itemType="combo",o[t]=a,a},e}(),tl=el;el.registerFactory("node",{defaultShapeType:"circle"}),el.registerFactory("edge",{defaultShapeType:"line"}),el.registerFactory("combo",{defaultShapeType:"circle"});var nl="bboxCache",rl="bboxCanvasCache",ol=function(){function e(e){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),e);var n=this.get("model"),r=n.id,o=this.get("type");r||(r=Rc(o),this.get("model").id=r),this.set("id",r);var i=e.group;i&&(i.set("item",this),i.set("id",r)),this.init(),this.draw();var a=n.shape||n.type||("edge"===o?"line":"circle"),s=this.get("shapeFactory");if(s&&s[a]){var u=s[a].options;if(u&&u.stateStyles){var c=this.get("styles")||n.stateStyles;c=(0,vn.deepMix)({},u.stateStyles,c),this.set("styles",c)}}}return e.prototype.calculateBBox=function(){var e=this.get("keyShape"),t=this.get("group"),n=ui(e,t);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},e.prototype.calculateCanvasBBox=function(){var e=this.get("keyShape"),t=this.get("group"),n=ui(e,t);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},e.prototype.drawInner=function(){var e=this,t=e.get("shapeFactory"),n=e.get("group"),r=e.get("model");n.clear();var o=r.visible;if(void 0===o||o||e.changeVisibility(o),t){e.updatePosition(r);var i=e.getShapeCfg(r),a=i.type,s=t.draw(a,i,n);s&&(e.set("keyShape",s),s.set("isKeyShape",!0),s.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",a),this.restoreStates(t,a)}},e.prototype.setOriginStyle=function(){var e=this.get("group"),t=e.get("children"),n=this.getKeyShape(),r=this,o=n.get("name");if(this.get("originStyle")){var i=this.get("originStyle");o&&!i[o]&&(i[o]={});var a=this.getCurrentStatesStyle(),s=function(e){var n=t[e],s=n.get("name"),u=n.attr();if(s&&s!==o){var c=a[s];i[s]||(i[s]={}),c?Object.keys(u).forEach((function(e){var t=u[e];t!==c[e]&&(i[s][e]=t)})):i[s]="image"!==n.get("type")?(0,vn.clone)(u):r.getShapeStyleByName(s)}else{var l=n.attr(),f={};Object.keys(a).forEach((function(e){var t=a[e];e!==o&&(0,vn.isPlainObject)(t)||(f[e]=t)})),Object.keys(l).forEach((function(e){var t=l[e];f[e]!==t&&(o?i[o][e]=t:i[e]=t)}))}};for(c=0;c<t.length;c++)s(c);delete i.path,delete i.matrix,delete i.x,delete i.y,i[o]&&(delete i[o].x,delete i[o].y,delete i[o].matrix,delete i[o].path),r.set("originStyle",i)}else{for(var u={},c=0;c<t.length;c++){var l=t[c],f=l.get("type"),d=l.get("name");if(d&&d!==o)u[d]="image"!==f?(0,vn.clone)(l.attr()):r.getShapeStyleByName(d),"text"===f&&u[d]&&(delete u[d].x,delete u[d].y,delete u[d].matrix);else{var h=r.getShapeStyleByName();if(delete h.path,delete h.matrix,o)if(d)u[o]=h;else{var p=Rc("shape");l.set("name",p),e.shapeMap[p]=l,u[p]="image"!==f?(0,vn.clone)(l.attr()):r.getShapeStyleByName(d)}else Object.assign(u,h)}}r.set("originStyle",u)}},e.prototype.restoreStates=function(e,t){var n=this,r=n.get("states");(0,vn.each)(r,(function(r){e.setState(t,r,!0,n)}))},e.prototype.init=function(){var e=tl.getFactory(this.get("type"));this.set("shapeFactory",e)},e.prototype.get=function(e){return this._cfg[e]},e.prototype.set=function(e,t){(0,vn.isPlainObject)(e)?this._cfg=(0,gn.__assign)((0,gn.__assign)({},this._cfg),e):this._cfg[e]=t},e.prototype.getDefaultCfg=function(){return{}},e.prototype.clearCache=function(){this.set(nl,null),this.set(rl,null)},e.prototype.beforeDraw=function(){},e.prototype.afterDraw=function(){},e.prototype.afterUpdate=function(){},e.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},e.prototype.getShapeStyleByName=function(e){var t,n=this.get("group");if(t=e?n.shapeMap[e]:this.getKeyShape()){var r={};return(0,vn.each)(t.attr(),(function(e,t){("img"!==t||(0,vn.isString)(e))&&(r[t]=e)})),r}return{}},e.prototype.getShapeCfg=function(e,t){var n=this.get("styles");if(n){var r=e;return r.style=(0,gn.__assign)((0,gn.__assign)({},n),e.style),r}return e},e.prototype.getStateStyle=function(e){var t=this.get("styles");return t&&t[e]},e.prototype.getOriginStyle=function(){return this.get("originStyle")},e.prototype.getCurrentStatesStyle=function(){var e=this,t={},n=e.getStates();return n&&n.length?((0,vn.each)(e.getStates(),(function(n){t=Object.assign(t,e.getStateStyle(n))})),t):this.get("originStyle")},e.prototype.setState=function(e,t){var n=this.get("states"),r=this.get("shapeFactory"),o=e,i=e;(0,vn.isString)(t)&&(o="".concat(e,":").concat(t),i="".concat(e,":"));var a=n;if((0,vn.isBoolean)(t)){var s=n.indexOf(i);if(t){if(s>-1)return;n.push(o)}else s>-1&&n.splice(s,1)}else if((0,vn.isString)(t)){var u=n.filter((function(e){return e.includes(i)}));u.length>0&&this.clearStates(u),(a=a.filter((function(e){return!e.includes(i)}))).push(o),this.set("states",a)}if(r){var c=this.get("model").type;r.setState(c,e,t,this)}},e.prototype.clearStates=function(e){var t=this,n=t.getStates(),r=t.get("shapeFactory"),o=t.get("model").type;e||(e=n),(0,vn.isString)(e)&&(e=[e]);var i=n.filter((function(t){return-1===e.indexOf(t)}));t.set("states",i),e.forEach((function(e){r.setState(o,e,!1,t)}))},e.prototype.getContainer=function(){return this.get("group")},e.prototype.getKeyShape=function(){return this.get("keyShape")},e.prototype.getModel=function(){return this.get("model")},e.prototype.getType=function(){return this.get("type")},e.prototype.getID=function(){return this.get("id")},e.prototype.isItem=function(){return!0},e.prototype.getStates=function(){return this.get("states")},e.prototype.hasState=function(e){return this.getStates().indexOf(e)>=0},e.prototype.refresh=function(e){var t=this.get("model");this.updatePosition(t),this.updateShape(e),this.afterUpdate(),this.clearCache()},e.prototype.getUpdateType=function(e){},e.prototype.update=function(e,t){void 0===t&&(t=void 0);var n=this.get("model");if("move"===t)this.updatePosition(e);else{var r=n.visible,o=e.visible;r!==o&&void 0!==o&&this.changeVisibility(o);var i={x:n.x,y:n.y};e.x=isNaN(+e.x)?n.x:+e.x,e.y=isNaN(+e.y)?n.y:+e.y;var a=this.get("styles");if(e.stateStyles){var s=e.stateStyles;(0,vn.mix)(a,s),delete e.stateStyles}Object.assign(n,e),i.x===e.x&&i.y===e.y||this.updatePosition(e),this.updateShape(t)}this.afterUpdate(),this.clearCache()},e.prototype.updateShape=function(e){var t=this.get("shapeFactory"),n=this.get("model"),r=n.type;if(t.shouldUpdate(r)&&r===this.get("currentShape")){var o=this.getShapeCfg(n,e);t.baseUpdate(r,o,this,e),"move"!==e&&this.setOriginStyle()}else this.draw();this.restoreStates(t,r)},e.prototype.updatePosition=function(e){var t=this.get("model"),n=isNaN(+e.x)?+t.x:+e.x,r=isNaN(+e.y)?+t.y:+e.y,o=this.get("group");if(isNaN(n)||isNaN(r))return!1;t.x=n,t.y=r;var i=o.getMatrix();return(!i||i[6]!==n||i[7]!==r)&&(o.resetMatrix(),ko(o,{x:n,y:r}),this.clearCache(),!0)},e.prototype.getBBox=function(){var e=this.get(nl);return e||(e=this.calculateBBox(),this.set(nl,e)),e},e.prototype.getCanvasBBox=function(){var e=this.get(rl);return e||(e=this.calculateCanvasBBox(),this.set(rl,e)),e},e.prototype.toFront=function(){this.get("group").toFront()},e.prototype.toBack=function(){this.get("group").toBack()},e.prototype.show=function(){this.changeVisibility(!0)},e.prototype.hide=function(){this.changeVisibility(!1)},e.prototype.changeVisibility=function(e){var t=this.get("group");e?t.show():t.hide(),this.set("visible",e)},e.prototype.isVisible=function(){return this.get("visible")},e.prototype.enableCapture=function(e){var t=this.get("group");t&&t.set("capture",e)},e.prototype.destroy=function(){if(!this.destroyed){var e=this.get("animate"),t=this.get("group");e&&t.stopAnimate(),t.shapeMap={},this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},e}(),il=ol,al={source:"start",target:"end"},sl="Node",ul="Point",cl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,gn.__extends)(t,e),t.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},t.prototype.setEnd=function(e,t){var n=al[e]+ul,r=e+sl,o=this.get(r);o&&!o.destroyed&&o.removeEdge(this),(0,vn.isPlainObject)(t)?(this.set(n,t),this.set(r,null)):t&&(t.addEdge(this),this.set(r,t),this.set(n,null))},t.prototype.getLinkPoint=function(e,t,n){var r=al[e]+ul,o=e+sl,i=this.get(r);if(!i){var a=this.get(o),s=e+"Anchor",u=this.getPrePoint(e,n),c=t[s];(0,vn.isNil)(c)||(i=a.getLinkPointByAnchor(c)),i=i||a.getLinkPoint(u),(0,vn.isNil)(i.index)||this.set("".concat(e,"AnchorIndex"),i.index)}return i},t.prototype.getPrePoint=function(e,t){if(t&&t.length)return t["source"===e?0:t.length-1];var n="source"===e?"target":"source";return this.getEndPoint(n)},t.prototype.getEndPoint=function(e){var t=e+sl,n=al[e]+ul,r=this.get(t);return r?r.get("model"):this.get(n)},t.prototype.getControlPointsByCenter=function(e){var t=this.getEndPoint("source"),n=this.getEndPoint("target"),r=this.get("shapeFactory"),o=e.type;return r.getControlPoints(o,{startPoint:t,endPoint:n})},t.prototype.getEndCenter=function(e){var t=e+sl,n=al[e]+ul,r=this.get(t);if(r){var o=r.getBBox();return{x:o.centerX,y:o.centerY}}return this.get(n)},t.prototype.init=function(){e.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},t.prototype.getShapeCfg=function(t,n){var r=this,o=r.get("linkCenter"),i=(null===n||void 0===n?void 0:n.includes("move"))?t:e.prototype.getShapeCfg.call(this,t);if(o)i.startPoint=r.getEndCenter("source"),i.endPoint=r.getEndCenter("target");else{var a=i.controlPoints||r.getControlPointsByCenter(i);i.startPoint=r.getLinkPoint("source",t,a),i.endPoint=r.getLinkPoint("target",t,a)}return i.sourceNode=r.get("sourceNode"),i.targetNode=r.get("targetNode"),i},t.prototype.getModel=function(){var e=this.get("model"),t=this.get("source".concat(sl)),n=this.get("target".concat(sl));return t?delete e["source".concat(sl)]:e.source=this.get("start".concat(ul)),n?delete e["target".concat(sl)]:e.target=this.get("end".concat(ul)),(0,vn.isString)(e.source)||(0,vn.isPlainObject)(e.source)||(e.source=e.source.getID()),(0,vn.isString)(e.target)||(0,vn.isPlainObject)(e.target)||(e.target=e.target.getID()),e},t.prototype.setSource=function(e){this.setEnd("source",e),this.set("source",e)},t.prototype.setTarget=function(e){this.setEnd("target",e),this.set("target",e)},t.prototype.getSource=function(){return this.get("source")},t.prototype.getTarget=function(){return this.get("target")},t.prototype.updatePosition=function(){return!1},t.prototype.update=function(e,t){void 0===t&&(t=void 0);var n=this.get("model"),r=n.visible,o=e.visible;r!==o&&void 0!==o&&this.changeVisibility(o);var i=this.get("styles");if(e.stateStyles){var a=e.stateStyles;(0,vn.mix)(i,a),delete e.stateStyles}Object.assign(n,e),this.updateShape(t),this.afterUpdate(),this.clearCache()},t.prototype.destroy=function(){var t=this.get("source".concat(sl)),n=this.get("target".concat(sl));t&&!t.destroyed&&t.removeEdge(this),n&&!n.destroyed&&n.removeEdge(this),e.prototype.destroy.call(this)},t}(il),ll=cl,fl="anchorPointsCache",dl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,gn.__extends)(t,e),t.prototype.getNearestPoint=function(e,t){for(var n=0,r=e[0],o=wo(e[0],t),i=0;i<e.length;i++){var a=e[i],s=wo(a,t);s<o&&(r=a,o=s,n=i)}return r.anchorIndex=n,r},t.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},t.prototype.getEdges=function(){return this.get("edges")},t.prototype.getInEdges=function(){var e=this;return this.get("edges").filter((function(t){return t.get("target")===e}))},t.prototype.getOutEdges=function(){var e=this;return this.get("edges").filter((function(t){return t.get("source")===e}))},t.prototype.getNeighbors=function(e){var t=this,n=this.get("edges");if("target"===e){return n.filter((function(e){return e.getSource()===t})).map((function(e){return e.getTarget()}))}if("source"===e){return n.filter((function(e){return e.getTarget()===t})).map((function(e){return e.getSource()}))}return n.map((function(e){return e.getSource()===t?e.getTarget():e.getSource()}))},t.prototype.getLinkPointByAnchor=function(e){return this.getAnchorPoints()[e]},t.prototype.getLinkPoint=function(e){var t,n,r=this.get("keyShape").get("type"),o=this.get("type"),i=this.getBBox();"combo"===o?(t=i.centerX||(i.maxX+i.minX)/2,n=i.centerY||(i.maxY+i.minY)/2):(t=i.centerX,n=i.centerY);var a,s=this.getAnchorPoints();switch(r){case"circle":a=vo({x:t,y:n,r:i.width/2},e);break;case"ellipse":a=mo({x:t,y:n,rx:i.width/2,ry:i.height/2},e);break;default:a=go(i,e)}var u=a;return s.length&&(u||(u=e),u=this.getNearestPoint(s,u)),u||(u={x:t,y:n}),u},t.prototype.getAnchorPoints=function(){var e=this.get(fl);if(!e){e=[];var t=this.get("shapeFactory"),n=this.getBBox(),r=this.get("model"),o=this.getShapeCfg(r),i=r.type,a=t.getAnchorPoints(i,o)||[];(0,vn.each)(a,(function(t,r){var o={x:n.minX+t[0]*n.width,y:n.minY+t[1]*n.height,anchorIndex:r};e.push(o)})),this.set(fl,e)}return e},t.prototype.addEdge=function(e){this.get("edges").push(e)},t.prototype.lock=function(){this.set("locked",!0)},t.prototype.unlock=function(){this.set("locked",!1)},t.prototype.hasLocked=function(){return this.get("locked")},t.prototype.removeEdge=function(e){var t=this.getEdges(),n=t.indexOf(e);n>-1&&t.splice(n,1)},t.prototype.clearCache=function(){this.set("bboxCache",null),this.set(fl,null)},t.prototype.getUpdateType=function(e){var t,n,r,o,i;if(e){var a=!(0,vn.isNil)(e.x),s=!(0,vn.isNil)(e.y),u=Object.keys(e);return 1===u.length&&(a||s)||2===u.length&&a&&s?"move":(0,vn.isNumber)(e.x)||(0,vn.isNumber)(e.y)||e.type||e.anchorPoints||e.size||(null===e||void 0===e?void 0:e.style)&&((null===(t=null===e||void 0===e?void 0:e.style)||void 0===t?void 0:t.r)||(null===(n=null===e||void 0===e?void 0:e.style)||void 0===n?void 0:n.width)||(null===(r=null===e||void 0===e?void 0:e.style)||void 0===r?void 0:r.height)||(null===(o=null===e||void 0===e?void 0:e.style)||void 0===o?void 0:o.rx)||(null===(i=null===e||void 0===e?void 0:e.style)||void 0===i?void 0:i.ry))?"bbox|label":u.includes("label")||u.includes("labelCfg")?"style|label":"style"}},t}(il),hl=dl,pl="bboxCache",gl="bboxCanvasCache",vl="sizeCache",ml="anchorPointsCache",yl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,gn.__extends)(t,e),t.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},t.prototype.getShapeCfg=function(e){var t=this.get("styles"),n=this.get("bbox");if(t&&n){var r=e,o={r:Math.hypot(n.height,n.width)/2||ti.defaultCombo.size[0]/2,width:n.width||ti.defaultCombo.size[0],height:n.height||ti.defaultCombo.size[1]};r.style=(0,gn.__assign)((0,gn.__assign)((0,gn.__assign)({},t),e.style),o);var i=e.padding||ti.defaultCombo.padding;return(0,vn.isNumber)(i)?(o.r+=i,o.width+=2*i,o.height+=2*i):(o.r+=i[0],o.width+=i[1]+i[3]||2*i[1],o.height+=i[0]+i[2]||2*i[0]),this.set(vl,o),r}return e},t.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var e=this.get("keyShape"),t=this.get("group"),n=ui(e,t);n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var r=this.get(vl),o=this.get(pl)||{},i=o.x,a=o.x;if(r)r.width=Math.max(r.width,n.width),r.height=Math.max(r.height,n.height),"circle"===e.get("type")?(n.width=2*r.r,n.height=2*r.r):(n.width=r.width,n.height=r.height),n.minX=n.centerX-n.width/2,n.minY=n.centerY-n.height/2,n.maxX=n.centerX+n.width/2,n.maxY=n.centerY+n.height/2;else n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;return n.x=n.minX,n.y=n.minY,n.x===i&&n.y===a||this.set(ml,null),n}},t.prototype.getChildren=function(){return{nodes:this.getNodes(),combos:this.getCombos()}},t.prototype.getNodes=function(){return this.get("nodes")},t.prototype.getCombos=function(){return this.get("combos")},t.prototype.addChild=function(e){switch(e.getType()){case"node":this.addNode(e);break;case"combo":this.addCombo(e);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},t.prototype.addCombo=function(e){return this.get("combos").push(e),!0},t.prototype.addNode=function(e){return this.get("nodes").push(e),!0},t.prototype.removeChild=function(e){switch(e.getType()){case"node":this.removeNode(e);break;case"combo":this.removeCombo(e);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},t.prototype.removeCombo=function(e){if(e){var t=this.getCombos(),n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)}},t.prototype.removeNode=function(e){if(e){var t=this.getNodes(),n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)}},t.prototype.getUpdateType=function(e){},t.prototype.getBBox=function(){return this.set(gl,null),this.calculateCanvasBBox()},t.prototype.clearCache=function(){this.set(pl,null),this.set(gl,null),this.set(ml,null)},t.prototype.destroy=function(){if(!this.destroyed){var e=this.get("animate"),t=this.get("group");e&&t.stopAnimate(),t.shapeMap={},this.clearCache(),this.set(vl,null),this.set("bbox",null),t.remove(),this._cfg=null,this.destroyed=!0}},t}(hl),bl=yl,xl="node",wl="edge",El="vedge",_l="combo",Sl="Mapper",kl="stateStyles",Tl=function(){function e(e){var t=this;this.edgeToBeUpdateMap={},this.throttleRefresh=(0,vn.throttle)((function(e){var n,r=t.graph;if(r&&!r.get("destroyed")){var o=t.edgeToBeUpdateMap;o&&(null===(n=Object.keys(o))||void 0===n?void 0:n.length)&&(Object.keys(o).forEach((function(e){var t=o[e].edge;if(t&&!t.destroyed){var n=t.getSource(),r=t.getTarget();n&&!n.destroyed&&r&&!r.destroyed&&t.refresh(o[e].updateType)}})),t.edgeToBeUpdateMap={})}}),16,{trailing:!0,leading:!0}),this.graph=e,this.destroyed=!1}return e.prototype.addItem=function(e,t){var n=this.graph,r=e===El?wl:e,o=n.get("".concat(r,"Group"))||n.get("group"),i=(0,vn.upperFirst)(r),a=null,s=n.get(r+(0,vn.upperFirst)(kl))||{},u=n.get("default"+i);t.stateStyles&&(s=t.stateStyles),u&&(0,vn.each)(u,(function(e,n){(0,vn.isObject)(e)&&!(0,vn.isArray)(e)?t[n]=(0,vn.deepMix)({},e,t[n]):(0,vn.isArray)(e)?t[n]=t[n]||(0,vn.clone)(u[n]):t[n]=t[n]||u[n]}));var c=n.get(r+Sl);if(c){var l=c(t);l.stateStyles&&(s=l.stateStyles,delete l.stateStyles),(0,vn.each)(l,(function(e,n){(0,vn.isObject)(e)&&!(0,vn.isArray)(e)?t[n]=(0,vn.deepMix)({},t[n],e):t[n]=l[n]||t[n]}))}if(n.emit("beforeadditem",{type:e,model:t}),e===wl||e===El){var f=void 0,d=void 0;if(f=t.source,d=t.target,f&&(0,vn.isString)(f)&&(f=n.findById(f)),d&&(0,vn.isString)(d)&&(d=n.findById(d)),!f||!d)return void console.warn("The source or target node of edge ".concat(t.id," does not exist!"));f.getType&&"combo"===f.getType()&&(t.isComboEdge=!0),d.getType&&"combo"===d.getType()&&(t.isComboEdge=!0),a=new ll({model:t,source:f,target:d,styles:s,linkCenter:n.get("linkCenter"),group:o.addGroup()})}else if(e===xl)a=new hl({model:t,styles:s,group:o.addGroup()});else if(e===_l){var h=t.children,p=bi(h,n),g=void 0,v=void 0;if(isNaN(p.x)?isNaN(t.x)&&(g=100*Math.random()):g=p.x,isNaN(p.y)?isNaN(t.y)&&(v=100*Math.random()):v=p.y,isNaN(t.x)||isNaN(t.y))t.x=g,t.y=v;else{var m=t.x-g,y=t.y-v;this.updateComboSucceeds(t.id,m,y,h)}var b=o.addGroup();b.setZIndex(t.depth);var x=(a=new bl({model:t,styles:s,bbox:t.collapsed?bi([],n):p,group:b})).getModel();(h||[]).forEach((function(e){var t=n.findById(e.id);a.addChild(t),e.depth=x.depth+2})),t.collapsed&&setTimeout((function(){a.destroyed||(n.collapseCombo(a),n.updateCombo(a))}),0)}if(a)return n.get("".concat(e,"s")).push(a),n.get("itemMap")[a.get("id")]=a,n.emit("afteradditem",{item:a,model:t}),a},e.prototype.updateItem=function(e,t){var n,r,o=this,i=this.graph;if((0,vn.isString)(e)&&(e=i.findById(e)),e&&!e.destroyed){var a="";e.getType&&(a=e.getType());var s=i.get(a+Sl),u=e.getModel(),c=u.x,l=u.y,f=e.getUpdateType(t);if(s){var d=s((0,vn.deepMix)({},u,t)),h=(0,vn.deepMix)({},u,d,t);d.stateStyles&&(e.set("styles",h.stateStyles),delete h.stateStyles),(0,vn.each)(h,(function(e,n){t[n]=e}))}else(0,vn.each)(t,(function(e,n){u[n]&&(0,vn.isObject)(e)&&!(0,vn.isArray)(e)&&(t[n]=(0,gn.__assign)((0,gn.__assign)({},u[n]),t[n]))}));if(i.emit("beforeupdateitem",{item:e,cfg:t}),a===wl){if(t.source){var p=t.source;(0,vn.isString)(p)&&(p=i.findById(p)),e.setSource(p)}if(t.target){var g=t.target;(0,vn.isString)(g)&&(g=i.findById(g)),e.setTarget(g)}e.update(t)}else if(a===xl){e.update(t,f);var v=e.getEdges(),m=(null===f||void 0===f?void 0:f.includes("bbox"))||"move"===f;"move"===f?(0,vn.each)(v,(function(e){o.edgeToBeUpdateMap[e.getID()]={edge:e,updateType:f},o.throttleRefresh()})):m&&(0,vn.each)(v,(function(e){e.refresh(f)}))}else if(a===_l){if(e.update(t,f),!isNaN(t.x)||!isNaN(t.y)){var y=t.x-c||0,b=t.y-l||0;this.updateComboSucceeds(u.id,y,b)}var x=e.getEdges();if((m=(null===f||void 0===f?void 0:f.includes("bbox"))||"move"===f)&&a===_l){var w=e.get("shapeFactory"),E=u.type||"circle";(void 0===u.animate||void 0===t.animate?null===(r=null===(n=w[E])||void 0===n?void 0:n.options)||void 0===r?void 0:r.animate:u.animate||t.animate)?setTimeout((function(){if(e&&!e.destroyed){var t=e.getKeyShape();t&&!t.destroyed&&(0,vn.each)(x,(function(e){e&&!e.destroyed&&e.refresh()}))}}),201):(0,vn.each)(x,(function(e){e.refresh()}))}}i.emit("afterupdateitem",{item:e,cfg:t})}},e.prototype.updateCombo=function(e,t,n){var r,o,i=this,a=this.graph;if((0,vn.isString)(e)&&(e=a.findById(e)),e&&!e.destroyed){var s=e.getModel(),u=bi(t,a,e),c=u.x,l=u.y;e.set("bbox",u);var f=c,d=l;n?(f=isNaN(s.x)?c:s.x,d=isNaN(s.y)?l:s.y):(f=isNaN(c)?s.x:c,d=isNaN(l)?s.y:l),e.update({x:f,y:d});var h=e.get("shapeFactory"),p=s.type||"circle";(void 0===s.animate?null===(o=null===(r=h[p])||void 0===r?void 0:r.options)||void 0===o?void 0:o.animate:s.animate)?setTimeout((function(){if(e&&!e.destroyed){var t=e.getKeyShape();t&&!t.destroyed&&(e.getShapeCfg(s),i.updateComboEdges(e))}}),201):this.updateComboEdges(e)}},e.prototype.updateComboEdges=function(e){for(var t=e.getEdges()||[],n=0;n<t.length;n++){var r=t[n];if(r&&!r.destroyed){var o=r.get("shapeFactory"),i=r.getShapeCfg(r.getModel()),a=r.getContainer();a.clear();var s=o.draw(i.type,i,a);r.set("keyShape",s),s.set("isKeyShape",!0),s.set("draggable",!0),r.setOriginStyle()}}},e.prototype.collapseCombo=function(e){var t=this.graph;(0,vn.isString)(e)&&(e=t.findById(e));var n=e.getChildren();n.nodes.forEach((function(e){t.hideItem(e)})),n.combos.forEach((function(e){t.hideItem(e)}))},e.prototype.updateComboSucceeds=function(e,t,n,r){var o=this;void 0===r&&(r=[]);var i=this.graph;if(t||n){var a=r;if(!(null===a||void 0===a?void 0:a.length)){var s=i.get("comboTrees");null===s||void 0===s||s.forEach((function(t){hi(t,(function(t){return t.id!==e||(a=t.children,!1)}))}))}null===a||void 0===a||a.forEach((function(e){var r=i.findById(e.id);if(r){var a=r.getModel();o.updateItem(e.id,{x:(a.x||0)+t,y:(a.y||0)+n})}}))}},e.prototype.expandCombo=function(e){var t=this.graph;(0,vn.isString)(e)&&(e=t.findById(e));var n=e.getChildren();n.nodes.forEach((function(e){t.showItem(e)})),n.combos.forEach((function(e){e.getModel().collapsed?e.show():t.showItem(e)}))},e.prototype.removeItem=function(e){var t=this,n=this.graph;if((0,vn.isString)(e)&&(e=n.findById(e)),e&&!e.destroyed){var r=(0,vn.clone)(e.getModel());n.emit("beforeremoveitem",{item:r});var o="";e.getType&&(o=e.getType());var i=n.get("".concat(o,"s")),a=i.indexOf(e);if(a>-1&&i.splice(a,1),o===wl){var s=n.get("v".concat(o,"s")),u=s.indexOf(e);u>-1&&s.splice(u,1)}var c=e.get("id");delete n.get("itemMap")[c];var l=n.get("comboTrees"),f=e.get("id");if(o===xl){var d=e.getModel().comboId;if(l&&d){var h=l,p=!1;l.forEach((function(e){p||hi(e,(function(e){if(e.id===f&&h){var t=h.indexOf(e);return h.splice(t,1),p=!0,!1}return h=e.children,!0}))}))}for(var g=(b=e.getEdges()).length-1;g>=0;g--)n.removeItem(b[g],!1);d&&n.updateCombo(d)}else if(o===_l){var v,m=e.getModel().parentId,y=!1;(l||[]).forEach((function(e){y||hi(e,(function(e){return e.id!==f||(v=e,y=!0,!1)}))})),v.removed=!0,v&&v.children&&v.children.forEach((function(e){t.removeItem(e.id)}));var b;for(g=(b=e.getEdges()).length;g>=0;g--)n.removeItem(b[g],!1);m&&n.updateCombo(m)}e.destroy(),n.emit("afterremoveitem",{item:r,type:o})}},e.prototype.setItemState=function(e,t,n){var r=this.graph,o=t;(0,vn.isString)(n)&&(o="".concat(t,":").concat(n)),e.hasState(o)===n&&n||(0,vn.isString)(n)&&e.hasState(o)||(r.emit("beforeitemstatechange",{item:e,state:o,enabled:n}),e.setState(t,n),r.autoPaint(),r.emit("afteritemstatechange",{item:e,state:o,enabled:n}))},e.prototype.priorityState=function(e,t){var n=this.graph,r=e;(0,vn.isString)(e)&&(r=n.findById(e)),this.setItemState(r,t,!1),this.setItemState(r,t,!0)},e.prototype.clearItemStates=function(e,t){var n=this.graph;(0,vn.isString)(e)&&(e=n.findById(e)),n.emit("beforeitemstatesclear",{item:e,states:t}),e.clearStates(t),n.emit("afteritemstatesclear",{item:e,states:t})},e.prototype.refreshItem=function(e){var t=this.graph;(0,vn.isString)(e)&&(e=t.findById(e)),t.emit("beforeitemrefresh",{item:e}),e.refresh(),t.emit("afteritemrefresh",{item:e})},e.prototype.addCombos=function(e,t){var n=this,r=this.graph;(e||[]).forEach((function(e){pi(e,(function(e){var r;return t.forEach((function(t){t.id===e.id&&(t.children=e.children,t.depth=e.depth,r=t)})),r&&n.addItem("combo",r),!0}))}));var o=r.get("comboGroup");o&&o.sort()},e.prototype.changeItemVisibility=function(e,t){var n=this,r=this.graph;if((0,vn.isString)(e)&&(e=r.findById(e)),e){if(r.emit("beforeitemvisibilitychange",{item:e,visible:t}),e.changeVisibility(t),e.getType&&e.getType()===xl){var o=e.getEdges();(0,vn.each)(o,(function(e){(!t||e.get("source").isVisible()&&e.get("target").isVisible())&&n.changeItemVisibility(e,t)}))}else if(e.getType&&e.getType()===_l){var i=r.get("comboTrees"),a=e.get("id"),s=[],u=!1;(i||[]).forEach((function(e){u||e.children&&0!==e.children.length&&hi(e,(function(e){return e.id!==a||(s=e.children,u=!0,!1)}))})),s&&(!t||t&&!e.getModel().collapsed)&&s.forEach((function(e){var o=r.findById(e.id);n.changeItemVisibility(o,t)}));o=e.getEdges();(0,vn.each)(o,(function(e){(!t||e.get("source").isVisible()&&e.get("target").isVisible())&&n.changeItemVisibility(e,t)}))}return r.emit("afteritemvisibilitychange",{item:e,visible:t}),e}console.warn("The item to be shown or hidden does not exist!")},e.prototype.destroy=function(){this.graph=null,this.destroyed=!0},e}(),Cl=Tl,Ml=null,Nl=function(){function e(e){this.graph=e,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return e.checkCache=function(e,t,n){if(n[t]){var r=n[t].indexOf(e);r>=0&&n[t].splice(r,1)}},e.cacheState=function(e,t,n){n[t]||(n[t]=[]),n[t].push(e)},e.prototype.updateState=function(t,n,r){var o=this,i=e.checkCache,a=e.cacheState;if(!t.destroyed){var s=this.cachedStates,u=s.enabled,c=s.disabled;r?(i(t,n,c),a(t,n,u)):(i(t,n,u),a(t,n,c)),Ml&&clearTimeout(Ml),Ml=setTimeout((function(){Ml=null,o.updateGraphStates()}),16)}},e.prototype.updateStates=function(e,t,n){var r=this;(0,vn.isString)(t)?this.updateState(e,t,n):t.forEach((function(t){r.updateState(e,t,n)}))},e.prototype.updateGraphStates=function(){var e=this.graph.get("states"),t=this.cachedStates;(0,vn.each)(t.disabled,(function(t,n){e[n]&&(e[n]=e[n].filter((function(e){return t.indexOf(e)<0&&!t.destroyed})))})),(0,vn.each)(t.enabled,(function(t,n){if(e[n]){var r={};e[n].forEach((function(e){e.destroyed||(r[e.get("id")]=!0)})),t.forEach((function(t){if(!t.destroyed){var o=t.get("id");r[o]||(r[o]=!0,e[n].push(t))}}))}else e[n]=t})),this.graph.emit("graphstatechange",{states:e}),this.cachedStates={enabled:{},disabled:{}}},e.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Ml&&clearTimeout(Ml),Ml=null,this.destroyed=!0},e}(),Al=Nl,Pl=function(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,(function(e,n){if("\\"===e.charAt(0))return e.slice(1);var r=t[n];return 0===r&&(r="0"),r||""})):e},Ol=function(e){var t=[];if(e.length<2)throw new Error("point length must largn than 2, now it's ".concat(e.length));for(var n=0,r=e;n<r.length;n++){var o=r[n],i=o.x,a=o.y;t.push(i),t.push(a)}var s=bc(t);return s.unshift(["M",e[0].x,e[0].y]),s},Il=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var o={x:(1-n)*e.x+n*t.x,y:(1-n)*e.y+n*t.y},i=[0,0];ao(i,[t.x-e.x,t.y-e.y]),i&&(i[0]||i[1])||(i=[0,0]);var a=[-i[1]*r,i[0]*r];return o.x+=a[0],o.y+=a[1],o},Dl=function(e,t){var n=e.length;if(!n)return"";for(var r="",o=0;o<n;o++){var i=e[o];r+=Pl(0===o?"M{x} {y}":"L{x} {y}",i)}return t&&(r+="Z"),r},Rl=function(e){var t=[];return e.forEach((function(e){if("A"!==e[0])for(var n=1;n<e.length;n+=2)t.push([e[n],e[n+1]]);else{var r=e.length;t.push([e[r-2],e[r-1]])}})),t},Ll=function(e){if(e.length<2)throw new Error("point length must largn than 2, now it's ".concat(e.length));var t=e[0],n=e[1],r=e[e.length-1],o=e[e.length-2];e.unshift(r),e.unshift(o),e.push(t),e.push(n);for(var i=[],a=1;a<e.length-2;a+=1){var s=e[a-1].x,u=e[a-1].y,c=e[a].x,l=e[a].y,f=e[a+1].x,d=e[a+1].y,h=c+(f-s)/6,p=l+(d-u)/6,g=f-((a!==e.length-2?e[a+2].x:f)-c)/6,v=d-((a!==e.length-2?e[a+2].y:d)-l)/6;i.push(["C",h,p,g,v,f,d])}return i.unshift(["M",r.x,r.y]),i},jl=function(e,t){return oo([0,0],ao([0,0],e),t)},Fl=function(e,t){var n=[e[1]-t[1],t[0]-e[0]],r=Math.sqrt(n[0]*n[0]+n[1]*n[1]);if(0===r)throw new Error("p0 should not be equal to p1");return[n[0]/r,n[1]/r]},Bl=function(e,t){return[t[0]-e[0],t[1]-e[1]]};function zl(e,t){if(!e||e.length<1)return"";if(1===e.length)return function(e){var n=[e[0][0],e[0][1]-t],r=[e[0][0],e[0][1]+t];return"M ".concat(n," A ").concat(t,",").concat(t,",0,0,0,").concat(r," A ").concat(t,",").concat(t,",0,0,0,").concat(n)}(e);if(2===e.length)return function(e){var n=oo([0,0],Fl(e[0],e[1]),t),r=oo([0,0],n,-1),o=to([0,0],e[0],n),i=to([0,0],e[1],n),a=to([0,0],e[1],r),s=to([0,0],e[0],r);return"M ".concat(o," L ").concat(i," A ").concat([t,t,"0,0,0",a].join(",")," L ").concat(s," A ").concat([t,t,"0,0,0",o].join(","))}(e);for(var n=new Array(e.length),r=0;r<n.length;++r){var o=0===r?e[e.length-1]:e[r-1],i=e[r],a=oo([0,0],Fl(o,i),t);n[r]=[to([0,0],o,a),to([0,0],i,a)]}var s="A ".concat([t,t,"0,0,0,"].join(","));return n=n.map((function(e,t){var r="";return 0===t&&(r="M ".concat(n[n.length-1][1]," ")),r+="".concat(s+e[0]," L ").concat(e[1])})),n.join(" ")}function Gl(e,t){var n=e.length;if(!e||n<1)return"";if(1===n)return function(e){var n=[e[0][0],e[0][1]-t],r=[e[0][0],e[0][1]+t];return"M ".concat(n," A ").concat([t,t,"0,0,0",r].join(",")," A ").concat([t,t,"0,0,0",n].join(","))}(e);if(2===n)return function(e){var n=Bl(e[0],e[1]),r=jl(n,t),o=to([0,0],e[0],oo([0,0],r,-1)),i=to([0,0],e[1],r),a=1.2*t,s=jl(ao([0,0],n),a),u=oo([0,0],s,-1),c=to([0,0],o,u),l=to([0,0],i,u),f=to([0,0],o,s);return"M ".concat(o," C ").concat([c,l,i].join(",")," S ").concat([f,o].join(",")," Z")}(e);for(var r=e.map((function(t,r){var o=e[(r+1)%n];return{p:t,v:ao([0,0],Bl(t,o))}})),o=0;o<r.length;++o){var i=ao([0,0],to([0,0],r[o>0?o-1:n-1].v,oo([0,0],r[o].v,-1)));r[o].p=to([0,0],r[o].p,oo([0,0],i,t))}return r.map((function(e){var t=e.p;return{x:t[0],y:t[1]}}))}var Vl=function(e,t,n){return(e.y-n.y)*(t.x-n.x)-(e.x-n.x)*(t.y-n.y)},Ul=function(e){var t=e.map((function(e){return{x:e.getModel().x,y:e.getModel().y}}));if(t.sort((function(e,t){return e.x===t.x?e.y-t.y:e.x-t.x})),1===t.length)return t;for(var n=[],r=0;r<t.length;r++){for(;n.length>=2&&Vl(n[n.length-2],n[n.length-1],t[r])<=0;)n.pop();n.push(t[r])}var o=[];for(r=t.length-1;r>=0;r--){for(;o.length>=2&&Vl(o[o.length-2],o[o.length-1],t[r])<=0;)o.pop();o.push(t[r])}return o.pop(),n.pop(),n.concat(o)},Wl={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function Zl(e,t,n){var r=!1,o=function(e,n){return t.cells[e+n*t.width]},i=function(e,t){var r=0;return o(e-1,t-1)>=n&&(r+=1),o(e,t-1)>n&&(r+=2),o(e-1,t)>n&&(r+=4),o(e,t)>n&&(r+=8),r},a=function(n,r){for(var o,a,s=n,u=r,c=0;c<t.width*t.height;c++){if(o=s,a=u,e.findIndex((function(e){return e.x===s&&e.y===u}))>-1){if(e[0].x===s&&e[0].y===u)return!0}else e.push({x:s,y:u});var l=i(s,u);switch(l){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:s++;break;case 12:case 14:case 4:s--;break;case 6:0===o&&(-1===a?s-=1:s+=1);break;case 1:case 13:case 5:u--;break;case 9:1===o&&(0===a?u-=1:u+=1);break;case 10:case 8:case 11:u++;break;default:return console.warn("Marching squares invalid state: ".concat(l)),!0}}};this.march=function(){for(var e=0;e<t.width&&!r;e+=1)for(var s=0;s<t.height&&!r;s+=1)o(e,s)>n&&15!==i(e,s)&&(r=a(e,s));return r}}var Yl=function(e,t){var n=Number.POSITIVE_INFINITY,r=null;return e.forEach((function(e){var o=Fo(e,t);o>=0&&o<n&&(r=e,n=o)})),r};function Hl(e,t,n,r,o){var i=function(e,t,n){var r=null,o=Number.POSITIVE_INFINITY;return t.forEach((function(t){var i={x:e.getModel().x,y:e.getModel().y},a={x:t.getModel().x,y:t.getModel().y},s=zo(i,a),u=new Do(i.x,i.y,a.x,a.y),c=n.reduce((function(e,t){return Fo(t,u)>0?e+1:e}),0);s*Math.pow(c+1,2)<o&&(r=t,o=s*Math.pow(c+1,2))})),r}(e,n,t);if(null===i)return[];var a=function(e,t,n,r){var o=[],i=[];i.push(e);for(var a=!0,s=0,u=function(e,t){var n=!1;return t.forEach((function(t){n||(Vo(e,{x:t.x1,y:t.y1})||Vo(e,{x:t.x2,y:t.y2}))&&(n=!0)})),n},c=function(e,t){for(var n=0,r=t;n<r.length;n++){var o=r[n].getBBox(),i=[[o.x,o.y],[o.x+o.width,o.y],[o.x,o.y+o.height],[o.x+o.width,o.y+o.height]];if(Po(i,e.x,e.y))return!0}return!1};a&&s<n;){a=!1;for(var l=function(){var e=i.pop(),n=Yl(t,e);if(n){var l=jo(n,e),f=l[0];if(2===l[1]){var d=function(s){for(var l=r,d=ql(n,l,f,s),h=u(d,i)||u(d,o),p=c(d,t);!h&&p&&l>=1;)d=ql(n,l/=1.5,f,s),h=u(d,i)||u(d,o),p=c(d,t);!d||h||s&&p||(i.push(new Do(e.x1,e.y1,d.x,d.y)),i.push(new Do(d.x,d.y,e.x2,e.y2)),a=!0)};d(!0),a||d(!1)}}a||o.push(e),s+=1};!a&&i.length;)l()}for(;i.length;)o.push(i.pop());return o}(new Do(e.getModel().x,e.getModel().y,i.getModel().x,i.getModel().y),t,r,o),s=function(e){for(var n=[];e.length>0;){var r=e.pop();if(0===e.length){n.push(r);break}var o=e.pop(),i=new Do(r.x1,r.y1,o.x2,o.y2);Yl(t,i)?(n.push(r),e.push(o)):e.push(i)}return n}(a);return s}var Xl=function(e,t,n){var r=Object.assign(Wl,n),o=Bo(e.map((function(e){return{x:e.getModel().x,y:e.getModel().y}})));e=e.sort((function(e,t){return zo({x:e.getModel().x,y:e.getModel().y},o)-zo({x:t.getModel().x,y:t.getModel().y},o)}));var i=[],a=[];e.forEach((function(e){Hl(e,t,i,r.maxRoutingIterations,r.morphBuffer).forEach((function(e){a.push(e)})),i.push(e)}));for(var s=function(e,t,n){var r={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},o=[];e.forEach((function(e){o.push(e.getBBox())})),t.forEach((function(e){o.push(e.getBBox())}));for(var i=0,a=o;i<a.length;i++){var s=a[i];r.minX=(s.minX<r.minX?s.minX:r.minX)-n,r.minY=(s.minY<r.minY?s.minY:r.minY)-n,r.maxX=(s.maxX>r.maxX?s.maxX:r.maxX)+n,r.maxY=(s.maxY>r.maxY?s.maxY:r.maxY)+n}return r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.x=r.minX,r.y=r.minY,r}(e,a,r.nodeR0),u=function(e,t,n){var r=Math.ceil(e/n),o=Math.ceil(t/n);return{cells:new Float32Array(Math.max(0,r*o)).fill(0),width:r,height:o}}(s.width,s.height,r.pixelGroupSize),c=[],l=[],f=0;f<r.maxMarchingIterations;f++)if(Kl(e,t,a,s,u,r),l=[],new Zl(c=[],u,r.threshold).march()){var d=c.map((function(e){return{x:Math.round(e.x*r.pixelGroupSize+s.minX),y:Math.round(e.y*r.pixelGroupSize+s.minY)}}));if(d){var h=d.length;if(r.skip>1)for(h=Math.floor(d.length/r.skip);h<3&&r.skip>1;)r.skip-=1,h=Math.floor(d.length/r.skip);for(var p=0,g=0;g<h;g+=1,p+=r.skip)l.push({x:d[p].x,y:d[p].y})}if(l&&function(){for(var t=0,n=e;t<n.length;t++){var r=n[t],o=l.map((function(e){return[e.x,e.y]}));if(!Po(o,r.getBBox().centerX,r.getBBox().centerY))return!1}return!0}())return l;if(r.threshold*=.9,f<=.5*r.maxMarchingIterations)r.memberInfluenceFactor*=1.2,r.edgeInfluenceFactor*=1.2;else{if(!(0!==r.nonMemberInfluenceFactor&&t.length>0))break;r.nonMemberInfluenceFactor*=.8}}return l};function Kl(e,t,n,r,o,i){function a(e,t){var n=Math.floor((e-t)/i.pixelGroupSize);return n<0?0:n}function s(e,t){return e*i.pixelGroupSize+t}var u=(i.nodeR0-i.nodeR1)*(i.nodeR0-i.nodeR1),c=(i.edgeR0-i.edgeR1)*(i.edgeR0-i.edgeR1),l=function(e,t){return[Math.min(a(e.minX,t+r.minX),o.width),Math.min(a(e.minY,t+r.minY),o.height),Math.min(a(e.maxX,-t+r.minX),o.width),Math.min(a(e.maxY,-t+r.minY),o.height)]},f=function(e,t){for(var n=e.getBBox(),a=l(n,i.nodeR1),u=a[0],c=a[1],f=a[2],d=a[3],h=c;h<d;h+=1)for(var p=u;p<f;p+=1)if(!(t<0&&o[p+h*o.width]<=0)){var g=s(p,r.minX),v=s(h,r.minY),m=Uo({x:g,y:v},{x:n.minX,y:n.minY,width:n.width,height:n.height});if(m<Math.pow(i.nodeR1,2)){var y=Math.sqrt(m)-i.nodeR1;o.cells[p+h*o.width]+=t*y*y}}};i.nodeInfluenceFactor&&e.forEach((function(e){f(e,i.nodeInfluenceFactor/u)})),i.edgeInfluenceFactor&&n.forEach((function(e){!function(e,t){for(var n=e.getBBox(),a=l(n,i.edgeR1),u=a[0],c=a[1],f=a[2],d=a[3],h=c;h<d;h+=1)for(var p=u;p<f;p+=1)if(!(t<0&&o.cells[p+h*o.width]<=0)){var g=s(p,r.minX),v=s(h,r.minY),m=Go({x:g,y:v},e);if(m<Math.pow(i.edgeR1,2)){var y=Math.sqrt(m)-i.edgeR1;o.cells[p+h*o.width]+=t*y*y}}}(e,i.edgeInfluenceFactor/c)})),i.negativeNodeInfluenceFactor&&t.forEach((function(e){f(e,i.negativeNodeInfluenceFactor/u)}))}function ql(e,t,n,r){var o=e.getBBox(),i=n[0],a=n[1],s=n[2],u=n[3],c={topLeft:{x:o.minX-t,y:o.minY-t},topRight:{x:o.maxX+t,y:o.minY-t},bottomLeft:{x:o.minX-t,y:o.maxY+t},bottomRight:{x:o.maxX+t,y:o.maxY+t}},l=o.height*o.width;function f(e,t){return o.width*(.5*(e.y-o.minY+(t.y-o.minY)))}if(a)return i?r?c.topLeft:c.bottomRight:s?r?c.bottomLeft:c.topRight:f(a,u)<.5*l?a.y>u.y?r?c.topLeft:c.bottomRight:r?c.topRight:c.bottomLeft:a.y<u.y?r?c.bottomLeft:c.topRight:r?c.bottomRight:c.topLeft;if(u){if(i)return r?c.topRight:c.bottomLeft;if(s)return r?c.bottomRight:c.topLeft}return f(i,s)<.5*l?i.x>s.x?r?c.topLeft:c.bottomRight:r?c.bottomLeft:c.topRight:i.x<s.x?r?c.topRight:c.bottomLeft:r?c.bottomRight:c.topLeft}var $l=function(){function e(e,t){this.cfg=(0,vn.deepMix)(this.getDefaultCfg(),t),this.graph=e,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map((function(t){return(0,vn.isString)(t)?e.findById(t):t})),this.nonMembers=this.cfg.nonMembers.map((function(t){return(0,vn.isString)(t)?e.findById(t):t})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return e.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},e.prototype.setPadding=function(){var e=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+e:10+e,this.cfg.bubbleCfg={nodeR0:this.padding-e,nodeR1:this.padding-e,morphBuffer:this.padding-e}},e.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),"round-convex"!==this.type&&"smooth-convex"!==this.type&&"bubble"!==this.type&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},e.prototype.calcPath=function(e,t){var n,r,o;switch(this.type){case"round-convex":o=zl((n=Ul(e)).map((function(e){return[e.x,e.y]})),this.padding),r=Ec(o);break;case"smooth-convex":2===(n=Ul(e)).length?(o=zl(n.map((function(e){return[e.x,e.y]})),this.padding),r=Ec(o)):n.length>2&&(o=Gl(n.map((function(e){return[e.x,e.y]})),this.padding),r=Ll(o));break;case"bubble":r=(n=Xl(e,t,this.cfg.bubbleCfg)).length>=2&&Ll(n)}return r},e.prototype.render=function(){this.group.addShape("path",{attrs:(0,gn.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id,capture:!1}),this.group.toBack()},e.prototype.addMember=function(e){if(e){(0,vn.isString)(e)&&(e=this.graph.findById(e)),this.members.push(e);var t=this.nonMembers.indexOf(e);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},e.prototype.addNonMember=function(e){if(e){(0,vn.isString)(e)&&(e=this.graph.findById(e)),this.nonMembers.push(e);var t=this.members.indexOf(e);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},e.prototype.removeMember=function(e){if(e){(0,vn.isString)(e)&&(e=this.graph.findById(e));var t=this.members.indexOf(e);return t>-1&&(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0)}},e.prototype.removeNonMember=function(e){if(e){(0,vn.isString)(e)&&(e=this.graph.findById(e));var t=this.nonMembers.indexOf(e);return t>-1&&(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0)}},e.prototype.updateData=function(e,t){var n=this;this.group.findById(this.id).remove(),e&&(this.members=e.map((function(e){return(0,vn.isString)(e)?n.graph.findById(e):e}))),t&&(this.nonMembers=t.map((function(e){return(0,vn.isString)(e)?n.graph.findById(e):e}))),this.path=this.calcPath(this.members,this.nonMembers),this.render()},e.prototype.updateStyle=function(e){this.group.findById(this.id).attr((0,gn.__assign)({},e))},e.prototype.updateCfg=function(e){var t=this;this.cfg=(0,vn.deepMix)(this.cfg,e),this.id=this.cfg.id,this.group=this.cfg.group,e.members&&(this.members=this.cfg.members.map((function(e){return(0,vn.isString)(e)?t.graph.findById(e):e}))),e.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map((function(e){return(0,vn.isString)(e)?t.graph.findById(e):e}))),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},e.prototype.contain=function(e){var t,n,r=this,o=(t=(0,vn.isString)(e)?this.graph.findById(e):e).getKeyShape();if("path"===t.get("type"))n=Rl(o.attr("path"));else{var i=o.getCanvasBBox();n=[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}return n=n.map((function(e){var t=r.graph.getPointByCanvas(e[0],e[1]);return[t.x,t.y]})),Io(n,Rl(this.path))},e.prototype.destroy=function(){this.group.remove(),this.cfg=null},e}(),Jl=$l,Ql=Mn,ef=function(e){function t(t){var n=e.call(this)||this;return n.cfg=(0,vn.deepMix)(n.getDefaultCfg(),t),n.init(),n.animating=!1,n.destroyed=!1,n.cfg.enabledStack&&(n.undoStack=new qr(n.cfg.maxStep),n.redoStack=new qr(n.cfg.maxStep)),n}return(0,gn.__extends)(t,e),t.prototype.init=function(){this.initCanvas();var e=new Uc(this),t=new Si(this),n=new Cl(this),r=new Al(this);this.set({viewController:e,modeController:t,itemController:n,stateController:r}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},t.prototype.initGroups=function(){var e=this.get("canvas");if(e){var t=(e.get("el")||{}).id,n=void 0===t?"g6":t,r=e.addGroup({id:"".concat(n,"-root"),className:ti.rootContainerClassName});if(this.get("groupByTypes")){var o=r.addGroup({id:"".concat(n,"-edge"),className:ti.edgeContainerClassName}),i=r.addGroup({id:"".concat(n,"-node"),className:ti.nodeContainerClassName}),a=r.addGroup({id:"".concat(n,"-combo"),className:ti.comboContainerClassName});a.toBack(),this.set({nodeGroup:i,edgeGroup:o,comboGroup:a})}var s=r.addGroup({id:"".concat(n,"-delegate"),className:ti.delegateContainerClassName});this.set({delegateGroup:s}),this.set("group",r)}},t.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[]}},t.prototype.set=function(e,t){return(0,vn.isPlainObject)(e)?this.cfg=(0,gn.__assign)((0,gn.__assign)({},this.cfg),e):this.cfg[e]=t,"enabledStack"!==e||!t||this.undoStack||this.redoStack||(this.undoStack=new qr(this.cfg.maxStep),this.redoStack=new qr(this.cfg.maxStep)),this},t.prototype.get=function(e){var t;return null===(t=this.cfg)||void 0===t?void 0:t[e]},t.prototype.getGroup=function(){return this.get("group")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.getMinZoom=function(){return this.get("minZoom")},t.prototype.setMinZoom=function(e){return this.set("minZoom",e)},t.prototype.getMaxZoom=function(){return this.get("maxZoom")},t.prototype.setMaxZoom=function(e){return this.set("maxZoom",e)},t.prototype.getWidth=function(){return this.get("width")},t.prototype.getHeight=function(){return this.get("height")},t.prototype.clearItemStates=function(e,t){(0,vn.isString)(e)&&(e=this.findById(e));var n=this.get("itemController");t||(t=e.get("states")),n.clearItemStates(e,t),this.get("stateController").updateStates(e,t,!1)},t.prototype.node=function(e){"function"===typeof e&&this.set("nodeMapper",e)},t.prototype.edge=function(e){"function"===typeof e&&this.set("edgeMapper",e)},t.prototype.combo=function(e){"function"===typeof e&&this.set("comboMapper",e)},t.prototype.findById=function(e){return this.get("itemMap")[e]},t.prototype.find=function(e,t){var n,r=this.get("".concat(e,"s"));return(0,vn.each)(r,(function(e,r){if(t(e,r))return n=e})),n},t.prototype.findAll=function(e,t){var n=[];return(0,vn.each)(this.get("".concat(e,"s")),(function(e,r){t(e,r)&&n.push(e)})),n},t.prototype.findAllByState=function(e,t){return this.findAll(e,(function(e){return e.hasState(t)}))},t.prototype.getAnimateCfgWithCallback=function(e){var t,n=e.animateCfg,r=e.callback;if(n)if(t=(0,vn.clone)(n),n.callback){var o=n.callback;t.callback=function(){r(),o()}}else t.callback=r;else t={duration:500,callback:r};return t},t.prototype.translate=function(e,t,n,r){var o=this,i=this.get("group"),a=(0,vn.clone)(i.getMatrix());if(a||(a=[1,0,0,0,1,0,0,0,1]),n){var s=this.getAnimateCfgWithCallback({animateCfg:r,callback:function(){return o.emit("viewportchange",{action:"translate",matrix:i.getMatrix()})}});To(i,{x:i.getCanvasBBox().x+e,y:i.getCanvasBBox().y+t},n,s||{duration:500,easing:"easeCubic"})}else a=Ql(a,[["t",e,t]]),i.setMatrix(a),this.emit("viewportchange",{action:"translate",matrix:a}),this.autoPaint()},t.prototype.moveTo=function(e,t,n,r){var o=this.get("group");To(o,{x:e,y:t},n,r||{duration:500,easing:"easeCubic"}),this.emit("viewportchange",{action:"move",matrix:o.getMatrix()})},t.prototype.fitView=function(e,t){e&&this.set("fitViewPadding",e);var n=this.get("viewController");t?n.fitViewByRules(t):n.fitView(),this.autoPaint()},t.prototype.fitCenter=function(){this.get("viewController").fitCenter(),this.autoPaint()},t.prototype.addBehaviors=function(e,t){return this.get("modeController").manipulateBehaviors(e,t,!0),this},t.prototype.removeBehaviors=function(e,t){return this.get("modeController").manipulateBehaviors(e,t,!1),this},t.prototype.updateBehavior=function(e,t,n){return this.get("modeController").updateBehavior(e,t,n),this},t.prototype.zoom=function(e,t,n,r){var o=this,i=this.get("group"),a=(0,vn.clone)(i.getMatrix()),s=this.get("minZoom"),u=this.get("maxZoom");if(a||(a=[1,0,0,0,1,0,0,0,1]),a=Ql(a,t?[["t",-t.x,-t.y],["s",e,e],["t",t.x,t.y]]:[["s",e,e]]),s&&a[0]<s||u&&a[0]>u)return!1;if(n){var c=(0,vn.clone)(i.getMatrix());c||(c=[1,0,0,0,1,0,0,0,1]);var l=c[0],f=l*e,d=this.getAnimateCfgWithCallback({animateCfg:r,callback:function(){return o.emit("viewportchange",{action:"zoom",matrix:i.getMatrix()})}});i.animate((function(e){if(1===e)c=a;else{var n=Zo(l,f,e)/c[0];c=Ql(c,t?[["t",-t.x,-t.y],["s",n,n],["t",t.x,t.y]]:[["s",n,n]])}return{matrix:c}}),d)}else i.setMatrix(a),this.emit("viewportchange",{action:"zoom",matrix:a}),this.autoPaint();return!0},t.prototype.zoomTo=function(e,t,n,r){var o=e/this.getZoom();return this.zoom(o,t,n,r)},t.prototype.focusItem=function(e,t,n){var r=this.get("viewController"),o=!1;t?o=!0:void 0===t&&(o=this.get("animate"));var i={};n?i=n:void 0===n&&(i=this.get("animateCfg")),r.focus(e,o,i),this.autoPaint()},t.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},t.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},t.prototype.getPointByClient=function(e,t){return this.get("viewController").getPointByClient(e,t)},t.prototype.getClientByPoint=function(e,t){return this.get("viewController").getClientByPoint(e,t)},t.prototype.getPointByCanvas=function(e,t){return this.get("viewController").getPointByCanvas(e,t)},t.prototype.getCanvasByPoint=function(e,t){return this.get("viewController").getCanvasByPoint(e,t)},t.prototype.getGraphCenterPoint=function(){var e=this.get("group").getCanvasBBox();return{x:(e.minX+e.maxX)/2,y:(e.minY+e.maxY)/2}},t.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},t.prototype.showItem=function(e,t){void 0===t&&(t=!0);var n=this.get("itemController").changeItemVisibility(e,!0);if(t&&this.get("enabledStack")){var r=n.getID(),o={},i={};switch(n.getType()){case"node":o.nodes=[{id:r,visible:!1}],i.nodes=[{id:r,visible:!0}];break;case"edge":o.nodes=[{id:r,visible:!1}],i.edges=[{id:r,visible:!0}];break;case"combo":o.nodes=[{id:r,visible:!1}],i.combos=[{id:r,visible:!0}]}this.pushStack("visible",{before:o,after:i})}},t.prototype.hideItem=function(e,t){void 0===t&&(t=!0);var n=this.get("itemController").changeItemVisibility(e,!1);if(t&&this.get("enabledStack")){var r=n.getID(),o={},i={};switch(n.getType()){case"node":o.nodes=[{id:r,visible:!0}],i.nodes=[{id:r,visible:!1}];break;case"edge":o.nodes=[{id:r,visible:!0}],i.edges=[{id:r,visible:!1}];break;case"combo":o.nodes=[{id:r,visible:!0}],i.combos=[{id:r,visible:!1}]}this.pushStack("visible",{before:o,after:i})}},t.prototype.refreshItem=function(e){this.get("itemController").refreshItem(e)},t.prototype.setAutoPaint=function(e){this.set("autoPaint",e),this.get("canvas").set("autoDraw",e)},t.prototype.remove=function(e,t){void 0===t&&(t=!0),this.removeItem(e,t)},t.prototype.removeItem=function(e,t){void 0===t&&(t=!0);var n=e;if((0,vn.isString)(e)&&(n=this.findById(e)),!n&&(0,vn.isString)(e))console.warn("The item ".concat(e," to be removed does not exist!"));else if(n){var r="";if(n.getType&&(r=n.getType()),t&&this.get("enabledStack")){var o=(0,gn.__assign)((0,gn.__assign)({},n.getModel()),{itemType:r}),i={};switch(r){case"node":i.nodes=[o],i.edges=[];for(var a=n.getEdges(),s=a.length-1;s>=0;s--)i.edges.push((0,gn.__assign)((0,gn.__assign)({},a[s].getModel()),{itemType:"edge"}));break;case"edge":i.edges=[o];break;case"combo":i.combos=[o]}this.pushStack("delete",{before:i,after:{}})}if("node"===r)n.getModel().comboId&&this.updateComboTree(n,void 0,!1);if(this.get("itemController").removeItem(n),"combo"===r){var u=yi(this.get("comboTrees"));this.set("comboTrees",u)}}},t.prototype.addItem=function(e,t,n,r){void 0===n&&(n=!0),void 0===r&&(r=!0);var o=this.get("comboSorted");this.set("comboSorted",o&&!r);var i=this.get("itemController");if(!function(e,t){if("node"===e||"combo"===e){if(t.id&&!(0,vn.isString)(t.id))return console.warn("G6 Warning Tips: missing 'id' property, or the 'id' %c".concat(t.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1}else if("edge"===e&&(!t.source||!t.target))return console.warn("G6 Warning Tips: missing 'source' or 'target' for the edge."),!1;return!0}(e,t))return!1;if(!t.id||!this.findById(t.id)){var a,s=this.get("comboTrees")||[];if("combo"===e){var u=this.get("itemMap"),c=!1;if(s.forEach((function(n){c||pi(n,(function(n){if(t.parentId===n.id){c=!0;var r=(0,gn.__assign)({id:t.id,depth:n.depth+2},t);n.children?n.children.push(r):n.children=[r],t.depth=r.depth,a=i.addItem(e,t)}var o=u[n.id];return c&&o&&o.getType&&"combo"===o.getType()&&i.updateCombo(o,n.children),!0}))})),!c){var l=(0,gn.__assign)({id:t.id,depth:0},t);t.depth=l.depth,s.push(l),a=i.addItem(e,t)}this.set("comboTrees",s)}else if("node"===e&&(0,vn.isString)(t.comboId)&&s){var f;(f=this.findById(t.comboId))&&f.getType&&"combo"!==f.getType()&&console.warn("'".concat(t.comboId,"' is not a id of a combo in the graph, the node will be added without combo.")),a=i.addItem(e,t);var d=this.get("itemMap"),h=!1,p=!1;s.forEach((function(e){p||h||pi(e,(function(e){if(e.id===t.id)return p=!0,!1;if(t.comboId===e.id&&!p){h=!0;var n=(0,vn.clone)(t);n.itemType="node",e.children?e.children.push(n):e.children=[n],n.depth=e.depth+1}return h&&d[e.id].getType&&"combo"===d[e.id].getType()&&i.updateCombo(d[e.id],e.children),!0}))}))}else a=i.addItem(e,t);if("node"===e&&t.comboId||"combo"===e&&t.parentId)(f=this.findById(t.comboId||t.parentId))&&f.getType&&"combo"===f.getType()&&f.addChild(a);var g=this.get("combos");if(g&&g.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var v=(0,gn.__assign)((0,gn.__assign)({},a.getModel()),{itemType:e}),m={};switch(e){case"node":m.nodes=[v];break;case"edge":m.edges=[v];break;case"combo":m.combos=[v]}this.pushStack("add",{before:{},after:m})}return a}console.warn("This item exists already. Be sure the id %c".concat(t.id,"%c is unique."),"font-size: 20px; color: red;","")},t.prototype.add=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=!0),this.addItem(e,t,n,r)},t.prototype.updateItem=function(e,t,n){var r=this;void 0===n&&(n=!0);var o,i=this.get("itemController");o=(0,vn.isString)(e)?this.findById(e):e;var a=(0,vn.clone)(o.getModel()),s="";o.getType&&(s=o.getType());var u=(0,gn.__spreadArray)([],o.getStates(),!0);if("combo"===s&&(0,vn.each)(u,(function(e){return r.setItemState(o,e,!1)})),i.updateItem(o,t),"combo"===s&&(0,vn.each)(u,(function(e){return r.setItemState(o,e,!0)})),n&&this.get("enabledStack")){var c={nodes:[],edges:[],combos:[]},l={nodes:[],edges:[],combos:[]},f=(0,gn.__assign)({id:a.id},t);switch(s){case"node":c.nodes.push(a),l.nodes.push(f);break;case"edge":c.edges.push(a),l.edges.push(f);break;case"combo":c.combos.push(a),l.combos.push(f)}"node"===s&&c.nodes.push(a),this.pushStack("update",{before:c,after:l})}},t.prototype.update=function(e,t,n){void 0===n&&(n=!0),this.updateItem(e,t,n)},t.prototype.setItemState=function(e,t,n){(0,vn.isString)(e)&&(e=this.findById(e)),this.get("itemController").setItemState(e,t,n);var r=this.get("stateController");(0,vn.isString)(n)?r.updateState(e,"".concat(t,":").concat(n),!0):r.updateState(e,t,n)},t.prototype.priorityState=function(e,t){this.get("itemController").priorityState(e,t)},t.prototype.data=function(e){Ei(e),this.set("data",e)},t.prototype.render=function(){var e=this;this.set("comboSorted",!1);var t=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!t)throw new Error("data must be defined first");var n=t.nodes,r=void 0===n?[]:n,o=t.edges,i=void 0===o?[]:o,a=t.combos,s=void 0===a?[]:a;if(this.clear(!0),this.emit("beforerender"),(0,vn.each)(r,(function(t){e.add("node",t,!1,!1)})),0!==(null===s||void 0===s?void 0:s.length)){var u=mi(s,r);this.set("comboTrees",u),e.addCombos(s)}(0,vn.each)(i,(function(t){e.add("edge",t,!1,!1)}));var c=e.get("animate");(e.get("fitView")||e.get("fitCenter"))&&e.set("animate",!1);var l=e.get("layoutController");if(l){if(l.layout((function(){e.get("fitView")?e.fitView():e.get("fitCenter")&&e.fitCenter();e.autoPaint(),e.emit("afterrender"),(e.get("fitView")||e.get("fitCenter"))&&e.set("animate",c)})),this.destroyed)return}else e.get("fitView")&&e.fitView(),e.get("fitCenter")&&e.fitCenter(),e.emit("afterrender"),e.set("animate",c);this.get("groupByTypes")||(s&&0!==s.length?this.sortCombos():t.nodes&&t.edges&&t.nodes.length<t.edges.length?this.getNodes().forEach((function(e){e.toFront()})):this.getEdges().forEach((function(e){e.toBack()})));this.get("enabledStack")&&this.pushStack("render")},t.prototype.read=function(e){this.data(e),this.render()},t.prototype.diffItems=function(e,t,n){var r,o=this,i=this.get("itemMap");(0,vn.each)(n,(function(n){if(r=i[n.id]){if(o.get("animate")&&"node"===e){var a=r.getContainer().getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),r.set("originAttrs",{x:a[6],y:a[7]})}o.updateItem(r,n,!1)}else r=o.addItem(e,n,!1);r&&t["".concat(e,"s")].push(r)}))},t.prototype.changeData=function(e,t){void 0===t&&(t=!0);var n=this,r=e||n.get("data");if(!Ei(r))return this;t&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.save(),after:r}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map((function(e){return n.clearItemStates(e)})),this.getEdges().map((function(e){return n.clearItemStates(e)}));var o=this.get("canvas"),i=o.get("localRefresh");o.set("localRefresh",!1),n.get("data")||(n.data(r),n.render());var a=this.get("itemMap"),s={nodes:[],edges:[]},u=r.combos;if(u){var c=mi(u,r.nodes);this.set("comboTrees",c)}else this.set("comboTrees",[]);this.diffItems("node",s,r.nodes),(0,vn.each)(a,(function(e,t){a[t].getModel().depth=0,e.getType&&"edge"===e.getType()||(e.getType&&"combo"===e.getType()?(delete a[t],e.destroy()):s.nodes.indexOf(e)<0&&(delete a[t],n.remove(e,!1)))}));for(var l=this.getCombos(),f=l.length-1;f>=0;f--)l[f].destroyed&&l.splice(f,1);u&&(n.addCombos(u),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",s,r.edges),(0,vn.each)(a,(function(e,t){(!e.getType||"node"!==e.getType()&&"combo"!==e.getType())&&s.edges.indexOf(e)<0&&(delete a[t],n.remove(e,!1))})),this.set({nodes:s.nodes,edges:s.edges});var d=this.get("layoutController");return d&&(d.changeData(),n.get("animate")&&!d.getLayoutType()?n.positionsAnimate():n.autoPaint()),setTimeout((function(){o.set("localRefresh",i)}),16),this},t.prototype.addCombos=function(e){var t=this.get("comboTrees");this.get("itemController").addCombos(t,e)},t.prototype.createCombo=function(e,t){var n=this;this.set("comboSorted",!1);var r,o="";if(e){if((0,vn.isString)(e))o=e,r={id:e};else{if(!(o=e.id))return void console.warn("Create combo failed. Please assign a unique string id for the adding combo.");r=e}var i=t.map((function(e){var t=n.findById(e),r=t.getModel(),i="";t.getType&&(i=t.getType());var a={id:t.getID(),itemType:i};return"combo"===i?(a.parentId=o,r.parentId=o):"node"===i&&(a.comboId=o,r.comboId=o),a}));r.children=i,this.addItem("combo",r,!1),this.set("comboSorted",!1);var a=this.get("comboTrees");(a||[]).forEach((function(e){pi(e,(function(e){return e.id!==o||(e.itemType="combo",e.children=i,!1)}))})),a&&this.sortCombos()}},t.prototype.uncombo=function(e){var t,n=this,r=e;if((0,vn.isString)(e)&&(r=this.findById(e)),!r||r.getType&&"combo"!==r.getType())console.warn("The item is not a combo!");else{var o=r.getModel().parentId,i=this.get("comboTrees");i||(i=[]);var a,s=this.get("itemMap"),u=r.get("id"),c=[],l=this.get("combos"),f=this.findById(o);if(i.forEach((function(e){a||pi(e,(function(e){var t;if(e.id===u){a=e;var i=r.getEdges().map((function(e){return e.getID()}));i.forEach((function(e){n.removeItem(e,!1)}));var d=l.indexOf(r);l.splice(d,1),delete s[u],r.destroy(),n.emit("afterremoveitem",{item:r,type:"combo"})}return!o||!a||e.id!==o||(f.removeCombo(r),-1!==(d=(c=e.children).indexOf(a))&&c.splice(d,1),null===(t=a.children)||void 0===t||t.forEach((function(e){var t=n.findById(e.id),r=t.getModel();t.getType&&"combo"===t.getType()?(e.parentId=o,delete e.comboId,r.parentId=o,delete r.comboId):t.getType&&"node"===t.getType()&&(e.comboId=o,r.comboId=o),f.addChild(t),c.push(e)})),!1)}))})),!o&&a){var d=i.indexOf(a);i.splice(d,1),null===(t=a.children)||void 0===t||t.forEach((function(e){e.parentId=void 0;var t=n.findById(e.id).getModel();delete t.parentId,delete t.comboId,"node"!==e.itemType&&i.push(e)}))}}},t.prototype.updateCombos=function(e){var t=this;void 0===e&&(e=!1);var n=this,r=this.get("comboTrees"),o=n.get("itemController"),i=n.get("itemMap");(r||[]).forEach((function(n){pi(n,(function(n){if(!n)return!0;var r=i[n.id];if(r&&r.getType&&"combo"===r.getType()){var a=(0,gn.__spreadArray)([],r.getStates(),!0);(0,vn.each)(a,(function(e){return t.setItemState(r,e,!1)})),o.updateCombo(r,n.children,e),(0,vn.each)(a,(function(e){return t.setItemState(r,e,!0)}))}return!0}))})),n.sortCombos()},t.prototype.updateCombo=function(e){var t,n=this,r=e;if((0,vn.isString)(e)&&(r=this.findById(e)),!r||r.getType&&"combo"!==r.getType())console.warn("The item to be updated is not a combo!");else{t=r.get("id");var o=this.get("comboTrees"),i=this.get("itemController"),a=this.get("itemMap");(o||[]).forEach((function(e){pi(e,(function(e){if(!e)return!0;var r=a[e.id];if(t===e.id&&r&&r.getType&&"combo"===r.getType()){var o=(0,gn.__spreadArray)([],r.getStates(),!0);(0,vn.each)(o,(function(e){r.getStateStyle(e)&&n.setItemState(r,e,!1)})),i.updateCombo(r,e.children),(0,vn.each)(o,(function(e){r.getStateStyle(e)&&n.setItemState(r,e,!0)})),t&&(t=e.parentId)}return!0}))}))}},t.prototype.updateComboTree=function(e,t,n){void 0===n&&(n=!0);var r;this.set("comboSorted",!1);var o,i=(r=(0,vn.isString)(e)?this.findById(e):e).getModel(),a=i.comboId||i.parentId,s="";if(r.getType&&(s=r.getType()),t&&"combo"===s){var u,c=this.get("comboTrees"),l=!0;if((c||[]).forEach((function(e){u||hi(e,(function(e){if(!u)return e.id===r.getID()&&(u=e),!0}))})),hi(u,(function(e){return e.id!==t||(l=!1,!1)})),!l)return void console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!")}if(n&&this.get("enabledStack")){var f={},d={};"combo"===s?(f.combos=[{id:i.id,parentId:i.parentId}],d.combos=[{id:i.id,parentId:t}]):"node"===s&&(f.nodes=[{id:i.id,parentId:i.comboId}],d.nodes=[{id:i.id,parentId:t}]),this.pushStack("updateComboTree",{before:f,after:d})}if(i.parentId||i.comboId){var h=this.findById(i.parentId||i.comboId);h&&h.removeChild(r)}("combo"===s?i.parentId=t:"node"===s&&(i.comboId=t),t)&&((o=this.findById(t))&&o.addChild(r));a&&((o=this.findById(a))&&o.removeChild(r));var p=yi(this.get("comboTrees"),i.id,t);this.set("comboTrees",p),this.updateCombos()},t.prototype.save=function(){var e=[],t=[],n=[];return(0,vn.each)(this.get("nodes"),(function(t){e.push(t.getModel())})),(0,vn.each)(this.get("edges"),(function(e){t.push(e.getModel())})),(0,vn.each)(this.get("combos"),(function(e){n.push(e.getModel())})),{nodes:e,edges:t,combos:n}},t.prototype.changeSize=function(e,t){return this.get("viewController").changeSize(e,t),this},t.prototype.refresh=function(){var e=this;if(e.emit("beforegraphrefresh"),e.get("animate"))e.positionsAnimate();else{var t=e.get("nodes"),n=e.get("edges"),r=e.get("edges");(0,vn.each)(t,(function(e){e.refresh()})),(0,vn.each)(n,(function(e){e.refresh()})),(0,vn.each)(r,(function(e){e.refresh()}))}e.emit("aftergraphrefresh"),e.autoPaint()},t.prototype.getNodes=function(){return this.get("nodes")},t.prototype.getEdges=function(){return this.get("edges")},t.prototype.getCombos=function(){return this.get("combos")},t.prototype.getComboChildren=function(e){if((0,vn.isString)(e)&&(e=this.findById(e)),e&&(!e.getType||"combo"===e.getType()))return e.getChildren();console.warn("The combo does not exist!")},t.prototype.positionsAnimate=function(e){var t=this;t.emit("beforeanimate");var n=t.get("animateCfg"),r=n.onFrame,o=e?t.getNodes().concat(t.getCombos()):t.getNodes(),i=o.map((function(e){var t=e.getModel();return{id:t.id,x:t.x,y:t.y}}));t.isAnimating()&&t.stopAnimate(),t.get("canvas").animate((function(n){(0,vn.each)(i,(function(e){var o=t.findById(e.id);if(o&&!o.destroyed){var i=o.get("originAttrs"),a=o.get("model"),s=o.getContainer().getMatrix();if(void 0===i&&o.set("originAttrs",s?{x:s[6],y:s[7]}:0),r){var u=r(o,n,e,i||{x:0,y:0});o.set("model",Object.assign(a,u))}else i?(a.x=i.x+(e.x-i.x)*n,a.y=i.y+(e.y-i.y)*n):(a.x=e.x,a.y=e.y)}})),t.refreshPositions(e)}),{duration:n.duration,easing:n.easing,callback:function(){(0,vn.each)(o,(function(e){e.set("originAttrs",null)})),n.callback&&n.callback(),t.emit("afteranimate"),t.animating=!1}})},t.prototype.refreshPositions=function(e){var t=this;t.emit("beforegraphrefreshposition");var n,r=t.get("nodes"),o=t.get("edges"),i=t.get("vedges"),a=t.get("combos"),s={},u=function(e){(0,vn.each)(e,(function(e){n=e.getModel();var t=e.get("originAttrs");if(!t||n.x!==t.x||n.y!==t.y){var r=e.updatePosition({x:n.x,y:n.y});s[n.id]=r,n.comboId&&(s[n.comboId]=s[n.comboId]||r)}}))};u(r),a&&0!==a.length&&(e?(u(a),setTimeout((function(){t.updateCombos()}),0)):t.updateCombos()),(0,vn.each)(o,(function(e){var t=e.getSource().getModel(),n=e.getTarget();if(!(0,vn.isPlainObject)(n)){var r=n.getModel();(s[t.id]||s[r.id]||e.getModel().isComboEdge)&&e.refresh()}})),(0,vn.each)(i,(function(e){e.refresh()})),t.emit("aftergraphrefreshposition"),t.autoPaint()},t.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},t.prototype.isAnimating=function(){return this.animating},t.prototype.getZoom=function(){var e=this.get("group").getMatrix();return e?e[0]:1},t.prototype.getCurrentMode=function(){return this.get("modeController").getMode()},t.prototype.setMode=function(e){return this.get("modeController").setMode(e),this},t.prototype.clear=function(e){var t;return void 0===e&&(e=!1),null===(t=this.get("canvas"))||void 0===t||t.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),e||this.emit("afterrender"),this},t.prototype.updateLayout=function(e,t,n){var r=this,o=this.get("layoutController");if((0,vn.isString)(e)&&(e={type:e}),t){var i=n;i||(i="begin"===t?{x:0,y:0}:{x:this.getWidth()/2,y:this.getHeight()/2}),i=this.getPointByCanvas(i.x,i.y);var a=["force","gForce","fruchterman"];a.includes(e.type)||!e.type&&a.includes(null===o||void 0===o?void 0:o.layoutType)?e.center=[i.x,i.y]:this.once("afterlayout",(function(e){var n=r.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];i.x=i.x*n[0]+n[6],i.y=i.y*n[0]+n[7];var o=r.getGroup().getCanvasBBox(),a=o.minX,s=o.maxX,u=o.minY,c={x:(a+s)/2,y:(u+o.maxY)/2};"begin"===t&&(c.x=a,c.y=u),r.translate(i.x-c.x,i.y-c.y)}))}var s=this.get("layout"),u={};Object.assign(u,s,e),this.set("layout",u),o&&(o.isLayoutTypeSame(u)&&u.gpuEnabled===s.gpuEnabled?o.updateLayoutCfg(u):o.changeLayout(u))},t.prototype.destroyLayout=function(){var e=this.get("layoutController");null===e||void 0===e||e.destroyLayout()},t.prototype.layout=function(){var e=this.get("layoutController"),t=this.get("layout");t&&e&&(t.workerEnabled?e.layout():e.layoutMethod?e.relayout(!0):e.layout())},t.prototype.collapseCombo=function(e){var t=this;if(!this.destroyed)if((0,vn.isString)(e)&&(e=this.findById(e)),e){this.emit("beforecollapseexpandcombo",{action:"expand",item:e});var n=e.getModel();this.get("itemController").collapseCombo(e),n.collapsed=!0;var r=this.getEdges().concat(this.get("vedges")),o=[],i=[],a=this.get("comboTrees"),s=!1;(a||[]).forEach((function(e){s||hi(e,(function(e){if(s&&e.depth<=n.depth)return!1;if(n.id===e.id&&(s=!0),s){var r=t.findById(e.id);r&&r.getType&&"combo"===r.getType()&&(o=o.concat(r.getNodes()),i=i.concat(r.getCombos()))}return!0}))}));var u={},c=[];r.forEach((function(e){if(!e.isVisible()||e.getModel().isVEdge){var r=e.getSource(),a=e.getTarget();if((o.includes(r)||i.includes(r))&&!o.includes(a)&&!i.includes(a)||r.getModel().id===n.id){if((d=e.getModel()).isVEdge)return void t.removeItem(e,!1);for(var s=a.getModel();!a.isVisible();){if(!(a=t.findById(s.parentId||s.comboId))||!s.parentId&&!s.comboId)return;s=a.getModel()}var l=s.id;if(u["".concat(n.id,"-").concat(l)])return void(u["".concat(n.id,"-").concat(l)]+=d.size||1);var f=t.addItem("vedge",{source:n.id,target:l,isVEdge:!0},!1);u["".concat(n.id,"-").concat(l)]=d.size||1,c.push(f)}else if(!o.includes(r)&&!i.includes(r)&&(o.includes(a)||i.includes(a))||a.getModel().id===n.id){var d;if((d=e.getModel()).isVEdge)return void t.removeItem(e,!1);for(var h=r.getModel();!r.isVisible();){if(!(r=t.findById(h.parentId||h.comboId))||!h.parentId&&!h.comboId)return;h=r.getModel()}var p=h.id;if(u["".concat(p,"-").concat(n.id)])return void(u["".concat(p,"-").concat(n.id)]+=d.size||1);f=t.addItem("vedge",{target:n.id,source:p,isVEdge:!0},!1);u["".concat(p,"-").concat(n.id)]=d.size||1,c.push(f)}}})),c.forEach((function(e){var n=e.getModel();t.updateItem(e,{size:u["".concat(n.source,"-").concat(n.target)]},!1)})),this.emit("aftercollapseexpandcombo",{action:"collapse",item:e})}else console.warn("The combo to be collapsed does not exist!")},t.prototype.expandCombo=function(e){var t=this;if((0,vn.isString)(e)&&(e=this.findById(e)),!e||e.getType&&"combo"!==e.getType())console.warn("The combo to be collapsed does not exist!");else{this.emit("beforecollapseexpandcombo",{action:"expand",item:e});var n=e.getModel();this.get("itemController").expandCombo(e),n.collapsed=!1;var r=this.getEdges().concat(this.get("vedges")),o=[],i=[],a=this.get("comboTrees"),s=!1;(a||[]).forEach((function(e){s||hi(e,(function(e){if(s&&e.depth<=n.depth)return!1;if(n.id===e.id&&(s=!0),s){var r=t.findById(e.id);r&&r.getType&&"combo"===r.getType()&&(o=o.concat(r.getNodes()),i=i.concat(r.getCombos()))}return!0}))}));var u={},c={};r.forEach((function(e){if(!e.isVisible()||e.getModel().isVEdge){var r=e.getSource(),a=e.getTarget(),s=r.get("id"),l=a.get("id");if((o.includes(r)||i.includes(r))&&!o.includes(a)&&!i.includes(a)||s===n.id){if(e.getModel().isVEdge)return void t.removeItem(e,!1);for(var f=a.getModel();!a.isVisible();){if(!(a=t.findById(f.comboId||f.parentId))||!f.parentId&&!f.comboId)return;f=a.getModel()}l=f.id;for(var d=r.getModel();!r.isVisible();){if(!(r=t.findById(d.comboId||d.parentId))||!d.parentId&&!d.comboId)return;if(d.comboId===n.id||d.parentId===n.id)break;d=r.getModel()}if(s=d.id,l){var h="".concat(s,"-").concat(l);if(u[h])return u[h]+=e.getModel().size||1,void t.updateItem(c[h],{size:u[h]},!1);var p=t.addItem("vedge",{source:s,target:l,isVEdge:!0},!1);u[h]=e.getModel().size||1,c[h]=p}}else if(!o.includes(r)&&!i.includes(r)&&(o.includes(a)||i.includes(a))||l===n.id){if(e.getModel().isVEdge)return void t.removeItem(e,!1);for(d=r.getModel();!r.isVisible();){if(!(r=t.findById(d.comboId||d.parentId))||!d.parentId&&!d.comboId)return;d=r.getModel()}s=d.id;for(f=a.getModel();!a.isVisible();){if(!(a=t.findById(f.comboId||f.parentId))||!f.parentId&&!f.comboId)return;if(f.comboId===n.id||f.parentId===n.id)break;f=a.getModel()}if(l=f.id,s){h="".concat(s,"-").concat(l);if(u[h])return u[h]+=e.getModel().size||1,void t.updateItem(c[h],{size:u[h]},!1);p=t.addItem("vedge",{target:l,source:s,isVEdge:!0},!1);u[h]=e.getModel().size||1,c[h]=p}}else(o.includes(r)||i.includes(r))&&(o.includes(a)||i.includes(a))&&r.isVisible()&&a.isVisible()&&e.show()}})),this.emit("aftercollapseexpandcombo",{action:"expand",item:e})}},t.prototype.collapseExpandCombo=function(e){if((0,vn.isString)(e)&&(e=this.findById(e)),e&&(!e.getType||"combo"===e.getType())){for(var t=e.getModel(),n=this.findById(t.parentId);n;){var r=n.getModel();if(r.collapsed)return console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),void(n=void 0);n=this.findById(r.parentId)}t.collapsed?this.expandCombo(e):this.collapseCombo(e),this.updateCombo(e)}},t.prototype.sortCombos=function(){var e=this;if(!this.get("comboSorted")){this.set("comboSorted",!0);var t=[],n={};(this.get("comboTrees")||[]).forEach((function(e){hi(e,(function(e){return t[e.depth]?t[e.depth].push(e.id):t[e.depth]=[e.id],n[e.id]=e.depth,!0}))})),(this.getEdges().concat(this.get("vedges"))||[]).forEach((function(e){var r=e.getModel(),o=n[r.source]||0,i=n[r.target]||0,a=Math.max(o,i);t[a]?t[a].push(r.id):t[a]=[r.id]})),t.forEach((function(t){if(t&&t.length)for(var n=t.length-1;n>=0;n--){var r=e.findById(t[n]);r&&r.toFront()}}))}},t.prototype.getNeighbors=function(e,t){var n=e;return(0,vn.isString)(e)&&(n=this.findById(e)),n.getNeighbors(t)},t.prototype.getNodeDegree=function(e,t,n){void 0===t&&(t=void 0),void 0===n&&(n=!1);var r=e;(0,vn.isString)(e)&&(r=this.findById(e));var o=this.get("degrees");o&&!n||(o=Un(this.save()),this.set("degrees",o));var i=o[r.getID()],a=0;if(!i)return 0;switch(t){case"in":a=i.inDegree;break;case"out":a=i.outDegree;break;case"all":a=i;break;default:a=i.degree}return a},t.prototype.getUndoStack=function(){return this.undoStack},t.prototype.getRedoStack=function(){return this.redoStack},t.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},t.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},t.prototype.pushStack=function(e,t,n){if(void 0===e&&(e="update"),void 0===n&&(n="undo"),this.get("enabledStack")){var r=t?(0,vn.clone)(t):{before:{},after:(0,vn.clone)(this.save())};"redo"===n?this.redoStack.push({action:e,data:r}):this.undoStack.push({action:e,data:r}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})}else console.warn("\u8bf7\u5148\u542f\u7528 undo & redo \u529f\u80fd\uff0c\u5728\u5b9e\u4f8b\u5316 Graph \u65f6\u5019\u914d\u7f6e enabledStack: true !")},t.prototype.getAdjMatrix=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=this.get("directed"));var n=this.get("adjMatrix");return n&&e||(n=Nn(this.save(),t),this.set("adjMatrix",n)),n},t.prototype.getShortestPathMatrix=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=this.get("directed"));var n=this.get("adjMatrix"),r=this.get("shortestPathMatrix");return n&&e||(n=Nn(this.save(),t),this.set("adjMatrix",n)),r&&e||(r=rr(this.save(),t),this.set("shortestPathMatrix",r)),r},t.prototype.on=function(t,n,r){return e.prototype.on.call(this,t,n,r)},t.prototype.destroy=function(){var e,t,n,r,o;this.clear(),this.clearStack(),null===(e=this.get("itemController"))||void 0===e||e.destroy(),null===(t=this.get("modeController"))||void 0===t||t.destroy(),null===(n=this.get("viewController"))||void 0===n||n.destroy(),null===(r=this.get("stateController"))||void 0===r||r.destroy(),null===(o=this.get("canvas"))||void 0===o||o.destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},t.prototype.createHull=function(e){if(e.members&&!(e.members.length<1)){var t=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),t&&!t.get("destroyed")||((t=this.get("group").addGroup({id:"hullGroup"})).toBack(),this.set("hullGroup",t)),n[e.id])return console.warn("Existed hull id."),n[e.id];var r=t.addGroup({id:"".concat(e.id,"-container")}),o=new Jl(this,(0,gn.__assign)((0,gn.__assign)({},e),{group:r}));return n[o.id]=o,o}console.warn("Create hull failed! The members is empty.")},t.prototype.getHulls=function(){return this.get("hullMap")},t.prototype.getHullById=function(e){return this.get("hullMap")[e]},t.prototype.removeHull=function(e){var t,n;n=(0,vn.isString)(e)?this.getHullById(e):e,null===(t=this.get("hullMap"))||void 0===t||delete t[n.id],n.destroy()},t.prototype.removeHulls=function(){var e=this.getHulls();e&&Object.keys(e).length&&(Object.keys(e).forEach((function(t){e[t].destroy()})),this.set("hullMap",{}))},t}(En),tf=ef;function nf(e){return nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(e)}var rf=Mn,of="-shape",af="-label",sf=["startArrow","endArrow"],uf={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},cf={edge:{lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},node:uf,combo:uf},lf="-label-bg",ff={options:{labelCfg:{style:{fontFamily:ti.windowFontFamily}},descriptionCfg:{style:{fontFamily:ti.windowFontFamily}}},itemType:"",type:"",getCustomConfig:function(e){return{}},getOptions:function(e,t){return"move"===t||(null===t||void 0===t?void 0:t.includes("bbox"))?{}:(0,vn.deepMix)({},this.options,this.getCustomConfig(e)||{},e)},draw:function(e,t){t.shapeMap={},this.mergeStyle=this.getOptions(e);var n=this.drawShape(e,t);if(n.set("className",this.itemType+of),t.shapeMap[this.itemType+of]=n,e.label){var r=this.drawLabel(e,t);r.set("className",this.itemType+af),t.shapeMap[this.itemType+af]=r}return n},afterDraw:function(e,t,n){},drawShape:function(e,t){return null},drawLabel:function(e,t){var n=(this.mergeStyle||this.getOptions(e)||{}).labelCfg||{},r=this.getLabelStyle(e,n,t),o=r.rotate;delete r.rotate;var i=t.addShape("text",{attrs:r,draggable:!0,className:"text-shape",name:"text-shape",labelRelated:!0});if(t.shapeMap["text-shape"]=i,!isNaN(o)&&""!==o){var a=i.getBBox(),s=[1,0,0,0,1,0,0,0,1];if(r.rotateCenter)switch(r.rotateCenter){case"center":default:s=rf(s,[["t",-a.width/2,-a.height/2],["r",o],["t",a.width/2,a.height/2]]);break;case"lefttop":s=rf(s,[["t",-r.x,-r.y],["r",o],["t",r.x,r.y]]);break;case"leftcenter":s=rf(s,[["t",-r.x,-r.y-a.height/2],["r",o],["t",r.x,r.y+a.height/2]])}else s=rf(s,[["t",-r.x,-r.y-a.height/2],["r",o],["t",r.x,r.y+a.height/2]]);i.setMatrix(s)}if(r.background){var u=this.drawLabelBg(e,t,i),c=this.itemType+lf;u.set("classname",c),t.shapeMap[c]=u,i.toFront()}return i},drawLabelBg:function(e,t,n){var r=this.options.labelCfg,o=(0,vn.mix)({},r,e.labelCfg),i=this.getLabelBgStyleByPosition(n,o),a=t.addShape("rect",{name:"text-bg-shape",attrs:i,labelRelated:!0});return t.shapeMap["text-bg-shape"]=a,a},getLabelStyleByPosition:function(e,t,n){return{text:e.label}},getLabelBgStyleByPosition:function(e,t){return{}},getLabelStyle:function(e,t,n){var r=this.getLabelStyleByPosition(e,t,n),o="".concat(this.itemType,"Label"),i=ti[o]?ti[o].style:null;return(0,gn.__assign)((0,gn.__assign)((0,gn.__assign)({},i),r),t.style)},getShapeStyle:function(e){return e.style},update:function(e,t,n){this.updateShapeStyle(e,t,n),this.updateLabel(e,t,n)},updateShapeStyle:function(e,t,n){var r,o=t.getContainer(),i=t.getKeyShape(),a=(0,vn.mix)({},i.attr(),e.style),s=function(e){var t,n=a[e];if((0,vn.isPlainObject)(n)){var s=(null===(r=o.shapeMap)||void 0===r?void 0:r[e])||o.find((function(t){return t.get("name")===e}));null===s||void 0===s||s.attr(n)}else i.attr(((t={})[e]=n,t))};for(var u in a)s(u)},updateLabel:function(e,t,n){var r,o;if(e.label||""===e.label){var i=t.getContainer(),a=(this.mergeStyle||this.getOptions({},n)||{}).labelCfg,s=void 0===a?{}:a,u=this.itemType+af,c=i.shapeMap[u]||i.find((function(e){return e.get("className")===u})),l=this.itemType+lf,f=i.shapeMap[l]||i.find((function(e){return e.get("className")===l}));if(c){(!n||"bbox|label"===n||"edge"===this.itemType&&"style"!==n)&&(s=(0,vn.deepMix)(s,e.labelCfg));var d=this.getLabelStyleByPosition(e,s,i),h=null===(r=e.labelCfg)||void 0===r?void 0:r.style,p=(0,gn.__assign)((0,gn.__assign)({},d),h),g=p.rotate;if(delete p.rotate,isNaN(g)||""===g)1!==(null===(o=c.getMatrix())||void 0===o?void 0:o[4])&&c.resetMatrix(),c.attr(p);else{var v=[1,0,0,0,1,0,0,0,1];v=rf(v,[["t",-p.x,-p.y],["r",g],["t",p.x,p.y]]),p.matrix=v,c.attr(p)}if(f)if(p.background){var m=this.getLabelBgStyleByPosition(c,s);f.attr(m)}else i.removeChild(f);else p.background&&((f=this.drawLabelBg(e,i,c)).set("classname",l),i.shapeMap[l]=f,c.toFront())}else{var y=this.drawLabel(e,i);y.set("className",u),i.shapeMap[u]=y}}},afterUpdate:function(e,t){},setState:function(e,t,n){var r,o,i,a=n.get("keyShape");if(a&&!a.destroyed){var s=n.getType(),u=(0,vn.isBoolean)(t)?e:"".concat(e,":").concat(t),c=this.getStateStyle(u,n),l=n.getStateStyle(u);if(l||c){var f=(0,vn.mix)({},l||c),d=n.getContainer(),h={x:1,y:1,cx:1,cy:1,matrix:1};if("combo"===s&&(h.r=1,h.width=1,h.height=1),t){var p=function(e){var t,n=f[e];if((0,vn.isPlainObject)(n)&&!sf.includes(e)){var r=(null===(i=d.shapeMap)||void 0===i?void 0:i[e])||d.find((function(t){return t.get("name")===e}));null===r||void 0===r||r.attr(n)}else a.attr(((t={})[e]=n,t))};for(var g in f)p(g)}else{var v=wi(n.getCurrentStatesStyle()),m=n.getModel(),y=(0,vn.mix)({},m.style,wi(n.getOriginStyle())),b=a.get("name"),x=a.attr(),w={};Object.keys(x).forEach((function(e){if("img"!==e){var t=x[e];t&&"object"===nf(t)?w[e]=(0,vn.clone)(t):w[e]=t}}));var E={},_=function(e){var t=f[e];if((0,vn.isPlainObject)(t)&&!sf.includes(e)){var n=d.shapeMap[e]||d.find((function(t){return t.get("name")===e}));if(n){var r=wi(n.attr());(0,vn.each)(t,(function(t,o){if(e===b&&w[o]&&!h[o]){delete w[o];var i=y[e][o]||cf[s][o];a.attr(o,i)}else if(r[o]||0===r[o]){delete r[o];var u=y[e][o]||cf[s][o];n.attr(o,u)}})),E[e]=r}}else if(w[e]&&!h[e]){delete w[e];var o=y[e]||(y[b]?y[b][e]:void 0)||cf[s][e];a.attr(e,o)}};for(var S in f)_(S);for(var g in b?E[b]=w:(0,vn.mix)(E,w),v)if(!h[g]){var k=v[g];(0,vn.isPlainObject)(k)&&!sf.includes(g)||(b?((0,vn.mix)(y[b],((o={})[g]=k,o)),delete y[g]):(0,vn.mix)(y,((r={})[g]=k,r)),delete v[g])}var T={};(0,vn.deepMix)(T,y,E,v);var C=!1,M=function(e){var t,n,r=T[e];if((0,vn.isPlainObject)(r)&&!sf.includes(e)){var o=d.shapeMap[e]||d.find((function(t){return t.get("name")===e}));o&&(("text"===o.get("type")||o.get("labelRelated"))&&(delete r.x,delete r.y,delete r.matrix),e===b&&("combo"===s&&(delete r.r,delete r.width,delete r.height),C=!0),o.attr(r))}else if(!C){var i=r||cf[s][e];"combo"===s?b||a.attr(((t={})[e]=i,t)):a.attr(((n={})[e]=i,n))}};for(var N in T)M(N)}}}},getStateStyle:function(e,t){var n=t.getModel(),r=t.getType(),o=this.getOptions(n),i=o.stateStyles,a=o.style,s=void 0===a?{}:a,u=n.stateStyles?n.stateStyles[e]:i&&i[e];return"combo"===r?(0,vn.clone)(u):(0,vn.mix)({},s,u)},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t,n;return(null===e||void 0===e?void 0:e.anchorPoints)||(null===(t=this.getCustomConfig(e))||void 0===t?void 0:t.anchorPoints)||(null===(n=this.options)||void 0===n?void 0:n.anchorPoints)}},df={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:ti.nodeLabel.offset,getSize:function(e){var t,n=(null===(t=this.mergeStyle)||void 0===t?void 0:t.size)||e.size||this.getOptions({}).size||ti.defaultNode.size;return(0,vn.isArray)(n)&&1===n.length&&(n=[n[0],n[0]]),(0,vn.isArray)(n)||(n=[n,n]),n},getLabelStyleByPosition:function(e,t){var n=t.position||this.labelPosition;if("center"===n)return{x:0,y:0,text:e.label,textBaseline:"middle",textAlign:"center"};var r=t.offset;(0,vn.isNil)(r)&&(r=this.offset);var o,i=this.getSize(e);switch(n){case"top":o={x:0,y:-i[1]/2-r,textBaseline:"bottom",textAlign:"center"};break;case"bottom":o={x:0,y:i[1]/2+r,textBaseline:"top",textAlign:"center"};break;case"left":o={x:-i[0]/2-r,y:0,textBaseline:"middle",textAlign:"right"};break;default:o={x:i[0]/2+r,y:0,textBaseline:"middle",textAlign:"left"}}return o.text=e.label,o},getLabelBgStyleByPosition:function(e,t){var n;if(!e)return{};var r=null===(n=t.style)||void 0===n?void 0:n.background;if(!r)return{};var o=e.getBBox(),i=Lc(r.padding),a=o.width+i[1]+i[3],s=o.height+i[0]+i[2];return(0,gn.__assign)((0,gn.__assign)({x:o.minX-i[3],y:o.minY-i[0]},r),{width:a,height:s})},drawShape:function(e,t){var n=this.shapeType,r=this.getShapeStyle(e),o=t.addShape(n,{attrs:r,draggable:!0,name:"node-shape"});return t.shapeMap["node-shape"]=o,o},updateLinkPoints:function(e,t){var n,r=(this.mergeStyle||this.getOptions(e)).linkPoints,o=t.shapeMap["link-point-left"]||t.find((function(e){return"link-point-left"===e.get("className")})),i=t.shapeMap["link-point-right"]||t.find((function(e){return"link-point-right"===e.get("className")})),a=t.shapeMap["link-point-top"]||t.find((function(e){return"link-point-top"===e.get("className")})),s=t.shapeMap["link-point-bottom"]||t.find((function(e){return"link-point-bottom"===e.get("className")}));o&&(n=o.attr()),i&&!n&&(n=i.attr()),a&&!n&&(n=a.attr()),s&&!n&&(n=s.attr()),n||(n=r);var u=(0,vn.mix)({},n,e.linkPoints),c=u.fill,l=u.stroke,f=u.lineWidth,d=u.size/2;d||(d=u.r);var h=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},p=h.left,g=h.right,v=h.top,m=h.bottom,y=this.getSize(e),b=y[0],x=y[1],w={r:d,fill:c,stroke:l,lineWidth:f};if(o)p||void 0===p?o.attr((0,gn.__assign)((0,gn.__assign)({},w),{x:-b/2,y:0})):(o.remove(),delete t.shapeMap["link-point-left"]);else if(p){var E="link-point-left";t.shapeMap[E]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},w),{x:-b/2,y:0}),className:E,name:E,isAnchorPoint:!0})}if(i)g||void 0===g||(i.remove(),delete t.shapeMap["link-point-right"]),i.attr((0,gn.__assign)((0,gn.__assign)({},w),{x:b/2,y:0}));else if(g){var _="link-point-right";t.shapeMap[_]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},w),{x:b/2,y:0}),className:_,name:_,isAnchorPoint:!0})}if(a)v||void 0===v||(a.remove(),delete t.shapeMap["link-point-top"]),a.attr((0,gn.__assign)((0,gn.__assign)({},w),{x:0,y:-x/2}));else if(v){var S="link-point-top";t.shapeMap[S]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},w),{x:0,y:-x/2}),className:S,name:S,isAnchorPoint:!0})}if(s)m||void 0===m?s.attr((0,gn.__assign)((0,gn.__assign)({},w),{x:0,y:x/2})):(s.remove(),delete t.shapeMap["link-point-bottom"]);else if(m){var k="link-point-bottom";t.shapeMap[k]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},w),{x:0,y:x/2}),className:k,name:k,isAnchorPoint:!0})}},updateShape:function(e,t,n,r,o){t.get("keyShape").attr((0,gn.__assign)({},n)),this.updateLabel(e,t,o),r&&this.updateIcon(e,t)},updateIcon:function(e,t){var n=this,r=t.getContainer(),o=(this.mergeStyle||this.getOptions(e)).icon,i=e.icon?e.icon:{show:void 0,text:void 0},a=i.show,s=i.text,u=r.shapeMap["".concat(this.type,"-icon")]||r.find((function(e){return e.get("name")==="".concat(n.type,"-icon")}));if(u)if(a||void 0===a){var c=(0,vn.mix)({},u.attr(),o),l=c.width,f=void 0===l?20:l,d=c.height,h=void 0===d?20:d;("iconfont"===c.fontFamily||c.hasOwnProperty("text"))&&(f=0,h=0),u.attr((0,gn.__assign)((0,gn.__assign)({},c),{x:-f/2,y:-h/2}))}else u.remove();else if(a){var p="".concat(this.type,"-icon");if(s)r.shapeMap[p]=r.addShape("text",{attrs:(0,gn.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:p,name:p});else{f=o.width,h=o.height;r.shapeMap[p]=r.addShape("image",{attrs:(0,gn.__assign)((0,gn.__assign)({},o),{x:-f/2,y:-h/2}),className:p,name:p})}var g=r.shapeMap["node-label"]||r.find((function(e){return"node-label"===e.get("name")}));g&&g.toFront()}}},hf=(0,gn.__assign)((0,gn.__assign)({},ff),df);tl.registerNode("single-node",hf);var pf="edge-shape";var gf={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:ti.defaultEdge.size,style:{x:0,y:0,stroke:ti.defaultEdge.style.stroke,lineAppendWidth:ti.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:ti.edgeLabel.style.fill,fontSize:ti.edgeLabel.style.fontSize,fontFamily:ti.windowFontFamily}},stateStyles:(0,gn.__assign)({},ti.edgeStateStyles)},getPath:function(e){var t=[];return(0,vn.each)(e,(function(e,n){0===n?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])})),t},getShapeStyle:function(e){var t=this.options.style,n={stroke:e.color},r=(0,vn.mix)({},t,n,e.style),o=e.size||ti.defaultEdge.size,i=(e=this.getPathPoints(e)).startPoint,a=e.endPoint,s=this.getControlPoints(e),u=[i];s&&(u=u.concat(s)),u.push(a);var c=this.getPath(u);return(0,vn.mix)({},ti.defaultEdge.style,{stroke:ti.defaultEdge.color,lineWidth:o,path:c},r)},updateShapeStyle:function(e,t,n){var r,o=t.getContainer(),i=(null===(r=t.getKeyShape)||void 0===r?void 0:r.call(t))||o.shapeMap["edge-shape"],a=e.size,s=(e=this.getPathPoints(e)).startPoint,u=e.endPoint,c=this.getControlPoints(e),l=[s];c&&(l=l.concat(c)),l.push(u);var f=i.attr(),d=e.style||{};void 0===d.stroke&&(d.stroke=e.color);var h=e.sourceNode,p=e.targetNode,g={radius:d.radius};c||(g={source:h,target:p,offset:d.offset,radius:d.radius});var v=this.getPath(l,g),m={};"move"===n?m={path:v}:(f.endArrow&&!1===d.endArrow&&(e.style.endArrow={path:""}),f.startArrow&&!1===d.startArrow&&(e.style.startArrow={path:""}),void 0===(m=(0,gn.__assign)({},e.style)).lineWidth&&(m.lineWdith=((0,vn.isNumber)(a)?a:null===a||void 0===a?void 0:a[0])||f.lineWidth),void 0===m.path&&(m.path=v),void 0===m.stroke&&(m.stroke=f.stroke||e.color)),i&&i.attr(m)},getLabelStyleByPosition:function(e,t,n){var r,o=t.position||this.labelPosition,i={},a=null===n||void 0===n?void 0:n.shapeMap[pf];r="start"===o?0:"end"===o?1:.5;var s,u=t.refX||this.refX,c=t.refY||this.refY;if(e.startPoint.x===e.endPoint.x&&e.startPoint.y===e.endPoint.y)return i.x=e.startPoint.x+u,i.y=e.startPoint.y+c,i.text=e.label,i;s=(0,vn.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate;var l=li(a,r,u,c,s);return i.x=l.x,i.y=l.y,i.rotate=l.rotate,i.textAlign=this._getTextAlign(o,l.angle),i.text=e.label,i},getLabelBgStyleByPosition:function(e,t){if(!e)return{};var n=e.getBBox(),r=t.style&&t.style.background;if(!r)return{};var o=r.padding,i=n.width+o[1]+o[3],a=n.height+o[0]+o[2],s=(0,gn.__assign)((0,gn.__assign)({},r),{width:i,height:a,x:n.minX-o[3],y:n.minY-o[0],matrix:[1,0,0,0,1,0,0,0,1]});return((0,vn.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate)&&(s.matrix=e.attr("matrix")||[1,0,0,0,1,0,0,0,1]),s},_getTextAlign:function(e,t){var n="center";return t?(t%=2*Math.PI,"center"!==e&&(n=t>=0&&t<=Math.PI/2||t>=1.5*Math.PI&&t<2*Math.PI?e:function(e){var t=e;return"start"===e?t="end":"end"===e&&(t="start"),t}(e)),n):e},getControlPoints:function(e){return e.controlPoints},getPathPoints:function(e){return e},drawShape:function(e,t){var n=this.getShapeStyle(e),r=t.addShape("path",{className:pf,name:pf,attrs:n});return t.shapeMap[pf]=r,r},drawLabel:function(e,t){var n=this.options.labelCfg,r=(0,vn.deepMix)({},n,e.labelCfg),o=this.getLabelStyle(e,r,t),i=o.rotate;delete o.rotate;var a=t.addShape("text",{attrs:o,name:"text-shape",labelRelated:!0});if(t.shapeMap["text-shape"]=a,isNaN(i)||""===i||a.rotateAtStart(i),o.background){var s=this.drawLabelBg(e,t,a,o,i),u=this.itemType+lf;s.set("classname",u),t.shapeMap[u]=s,a.toFront()}return a},drawLabelBg:function(e,t,n,r,o){var i=this.options.labelCfg,a=(0,vn.deepMix)({},i,e.labelCfg),s=this.getLabelBgStyleByPosition(n,a),u=t.addShape("rect",{name:"text-bg-shape",attrs:s,labelRelated:!0});return t.shapeMap["text-bg-shape"]=u,u}},vf=(0,gn.__assign)((0,gn.__assign)({},ff),gf);tl.registerEdge("single-edge",vf),tl.registerEdge("line",{getControlPoints:function(){}},"single-edge"),tl.registerEdge("spline",{getPath:function(e){return Ol(e)}},"single-edge"),tl.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(e){var t,n,r=e.startPoint,o=e.endPoint,i=(r.x+o.x)/2,a=(r.y+o.y)/2;if(void 0!==e.controlPoints){if(n=e.controlPoints[0],t=xo(r,n,o),r.x<=o.x&&r.y>o.y?this.clockwise=t.x>n.x?0:1:r.x<=o.x&&r.y<o.y?this.clockwise=t.x>n.x?1:0:r.x>o.x&&r.y<=o.y?this.clockwise=t.y<n.y?0:1:this.clockwise=t.y<n.y?1:0,(n.x-r.x)/(n.y-r.y)===(o.x-r.x)/(o.y-r.y))return[]}else{void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),(0,vn.isArray)(e.curveOffset)&&(e.curveOffset=e.curveOffset[0]),e.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:o.x-r.x,y:o.y-r.y},u=Math.atan2(s.y,s.x);n={x:e.curveOffset*Math.cos(-Math.PI/2+u)+i,y:e.curveOffset*Math.sin(-Math.PI/2+u)+a},t=xo(r,n,o)}var c=wo(r,t);return[{x:c,y:c}]},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),2===e.length?t.push(["L",e[1].x,e[1].y]):t.push(["A",e[1].x,e[1].y,0,0,this.clockwise,e[2].x,e[2].y]),t}},"single-edge"),tl.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(e){var t=e.controlPoints;if(!t||!t.length){var n=e.startPoint,r=e.endPoint;void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),void 0===e.curvePosition&&(e.curvePosition=this.curvePosition),(0,vn.isArray)(this.curveOffset)&&(e.curveOffset=e.curveOffset[0]),(0,vn.isArray)(this.curvePosition)&&(e.curvePosition=e.curveOffset[0]),t=[Il(n,r,e.curvePosition,e.curveOffset)]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["Q",e[1].x,e[1].y,e[2].x,e[2].y]),t}},"single-edge"),tl.registerEdge("cubic",{curvePosition:[.5,.5],curveOffset:[-20,20],getControlPoints:function(e){var t=e.controlPoints;if(void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),void 0===e.curvePosition&&(e.curvePosition=this.curvePosition),(0,vn.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,vn.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]),!t||!t.length||t.length<2){var n=e.startPoint,r=e.endPoint;t=[Il(n,r,e.curvePosition[0],e.curveOffset[0]),Il(n,r,e.curvePosition[1],e.curveOffset[1])]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["C",e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y]),t}},"single-edge"),tl.registerEdge("cubic-vertical",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(e){var t=e.startPoint,n=e.endPoint;void 0===e.curvePosition&&(e.curvePosition=this.curvePosition),void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),void 0===e.minCurveOffset&&(e.minCurveOffset=this.minCurveOffset),(0,vn.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,vn.isNumber)(e.minCurveOffset)&&(e.minCurveOffset=[e.minCurveOffset,-e.minCurveOffset]),(0,vn.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]);var r=n.y-t.y,o=[0,0];return e.curveOffset?o=e.curveOffset:Math.abs(r)<Math.abs(e.minCurveOffset[0])&&(o=e.minCurveOffset),[{x:t.x,y:t.y+r*this.curvePosition[0]+o[0]},{x:n.x,y:n.y-r*this.curvePosition[1]+o[1]}]}},"cubic"),tl.registerEdge("cubic-horizontal",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(e){var t=e.startPoint,n=e.endPoint;void 0===e.curvePosition&&(e.curvePosition=this.curvePosition),void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),void 0===e.minCurveOffset&&(e.minCurveOffset=this.minCurveOffset),(0,vn.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,vn.isNumber)(e.minCurveOffset)&&(e.minCurveOffset=[e.minCurveOffset,-e.minCurveOffset]),(0,vn.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]);var r=n.x-t.x,o=[0,0];return e.curveOffset?o=e.curveOffset:Math.abs(r)<Math.abs(e.minCurveOffset[0])&&(o=e.minCurveOffset),[{x:t.x+r*this.curvePosition[0]+o[0],y:t.y},{x:n.x-r*this.curvePosition[1]+o[1],y:n.y}]}},"cubic"),tl.registerEdge("loop",{getPathPoints:function(e){return ci(e)},getControlPoints:function(e){return e.controlPoints},afterDraw:function(e){e.controlPoints=void 0},afterUpdate:function(e){e.controlPoints=void 0}},"cubic");var mf={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:ti.comboLabel.refX,refY:ti.comboLabel.refY,options:{style:{stroke:ti.defaultCombo.style.stroke,fill:ti.defaultCombo.style.fill,lineWidth:ti.defaultCombo.style.lineWidth},labelCfg:{style:{fill:ti.comboLabel.style.fill,fontSize:ti.comboLabel.style.fontSize,fontFamily:ti.windowFontFamily}},stateStyles:(0,gn.__assign)({},ti.comboStateStyles)},getSize:function(e){var t=(0,vn.clone)(e.size||this.options.size||ti.defaultCombo.size);return(0,vn.isArray)(t)&&1===t.length&&(t=[t[0],t[0]]),(0,vn.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(e,t){var n=t.position||this.labelPosition,r=e.style,o=e.padding||this.options.padding;(0,vn.isArray)(o)&&(o=o[0]);var i=t.refX,a=t.refY;(0,vn.isNil)(i)&&(i=this.refX),(0,vn.isNil)(a)&&(a=this.refY);var s,u=this.getSize(e),c=(Math.max(r.r,u[0]/2)||u[0]/2)+o;switch(n){case"top":s={x:0,y:-c-a,textBaseline:"bottom",textAlign:"center"};break;case"bottom":s={x:0,y:c+a,textBaseline:"bottom",textAlign:"center"};break;case"left":s={x:-c+i,y:0,textAlign:"left"};break;case"center":s={x:0,y:0,text:e.label,textAlign:"center"};break;default:s={x:c+i,y:0,textAlign:"right"}}return s.text=e.label,s},drawShape:function(e,t){var n=this.shapeType,r=this.getShapeStyle(e);return t.addShape(n,{attrs:r,draggable:!0,name:"combo-shape"})},updateShape:function(e,t,n){var r=t.get("keyShape");(void 0===e.animate?this.options.animate:e.animate)&&r.animate?r.animate(n,{duration:200,easing:"easeLinear"}):r.attr((0,gn.__assign)({},n)),this.updateLabel(e,t)}},yf=(0,gn.__assign)((0,gn.__assign)({},ff),mf);tl.registerCombo("single-combo",yf),tl.registerCombo("circle",{options:{size:[ti.defaultCombo.size[0],ti.defaultCombo.size[0]],padding:ti.defaultCombo.padding[0],animate:!0,style:{stroke:ti.defaultCombo.style.stroke,fill:ti.defaultCombo.style.fill,lineWidth:ti.defaultCombo.style.lineWidth},labelCfg:{style:{fill:ti.comboLabel.style.fill,fontSize:ti.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:(0,gn.__assign)({},ti.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(e,t){var n=this.getShapeStyle(e);return delete n.height,delete n.width,t.addShape("circle",{attrs:n,className:"circle-combo",name:"circle-combo",draggable:!0})},getShapeStyle:function(e){var t=this.options.style,n=e.padding||this.options.padding;(0,vn.isArray)(n)&&(n=n[0]);var r,o={stroke:e.color},i=(0,vn.mix)({},t,o,e.style);if(e.fixSize)r=(0,vn.isNumber)(e.fixSize)?e.fixSize:e.fixSize[0];else{var a=this.getSize(e);r=!(0,vn.isNumber)(i.r)||isNaN(i.r)?a[0]/2||ti.defaultCombo.style.r:Math.max(i.r,a[0]/2)||a[0]/2}i.r=r+n;var s=(0,gn.__assign)({x:0,y:0},i);return e.style?e.style.r=r:e.style={r:r},s},update:function(e,t){var n=this.getSize(e),r=e.padding||this.options.padding;(0,vn.isArray)(r)&&(r=r[0]);var o,i=(0,vn.clone)(e.style);o=e.fixSize?(0,vn.isNumber)(e.fixSize)?e.fixSize:e.fixSize[0]:Math.max(i.r,n[0]/2)||n[0]/2,i.r=o+r;var a=t.get("sizeCache");a&&(a.r=i.r);var s={stroke:e.color},u=t.get("keyShape"),c=(0,vn.mix)({},u.attr(),s,i);e.style?e.style.r=o:e.style={r:o},this.updateShape(e,t,c,!0)}},"single-combo"),tl.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:ti.defaultCombo.style.stroke,fill:ti.defaultCombo.style.fill,lineWidth:ti.defaultCombo.style.lineWidth},labelCfg:{style:{fill:ti.comboLabel.style.fill,fontSize:ti.comboLabel.style.fontSize,fontFamily:ti.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,gn.__assign)({},ti.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(e,t){var n=this.getShapeStyle(e);return t.addShape("rect",{attrs:n,className:"rect-combo",name:"rect-combo",draggable:!0})},getLabelStyleByPosition:function(e,t){var n=t.position||this.labelPosition,r=e.style,o=e.padding||this.options.padding;(0,vn.isNumber)(o)&&(o=[o,o,o,o]);var i=t.refX,a=t.refY;(0,vn.isNil)(i)&&(i=this.refX),(0,vn.isNil)(a)&&(a=this.refY);var s,u=r.width/2+o[3],c=r.height/2+o[0];switch(n){case"top":s={x:0-u+i,y:0-c+a,textBaseline:"top",textAlign:"left"};break;case"bottom":s={x:0,y:c+a,textBaseline:"bottom",textAlign:"center"};break;case"left":s={x:0-u+a,y:0,textAlign:"left"};break;case"center":s={x:0,y:0,text:e.label,textAlign:"center"};break;default:s={x:u+i,y:0,textAlign:"right"}}return s.text=e.label,s},getShapeStyle:function(e){var t=this.options.style,n=e.padding||this.options.padding;(0,vn.isNumber)(n)&&(n=[n,n,n,n]);var r,o,i={stroke:e.color},a=(0,vn.mix)({},t,i,e.style),s=this.getSize(e),u=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize;u?(0,vn.isNumber)(u)?(r=u,o=u):(r=u[0],o=u[1]):(r=!(0,vn.isNumber)(a.width)||isNaN(a.width)?s[0]||ti.defaultCombo.style.width:Math.max(a.width,s[0])||s[0],o=!(0,vn.isNumber)(a.height)||isNaN(a.height)?s[1]||ti.defaultCombo.style.height:Math.max(a.height,s[1])||s[1]);var c=-r/2-n[3],l=-o/2-n[0];a.width=r+n[1]+n[3],a.height=o+n[0]+n[2];var f=(0,gn.__assign)({x:c,y:l},a);return e.style?(e.style.width=r,e.style.height=o):e.style={width:r,height:o},f},update:function(e,t){var n=this.getSize(e),r=e.padding||this.options.padding;(0,vn.isNumber)(r)&&(r=[r,r,r,r]);var o,i,a=(0,vn.clone)(e.style),s=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize;s?(0,vn.isNumber)(s)?(o=s,i=s):(o=s[0],i=s[1]):(o=Math.max(a.width,n[0])||n[0],i=Math.max(a.height,n[1])||n[1]),a.width=o+r[1]+r[3],a.height=i+r[0]+r[2];var u=t.get("sizeCache");u&&(u.width=a.width,u.height=a.height),a.x=-o/2-r[3],a.y=-i/2-r[0];var c={stroke:e.color},l=t.get("keyShape"),f=(0,vn.mix)({},l.attr(),c,a);e.style?(e.style.width=o,e.style.height=i):e.style={width:o,height:i},this.updateShape(e,t,f,!1)},updateShape:function(e,t,n){var r=t.get("keyShape");(void 0===e.animate?this.options.animate:e.animate)&&r.animate?r.animate(n,{duration:200,easing:"easeLinear"}):r.attr((0,gn.__assign)({},n)),this.updateLabel(e,t)}},"single-combo"),tl.registerNode("simple-circle",{options:{size:ti.defaultNode.size,style:{x:0,y:0,stroke:ti.defaultNode.style.stroke,fill:ti.defaultNode.style.fill,lineWidth:ti.defaultNode.style.lineWidth},labelCfg:{style:{fill:ti.nodeLabel.style.fill,fontSize:ti.nodeLabel.style.fontSize,fontFamily:ti.windowFontFamily}},stateStyles:(0,gn.__assign)({},ti.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",shapeMap:{},drawShape:function(e,t){var n=this.getShapeStyle(e),r="".concat(this.type,"-keyShape"),o=t.addShape("circle",{attrs:n,className:"".concat(this.type,"-keyShape"),name:r,draggable:!0});return t.shapeMap[r]=o,o},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,vn.deepMix)({},t,n),o=this.getSize(e)[0]/2;return(0,gn.__assign)({x:0,y:0,r:o},r)},update:function(e,t,n){var r=this.getSize(e),o={stroke:e.color,r:r[0]/2},i=t.get("keyShape"),a=(0,vn.deepMix)({},i.attr(),o,e.style);this.updateShape(e,t,a,!0,n)}},"single-node"),tl.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:ti.defaultNode.style.stroke,fill:ti.defaultNode.style.fill,lineWidth:ti.defaultNode.style.lineWidth},labelCfg:{style:{fill:ti.nodeLabel.style.fill,fontSize:ti.nodeLabel.style.fontSize,fontFamily:ti.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,gn.__assign)({},ti.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(e,t){var n=this.getShapeStyle(e);return t.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0})},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,vn.mix)({},t,n),o=this.getSize(e),i=r.width||o[0],a=r.height||o[1];return(0,gn.__assign)({x:-i/2,y:-a/2,width:i,height:a},r)},update:function(e,t,n){t.getContainer();var r=(this.mergeStyle||this.getOptions(e)).style,o=this.getSize(e),i=t.get("keyShape");e.size||(o[0]=i.attr("width")||r.width,o[1]=i.attr("height")||r.height);var a={stroke:e.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},s=(0,vn.mix)({},r,i.attr(),a);s=(0,vn.mix)(s,e.style),this.updateShape(e,t,s,!1,n)}},"single-node"),tl.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,labelCfg:{style:{fontFamily:ti.windowFontFamily}},clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(e,t){var n=this.shapeType,r=this.getShapeStyle(e);delete r.fill;var o=t.addShape(n,{attrs:r,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return this.drawClip(e,o),o},drawClip:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).clipCfg;if(n.show){var r=n.type,o=n.x,i=n.y,a=n.style;if("circle"===r){var s=n.r;t.setClip({type:"circle",attrs:(0,gn.__assign)({r:s,x:o,y:i},a)})}else if("rect"===r){var u=n.width,c=n.height,l=o-u/2,f=i-c/2;t.setClip({type:"rect",attrs:(0,gn.__assign)({x:l,y:f,width:u,height:c},a)})}else if("ellipse"===r){var d=n.rx,h=n.ry;t.setClip({type:"ellipse",attrs:(0,gn.__assign)({x:o,y:i,rx:d,ry:h},a)})}else if("polygon"===r){var p=n.points;t.setClip({type:"polygon",attrs:(0,gn.__assign)({points:p},a)})}else if("path"===r){var g=n.path;t.setClip({type:"path",attrs:(0,gn.__assign)({path:g},a)})}}},getShapeStyle:function(e){var t=this.mergeStyle||this.getOptions(e),n=t.style,r=t.img,o=this.getSize(e),i=o[0],a=o[1];return n&&(i=n.width||o[0],a=n.height||o[1]),(0,gn.__assign)({x:-i/2,y:-a/2,width:i,height:a,img:r},n)},updateShapeStyle:function(e,t){var n=t.getContainer(),r="".concat(this.itemType,"-shape"),o=n.shapeMap[r]||n.find((function(e){return e.get("className")===r}))||t.getKeyShape(),i=this.getShapeStyle(e);o&&!o.destroyed&&o.attr(i)}},"single-node");var bf,xf={triangle:function(e,t,n){void 0===e&&(e=10),void 0===t&&(t=15),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",0 L ").concat(r+t,",-").concat(e/2," L ").concat(r+t,",").concat(e/2," Z")},vee:function(e,t,n){void 0===e&&(e=15),void 0===t&&(t=20),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",0 L ").concat(r+t,",-").concat(e/2,"\n        L ").concat(r+2*t/3,",0 L ").concat(r+t,",").concat(e/2," Z")},circle:function(e,t){return void 0===e&&(e=5),void 0===t&&(t=0),"M ".concat(2*t,", 0\n            a ").concat(e,",").concat(e," 0 1,0 ").concat(2*e,",0\n            a ").concat(e,",").concat(e," 0 1,0 ").concat(2*-e,",0")},rect:function(e,t,n){void 0===e&&(e=10),void 0===t&&(t=10),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",").concat(-e/2," \n        L ").concat(r+t,",").concat(-e/2," \n        L ").concat(r+t,",").concat(e/2," \n        L ").concat(r,",").concat(e/2," Z")},diamond:function(e,t,n){void 0===e&&(e=15),void 0===t&&(t=15),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",0 \n        L ").concat(r+t/2,",").concat(-e/2," \n        L ").concat(r+t,",0 \n        L ").concat(r+t/2,",").concat(e/2," Z")},triangleRect:function(e,t,n,r,o,i){void 0===e&&(e=15),void 0===t&&(t=15),void 0===n&&(n=15),void 0===r&&(r=3),void 0===o&&(o=5),void 0===i&&(i=0);var a=2*i,s=a+t+o;return"M ".concat(a,",0 L ").concat(a+t,",-").concat(e/2," L ").concat(a+t,",").concat(e/2," Z\n            M ").concat(s,", -").concat(n/2,"\n            L ").concat(s+r," -").concat(n/2,"\n            L ").concat(s+r," ").concat(n/2,"\n            L ").concat(s," ").concat(n/2,"\n            Z")}},wf={collapse:function(e,t,n){return[["M",e-n,t],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",e-n+4,t],["L",e+n-4,t]]},expand:function(e,t,n){return[["M",e-n,t],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",e-n+4,t],["L",e-n+2*n-4,t],["M",e-n+n,t-n+4],["L",e,t+n-4]]},upTriangle:function(e,t,n){var r=n*Math.cos(Math.PI/6),o=n*Math.sin(Math.PI/6);return[["M",e-r,t+o],["L",e+r,t+o],["L",e,t-n],["Z"]]},downTriangle:function(e,t,n){var r=n*Math.cos(Math.PI/6),o=n*Math.sin(Math.PI/6);return[["M",e-r,t-o],["L",e+r,t-o],["L",e,t+n],["Z"]]}},Ef=tl,_f=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"],Sf=Mn,kf=(0,gn.__assign)((0,gn.__assign)((0,gn.__assign)((0,gn.__assign)((0,gn.__assign)((0,gn.__assign)({},a),r),s),t),u),{transform:Sf,mat3:_n}),Tf=function(){function e(e){this.graph=e,this.layoutCfg=e.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return e.prototype.initLayout=function(){},e.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},e.prototype.getLayoutCfgType=function(e){var t=e.type;if(t)return t;var n=e.pipes;return Array.isArray(n)?n.map((function(e){return(null===e||void 0===e?void 0:e.type)||""})):null},e.prototype.isLayoutTypeSame=function(e){var t=this.getLayoutCfgType(e);return Array.isArray(this.layoutType)?this.layoutType.every((function(e,n){return e===t[n]})):(null===e||void 0===e?void 0:e.type)===this.layoutType},e.prototype.refreshLayout=function(){var e=this,t=e.graph,n=e.layoutType;e.data;t&&(t.get("animate")?t.positionsAnimate("comboCombined"===n):t.refreshPositions("comboCombined"===n))},e.prototype.changeLayout=function(e){this.layoutCfg=e,this.destoryLayoutMethods(),this.layout()},e.prototype.changeData=function(){this.destoryLayoutMethods(),this.layout()},e.prototype.destoryLayoutMethods=function(){var e=this.layoutMethods;null===e||void 0===e||e.forEach((function(e){e.destroy()})),this.layoutMethods=[]},e.prototype.destroyLayout=function(){var e=this.graph;this.destoryLayoutMethods(),e.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},e.prototype.setDataFromGraph=function(){for(var e=[],t=[],n=[],r=[],o=[],i=[],a=[],s=this.graph.getNodes(),u=this.graph.getEdges(),c=this.graph.getCombos(),l=s.length,f=0;f<l;f++){var d=s[f];if(d&&!d.destroyed){var h=d.getModel();d.isVisible()?e.push(h):t.push(h)}}var p=u.length;for(f=0;f<p;f++){var g=u[f];if(g&&!g.destroyed){h=g.getModel();g.isVisible()?h.isComboEdge?o.push(h):n.push(h):r.push(h)}}var v=c.length;for(f=0;f<v;f++){var m=c[f];if(!m.destroyed){h=m.getModel();m.isVisible()?i.push(h):a.push(h)}}return{nodes:e,hiddenNodes:t,edges:n,hiddenEdges:r,combos:i,hiddenCombos:a,comboEdges:o}},e.prototype.reLayoutMethod=function(e,t){var n=this;return new Promise((function(r,o){var i=n.graph,a=null===t||void 0===t?void 0:t.type;t.onLayoutEnd=function(){i.emit("aftersublayout",{type:a}),r()},e.init(n.data),"force"===a&&(e.ticking=!1,e.forceSimulation.stop()),i.emit("beforesublayout",{type:a}),e.execute(),e.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd()}))},e.prototype.relayout=function(e){var t=this,n=this,r=n.graph,o=n.layoutMethods,i=n.layoutCfg;if(e){this.data=this.setDataFromGraph();var a=this.data.nodes;if(!a)return!1;this.initPositions(i.center,a)}r.emit("beforelayout");var s=Promise.resolve();null===o||void 0===o||o.forEach((function(e,n){var r=i[n];s=s.then((function(){return t.reLayoutMethod(e,r)}))})),(null===o||void 0===o?void 0:o.length)&&s.then((function(){i.onAllLayoutEnd&&i.onAllLayoutEnd()})).catch((function(e){console.warn("relayout failed",e)}))},e.prototype.filterLayoutData=function(e,t){var n,r,o=e.nodes,i=e.edges,a=(0,gn.__rest)(e,["nodes","edges"]);if(!o)return e;n=(0,vn.isFunction)(null===t||void 0===t?void 0:t.nodesFilter)?t.nodesFilter:function(){return!0};var s=o.filter(n);if((0,vn.isFunction)(null===t||void 0===t?void 0:t.edgesFilter))r=t.edgesFilter;else{var u=s.reduce((function(e,t){return e[t.id]=!0,e}),{});r=function(e){return u[e.source]&&u[e.target]}}return(0,gn.__assign)({nodes:s,edges:i.filter(r)},a)},e.prototype.getLayoutBBox=function(e){var t=this.graph,n=(0,vn.groupBy)(t.getNodes(),(function(e){return e.getModel().layoutOrder})),r=Object.values(n).map((function(e){var t=zc(e);return t.size=[t.width,t.height],t}));return{groupNodes:Object.values((0,vn.groupBy)(e,"layoutOrder")),layoutNodes:r}},e.prototype.layoutAnimate=function(){},e.prototype.moveToZero=function(){var e=this.graph.get("data").nodes;if(void 0!==e[0].x&&null!==e[0].x&&!Bc(e[0].x)){for(var t=[0,0],n=e.length,r=0;r<n;r++){var o=e[r];t[0]+=o.x,t[1]+=o.y}t[0]/=e.length,t[1]/=e.length;for(r=0;r<n;r++){(o=e[r]).x-=t[0],o.y-=t[1]}}},e.prototype.initPositions=function(e,t){var n=this.graph;if(!t)return!1;var r=t?t.length:0;if(r){var o=.85*n.get("width"),i=.85*n.get("height"),a=Math.ceil(Math.sqrt(r)*(o/i)),s=o/(a-1),u=i/(Math.ceil(r/a)-1);isFinite(s)&&s||(s=0),isFinite(u)&&s||(u=0);for(var c=e[0]-o/2,l=e[1]-i/2,f=!0,d=0;d<r;d++){var h=t[d];Bc(+h.x)&&(f=!1,h.x=d%a*s+c),Bc(+h.y)&&(f=!1,h.y=Math.floor(d/a)*u+l)}return f}},e.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},e}(),Cf=Tf,Mf=function(e){this.graph=e,this.destroyed=!1,this.initEvents()},Nf=Mf;!function(e){e.CLICK="click",e.DBLCLICK="dblclick",e.MOUSEDOWN="mousedown",e.MOUDEUP="mouseup",e.CONTEXTMENU="contextmenu",e.MOUSEENTER="mouseenter",e.MOUSEOUT="mouseout",e.MOUSEOVER="mouseover",e.MOUSEMOVE="mousemove",e.MOUSELEAVE="mouseleave",e.DRAGSTART="dragstart",e.DRAGEND="dragend",e.DRAG="drag",e.DRAGENTER="dragenter",e.DRAGLEAVE="dragleave",e.DRAGOVER="dragover",e.DRAGOUT="dragout",e.DDROP="drop",e.KEYUP="keyup",e.KEYDOWN="keydown",e.WHEEL="wheel",e.FOCUS="focus",e.BLUR="blur",e.TOUCHSTART="touchstart",e.TOUCHMOVE="touchmove",e.TOUCHEND="touchend",e.CANVAS_TOUCHSTART="canvas:touchstart",e.CANVAS_TOUCHMOVE="canvas:touchmove",e.CANVAS_TOUCHEND="canvas:touchend",e.NODE_TOUCHSTART="node:touchstart",e.NODE_TOUCHMOVE="node:touchmove",e.NODE_TOUCHEND="node:touchend",e.COMBO_TOUCHSTART="combo:touchstart",e.COMBO_TOUCHMOVE="combo:touchmove",e.COMBO_TOUCHEND="combo:touchend",e.EDGE_TOUCHSTART="edge:touchstart",e.EDGE_TOUCHMOVE="edge:touchmove",e.EDGE_TOUCHEND="edge:touchend",e.NODE_CONTEXTMENU="node:contextmenu",e.NODE_CLICK="node:click",e.NODE_DBLCLICK="node:dblclick",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEOUT="node:mouseout",e.NODE_MOUSEOVER="node:mouseover",e.NODE_DROP="node:drop",e.NODE_DRAGOVER="node:dragover",e.NODE_DRAGENTER="node:dragenter",e.NODE_DRAGLEAVE="node:dragleave",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DRAGEND="node:dragend",e.NODE_TAP="node:tap",e.NODE_PANSTART="node:panstart",e.NODE_PANMOVE="node:panmove",e.NODE_PANEND="node:panend",e.COMBO_CONTEXTMENU="combo:contextmenu",e.COMBO_CLICK="combo:click",e.COMBO_DBLCLICK="combo:dblclick",e.COMBO_MOUSEDOWN="combo:mousedown",e.COMBO_MOUSEUP="combo:mouseup",e.COMBO_MOUSEENTER="combo:mouseenter",e.COMBO_MOUSELEAVE="combo:mouseleave",e.COMBO_MOUSEMOVE="combo:mousemove",e.COMBO_MOUSEOUT="combo:mouseout",e.COMBO_MOUSEOVER="combo:mouseover",e.COMBO_DROP="combo:drop",e.COMBO_DRAGOVER="combo:dragover",e.COMBO_DRAGENTER="combo:dragenter",e.COMBO_DRAGLEAVE="combo:dragleave",e.COMBO_DRAGSTART="combo:dragstart",e.COMBO_DRAG="combo:drag",e.COMBO_DRAGEND="combo:dragend",e.COMBO_TAP="combo:tap",e.COMBO_PANSTART="combo:panstart",e.COMBO_PANMOVE="combo:panmove",e.COMBO_PANEND="combo:panend",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_CLICK="edge:click",e.EDGE_DBLCLICK="edge:dblclick",e.EDGE_MOUSEDOWN="edge:mousedown",e.EDGE_MOUSEUP="edge:mouseup",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_MOUSEMOVE="edge:mousemove",e.EDGE_MOUSEOUT="edge:mouseout",e.EDGE_MOUSEOVER="edge:mouseover",e.EDGE_DROP="edge:drop",e.EDGE_DRAGOVER="edge:dragover",e.EDGE_DRAGENTER="edge:dragenter",e.EDGE_DRAGLEAVE="edge:dragleave",e.CANVAS_CONTEXTMENU="canvas:contextmenu",e.CANVAS_CLICK="canvas:click",e.CANVAS_DBLCLICK="canvas:dblclick",e.CANVAS_MOUSEDOWN="canvas:mousedown",e.CANVAS_MOUSEUP="canvas:mouseup",e.CANVAS_MOUSEENTER="canvas:mouseenter",e.CANVAS_MOUSELEAVE="canvas:mouseleave",e.CANVAS_MOUSEMOVE="canvas:mousemove",e.CANVAS_MOUSEOUT="canvas:mouseout",e.CANVAS_MOUSEOVER="canvas:mouseover",e.CANVAS_DROP="canvas:drop",e.CANVAS_DRAGENTER="canvas:dragenter",e.CANVAS_DRAGLEAVE="canvas:dragleave",e.CANVAS_DRAGSTART="canvas:dragstart",e.CANVAS_DRAG="canvas:drag",e.CANVAS_DRAGEND="canvas:dragend",e.CANVAS_TAP="canvas:tap",e.CANVAS_PANSTART="canvas:panstart",e.CANVAS_PANMOVE="canvas:panmove",e.CANVAS_PANEND="canvas:panend",e.BEFORERENDER="beforerender",e.AFTERRENDER="afterrender",e.BEFOREADDITEM="beforeadditem",e.AFTERADDITEM="afteradditem",e.BEFOREREMOVEITEM="beforeremoveitem",e.AFTERREMOVEITEM="afterremoveitem",e.BEFOREUPDATEITEM="beforeupdateitem",e.AFTERUPDATEITEM="afterupdateitem",e.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",e.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",e.BEFOREITEMSTATECHANGE="beforeitemstatechange",e.AFTERITEMSTATECHANGE="afteritemstatechange",e.BEFOREITEMREFRESH="beforeitemrefresh",e.AFTERITEMREFRESH="afteritemrefresh",e.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",e.AFTERITEMSTATESCLEAR="afteritemstatesclear",e.BEFOREMODECHANGE="beforemodechange",e.AFTERMODECHANGE="aftermodechange",e.BEFORELAYOUT="beforelayout",e.AFTERLAYOUT="afterlayout",e.BEFORECREATEEDGE="beforecreateedge",e.AFTERCREATEEDGE="aftercreateedge",e.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",e.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",e.BEFOREGRAPHREFRESH="beforegraphrefresh",e.AFTERGRAPHREFRESH="aftergraphrefresh",e.BEFOREANIMATE="beforeanimate",e.AFTERANIMATE="afteranimate",e.BEFOREPAINT="beforepaint",e.AFTERPAINT="afterpaint",e.BEFORECOLLAPSEEXPANDCOMBO="beforecollapseexpandcombo",e.AFTERCOLLAPSEEXPANDCOMBO="aftercollapseexpandcombo",e.GRAPHSTATECHANGE="graphstatechange",e.AFTERACTIVATERELATIONS="afteractivaterelations",e.NODESELECTCHANGE="nodeselectchange",e.TOOLTIPCHANGE="tooltipchange",e.WHEELZOOM="wheelzoom",e.VIEWPORTCHANGE="viewportchange",e.DRAGNODEEND="dragnodeend",e.STACKCHANGE="stackchange",e.TAP="tap",e.PINCHSTART="pinchstart",e.PINCHMOVE="pinchmove",e.PANSTART="panstart",e.PANMOVE="panmove",e.PANEND="panend"}(bf||(bf={}));var Af=Ef.registerNode,Pf=Ef.registerEdge,Of=Ef.registerCombo,If=xn.registerBehavior,Df=ti,Rf=(Ef.registerNode,Ef.registerEdge,Ef.registerCombo,xn.registerBehavior,n(9252));function Lf(e,t,n,r){var o=e-n,i=t-r;return Math.sqrt(o*o+i*i)}function jf(e,t,n,r,o,i){return o>=e&&o<=e+n&&i>=t&&i<=t+r}function Ff(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)}function Bf(e,t){return e[0]===t[0]&&e[1]===t[1]}var zf=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Gf=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Vf=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Uf=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Wf(e,t){var n=e.match(Uf);(0,vn.each)(n,(function(e){var n=e.split(":");t.addColorStop(n[0],n[1])}))}function Zf(e,t,n){var r=t.getBBox();if(isNaN(r.x)||isNaN(r.y)||isNaN(r.width)||isNaN(r.height))return n;if((0,vn.isString)(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return function(e,t,n){var r,o,i=zf.exec(n),a=parseFloat(i[1])%360*(Math.PI/180),s=i[2],u=t.getBBox();a>=0&&a<.5*Math.PI?(r={x:u.minX,y:u.minY},o={x:u.maxX,y:u.maxY}):.5*Math.PI<=a&&a<Math.PI?(r={x:u.maxX,y:u.minY},o={x:u.minX,y:u.maxY}):Math.PI<=a&&a<1.5*Math.PI?(r={x:u.maxX,y:u.maxY},o={x:u.minX,y:u.minY}):(r={x:u.minX,y:u.maxY},o={x:u.maxX,y:u.minY});var c=Math.tan(a),l=c*c,f=(o.x-r.x+c*(o.y-r.y))/(l+1)+r.x,d=c*(o.x-r.x+c*(o.y-r.y))/(l+1)+r.y,h=e.createLinearGradient(r.x,r.y,f,d);return Wf(s,h),h}(e,t,n);if("r"===n[0])return function(e,t,n){var r=Gf.exec(n),o=parseFloat(r[1]),i=parseFloat(r[2]),a=parseFloat(r[3]),s=r[4];if(0===a){var u=s.match(Uf);return u[u.length-1].split(":")[1]}var c=t.getBBox(),l=c.maxX-c.minX,f=c.maxY-c.minY,d=Math.sqrt(l*l+f*f)/2,h=e.createRadialGradient(c.minX+l*o,c.minY+f*i,0,c.minX+l/2,c.minY+f/2,a*d);return Wf(s,h),h}(e,t,n);if("p"===n[0])return function(e,t,n){if(t.get("patternSource")&&t.get("patternSource")===n)return t.get("pattern");var r,o,i=Vf.exec(n),a=i[1],s=i[2];function u(){r=e.createPattern(o,a),t.set("pattern",r),t.set("patternSource",n)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;default:a="no-repeat"}return o=new Image,s.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=s,o.complete?u():(o.onload=u,o.src=o.src),r}(e,t,n)}return n}return n instanceof CanvasPattern?n:void 0}function Yf(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Hf(e,t){return Yf(e)*Yf(t)?(e[0]*t[0]+e[1]*t[1])/(Yf(e)*Yf(t)):1}function Xf(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(Hf(e,t))}function Kf(e,t){var n=t[1],r=t[2],o=(0,vn.mod)((0,vn.toRadian)(t[3]),2*Math.PI),i=t[4],a=t[5],s=e[0],u=e[1],c=t[6],l=t[7],f=Math.cos(o)*(s-c)/2+Math.sin(o)*(u-l)/2,d=-1*Math.sin(o)*(s-c)/2+Math.cos(o)*(u-l)/2,h=f*f/(n*n)+d*d/(r*r);h>1&&(n*=Math.sqrt(h),r*=Math.sqrt(h));var p=n*n*(d*d)+r*r*(f*f),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;i===a&&(g*=-1),isNaN(g)&&(g=0);var v=r?g*n*d/r:0,m=n?g*-r*f/n:0,y=(s+c)/2+Math.cos(o)*v-Math.sin(o)*m,b=(u+l)/2+Math.sin(o)*v+Math.cos(o)*m,x=[(f-v)/n,(d-m)/r],w=[(-1*f-v)/n,(-1*d-m)/r],E=Xf([1,0],x),_=Xf(x,w);return Hf(x,w)<=-1&&(_=Math.PI),Hf(x,w)>=1&&(_=0),0===a&&_>0&&(_-=2*Math.PI),1===a&&_<0&&(_+=2*Math.PI),{cx:y,cy:b,rx:Bf(e,[c,l])?0:n,ry:Bf(e,[c,l])?0:r,startAngle:E,endAngle:E+_,xRotation:o,arcFlag:i,sweepFlag:a}}var qf=Math.sin,$f=Math.cos,Jf=Math.atan2,Qf=Math.PI;function ed(e,t,n,r,o,i,a){var s=t.stroke,u=t.lineWidth,c=Jf(r-i,n-o),l=new Ud({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*$f(Qf/6)+","+10*qf(Qf/6)+" L0,0 L"+10*$f(Qf/6)+",-"+10*qf(Qf/6),stroke:s,lineWidth:u}});l.translate(o,i),l.rotateAtPoint(o,i,c),e.set(a?"startArrowShape":"endArrowShape",l)}function td(e,t,n,r,o,i,a){var s=t.startArrow,u=t.endArrow,c=t.stroke,l=t.lineWidth,f=a?s:u,d=f.d,h=f.fill,p=f.stroke,g=f.lineWidth,v=(0,gn.__rest)(f,["d","fill","stroke","lineWidth"]),m=Jf(r-i,n-o);d&&(o-=$f(m)*d,i-=qf(m)*d);var y=new Ud({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:(0,gn.__assign)((0,gn.__assign)({},v),{stroke:p||c,lineWidth:g||l,fill:h})});y.translate(o,i),y.rotateAtPoint(o,i,m),e.set(a?"startArrowShape":"endArrowShape",y)}function nd(e,t,n,r,o){var i=Jf(r-t,n-e);return{dx:$f(i)*o,dy:qf(i)*o}}function rd(e,t,n,r,o,i){"object"===typeof t.startArrow?td(e,t,n,r,o,i,!0):t.startArrow?ed(e,t,n,r,o,i,!0):e.set("startArrowShape",null)}function od(e,t,n,r,o,i){"object"===typeof t.endArrow?td(e,t,n,r,o,i,!1):t.endArrow?ed(e,t,n,r,o,i,!1):e.set("startArrowShape",null)}var id={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function ad(e,t){var n=t.attr();for(var r in n){var o=n[r],i=id[r]?id[r]:r;"matrix"===i&&o?e.transform(o[0],o[1],o[3],o[4],o[6],o[7]):"lineDash"===i&&e.setLineDash?(0,vn.isArray)(o)&&e.setLineDash(o):("strokeStyle"===i||"fillStyle"===i?o=Zf(e,t,o):"globalAlpha"===i&&(o*=e.globalAlpha),e[i]=o)}}function sd(e,t,n){for(var r=0;r<t.length;r++){var o=t[r];o.cfg.visible?o.draw(e,n):o.skipDraw()}}function ud(e,t,n){var r=e.get("refreshElements");(0,vn.each)(r,(function(t){if(t!==e)for(var n=t.cfg.parent;n&&n!==e&&!n.cfg.refresh;)n.cfg.refresh=!0,n=n.cfg.parent})),r[0]===e?fd(t,n):cd(t,n)}function cd(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.cfg.visible)if(r.cfg.hasChanged)r.cfg.refresh=!0,r.isGroup()&&fd(r.cfg.children,t);else if(r.cfg.refresh)r.isGroup()&&cd(r.cfg.children,t);else{var o=dd(r,t);r.cfg.refresh=o,o&&r.isGroup()&&cd(r.cfg.children,t)}}}function ld(e){for(var t=0;t<e.length;t++){var n=e[t];n.cfg.hasChanged=!1,n.isGroup()&&!n.destroyed&&ld(n.cfg.children)}}function fd(e,t){for(var n=0;n<e.length;n++){var r=e[n];r.cfg.refresh=!0,r.isGroup()&&fd(r.get("children"),t)}}function dd(e,t){var n=e.cfg.cacheCanvasBBox;return e.cfg.isInView&&n&&Ff(n,t)}function hd(e,t,n,r){var o=n.path,i=n.startArrow,a=n.endArrow;if(o){var s=[0,0],u=[0,0],c={dx:0,dy:0};t.beginPath();for(var l=0;l<o.length;l++){var f=o[l],d=f[0];if(0===l&&i&&i.d)c=nd((h=e.getStartTangent())[0][0],h[0][1],h[1][0],h[1][1],i.d);else if(l===o.length-2&&"Z"===o[l+1][0]&&a&&a.d){if("Z"===o[l+1][0])c=nd((h=e.getEndTangent())[0][0],h[0][1],h[1][0],h[1][1],a.d)}else if(l===o.length-1&&a&&a.d){var h;if("Z"!==o[0])c=nd((h=e.getEndTangent())[0][0],h[0][1],h[1][0],h[1][1],a.d)}var p=c.dx,g=c.dy;switch(d){case"M":t.moveTo(f[1]-p,f[2]-g),u=[f[1],f[2]];break;case"L":t.lineTo(f[1]-p,f[2]-g);break;case"Q":t.quadraticCurveTo(f[1],f[2],f[3]-p,f[4]-g);break;case"C":t.bezierCurveTo(f[1],f[2],f[3],f[4],f[5]-p,f[6]-g);break;case"A":var v=void 0;r?(v=r[l])||(v=Kf(s,f),r[l]=v):v=Kf(s,f);var m=v.cx,y=v.cy,b=v.rx,x=v.ry,w=v.startAngle,E=v.endAngle,_=v.xRotation,S=v.sweepFlag;if(t.ellipse)t.ellipse(m,y,b,x,_,w,E,1-S);else{var k=b>x?b:x,T=b>x?1:b/x,C=b>x?x/b:1;t.translate(m,y),t.rotate(_),t.scale(T,C),t.arc(0,0,k,w,E,1-S),t.scale(1/T,1/C),t.rotate(-_),t.translate(-m,-y)}break;case"Z":t.closePath()}if("Z"===d)s=u;else{var M=f.length;s=[f[M-2],f[M-1]]}}}}function pd(e,t){var n=e.get("canvas");n&&("remove"===t&&(e._cacheCanvasBBox=e.get("cacheCanvasBBox")),e.get("hasChanged")||(e.set("hasChanged",!0),e.cfg.parent&&e.cfg.parent.get("hasChanged")||(n.refreshElement(e,t,n),n.get("autoDraw")&&n.draw())))}function gd(e){var t,n,r;if(e.destroyed)t=e._cacheCanvasBBox;else{var o=e.get("cacheCanvasBBox"),i=o&&!(!o.width||!o.height),a=e.getCanvasBBox(),s=a&&!(!a.width||!a.height);i&&s?(r=a,t=(n=o)&&r?{minX:Math.min(n.minX,r.minX),minY:Math.min(n.minY,r.minY),maxX:Math.max(n.maxX,r.maxX),maxY:Math.max(n.maxY,r.maxY)}:n||r):i?t=o:s&&(t=a)}return t}var vd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,gn.__extends)(t,e),t.prototype.onCanvasChange=function(e){pd(this,e)},t.prototype.getShapeBase=function(){return c},t.prototype.getGroupBase=function(){return t},t.prototype._applyClip=function(e,t){t&&(e.save(),ad(e,t),t.createPath(e),e.restore(),e.clip(),t._afterDraw())},t.prototype.cacheCanvasBBox=function(){var e=this.cfg.children,t=[],n=[];(0,vn.each)(e,(function(e){var r=e.cfg.cacheCanvasBBox;r&&e.cfg.isInView&&(t.push(r.minX,r.maxX),n.push(r.minY,r.maxY))}));var r=null;if(t.length){var o=(0,vn.min)(t),i=(0,vn.max)(t),a=(0,vn.min)(n),s=(0,vn.max)(n);r={minX:o,minY:a,x:o,y:a,maxX:i,maxY:s,width:i-o,height:s-a};var u=this.cfg.canvas;if(u){var c=u.getViewRange();this.set("isInView",Ff(r,c))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",r)},t.prototype.draw=function(e,t){var n=this.cfg.children,r=!t||this.cfg.refresh;n.length&&r&&(e.save(),ad(e,this),this._applyClip(e,this.getClip()),sd(e,n,t),e.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},t.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},t}(Pu),md=vd,yd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,gn.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,gn.__assign)((0,gn.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},t.prototype.getShapeBase=function(){return c},t.prototype.getGroupBase=function(){return md},t.prototype.onCanvasChange=function(e){pd(this,e)},t.prototype.calculateBBox=function(){var e=this.get("type"),t=this.getHitLineWidth(),n=Lu(e)(this),r=t/2,o=n.x-r,i=n.y-r,a=n.x+n.width+r,s=n.y+n.height+r;return{x:o,minX:o,y:i,minY:i,width:n.width+t,height:n.height+t,maxX:a,maxY:s}},t.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},t.prototype.isStroke=function(){return!!this.attrs.stroke},t.prototype._applyClip=function(e,t){t&&(e.save(),ad(e,t),t.createPath(e),e.restore(),e.clip(),t._afterDraw())},t.prototype.draw=function(e,t){var n=this.cfg.clipShape;if(t){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);if(!Ff(t,this.getCanvasBBox()))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}e.save(),ad(e,this),this._applyClip(e,n),this.drawPath(e),e.restore(),this._afterDraw()},t.prototype.getCanvasViewBox=function(){var e=this.cfg.canvas;return e?e.getViewRange():null},t.prototype.cacheCanvasBBox=function(){var e=this.getCanvasViewBox();if(e){var t=this.getCanvasBBox(),n=Ff(t,e);this.set("isInView",n),n?this.set("cacheCanvasBBox",t):this.set("cacheCanvasBBox",null)}},t.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},t.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},t.prototype.drawPath=function(e){this.createPath(e),this.strokeAndFill(e),this.afterDrawPath(e)},t.prototype.fill=function(e){e.fill()},t.prototype.stroke=function(e){e.stroke()},t.prototype.strokeAndFill=function(e){var t=this.attrs,n=t.lineWidth,r=t.opacity,o=t.strokeOpacity,i=t.fillOpacity;this.isFill()&&((0,vn.isNil)(i)||1===i?this.fill(e):(e.globalAlpha=i,this.fill(e),e.globalAlpha=r)),this.isStroke()&&n>0&&((0,vn.isNil)(o)||1===o||(e.globalAlpha=o),this.stroke(e)),this.afterDrawPath(e)},t.prototype.createPath=function(e){},t.prototype.afterDrawPath=function(e){},t.prototype.isInShape=function(e,t){var n=this.isStroke(),r=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(e,t,n,r,o)},t.prototype.isInStrokeOrPath=function(e,t,n,r,o){return!1},t.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var e=this.attrs;return e.lineWidth+e.lineAppendWidth},t}(Iu),bd=yd,xd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,gn.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,gn.__assign)((0,gn.__assign)({},t),{x:0,y:0,r:0})},t.prototype.isInStrokeOrPath=function(e,t,n,r,o){var i=this.attr(),a=i.x,s=i.y,u=i.r,c=o/2,l=Lf(a,s,e,t);return r&&n?l<=u+c:r?l<=u:!!n&&(l>=u-c&&l<=u+c)},t.prototype.createPath=function(e){var t=this.attr(),n=t.x,r=t.y,o=t.r;e.beginPath(),e.arc(n,r,o,0,2*Math.PI,!1),e.closePath()},t}(bd),wd=xd;function Ed(e,t,n,r){return e/(n*n)+t/(r*r)}var _d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,gn.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,gn.__assign)((0,gn.__assign)({},t),{x:0,y:0,rx:0,ry:0})},t.prototype.isInStrokeOrPath=function(e,t,n,r,o){var i=this.attr(),a=o/2,s=i.x,u=i.y,c=i.rx,l=i.ry,f=(e-s)*(e-s),d=(t-u)*(t-u);return r&&n?Ed(f,d,c+a,l+a)<=1:r?Ed(f,d,c,l)<=1:!!n&&(Ed(f,d,c-a,l-a)>=1&&Ed(f,d,c+a,l+a)<=1)},t.prototype.createPath=function(e){var t=this.attr(),n=t.x,r=t.y,o=t.rx,i=t.ry;if(e.beginPath(),e.ellipse)e.ellipse(n,r,o,i,0,0,2*Math.PI,!1);else{var a=o>i?o:i,s=o>i?1:o/i,u=o>i?i/o:1;e.save(),e.translate(n,r),e.scale(s,u),e.arc(0,0,a,0,2*Math.PI),e.restore(),e.closePath()}},t}(bd),Sd=_d;function kd(e){return e instanceof HTMLElement&&(0,vn.isString)(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase()}var Td=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,gn.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,gn.__assign)((0,gn.__assign)({},t),{x:0,y:0,width:0,height:0})},t.prototype.initAttrs=function(e){this._setImage(e.img)},t.prototype.isStroke=function(){return!1},t.prototype.isOnlyHitBox=function(){return!0},t.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var e=this.get("canvas");e?e.draw():this.createPath(this.get("context"))}},t.prototype._setImage=function(e){var t=this,n=this.attrs;if((0,vn.isString)(e)){var r=new Image;r.onload=function(){if(t.destroyed)return!1;t.attr("img",r),t.set("loading",!1),t._afterLoading();var e=t.get("callback");e&&e.call(t)},r.crossOrigin="Anonymous",r.src=e,this.set("loading",!0)}else e instanceof Image?(n.width||(n.width=e.width),n.height||(n.height=e.height)):kd(e)&&(n.width||(n.width=Number(e.getAttribute("width"))),n.height||(n.height,Number(e.getAttribute("height"))))},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),"img"===t&&this._setImage(n)},t.prototype.createPath=function(e){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",e);var t=this.attr(),n=t.x,r=t.y,o=t.width,i=t.height,a=t.sx,s=t.sy,u=t.swidth,c=t.sheight,l=t.img;(l instanceof Image||kd(l))&&((0,vn.isNil)(a)||(0,vn.isNil)(s)||(0,vn.isNil)(u)||(0,vn.isNil)(c)?e.drawImage(l,n,r,o,i):e.drawImage(l,a,s,u,c,n,r,o,i))},t}(bd),Cd=Td;function Md(e,t,n,r,o,i,a){var s=Math.min(e,n),u=Math.max(e,n),c=Math.min(t,r),l=Math.max(t,r),f=o/2;return i>=s-f&&i<=u+f&&a>=c-f&&a<=l+f&&Zu.pointToLine(e,t,n,r,i,a)<=o/2}var Nd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,gn.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,gn.__assign)((0,gn.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this.setArrow()},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),this.setArrow()},t.prototype.setArrow=function(){var e=this.attr(),t=e.x1,n=e.y1,r=e.x2,o=e.y2,i=e.startArrow,a=e.endArrow;i&&rd(this,e,r,o,t,n),a&&od(this,e,t,n,r,o)},t.prototype.isInStrokeOrPath=function(e,t,n,r,o){if(!n||!o)return!1;var i=this.attr();return Md(i.x1,i.y1,i.x2,i.y2,o,e,t)},t.prototype.createPath=function(e){var t=this.attr(),n=t.x1,r=t.y1,o=t.x2,i=t.y2,a=t.startArrow,s=t.endArrow,u={dx:0,dy:0},c={dx:0,dy:0};a&&a.d&&(u=nd(n,r,o,i,t.startArrow.d)),s&&s.d&&(c=nd(n,r,o,i,t.endArrow.d)),e.beginPath(),e.moveTo(n+u.dx,r+u.dy),e.lineTo(o-c.dx,i-c.dy)},t.prototype.afterDrawPath=function(e){var t=this.get("startArrowShape"),n=this.get("endArrowShape");t&&t.draw(e),n&&n.draw(e)},t.prototype.getTotalLength=function(){var e=this.attr(),t=e.x1,n=e.y1,r=e.x2,o=e.y2;return Zu.length(t,n,r,o)},t.prototype.getPoint=function(e){var t=this.attr(),n=t.x1,r=t.y1,o=t.x2,i=t.y2;return Zu.pointAt(n,r,o,i,e)},t}(bd),Ad=Nd,Pd={circle:function(e,t,n){return[["M",e-n,t],["A",n,n,0,1,0,e+n,t],["A",n,n,0,1,0,e-n,t]]},square:function(e,t,n){return[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]]},diamond:function(e,t,n){return[["M",e-n,t],["L",e,t-n],["L",e+n,t],["L",e,t+n],["Z"]]},triangle:function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["Z"]]},"triangle-down":function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]}},Od=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,gn.__extends)(t,e),t.prototype.initAttrs=function(e){this._resetParamsCache()},t.prototype._resetParamsCache=function(){this.set("paramsCache",{})},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),-1!==["symbol","x","y","r","radius"].indexOf(t)&&this._resetParamsCache()},t.prototype.isOnlyHitBox=function(){return!0},t.prototype._getR=function(e){return(0,vn.isNil)(e.r)?e.radius:e.r},t.prototype._getPath=function(){var e,n,r=this.attr(),o=r.x,i=r.y,a=r.symbol||"circle",s=this._getR(r);if((0,vn.isFunction)(a))n=kc(n=(e=a)(o,i,s));else{if(!(e=t.Symbols[a]))return console.warn(a+" marker is not supported."),null;n=e(o,i,s)}return n},t.prototype.createPath=function(e){hd(this,e,{path:this._getPath()},this.get("paramsCache"))},t.Symbols=Pd,t}(bd),Id=Od;function Dd(e,t,n){var r=hc();return e.createPath(r),r.isPointInPath(t,n)}function Rd(e){return Math.abs(e)<1e-6?0:e<0?-1:1}function Ld(e,t,n){return(n[0]-e[0])*(t[1]-e[1])===(t[0]-e[0])*(n[1]-e[1])&&Math.min(e[0],t[0])<=n[0]&&n[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=n[1]&&n[1]<=Math.max(e[1],t[1])}function jd(e,t,n){var r=!1,o=e.length;if(o<=2)return!1;for(var i=0;i<o;i++){var a=e[i],s=e[(i+1)%o];if(Ld(a,s,[t,n]))return!0;Rd(a[1]-n)>0!==Rd(s[1]-n)>0&&Rd(t-(n-a[1])*(a[0]-s[0])/(a[1]-s[1])-a[0])<0&&(r=!r)}return r}function Fd(e,t,n,r,o,i,a,s){var u=(Math.atan2(s-t,a-e)+2*Math.PI)%(2*Math.PI);if(u<r||u>o)return!1;var c={x:e+n*Math.cos(u),y:t+n*Math.sin(u)};return Lf(c.x,c.y,a,s)<=i/2}var Bd=Mn;var zd=(0,gn.__assign)({hasArc:function(e){for(var t=!1,n=e.length,r=0;r<n;r++){var o=e[r][0];if("C"===o||"A"===o||"Q"===o){t=!0;break}}return t},extractPolygons:function(e){for(var t=e.length,n=[],r=[],o=[],i=0;i<t;i++){var a=e[i],s=a[0];"M"===s?(o.length&&(r.push(o),o=[]),o.push([a[1],a[2]])):"Z"===s?o.length&&(n.push(o),o=[]):o.push([a[1],a[2]])}return o.length>0&&r.push(o),{polygons:n,polylines:r}},isPointInStroke:function(e,t,n,r,o){for(var i=!1,a=t/2,s=0;s<e.length;s++){var u=e[s],c=u.currentPoint,l=u.params,f=u.prePoint,d=u.box;if(!d||jf(d.x-a,d.y-a,d.width+t,d.height+t,n,r)){switch(u.command){case"L":case"Z":i=Md(f[0],f[1],c[0],c[1],t,n,r);break;case"Q":i=Ju.pointDistance(f[0],f[1],l[1],l[2],l[3],l[4],n,r)<=t/2;break;case"C":i=oc.pointDistance(f[0],f[1],l[1],l[2],l[3],l[4],l[5],l[6],n,r,o)<=t/2;break;case"A":var h=u.arcParams,p=h.cx,g=h.cy,v=h.rx,m=h.ry,y=h.startAngle,b=h.endAngle,x=h.xRotation,w=[n,r,1],E=v>m?v:m,_=Bd(null,[["t",-p,-g],["r",-x],["s",1/(v>m?1:v/m),1/(v>m?m/v:1)]]);Qr.kK(w,w,_),i=Fd(0,0,E,y,b,t,w[0],w[1])}if(i)break}}return i}},o);function Gd(e,t,n){for(var r=!1,o=0;o<e.length;o++){if(r=jd(e[o],t,n))break}return r}var Vd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,gn.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,gn.__assign)((0,gn.__assign)({},t),{startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this._setPathArr(e.path),this.setArrow()},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),"path"===t&&this._setPathArr(n),this.setArrow()},t.prototype._setPathArr=function(e){this.attrs.path=kc(e);var t=zd.hasArc(e);this.set("hasArc",t),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},t.prototype.getSegments=function(){var e=this.get("segements");return e||(e=Oc(this.attr("path")),this.set("segments",e)),e},t.prototype.setArrow=function(){var e,t=this.attr(),n=t.startArrow,r=t.endArrow;n&&rd(this,t,(e=this.getStartTangent())[0][0],e[0][1],e[1][0],e[1][1]);r&&od(this,t,(e=this.getEndTangent())[0][0],e[0][1],e[1][0],e[1][1])},t.prototype.isInStrokeOrPath=function(e,t,n,r,o){var i=this.getSegments(),a=this.get("hasArc"),s=!1;if(n){var u=this.getTotalLength();s=zd.isPointInStroke(i,o,e,t,u)}if(!s&&r)if(a)s=Dd(this,e,t);else{var c=this.attr("path"),l=zd.extractPolygons(c);s=Gd(l.polygons,e,t)||Gd(l.polylines,e,t)}return s},t.prototype.createPath=function(e){hd(this,e,this.attr(),this.get("paramsCache"))},t.prototype.afterDrawPath=function(e){var t=this.get("startArrowShape"),n=this.get("endArrowShape");t&&t.draw(e),n&&n.draw(e)},t.prototype.getTotalLength=function(){var e=this.get("totalLength");return(0,vn.isNil)(e)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):e},t.prototype.getPoint=function(e){var t,n,r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var o=this.get("curve");if(!r||0===r.length)return o?{x:o[0][1],y:o[0][2]}:null;(0,vn.each)(r,(function(r,o){e>=r[0]&&e<=r[1]&&(t=(e-r[0])/(r[1]-r[0]),n=o)}));var i=o[n];if((0,vn.isNil)(i)||(0,vn.isNil)(n))return null;var a=i.length,s=o[n+1];return oc.pointAt(i[a-2],i[a-1],s[1],s[2],s[3],s[4],s[5],s[6],t)},t.prototype._calculateCurve=function(){var e=this.attr().path;this.set("curve",zd.pathToCurve(e))},t.prototype._setTcache=function(){var e,t,n,r,o=0,i=0,a=[],s=this.get("curve");s&&((0,vn.each)(s,(function(e,t){n=s[t+1],r=e.length,n&&(o+=oc.length(e[r-2],e[r-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)})),this.set("totalLength",o),0!==o?((0,vn.each)(s,(function(u,c){n=s[c+1],r=u.length,n&&((e=[])[0]=i/o,t=oc.length(u[r-2],u[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),i+=t||0,e[1]=i/o,a.push(e))})),this.set("tCache",a)):this.set("tCache",[]))},t.prototype.getStartTangent=function(){var e,t=this.getSegments();if(t.length>1){var n=t[0].currentPoint,r=t[1].currentPoint,o=t[1].startTangent;e=[],o?(e.push([n[0]-o[0],n[1]-o[1]]),e.push([n[0],n[1]])):(e.push([r[0],r[1]]),e.push([n[0],n[1]]))}return e},t.prototype.getEndTangent=function(){var e,t=this.getSegments(),n=t.length;if(n>1){var r=t[n-2].currentPoint,o=t[n-1].currentPoint,i=t[n-1].endTangent;e=[],i?(e.push([o[0]-i[0],o[1]-i[1]]),e.push([o[0],o[1]])):(e.push([r[0],r[1]]),e.push([o[0],o[1]]))}return e},t}(bd),Ud=Vd;function Wd(e,t,n,r,o){var i=e.length;if(i<2)return!1;for(var a=0;a<i-1;a++){if(Md(e[a][0],e[a][1],e[a+1][0],e[a+1][1],t,n,r))return!0}if(o){var s=e[0],u=e[i-1];if(Md(s[0],s[1],u[0],u[1],t,n,r))return!0}return!1}var Zd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,gn.__extends)(t,e),t.prototype.isInStrokeOrPath=function(e,t,n,r,o){var i=this.attr().points,a=!1;return n&&(a=Wd(i,o,e,t,!0)),!a&&r&&(a=jd(i,e,t)),a},t.prototype.createPath=function(e){var t=this.attr().points;if(!(t.length<2)){e.beginPath();for(var n=0;n<t.length;n++){var r=t[n];0===n?e.moveTo(r[0],r[1]):e.lineTo(r[0],r[1])}e.closePath()}},t}(bd),Yd=Zd,Hd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,gn.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,gn.__assign)((0,gn.__assign)({},t),{startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this.setArrow()},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),this.setArrow(),-1!==["points"].indexOf(t)&&this._resetCache()},t.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},t.prototype.setArrow=function(){var e=this.attr(),t=this.attrs,n=t.points,r=t.startArrow,o=t.endArrow,i=n.length,a=n[0][0],s=n[0][1],u=n[i-1][0],c=n[i-1][1];r&&rd(this,e,n[1][0],n[1][1],a,s),o&&od(this,e,n[i-2][0],n[i-2][1],u,c)},t.prototype.isFill=function(){return!1},t.prototype.isInStrokeOrPath=function(e,t,n,r,o){return!(!n||!o)&&Wd(this.attr().points,o,e,t,!1)},t.prototype.isStroke=function(){return!0},t.prototype.createPath=function(e){var t=this.attr(),n=t.points,r=t.startArrow,o=t.endArrow,i=n.length;if(!(n.length<2)){var a,s=n[0][0],u=n[0][1],c=n[i-1][0],l=n[i-1][1];if(r&&r.d)s+=(a=nd(s,u,n[1][0],n[1][1],r.d)).dx,u+=a.dy;if(o&&o.d)c-=(a=nd(n[i-2][0],n[i-2][1],c,l,o.d)).dx,l-=a.dy;e.beginPath(),e.moveTo(s,u);for(var f=0;f<i-1;f++){var d=n[f];e.lineTo(d[0],d[1])}e.lineTo(c,l)}},t.prototype.afterDrawPath=function(e){var t=this.get("startArrowShape"),n=this.get("endArrowShape");t&&t.draw(e),n&&n.draw(e)},t.prototype.getTotalLength=function(){var e=this.attr().points,t=this.get("totalLength");return(0,vn.isNil)(t)?(this.set("totalLength",cc(e)),this.get("totalLength")):t},t.prototype.getPoint=function(e){var t,n,r=this.attr().points,o=this.get("tCache");return o||(this._setTcache(),o=this.get("tCache")),(0,vn.each)(o,(function(r,o){e>=r[0]&&e<=r[1]&&(t=(e-r[0])/(r[1]-r[0]),n=o)})),Zu.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],t)},t.prototype._setTcache=function(){var e=this.attr().points;if(e&&0!==e.length){var t=this.getTotalLength();if(!(t<=0)){var n,r,o=0,i=[];(0,vn.each)(e,(function(a,s){e[s+1]&&((n=[])[0]=o/t,r=Zu.length(a[0],a[1],e[s+1][0],e[s+1][1]),o+=r,n[1]=o/t,i.push(n))})),this.set("tCache",i)}}},t.prototype.getStartTangent=function(){var e=this.attr().points,t=[];return t.push([e[1][0],e[1][1]]),t.push([e[0][0],e[0][1]]),t},t.prototype.getEndTangent=function(){var e=this.attr().points,t=e.length-1,n=[];return n.push([e[t-1][0],e[t-1][1]]),n.push([e[t][0],e[t][1]]),n},t}(bd),Xd=Hd;var Kd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,gn.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,gn.__assign)((0,gn.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},t.prototype.isInStrokeOrPath=function(e,t,n,r,o){var i=this.attr(),a=i.x,s=i.y,u=i.width,c=i.height,l=i.radius;if(l){var f=!1;return n&&(f=function(e,t,n,r,o,i,a,s){return Md(e+o,t,e+n-o,t,i,a,s)||Md(e+n,t+o,e+n,t+r-o,i,a,s)||Md(e+n-o,t+r,e+o,t+r,i,a,s)||Md(e,t+r-o,e,t+o,i,a,s)||Fd(e+n-o,t+o,o,1.5*Math.PI,2*Math.PI,i,a,s)||Fd(e+n-o,t+r-o,o,0,.5*Math.PI,i,a,s)||Fd(e+o,t+r-o,o,.5*Math.PI,Math.PI,i,a,s)||Fd(e+o,t+o,o,Math.PI,1.5*Math.PI,i,a,s)}(a,s,u,c,l,o,e,t)),!f&&r&&(f=Dd(this,e,t)),f}var d=o/2;return r&&n?jf(a-d,s-d,u+d,c+d,e,t):r?jf(a,s,u,c,e,t):n?function(e,t,n,r,o,i,a){var s=o/2;return jf(e-s,t-s,n,o,i,a)||jf(e+n-s,t-s,o,r,i,a)||jf(e+s,t+r-s,n,o,i,a)||jf(e-s,t+s,o,r,i,a)}(a,s,u,c,o,e,t):void 0},t.prototype.createPath=function(e){var t=this.attr(),n=t.x,r=t.y,o=t.width,i=t.height,a=t.radius;if(e.beginPath(),0===a)e.rect(n,r,o,i);else{var s=function(e){var t=0,n=0,r=0,o=0;return(0,vn.isArray)(e)?1===e.length?t=n=r=o=e[0]:2===e.length?(t=r=e[0],n=o=e[1]):3===e.length?(t=e[0],n=o=e[1],r=e[2]):(t=e[0],n=e[1],r=e[2],o=e[3]):t=n=r=o=e,[t,n,r,o]}(a),u=s[0],c=s[1],l=s[2],f=s[3];e.moveTo(n+u,r),e.lineTo(n+o-c,r),0!==c&&e.arc(n+o-c,r+c,c,-Math.PI/2,0),e.lineTo(n+o,r+i-l),0!==l&&e.arc(n+o-l,r+i-l,l,0,Math.PI/2),e.lineTo(n+f,r+i),0!==f&&e.arc(n+f,r+i-f,f,Math.PI/2,Math.PI),e.lineTo(n,r+u),0!==u&&e.arc(n+u,r+u,u,Math.PI,1.5*Math.PI),e.closePath()}},t}(bd),qd=Kd,$d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,gn.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,gn.__assign)((0,gn.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},t.prototype.isOnlyHitBox=function(){return!0},t.prototype.initAttrs=function(e){this._assembleFont(),e.text&&this._setText(e.text)},t.prototype._assembleFont=function(){var e=this.attrs;e.font=gc(e)},t.prototype._setText=function(e){var t=null;(0,vn.isString)(e)&&-1!==e.indexOf("\n")&&(t=e.split("\n")),this.set("textArr",t)},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),t.startsWith("font")&&this._assembleFont(),"text"===t&&this._setText(n)},t.prototype._getSpaceingY=function(){var e=this.attrs,t=e.lineHeight,n=1*e.fontSize;return t?t-n:.14*n},t.prototype._drawTextArr=function(e,t,n){var r,o=this.attrs,i=o.textBaseline,a=o.x,s=o.y,u=1*o.fontSize,c=this._getSpaceingY(),l=pc(o.text,o.fontSize,o.lineHeight);(0,vn.each)(t,(function(t,o){r=s+o*(c+u)-l+u,"middle"===i&&(r+=l-u-(l-u)/2),"top"===i&&(r+=l-u),(0,vn.isNil)(t)||(n?e.fillText(t,a,r):e.strokeText(t,a,r))}))},t.prototype._drawText=function(e,t){var n=this.attr(),r=n.x,o=n.y,i=this.get("textArr");if(i)this._drawTextArr(e,i,t);else{var a=n.text;(0,vn.isNil)(a)||(t?e.fillText(a,r,o):e.strokeText(a,r,o))}},t.prototype.strokeAndFill=function(e){var t=this.attrs,n=t.lineWidth,r=t.opacity,o=t.strokeOpacity,i=t.fillOpacity;this.isStroke()&&n>0&&((0,vn.isNil)(o)||1===o||(e.globalAlpha=r),this.stroke(e)),this.isFill()&&((0,vn.isNil)(i)||1===i?this.fill(e):(e.globalAlpha=i,this.fill(e),e.globalAlpha=r)),this.afterDrawPath(e)},t.prototype.fill=function(e){this._drawText(e,!0)},t.prototype.stroke=function(e){this._drawText(e,!1)},t}(bd),Jd=$d;function Qd(e,t,n){var r=e.getTotalMatrix();if(r){var o=function(e,t){return t?Sa(ka(t),e):e}([t,n,1],r);return[o[0],o[1]]}return[t,n]}function eh(e,t,n){if(e.isCanvas&&e.isCanvas())return!0;if(!ca(e)||!1===e.cfg.isInView)return!1;if(e.cfg.clipShape){var r=Qd(e,t,n),o=r[0],i=r[1];if(e.isClipped(o,i))return!1}var a=e.cfg.cacheCanvasBBox||e.getCanvasBBox();return t>=a.minX&&t<=a.maxX&&n>=a.minY&&n<=a.maxY}function th(e,t,n){if(!eh(e,t,n))return null;for(var r=null,o=e.getChildren(),i=o.length-1;i>=0;i--){var a=o[i];if(a.isGroup())r=th(a,t,n);else if(eh(a,t,n)){var s=a,u=Qd(a,t,n),c=u[0],l=u[1];s.isInShape(c,l)&&(r=a)}if(r)break}return r}var nh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,gn.__extends)(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},t.prototype.onCanvasChange=function(e){"attr"!==e&&"sort"!==e&&"changeSize"!==e||(this.set("refreshElements",[this]),this.draw())},t.prototype.getShapeBase=function(){return c},t.prototype.getGroupBase=function(){return md},t.prototype.getPixelRatio=function(){var e=this.get("pixelRatio")||(window?window.devicePixelRatio:1);return e>=1?Math.ceil(e):1},t.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},t.prototype.createDom=function(){var e=document.createElement("canvas"),t=e.getContext("2d");return this.set("context",t),e},t.prototype.setDOMSize=function(t,n){e.prototype.setDOMSize.call(this,t,n);var r=this.get("context"),o=this.get("el"),i=this.getPixelRatio();o.width=i*t,o.height=i*n,i>1&&r.scale(i,i)},t.prototype.clear=function(){e.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),n=this.get("el");t.clearRect(0,0,n.width,n.height)},t.prototype.getShape=function(t,n){return this.get("quickHit")?th(this,t,n):e.prototype.getShape.call(this,t,n,null)},t.prototype._getRefreshRegion=function(){var e,t=this.get("refreshElements"),n=this.getViewRange();t.length&&t[0]===this?e=n:(e=function(e){if(!e.length)return null;var t=[],n=[],r=[],o=[];return(0,vn.each)(e,(function(e){var i=gd(e);i&&(t.push(i.minX),n.push(i.minY),r.push(i.maxX),o.push(i.maxY))})),{minX:(0,vn.min)(t),minY:(0,vn.min)(n),maxX:(0,vn.max)(r),maxY:(0,vn.max)(o)}}(t),e&&(e.minX=Math.floor(e.minX),e.minY=Math.floor(e.minY),e.maxX=Math.ceil(e.maxX),e.maxY=Math.ceil(e.maxY),e.maxY+=1,this.get("clipView")&&(e=function(e,t){return e&&t&&Ff(e,t)?{minX:Math.max(e.minX,t.minX),minY:Math.max(e.minY,t.minY),maxX:Math.min(e.maxX,t.maxX),maxY:Math.min(e.maxY,t.maxY)}:null}(e,n))));return e},t.prototype.refreshElement=function(e){this.get("refreshElements").push(e)},t.prototype._clearFrame=function(){var e=this.get("drawFrame");e&&((0,vn.clearAnimationFrame)(e),this.set("drawFrame",null),this.set("refreshElements",[]))},t.prototype.draw=function(){var e=this.get("drawFrame");this.get("autoDraw")&&e||this._startDraw()},t.prototype._drawAll=function(){var e=this.get("context"),t=this.get("el"),n=this.getChildren();e.clearRect(0,0,t.width,t.height),ad(e,this),sd(e,n),this.set("refreshElements",[])},t.prototype._drawRegion=function(){var e=this.get("context"),t=this.get("refreshElements"),n=this.getChildren(),r=this._getRefreshRegion();r?(e.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),e.save(),e.beginPath(),e.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),e.clip(),ad(e,this),ud(this,n,r),sd(e,n,r),e.restore()):t.length&&ld(t),(0,vn.each)(t,(function(e){e.get("hasChanged")&&e.set("hasChanged",!1)})),this.set("refreshElements",[])},t.prototype._startDraw=function(){var e=this,t=this.get("drawFrame");t||(t=(0,vn.requestAnimationFrame)((function(){e.get("localRefresh")?e._drawRegion():e._drawAll(),e.set("drawFrame",null)})),this.set("drawFrame",t))},t.prototype.skipDraw=function(){},t.prototype.removeDom=function(){var e=this.get("el");e.width=0,e.height=0,e.parentNode.removeChild(e)},t}(Nu),rh=nh,oh={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},ih={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function ah(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function sh(e){var t=oh[e.type],n=e.getParent();if(!t)throw new Error("the type "+e.type+" is not supported by svg");var r=ah(t);if(e.get("id")&&(r.id=e.get("id")),e.set("el",r),e.set("attrs",{}),n){var o=n.get("el");o||(o=n.createDom(),n.set("el",o)),o.appendChild(r)}return r}function uh(e,t){var n=e.get("el"),r=(0,vn.toArray)(n.children).sort(t),o=document.createDocumentFragment();r.forEach((function(e){o.appendChild(e)})),n.appendChild(o)}function ch(e){var t=e.attr().matrix;if(t){for(var n=e.cfg.el,r=[],o=0;o<9;o+=3)r.push(t[o]+","+t[o+1]);-1===(r=r.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",t)}}function lh(e,t){var n=e.getClip(),r=e.get("el");if(n){if(n&&!r.hasAttribute("clip-path")){sh(n),n.createPath(t);var o=t.addClip(n);r.setAttribute("clip-path","url(#"+o+")")}}else r.removeAttribute("clip-path")}function fh(e,t){t.forEach((function(t){t.draw(e)}))}function dh(e,t){var n=e.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context"),o=e.getParent(),i=o?o.getChildren():[n],a=e.get("el");if("remove"===t)if(e.get("isClipShape")){var s=a&&a.parentNode,u=s&&s.parentNode;s&&u&&u.removeChild(s)}else a&&a.parentNode&&a.parentNode.removeChild(a);else if("show"===t)a.setAttribute("visibility","visible");else if("hide"===t)a.setAttribute("visibility","hidden");else if("zIndex"===t)!function(e,t){var n=e.parentNode,r=Array.from(n.childNodes).filter((function(e){return 1===e.nodeType&&"defs"!==e.nodeName.toLowerCase()})),o=r[t],i=r.indexOf(e);if(o){if(i>t)n.insertBefore(e,o);else if(i<t){var a=r[t+1];a?n.insertBefore(e,a):n.appendChild(e)}}else n.appendChild(e)}(a,i.indexOf(e));else if("sort"===t){var c=e.get("children");c&&c.length&&uh(e,(function(e,t){return c.indexOf(e)-c.indexOf(t)?1:0}))}else"clear"===t?a&&(a.innerHTML=""):"matrix"===t?ch(e):"clip"===t?lh(e,r):"attr"===t||"add"===t&&e.draw(r)}}var hh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,gn.__extends)(t,e),t.prototype.isEntityGroup=function(){return!0},t.prototype.createDom=function(){var e=ah("g");this.set("el",e);var t=this.getParent();if(t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(e)}return e},t.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.createPath(r,t)}},t.prototype.onCanvasChange=function(e){dh(this,e)},t.prototype.getShapeBase=function(){return l},t.prototype.getGroupBase=function(){return t},t.prototype.draw=function(e){var t=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),lh(this,e),this.createPath(e),t.length&&fh(e,t))},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,vn.each)(t||n,(function(e,t){ih[t]&&r.setAttribute(ih[t],e)})),ch(this)},t}(Pu),ph=hh,gh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return(0,gn.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,gn.__assign)((0,gn.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},t.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.draw(r,t)}},t.prototype.getShapeBase=function(){return l},t.prototype.getGroupBase=function(){return ph},t.prototype.onCanvasChange=function(e){dh(this,e)},t.prototype.calculateBBox=function(){var e=this.get("el"),t=null;if(e)t=e.getBBox();else{var n=Lu(this.get("type"));n&&(t=n(this))}if(t){var r=t.x,o=t.y,i=t.width,a=t.height,s=this.getHitLineWidth(),u=s/2,c=r-u,l=o-u;return{x:c,y:l,minX:c,minY:l,maxX:r+i+u,maxY:o+a+u,width:i+s,height:a+s}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},t.prototype.isFill=function(){var e=this.attr(),t=e.fill,n=e.fillStyle;return(t||n||this.isClipShape())&&this.canFill},t.prototype.isStroke=function(){var e=this.attr(),t=e.stroke,n=e.strokeStyle;return(t||n)&&this.canStroke},t.prototype.draw=function(e,t){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||sh(this),lh(this,e),this.createPath(e,t),this.shadow(e,t),this.strokeAndFill(e,t),this.transform(t))},t.prototype.createPath=function(e,t){},t.prototype.strokeAndFill=function(e,t){var n=t||this.attr(),r=n.fill,o=n.fillStyle,i=n.stroke,a=n.strokeStyle,s=n.fillOpacity,u=n.strokeOpacity,c=n.lineWidth,l=this.get("el");this.canFill&&(t?"fill"in n?this._setColor(e,"fill",r):"fillStyle"in n&&this._setColor(e,"fill",o):this._setColor(e,"fill",r||o),s&&l.setAttribute(ih.fillOpacity,s)),this.canStroke&&c>0&&(t?"stroke"in n?this._setColor(e,"stroke",i):"strokeStyle"in n&&this._setColor(e,"stroke",a):this._setColor(e,"stroke",i||a),u&&l.setAttribute(ih.strokeOpacity,u),c&&l.setAttribute(ih.lineWidth,c))},t.prototype._setColor=function(e,t,n){var r=this.get("el");if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n))(o=e.find("gradient",n))||(o=e.addGradient(n)),r.setAttribute(ih[t],"url(#"+o+")");else if(/^[p,P]{1}[\s]*\(/.test(n)){var o;(o=e.find("pattern",n))||(o=e.addPattern(n)),r.setAttribute(ih[t],"url(#"+o+")")}else r.setAttribute(ih[t],n);else r.setAttribute(ih[t],"none")},t.prototype.shadow=function(e,t){var n=this.attr(),r=t||n,o=r.shadowOffsetX,i=r.shadowOffsetY,a=r.shadowBlur,s=r.shadowColor;(o||i||a||s)&&function(e,t){var n=e.cfg.el,r=e.attr(),o={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};if(o.dx||o.dy||o.blur||o.color){var i=t.find("filter",o);i||(i=t.addShadow(o)),n.setAttribute("filter","url(#"+i+")")}else n.removeAttribute("filter")}(this,e)},t.prototype.transform=function(e){var t=this.attr();(e||t).matrix&&ch(this)},t.prototype.isInShape=function(e,t){return this.isPointInPath(e,t)},t.prototype.isPointInPath=function(e,t){var n=this.get("el"),r=this.get("canvas").get("el").getBoundingClientRect(),o=e+r.left,i=t+r.top,a=document.elementFromPoint(o,i);return!(!a||!a.isEqualNode(n))},t.prototype.getHitLineWidth=function(){var e=this.attrs,t=e.lineWidth,n=e.lineAppendWidth;return this.isStroke()?t+n:0},t}(Iu),vh=gh,mh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return(0,gn.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,gn.__assign)((0,gn.__assign)({},t),{x:0,y:0,r:0})},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,vn.each)(t||n,(function(e,t){"x"===t||"y"===t?r.setAttribute("c"+t,e):ih[t]&&r.setAttribute(ih[t],e)}))},t}(vh),yh=mh,bh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return(0,gn.__extends)(t,e),t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");if((0,vn.each)(t||n,(function(e,t){ih[t]&&r.setAttribute(ih[t],e)})),"function"===typeof n.html){var o=n.html.call(this,n);if(o instanceof Element||o instanceof HTMLDocument){for(var i=r.childNodes,a=i.length-1;a>=0;a--)r.removeChild(i[a]);r.appendChild(o)}else r.innerHTML=o}else r.innerHTML=n.html},t}(vh),xh=bh,wh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return(0,gn.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,gn.__assign)((0,gn.__assign)({},t),{x:0,y:0,rx:0,ry:0})},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,vn.each)(t||n,(function(e,t){"x"===t||"y"===t?r.setAttribute("c"+t,e):ih[t]&&r.setAttribute(ih[t],e)}))},t}(vh),Eh=wh,_h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return(0,gn.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,gn.__assign)((0,gn.__assign)({},t),{x:0,y:0,width:0,height:0})},t.prototype.createPath=function(e,t){var n=this,r=this.attr(),o=this.get("el");(0,vn.each)(t||r,(function(e,t){"img"===t?n._setImage(r.img):ih[t]&&o.setAttribute(ih[t],e)}))},t.prototype.setAttr=function(e,t){this.attrs[e]=t,"img"===e&&this._setImage(t)},t.prototype._setImage=function(e){var t=this.attr(),n=this.get("el");if((0,vn.isString)(e))n.setAttribute("href",e);else if(e instanceof window.Image)t.width||(n.setAttribute("width",e.width),this.attr("width",e.width)),t.height||(n.setAttribute("height",e.height),this.attr("height",e.height)),n.setAttribute("href",e.src);else if(e instanceof HTMLElement&&(0,vn.isString)(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase())n.setAttribute("href",e.toDataURL());else if(e instanceof ImageData){var r=document.createElement("canvas");r.setAttribute("width",""+e.width),r.setAttribute("height",""+e.height),r.getContext("2d").putImageData(e,0,0),t.width||(n.setAttribute("width",""+e.width),this.attr("width",e.width)),t.height||(n.setAttribute("height",""+e.height),this.attr("height",e.height)),n.setAttribute("href",r.toDataURL())}},t}(vh),Sh=_h,kh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return(0,gn.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,gn.__assign)((0,gn.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,vn.each)(t||n,(function(t,o){if("startArrow"===o||"endArrow"===o)if(t){var i=(0,vn.isObject)(t)?e.addArrow(n,ih[o]):e.getDefaultArrow(n,ih[o]);r.setAttribute(ih[o],"url(#"+i+")")}else r.removeAttribute(ih[o]);else ih[o]&&r.setAttribute(ih[o],t)}))},t.prototype.getTotalLength=function(){var e=this.attr(),t=e.x1,n=e.y1,r=e.x2,o=e.y2;return Zu.length(t,n,r,o)},t.prototype.getPoint=function(e){var t=this.attr(),n=t.x1,r=t.y1,o=t.x2,i=t.y2;return Zu.pointAt(n,r,o,i,e)},t}(vh),Th=kh,Ch={circle:function(e,t,n){return[["M",e,t],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(e,t,n){return[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]]},diamond:function(e,t,n){return[["M",e-n,t],["L",e,t-n],["L",e+n,t],["L",e,t+n],["Z"]]},triangle:function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["z"]]},triangleDown:function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]}},Mh={get:function(e){return Ch[e]},register:function(e,t){Ch[e]=t},remove:function(e){delete Ch[e]},getAll:function(){return Ch}},Nh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return(0,gn.__extends)(t,e),t.prototype.createPath=function(e){this.get("el").setAttribute("d",this._assembleMarker())},t.prototype._assembleMarker=function(){var e=this._getPath();return(0,vn.isArray)(e)?e.map((function(e){return e.join(" ")})).join(""):e},t.prototype._getPath=function(){var e,t=this.attr(),n=t.x,r=t.y,o=t.r||t.radius,i=t.symbol||"circle";return(e=(0,vn.isFunction)(i)?i:Mh.get(i))?e(n,r,o):(console.warn(e+" symbol is not exist."),null)},t.symbolsFactory=Mh,t}(vh),Ah=Nh,Ph=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return(0,gn.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,gn.__assign)((0,gn.__assign)({},t),{startArrow:!1,endArrow:!1})},t.prototype.createPath=function(e,t){var n=this,r=this.attr(),o=this.get("el");(0,vn.each)(t||r,(function(t,i){if("path"===i&&(0,vn.isArray)(t))o.setAttribute("d",n._formatPath(t));else if("startArrow"===i||"endArrow"===i)if(t){var a=(0,vn.isObject)(t)?e.addArrow(r,ih[i]):e.getDefaultArrow(r,ih[i]);o.setAttribute(ih[i],"url(#"+a+")")}else o.removeAttribute(ih[i]);else ih[i]&&o.setAttribute(ih[i],t)}))},t.prototype._formatPath=function(e){var t=e.map((function(e){return e.join(" ")})).join("");return~t.indexOf("NaN")?"":t},t.prototype.getTotalLength=function(){var e=this.get("el");return e?e.getTotalLength():null},t.prototype.getPoint=function(e){var t=this.get("el"),n=this.getTotalLength();if(0===n)return null;var r=t?t.getPointAtLength(e*n):null;return r?{x:r.x,y:r.y}:null},t}(vh),Oh=Ph,Ih=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return(0,gn.__extends)(t,e),t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,vn.each)(t||n,(function(e,t){"points"===t&&(0,vn.isArray)(e)&&e.length>=2?r.setAttribute("points",e.map((function(e){return e[0]+","+e[1]})).join(" ")):ih[t]&&r.setAttribute(ih[t],e)}))},t}(vh),Dh=Ih,Rh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return(0,gn.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,gn.__assign)((0,gn.__assign)({},t),{startArrow:!1,endArrow:!1})},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),-1!==["points"].indexOf(t)&&this._resetCache()},t.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,vn.each)(t||n,(function(e,t){"points"===t&&(0,vn.isArray)(e)&&e.length>=2?r.setAttribute("points",e.map((function(e){return e[0]+","+e[1]})).join(" ")):ih[t]&&r.setAttribute(ih[t],e)}))},t.prototype.getTotalLength=function(){var e=this.attr().points,t=this.get("totalLength");return(0,vn.isNil)(t)?(this.set("totalLength",cc(e)),this.get("totalLength")):t},t.prototype.getPoint=function(e){var t,n,r=this.attr().points,o=this.get("tCache");return o||(this._setTcache(),o=this.get("tCache")),(0,vn.each)(o,(function(r,o){e>=r[0]&&e<=r[1]&&(t=(e-r[0])/(r[1]-r[0]),n=o)})),Zu.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],t)},t.prototype._setTcache=function(){var e=this.attr().points;if(e&&0!==e.length){var t=this.getTotalLength();if(!(t<=0)){var n,r,o=0,i=[];(0,vn.each)(e,(function(a,s){e[s+1]&&((n=[])[0]=o/t,r=Zu.length(a[0],a[1],e[s+1][0],e[s+1][1]),o+=r,n[1]=o/t,i.push(n))})),this.set("tCache",i)}}},t.prototype.getStartTangent=function(){var e=this.attr().points,t=[];return t.push([e[1][0],e[1][1]]),t.push([e[0][0],e[0][1]]),t},t.prototype.getEndTangent=function(){var e=this.attr().points,t=e.length-1,n=[];return n.push([e[t-1][0],e[t-1][1]]),n.push([e[t][0],e[t][1]]),n},t}(vh),Lh=Rh;var jh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return(0,gn.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,gn.__assign)((0,gn.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},t.prototype.createPath=function(e,t){var n=this,r=this.attr(),o=this.get("el"),i=!1,a=["x","y","width","height","radius"];(0,vn.each)(t||r,(function(e,t){-1===a.indexOf(t)||i?-1===a.indexOf(t)&&ih[t]&&o.setAttribute(ih[t],e):(o.setAttribute("d",n._assembleRect(r)),i=!0)}))},t.prototype._assembleRect=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.radius;if(!i)return"M "+t+","+n+" l "+r+",0 l 0,"+o+" l"+-r+" 0 z";var a=function(e){var t=0,n=0,r=0,o=0;return(0,vn.isArray)(e)?1===e.length?t=n=r=o=e[0]:2===e.length?(t=r=e[0],n=o=e[1]):3===e.length?(t=e[0],n=o=e[1],r=e[2]):(t=e[0],n=e[1],r=e[2],o=e[3]):t=n=r=o=e,{r1:t,r2:n,r3:r,r4:o}}(i);return(0,vn.isArray)(i)?1===i.length?a.r1=a.r2=a.r3=a.r4=i[0]:2===i.length?(a.r1=a.r3=i[0],a.r2=a.r4=i[1]):3===i.length?(a.r1=i[0],a.r2=a.r4=i[1],a.r3=i[2]):(a.r1=i[0],a.r2=i[1],a.r3=i[2],a.r4=i[3]):a.r1=a.r2=a.r3=a.r4=i,[["M "+(t+a.r1)+","+n],["l "+(r-a.r1-a.r2)+",0"],["a "+a.r2+","+a.r2+",0,0,1,"+a.r2+","+a.r2],["l 0,"+(o-a.r2-a.r3)],["a "+a.r3+","+a.r3+",0,0,1,"+-a.r3+","+a.r3],["l "+(a.r3+a.r4-r)+",0"],["a "+a.r4+","+a.r4+",0,0,1,"+-a.r4+","+-a.r4],["l 0,"+(a.r4+a.r1-o)],["a "+a.r1+","+a.r1+",0,0,1,"+a.r1+","+-a.r1],["z"]].join(" ")},t}(vh),Fh=jh,Bh={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},zh={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},Gh={left:"left",start:"left",center:"middle",right:"end",end:"end"},Vh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return(0,gn.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,gn.__assign)((0,gn.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},t.prototype.createPath=function(e,t){var n=this,r=this.attr(),o=this.get("el");this._setFont(),(0,vn.each)(t||r,(function(e,t){"text"===t?n._setText(""+e):"matrix"===t&&e?ch(n):ih[t]&&o.setAttribute(ih[t],e)})),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},t.prototype._setFont=function(){var e=this.get("el"),t=this.attr(),n=t.textBaseline,r=t.textAlign,o=xa();o&&"firefox"===o.name?e.setAttribute("dominant-baseline",zh[n]||"alphabetic"):e.setAttribute("alignment-baseline",Bh[n]||"baseline"),e.setAttribute("text-anchor",Gh[r]||"left")},t.prototype._setText=function(e){var t=this.get("el"),n=this.attr(),r=n.x,o=n.textBaseline,i=void 0===o?"bottom":o;if(e)if(~e.indexOf("\n")){var a=e.split("\n"),s=a.length-1,u="";(0,vn.each)(a,(function(e,t){0===t?"alphabetic"===i?u+='<tspan x="'+r+'" dy="'+-s+'em">'+e+"</tspan>":"top"===i?u+='<tspan x="'+r+'" dy="0.9em">'+e+"</tspan>":"middle"===i?u+='<tspan x="'+r+'" dy="'+-(s-1)/2+'em">'+e+"</tspan>":"bottom"===i?u+='<tspan x="'+r+'" dy="-'+(s+.3)+'em">'+e+"</tspan>":"hanging"===i&&(u+='<tspan x="'+r+'" dy="'+(-(s-1)-.3)+'em">'+e+"</tspan>"):u+='<tspan x="'+r+'" dy="1em">'+e+"</tspan>"})),t.innerHTML=u}else t.innerHTML=e;else t.innerHTML=""},t}(vh),Uh=Vh,Wh=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Zh=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Yh=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function Hh(e){var t=e.match(Yh);if(!t)return"";var n="";return t.sort((function(e,t){return e=e.split(":"),t=t.split(":"),Number(e[0])-Number(t[0])})),(0,vn.each)(t,(function(e){e=e.split(":"),n+='<stop offset="'+e[0]+'" stop-color="'+e[1]+'"></stop>'})),n}var Xh=function(){function e(e){this.cfg={};var t=null,n=(0,vn.uniqueId)("gradient_");return"l"===e.toLowerCase()[0]?function(e,t){var n,r,o=Wh.exec(e),i=(0,vn.mod)((0,vn.toRadian)(parseFloat(o[1])),2*Math.PI),a=o[2];i>=0&&i<.5*Math.PI?(n={x:0,y:0},r={x:1,y:1}):.5*Math.PI<=i&&i<Math.PI?(n={x:1,y:0},r={x:0,y:1}):Math.PI<=i&&i<1.5*Math.PI?(n={x:1,y:1},r={x:0,y:0}):(n={x:0,y:1},r={x:1,y:0});var s=Math.tan(i),u=s*s,c=(r.x-n.x+s*(r.y-n.y))/(u+1)+n.x,l=s*(r.x-n.x+s*(r.y-n.y))/(u+1)+n.y;t.setAttribute("x1",n.x),t.setAttribute("y1",n.y),t.setAttribute("x2",c),t.setAttribute("y2",l),t.innerHTML=Hh(a)}(e,t=ah("linearGradient")):function(e,t){var n=Zh.exec(e),r=parseFloat(n[1]),o=parseFloat(n[2]),i=parseFloat(n[3]),a=n[4];t.setAttribute("cx",r),t.setAttribute("cy",o),t.setAttribute("r",i),t.innerHTML=Hh(a)}(e,t=ah("radialGradient")),t.setAttribute("id",n),this.el=t,this.id=n,this.cfg=e,this}return e.prototype.match=function(e,t){return this.cfg===t},e}(),Kh=Xh,qh={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},$h={x:"-40%",y:"-40%",width:"200%",height:"200%"},Jh=function(){function e(e){this.type="filter",this.cfg={},this.type="filter";var t=ah("filter");return(0,vn.each)($h,(function(e,n){t.setAttribute(n,e)})),this.el=t,this.id=(0,vn.uniqueId)("filter_"),this.el.id=this.id,this.cfg=e,this._parseShadow(e,t),this}return e.prototype.match=function(e,t){if(this.type!==e)return!1;var n=!0,r=this.cfg;return(0,vn.each)(Object.keys(r),(function(e){if(r[e]!==t[e])return n=!1,!1})),n},e.prototype.update=function(e,t){var n=this.cfg;return n[qh[e]]=t,this._parseShadow(n,this.el),this},e.prototype._parseShadow=function(e,t){var n='<feDropShadow\n      dx="'+(e.dx||0)+'"\n      dy="'+(e.dy||0)+'"\n      stdDeviation="'+(e.blur?e.blur/10:0)+'"\n      flood-color="'+(e.color?e.color:"#000")+'"\n      flood-opacity="'+(e.opacity?e.opacity:1)+'"\n      />';t.innerHTML=n},e}(),Qh=Jh,ep=function(){function e(e,t){this.cfg={};var n=ah("marker"),r=(0,vn.uniqueId)("marker_");n.setAttribute("id",r);var o=ah("path");o.setAttribute("stroke",e.stroke||"none"),o.setAttribute("fill",e.fill||"none"),n.appendChild(o),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=o,this.id=r;var i=e["marker-start"===t?"startArrow":"endArrow"];return this.stroke=e.stroke||"#000",!0===i?this._setDefaultPath(t,o):(this.cfg=i,this._setMarker(e.lineWidth,o)),this}return e.prototype.match=function(){return!1},e.prototype._setDefaultPath=function(e,t){var n=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},e.prototype._setMarker=function(e,t){var n=this.el,r=this.cfg.path,o=this.cfg.d;(0,vn.isArray)(r)&&(r=r.map((function(e){return e.join(" ")})).join("")),t.setAttribute("d",r),n.appendChild(t),o&&n.setAttribute("refX",""+o/e)},e.prototype.update=function(e){var t=this.child;t.attr?t.attr("fill",e):t.setAttribute("fill",e)},e}(),tp=ep,np=function(){function e(e){this.type="clip",this.cfg={};var t=ah("clipPath");this.el=t,this.id=(0,vn.uniqueId)("clip_"),t.id=this.id;var n=e.cfg.el;return t.appendChild(n),this.cfg=e,this}return e.prototype.match=function(){return!1},e.prototype.remove=function(){var e=this.el;e.parentNode.removeChild(e)},e}(),rp=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,op=function(){function e(e){this.cfg={};var t=ah("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var n=ah("image");t.appendChild(n);var r=(0,vn.uniqueId)("pattern_");t.id=r,this.el=t,this.id=r,this.cfg=e;var o=rp.exec(e)[2];n.setAttribute("href",o);var i=new Image;function a(){t.setAttribute("width",""+i.width),t.setAttribute("height",""+i.height)}return o.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=o,i.complete?a():(i.onload=a,i.src=i.src),this}return e.prototype.match=function(e,t){return this.cfg===t},e}(),ip=op,ap=function(){function e(e){var t=ah("defs"),n=(0,vn.uniqueId)("defs_");t.id=n,e.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=e}return e.prototype.find=function(e,t){for(var n=this.children,r=null,o=0;o<n.length;o++)if(n[o].match(e,t)){r=n[o].id;break}return r},e.prototype.findById=function(e){for(var t=this.children,n=null,r=0;r<t.length;r++)if(t[r].id===e){n=t[r];break}return n},e.prototype.add=function(e){this.children.push(e),e.canvas=this.canvas,e.parent=this},e.prototype.getDefaultArrow=function(e,t){var n=e.stroke||e.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new tp(e,t);return this.defaultArrow[n]=r,this.el.appendChild(r.el),this.add(r),r.id},e.prototype.addGradient=function(e){var t=new Kh(e);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addArrow=function(e,t){var n=new tp(e,t);return this.el.appendChild(n.el),this.add(n),n.id},e.prototype.addShadow=function(e){var t=new Qh(e);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addPattern=function(e){var t=new ip(e);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addClip=function(e){var t=new np(e);return this.el.appendChild(t.el),this.add(t),t.id},e}(),sp=ap,up=function(e){function t(t){return e.call(this,(0,gn.__assign)((0,gn.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}return(0,gn.__extends)(t,e),t.prototype.getShapeBase=function(){return l},t.prototype.getGroupBase=function(){return ph},t.prototype.getShape=function(e,t,n){var r=n.target||n.srcElement;if(!oh[r.tagName]){for(var o=r.parentNode;o&&!oh[o.tagName];)o=o.parentNode;r=o}return this.find((function(e){return e.get("el")===r}))},t.prototype.createDom=function(){var e=ah("svg"),t=new sp(e);return e.setAttribute("width",""+this.get("width")),e.setAttribute("height",""+this.get("height")),this.set("context",t),e},t.prototype.onCanvasChange=function(e){var t=this.get("context"),n=this.get("el");if("sort"===e){var r=this.get("children");r&&r.length&&uh(this,(function(e,t){return r.indexOf(e)-r.indexOf(t)?1:0}))}else if("clear"===e){if(n){n.innerHTML="";var o=t.el;o.innerHTML="",n.appendChild(o)}}else"matrix"===e?ch(this):"clip"===e?lh(this,t):"changeSize"===e&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},t.prototype.draw=function(){var e=this.get("context"),t=this.getChildren();lh(this,e),t.length&&fh(e,t)},t}(Nu),cp=up,lp=n(3861),fp=n.n(lp),dp=n(7045),hp=n.n(dp),pp=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function gp(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function vp(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function mp(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function yp(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=hp()(e),o=5;o>0;o-=1){var i=r.toHsv(),a=hp()({h:gp(i,o,!0),s:vp(i,o,!0),v:mp(i,o,!0)}).toHexString();n.push(a)}n.push(r.toHexString());for(var s=1;s<=4;s+=1){var u=r.toHsv(),c=hp()({h:gp(u,s),s:vp(u,s),v:mp(u,s)}).toHexString();n.push(c)}return"dark"===t.theme?pp.map((function(e){var r=e.index,o=e.opacity;return hp().mix(t.backgroundColor||"#141414",n[r],100*o).toHexString()})):n}var bp={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},xp={},wp={};Object.keys(bp).forEach((function(e){xp[e]=yp(bp[e]),xp[e].primary=xp[e][5],wp[e]=yp(bp[e],{theme:"dark",backgroundColor:"#141414"}),wp[e].primary=wp[e][5]}));xp.red,xp.volcano,xp.gold,xp.orange,xp.yellow,xp.lime,xp.green,xp.cyan,xp.blue,xp.geekblue,xp.purple,xp.magenta,xp.grey;var Ep=function(e,t,n){var r=fp()(e),o=fp()(t);return fp()([(1-n)*r.red()+n*o.red(),(1-n)*r.green()+n*o.green(),(1-n)*r.blue()+n*o.blue()]).rgb()},_p=function(e,t,n,r){return void 0===t&&(t="#fff"),void 0===n&&(n="default"),void 0===r&&(r="rgb(150, 150, 150)"),"default"===n?function(e,t,n){void 0===t&&(t="#fff"),void 0===n&&(n="rgb(150, 150, 150)");var r=Ep(t,e,.05).rgb().toString(),o=Ep(t,e,.1).rgb().toString(),i=Ep(t,e,.2).rgb().toString(),a=Ep(t,e,.4).rgb().toString(),s=Ep(t,n,.02).rgb().toString(),u=Ep(t,n,.05).rgb().toString(),c=Ep(t,n,.1).rgb().toString(),l=Ep(t,n,.2).rgb().toString(),f=Ep(t,n,.3).rgb().toString(),d=yp(e,{theme:"default",backgroundColor:t}),h=fp()(e).hex().toLowerCase(),p=d.indexOf(h),g=e;return-1!==p&&(g=d[p+1]),{mainStroke:e,mainFill:o,activeStroke:e,activeFill:r,inactiveStroke:a,inactiveFill:r,selectedStroke:e,selectedFill:t,highlightStroke:g,highlightFill:i,disableStroke:f,disableFill:u,edgeMainStroke:f,edgeActiveStroke:e,edgeInactiveStroke:l,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:c,comboMainStroke:f,comboMainFill:s,comboActiveStroke:e,comboActiveFill:r,comboInactiveStroke:f,comboInactiveFill:s,comboSelectedStroke:e,comboSelectedFill:s,comboHighlightStroke:g,comboHighlightFill:s,comboDisableStroke:l,comboDisableFill:u}}(e,t,"rgb(150, 150, 150)"):function(e,t,n){void 0===t&&(t="#fff"),void 0===n&&(n="#777");var r=Ep(t,e,.2).rgb().toString(),o=Ep(t,e,.3).rgb().toString(),i=Ep(t,e,.6).rgb().toString(),a=Ep(t,e,.8).rgb().toString(),s=Ep(t,n,.2).rgb().toString(),u=Ep(t,n,.25).rgb().toString(),c=Ep(t,n,.3).rgb().toString(),l=Ep(t,n,.4).rgb().toString(),f=Ep(t,n,.5).rgb().toString(),d=yp(e,{theme:"dark",backgroundColor:t}),h=fp()(e).hex().toLowerCase(),p=d.indexOf(h),g=e;return-1!==p&&(g=d[p+1]),{mainStroke:a,mainFill:r,activeStroke:e,activeFill:o,inactiveStroke:a,inactiveFill:r,selectedStroke:e,selectedFill:r,highlightStroke:e,highlightFill:i,disableStroke:f,disableFill:u,edgeMainStroke:n,edgeActiveStroke:e,edgeInactiveStroke:n,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:c,comboMainStroke:l,comboMainFill:u,comboActiveStroke:e,comboActiveFill:s,comboInactiveStroke:l,comboInactiveFill:u,comboSelectedStroke:e,comboSelectedFill:s,comboHighlightStroke:g,comboHighlightFill:u,comboDisableStroke:l,comboDisableFill:s}}(e,t,"#777")},Sp=function(e,t,n,r){void 0===t&&(t="#fff"),void 0===n&&(n="default"),void 0===r&&(r="rgb(150, 150, 150)");var o=[];return e.forEach((function(e){o.push(_p(e,t,n,r))})),o},kp="rgb(0, 0, 0)",Tp=_p("rgb(95, 149, 255)","rgb(255, 255, 255)"),Cp={version:"0.6.3",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Tp.mainStroke,fill:Tp.mainFill},size:20,color:Tp.mainStroke,linkPoints:{size:8,lineWidth:1,fill:Tp.activeFill,stroke:Tp.activeStroke}},nodeStateStyles:{active:{fill:Tp.activeFill,stroke:Tp.activeStroke,lineWidth:2,shadowColor:Tp.mainStroke,shadowBlur:10},selected:{fill:Tp.selectedFill,stroke:Tp.selectedStroke,lineWidth:4,shadowColor:Tp.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:Tp.highlightFill,stroke:Tp.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:Tp.inactiveFill,stroke:Tp.inactiveStroke,lineWidth:1},disable:{fill:Tp.disableFill,stroke:Tp.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:kp,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Tp.edgeMainStroke,lineAppendWidth:2},color:Tp.edgeMainStroke},edgeStateStyles:{active:{stroke:Tp.edgeActiveStroke,lineWidth:1},selected:{stroke:Tp.edgeSelectedStroke,lineWidth:2,shadowColor:Tp.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Tp.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:Tp.edgeInactiveStroke,lineWidth:1},disable:{stroke:Tp.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:kp,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Tp.comboMainFill,lineWidth:1,stroke:Tp.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:Tp.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:Tp.comboActiveStroke,lineWidth:1,fill:Tp.comboActiveFill},selected:{stroke:Tp.comboSelectedStroke,lineWidth:2,fill:Tp.comboSelectedFill,shadowColor:Tp.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Tp.comboHighlightStroke,lineWidth:2,fill:Tp.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:Tp.comboInactiveStroke,fill:Tp.comboInactiveFill,lineWidth:1},disable:{stroke:Tp.comboDisableStroke,fill:Tp.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"};function Mp(e,t,n){if(e){if("function"===typeof e.addEventListener)return e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}};if("function"===typeof e.attachEvent)return e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}}}var Np=kf.cloneEvent,Ap=kf.isViewportChanged,Pp=function(e){function t(t){var n=e.call(this,t)||this;return n.extendEvents=[],n.dragging=!1,n.preItem=null,n.graph=t,n.destroyed=!1,n.initEvents(),n}return(0,gn.__extends)(t,e),t.prototype.initEvents=function(){var e=this.graph,t=this.extendEvents,n=void 0===t?[]:t,r=e.get("canvas"),o=r.get("el"),i=(0,vn.wrapBehavior)(this,"onCanvasEvents"),a=(0,vn.wrapBehavior)(this,"onExtendEvents"),s=(0,vn.wrapBehavior)(this,"onWheelEvent");r.off("*").on("*",i),this.canvasHandler=i,n.push(Mp(o,"DOMMouseScroll",s)),n.push(Mp(o,"mousewheel",s)),"undefined"!==typeof window&&(n.push(Mp(window,"keydown",a)),n.push(Mp(window,"keyup",a)),n.push(Mp(window,"focus",a)))},t.getItemRoot=function(e){for(;e&&!e.get("item");)e=e.get("parent");return e},t.prototype.onCanvasEvents=function(e){var n=this.graph,r=n.get("canvas"),o=e.target,i=e.type;e.canvasX=e.x,e.canvasY=e.y;var a={x:e.canvasX,y:e.canvasY},s=n.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),Ap(s)&&(a=n.getPointByClient(e.clientX,e.clientY)),e.x=a.x,e.y=a.y,e.currentTarget=n,o===r)return"mousemove"!==i&&"mouseleave"!==i||this.handleMouseMove(e,"canvas"),e.target=r,e.item=null,n.emit(i,e),void n.emit("canvas:".concat(i),e);var u=t.getItemRoot(o);if(u){var c=u.get("item");if(!c.destroyed){var l=c.getType();if(e.target=o,e.item=c,e.canvasX===e.x&&e.canvasY===e.y){var f=n.getCanvasByPoint(e.x,e.y);e.canvasX=f.x,e.canvasY=f.y}n.emit(i,e),e.name&&!e.name.includes(":")?n.emit("".concat(l,":").concat(i),e):n.emit(e.name,e),"dragstart"===i&&(this.dragging=!0),"dragend"===i&&(this.dragging=!1),"mousemove"===i&&this.handleMouseMove(e,l)}}else n.emit(i,e)},t.prototype.onExtendEvents=function(e){this.graph.emit(e.type,e)},t.prototype.onWheelEvent=function(e){(0,vn.isNil)(e.wheelDelta)&&(e.wheelDelta=-e.detail),this.graph.emit("wheel",e)},t.prototype.handleMouseMove=function(e,t){var n=this.graph,r=this.preItem,o=n.get("canvas"),i=e.target===o?null:e.item;e=Np(e),r&&r!==i&&!r.destroyed&&(e.item=r,this.emitCustomEvent(r.getType(),"mouseleave",e),this.dragging&&this.emitCustomEvent(r.getType(),"dragleave",e)),i&&r!==i&&(e.item=i,this.emitCustomEvent(t,"mouseenter",e),this.dragging&&this.emitCustomEvent(t,"dragenter",e)),this.preItem=i},t.prototype.emitCustomEvent=function(e,t,n){n.type=t,this.graph.emit("".concat(e,":").concat(t),n)},t.prototype.destroy=function(){var e=this,t=e.graph,n=e.canvasHandler,r=e.extendEvents;t.get("canvas").off("*",n),(0,vn.each)(r,(function(e){e.remove()})),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},t}(Nf),Op=Pp,Ip=n(8253),Dp=n(7701),Rp=n.n(Dp),Lp=kf.traverseTree,jp=function(e,t){return e?(0,vn.isNumber)(e)?function(t){return e}:e:function(e){return t||1}},Fp=function(e,t){var n=[],r=[],o={},i=0;for(i=0;i<e.length;i++){var a=e[i];o[a.id]=i,n.push(a.x),n.push(a.y),n.push(0),n.push(0),r.push([])}for(i=0;i<t.length;i++){var s=t[i];r[o[s.source]].push(o[s.target]),r[o[s.target]].push(o[s.source])}var u=0;for(i=0;i<e.length;i++){var c=n.length,l=r[i],f=l.length;n[4*i+2]=c,n[4*i+3]=l.length,u=Math.max(u,l.length);for(var d=0;d<f;++d){var h=l[d];n.push(+h)}}for(;n.length%4!==0;)n.push(0);return{array:new Float32Array(n),maxEdgePerVetex:u}},Bp=function(e,t,n){var r=[],o=[],i={},a=0;for(a=0;a<e.length;a++){var s=e[a];i[s.id]=a,r.push(s.x),r.push(s.y),r.push(0),r.push(0),o.push([])}for(a=0;a<t.length;a++){var u=t[a];o[i[u.source]].push(i[u.target]),o[i[u.source]].push(n(u)),o[i[u.target]].push(i[u.source]),o[i[u.target]].push(n(u))}var c=0;for(a=0;a<e.length;a++){var l=r.length,f=o[a],d=f.length;r[4*a+2]=l,r[4*a+3]=d/2,c=Math.max(c,d/2);for(var h=0;h<d;++h){var p=f[h];r.push(+p)}}for(;r.length%4!==0;)r.push(0);return{array:new Float32Array(r),maxEdgePerVetex:c}},zp=function(e,t,n,r){var o=[],i=[],a={},s=0;for(s=0;s<e.length;s++){var u=e[s];a[u.id]=s,o.push(u.x),o.push(u.y),o.push(0),o.push(0),i.push([])}for(s=0;s<t.length;s++){var c=t[s];i[a[c.source]].push(a[c.target]),i[a[c.source]].push(n(c)),i[a[c.source]].push(r(c)),i[a[c.source]].push(0),i[a[c.target]].push(a[c.source]),i[a[c.target]].push(n(c)),i[a[c.target]].push(r(c)),i[a[c.target]].push(0)}var l=0;for(s=0;s<e.length;s++){var f=o.length,d=i[s],h=d.length;o[4*s+2]=f+1048576*h/4,o[4*s+3]=0,l=Math.max(l,h/4);for(var p=0;p<h;++p){var g=d[p];o.push(+g)}}for(;o.length%4!==0;)o.push(0);return{array:new Float32Array(o),maxEdgePerVetex:l}},Gp=function(e,t){var n=[],r=e.length,o={};return t.forEach((function(t){e.forEach((function(e,i){if(void 0===o[t[e]]&&(o[t[e]]=Object.keys(o).length),n.push(o[t[e]]),i===r-1)for(;n.length%4!==0;)n.push(0)}))})),{array:new Float32Array(n),count:Object.keys(o).length}},Vp=function(e){for(var t=[],n=e.length,r=e[0].length,o=function(r){e.forEach((function(e,o){if(t.push(e[r]),o===n-1)for(;t.length%4!==0;)t.push(0)}))},i=0;i<r;i++)o(i);return new Float32Array(t)},Up=function(e,t){var n={x:1/0,y:1/0},r={x:-1/0,y:-1/0},o="x",i="y";t&&["V","TB","BT"].indexOf(t)>=0&&(i="x",o="y");var a=0;Lp(e,(function(e){return a++,e.x>r.x&&(r.x=e.x),e.x<n.x&&(n.x=e.x),e.y>r.y&&(r.y=e.y),e.y<n.y&&(n.y=e.y),!0}));var s=2*Math.PI/a,u=r[i]-n[i];return 0===u||Lp(e,(function(t){var r=(t[i]-n[i])/u*(2*Math.PI-s)+s,a=Math.abs("x"===o?t.x-e.x:t.y-e.y);return t.x=a*Math.cos(r),t.y=a*Math.sin(r),!0})),e},Wp=function e(){return"undefined"===typeof window||"undefined"===typeof document?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(t){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(t){var n=void 0!==(t=t||{}).parent?t.parent:document.body,r=void 0!==t.id?t.id:"oldie",o=e().getWebGLErrorMessage();o.id=r,n.appendChild(o)}}},Zp=(0,gn.__assign)((0,gn.__assign)((0,gn.__assign)((0,gn.__assign)({},kf),f),d),h),Yp=Zp.radialLayout,Hp=function(){function e(e){this.type=e.type,this.radial=e.radial,this.config=e}return e.prototype.init=function(e){var t=this;this.data=e,this.radial?this.layoutMethod=function(e){var n=Rp()[t.type](e,t.config);return Yp(n),n}:this.layoutMethod=function(e){return Rp()[t.type](e,t.config)}},e.prototype.execute=function(){return this.layoutMethod(this.data,this.config)},e.prototype.layout=function(e){return this.init(e),this.execute()},e}(),Xp=Hp;(0,Ip.registerLayout)("grid",Ip.GridLayout),(0,Ip.registerLayout)("random",Ip.RandomLayout),(0,Ip.registerLayout)("force",Ip.ForceLayout),(0,Ip.registerLayout)("circular",Ip.CircularLayout),(0,Ip.registerLayout)("dagre",Ip.DagreLayout),(0,Ip.registerLayout)("dagreCompound",Ip.DagreCompoundLayout),(0,Ip.registerLayout)("radial",Ip.RadialLayout),(0,Ip.registerLayout)("concentric",Ip.ConcentricLayout),(0,Ip.registerLayout)("mds",Ip.MDSLayout),(0,Ip.registerLayout)("fruchterman",Ip.FruchtermanLayout),(0,Ip.registerLayout)("fruchterman-gpu",Ip.FruchtermanGPULayout),(0,Ip.registerLayout)("gForce",Ip.GForceLayout),(0,Ip.registerLayout)("gForce-gpu",Ip.GForceGPULayout),(0,Ip.registerLayout)("comboForce",Ip.ComboForceLayout),(0,Ip.registerLayout)("comboCombined",Ip.ComboCombinedLayout),(0,Ip.registerLayout)("forceAtlas2",Ip.ForceAtlas2Layout);var Kp=function(e,t){var n=e.toString(),r=new Blob(["importScripts('".concat(t,"');(").concat(n,")()")],{type:"text/javascript"});return new Worker(URL.createObjectURL(r))},qp=function(e){void 0===e&&(e="https://unpkg.com/@antv/layout@latest/dist/layout.min.js");var t=new Kp((function(){var e="LAYOUT_RUN",t="LAYOUT_END",n="LAYOUT_ERROR",r="GPU_LAYOUT_RUN";layout.registerLayout("grid",layout.GridLayout),layout.registerLayout("random",layout.RandomLayout),layout.registerLayout("force",layout.ForceLayout),layout.registerLayout("circular",layout.CircularLayout),layout.registerLayout("dagre",layout.DagreLayout),layout.registerLayout("dagreCompound",layout.DagreCompoundLayout),layout.registerLayout("radial",layout.RadialLayout),layout.registerLayout("concentric",layout.ConcentricLayout),layout.registerLayout("mds",layout.MDSLayout),layout.registerLayout("fruchterman",layout.FruchtermanLayout),layout.registerLayout("fruchterman-gpu",layout.FruchtermanGPULayout),layout.registerLayout("gForce",layout.GForceLayout),layout.registerLayout("gForce-gpu",layout.GForceGPULayout),layout.registerLayout("comboForce",layout.ComboForceLayout),layout.registerLayout("comboCombined",layout.ComboCombinedLayout),layout.registerLayout("forceAtlas2",layout.ForceAtlas2Layout),onmessage=function(o){(function(t){var n=t.data.type;return n===e||n===r})(o)&&function(o){var i=this;switch(o.data.type){case e:var a,s=o.data,u=s.nodes,c=s.edges,l=s.layoutCfg,f=(v=void 0===l?{}:l).type;if(!(d=layout.getLayoutByName(f))){this.postMessage({type:n,message:"layout ".concat(f," not found")});break}v.onLayoutEnd=function(){i.postMessage({type:t,nodes:u}),null===a||void 0===a||a.destroy()},(a=new d(v)).init({nodes:u,edges:c}),a.execute();break;case r:var d,h=o.data,p=h.nodes,g=(c=h.edges,h.layoutCfg),v=void 0===g?{}:g,m=h.canvas;if(f=v.type,!(d=layout.getLayoutByName(f))){this.postMessage({type:n,message:"layout ".concat(f," not found")});break}if("gpu"!==f.split("-")[1]){this.postMessage({type:n,message:"layout ".concat(f," does not support GPU")});break}var y=new d(v);y.init({nodes:p,edges:c}),y.executeWithWorker(m,this)}}(o)}}),e);return t},$p="LAYOUT_RUN",Jp="LAYOUT_END",Qp="LAYOUT_ERROR",eg="LAYOUT_TICK",tg="GPU_LAYOUT_RUN",ng="GPU_LAYOUT_END";function rg(e){return rg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(e)}var og,ig,ag,sg,ug=function(e){return setTimeout(e,16)},cg=function(e){return clearTimeout(e)},lg=function(e){return("undefined"!==typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||ug)(e)},fg=function(e){return("undefined"!==typeof window&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||cg)(e)},dg=["fruchterman","gForce"],hg=["force","grid","circular"],pg=function(e){function t(t){var n=e.call(this,t)||this;return n.graph=t,n.layoutCfg=t.get("layout")||{},n.layoutType=n.getLayoutType(),n.worker=null,n.workerData={},n.initLayout(),n}return(0,gn.__extends)(t,e),t.prototype.initLayout=function(){},t.prototype.getWorker=function(){return this.worker||("undefined"===typeof Worker?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=qp(this.layoutCfg.workerScriptURL)),this.worker},t.prototype.stopWorker=function(){var e=this.workerData;this.worker&&(this.worker.terminate(),this.worker=null,e.requestId&&(fg(e.requestId),e.requestId=null),e.requestId2&&(fg(e.requestId2),e.requestId2=null))},t.prototype.execLayoutMethod=function(e,t){var n=this;return new Promise((function(r,o){return(0,gn.__awaiter)(n,void 0,void 0,(function(){var n,i,a,s,u,c,l;return(0,gn.__generator)(this,(function(f){switch(f.label){case 0:if(!(n=this.graph)||n.get("destroyed"))return[2];i=e.type,e.onLayoutEnd=function(){n.emit("aftersublayout",{type:i}),r()},i&&this.isGPU&&(this.hasGPUVersion(i)?i="".concat(i,"-gpu"):console.warn("The '".concat(i,"' layout does not support GPU calculation for now, it will run in CPU."))),"force"===i||"g6force"===i||"gForce"===i?(a=e.onTick,c=function(){a&&a(),n.refreshPositions()},e.tick=c):"comboForce"!==i&&"comboCombined"!==i||(e.comboTrees=n.get("comboTrees")),!1;try{s=new Ip.Layouts[i](e)}catch(d){console.warn("The layout method: '".concat(i,"' does not exist! Please specify it first.")),o()}return s.enableTick&&(u=e.onTick,c=function(){u&&u(),n.refreshPositions()},s.tick=c),function(e,t){var n;if(!(null===(n=null===e||void 0===e?void 0:e.nodes)||void 0===n?void 0:n.length))return;e.nodes.forEach((function(e){e.layoutOrder=t}))}(l=this.filterLayoutData(this.data,e),t),s.init(l),n.emit("beforesublayout",{type:i}),[4,s.execute()];case 1:return f.sent(),s.isCustomLayout&&e.onLayoutEnd&&e.onLayoutEnd(),this.layoutMethods[t]=s,[2]}}))}))}))},t.prototype.updateLayoutMethod=function(e,t){var n=this;return new Promise((function(r,o){return(0,gn.__awaiter)(n,void 0,void 0,(function(){var n,o,i;return(0,gn.__generator)(this,(function(a){switch(a.label){case 0:return n=this.graph,o=null===t||void 0===t?void 0:t.type,t.onLayoutEnd=function(){n.emit("aftersublayout",{type:o}),r()},i=this.filterLayoutData(this.data,t),e.init(i),e.updateCfg(t),n.emit("beforesublayout",{type:o}),[4,e.execute()];case 1:return a.sent(),e.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd(),[2]}}))}))}))},t.prototype.layout=function(e){var t=this,n=this.graph;this.data=this.setDataFromGraph();var r=this.data,o=r.nodes,i=r.hiddenNodes;if(!o)return!1;var a=n.get("width"),s=n.get("height"),u={};Object.assign(u,{width:a,height:s,center:[a/2,s/2]},this.layoutCfg),this.layoutCfg=u,this.destoryLayoutMethods(),n.emit("beforelayout"),this.initPositions(u.center,o),this.initPositions(u.center,i);var c=u.type;c&&"gpu"===c.split("-")[1]&&(c=c.split("-")[0],u.gpuEnabled=!0);var l=!1;u.gpuEnabled&&(l=!0,Wp().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),l=!1)),this.isGPU=l;var f=u.onLayoutEnd,d=u.layoutEndFormatted,h=u.adjust;if(d||(u.layoutEndFormatted=!0,u.onAllLayoutEnd=function(){return(0,gn.__awaiter)(t,void 0,void 0,(function(){return(0,gn.__generator)(this,(function(e){switch(e.label){case 0:return f&&f(),this.refreshLayout(),h&&u.pipes?[4,this.adjustPipesBox(this.data,h)]:[3,2];case 1:e.sent(),this.refreshLayout(),e.label=2;case 2:return n.emit("afterlayout"),[2]}}))}))}),this.stopWorker(),u.workerEnabled&&this.layoutWithWorker(this.data))return!0;var p=Promise.resolve(),g=!1;return u.type?(g=!0,p=p.then((function(){return(0,gn.__awaiter)(t,void 0,void 0,(function(){return(0,gn.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.execLayoutMethod(u,0)];case 1:return[2,e.sent()]}}))}))}))):u.pipes&&(g=!0,u.pipes.forEach((function(e,n){p=p.then((function(){return(0,gn.__awaiter)(t,void 0,void 0,(function(){return(0,gn.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.execLayoutMethod(e,n)];case 1:return[2,t.sent()]}}))}))}))}))),g&&p.then((function(){u.onAllLayoutEnd&&u.onAllLayoutEnd(),e&&e()})).catch((function(e){console.warn("graph layout failed,",e)})),!1},t.prototype.layoutWithWorker=function(e){var t=this,n=this.layoutCfg,r=this.graph,o=this.getWorker(),i=this.workerData;if(!o)return!1;i.requestId=null,i.requestId2=null,i.currentTick=null,i.currentTickData=null,r.emit("beforelayout");var a=Promise.resolve(),s=!1;if(n.type)s=!0,a=a.then((function(){return t.runWebworker(o,e,n)}));else if(n.pipes){s=!0;for(var u=function(n){a=a.then((function(){return t.runWebworker(o,e,n)}))},c=0,l=n.pipes;c<l.length;c++){u(l[c])}}return s&&a.then((function(){n.onAllLayoutEnd&&n.onAllLayoutEnd()})).catch((function(e){console.error("layout failed",e)})),!0},t.prototype.runWebworker=function(e,t,n){var r=this,o=this.isGPU,i=this.filterLayoutData(t,n),a=i.nodes,s=i.edges,u=document.createElement("canvas"),c=o&&"undefined"!==typeof window&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in u,l=function(e,t){var n={};if(e&&"object"===rg(e))return Object.keys(e).forEach((function(r){e.hasOwnProperty(r)&&t(e[r])&&(n[r]=e[r])})),n;return e}(n,(function(e){return"function"!==typeof e}));if(c){var f=u.transferControlToOffscreen();l.type="".concat(l.type,"-gpu"),e.postMessage({type:tg,nodes:a,edges:s,layoutCfg:l,canvas:f},[f])}else e.postMessage({type:$p,nodes:a,edges:s,layoutCfg:l});return new Promise((function(t,o){e.onmessage=function(e){r.handleWorkerMessage(t,o,e,i,n)}}))},t.prototype.handleWorkerMessage=function(e,t,n,r,o){var i=this.graph,a=this.workerData,s=n.data,u=s.type,c=function(){o.onTick&&o.onTick()};switch(u){case eg:a.currentTick=s.currentTick,a.currentTickData=s,a.requestId||(a.requestId=lg((function(){vg(r,s),i.refreshPositions(),c(),s.currentTick===s.totalTicks?e():a.currentTick===s.totalTicks&&(a.requestId2=lg((function(){vg(r,a.currentTickData),i.refreshPositions(),a.requestId2=null,c(),e()}))),a.requestId=null})));break;case Jp:null==a.currentTick&&(vg(r,s),e());break;case ng:null==a.currentTick&&(!function(e,t){for(var n=e.nodes,r=t.vertexEdgeData,o=n.length,i=0;i<o;i++){var a=n[i],s=r[4*i],u=r[4*i+1];a.x=s,a.y=u}}(r,s),e());break;case Qp:console.warn("Web-Worker layout error!",s.message),t();break;default:t()}},t.prototype.updateLayoutCfg=function(e){var t=this,n=this.graph,r=this.layoutMethods,o=(0,vn.mix)({},this.layoutCfg,e);if(this.layoutCfg=o,null===r||void 0===r?void 0:r.length){if(this.data=this.setDataFromGraph(),this.stopWorker(),!e.workerEnabled||!this.layoutWithWorker(this.data)){n.emit("beforelayout");var i=Promise.resolve(),a=!1;1===r.length?(a=!0,i=i.then((function(){return(0,gn.__awaiter)(t,void 0,void 0,(function(){return(0,gn.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.updateLayoutMethod(r[0],o)];case 1:return[2,e.sent()]}}))}))}))):(a=!0,null===r||void 0===r||r.forEach((function(e,n){var r=o.pipes[n];i=i.then((function(){return(0,gn.__awaiter)(t,void 0,void 0,(function(){return(0,gn.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.updateLayoutMethod(e,r)];case 1:return[2,t.sent()]}}))}))}))}))),a&&i.then((function(){o.onAllLayoutEnd&&o.onAllLayoutEnd()})).catch((function(e){console.warn("layout failed",e)}))}}else this.layout()},t.prototype.adjustPipesBox=function(e,t){var n=this;return new Promise((function(r){var o=e.nodes;(null===o||void 0===o?void 0:o.length)||r(),hg.includes(t)||(console.warn("The adjust type ".concat(t," is not supported yet, please assign it with 'force', 'grid', or 'circular'.")),r());var i={center:n.layoutCfg.center,nodeSize:function(e){return Math.max(e.height,e.width)},preventOverlap:!0,onLayoutEnd:function(){}},a=n.getLayoutBBox(o),s=a.groupNodes,u=a.layoutNodes,c=(0,vn.clone)(u);i.onLayoutEnd=function(){null===u||void 0===u||u.forEach((function(e,t){var n,r,o,i=e.x-(null===(n=c[t])||void 0===n?void 0:n.x),a=e.y-(null===(r=c[t])||void 0===r?void 0:r.y);null===(o=s[t])||void 0===o||o.forEach((function(e){e.x+=i,e.y+=a}))})),r()},new Ip.Layouts[t](i).layout({nodes:u})}))},t.prototype.hasGPUVersion=function(e){return dg.includes(e)},t.prototype.destroy=function(){this.destoryLayoutMethods();var e=this.worker;e&&(e.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},t}(Cf),gg=pg;function vg(e,t){for(var n=e.nodes,r=t.nodes,o=n.length,i=0;i<o;i++){var a=n[i];a.x=r[i].x,a.y=r[i].y}}function mg(e){og||(og=document.createElement("table"),ig=document.createElement("tr"),ag=/^\s*<(\w+|!)[^>]*>/,sg={tr:document.createElement("tbody"),tbody:og,thead:og,tfoot:og,td:ig,th:ig,"*":document.createElement("div")});var t=ag.test(e)&&RegExp.$1;t&&t in sg||(t="*");var n=sg[t];e="string"===typeof e?e.replace(/(^\s*)|(\s*$)/g,""):e,n.innerHTML=""+e;var r=n.childNodes[0];return r&&n.contains(r)&&n.removeChild(r),r}var yg=Mn,bg=function(e){function t(t){var n=e.call(this,t)||this,r=n.get("defaultNode");return r||n.set("defaultNode",{type:"circle"}),r.type||(r.type="circle",n.set("defaultNode",r)),n.destroyed=!1,n}return(0,gn.__extends)(t,e),t.prototype.initLayoutController=function(){var e=new gg(this);this.set({layoutController:e})},t.prototype.initEventController=function(){var e=new Op(this);this.set({eventController:e})},t.prototype.initCanvas=function(){var e=this.get("container");if("string"===typeof e&&(e=document.getElementById(e),this.set("container",e)),!e)throw new Error("invalid container");var t,n=e.clientWidth,r=e.clientHeight,o=this.get("width")||n,i=this.get("height")||r;if(this.get("width")||this.get("height")||(this.set("width",n),this.set("height",r)),"svg"===this.get("renderer"))t=new cp({container:e,width:o,height:i});else{var a={container:e,width:o,height:i},s=this.get("pixelRatio");s&&(a.pixelRatio=s),t=new rh(a)}this.set("canvas",t)},t.prototype.initPlugins=function(){var e=this;(0,vn.each)(e.get("plugins"),(function(t){!t.destroyed&&t.initPlugin&&t.initPlugin(e)}))},t.prototype.downloadImageWatermark=function(e,t,n,r){return(0,gn.__awaiter)(this,void 0,void 0,(function(){var o,i,a;return(0,gn.__generator)(this,(function(s){switch(s.label){case 0:return o=e.style.backgroundImage,i=o.slice(5,o.length-2),(a=new Image).src=i,[4,new Promise((function(e){a.onload=function(){var o=t.createPattern(a,"repeat");t.rect(0,0,n,r),t.fillStyle=o,t.fill(),e("")}}))];case 1:return s.sent(),[2]}}))}))},t.prototype.asyncToDataUrl=function(e,t,n,r,o,i){var a=this,s=document.querySelector(".g6-graph-watermarker"),u=this.get("canvas"),c=u.getRenderer(),l=i||u.get("el"),f="";e||(e="image/png"),setTimeout((function(){return(0,gn.__awaiter)(a,void 0,void 0,(function(){var i,a,u,d,h,p,g,v,m,y;return(0,gn.__generator)(this,(function(b){switch(b.label){case 0:return"svg"!==c?[3,1]:(i=l.cloneNode(!0),a=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),(u=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",a)).replaceChild(i,u.documentElement),d=(new XMLSerializer).serializeToString(u),f="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(d)),[3,4]);case 1:return h=void 0,p=l.getContext("2d"),g=r||this.get("width"),v=o||this.get("height"),m=void 0,s?[4,this.downloadImageWatermark(s,p,g,v)]:[3,3];case 2:b.sent(),b.label=3;case 3:if(t){y="undefined"!==typeof window?window.devicePixelRatio:1;try{h=p.getImageData(0,0,g*y,v*y),m=p.globalCompositeOperation,p.globalCompositeOperation="destination-over",p.fillStyle=t,p.fillRect(0,0,g,v)}catch(x){console.error("Download image failed. Out of memory at ImageData creation")}}f=l.toDataURL(e),t&&(p.clearRect(0,0,g,v),p.putImageData(h,0,0),p.globalCompositeOperation=m),b.label=4;case 4:return n&&n(f),[2]}}))}))}),16)},t.prototype.toDataURL=function(e,t){var n=this.get("canvas"),r=n.getRenderer(),o=n.get("el");e||(e="image/png");var i="";if("svg"===r){var a=o.cloneNode(!0),s=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),u=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",s);u.replaceChild(a,u.documentElement);var c=(new XMLSerializer).serializeToString(u);i="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(c))}else{var l=void 0,f=o.getContext("2d"),d=this.get("width"),h=this.get("height"),p=void 0;if(t){var g="undefined"!==typeof window?window.devicePixelRatio:1;try{l=f.getImageData(0,0,d*g,h*g),p=f.globalCompositeOperation,f.globalCompositeOperation="destination-over",f.fillStyle=t,f.fillRect(0,0,d,h)}catch(v){console.error("Download image failed. Out of memory at ImageData creation")}}i=o.toDataURL(e),t&&(f.clearRect(0,0,d,h),f.putImageData(l,0,0),f.globalCompositeOperation=p)}return i},t.prototype.toFullDataURL=function(e,t,n){var r=this.get("group").getCanvasBBox(),o=r.height,i=r.width,a=this.get("renderer"),s=mg('<div id="virtual-image"></div>'),u=n?n.backgroundColor:void 0,c=n?n.padding:void 0;c?(0,vn.isNumber)(c)&&(c=[c,c,c,c]):c=[0,0,0,0];var l=o+c[0]+c[2],f=i+c[1]+c[3],d={container:s,height:l,width:f,quickHit:!0},h="svg"===a?new cp(d):new rh(d),p=this.get("group").clone(),g=(0,vn.clone)(p.getMatrix());g||(g=[1,0,0,0,1,0,0,0,1]);var v=(r.maxX+r.minX)/2,m=(r.maxY+r.minY)/2;g=yg(g,[["t",-v,-m],["t",i/2+c[3],o/2+c[0]]]),p.resetMatrix(),p.setMatrix(g),h.add(p);var y=h.get("el"),b="";t||(t="image/png"),setTimeout((function(){if("svg"===a){var n=y.cloneNode(!0),r=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),o=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",r);o.replaceChild(n,o.documentElement);var i=(new XMLSerializer).serializeToString(o);b="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(i))}else{var s=void 0,c=y.getContext("2d"),d=void 0;if(u){var h="undefined"!==typeof window?window.devicePixelRatio:1;try{s=c.getImageData(0,0,f*h,l*h),d=c.globalCompositeOperation,c.globalCompositeOperation="destination-over",c.fillStyle=u,c.fillRect(0,0,f,l)}catch(p){console.error("Download image failed. Out of memory at ImageData creation")}}b=y.toDataURL(t),u&&(c.clearRect(0,0,f,l),c.putImageData(s,0,0),c.globalCompositeOperation=d)}e&&e(b)}),16)},t.prototype.downloadFullImage=function(e,t,n){var r=this,o=this.get("group").getCanvasBBox(),i=o.height,a=o.width,s=this.get("renderer"),u=mg('<div id="virtual-image"></div>'),c=document.querySelector(".g6-graph-watermarker"),l=n?n.backgroundColor:void 0,f=n?n.padding:void 0;f?(0,vn.isNumber)(f)&&(f=[f,f,f,f]):f=[0,0,0,0];var d=i+f[0]+f[2],h=a+f[1]+f[3];if(c){var p=this.get("graphWaterMarker").cfg||{},g=p.width,v=p.height;d=Math.ceil(d/v)*v,h=Math.ceil(h/g)*g}var m={container:u,height:d,width:h},y="svg"===s?new cp(m):new rh(m),b=this.get("group").clone(),x=(0,vn.clone)(b.getMatrix());x||(x=[1,0,0,0,1,0,0,0,1]);var w=(o.maxX+o.minX)/2,E=(o.maxY+o.minY)/2;x=yg(x,[["t",-w,-E],["t",a/2+f[3],i/2+f[0]]]),b.resetMatrix(),b.setMatrix(x),y.add(b);var _=y.get("el");t||(t="image/png"),this.asyncToDataUrl(t,l,(function(n){var o=document.createElement("a"),i=(e||"graph")+("svg"===s?".svg":".".concat(t.split("/")[1]));r.dataURLToImage(n,s,o,i);var a=document.createEvent("MouseEvents");a.initEvent("click",!1,!1),o.dispatchEvent(a)}),h,d,_)},t.prototype.downloadImage=function(e,t,n){var r=this,o=this;o.isAnimating()&&o.stopAnimate();var i=o.get("canvas").getRenderer();t||(t="image/png");var a=(e||"graph")+("svg"===i?".svg":t.split("/")[1]),s=document.createElement("a");o.asyncToDataUrl(t,n,(function(e){r.dataURLToImage(e,i,s,a);var t=document.createEvent("MouseEvents");t.initEvent("click",!1,!1),s.dispatchEvent(t)}))},t.prototype.dataURLToImage=function(e,t,n,r){if(e&&"data:"!==e){if("undefined"!==typeof window)if(window.Blob&&window.URL&&"svg"!==t){var o=e.split(","),i="";if(o&&o.length>0){var a=o[0].match(/:(.*?);/);a&&a.length>=2&&(i=a[1])}for(var s=atob(o[1]),u=s.length,c=new Uint8Array(u);u--;)c[u]=s.charCodeAt(u);var l=new Blob([c],{type:i});window.navigator.msSaveBlob?window.navigator.msSaveBlob(l,r):n.addEventListener("click",(function(){n.download=r,n.href=window.URL.createObjectURL(l)}))}else n.addEventListener("click",(function(){n.download=r,n.href=e}))}else console.error("Download image failed. The graph is too large or there is invalid attribute values in graph items")},t.prototype.addPlugin=function(e){e.destroyed||(this.get("plugins").push(e),e.initPlugin(this))},t.prototype.removePlugin=function(e){var t=this.get("plugins"),n=t.indexOf(e);n>=0&&(e.destroyPlugin(),t.splice(n,1))},t.prototype.setImageWaterMarker=function(e,t){void 0===e&&(e=Cp.waterMarkerImage);var n=this.get("container");(0,vn.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var r=this.get("graphWaterMarker"),o=(0,vn.deepMix)({},Cp.imageWaterMarkerConfig,t),i=o.width,a=o.height,s=o.compatible,u=o.image;if(!r){var c={container:n,width:i,height:a,capture:!1},l=this.get("pixelRatio");l&&(c.pixelRatio=l),r=new rh(c),this.set("graphWaterMarker",r)}r.get("el").style.display="none";var f=r.get("context"),d=u.rotate,h=u.x,p=u.y;f.rotate(-d*Math.PI/180);var g=new Image;g.crossOrigin="anonymous",g.src=e,g.onload=function(){if(f.drawImage(g,h,p,u.width,u.height),f.rotate(d*Math.PI/180),s)n.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var e=document.querySelector(".g6-graph-watermarker");e||((e=document.createElement("div")).className="g6-graph-watermarker"),e.className="g6-graph-watermarker",r.destroyed||(e.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;"),n.appendChild(e))}}},t.prototype.setTextWaterMarker=function(e,t){var n=this.get("container");(0,vn.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var r=this.get("graphWaterMarker"),o=(0,vn.deepMix)({},Cp.textWaterMarkerConfig,t),i=o.width,a=o.height,s=o.compatible,u=o.text;if(!r){var c={container:n,width:i,height:a,capture:!1},l=this.get("pixelRatio");l&&(c.pixelRatio=l),r=new rh(c),this.set("graphWaterMarker",r)}r.get("el").style.display="none";var f=r.get("context"),d=u.rotate,h=u.fill,p=u.fontFamily,g=u.fontSize,v=u.baseline,m=u.x,y=u.y,b=u.lineHeight;f.rotate(-d*Math.PI/180),f.font="".concat(g,"px ").concat(p),f.fillStyle=h,f.textBaseline=v;for(var x=e.length-1;x>=0;x--)f.fillText(e[x],m,y+x*b);if(f.rotate(d*Math.PI/180),s)n.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var w=document.querySelector(".g6-graph-watermarker");w||((w=document.createElement("div")).className="g6-graph-watermarker"),w.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;"),n.appendChild(w)}},t.prototype.destroy=function(){var t,n,r,o;(0,vn.each)(this.get("plugins"),(function(e){e.destroyPlugin()}));var i=this.get("tooltips");if(i)for(var a=0;a<i.length;a++){var s=i[a];if(s){var u=s.parentElement;u&&u.removeChild(s)}}null===(t=this.get("eventController"))||void 0===t||t.destroy(),null===(n=this.get("layoutController"))||void 0===n||n.destroy(),null===(r=this.get("graphWaterMarker"))||void 0===r||r.destroy(),null===(o=document.querySelector(".g6-graph-watermarker"))||void 0===o||o.remove(),e.prototype.destroy.call(this)},t}(tf),xg=bg,wg=Zp.radialLayout,Eg=Zp.traverseTree,_g=function(e){function t(t){var n=e.call(this,t)||this;return n.layoutAnimating=!1,n.set("removeList",[]),n.set("layoutMethod",n.getLayout()),n}return(0,gn.__extends)(t,e),t.prototype.getLayout=function(){var e=this.get("layout");return e?"function"===typeof e?e:(e.type||(e.type="dendrogram"),e.direction||(e.direction="TB"),e.radial?function(t){var n=Rp()[e.type](t,e);return wg(n),n}:function(t){return Rp()[e.type](t,e)}):null},t.indexOfChild=function(e,t){var n=-1;return(0,vn.each)(e,(function(e,r){if(t===e.id)return n=r,!1})),n},t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.animate=!0,t},t.prototype.innerAddChild=function(e,t,n){var r=this,o=e.data;o&&(o.x=e.x,o.y=e.y,o.depth=e.depth);var i=r.addItem("node",o,!1);if(t){if(i.set("parent",t),n){var a=t.get("originAttrs");if(a)i.set("originAttrs",a);else{var s=t.getModel();i.set("originAttrs",{x:s.x,y:s.y})}}var u=t.get("children");u?u.push(i):t.set("children",[i]),r.addItem("edge",{source:t.get("id"),target:i.get("id"),id:"".concat(t.get("id"),":").concat(i.get("id"))},!1)}return(0,vn.each)(e.children||[],(function(e){r.innerAddChild(e,i,n)})),r.emit("afteraddchild",{item:i,parent:t}),i},t.prototype.innerUpdateChild=function(e,n,r){var o=this,i=o.findById(e.id);if(i){(0,vn.each)(e.children||[],(function(e){o.innerUpdateChild(e,i,r)}));var a,s,u=i.get("children");if(u)if(u.length>0)for(var c=u.length-1;c>=0;c--){var l=u[c].getModel();-1===t.indexOfChild(e.children||[],l.id)&&(o.innerRemoveChild(l.id,{x:e.x,y:e.y},r),u.splice(c,1))}i.get("originAttrs")&&(a=i.get("originAttrs").x,s=i.get("originAttrs").y);var f=i.getModel();r&&i.set("originAttrs",{x:f.x,y:f.y}),i.set("model",e.data),a===e.x&&s===e.y||i.updatePosition({x:e.x,y:e.y})}else o.innerAddChild(e,n,r)},t.prototype.innerRemoveChild=function(e,t,n){var r=this,o=r.findById(e);if(o)if((0,vn.each)(o.get("children"),(function(e){r.innerRemoveChild(e.getModel().id,t,n)})),n){var i=o.getModel();o.set("to",t),o.set("originAttrs",{x:i.x,y:i.y}),r.get("removeList").push(o)}else r.removeItem(o,!1)},t.prototype.changeData=function(e){var t=this;this.getNodes().map((function(e){return t.clearItemStates(e)})),this.getEdges().map((function(e){return t.clearItemStates(e)})),e?(t.data(e),t.render()):t.layout(this.get("fitView"))},t.prototype.changeLayout=function(e){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");this.updateLayout(e)},t.prototype.updateLayout=function(e){var t=this;e?(t.set("layout",e),t.set("layoutMethod",t.getLayout()),t.layout()):console.warn("layout cannot be null")},t.prototype.refreshLayout=function(e){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");this.layout(e)},t.prototype.layout=function(e){var t=this,n=t.get("data"),r=t.get("layoutMethod"),o=r?r(n,t.get("layout")):n,i=t.get("animate");(t.emit("beforerefreshlayout",{data:n,layoutData:o}),t.emit("beforelayout"),t.innerUpdateChild(o,void 0,i),e)&&t.get("viewController").fitView();i?t.layoutAnimate(o):(t.refresh(),t.paint()),t.emit("afterrefreshlayout",{data:n,layoutData:o}),t.emit("afterlayout")},t.prototype.addChild=function(e,t){var n=this;n.emit("beforeaddchild",{model:e,parent:t}),(0,vn.isString)(t)||(t=t.get("id"));var r=n.findDataById(t);r&&(r.children||(r.children=[]),r.children.push(e),n.changeData())},t.prototype.updateChildren=function(e,t){var n=this;t&&n.findById(t)?(n.findDataById(t).children=e,n.changeData()):console.warn("Update children failed! There is no node with id '".concat(t,"'"))},t.prototype.updateChild=function(e,n){var r=this;if(n&&r.findById(n)){var o=r.findDataById(n),i=r.findById(e.id);if(o.children||(o.children=[]),i){var a=t.indexOfChild(o.children,e.id);o.children[a]=e}else o.children.push(e);r.changeData()}else r.changeData(e)},t.prototype.removeChild=function(e){var n=this,r=n.findById(e);if(r){var o=r.get("parent");if(o&&!o.destroyed){var i=n.findDataById(o.get("id")),a=i&&i.children||[],s=r.getModel(),u=t.indexOfChild(a,s.id);a.splice(u,1)}n.changeData()}},t.prototype.findDataById=function(e,t){var n=this;if(t||(t=n.get("data")),e===t.id)return t;var r=null;return(0,vn.each)(t.children||[],(function(t){return t.id===e?(r=t,!1):!(r=n.findDataById(e,t))&&void 0})),r},t.prototype.layoutAnimate=function(e,t){var n=this,r=this.get("animateCfg");n.emit("beforeanimate",{data:e}),n.getEdges().forEach((function(e){var t=e.get("model");t.sourceAnchor||(t.sourceAnchor=e.get("sourceAnchorIndex"))})),this.get("canvas").animate((function(r){Eg(e,(function(o){var i=n.findById(o.id);if(i){var a=i.get("originAttrs"),s=i.get("model");if(a||(a={x:s.x,y:s.y},i.set("originAttrs",a)),t){var u=t(i,r,a,e);i.set("model",Object.assign(s,u))}else s.x=a.x+(o.x-a.x)*r,s.y=a.y+(o.y-a.y)*r}return!0})),(0,vn.each)(n.get("removeList"),(function(e){var t=e.getModel(),n=e.get("originAttrs"),o=e.get("to");t.x=n.x+(o.x-n.x)*r,t.y=n.y+(o.y-n.y)*r})),n.refreshPositions()}),{duration:r.duration,easing:r.ease,callback:function(){(0,vn.each)(n.getNodes(),(function(e){e.set("originAttrs",null)})),(0,vn.each)(n.get("removeList"),(function(e){n.removeItem(e)})),n.set("removeList",[]),r.callback&&r.callback(),n.emit("afteranimate",{data:e})},delay:r.delay})},t.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},t.prototype.isLayoutAnimating=function(){return this.layoutAnimating},t.prototype.render=function(){var e=this,t=e.get("data");if(!t||!(0,vn.isObject)(t)||!Object.keys(t).length)throw new Error("data must be defined first");e.clear(),e.emit("beforerender"),e.layout(this.get("fitView")),e.emit("afterrender")},t.prototype.save=function(){return this.get("data")},t}(xg),Sg=_g;function kg(e,t){if(e)for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);return e}var Tg=function(){function e(e){this._cfgs=(0,vn.deepMix)(this.getDefaultCfgs(),e),this._events={},this.destroyed=!1}return e.prototype.getDefaultCfgs=function(){return{}},e.prototype.initPlugin=function(e){var t=this;t.set("graph",e);var n=t.getEvents(),r={};(0,vn.each)(n,(function(n,o){var i=(0,vn.wrapBehavior)(t,n);r[o]=i,e.on(o,i)})),this._events=r,this.init()},e.prototype.getEvents=function(){return{}},e.prototype.get=function(e){var t;return null===(t=this._cfgs)||void 0===t?void 0:t[e]},e.prototype.set=function(e,t){this._cfgs[e]=t},e.prototype.destroy=function(){},e.prototype.destroyPlugin=function(){this.destroy();var e=this.get("graph"),t=this._events;(0,vn.each)(t,(function(t,n){e.off(n,t)})),this._events=null,this._cfgs=null,this.destroyed=!0},e}(),Cg=Tg,Mg=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ng="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",Ag=function(e){function t(t){return e.call(this,t)||this}return Mg(t,e),t.prototype.getDefaultCfgs=function(){return{img:Ng,follow:!0}},t.prototype.init=function(){var e=this.get("graph"),t=e.get("container"),n=e.get("canvas").get("el"),r=this.get("img")||Ng,o=mg("<div class='g6-grid-container' style=\"position:absolute;overflow:hidden;z-index: -1;\"></div>"),i=mg("<div\n        class='g6-grid'\n        style='position:absolute;\n        background-image: ".concat(r,";\n        user-select: none\n        '></div>"));this.set("container",o),this.set("gridContainer",i),this.positionInit(),o.appendChild(i),t.insertBefore(o,n)},t.prototype.positionInit=function(){var e=this.get("graph"),t=e.get("minZoom"),n=e.get("width"),r=e.get("height");kg(this.get("container"),{width:"".concat(n,"px"),height:"".concat(r,"px")});var o=80*n/t,i=80*r/t;kg(this.get("gridContainer"),{width:"".concat(o,"px"),height:"".concat(i,"px"),left:"-".concat(o/2,"px"),top:"-".concat(i/2,"px")})},t.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},t.prototype.updateGrid=function(e){var t=this.get("gridContainer"),n=e.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var r=this.get("follow");kg(t,{transform:"matrix(".concat(n[0],", ").concat(n[1],", ").concat(n[3],", ").concat(n[4],", ").concat(r?n[6]:"0",", ").concat(r?n[7]:"0",")")})},t.prototype.getContainer=function(){return this.get("container")},t.prototype.destroy=function(){var e=this.get("graph").get("container"),t=this.get("container");e.removeChild(t)},t}(Cg),Pg=Ag,Og=n(5929),Ig=n.n(Og),Dg=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!==typeof document&&Ig()("\n  .g6-component-contextmenu {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .g6-contextmenu-ul {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n  }\n\n");var Rg=function(e){function t(t){return e.call(this,t)||this}return Dg(t,e),t.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(e){return"\n          <ul class='g6-contextmenu-ul'>\n            <li>\u83dc\u5355\u98791</li>\n            <li>\u83dc\u5355\u98792</li>\n          </ul>\n        "},shouldBegin:function(e){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"],trigger:"contextmenu"}},t.prototype.getEvents=function(){return"click"===this.get("trigger")?{click:"onMenuShow",touchend:"onMenuShow"}:{contextmenu:"onMenuShow"}},t.prototype.init=function(){var e=this.get("className"),t=mg("<div class=".concat(e||"g6-component-contextmenu","></div>"));kg(t,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),(0,vn.isString)(n)&&(n=document.getElementById(n)),n.appendChild(t),this.set("menu",t)},t.prototype.onMenuShow=function(e){var t=this;e.preventDefault();var n=this.get("itemTypes");if(e.item){if(e.item&&e.item.getType&&-1===n.indexOf(e.item.getType()))return void t.onMenuHide()}else if(-1===n.indexOf("canvas"))return void t.onMenuHide();if(this.get("shouldBegin")(e)){var r=this.get("menu"),o=this.get("getContent"),i=this.get("graph"),a=o(e,i);(0,vn.isString)(a)?r.innerHTML=a:r.innerHTML=a.outerHTML,this.removeMenuEventListener();var s=this.get("handleMenuClick");if(s){var u=function(t){s(t.target,e.item,i)};this.set("handleMenuClickWrapper",u),r.addEventListener("click",u)}var c=i.get("width"),l=i.get("height"),f=r.getBoundingClientRect(),d=this.get("offsetX")||0,h=this.get("offsetY")||0,p=i.getContainer().offsetTop,g=i.getContainer().offsetLeft,v=e.canvasX+g+d,m=e.canvasY+p+h;v+f.width>c&&(v=e.canvasX-f.width-d+g),m+f.height>l&&(m=e.canvasY-f.height-h+p),kg(r,{top:"".concat(m,"px"),left:"".concat(v,"px"),visibility:"visible"});var y="click"===this.get("trigger"),b=function(e){y?y=!1:t.onMenuHide()};document.body.addEventListener("click",b),this.set("handler",b)}},t.prototype.removeMenuEventListener=function(){var e=this.get("handleMenuClickWrapper"),t=this.get("handler");e&&(this.get("menu").removeEventListener("click",e),this.set("handleMenuClickWrapper",null));t&&document.body.removeEventListener("click",t)},t.prototype.onMenuHide=function(){var e=this.get("menu");e&&kg(e,{visibility:"hidden"}),this.removeMenuEventListener()},t.prototype.destroy=function(){var e=this.get("menu");if(this.removeMenuEventListener(),e){var t=this.get("container");t||(t=this.get("graph").get("container")),(0,vn.isString)(t)&&(t=document.getElementById(t)),t.removeChild(e)}},t}(Cg),Lg=Rg,jg=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fg=function(){return Fg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Fg.apply(this,arguments)},Bg=Math.max,zg=Mn,Gg=function(e){function t(t){var n=e.call(this,t)||this;return n.handleUpdateCanvas=(0,vn.debounce)((function(e){var t=n;t.destroyed||t.updateCanvas()}),100,!1),n}return jg(t,e),t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},t.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},t.prototype.disableRefresh=function(){this.set("refresh",!1)},t.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},t.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},t.prototype.initViewport=function(){var e=this,t=this._cfgs,n=t.size,r=t.graph;if(!this.destroyed){var o=this.get("canvas").get("container"),i=mg("\n      <div\n        class=".concat(t.viewportClassName,"\n        style='position:absolute;\n          left:0;\n          top:0;\n          box-sizing:border-box;\n          outline: 2px solid #1980ff'\n        draggable=true>\n      </div>")),a=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,s=0,u=0,c=!1,l=0,f=0,d=0,h=0,p=0,g=0;i.addEventListener("dragstart",(function(o){var a,v;if(o.dataTransfer){var m=new Image;m.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",null===(v=(a=o.dataTransfer).setDragImage)||void 0===v||v.call(a,m,0,0);try{o.dataTransfer.setData("text/html","view-port-minimap")}catch(b){o.dataTransfer.setData("text","view-port-minimap")}}if(t.refresh=!1,o.target===i){var y=i.style;l=parseInt(y.left,10),f=parseInt(y.top,10),d=parseInt(y.width,10),h=parseInt(y.height,10),d>n[0]||h>n[1]||(g=r.getZoom(),p=e.get("ratio"),c=!0,s=o.clientX,u=o.clientY)}}),!1),i.addEventListener(a?"dragover":"drag",(function(e){if(c&&!(0,vn.isNil)(e.clientX)&&!(0,vn.isNil)(e.clientY)){var t=s-e.clientX,o=u-e.clientY;(l-t<0||l-t+d>=n[0])&&(t=0),(f-o<0||f-o+h>=n[1])&&(o=0),f-=o,kg(i,{left:"".concat(l-=t,"px"),top:"".concat(f,"px")}),r.translate(t*g/p,o*g/p),s=e.clientX,u=e.clientY}}),!1),i.addEventListener("dragend",(function(){c=!1,t.refresh=!0}),!1),this.set("viewport",i),o.appendChild(i)}},t.prototype.updateViewport=function(){if(!this.destroyed){var e=this.get("ratio"),t=(this.get("dx"),this.get("dy"),this.get("totaldx")),n=this.get("totaldy"),r=this.get("graph"),o=this.get("size"),i=r.get("width"),a=r.get("height"),s=r.getPointByCanvas(0,0),u=r.getPointByCanvas(i,a),c=this.get("viewport");c||this.initViewport();var l=(u.x-s.x)*e,f=(u.y-s.y)*e,d=s.x*e+t,h=s.y*e+n,p=d+l,g=h+f;d<0&&(l+=d,d=0),p>o[0]&&(l-=p-o[0]),h<0&&(f+=h,h=0),g>o[1]&&(f-=g-o[1]),this.set("ratio",e),kg(c,{left:"".concat(d,"px"),top:"".concat(h,"px"),width:"".concat(l,"px"),height:"".concat(f,"px")})}},t.prototype.updateGraphShapes=function(){var e=this._cfgs.graph,t=this.get("canvas"),n=e.get("group");if(!n.destroyed){var r=n.clone();r.resetMatrix(),t.clear(),t.add(r),"svg"===e.get("renderer")&&this.updateVisible(r)}},t.prototype.updateVisible=function(e){var t=this;if(e.isGroup()||e.get("visible")){var n=e.get("children");if(!n||!n.length)return;n.forEach((function(e){e.get("visible")||e.hide(),t.updateVisible(e)}))}else e.hide()},t.prototype.updateKeyShapes=function(){var e=this,t=this._cfgs.graph,n=this.get("canvas"),r=n.get("children")[0]||n.addGroup();(0,vn.each)(t.getEdges(),(function(t){e.updateOneEdgeKeyShape(t,r)})),(0,vn.each)(t.getNodes(),(function(t){e.updateOneNodeKeyShape(t,r)}));var o=t.getCombos();if(o&&o.length){var i=r.find((function(e){return"comboGroup"===e.get("name")}))||r.addGroup({name:"comboGroup"});setTimeout((function(){e.destroyed||((0,vn.each)(o,(function(t){e.updateOneComboKeyShape(t,i)})),null===i||void 0===i||i.sort(),null===i||void 0===i||i.toBack(),e.updateCanvas())}),250)}this.clearDestroyedShapes()},t.prototype.updateOneComboKeyShape=function(e,t){if(!this.destroyed){var n=this.get("itemMap")||{},r=n[e.get("id")],o=e.getBBox(),i=e.get("keyShape").clone(),a=i.attr(),s={x:o.centerX,y:o.centerY};r?s=Object.assign(a,s):(r=i,t.add(r));var u=r.get("type");"rect"!==u&&"image"!==u||(s.x=o.minX,s.y=o.minY),r.attr(s),e.isVisible()?r.show():r.hide(),r.exist=!0;var c=e.getModel().depth;isNaN(c)||r.set("zIndex",c),n[e.get("id")]=r,this.set("itemMap",n)}},t.prototype.updateOneNodeKeyShape=function(e,t){var n=this.get("itemMap")||{},r=n[e.get("id")],o=e.getBBox(),i=e.get("keyShape").clone(),a=i.attr(),s={x:o.centerX,y:o.centerY};r?s=Object.assign(a,s):(r=i,t.add(r));var u=r.get("type");"rect"!==u&&"image"!==u||(s.x=o.minX,s.y=o.minY),r.attr(s),e.isVisible()?r.show():r.hide(),r.exist=!0;var c=e.getModel().depth;isNaN(c)||r.set("zIndex",c),n[e.get("id")]=r,this.set("itemMap",n)},t.prototype.updateDelegateShapes=function(){var e=this,t=this._cfgs.graph,n=this.get("canvas"),r=n.get("children")[0]||n.addGroup();(0,vn.each)(t.getEdges(),(function(t){e.updateOneEdgeKeyShape(t,r)})),(0,vn.each)(t.getNodes(),(function(t){e.updateOneNodeDelegateShape(t,r)}));var o=t.getCombos();if(o&&o.length){var i=r.find((function(e){return"comboGroup"===e.get("name")}))||r.addGroup({name:"comboGroup"});setTimeout((function(){e.destroyed||((0,vn.each)(o,(function(t){e.updateOneComboKeyShape(t,i)})),null===i||void 0===i||i.sort(),null===i||void 0===i||i.toBack(),e.updateCanvas())}),250)}this.clearDestroyedShapes()},t.prototype.clearDestroyedShapes=function(){var e=this.get("itemMap")||{},t=Object.keys(e);if(t&&0!==t.length)for(var n=t.length-1;n>=0;n--){var r=e[t[n]],o=r.exist;r.exist=!1,o||(r.remove(),delete e[t[n]])}},t.prototype.updateOneEdgeKeyShape=function(e,t){var n=this.get("itemMap")||{},r=n[e.get("id")];if(r){var o=e.get("keyShape").attr("path");r.attr("path",o)}else r=e.get("keyShape").clone(),t.add(r);e.isVisible()?r.show():r.hide(),r.exist=!0,n[e.get("id")]=r,this.set("itemMap",n)},t.prototype.updateOneNodeDelegateShape=function(e,t){var n=this.get("delegateStyle"),r=this.get("itemMap")||{},o=r[e.get("id")],i=e.getBBox();if(o){var a={x:i.minX,y:i.minY,width:i.width,height:i.height};o.attr(a)}else o=t.addShape("rect",{attrs:Fg({x:i.minX,y:i.minY,width:i.width,height:i.height},n),name:"minimap-node-shape"});e.isVisible()?o.show():o.hide(),o.exist=!0,r[e.get("id")]=o,this.set("itemMap",r)},t.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},t.prototype.initContainer=function(){var e=this,t=e.get("graph"),n=e.get("size"),r=e.get("className"),o=e.get("container"),i=mg("<div class='".concat(r,"' style='width: ").concat(n[0],"px; height: ").concat(n[1],"px; overflow: hidden'></div>"));(0,vn.isString)(o)&&(o=document.getElementById(o)),o?o.appendChild(i):t.get("container").appendChild(i),e.set("container",i);var a,s=mg('<div class="g6-minimap-container" style="position: relative;"></div>');i.appendChild(s),s.addEventListener("dragenter",(function(e){e.preventDefault()})),s.addEventListener("dragover",(function(e){e.preventDefault()})),a="svg"===t.get("renderer")?new cp({container:s,width:n[0],height:n[1]}):new rh({container:s,width:n[0],height:n[1]}),e.set("canvas",a),e.updateCanvas()},t.prototype.updateCanvas=function(){if(!this.destroyed&&this.get("refresh")){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var t=this.get("size"),n=this.get("canvas"),r=this.get("type"),o=this.get("padding");if(!n.destroyed){switch(r){case"default":this.updateGraphShapes();break;case"keyShape":this.updateKeyShapes();break;case"delegate":this.updateDelegateShapes()}var i=n.get("children")[0];if(i){i.resetMatrix();var a=i.getCanvasBBox(),s=e.get("canvas").getCanvasBBox(),u=e.getZoom()||1,c=s.width/u,l=s.height/u;Number.isFinite(a.width)&&(c=Bg(a.width,c),l=Bg(a.height,l)),c+=2*o,l+=2*o;var f=Math.min(t[0]/c,t[1]/l),d=[1,0,0,0,1,0,0,0,1],h=0,p=0;Number.isFinite(a.minX)&&(h=-a.minX),Number.isFinite(a.minY)&&(p=-a.minY);var g=(t[0]-(c-2*o)*f)/2,v=(t[1]-(l-2*o)*f)/2;d=zg(d,[["t",h,p],["s",f,f],["t",g,v]]),i.setMatrix(d),this.set("ratio",f),this.set("totaldx",g+h*f),this.set("totaldy",v+p*f),this.set("dx",g),this.set("dy",v),this.updateViewport()}}}}},t.prototype.getCanvas=function(){return this.get("canvas")},t.prototype.getViewport=function(){return this.get("viewport")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.destroy=function(){var e;null===(e=this.get("canvas"))||void 0===e||e.destroy();var t=this.get("container");(null===t||void 0===t?void 0:t.parentNode)&&t.parentNode.removeChild(t)},t}(Cg),Vg=Gg,Ug=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Wg(e,t,n){var r=e.x-t.x,o=e.y-t.y;return!n||Math.abs(r)>n||Math.abs(o)>n?Math.sqrt(r*r+o*o):n}function Zg(e,t){var n=(t.source.y-t.target.y)/(t.source.x-t.target.x),r=(n*n*t.source.x+n*(e.y-t.source.y)+e.x)/(n*n+1);return{x:r,y:n*(r-t.source.x)+t.source.y}}var Yg=function(e){function t(t){return e.call(this,t)||this}return Ug(t,e),t.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},t.prototype.init=function(){var e=this.get("graph"),t=this.get("onTick");this.set("tick",(function(){t&&t(),e.refreshPositions()}))},t.prototype.bundling=function(e){var t=this;if(t.set("data",e),!t.isTicking()){var n=e.edges||[],r=e.nodes||[],o={},i=!1;if(r.forEach((function(e){null!==e.x&&null!==!e.y&&void 0!==e.x&&void 0!==!e.y||(i=!0),o[e.id]=e})),i)throw new Error("please layout the graph or assign x and y for nodes first");t.set("nodeIdMap",o);var a=t.get("divisions"),s=t.get("divRate"),u=t.divideEdges(a);t.set("edgePoints",u);var c=t.getEdgeBundles();t.set("edgeBundles",c);for(var l=t.get("cycles"),f=t.get("iterations"),d=t.get("iterRate"),h=t.get("lambda"),p=0;p<l;p++){for(var g=function(e){var r=[];n.forEach((function(e,n){if(e.source!==e.target){var i=o[e.source],s=o[e.target];r[n]=t.getEdgeForces({source:i,target:s},n,a,h);for(var c=0;c<a+1;c++)u[n][c].x+=r[n][c].x,u[n][c].y+=r[n][c].y}}))},v=0;v<f;v++)g();h/=2,a*=s,f*=d,u=t.divideEdges(a),t.set("edgePoints",u)}n.forEach((function(e,t){e.source!==e.target&&(e.type="polyline",e.controlPoints=u[t].slice(1,u[t].length-1))})),t.get("graph").refresh()}},t.prototype.updateBundling=function(e){var t=this,n=e.data;if(n&&t.set("data",n),t.get("ticking")&&t.set("ticking",!1),Object.keys(e).forEach((function(n){t.set(n,e[n])})),e.onTick){var r=this.get("graph");t.set("tick",(function(){e.onTick(),r.refresh()}))}t.bundling(n)},t.prototype.divideEdges=function(e){var t=this,n=t.get("data").edges,r=t.get("nodeIdMap"),o=t.get("edgePoints");return o&&void 0!==o||(o=[]),n.forEach((function(n,i){o[i]&&void 0!==o[i]||(o[i]=[]);var a=r[n.source],s=r[n.target];if(1===e)o[i].push({x:a.x,y:a.y}),o[i].push({x:.5*(a.x+s.x),y:.5*(a.y+s.y)}),o[i].push({x:s.x,y:s.y});else{var u=(o[i]&&o[i]!==[]?t.getEdgeLength(o[i]):Wg({x:a.x,y:a.y},{x:s.x,y:s.y}))/(e+1),c=u,l=[{x:a.x,y:a.y}];o[i].forEach((function(e,t){if(0!==t){for(var n=Wg(e,o[i][t-1]);n>c;){var r=c/n,a={x:o[i][t-1].x,y:o[i][t-1].y};a.x+=r*(e.x-o[i][t-1].x),a.y+=r*(e.y-o[i][t-1].y),l.push(a),n-=c,c=u}c-=n}})),l.push({x:s.x,y:s.y}),o[i]=l}})),o},t.prototype.getEdgeLength=function(e){var t=0;return e.forEach((function(n,r){0!==r&&(t+=Wg(n,e[r-1]))})),t},t.prototype.getEdgeBundles=function(){var e=this,t=e.get("data").edges||[],n=e.get("bundleThreshold"),r=e.get("nodeIdMap"),o=e.get("edgeBundles");return o||(o=[]),t.forEach((function(e,t){o[t]&&void 0!==o[t]||(o[t]=[])})),t.forEach((function(i,a){var s=r[i.source],u=r[i.target];t.forEach((function(t,i){if(!(i<=a)){var c=r[t.source],l=r[t.target];e.getBundleScore({source:s,target:u},{source:c,target:l})>=n&&(o[a].push(i),o[i].push(a))}}))})),o},t.prototype.getBundleScore=function(e,t){var n=this;return e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.length=Wg({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y}),t.length=Wg({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),n.getAngleScore(e,t)*n.getScaleScore(e,t)*n.getPositionScore(e,t)*n.getVisibilityScore(e,t)},t.prototype.getAngleScore=function(e,t){var n=function(e,t){return e.x*t.x+e.y*t.y}({x:e.vx,y:e.vy},{x:t.vx,y:t.vy});return n/(e.length*t.length)},t.prototype.getScaleScore=function(e,t){var n=(e.length+t.length)/2;return 2/(n/Math.min(e.length,t.length)+Math.max(e.length,t.length)/n)},t.prototype.getPositionScore=function(e,t){var n=(e.length+t.length)/2;return n/(n+Wg({x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},{x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2}))},t.prototype.getVisibilityScore=function(e,t){var n=this.getEdgeVisibility(e,t),r=this.getEdgeVisibility(t,e);return n<r?n:r},t.prototype.getEdgeVisibility=function(e,t){var n=Zg(t.source,e),r=Zg(t.target,e),o={x:(n.x+r.x)/2,y:(n.y+r.y)/2},i={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2};return Math.max(0,1-2*Wg(o,i)/Wg(n,r))},t.prototype.getEdgeForces=function(e,t,n,r){for(var o=this,i=o.get("edgePoints"),a=o.get("K")/(Wg(e.source,e.target)*(n+1)),s=[{x:0,y:0}],u=1;u<n;u++){var c={x:0,y:0},l=o.getSpringForce({pre:i[t][u-1],cur:i[t][u],next:i[t][u+1]},a),f=o.getElectrostaticForce(u,t);c.x=r*(l.x+f.x),c.y=r*(l.y+f.y),s.push(c)}return s.push({x:0,y:0}),s},t.prototype.getSpringForce=function(e,t){var n=e.pre.x+e.next.x-2*e.cur.x,r=e.pre.y+e.next.y-2*e.cur.y;return{x:n*=t,y:r*=t}},t.prototype.getElectrostaticForce=function(e,t){var n=this,r=n.get("eps"),o=n.get("edgeBundles"),i=n.get("edgePoints"),a=o[t],s={x:0,y:0};return a.forEach((function(n){var o={x:i[n][e].x-i[t][e].x,y:i[n][e].y-i[t][e].y};if(Math.abs(o.x)>r||Math.abs(o.y)>r){var a=1/Wg(i[n][e],i[t][e]);s.x+=o.x*a,s.y+=o.y*a}})),s},t.prototype.isTicking=function(){return this.get("ticking")},t.prototype.getSimulation=function(){return this.get("forceSimulation")},t.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),e.prototype.destroy.call(this)},t}(Cg),Hg=Yg,Xg=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kg=function(){return Kg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Kg.apply(this,arguments)},qg={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},$g=function(e){function t(t){return e.call(this,t)||this}return Xg(t,e),t.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,vn.clone)(qg),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},t.prototype.getEvents=function(){var e;switch(this.get("trigger")){case"click":e={click:"magnify"};break;case"drag":e={click:"createDelegate"};break;default:e={mousemove:"magnify"}}return e},t.prototype.init=function(){var e=this,t=e.get("r");e.set("cachedMagnifiedModels",[]),e.set("cachedOriginPositions",{}),e.set("r2",t*t);var n=e.get("d");e.set("molecularParam",(n+1)*t)},t.prototype.createDelegate=function(e){var t=this,n=this,r=n.get("delegate");r&&!r.destroyed||(n.magnify(e),(r=n.get("delegate")).on("dragstart",(function(e){n.set("delegateCenterDiff",{x:r.attr("x")-e.x,y:r.attr("y")-e.y})})),r.on("drag",(function(e){n.magnify(e)})),"wheel"===this.get("scaleDBy")&&r.on("mousewheel",(function(e){t.scaleDByWheel(e)})),"wheel"===this.get("scaleRBy")&&r.on("mousewheel",(function(e){n.scaleRByWheel(e)})))},t.prototype.scaleRByWheel=function(e){var t=this;if(e&&e.originalEvent){e.preventDefault&&e.preventDefault();var n,r=t.get("graph"),o=t.get("delegate"),i=(o?{x:o.attr("x"),y:o.attr("y")}:void 0)||r.getPointByClient(e.clientX,e.clientY);n=e.originalEvent.wheelDelta<0?.95:1/.95;var a=t.get("maxR"),s=t.get("minR"),u=t.get("r");(u>(a||r.get("height"))&&n>1||u<(s||.05*r.get("height"))&&n<1)&&(n=1),u*=n,t.set("r",u),t.set("r2",u*u);var c=t.get("d");t.set("molecularParam",(c+1)*u),t.set("delegateCenterDiff",void 0),t.magnify(e,i)}},t.prototype.scaleRByDrag=function(e){var t=this;if(e){var n,r=t.get("dragPrePos"),o=t.get("graph"),i=o.getPointByClient(e.clientX,e.clientY);n=e.x-r.x<0?.95:1/.95;var a=t.get("maxR"),s=t.get("minR"),u=t.get("r");(u>(a||o.get("height"))&&n>1||u<(s||.05*o.get("height"))&&n<1)&&(n=1),u*=n,t.set("r",u),t.set("r2",u*u);var c=t.get("d");t.set("molecularParam",(c+1)*u),t.magnify(e,i),t.set("dragPrePos",{x:e.x,y:e.y})}},t.prototype.scaleDByWheel=function(e){var t=this;if(e||e.originalEvent){e.preventDefault&&e.preventDefault();var n=0;n=e.originalEvent.wheelDelta<0?-.1:.1;var r=t.get("d")+n,o=t.get("maxD"),i=t.get("minD");if(r<o&&r>i){t.set("d",r);var a=t.get("r");t.set("molecularParam",(r+1)*a);var s=t.get("delegate"),u=s?{x:s.attr("x"),y:s.attr("y")}:void 0;t.set("delegateCenterDiff",void 0),t.magnify(e,u)}}},t.prototype.scaleDByDrag=function(e){var t=this,n=t.get("dragPrePos"),r=e.x-n.x>0?.1:-.1,o=t.get("d")+r,i=t.get("maxD"),a=t.get("minD");if(o<i&&o>a){t.set("d",o);var s=t.get("r");t.set("molecularParam",(o+1)*s),t.magnify(e)}t.set("dragPrePos",{x:e.x,y:e.y})},t.prototype.magnify=function(e,t){var n=this;n.restoreCache();var r=n.get("graph"),o=n.get("cachedMagnifiedModels"),i=n.get("cachedOriginPositions"),a=n.get("showLabel"),s=n.get("r"),u=n.get("r2"),c=n.get("d"),l=n.get("molecularParam"),f=r.getNodes(),d=f.length,h=t?{x:t.x,y:t.y}:{x:e.x,y:e.y};!n.get("dragging")||"mousemove"!==n.get("trigger")&&"click"!==n.get("trigger")||(h=n.get("cacheCenter"));var p=n.get("delegateCenterDiff");p&&(h.x+=p.x,h.y+=p.y),n.updateDelegate(h,s);for(var g=0;g<d;g++){var v=f[g].getModel(),m=v.x,y=v.y;if(!isNaN(m)&&!isNaN(y)){var b=(m-h.x)*(m-h.x)+(y-h.y)*(y-h.y);if(!isNaN(b)&&b<u&&0!==b){var x=Math.sqrt(b),w=l*x/(c*x+s),E=(m-h.x)/x,_=(y-h.y)/x;if(v.x=E*w+h.x,v.y=_*w+h.y,i[v.id]||(i[v.id]={x:m,y:y,texts:[]}),o.push(v),a&&2*x<s)for(var S=f[g].getContainer().getChildren(),k=S.length,T=0;T<k;T++){var C=S[T];"text"===C.get("type")&&(i[v.id].texts.push({visible:C.get("visible"),shape:C}),C.set("visible",!0))}}}}r.refreshPositions()},t.prototype.restoreCache=function(){for(var e=this,t=e.get("cachedMagnifiedModels"),n=e.get("cachedOriginPositions"),r=t.length,o=0;o<r;o++){var i=t[o],a=n[i.id];i.x=a.x,i.y=a.y;for(var s=a.texts.length,u=0;u<s;u++){var c=a.texts[u];c.shape.set("visible",c.visible)}}e.set("cachedMagnifiedModels",[]),e.set("cachedOriginPositions",{})},t.prototype.updateParams=function(e){var t=this,n=e.r,r=e.d,o=e.trigger,i=e.minD,a=e.maxD,s=e.minR,u=e.maxR,c=e.scaleDBy,l=e.scaleRBy;isNaN(e.r)||(t.set("r",n),t.set("r2",n*n)),isNaN(r)||t.set("d",r),isNaN(a)||t.set("maxD",a),isNaN(i)||t.set("minD",i),isNaN(u)||t.set("maxR",u),isNaN(s)||t.set("minR",s);var f,d=t.get("d"),h=t.get("r");(t.set("molecularParam",(d+1)*h),"mousemove"!==o&&"click"!==o&&"drag"!==o||t.set("trigger",o),"drag"===c||"wheel"===c||"unset"===c)&&(t.set("scaleDBy",c),t.get("delegate").remove(),t.get("delegate").destroy(),(f=t.get("dPercentText"))&&(f.remove(),f.destroy()));"drag"!==l&&"wheel"!==l&&"unset"!==l||(t.set("scaleRBy",l),t.get("delegate").remove(),t.get("delegate").destroy(),(f=t.get("dPercentText"))&&(f.remove(),f.destroy()))},t.prototype.updateDelegate=function(e,t){var n=this,r=this,o=r.get("graph"),i=r.get("delegate");if(!i||i.destroyed){var a=o.get("group"),s=r.get("delegateStyle")||qg;i=a.addShape("circle",{attrs:Kg({r:t/1.5,x:e.x,y:e.y},s),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&("wheel"===this.get("scaleRBy")?i.on("mousewheel",(function(e){r.scaleRByWheel(e)})):"drag"===this.get("scaleRBy")&&(i.on("dragstart",(function(e){r.set("dragging",!0),r.set("cacheCenter",{x:e.x,y:e.y}),r.set("dragPrePos",{x:e.x,y:e.y})})),i.on("drag",(function(e){r.scaleRByDrag(e)})),i.on("dragend",(function(e){r.set("dragging",!1)}))),"wheel"===this.get("scaleDBy")?i.on("mousewheel",(function(e){n.scaleDByWheel(e)})):"drag"===this.get("scaleDBy")&&(i.on("dragstart",(function(e){r.set("dragging",!0),r.set("cacheCenter",{x:e.x,y:e.y}),r.set("dragPrePos",{x:e.x,y:e.y})})),i.on("drag",(function(e){n.scaleDByDrag(e)})),i.on("dragend",(function(e){r.set("dragging",!1)}))))}else i.attr({x:e.x,y:e.y,r:t/1.5});if(r.get("showDPercent")){var u=Math.round((r.get("d")-r.get("minD"))/(r.get("maxD")-r.get("minD"))*100),c=r.get("dPercentText"),l=e.y+t/1.5+16;if(!c||c.destroyed)c=o.get("group").addShape("text",{attrs:{text:"".concat(u,"%"),x:e.x,y:l,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),r.set("dPercentText",c);else c.attr({text:"".concat(u,"%"),x:e.x,y:l})}r.set("delegate",i)},t.prototype.clear=function(){var e=this.get("graph");this.restoreCache(),e.refreshPositions();var t=this.get("delegate");t&&!t.destroyed&&(t.remove(),t.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},t.prototype.destroy=function(){this.clear()},t}(Cg),Jg=$g,Qg=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!==typeof document&&Ig()("\n  .g6-component-toolbar {\n    position: absolute;\n    list-style-type: none;\n    padding: 6px;\n    left: 0px;\n    top: 0px;\n    background-color: rgba(255, 255, 255, 0.9);\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    margin: 0;\n  }\n  .g6-component-toolbar li {\n    float: left;\n    text-align: center;\n    width: 35px;\n    height: 24px;\n    cursor: pointer;\n\t\tlist-style-type:none;\n    list-style: none;\n    margin-left: 0px;\n  }\n  .g6-component-toolbar li .icon {\n    opacity: 0.7;\n  }\n  .g6-component-toolbar li .icon:hover {\n    opacity: 1;\n  }\n");var ev=function(e){function t(t){return e.call(this,t)||this}return Qg(t,e),t.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(e){return'\n          <ul class=\'g6-component-toolbar\'>\n            <li code=\'redo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>\n              </svg>\n            </li>\n            <li code=\'undo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>\n              </svg>\n            </li>\n            <li  code=\'zoomOut\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>\n              </svg>\n            </li>\n            <li code=\'zoomIn\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>\n              </svg>\n            </li>\n            <li code=\'realZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>\n              </svg>\n            </li>\n            <li code=\'autoZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>\n              </svg>\n            </li>\n          </ul>\n        '},zoomSensitivity:2}},t.prototype.init=function(){var e=this,t=this.get("graph"),n=this.get("getContent")(t),r=n;(0,vn.isString)(n)&&(r=mg(n));var o=this.get("className");r.setAttribute("class",o||"g6-component-toolbar");var i=this.get("container");i||(i=this.get("graph").get("container")),(0,vn.isString)(i)&&(i=document.getElementById(i)),i.appendChild(r),this.set("toolBar",r);var a=this.get("handleClick");r.addEventListener("click",(function(n){var r=function(e){if(!e)return[];if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;){if(t.push(n),"HTML"===n.tagName)return t.push(document,window),t;n=n.parentElement}return t}(n).filter((function(e){return"LI"===e.nodeName}));if(0!==r.length){var o=r[0].getAttribute("code");o&&(a?a(o,t):e.handleDefaultOperator(o,t))}}));var s=this.get("position");s&&kg(r,{top:"".concat(s.y,"px"),left:"".concat(s.x,"px")}),this.bindUndoRedo()},t.prototype.bindUndoRedo=function(){var e=this.get("graph"),t=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),r=document.querySelector('.g6-component-toolbar li[code="redo"]'),o=document.querySelector('.g6-component-toolbar li[code="redo"] svg');t&&n&&r&&o&&e.on("stackchange",(function(e){var i=e.undoStack,a=e.redoStack,s=i.length,u=a.length;1===s?(t.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(t.removeAttribute("style"),n.removeAttribute("style")),0===u?(r.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4")):(r.removeAttribute("style"),o.removeAttribute("style"))}))},t.prototype.undo=function(){var e=this.get("graph"),t=e.getUndoStack();if(t&&1!==t.length){var n=t.pop();if(n){var r=n.action;e.pushStack(r,(0,vn.clone)(n.data),"redo");var o=n.data.before;if("add"===r&&(o=n.data.after),!o)return;switch(r){case"visible":Object.keys(o).forEach((function(t){var n=o[t];n&&n.forEach((function(t){var n=e.findById(t.id);t.visible?e.showItem(n,!1):e.hideItem(n,!1)}))}));break;case"render":case"update":Object.keys(o).forEach((function(t){var n=o[t];n&&n.forEach((function(t){e.updateItem(t.id,t,!1)}))}));break;case"changedata":e.changeData(o,!1);break;case"delete":Object.keys(o).forEach((function(t){var n=o[t];n&&n.forEach((function(t){var n=t.itemType;delete t.itemType,e.addItem(n,t,!1)}))}));break;case"add":Object.keys(o).forEach((function(t){var n=o[t];n&&n.forEach((function(t){e.removeItem(t.id,!1)}))}));break;case"updateComboTree":Object.keys(o).forEach((function(t){var n=o[t];n&&n.forEach((function(t){e.updateComboTree(t.id,t.parentId,!1)}))}))}}}},t.prototype.redo=function(){var e=this.get("graph"),t=e.getRedoStack();if(t&&0!==t.length){var n=t.pop();if(n){var r=n.action,o=n.data.after;if(e.pushStack(r,(0,vn.clone)(n.data)),"delete"===r&&(o=n.data.before),!o)return;switch(r){case"visible":Object.keys(o).forEach((function(t){var n=o[t];n&&n.forEach((function(t){var n=e.findById(t.id);t.visible?e.showItem(n,!1):e.hideItem(n,!1)}))}));break;case"render":case"update":Object.keys(o).forEach((function(t){var n=o[t];n&&n.forEach((function(t){e.updateItem(t.id,t,!1)}))}));break;case"changedata":e.changeData(o,!1);break;case"delete":o.edges&&o.edges.forEach((function(t){e.removeItem(t.id,!1)})),o.nodes&&o.nodes.forEach((function(t){e.removeItem(t.id,!1)})),o.combos&&o.combos.forEach((function(t){e.removeItem(t.id,!1)}));break;case"add":Object.keys(o).forEach((function(t){var n=o[t];n&&n.forEach((function(t){var n=t.itemType;delete t.itemType,e.addItem(n,t,!1)}))}));break;case"updateComboTree":Object.keys(o).forEach((function(t){var n=o[t];n&&n.forEach((function(t){e.updateComboTree(t.id,t.parentId,!1)}))}))}}}},t.prototype.handleDefaultOperator=function(e,t){var n=t.getZoom();switch(e){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":var r=1/(1-.05*this.get("zoomSensitivity"));if(r*n>(this.get("maxZoom")||t.get("maxZoom")))return;t.zoomTo(n*r);break;case"zoomIn":var o=1-.05*this.get("zoomSensitivity");if(o*n<(this.get("minZoom")||t.get("minZoom")))return;t.zoomTo(n*o);break;case"realZoom":t.zoomTo(1);break;case"autoZoom":t.fitView([20,20])}},t.prototype.destroy=function(){var e=this.get("toolBar");if(e){var t=this.get("container");t||(t=this.get("graph").get("container")),(0,vn.isString)(t)&&(t=document.getElementById(t)),t.removeChild(e)}var n=this.get("handleClick");n&&e.removeEventListener("click",n)},t}(Cg),tv=ev,nv=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!==typeof document&&Ig()("\n  .g6-component-tooltip {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .tooltip-type {\n    padding: 0;\n    margin: 0;\n  }\n  .tooltip-id {\n    color: #531dab;\n  }\n");var rv=function(e){function t(t){return e.call(this,t)||this}return nv(t,e),t.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(e){return"\n          <h4 class='tooltip-type'>\u7c7b\u578b\uff1a".concat(e.item.getType(),"</h4>\n          <span class='tooltip-id'>ID\uff1a").concat(e.item.getID(),"</span>\n        ")},shouldBegin:function(e){return!0},itemTypes:["node","edge","combo"],trigger:"mouseenter",fixToNode:void 0}},t.prototype.getEvents=function(){return"click"===this.get("trigger")?{"node:click":"onClick","edge:click":"onClick","combo:click":"onClick","canvas:click":"onMouseLeave",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave",drag:"onMouseLeave"}:{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},t.prototype.init=function(){var e=this,t=e.get("className")||"g6-component-tooltip",n=mg("<div class=".concat(t,"></div>")),r=e.get("container");r||(r=e.get("graph").get("container")),(0,vn.isString)(r)&&(r=document.getElementById(r)),kg(n,{position:"absolute",visibility:"hidden",display:"none"}),r.appendChild(n),"click"!==e.get("trigger")&&(n.addEventListener("mouseenter",(function(e){kg(n,{visibility:"visible",display:"unset"})})),n.addEventListener("mouseleave",(function(t){e.hideTooltip()}))),e.set("tooltip",n)},t.prototype.onClick=function(e){var t=this.get("itemTypes");if(!e.item||!e.item.getType||-1!==t.indexOf(e.item.getType())){var n=e.item,r=this.get("graph");this.currentTarget===n?(this.currentTarget=null,this.hideTooltip(),r.emit("tooltipchange",{item:e.item,action:"hide"})):(this.currentTarget=n,this.showTooltip(e),r.emit("tooltipchange",{item:e.item,action:"show"}))}},t.prototype.onMouseEnter=function(e){var t=this.get("itemTypes");if(!e.item||!e.item.getType||-1!==t.indexOf(e.item.getType())){var n=e.item,r=this.get("graph");this.currentTarget=n,this.showTooltip(e),r.emit("tooltipchange",{item:e.item,action:"show"})}},t.prototype.onMouseMove=function(e){var t=this.get("itemTypes");e.item&&e.item.getType&&-1===t.indexOf(e.item.getType())||this.currentTarget&&e.item===this.currentTarget&&this.showTooltip(e)},t.prototype.onMouseLeave=function(){this.hideTooltip(),this.get("graph").emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},t.prototype.clearContainer=function(){var e=this.get("tooltip");e&&(e.innerHTML="")},t.prototype.showTooltip=function(e){if(e.item){var t=this.get("itemTypes");if(!e.item.getType||-1!==t.indexOf(e.item.getType())){var n=this.get("tooltip"),r=this.get("getContent")(e);(0,vn.isString)(r)?n.innerHTML=r:(this.clearContainer(),n.appendChild(r)),this.updatePosition(e)}}},t.prototype.hideTooltip=function(){var e=this.get("tooltip");e&&kg(e,{visibility:"hidden",display:"none"})},t.prototype.updatePosition=function(e){var t=this.get("shouldBegin"),n=this.get("tooltip");if(t(e)){var r=this.get("graph"),o=r.get("width"),i=r.get("height"),a=this.get("offsetX")||0,s=this.get("offsetY")||0,u=r.getPointByClient(e.clientX,e.clientY),c=this.get("fixToNode"),l=e.item;if(l.getType&&"node"===l.getType()&&c&&(0,vn.isArray)(c)&&c.length>=2){var f=l.getBBox();u={x:f.minX+f.width*c[0],y:f.minY+f.height*c[1]}}var d=r.getCanvasByPoint(u.x,u.y),h=d.x,p=d.y,g=r.getContainer(),v={x:h+g.offsetLeft+a,y:p+g.offsetTop+s};kg(n,{visibility:"visible",display:"unset"});var m=n.getBoundingClientRect();h+m.width+a>o&&(v.x-=m.width+a),p+m.height+s>i&&(v.y-=m.height+s),kg(n,{left:"".concat(v.x,"px"),top:"".concat(v.y,"px")})}else kg(n,{visibility:"hidden",display:"none"})},t.prototype.hide=function(){this.onMouseLeave()},t.prototype.destroy=function(){var e=this.get("tooltip");if(e){var t=this.get("container");t||(t=this.get("graph").get("container")),(0,vn.isString)(t)&&(t=document.getElementById(t)),t.removeChild(e)}},t}(Cg),ov=rv,iv={};function av(e,t){iv[e]=t}var sv=function(){function e(e){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=e,this.initCfg(),this.init()}return e.prototype.translate=function(e){return e},e.prototype.change=function(e){(0,vn.assign)(this.__cfg__,e),this.init()},e.prototype.clone=function(){return this.constructor(this.__cfg__)},e.prototype.getTicks=function(){var e=this;return(0,vn.map)(this.ticks,(function(t,n){return(0,vn.isObject)(t)?t:{text:e.getText(t,n),tickValue:t,value:e.scale(t)}}))},e.prototype.getText=function(e,t){var n=this.formatter,r=n?n(e,t):e;return(0,vn.isNil)(r)||!(0,vn.isFunction)(r.toString)?"":r.toString()},e.prototype.getConfig=function(e){return this.__cfg__[e]},e.prototype.init=function(){(0,vn.assign)(this,this.__cfg__),this.setDomain(),(0,vn.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},e.prototype.initCfg=function(){},e.prototype.setDomain=function(){},e.prototype.calculateTicks=function(){var e=this.tickMethod,t=[];if((0,vn.isString)(e)){var n=function(e){return iv[e]}(e);if(!n)throw new Error("There is no method to to calculate ticks!");t=n(this)}else(0,vn.isFunction)(e)&&(t=e(this));return t},e.prototype.rangeMin=function(){return this.range[0]},e.prototype.rangeMax=function(){return this.range[1]},e.prototype.calcPercent=function(e,t,n){return(0,vn.isNumber)(e)?(e-t)/(n-t):NaN},e.prototype.calcValue=function(e,t,n){return t+e*(n-t)},e}(),uv=sv,cv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return(0,gn.__extends)(t,e),t.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var e=0;e<this.values.length;e++)this.translateIndexMap.set(this.values[e],e)}},t.prototype.translate=function(e){this.buildIndexMap();var t=this.translateIndexMap.get(e);return void 0===t&&(t=(0,vn.isNumber)(e)?e:NaN),t},t.prototype.scale=function(e){var t=this.translate(e),n=this.calcPercent(t,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},t.prototype.invert=function(e){var t=this.max-this.min,n=this.calcPercent(e,this.rangeMin(),this.rangeMax()),r=Math.round(t*n)+this.min;return r<this.min||r>this.max?NaN:this.values[r]},t.prototype.getText=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=t;return(0,vn.isNumber)(t)&&!this.values.includes(t)&&(o=this.values[o]),e.prototype.getText.apply(this,(0,gn.__spreadArrays)([o],n))},t.prototype.initCfg=function(){this.tickMethod="cat"},t.prototype.setDomain=function(){if((0,vn.isNil)(this.getConfig("min"))&&(this.min=0),(0,vn.isNil)(this.getConfig("max"))){var e=this.values.length;this.max=e>1?e-1:e}this.translateIndexMap&&(this.translateIndexMap=void 0)},t}(uv),lv=cv,fv=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,dv="[1-9]\\d?",hv="\\d\\d",pv="[^\\s]+",gv=/\[([^]*?)\]/gm;function vv(e,t){for(var n=[],r=0,o=e.length;r<o;r++)n.push(e[r].substr(0,t));return n}var mv=function(e){return function(t,n){var r=n[e].map((function(e){return e.toLowerCase()})),o=r.indexOf(t.toLowerCase());return o>-1?o:null}};function yv(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var i=o[r];for(var a in i)e[a]=i[a]}return e}var bv=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],xv=["January","February","March","April","May","June","July","August","September","October","November","December"],wv=vv(xv,3),Ev={dayNamesShort:vv(bv,3),dayNames:bv,monthNamesShort:wv,monthNames:xv,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10?1:0)*e%10]}},_v=yv({},Ev),Sv=function(e){return _v=yv(_v,e)},kv=function(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Tv=function(e,t){for(void 0===t&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},Cv={D:function(e){return String(e.getDate())},DD:function(e){return Tv(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return Tv(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return Tv(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return Tv(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return Tv(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return Tv(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return Tv(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return Tv(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return Tv(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return Tv(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return Tv(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+Tv(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+Tv(Math.floor(Math.abs(t)/60),2)+":"+Tv(Math.abs(t)%60,2)}},Mv=function(e){return+e-1},Nv=[null,dv],Av=[null,pv],Pv=["isPm",pv,function(e,t){var n=e.toLowerCase();return n===t.amPm[0]?0:n===t.amPm[1]?1:null}],Ov=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(e){var t=(e+"").match(/([+-]|\d\d)/gi);if(t){var n=60*+t[1]+parseInt(t[2],10);return"+"===t[0]?n:-n}return 0}],Iv={D:["day",dv],DD:["day",hv],Do:["day","[1-9]\\d?[^\\s]+",function(e){return parseInt(e,10)}],M:["month",dv,Mv],MM:["month",hv,Mv],YY:["year",hv,function(e){var t=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+e>68?t-1:t)+e)}],h:["hour",dv,void 0,"isPm"],hh:["hour",hv,void 0,"isPm"],H:["hour",dv],HH:["hour",hv],m:["minute",dv],mm:["minute",hv],s:["second",dv],ss:["second",hv],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(e){return 100*+e}],SS:["millisecond",hv,function(e){return 10*+e}],SSS:["millisecond","\\d{3}"],d:Nv,dd:Nv,ddd:Av,dddd:Av,MMM:["month",pv,mv("monthNamesShort")],MMMM:["month",pv,mv("monthNames")],a:Pv,A:Pv,ZZ:Ov,Z:Ov},Dv={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Rv=function(e){return yv(Dv,e)},Lv=function(e,t,n){if(void 0===t&&(t=Dv.default),void 0===n&&(n={}),"number"===typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");var r=[];t=(t=Dv[t]||t).replace(gv,(function(e,t){return r.push(t),"@@@"}));var o=yv(yv({},_v),n);return(t=t.replace(fv,(function(t){return Cv[t](e,o)}))).replace(/@@@/g,(function(){return r.shift()}))};function jv(e,t,n){if(void 0===n&&(n={}),"string"!==typeof t)throw new Error("Invalid format in fecha parse");if(t=Dv[t]||t,e.length>1e3)return null;var r={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},o=[],i=[],a=t.replace(gv,(function(e,t){return i.push(kv(t)),"@@@"})),s={},u={};a=kv(a).replace(fv,(function(e){var t=Iv[e],n=t[0],r=t[1],i=t[3];if(s[n])throw new Error("Invalid format. "+n+" specified twice in format");return s[n]=!0,i&&(u[i]=!0),o.push(t),"("+r+")"})),Object.keys(u).forEach((function(e){if(!s[e])throw new Error("Invalid format. "+e+" is required in specified format")})),a=a.replace(/@@@/g,(function(){return i.shift()}));var c=e.match(new RegExp(a,"i"));if(!c)return null;for(var l=yv(yv({},_v),n),f=1;f<c.length;f++){var d=o[f-1],h=d[0],p=d[2],g=p?p(c[f],l):+c[f];if(null==g)return null;r[h]=g}1===r.isPm&&null!=r.hour&&12!==+r.hour?r.hour=+r.hour+12:0===r.isPm&&12===+r.hour&&(r.hour=0);for(var v=new Date(r.year,r.month,r.day,r.hour,r.minute,r.second,r.millisecond),m=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],y=(f=0,m.length);f<y;f++)if(s[m[f][0]]&&r[m[f][0]]!==v[m[f][1]]())return null;return null==r.timezoneOffset?v:new Date(Date.UTC(r.year,r.month,r.day,r.hour,r.minute-r.timezoneOffset,r.second,r.millisecond))}var Fv={format:Lv,parse:jv,defaultI18n:Ev,setGlobalDateI18n:Sv,setGlobalDateMasks:Rv};function Bv(e,t){return(p.format||Fv.format)(e,t)}function zv(e){return(0,vn.isString)(e)&&(e=e.indexOf("T")>0?new Date(e).getTime():new Date(e.replace(/-/gi,"/")).getTime()),(0,vn.isDate)(e)&&(e=e.getTime()),e}var Gv=1e3,Vv=6e4,Uv=36e5,Wv=24*Uv,Zv=31*Wv,Yv=365*Wv,Hv=[["HH:mm:ss",Gv],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",Vv],["HH:mm",6e5],["HH:mm",18e5],["HH",Uv],["HH",6*Uv],["HH",12*Uv],["YYYY-MM-DD",Wv],["YYYY-MM-DD",4*Wv],["YYYY-WW",7*Wv],["YYYY-MM",Zv],["YYYY-MM",4*Zv],["YYYY-MM",6*Zv],["YYYY",380*Wv]];function Xv(e,t,n){var r,o=(r=function(e){return e[1]},function(e,t,n,o){for(var i=(0,vn.isNil)(n)?0:n,a=(0,vn.isNil)(o)?e.length:o;i<a;){var s=i+a>>>1;r(e[s])>t?a=s:i=s+1}return i})(Hv,(t-e)/n)-1,i=Hv[o];return o<0?i=Hv[0]:o>=Hv.length&&(i=(0,vn.last)(Hv)),i}var Kv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="timeCat",t}return(0,gn.__extends)(t,e),t.prototype.translate=function(e){e=zv(e);var t=this.values.indexOf(e);return-1===t&&(t=(0,vn.isNumber)(e)&&e<this.values.length?e:NaN),t},t.prototype.getText=function(e,t){var n=this.translate(e);if(n>-1){var r=this.values[n],o=this.formatter;return r=o?o(r,t):Bv(r,this.mask)}return e},t.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},t.prototype.setDomain=function(){var t=this.values;(0,vn.each)(t,(function(e,n){t[n]=zv(e)})),t.sort((function(e,t){return e-t})),e.prototype.setDomain.call(this)},t}(lv),qv=Kv,$v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isContinuous=!0,t}return(0,gn.__extends)(t,e),t.prototype.scale=function(e){if((0,vn.isNil)(e))return NaN;var t=this.rangeMin(),n=this.rangeMax();return this.max===this.min?t:t+this.getScalePercent(e)*(n-t)},t.prototype.init=function(){e.prototype.init.call(this);var t=this.ticks,n=(0,vn.head)(t),r=(0,vn.last)(t);n<this.min&&(this.min=n),r>this.max&&(this.max=r),(0,vn.isNil)(this.minLimit)||(this.min=n),(0,vn.isNil)(this.maxLimit)||(this.max=r)},t.prototype.setDomain=function(){var e=(0,vn.getRange)(this.values),t=e.min,n=e.max;(0,vn.isNil)(this.min)&&(this.min=t),(0,vn.isNil)(this.max)&&(this.max=n),this.min>this.max&&(this.min=t,this.max=n)},t.prototype.calculateTicks=function(){var t=this,n=e.prototype.calculateTicks.call(this);return this.nice||(n=(0,vn.filter)(n,(function(e){return e>=t.min&&e<=t.max}))),n},t.prototype.getScalePercent=function(e){var t=this.max,n=this.min;return(e-n)/(t-n)},t.prototype.getInvertPercent=function(e){return(e-this.rangeMin())/(this.rangeMax()-this.rangeMin())},t}(uv),Jv=$v,Qv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return(0,gn.__extends)(t,e),t.prototype.invert=function(e){var t=this.getInvertPercent(e);return this.min+t*(this.max-this.min)},t.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},t}(Jv),em=Qv;function tm(e,t){var n=Math.E;return t>=0?Math.pow(n,Math.log(t)/e):-1*Math.pow(n,Math.log(-t)/e)}function nm(e,t){return 1===e?1:Math.log(t)/Math.log(e)}function rm(e,t,n){(0,vn.isNil)(n)&&(n=Math.max.apply(null,e));var r=n;return(0,vn.each)(e,(function(e){e>0&&e<r&&(r=e)})),r===n&&(r=n/t),r>1&&(r=1),r}var om=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="log",t}return(0,gn.__extends)(t,e),t.prototype.invert=function(e){var t,n=this.base,r=nm(n,this.max),o=this.rangeMin(),i=this.rangeMax()-o,a=this.positiveMin;if(a){if(0===e)return 0;var s=1/(r-(t=nm(n,a/n)))*i;if(e<s)return e/s*a}else t=nm(n,this.min);var u=(e-o)/i*(r-t)+t;return Math.pow(n,u)},t.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},t.prototype.setDomain=function(){e.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===t&&(this.positiveMin=rm(this.values,this.base,this.max))},t.prototype.getScalePercent=function(e){var t=this.max,n=this.min;if(t===n)return 0;if(e<=0)return 0;var r=this.base,o=this.positiveMin;return o&&(n=1*o/r),e<o?e/o/(nm(r,t)-nm(r,n)):(nm(r,e)-nm(r,n))/(nm(r,t)-nm(r,n))},t}(Jv),im=om,am=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="pow",t}return(0,gn.__extends)(t,e),t.prototype.invert=function(e){var t=this.getInvertPercent(e),n=this.exponent,r=tm(n,this.max),o=tm(n,this.min),i=t*(r-o)+o,a=i>=0?1:-1;return Math.pow(i,n)*a},t.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},t.prototype.getScalePercent=function(e){var t=this.max,n=this.min;if(t===n)return 0;var r=this.exponent;return(tm(r,e)-tm(r,n))/(tm(r,t)-tm(r,n))},t}(Jv),sm=am,um=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="time",t}return(0,gn.__extends)(t,e),t.prototype.getText=function(e,t){var n=this.translate(e),r=this.formatter;return r?r(n,t):Bv(n,this.mask)},t.prototype.scale=function(t){var n=t;return((0,vn.isString)(n)||(0,vn.isDate)(n))&&(n=this.translate(n)),e.prototype.scale.call(this,n)},t.prototype.translate=function(e){return zv(e)},t.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},t.prototype.setDomain=function(){var e=this.values,t=this.getConfig("min"),n=this.getConfig("max");if((0,vn.isNil)(t)&&(0,vn.isNumber)(t)||(this.min=this.translate(this.min)),(0,vn.isNil)(n)&&(0,vn.isNumber)(n)||(this.max=this.translate(this.max)),e&&e.length){var r=[],o=1/0,i=o,a=0;(0,vn.each)(e,(function(e){var t=zv(e);if(isNaN(t))throw new TypeError("Invalid Time: "+e+" in time scale!");o>t?(i=o,o=t):i>t&&(i=t),a<t&&(a=t),r.push(t)})),e.length>1&&(this.minTickInterval=i-o),(0,vn.isNil)(t)&&(this.min=o),(0,vn.isNil)(n)&&(this.max=a)}},t}(em),cm=um,lm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="quantize",t}return(0,gn.__extends)(t,e),t.prototype.invert=function(e){var t=this.ticks,n=t.length,r=this.getInvertPercent(e),o=Math.floor(r*(n-1));if(o>=n-1)return(0,vn.last)(t);if(o<0)return(0,vn.head)(t);var i=t[o],a=o/(n-1);return i+(r-a)/((o+1)/(n-1)-a)*(t[o+1]-i)},t.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},t.prototype.calculateTicks=function(){var t=e.prototype.calculateTicks.call(this);return this.nice||((0,vn.last)(t)!==this.max&&t.push(this.max),(0,vn.head)(t)!==this.min&&t.unshift(this.min)),t},t.prototype.getScalePercent=function(e){var t=this.ticks;if(e<(0,vn.head)(t))return 0;if(e>(0,vn.last)(t))return 1;var n=0;return(0,vn.each)(t,(function(t,r){if(!(e>=t))return!1;n=r})),n/(t.length-1)},t}(Jv),fm=lm,dm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="quantile",t}return(0,gn.__extends)(t,e),t.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},t}(fm),hm=dm,pm={};function gm(e,t){if(function(e){return pm[e]}(e))throw new Error("type '"+e+"' existed.");pm[e]=t}var vm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return(0,gn.__extends)(t,e),t.prototype.calculateTicks=function(){return this.values},t.prototype.scale=function(e){return this.values[0]!==e&&(0,vn.isNumber)(e)?e:this.range[0]},t.prototype.invert=function(e){var t=this.range;return e<t[0]||e>t[1]?NaN:this.values[0]},t}(uv),mm=vm;function ym(e){return Math.abs(e)<1e-15?e:parseFloat(e.toFixed(15))}var bm=[1,5,2,2.5,4,3],xm=100*Number.EPSILON;function wm(e,t,n,r,o,i){var a=(0,vn.size)(t),s=(0,vn.indexOf)(t,e),u=0,c=function(e,t){return(e%t+t)%t}(r,i);return(c<xm||i-c<xm)&&r<=0&&o>=0&&(u=1),1-s/(a-1)-n+u}function Em(e,t,n){var r=(0,vn.size)(t);return 1-(0,vn.indexOf)(t,e)/(r-1)-n+1}function _m(e,t,n,r,o,i){var a=(e-1)/(i-o),s=(t-1)/(Math.max(i,r)-Math.min(n,o));return 2-Math.max(a/s,s/a)}function Sm(e,t){return e>=t?2-(e-1)/(t-1):1}function km(e,t,n,r){var o=t-e;return 1-.5*(Math.pow(t-r,2)+Math.pow(e-n,2))/Math.pow(.1*o,2)}function Tm(e,t,n){var r=t-e;if(n>r){var o=(n-r)/2;return 1-Math.pow(o,2)/Math.pow(.1*r,2)}return 1}function Cm(e,t,n,r,o,i){void 0===n&&(n=5),void 0===r&&(r=!0),void 0===o&&(o=bm),void 0===i&&(i=[.25,.2,.5,.05]);var a=n<0?0:Math.round(n);if(Number.isNaN(e)||Number.isNaN(t)||"number"!==typeof e||"number"!==typeof t||!a)return{min:0,max:0,ticks:[]};if(t-e<1e-15||1===a)return{min:e,max:t,ticks:[e]};for(var s={score:-2,lmin:0,lmax:0,lstep:0},u=1;u<1/0;){for(var c=0;c<o.length;c+=1){var l=o[c],f=Em(l,o,u);if(i[0]*f+i[1]+i[2]+i[3]<s.score){u=1/0;break}for(var d=2;d<1/0;){var h=Sm(d,a);if(i[0]*f+i[1]+i[2]*h+i[3]<s.score)break;for(var p=(t-e)/(d+1)/u/l,g=Math.ceil(Math.log10(p));g<1/0;){var v=u*l*Math.pow(10,g),m=Tm(e,t,v*(d-1));if(i[0]*f+i[1]*m+i[2]*h+i[3]<s.score)break;var y=Math.floor(t/v)*u-(d-1)*u,b=Math.ceil(e/v)*u;if(y<=b)for(var x=b-y,w=0;w<=x;w+=1){var E=(y+w)*(v/u),_=E+v*(d-1),S=v,k=wm(l,o,u,E,_,S),T=km(e,t,E,_),C=_m(d,a,e,t,E,_),M=i[0]*k+i[1]*T+i[2]*C+1*i[3];M>s.score&&(!r||E<=e&&_>=t)&&(s.lmin=E,s.lmax=_,s.lstep=S,s.score=M)}g+=1}d+=1}}u+=1}var N=ym(s.lmax),A=ym(s.lmin),P=ym(s.lstep),O=Math.floor(function(e){return Math.round(1e12*e)/1e12}((N-A)/P))+1,I=new Array(O);I[0]=ym(A);for(c=1;c<O;c++)I[c]=ym(I[c-1]+P);return{min:Math.min(e,(0,vn.head)(I)),max:Math.max(t,(0,vn.last)(I)),ticks:I}}function Mm(e){var t=e.values,n=e.tickInterval,r=e.tickCount,o=t;if((0,vn.isNumber)(n))return(0,vn.filter)(o,(function(e,t){return t%n===0}));var i=e.min,a=e.max;if((0,vn.isNil)(i)&&(i=0),(0,vn.isNil)(a)&&(a=t.length-1),(0,vn.isNumber)(r)&&r<a-i){var s=Cm(i,a,r,!1,[1,2,5,3,4,7,6,8,9]).ticks;return(0,vn.filter)(s,(function(e){return e>=i&&e<=a})).map((function(e){return t[e]}))}return t.slice(i,a+1)}var Nm=Math.sqrt(50),Am=Math.sqrt(10),Pm=Math.sqrt(2),Om=function(){function e(){this._domain=[0,1]}return e.prototype.domain=function(e){return e?(this._domain=Array.from(e,Number),this):this._domain.slice()},e.prototype.nice=function(e){var t,n;void 0===e&&(e=5);var r,o=this._domain.slice(),i=0,a=this._domain.length-1,s=this._domain[i],u=this._domain[a];return u<s&&(s=(t=[u,s])[0],u=t[1],i=(n=[a,i])[0],a=n[1]),(r=Im(s,u,e))>0?r=Im(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,e):r<0&&(r=Im(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,e)),r>0?(o[i]=Math.floor(s/r)*r,o[a]=Math.ceil(u/r)*r,this.domain(o)):r<0&&(o[i]=Math.ceil(s*r)/r,o[a]=Math.floor(u*r)/r,this.domain(o)),this},e.prototype.ticks=function(e){return void 0===e&&(e=5),function(e,t,n){var r,o,i,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];(r=t<e)&&(o=e,e=t,t=o);if(0===(a=Im(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),i=new Array(o=Math.ceil(t-e+1));++s<o;)i[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),i=new Array(o=Math.ceil(e-t+1));++s<o;)i[s]=(e-s)/a;r&&i.reverse();return i}(this._domain[0],this._domain[this._domain.length-1],e||5)},e}();function Im(e,t,n){var r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=Nm?10:i>=Am?5:i>=Pm?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=Nm?10:i>=Am?5:i>=Pm?2:1)}function Dm(e,t,n){return("ceil"===n?Math.ceil(e/t):"floor"===n?Math.floor(e/t):Math.round(e/t))*t}function Rm(e,t,n){var r=Dm(e,n,"floor"),o=Dm(t,n,"ceil");r=(0,vn.fixedBase)(r,n),o=(0,vn.fixedBase)(o,n);for(var i=[],a=Math.max((o-r)/(Math.pow(2,12)-1),n),s=r;s<=o;s+=a){var u=(0,vn.fixedBase)(s,a);i.push(u)}return{min:r,max:o,ticks:i}}function Lm(e,t,n){var r,o=e.minLimit,i=e.maxLimit,a=e.min,s=e.max,u=e.tickCount,c=void 0===u?5:u,l=(0,vn.isNil)(o)?(0,vn.isNil)(t)?a:t:o,f=(0,vn.isNil)(i)?(0,vn.isNil)(n)?s:n:i;if(l>f&&(f=(r=[l,f])[0],l=r[1]),c<=2)return[l,f];for(var d=(f-l)/(c-1),h=[],p=0;p<c;p++)h.push(l+d*p);return h}function jm(e,t,n){if(void 0===n&&(n=5),e===t)return{max:t,min:e,ticks:[e]};var r=n<0?0:Math.round(n);if(0===r)return{max:t,min:e,ticks:[]};var o=(t-e)/r,i=Math.pow(10,Math.floor(Math.log10(o))),a=i;2*i-o<1.5*(o-a)&&5*i-o<2.75*(o-(a=2*i))&&10*i-o<1.5*(o-(a=5*i))&&(a=10*i);for(var s=Math.ceil(t/a),u=Math.floor(e/a),c=Math.max(s*a,t),l=Math.min(u*a,e),f=Math.floor((c-l)/a)+1,d=new Array(f),h=0;h<f;h++)d[h]=ym(l+h*a);return{min:l,max:c,ticks:d}}function Fm(e,t){var n=e.length*t;return 1===t?e[e.length-1]:0===t?e[0]:n%1!==0?e[Math.ceil(n)-1]:e.length%2===0?(e[n-1]+e[n])/2:e[n]}function Bm(e){return new Date(e).getFullYear()}function zm(e){return new Date(e,0,1).getTime()}function Gm(e){return new Date(e).getMonth()}function Vm(e,t){return new Date(e,t,1).getTime()}av("cat",Mm),av("time-cat",(function(e){var t=Mm(e),n=(0,vn.last)(e.values);return n!==(0,vn.last)(t)&&t.push(n),t})),av("wilkinson-extended",(function(e){var t=e.min,n=e.max,r=e.tickCount,o=e.nice,i=e.tickInterval,a=e.minLimit,s=e.maxLimit,u=Cm(t,n,r,o).ticks;return(0,vn.isNil)(a)&&(0,vn.isNil)(s)?i?Rm(t,n,i).ticks:u:Lm(e,(0,vn.head)(u),(0,vn.last)(u))})),av("r-pretty",(function(e){var t=e.min,n=e.max,r=e.tickCount,o=e.tickInterval,i=e.minLimit,a=e.maxLimit,s=jm(t,n,r).ticks;return(0,vn.isNil)(i)&&(0,vn.isNil)(a)?o?Rm(t,n,o).ticks:s:Lm(e,(0,vn.head)(s),(0,vn.last)(s))})),av("time",(function(e){var t=e.min,n=e.max,r=e.minTickInterval,o=e.tickInterval,i=e.tickCount;if(o)i=Math.ceil((n-t)/o);else{var a=(n-t)/(o=Xv(t,n,i)[1])/i;a>1&&(o*=Math.ceil(a)),r&&o<r&&(o=r)}for(var s=[],u=t;u<n+o;u+=o)s.push(u);return s})),av("time-pretty",(function(e){var t=e.min,n=e.max,r=e.minTickInterval,o=e.tickCount,i=e.tickInterval,a=[];i||(i=(n-t)/o,r&&i<r&&(i=r));var s=Bm(t);if(i>Yv)for(var u=Bm(n),c=Math.ceil(i/Yv),l=s;l<=u+c;l+=c)a.push(zm(l));else if(i>Zv){var f=Math.ceil(i/Zv),d=Gm(t),h=function(e,t){var n=Bm(e),r=Bm(t),o=Gm(e);return 12*(r-n)+(Gm(t)-o)%12}(t,n);for(l=0;l<=h+f;l+=f)a.push(Vm(s,l+d))}else if(i>Wv){var p=(b=new Date(t)).getFullYear(),g=b.getMonth(),v=b.getDate(),m=Math.ceil(i/Wv),y=function(e,t){return Math.ceil((t-e)/Wv)}(t,n);for(l=0;l<y+m;l+=m)a.push(new Date(p,g,v+l).getTime())}else if(i>Uv){p=(b=new Date(t)).getFullYear(),g=b.getMonth(),m=b.getDate();var b,x=b.getHours(),w=Math.ceil(i/Uv),E=function(e,t){return Math.ceil((t-e)/Uv)}(t,n);for(l=0;l<=E+w;l+=w)a.push(new Date(p,g,m,x+l).getTime())}else if(i>Vv){var _=function(e,t){return Math.ceil((t-e)/6e4)}(t,n),S=Math.ceil(i/Vv);for(l=0;l<=_+S;l+=S)a.push(t+l*Vv)}else{var k=i;k<Gv&&(k=Gv);var T=Math.floor(t/Gv)*Gv,C=Math.ceil((n-t)/Gv),M=Math.ceil(k/Gv);for(l=0;l<C+M;l+=M)a.push(T+l*Gv)}return a.length>=512&&console.warn("Notice: current ticks length("+a.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+i+") is too small, increase the value to solve the problem!"),a})),av("log",(function(e){var t,n=e.base,r=e.tickCount,o=e.min,i=e.max,a=e.values,s=nm(n,i);if(o>0)t=Math.floor(nm(n,o));else{var u=rm(a,n,i);t=Math.floor(nm(n,u))}for(var c=s-t,l=Math.ceil(c/r),f=[],d=t;d<s+l;d+=l)f.push(Math.pow(n,d));return o<=0&&f.unshift(0),f})),av("pow",(function(e){var t=e.exponent,n=e.tickCount,r=Math.ceil(tm(t,e.max));return jm(Math.floor(tm(t,e.min)),r,n).ticks.map((function(e){var n=e>=0?1:-1;return Math.pow(e,t)*n}))})),av("quantile",(function(e){var t=e.tickCount,n=e.values;if(!n||!n.length)return[];for(var r=n.slice().sort((function(e,t){return e-t})),o=[],i=0;i<t;i++){var a=i/(t-1);o.push(Fm(r,a))}return o})),av("d3-linear",(function(e){var t=e.min,n=e.max,r=e.tickInterval,o=e.minLimit,i=e.maxLimit,a=function(e){var t=e.min,n=e.max,r=e.nice,o=e.tickCount,i=new Om;return i.domain([t,n]),r&&i.nice(o),i.ticks(o)}(e);return(0,vn.isNil)(o)&&(0,vn.isNil)(i)?r?Rm(t,n,r).ticks:a:Lm(e,(0,vn.head)(a),(0,vn.last)(a))})),gm("cat",lv),gm("category",lv),gm("identity",mm),gm("linear",em),gm("log",im),gm("pow",sm),gm("time",cm),gm("timeCat",qv),gm("quantize",fm),gm("quantile",hm);var Um=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function Wm(e){return function(e){return(0,vn.map)(e,(function(e,t){return[0===t?"M":"L",e[0],e[1]]}))}(e)}function Zm(e,t,n,r){void 0===r&&(r=!0);var o=new em({values:e}),i=new lv({values:(0,vn.map)(e,(function(e,t){return t}))}),a=(0,vn.map)(e,(function(e,r){return[i.scale(r)*t,n-o.scale(e)*n]}));return r?function(e){if(e.length<=2)return Wm(e);var t=[];(0,vn.each)(e,(function(e){(0,vn.isEqual)(e,t.slice(t.length-2))||t.push(e[0],e[1])}));var n=bc(t,!1),r=(0,vn.head)(e),o=r[0],i=r[1];return n.unshift(["M",o,i]),n}(a):Wm(a)}function Ym(e,t,n,r){void 0===r&&(r=5);for(var o=new em({values:e}),i=new lv({values:(0,vn.map)(e,(function(e,t){return t}))}),a=(0,vn.map)(e,(function(e,r){return[i.scale(r)*t,n-o.scale(e)*n]})),s=[],u=0;u<a.length;u++){var c=a[u],l=Xm({x:c[0],y:c[1],y0:n,size:r});s.push.apply(s,l)}return function(e,t){void 0===t&&(t=!0);var n=[],r=e[0];n.push(["M",r.x,r.y]);for(var o=1,i=e.length;o<i;o++)n.push(["L",e[o].x,e[o].y]);t&&(n.push(["L",r.x,r.y]),n.push(["z"]));return n}(s)}function Hm(e,t,n,r){var o=Um([],e,!0),i=function(e,t){var n=new em({values:e}),r=Math.max(0,n.min);return t-n.scale(r)*t}(r,n);return o.push(["L",t,i]),o.push(["L",0,i]),o.push(["Z"]),o}function Xm(e){var t,n,r,o,i=e.x,a=e.y,s=e.y0,u=e.size;(0,vn.isArray)(a)?(t=a[0],n=a[1]):(t=s,n=a),(0,vn.isArray)(i)?(r=i[0],o=i[1]):(r=i-u/2,o=i+u/2);var c=[{x:r,y:t},{x:r,y:n}];return c.push({x:o,y:n},{x:o,y:t}),c}var Km=function(){return Km=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Km.apply(this,arguments)},qm={stroke:"#C5C5C5",strokeOpacity:.85},$m={fill:"#CACED4",opacity:.85},Jm=function(){function e(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,i=e.width,a=void 0===i?200:i,s=e.height,u=void 0===s?26:s,c=e.smooth,l=void 0===c||c,f=e.isArea,d=void 0!==f&&f,h=e.data,p=void 0===h?[]:h,g=e.lineStyle,v=e.areaStyle,m=e.group,y=e.interval,b=void 0===y?null:y;this.group=m,this.x=n,this.y=o,this.width=a,this.height=u,this.data=p,this.smooth=l,this.isArea=d,this.lineStyle=Object.assign({},qm,g),this.areaStyle=Object.assign({},$m,v),this.intervalConfig=b,this.renderLine()}return e.prototype.renderLine=function(){var e=this,t=e.x,n=e.y,r=e.width,o=e.height,i=(e.barWidth,e.data),a=e.smooth,s=e.isArea,u=e.lineStyle,c=e.areaStyle,l=this.group.addGroup({name:"trend-group"});if(i){var f=Zm(i,r,o,a);if(l.addShape("path",{attrs:Km({path:f},u),name:"trend-line"}),s){var d=Hm(f,r,o,i);l.addShape("path",{attrs:Km({path:d},c),name:"trend-area"})}}this.intervalConfig&&l.addShape("path",{attrs:Km({path:Ym(this.intervalConfig.data,r,o,this.intervalConfig.style.barWidth)},this.intervalConfig.style),name:"trend-interval"}),l.move(t,n)},e.prototype.destory=function(){this.group.destroy()},e}(),Qm=Jm,ey=function(){return ey=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ey.apply(this,arguments)},ty={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},ny={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},ry=function(){function e(e){var t=e.group,n=e.name,r=e.type,o=e.x,i=void 0===o?0:o,a=e.y,s=void 0===a?0:a,u=e.width,c=void 0===u?2:u,l=e.height,f=void 0===l?24:l,d=e.style,h=void 0===d?{}:d;this.group=t,this.name=n,this.handleType=r,this.x=i,this.y=s,this.width=c,this.height=f,"trend"===r?this.style=ey(ey({},ty),h):"simple"===r&&(this.style=ey(ey({},ny),h)),this.renderHandle()}return e.prototype.setX=function(e){this.setXY(e,void 0)},e.prototype.setY=function(e){this.setXY(void 0,e)},e.prototype.setXY=function(e,t){(0,vn.isNumber)(e)&&(this.x=e),(0,vn.isNumber)(t)&&(this.y=t),this.updateXY()},e.prototype.renderHandle=function(){var e=this,t=e.width,n=e.height,r=e.style,o=e.name,i=r.fill,a=r.stroke,s=r.radius,u=r.opacity,c=r.cursor;this.handleGroup=this.group.addGroup(),"trend"===this.handleType?(this.verticalLine=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:n,fill:i,stroke:a,radius:s,opacity:u,cursor:c},name:"".concat(o,"-handler")}),this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:i,stroke:a,radius:s,opacity:u,cursor:c,lineAppendWidth:12},name:"".concat(o,"-handler")}),this.bottomCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:n,r:2*t,fill:i,stroke:a,radius:s,opacity:u,cursor:c},name:"".concat(o,"-handler")})):"simple"===this.handleType&&(this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:n/2,r:2*t,fill:i,stroke:a,radius:s,opacity:u,cursor:c,lineWidth:2},name:"".concat(o,"-handler")})),this.updateXY(),"trend"===this.handleType?this.bindTrendEvents():"simple"===this.handleType&&this.bindSimpleEvents()},e.prototype.bindSimpleEvents=function(){var e=this,t=this.name;this.handleGroup.on("".concat(t,"-handler:mouseenter"),(function(){var t=e.style.highLightFill;e.topCircle.attr("fill",t)})),this.handleGroup.on("".concat(t,"-handler:mouseleave"),(function(){var t=e.style.fill;e.topCircle.attr("fill",t)}))},e.prototype.bindTrendEvents=function(){var e=this,t=this.name;this.handleGroup.on("".concat(t,"-handler:mouseenter"),(function(){var t=e.style.highLightFill;e.verticalLine.attr("fill",t),e.topCircle.attr("fill",t),e.bottomCircle.attr("fill",t)})),this.handleGroup.on("".concat(t,"-handler:mouseleave"),(function(){var t=e.style.fill;e.verticalLine.attr("fill",t),e.topCircle.attr("fill",t),e.bottomCircle.attr("fill",t)}))},e.prototype.show=function(){this.handleGroup.show()},e.prototype.hide=function(){this.handleGroup.hide()},e.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},e}(),oy=ry,iy="timebarstartplay",ay="timebarendplay",sy="valuechange",uy="timebarConfigChanged",cy="playPauseBtn",ly="nextStepBtn",fy="preStepBtn",dy=function(){return dy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},dy.apply(this,arguments)},hy=function(){function e(e){this.config=(0,vn.deepMix)({},e),this.init()}return e.prototype.update=function(e){this.config=(0,vn.deepMix)({},this.config,e),this.updateElement(),this.renderMarker()},e.prototype.init=function(){this.initElement(),this.renderMarker()},e.prototype.initElement=function(){var e=this.config,t=e.group,n=e.style,r=n.scale,o=void 0===r?1:r,i=n.offsetX,a=void 0===i?0:i,s=n.offsetY,u=void 0===s?0:s,c=this.config.x+a,l=this.config.y+u,f=t.addGroup({name:cy});this.startMarkerGroup=f.addGroup({name:cy}),this.circle=t.addShape("circle",{attrs:dy({x:c,y:l,r:this.config.r*o},n),name:cy}),this.startMarker=this.startMarkerGroup.addShape("path",{attrs:{path:this.getStartMarkerPath(c,l,o),fill:n.stroke||"#aaa"},name:"start-marker"}),this.pauseMarkerGroup=f.addGroup({name:cy});var d=.25*this.config.r*o,h=.5*this.config.r*Math.sqrt(3)*o;this.pauseLeftMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:c-.375*this.config.r*o,y:l-h/2,width:d,height:h,fill:n.stroke||"#aaa",lineWidth:0}}),this.pauseRightMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:c+1/8*this.config.r*o,y:l-h/2,width:d,height:h,fill:n.stroke||"#aaa",lineWidth:0}})},e.prototype.updateElement=function(){var e=this.config.style,t=e.scale,n=void 0===t?1:t,r=e.offsetX,o=void 0===r?0:r,i=e.offsetY,a=void 0===i?0:i,s=this.config.x+o,u=this.config.y+a;this.circle.attr("x",s),this.circle.attr("y",u),this.circle.attr("r",this.config.r*n),this.startMarker.attr("path",this.getStartMarkerPath(s,u,n));var c=.25*this.config.r*n,l=.5*this.config.r*Math.sqrt(3)*n;this.pauseLeftMarker.attr("x",s-.375*this.config.r*n),this.pauseLeftMarker.attr("y",u-l/2),this.pauseLeftMarker.attr("width",c),this.pauseLeftMarker.attr("height",l),this.pauseRightMarker.attr("x",s+1/8*this.config.r*n),this.pauseRightMarker.attr("y",u-l/2),this.pauseRightMarker.attr("width",c),this.pauseRightMarker.attr("height",l)},e.prototype.renderMarker=function(){this.config.isPlay?(this.startMarkerGroup.hide(),this.pauseMarkerGroup.show()):(this.startMarkerGroup.show(),this.pauseMarkerGroup.hide())},e.prototype.getStartMarkerPath=function(e,t,n){var r=.5*this.config.r*Math.sqrt(3)*n;return[["M",e-r/Math.sqrt(3)/2,t-r/2],["L",e+r/Math.sqrt(3),t],["L",e-r/Math.sqrt(3)/2,t+r/2]]},e}(),py=hy,gy=function(){return gy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},gy.apply(this,arguments)},vy=Mn,my={fill:"#aaa",fillOpacity:.35,stroke:"#aaa"},yy={fill:"#fff"},by={fill:"green"},xy={pointer:{fill:"#aaa",lineWidth:0},scroller:{stroke:"#aaa",fill:"#aaa",lineWidth:1,lineAppendWidth:5,cursor:"pointer"},text:{fill:"#aaa",textBaseline:"top"}},wy={check:{stroke:"green",lineWidth:3},box:{fill:"#fff",stroke:"#aaa",lineWidth:2,radius:3,width:12,height:12},text:{fill:"#aaa",fontSize:12,textBaseline:"top"}},Ey={speed:1,loop:!1,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa",stroke:"#aaa"},nextBtnStyle:{fill:"#aaa",stroke:"#aaa"},playBtnStyle:{fill:"#aaa",stroke:"#aaa",fillOpacity:.05},speedControllerStyle:xy,timeTypeControllerStyle:wy},_y=50,Sy=function(){function e(e){this.controllerCfg=(0,vn.deepMix)({},Ey,e),this.group=e.group,this.controllerGroup=this.group.addGroup({name:"controller-group"}),this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.fontFamily=e.fontFamily||"Arial, sans-serif",this.init()}return e.prototype.init=function(){this.renderPlayButton()},e.prototype.getNextMarkerPath=function(e,t,n){return[["M",e,t-n],["L",e+n,t],["L",e,t+n],["Z",e,t-n],["M",e,t],["L",e-n,t-n],["L",e-n,t+n],["Z"]]},e.prototype.getPreMarkerPath=function(e,t,n){return[["M",e,t-n],["L",e-n,t],["L",e,t+n],["L",e,t-n],["M",e,t],["L",e+n,t-n],["L",e+n,t+n],["Z"]]},e.prototype.renderPlayButton=function(){var e=this.controllerCfg,t=e.width,n=e.height,r=e.x,o=e.y,i=e.hideTimeTypeController,a=e.fill,s=void 0===a?"#aaa":a,u=e.stroke,c=void 0===u?"green":u,l=e.containerStyle,f=void 0===l?{}:l,d=gy(gy({},my),e.playBtnStyle||{}),h=gy(gy({},yy),e.preBtnStyle||{}),p=gy(gy({},by),e.nextBtnStyle||{}),g=n/2-5,v=o+10,m=this.controllerGroup.addShape("rect",{attrs:gy({x:r,y:v,width:t,height:n,stroke:c,fill:s},f),name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:v,r:g}):this.playButton=new py({group:this.controllerGroup,x:t/2,y:v+g+5,r:g,isPlay:this.isPlay,style:d});var y=h.offsetX||0,b=h.offsetY||0,x=(h.scale||1)*g;this.controllerGroup.addShape("path",{attrs:gy({path:this.getPreMarkerPath(t/2-5*g+y,v+g+5+b,.5*x)},h),name:fy});var w=p.offsetX||0,E=p.offsetY||0,_=(p.scale||1)*g;this.controllerGroup.addShape("path",{attrs:gy({path:this.getNextMarkerPath(t/2+5*g+w,v+g+5+E,.5*_)},p),name:ly}),m.toBack(),this.renderSpeedBtn(),i||this.renderToggleTime(),this.bindEvent();var S=this.controllerCfg.scale,k=void 0===S?1:S,T=this.controllerGroup.getCanvasBBox(),C=(T.maxX+T.minX)/2,M=(T.maxY+T.minY)/2,N=vy([1,0,0,0,1,0,0,0,1],[["t",-C,-M],["s",k,k],["t",C,M]]);this.controllerGroup.setMatrix(N)},e.prototype.renderSpeedBtn=function(){var e=this.controllerCfg,t=e.y,n=e.width,r=e.hideTimeTypeController,o=gy(gy({},xy),this.controllerCfg.speedControllerStyle||{}),i=o.scroller,a=void 0===i?{}:i,s=o.text,u=void 0===s?{}:s,c=o.pointer,l=void 0===c?{}:c,f=o.scale,d=void 0===f?1:f,h=o.offsetX,p=void 0===h?0:h,g=o.offsetY,v=void 0===g?0:g,m=this.controllerGroup.addGroup({name:"speed-group"});this.speedGroup=m;var y=[],b=5;this.speedAxisY=[19,22,26,32,39];for(var x=0;x<5;x++){var w=t+this.speedAxisY[x],E=n-(r?_y:110);m.addShape("line",{attrs:gy({x1:E,x2:E+15,y1:w,y2:w},a),speed:b,name:"speed-rect"}),this.speedAxisY[x]=w,y.push(b),b-=1}this.speedText=m.addShape("text",{attrs:gy({x:n-(r?_y:110)+20,y:this.speedAxisY[0]+4,text:"1.0X",fontFamily:this.fontFamily||"Arial, sans-serif"},u),name:"speed-text"}),this.speedPoint=m.addShape("path",{attrs:gy({path:this.getPointerPath(n-(r?_y:110),0),matrix:[1,0,0,0,1,0,0,this.speedAxisY[4],1]},l),name:"speed-pointer"});var _=this.speedGroup.getCanvasBBox(),S=(_.maxX+_.minX)/2,k=(_.maxY+_.minY)/2,T=this.speedGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];T=vy(T,[["t",-S,-k],["s",d,d],["t",S+p*d,k+v*d]]),this.speedGroup.setMatrix(T)},e.prototype.getPointerPath=function(e,t){return[["M",e,t],["L",e-10,t-4],["L",e-10,t+4],["Z"]]},e.prototype.renderToggleTime=function(){var e,t=this.controllerCfg.width,n=gy(gy({},wy),this.controllerCfg.timeTypeControllerStyle||{}),r=n.scale,o=void 0===r?1:r,i=n.offsetX,a=void 0===i?0:i,s=n.offsetY,u=void 0===s?0:s,c=n.box,l=void 0===c?{}:c,f=n.check,d=void 0===f?{}:f,h=n.text,p=void 0===h?{}:h;this.toggleGroup=this.controllerGroup.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:gy({x:t-_y,y:this.speedAxisY[0]+3.5},l),isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:gy({path:[["M",t-_y+3,this.speedAxisY[1]+6],["L",t-_y+7,this.speedAxisY[1]+10],["L",t-_y+12,this.speedAxisY[1]+4]]},d),capture:!1,name:"check-icon"}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:gy({text:(null===(e=this.controllerCfg)||void 0===e?void 0:e.timePointControllerText)||"\u5355\u4e00\u65f6\u95f4",x:t-_y+15,y:this.speedAxisY[0]+4,fontFamily:"undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},p),name:"checked-text"});var g=this.toggleGroup.getCanvasBBox(),v=(g.maxX+g.minX)/2,m=(g.maxY+g.minY)/2,y=this.toggleGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];y=vy(y,[["t",-v,-m],["s",o,o],["t",v+a*o,m+u*o]]),this.toggleGroup.setMatrix(y)},e.prototype.bindEvent=function(){var e=this;this.speedGroup.on("speed-rect:click",(function(t){var n=t.target.attr("y1"),r=e.speedPoint.attr("matrix"),o=e.speedAxisY.indexOf(r[7]||0),i=e.speedAxisY.indexOf(n),a=e.speedAxisY[i]-e.speedAxisY[o];r=vy(r,[["t",0,a]]),e.speedPoint.setMatrix(r),e.currentSpeed=e.speedAxisY.length-i,e.speedText.attr("text","".concat(e.currentSpeed,".0X")),e.group.emit(uy,{speed:e.currentSpeed,type:e.currentType})})),this.speedGroup.on("mousewheel",(function(t){t.preventDefault();var n=e.speedPoint.attr("matrix")||[1,0,0,0,1,0,0,0,1],r=n[7],o=e.speedAxisY.indexOf(r);if(-1===o){var i=1/0;e.speedAxisY.forEach((function(e,t){var n=Math.abs(e-r);i>n&&(i=n,o=t)}))}o=t.originalEvent.deltaY>0?Math.max(0,o-1):Math.min(e.speedAxisY.length-1,o+1);var a=e.speedAxisY[o]-r;n=vy(n,[["t",0,a]]),e.speedPoint.setMatrix(n),e.currentSpeed=e.speedAxisY.length-o,e.speedText.attr("text","".concat(e.currentSpeed,".0X")),e.group.emit(uy,{speed:e.currentSpeed,type:e.currentType})})),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",(function(t){var n,r,o=t.target.get("isChecked");o?(e.checkedIcon.hide(),e.checkedText.attr("text",(null===(r=e.controllerCfg)||void 0===r?void 0:r.timePointControllerText)||"\u5355\u4e00\u65f6\u95f4"),e.currentType="range"):(e.checkedIcon.show(),e.checkedText.attr("text",(null===(n=e.controllerCfg)||void 0===n?void 0:n.timeRangeControllerText)||"\u65f6\u95f4\u8303\u56f4"),e.currentType="single"),t.target.set("isChecked",!o),e.group.emit(uy,{type:e.currentType,speed:e.currentSpeed})}))},e.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},e}(),ky=Sy,Ty=function(){return Ty=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ty.apply(this,arguments)},Cy=Mn,My={fill:"#416180",opacity:.05},Ny={fill:"#416180",opacity:.15,radius:5},Ay={fill:"#5B8FF9",opacity:.3,cursor:"grab"},Py={width:2,height:24},Oy={textBaseline:"middle",fill:"#000",opacity:.45},Iy={textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35},Dy={lineWidth:1,stroke:"#ccc"},Ry=function(){function e(e){var t=this;this.prevX=0,this.onMouseDown=function(e){return function(n){t.currentHandler=e;var r=n.originalEvent;r.stopPropagation(),r.preventDefault(),t.prevX=(0,vn.get)(r,"touches.0.pageX",r.pageX);var o=t.canvas.get("container");o.addEventListener("mousemove",t.onMouseMove),o.addEventListener("mouseup",t.onMouseUp),o.addEventListener("mouseleave",t.onMouseUp),o.addEventListener("touchmove",t.onMouseMove),o.addEventListener("touchend",t.onMouseUp),o.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(e){e.stopPropagation(),e.preventDefault();var n=(0,vn.get)(e,"touches.0.pageX",e.pageX),r=n-t.prevX,o=t.adjustOffsetRange(r/t.width);t.updateStartEnd(o),t.updateUI(),t.prevX=n},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var e=t.canvas.get("container");e&&(e.removeEventListener("mousemove",t.onMouseMove),e.removeEventListener("mouseup",t.onMouseUp),e.removeEventListener("mouseleave",t.onMouseUp),e.removeEventListener("touchmove",t.onMouseMove),e.removeEventListener("touchend",t.onMouseUp),e.removeEventListener("touchcancel",t.onMouseUp))};var n=e.x,r=void 0===n?0:n,o=e.y,i=void 0===o?0:o,a=e.width,s=void 0===a?100:a,u=e.height,c=e.padding,l=void 0===c?10:c,f=e.trendCfg,d=e.controllerCfg,h=void 0===d?{speed:1}:d,p=e.backgroundStyle,g=void 0===p?{}:p,v=e.foregroundStyle,m=void 0===v?{}:v,y=e.handlerStyle,b=void 0===y?{}:y,x=e.textStyle,w=void 0===x?{}:x,E=e.start,_=void 0===E?0:E,S=e.end,k=void 0===S?1:S,T=e.minText,C=void 0===T?"":T,M=e.maxText,N=void 0===M?"":M,A=e.group,P=e.graph,O=e.canvas,I=e.tick,D=void 0===I?{tickLabelStyle:{},tickLineStyle:{},tickLabelFormatter:function(e){return e},ticks:[]}:I,R=e.type;this.graph=P,this.canvas=O,this.group=A,this.timeBarType=R,this.x=r,this.y=i,this.width=s,this.height=u,this.padding=l,this.ticks=D.ticks,this.trendCfg=f,this.controllerCfg=h,this.currentSpeed=h.speed||1,this.tickLabelFormatter=D.tickLabelFormatter,"trend"===R?this.backgroundStyle=Ty(Ty({},My),g):"simple"===R&&(this.backgroundStyle=Ty(Ty({},Ny),g)),this.foregroundStyle=Ty(Ty({},Ay),m),this.handlerStyle=Ty(Ty({},Py),b),this.textStyle=Ty(Ty({},Oy),w),this.tickLabelStyle=Ty(Ty({},Iy),D.tickLabelStyle),this.tickLineStyle=Ty(Ty({},Dy),D.tickLineStyle),this.currentMode="range",this.start=_,this.end=k,this.minText=C,this.maxText=N,this.fontFamily="undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return e.prototype.update=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.minText,a=e.maxText,s=e.start,u=e.end;this.start=Math.min(1,Math.max(s,0)),this.end=Math.min(1,Math.max(u,0)),(0,vn.assign)(this,{x:t,y:n,width:r,height:o,minText:i,maxText:a}),this.updateUI()},e.prototype.setText=function(e,t){this.minTextShape.attr("text",e),this.maxTextShape.attr("text",t)},e.prototype.renderSlider=function(){var e=this,t=this,n=t.width,r=t.height,o=t.timeBarType;if("trend"===o&&(0,vn.size)((0,vn.get)(this.trendCfg,"data"))){var i=new Qm(Ty(Ty({x:this.x,y:this.y,width:n,height:r},this.trendCfg),{group:this.group}));this.trendComponent=i}var a=this.group.addGroup({name:"slider-group"});a.addShape("rect",{attrs:Ty({x:0,y:0,width:n,height:r},this.backgroundStyle),name:"background"});var s=this.group.addGroup();"trend"===o?(this.minTextShape=s.addShape("text",{attrs:Ty({x:0,y:r/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=s.addShape("text",{attrs:Ty({y:r/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})):(this.minTextShape=s.addShape("text",{attrs:Ty({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=s.addShape("text",{attrs:Ty({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:Ty({x:0,y:this.y,height:r},this.foregroundStyle),name:"foreground-shape"}),this.foregroundShape.on("mousedown",(function(e){e.target.attr("cursor","grabbing")})),this.foregroundShape.on("mouseup",(function(t){t.target.attr("cursor",e.foregroundStyle.cursor||"grab")}));var u=(0,vn.get)(this.handlerStyle,"width",2),c=(0,vn.get)(this.handlerStyle,"height",24),l=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new oy({name:"minHandlerShape",group:l,type:o,x:this.x,y:this.y,width:u,height:c,style:this.handlerStyle});var f=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new oy({name:"maxHandlerShape",group:f,type:o,x:this.x,y:this.y,width:u,height:c,style:this.handlerStyle});var d=this.ticks,h=n/(d.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach((function(e){e.destroy()}));var p=-1/0,g=this.tickLabelStyle.rotate;delete this.tickLabelStyle.rotate,this.textList=d.map((function(t,n){var o;e.tickPosList.push(e.x+n*h),e.tickLabelFormatter?(o=e.tickLabelFormatter(t),!(0,vn.isString)(o)&&o&&(o=t.date)):o=t.date;var i=e.x+n*h,a=e.y+r+5,s=e.group.addShape("text",{attrs:Ty({x:i,y:a,text:o,fontFamily:e.fontFamily||"Arial, sans-serif"},e.tickLabelStyle),name:"tick-label"});if((0,vn.isNumber)(g)&&n!==d.length-1){var u=Cy([1,0,0,0,1,0,0,0,1],[["t",-i,-a],["r",g],["t",i-5,a+2]]);s.attr({textAlign:"left",matrix:u})}0===n?s.attr({textAlign:"left"}):n!==d.length-1&&s.attr({textAlign:"right"});var c=e.group.addShape("line",{attrs:Ty({x1:e.x+n*h,y1:e.y+r+2,x2:e.x+n*h,y2:e.y+r+6},e.tickLineStyle),name:"tick-line"});c.toBack();var l=s.getBBox();return l.minX>p?(s.show(),c.show(),p=l.minX+l.width+10):(s.hide(),c.hide()),s})),this.controllerBtnGroup=new ky(Ty({group:this.group,x:this.x,y:this.y+r+25,width:n,height:35},this.controllerCfg)),this.updateStartEnd(0),this.updateUI(),a.move(this.x,this.y),this.bindEvents()},e.prototype.bindEvents=function(){var e=this,t=this.group.find((function(e){return"minHandlerShape"===e.get("name")}));t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var n=this.group.find((function(e){return"maxHandlerShape"===e.get("name")}));n&&(n.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),n.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on("".concat(cy,":click"),(function(){e.isPlay=!e.isPlay,e.currentHandler=e.maxHandlerShape,e.changePlayStatus()})),this.group.on("".concat(ly,":click"),(function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(.01),e.updateUI()})),this.group.on("".concat(fy,":click"),(function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(-.01),e.updateUI()})),this.group.on(uy,(function(t){var n=t.type,r=t.speed;e.currentSpeed=r,e.currentMode=n,"single"===n?(e.minHandlerShape.hide(),e.foregroundShape.hide(),e.minTextShape.hide()):"range"===n&&(e.minHandlerShape.show(),e.foregroundShape.show(),e.minTextShape.show())}))},e.prototype.adjustTickIndex=function(e){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=e&&e<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-e)<Math.abs(e-this.tickPosList[t+1])?t:t+1;return 0},e.prototype.adjustOffsetRange=function(e){switch(this.currentHandler){case this.minHandlerShape:var t=0-this.start,n=1-this.start;return Math.min(n,Math.max(t,e));case this.maxHandlerShape:t=0-this.end,n=1-this.end;return Math.min(n,Math.max(t,e));case this.foregroundShape:t=0-this.start,n=1-this.end;return Math.min(n,Math.max(t,e));default:return 0}},e.prototype.updateStartEnd=function(e){var t=this.ticks[this.adjustTickIndex(this.start*this.width)],n=this.ticks[this.adjustTickIndex(this.end*this.width)];if(!this.currentHandler)return this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):null===t||void 0===t?void 0:t.date,void(this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):null===n||void 0===n?void 0:n.date);switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=e,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date;break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=e,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date;break;case this.foregroundShape:this.start+=e,this.end+=e,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date}},e.prototype.updateUI=function(){var e=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.x+this.start*this.width,n=this.x+this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",n-t);var r=(0,vn.get)(this.handlerStyle,"width",2);this.setText(this.minText,this.maxText);var o=this.dodgeText([t,n]),i=o[0],a=o[1];this.minHandlerShape.setX(t-r/2),(0,vn.each)(i,(function(t,n){return e.minTextShape.attr(n,t)})),this.maxHandlerShape.setX(n-r/2),(0,vn.each)(a,(function(t,n){return e.maxTextShape.attr(n,t)})),"range"===this.currentMode?this.graph.emit(sy,{value:[this.start,this.end].sort()}):"single"===this.currentMode&&this.graph.emit(sy,{value:[this.end,this.end]})},e.prototype.dodgeText=function(e){var t,n,r=(0,vn.get)(this.handlerStyle,"width",2),o=this.minTextShape,i=this.maxTextShape,a=e[0],s=e[1],u=!1;a>s&&(a=(t=[s,a])[0],s=t[1],o=(n=[i,o])[0],i=n[1],u=!0);var c=o.getBBox(),l=i.getBBox(),f=null,d=null;return"trend"===this.timeBarType?(f=a-c.width<this.x+2?{x:a+r/2+2,textAlign:"left"}:{x:a-r/2-2,textAlign:"right"},d=s+l.width>this.x+this.width?{x:s-r/2-2,textAlign:"right"}:{x:s+r/2+2,textAlign:"left"}):"simple"===this.timeBarType&&(f=o.attr("x")>c.width?{x:a,textAlign:"center"}:{x:a,textAlign:"left"},d=i.attr("x")>this.width-l.width?{x:s,textAlign:"right"}:{x:s,textAlign:"center"}),u?[d,f]:[f,d]},e.prototype.startPlay=function(){var e=this;return"undefined"!==typeof window?window.requestAnimationFrame((function(){var t=e,n=t.ticks,r=t.width,o=e.currentSpeed,i=r/n.length/(1e3*(10-o)/60),a=e.adjustOffsetRange(i/e.width);e.updateStartEnd(a),e.updateUI(),e.isPlay&&(e.playHandler=e.startPlay())})):void 0},e.prototype.changePlayStatus=function(e){void 0===e&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(iy,null)):this.playHandler&&("undefined"!==typeof window&&window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(ay,null))},e.prototype.destory=function(){this.graph.off(sy);var e=this.group,t=e.find((function(e){return"minHandlerShape"===e.get("name")}));t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var n=e.find((function(e){return"maxHandlerShape"===e.get("name")}));n&&(n.off("maxHandlerShape-handler:mousedown"),n.off("maxHandlerShape-handler:touchstart"),n.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),e.off("".concat(cy,":click")),e.off("".concat(ly,":click")),e.off("".concat(fy,":click")),e.off(uy),e.destroy(),this.trendComponent&&this.trendComponent.destory()},e}(),Ly=Ry,jy=function(){function e(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,i=e.container,a=e.text,s=e.padding,u=void 0===s?[4,4,4,4]:s,c=e.className,l=void 0===c?"g6-component-timebar-tooltip":c,f=e.backgroundColor,d=void 0===f?"#000":f,h=e.textColor,p=void 0===h?"#fff":h,g=e.opacity,v=void 0===g?.8:g,m=e.fontSize,y=void 0===m?12:m;this.container=i,this.className=l,this.backgroundColor=d,this.textColor=p,this.x=n,this.y=o,this.text=a,this.padding=u,this.opacity=v,this.fontSize=y,this.render()}return e.prototype.render=function(){var e=this,t=e.className,n=(e.x,e.y,e.backgroundColor),r=e.textColor,o=e.text,i=e.padding,a=e.opacity,s=e.fontSize,u=e.container,c=mg("<div class='".concat(t,"' style=\"position: absolute; width: fit-content; height: fit-content; opacity: ").concat(a,'"></div>'));(0,vn.isString)(u)&&(u=document.getElementById(u)),u.appendChild(c),e.parentHeight=u.offsetHeight,e.parentWidth=u.offsetWidth,kg(c,{visibility:"hidden",top:0,left:0});var l=mg("\n      <div style='position: absolute; white-space:nowrap; background-color: ".concat(n,"; font-size: ").concat(s,"px; border-radius: 4px; width: fit-content; height: fit-content; color: ").concat(r,"; padding: ").concat(i[0],"px ").concat(i[1],"px ").concat(i[2],"px ").concat(i[3],"px'></div>"));l.innerHTML=o,c.appendChild(l),e.backgroundDOM=l;var f=mg("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid ".concat(n,"'></div>"));c.appendChild(f),e.arrowDOM=f,e.container=c},e.prototype.show=function(e){var t=this,n=e.text,r=e.x;e.y,e.clientX,e.clientY;t.backgroundDOM.innerHTML=n;var o=t.backgroundDOM.offsetWidth,i=t.backgroundDOM.offsetHeight,a=t.arrowDOM.offsetWidth,s=t.arrowDOM.offsetHeight;kg(t.container,{top:"".concat(-i-s,"px"),left:"".concat(r,"px"),visibility:"visible"}),kg(t.backgroundDOM,{marginLeft:"".concat(-o/2,"px")}),kg(t.arrowDOM,{marginLeft:"".concat(-a/2,"px"),top:"".concat(i,"px")});var u=r-o/2,c=r+o/2;u<0?kg(t.backgroundDOM,{marginLeft:"".concat(-o/2-u,"px")}):c>t.parentWidth&&kg(t.backgroundDOM,{marginLeft:"".concat(-o/2-c+t.parentWidth+12,"px")})},e.prototype.hide=function(){kg(this.container,{top:0,left:0,visibility:"hidden"})},e}(),Fy=jy,By=function(){return By=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},By.apply(this,arguments)},zy=Mn,Gy={fill:"#5B8FF9"},Vy={fill:"#e6e8e9"},Uy=function(){function e(e){this.frameCount=0,this.fontFamily="Arial, sans-serif";var t=e.graph,n=e.canvas,r=e.group,o=e.width,i=e.height,a=e.padding,s=e.data,u=e.start,c=e.end,l=e.x,f=void 0===l?0:l,d=e.y,h=void 0===d?0:d,p=e.tickLabelFormatter,g=e.selectedTickStyle,v=void 0===g?Gy:g,m=e.unselectedTickStyle,y=void 0===m?Vy:m,b=e.tooltipBackgroundColor,x=e.tooltipFomatter,w=e.tickLabelStyle;this.graph=t,this.group=r,this.sliceGroup=r.addGroup({name:"slice-group"}),this.canvas=n,this.width=o,this.height=i,this.padding=a,this.data=s,this.start=u,this.end=c,this.tickLabelFormatter=p,this.tickLabelStyle=w||{},this.selectedTickStyle=v,this.unselectedTickStyle=y,this.x=f,this.y=h,this.tooltipBackgroundColor=b,this.tooltipFomatter=x,this.fontFamily="undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return e.prototype.renderSlices=function(){var e=this,t=this,n=t.width,r=t.height,o=t.padding,i=t.data,a=t.start,s=t.end,u=t.tickLabelFormatter,c=t.selectedTickStyle,l=t.unselectedTickStyle,f=t.tickLabelStyle,d=n-2*o,h=r-(3*o+4+10)-2*o,p=i.length,g=(d-2*(p-1))/p;this.tickWidth=g;var v=this.sliceGroup,m=[],y=[],b=Math.round(p*a),x=Math.round(p*s);this.startTickRectId=b,this.endTickRectId=x;var w=f.rotate;delete f.rotate,i.forEach((function(t,r){var i=r>=b&&r<=x?c:l,a=v.addShape("rect",{attrs:By({x:o+r*(g+2),y:o,width:g,height:h},i),draggable:!0,name:"tick-rect-".concat(r)}),s=v.addShape("rect",{attrs:{x:o+r*g+2*(2*r-1)/2,y:o,width:0===r||r===p-1?g+1:g+2,height:h,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-".concat(r)});s.toFront();var d,E=a.getBBox(),_=(E.minX+E.maxX)/2;if(m.push({rect:a,pickRect:s,value:t.date,x:_,y:E.minY}),u?(d=u(t),!(0,vn.isString)(d)&&d&&(d=t.date)):r%Math.round(p/10)===0&&(d=t.date),d){y.push(d);var S=E.maxY+2*o;v.addShape("line",{attrs:{stroke:"#BFBFBF",x1:_,y1:S,x2:_,y2:S+4},name:"tick-line"});var k=S+4+o,T=v.addShape("text",{attrs:By({fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:_,y:k,textAlign:"center",text:d,textBaseline:"top",fontSize:10,fontFamily:e.fontFamily||"Arial, sans-serif"},f),capture:!1,name:"tick-label"}),C=T.getBBox();if(C.maxX>n?T.attr("textAlign","right"):C.minX<0&&T.attr("textAlign","left"),(0,vn.isNumber)(w)&&10!==y.length){var M=zy([1,0,0,0,1,0,0,0,1],[["t",-_,-k],["r",w],["t",_-5,k+2]]);T.attr({textAlign:"left",matrix:M})}1===y.length?T.attr({textAlign:"left"}):10===y.length&&T.attr({textAlign:"right"})}})),this.tickRects=m;var E=this.group;this.currentSpeed=1,this.controllerBtnGroup=new ky({group:E,x:this.x,y:this.y+r+5,width:n,height:40,hideTimeTypeController:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"})},e.prototype.initEvent=function(){var e=this,t=this.sliceGroup;t.on("click",(function(t){var n=t.target;if("rect"===n.get("type")&&n.get("name")){var r=parseInt(n.get("name").split("-")[2],10);if(!isNaN(r)){var o=e.tickRects,i=e.unselectedTickStyle;o.forEach((function(e){e.rect.attr(i)}));var a=e.selectedTickStyle;o[r].rect.attr(a),e.startTickRectId=r,e.endTickRectId=r;var s=r/o.length;e.graph.emit(sy,{value:[s,s]})}}})),t.on("dragstart",(function(t){var n=e.tickRects,r=e.unselectedTickStyle;n.forEach((function(e){e.rect.attr(r)}));var o=t.target,i=parseInt(o.get("name").split("-")[2],10),a=e.selectedTickStyle;n[i].rect.attr(a),e.startTickRectId=i;var s=i/n.length;e.graph.emit(sy,{value:[s,s]}),e.dragging=!0})),t.on("dragover",(function(t){if(e.dragging&&"rect"===t.target.get("type")){for(var n=parseInt(t.target.get("name").split("-")[2],10),r=e.startTickRectId,o=e.tickRects,i=e.selectedTickStyle,a=e.unselectedTickStyle,s=0;s<o.length;s++){var u=s>=r&&s<=n?i:a;o[s].rect.attr(u)}var c=o.length;e.endTickRectId=n;var l=r/c,f=n/c;e.graph.emit(sy,{value:[l,f]})}})),t.on("drop",(function(t){if(e.dragging&&(e.dragging=!1,"rect"===t.target.get("type"))){var n=e.startTickRectId,r=parseInt(t.target.get("name").split("-")[2],10);if(!(r<n)){var o=e.selectedTickStyle,i=e.tickRects;i[r].rect.attr(o),e.endTickRectId=r;var a=i.length,s=n/a,u=r/a;e.graph.emit(sy,{value:[s,u]})}}}));var n=this,r=n.tooltipBackgroundColor,o=n.tooltipFomatter,i=n.canvas,a=new Fy({container:i.get("container"),backgroundColor:r}),s=this.tickRects;s.forEach((function(e){var t=e.pickRect;t.on("mouseenter",(function(e){var t=e.target;if("rect"===t.get("type")){var n=parseInt(t.get("name").split("-")[2],10),r=i.getClientByPoint(s[n].x,s[n].y);a.show({x:s[n].x,y:s[n].y,clientX:r.x,clientY:r.y,text:o?o(s[n].value):s[n].value})}})),t.on("mouseleave",(function(e){a.hide()}))}));var u=this.group;u.on("".concat(cy,":click"),(function(){e.isPlay=!e.isPlay,e.changePlayStatus()})),u.on("".concat(ly,":click"),(function(){e.updateStartEnd(1)})),u.on("".concat(fy,":click"),(function(){e.updateStartEnd(-1)})),u.on(uy,(function(t){t.type;var n=t.speed;e.currentSpeed=n}))},e.prototype.changePlayStatus=function(e){void 0===e&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(iy,null)):this.playHandler&&("undefined"!==typeof window&&window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(ay,null))},e.prototype.startPlay=function(){var e=this;return"undefined"!==typeof window?window.requestAnimationFrame((function(){var t=e.currentSpeed;e.frameCount%(60/t)===0&&(e.frameCount=0,e.updateStartEnd(1)),e.frameCount++,e.isPlay&&(e.playHandler=e.startPlay())})):void 0},e.prototype.updateStartEnd=function(e){var t=this,n=this.tickRects,r=n.length,o=this.unselectedTickStyle,i=this.selectedTickStyle,a=t.endTickRectId;if(e>0?t.endTickRectId++:(n[t.endTickRectId].rect.attr(o),t.endTickRectId--),a!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var s=t.startTickRectId;s<=t.endTickRectId-1;s++)n[s].rect.attr(o);t.startTickRectId=t.endTickRectId}if(n[t.endTickRectId]){n[t.endTickRectId].rect.attr(i);var u=t.startTickRectId/r,c=t.endTickRectId/r;this.graph.emit(sy,{value:[u,c]})}},e.prototype.destory=function(){this.graph.off(sy);var e=this.sliceGroup;e.off("click"),e.off("dragstart"),e.off("dragover"),e.off("drop"),this.tickRects.forEach((function(e){var t=e.pickRect;t.off("mouseenter"),t.off("mouseleave")})),this.tickRects.length=0,e.off("".concat(cy,":click")),e.off("".concat(ly,":click")),e.off("".concat(fy,":click")),e.off(uy),this.sliceGroup.destroy()},e}(),Wy=Uy,Zy=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yy=function(){return Yy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Yy.apply(this,arguments)},Hy=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Xy=function(e){function t(t){return e.call(this,t)||this}return Zy(t,e),t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:1,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{},filterEdge:!1,filterItemTypes:["node"],containerCSS:{}}},t.prototype.initContainer=function(){var e,t,n=this.get("graph"),r=this._cfgs,o=r.width,i=r.height,a=this.get("className")||"g6-component-timebar",s=this.get("container"),u=this.get("graph").get("container");s?((0,vn.isString)(s)&&(s=document.getElementById(s)),e=s):kg(e=mg("<div class='".concat(a,"'></div>")),{position:"relative"}),u.appendChild(e),this.set("timeBarContainer",e),t="SVG"===n.get("renderer")?new cp({container:e,width:o,height:i}):new rh({container:e,width:o,height:i}),this.get("containerCSS")&&kg(e,this.get("containerCSS")),this.set("canvas",t)},t.prototype.init=function(){this.initContainer();var e=this.get("canvas").addGroup({name:"timebar-group"});this.set("timeBarGroup",e),this.renderTrend(),this.initEvent();var t="undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",t)},t.prototype.renderTrend=function(){var e=this,t=this._cfgs,n=t.width,r=t.x,o=t.y,i=t.padding,a=t.type,s=t.trend,u=t.slider,c=t.controllerCfg,l=t.textStyle,f=t.tick,d=t.backgroundStyle,h=t.foregroundStyle,p=s.data,g=Hy(s,["data"]),v=n-2*i,m="trend"===a?26:4,y=this.get("graph"),b=this.get("timeBarGroup"),x=this.get("canvas"),w=null;if("trend"===a||"simple"===a){var E=this.get("getValue");w=new Ly(Yy(Yy({graph:y,canvas:x,group:b,type:a,x:r+i,y:"trend"===a?o+i:o+i+15,width:v,height:m,padding:i,backgroundStyle:d,foregroundStyle:h,trendCfg:Yy(Yy({},g),{data:p.map((function(e){return(null===E||void 0===E?void 0:E(e))||e.value}))})},u),{tick:{ticks:p,tickLabelFormatter:f.tickLabelFormatter,tickLabelStyle:f.tickLabelStyle,tickLineStyle:f.tickLineStyle},handlerStyle:Yy(Yy({},u.handlerStyle),{height:u.height||m}),controllerCfg:c,textStyle:l}))}else"tick"===a&&(w=new Wy(Yy({graph:y,canvas:x,group:b,x:r+i,y:o+i,width:n,height:42,padding:2},f)));var _=function t(){var n=e.get("timebar");n.draggingHandler=!1,n.isPlay&&(n.isPlay=!1,n.currentHandler=n.maxHandlerShape,n.changePlayStatus()),document.removeEventListener("mouseup",t)};x.on("mousedown",(function(e){"maxHandlerShape-handler"!==e.target.get("name")&&"minHandlerShape-handler"!==e.target.get("name")&&e.target!==w.foregroundShape||document.addEventListener("mouseup",_)})),this.set("timebar",w)},t.prototype.filterData=function(e){var t,n=e.value,r=null,o=this._cfgs.type;if("trend"===o||"simple"===o?r=this._cfgs.trend.data:"tick"===o&&(r=this._cfgs.tick.data),r&&0!==r.length){var i=this.get("rangeChange"),a=this.get("graph"),s=Math.round(r.length*n[0]),u=Math.round(r.length*n[1]);u=u>=r.length?r.length-1:u,s=s>=r.length?r.length-1:s;var c=null===(t=this._cfgs.tick)||void 0===t?void 0:t.tickLabelFormatter,l=c?c(r[s]):r[s].date,f=c?c(r[u]):r[u].date;if("tick"!==o)this.get("timebar").setText(l,f);if(i)i(a,l,f);else{(!this.cacheGraphData||this.cacheGraphData.nodes&&0===this.cacheGraphData.nodes.length)&&(this.cacheGraphData=a.get("data"));var d=this.get("filterItemTypes"),h=this.get("changeData"),p=this.get("getDate"),g=this.get("shouldIgnore"),v=r[s].date,m=r[u].date;if(h||void 0===h){var y=this.cacheGraphData.nodes,b=this.cacheGraphData.edges;if(d.includes("node")){y=y.filter((function(e){var t=+((null===p||void 0===p?void 0:p(e))||e.date);return t>=v&&t<=m||(null===g||void 0===g?void 0:g("node",e,{min:v,max:m}))}));var x=y.map((function(e){return e.id}));b&&(b=b.filter((function(e){return x.includes(e.source)&&x.includes(e.target)||(null===g||void 0===g?void 0:g("edge",e,{min:v,max:m}))})))}(this.get("filterEdge")||d.includes("edge"))&&(b=b.filter((function(e){var t=+((null===p||void 0===p?void 0:p(e))||e.date);return t>=v&&t<=m||(null===g||void 0===g?void 0:g("edge",e,{min:v,max:m}))}))),a.changeData({nodes:y,edges:b})}else d.includes("node")&&a.getNodes().forEach((function(e){var t=e.getModel();if(!(null===g||void 0===g?void 0:g("node",t,{min:v,max:m}))){var n=+((null===p||void 0===p?void 0:p(t))||t.date);n<v||n>m?a.hideItem(e):a.showItem(e)}})),(this.get("filterEdge")||d.includes("edge"))&&a.getEdges().forEach((function(e){var t=e.getModel();if(!(null===g||void 0===g?void 0:g("edge",t,{min:r[s].date,max:r[u].date}))){var n=+((null===p||void 0===p?void 0:p(t))||t.date);n<r[s].date||n>r[u].date?a.hideItem(e):a.showItem(e)}}))}}else console.warn("\u8bf7\u914d\u7f6e TimeBar \u7ec4\u4ef6\u7684\u6570\u636e")},t.prototype.initEvent=function(){var e=this,t=0,n=0,r=this._cfgs.type;r&&"trend"!==r&&"simple"!==r?"tick"===r&&(t=this._cfgs.tick.start,n=this._cfgs.tick.end):(t=this._cfgs.slider.start,n=this._cfgs.slider.end);var o=this.get("graph");o.on("afterrender",(function(r){e.filterData({value:[t,n]})})),o.on(sy,(0,vn.throttle)((function(t){e.filterData(t)}),200,{trailing:!0,leading:!0}))},t.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),e.prototype.destroy.call(this);var n=this.get("timeBarContainer");if(n){var r=this.get("container");r||(r=this.get("graph").get("container")),(0,vn.isString)(r)&&(r=document.getElementById(r)),r.removeChild(n)}},t}(Cg),Ky=Xy,qy=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$y=kf.applyMatrix;var Jy=function(e){function t(t){return e.call(this,t)||this}return qy(t,e),t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},t.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},t.prototype.disableRefresh=function(){this.set("refresh",!1)},t.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},t.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},t.prototype.initViewport=function(){var e=this,t=this._cfgs,n=t.graph;if(!this.destroyed){var r=this.get("container");(0,vn.isString)(r)&&(r=document.getElementById(r));var o=mg("<div class=".concat(t.viewportClassName,"\n      style='position:absolute;\n        left:0;\n        top:0;\n        box-sizing:border-box;\n        border: 2px solid #1980ff'>\n      </div>")),i=0,a=0,s=!1,u=0,c=0,l=0,f=0,d=0,h=0;r.addEventListener("mousedown",(function(r){if(t.refresh=!1,r.target===o){var u=o.style;l=parseInt(u.width,10),f=parseInt(u.height,10);var c=e.get("width"),p=e.get("height");l>c||f>p||(h=n.getZoom(),d=e.get("ratio"),s=!0,i=r.clientX,a=r.clientY)}}),!1),r.addEventListener("mousemove",(function(t){if(s&&!(0,vn.isNil)(t.clientX)&&!(0,vn.isNil)(t.clientY)){var r=e.get("width"),p=e.get("height"),g=o.style;u=parseInt(g.left,10),c=parseInt(g.top,10),l=parseInt(g.width,10),f=parseInt(g.height,10);var v=i-t.clientX,m=a-t.clientY;u-v<0?v=u:u-v+l>=r&&(v=0),c-m<0?m=c:c-m+f>=p&&(m=0),c-=m,kg(o,{left:"".concat(u-=v,"px"),top:"".concat(c,"px")}),n.translate(v*h/d,m*h/d),i=t.clientX,a=t.clientY}}),!1),r.addEventListener("mouseleave",(function(){s=!1,t.refresh=!0}),!1),r.addEventListener("mouseup",(function(){s=!1,t.refresh=!0}),!1),this.set("viewport",o),r.appendChild(o)}},t.prototype.updateViewport=function(){if(!this.destroyed){var e=this.get("ratio"),t=this.get("width"),n=this.get("height"),r=this.get("graph"),o=r.get("width"),i=o/r.get("height"),a=r.getGroup(),s=a.getCanvasBBox(),u=[(s.minX+s.maxX)/2,(s.minY+s.maxY)/2],c=[s.maxX-s.minX,s.maxY-s.minY],l={centerX:u[0],centerY:u[1],width:0,height:0,minX:0,minY:0};s[0]/s[1]>i?(l.width=c[0],l.height=l.width/i):(l.height=c[1],l.width=l.height*i),l.minX=u[0]-l.width/2,l.minY=u[1]-l.height/2;var f=a.getMatrix();f||(f=[1,0,0,0,1,0,0,0,1]);var d=_n.invert([1,0,0,0,1,0,0,0,1],f),h=$y({x:l.minX,y:l.minY},d),p=r.getCanvasByPoint(h.x,h.y),g=this.get("viewport");g||this.initViewport();var v=o/l.width,m=v*t,y=v*n,b=t*-p.x/l.width,x=n*-p.y/l.height,w=b+m,E=x+y;b<0&&(m+=b,b=0),w>t&&(m-=w-t),x<0&&(y+=x,x=0),E>n&&(y-=E-n),this.set("ratio",e),kg(g,{left:"".concat(b,"px"),top:"".concat(x,"px"),width:"".concat(m,"px"),height:"".concat(y,"px")})}},t.prototype.init=function(){this.initContainer()},t.prototype.initContainer=function(){var e=this,t=e.get("graph"),n=t.get("width"),r=t.get("height")/n,o=e.get("className"),i=e.get("container"),a=e.get("width"),s=e.get("height");a||s||(a=200),a?(s=r*a,e.set("height",s)):(a=1/r*s,e.set("width",a));var u=mg("<div class='".concat(o,"' style='width: ").concat(a,"px; height: ").concat(s,"px; overflow: hidden; position: relative;'></div>"));(0,vn.isString)(i)&&(i=document.getElementById(i)),i?i.appendChild(u):t.get("container").appendChild(u),e.set("container",u);var c=mg('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');u.appendChild(c);var l=mg('<span style="display: table-cell; vertical-align: middle; "></span>');c.appendChild(l),e.set("containerDOM",c),e.set("containerSpan",l);var f=mg('<img alt="" src="'.concat(this.get("graphImg"),'" style="display: inline-block; user-select: none;" draggable="false" />'));e.set("imgDOM",f),e.updateImgSize(),l.appendChild(f),e.updateCanvas()},t.prototype.updateImgSize=function(){var e=this,t=e.get("imgDOM"),n=e.get("width"),r=e.get("height");t.onload=function(){var e=function(e,t){var n,r;if(e.naturalWidth)n=e.naturalWidth,r=e.naturalHeight;else{var o=new Image;o.src=e.src,o.onload=function(){t&&t(o.width,o.height)}}return[n,r]}(t);e[0]>e[1]?t.width=n:t.height=r}},t.prototype.updateCanvas=function(){if(this.get("refresh")){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var t=this.get("width")/e.get("canvas").getCanvasBBox().width;this.set("ratio",t),this.updateViewport()}}},t.prototype.getViewport=function(){return this.get("viewport")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.updateGraphImg=function(e){var t=this;t.get("imgDOM").remove(),t.set("graphImg",e);var n=mg('<img alt="" src="'.concat(e,'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>'));t.set("imgDOM",n),n.src=e,t.updateImgSize(),t.get("containerSpan").appendChild(n),t.updateCanvas()},t.prototype.destroy=function(){var e=this.get("container");e.parentNode.removeChild(e)},t}(Cg),Qy=Jy,eb=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tb=function(){return tb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},tb.apply(this,arguments)},nb=kf.distance,rb={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},ob=function(e){function t(t){return e.call(this,t)||this}return eb(t,e),t.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,vn.clone)(rb),showLabel:"edge",scaleRBy:"wheel"}},t.prototype.getEvents=function(){var e;switch(this.get("trigger")){case"click":e={click:"filter"};break;case"drag":e={click:"createDelegate"};break;default:e={mousemove:"filter"}}return e},t.prototype.init=function(){var e=this,t=e.get("showLabel"),n="node"===t||"both"===t,r="edge"===t||"both"===t;e.set("showNodeLabel",n),e.set("showEdgeLabel",r),e.get("shouldShow")||e.set("shouldShow",(function(){return!0}))},t.prototype.createDelegate=function(e){var t=this,n=t.get("delegate");n&&!n.destroyed||(t.filter(e),(n=t.get("delegate")).on("dragstart",(function(e){})),n.on("drag",(function(e){t.filter(e)})),"wheel"===this.get("scaleRBy")&&n.on("mousewheel",(function(e){t.scaleRByWheel(e)})))},t.prototype.scaleRByWheel=function(e){var t=this;if(e&&e.originalEvent){e.preventDefault&&e.preventDefault();var n,r=t.get("graph"),o=t.get("delegate");(o?{x:o.attr("x"),y:o.attr("y")}:void 0)||r.getPointByClient(e.clientX,e.clientY);n=e.originalEvent.wheelDelta<0?.95:1/.95;var i=t.get("maxR"),a=t.get("minR"),s=t.get("r");(s>(i||r.get("height"))&&n>1||s<(a||.05*r.get("height"))&&n<1)&&(n=1),s*=n,t.set("r",s),t.filter(e)}},t.prototype.filter=function(e){var t=this,n=t.get("graph"),r=n.getNodes(),o={},i=t.get("r"),a=t.get("type"),s={x:e.x,y:e.y};t.updateDelegate(s,i);var u=t.get("shouldShow"),c=t.get("vShapes");c&&c.forEach((function(e){e.remove(),e.destroy()})),c=[],r.forEach((function(e){var t=e.getModel(),n=t.x,r=t.y;nb({x:n,y:r},s)<i&&(o[t.id]=e)}));var l=n.getEdges(),f=[];l.forEach((function(e){var t=e.getModel(),n=t.source,r=t.target;u(t)&&("only-source"===a||"one"===a?o[n]&&!o[r]&&f.push(e):"only-target"===a||"one"===a?o[r]&&!o[n]&&f.push(e):"both"===a&&o[n]&&o[r]&&f.push(e))}));var d=t.get("showNodeLabel"),h=t.get("showEdgelabel"),p=n.get("group");f.forEach((function(e){e.get("group").get("children").forEach((function(e){var t=e.get("type"),n=p.addShape(t,{attrs:e.attr()});c.push(n),d&&"text"===t&&n.set("visible",!0)}))})),Object.keys(o).forEach((function(e){var t=o[e].get("group").clone();if(p.add(t),c.push(t),h)for(var n=t.get("children"),r=0;r<n.length;r++){var i=n[r];"text"===i.get("type")&&i.set("visible",!0)}})),t.set("vShapes",c)},t.prototype.updateParams=function(e){var t=this,n=e.r,r=e.trigger,o=e.minR,i=e.maxR,a=e.scaleRBy,s=e.showLabel,u=e.shouldShow;if(isNaN(e.r)||t.set("r",n),isNaN(i)||t.set("maxR",i),isNaN(o)||t.set("minR",o),"mousemove"!==r&&"click"!==r||t.set("trigger",r),"wheel"===a||"unset"===a){t.set("scaleRBy",a),t.get("delegate").remove(),t.get("delegate").destroy();var c=t.get("dPercentText");c&&(c.remove(),c.destroy())}"node"!==s&&"both"!==s||t.set("showNodeLabel",!0),"edge"!==s&&"both"!==s||t.set("showEdgeLabel",!0),u&&t.set("shouldShow",u)},t.prototype.updateDelegate=function(e,t){var n=this,r=n.get("graph"),o=n.get("delegate");if(!o||o.destroyed){var i=r.get("group"),a=n.get("delegateStyle")||rb;o=i.addShape("circle",{attrs:tb({r:t,x:e.x,y:e.y},a),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&"wheel"===this.get("scaleRBy")&&o.on("mousewheel",(function(e){n.scaleRByWheel(e)}))}else o.attr({x:e.x,y:e.y,r:t});n.set("delegate",o)},t.prototype.clear=function(){var e=this,t=e.get("vShapes");t&&t.forEach((function(e){e.remove(),e.destroy()})),t=[],e.set("vShapes",t);var n=e.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},t.prototype.destroy=function(){this.clear()},t}(Cg),ib=ob,ab=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sb=kf.pointLineDistance,ub={stroke:"#FA8C16",lineWidth:1},cb=function(e){function t(t){return e.call(this,t)||this}return ab(t,e),t.prototype.getDefaultCfgs=function(){return{line:ub,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},t.prototype.init=function(){},t.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},t.prototype.onDragStart=function(){this.initBoxLine()},t.prototype.onDrag=function(e){var t=e.item,n=(t.get("delegateShape")||t).getBBox(),r=t.getModel(),o=r.x-n.x,i=r.y-n.y;this.show({x:n.minX+o,y:n.minY+i},{width:n.width,height:n.height})},t.prototype.onDragEnd=function(){this.destory()},t.prototype.initBoxLine=function(){var e=this._cfgs,t=e.horizontalLines,n=e.verticalLines,r=e.itemAlignType;this.get("graph").getNodes().forEach((function(e){var o=e.getBBox(),i=e.get("id");!0===r||"horizontal"===r?(t["".concat(i,"tltr")]=[o.minX,o.minY,o.maxX,o.minY,e],t["".concat(i,"lcrc")]=[o.minX,o.centerY,o.maxX,o.centerY,e],t["".concat(i,"blbr")]=[o.minX,o.maxY,o.maxX,o.maxY,e]):"center"===r&&(t["".concat(i,"lcrc")]=[o.minX,o.centerY,o.maxX,o.centerY,e]),!0===r||"vertical"===r?(n["".concat(i,"tlbl")]=[o.minX,o.minY,o.minX,o.maxY,e],n["".concat(i,"tcbc")]=[o.centerX,o.minY,o.centerX,o.maxY,e],n["".concat(i,"trbr")]=[o.maxX,o.minY,o.maxX,o.maxY,e]):"center"===r&&(n["".concat(i,"tcbc")]=[o.centerX,o.minY,o.centerX,o.maxY,e])}))},t.prototype.show=function(e,t){var n=(0,vn.mix)({},e);return this.itemAlign(e,t,n),e},t.prototype.itemAlign=function(e,t,n){var r=this,o=this._cfgs,i=o.horizontalLines,a=o.verticalLines,s=o.tolerance,u={x:n.x+t.width/2,y:n.y},c={x:n.x+t.width/2,y:n.y+t.height/2},l={x:n.x+t.width/2,y:n.y+t.height},f={x:n.x,y:n.y+t.height/2},d={x:n.x+t.width,y:n.y+t.height/2},h=[],p=[],g=null;if(this.clearAlignLine(),(0,vn.each)(i,(function(e){e[4].isVisible&&(h.push(r.getLineDisObject(e,u)),h.push(r.getLineDisObject(e,c)),h.push(r.getLineDisObject(e,l)))})),(0,vn.each)(a,(function(e){e[4].isVisible&&(p.push(r.getLineDisObject(e,f)),p.push(r.getLineDisObject(e,c)),p.push(r.getLineDisObject(e,d)))})),h.sort((function(e,t){return e.dis-t.dis})),p.sort((function(e,t){return e.dis-t.dis})),0!==h.length&&h[0].dis<s){e.y=h[0].line[1]-h[0].point.y+n.y,g={type:"item",horizontals:[h[0]]};for(var v=1;v<3;v++)h[0].dis===h[v].dis&&g.horizontals.push(h[v])}if(0!==p.length&&p[0].dis<s){e.x=p[0].line[0]-p[0].point.x+n.x,g?g.verticals=[p[0]]:g={type:"item",verticals:[p[0]]};for(v=1;v<3;v++)p[0].dis===p[v].dis&&g.verticals.push(p[v])}g&&(g.bbox=t,this.addAlignLine(g))},t.prototype.addAlignLine=function(e){var t=e.bbox,n=e.type,r=e.horizontals,o=e.verticals,i=this._cfgs,a=i.line,s=i.alignLines,u=this.get("graph").get("group");"item"===n&&(r&&(0,vn.each)(r,(function(e){var n,r,o=e.line,i=e.point,c=(o[0]+o[2])/2;i.x<c?(n=i.x-t.width/2,r=Math.max(o[0],o[2])):(n=i.x+t.width/2,r=Math.min(o[0],o[2]));var l=(0,vn.mix)({x1:n,y1:o[1],x2:r,y2:o[1]},a),f=u.addShape("line",{attrs:l,capture:!1});s.push(f)})),o&&(0,vn.each)(o,(function(e){var n,r,o=e.line,i=e.point,c=(o[1]+o[3])/2;i.y<c?(n=i.y-t.height/2,r=Math.max(o[1],o[3])):(n=i.y+t.height/2,r=Math.min(o[1],o[3]));var l=(0,vn.mix)({x1:o[0],y1:n,x2:o[0],y2:r},a),f=u.addShape("line",{attrs:l,capture:!1});s.push(f)})))},t.prototype.getLineDisObject=function(e,t){return{line:e,point:t,dis:sb(e,t)}},t.prototype.getContainer=function(){return this.get("container")},t.prototype.clearAlignLine=function(){var e=this._cfgs.alignLines;(0,vn.each)(e,(function(e){e.remove()})),e.length=0},t.prototype.destory=function(){var e=this._cfgs,t=e.horizontalLines,n=e.verticalLines;this.get("graph").getNodes().forEach((function(e){var r=e.get("id");delete t["".concat(r,"tltr")],delete t["".concat(r,"lcrc")],delete t["".concat(r,"blbr")],delete n["".concat(r,"tlbl")],delete n["".concat(r,"tcbc")],delete n["".concat(r,"trbr")]})),this.clearAlignLine()},t}(Cg),lb=cb,fb=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),db=function(){return db=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},db.apply(this,arguments)},hb=["click","mouseenter"],pb=function(e){function t(t){return e.call(this,t)||this}return fb(t,e),t.prototype.getDefaultCfgs=function(){return{data:{},position:"top",padding:8,margin:8,offsetX:0,offsetY:0,layout:"horizontal",flipPage:!1,containerStyle:{},align:void 0,horiSep:8,vertiSep:8,filter:{enable:!1,trigger:"click"}}},t.prototype.init=function(){this.formatArray("padding"),this.formatArray("margin");var e=this.get("filter")||{};e.multiple&&"mouseenter"===e.trigger&&this.set("multiple",!1);var t=this.get("align");if(!t){var n=this.get("position").split("-");n.includes("left")&&(t="left"),t=n.includes("right")?"right":"center",this.set("align",t)}var r=this.get("graph").get("container"),o=mg("<div class='g6-legend-container' style=\"position: absolute;\"></div>");r.appendChild(o),this.set("container",o);var i=this.render();kg(o,this.getContainerPos(i)),this.bindEvents()},t.prototype.getContainerPos=function(e){void 0===e&&(e=[0,0]);var t=this.get("graph"),n=this.get("offsetX"),r=this.get("offsetY"),o=this.get("margin"),i=this.get("position").split("-"),a={top:0,right:1,bottom:2,left:3},s={left:(t.getWidth()-e[0])/2+0,top:(t.getHeight()-e[1])/2+0};return i.forEach((function(n){var r=o[a[n]],i=n;switch(n){case"top":case"left":r+=0;break;case"bottom":r=t.getHeight()-e[1]-r+0,i="top";break;default:r=t.getWidth()-e[0]-r+0,i="left"}s[i]=r})),s.top+=r+t.getContainer().offsetTop,s.left+=n+t.getContainer().offsetLeft,Object.keys(s).forEach((function(e){s[e]="".concat(s[e],"px")})),s},t.prototype.bindEvents=function(){var e=this,t=e.get("filter");if(t&&t.enable){var n=t.trigger||"click";hb.includes(n)||(console.warn("Trigger for legend filterling must be 'click' or 'mouseenter', 'click' will take effect by default."),n="click");var r=e.get("legendCanvas");"mouseenter"===n?(r.on("node-container:mouseenter",(function(t){return e.filterData(t)})),r.on("node-container:mouseleave",(function(t){e.clearFilter(),e.clearActiveLegend()}))):(r.on("node-container:click",(function(t){return e.filterData(t)})),r.on("click",(function(t){t.target&&t.target.isCanvas&&t.target.isCanvas()&&(e.clearFilter(),e.clearActiveLegend())})))}},t.prototype.changeData=function(e){this.set("data",e);var t=this.render();kg(this.get("container"),this.getContainerPos(t))},t.prototype.activateLegend=function(e){var t=this.get("filter");(null===t||void 0===t?void 0:t.multiple)||this.clearActiveLegend();var n=e.get("parent");n.get("active")?(n.set("active",!1),this.findLegendItemsByState("active").length&&n.set("inactive",!0)):(n.set("inactive",!1),n.set("active",!0)),this.findLegendItemsByState("active").length?this.findLegendItemsByState("active","all",!1).forEach((function(e){e.set("inactive",!0)})):this.clearActiveLegend();var r=(null===t||void 0===t?void 0:t.lengedStateStyles)||{},o=(null===r||void 0===r?void 0:r.inactive)||{opacity:.5,"text-shape":{opacity:.5}},i=o["text-shape"]||{};this.findLegendItemsByState("inactive").forEach((function(e){var t=e.get("children"),n=t[0],r=t[1];n.attr(db(db({},n.get("oriAttrs")),o)),r.attr(db(db({},r.get("oriAttrs")),i))}));var a=(null===r||void 0===r?void 0:r.active)||{stroke:"#000",lineWidth:2,"text-shape":{fontWeight:"bold"}},s=a["text-shape"]||{};this.findLegendItemsByState("active").forEach((function(e){var t=e.get("children"),n=t[0],r=t[1];n.attr(db(db({},n.get("oriAttrs")),a)),r.attr(db(db({},r.get("oriAttrs")),s))}))},t.prototype.findLegendItemsByState=function(e,t,n){void 0===t&&(t="all"),void 0===n&&(n=!0);var r=this.get("legendCanvas").find((function(e){return"root"===e.get("name")})),o=r.find((function(e){return"node-group"===e.get("name")})),i=r.find((function(e){return"edge-group"===e.get("name")}));return"node"===t?o.get("children").filter((function(t){return!!t.get(e)===n})):"edge"===t?i.get("children").filter((function(t){return!!t.get(e)===n})):o.get("children").filter((function(t){return!!t.get(e)===n})).concat(i.get("children").filter((function(t){return!!t.get(e)===n})))},t.prototype.clearActiveLegend=function(){var e=this.get("legendCanvas").find((function(e){return"root"===e.get("name")})),t=[e.find((function(e){return"node-group"===e.get("name")})),e.find((function(e){return"edge-group"===e.get("name")}))];t.forEach((function(e){e.get("children").forEach((function(e){e.set("active",!1),e.set("inactive",!1);var t=e.get("children"),n=t[0],r=t[1];n.attr(n.get("oriAttrs")),r.attr(r.get("oriAttrs"))}))}))},t.prototype.filterData=function(e){var t=this.get("filter"),n=null===t||void 0===t?void 0:t.filterFunctions;if(t&&n){var r=this.get("legendCanvas"),o=this.get("graph"),i=t.graphActiveState||"active",a=t.graphInactiveState||"inactive",s=t.multiple;this.clearFilter(),s||this.clearActiveLegend(),this.activateLegend(e.target);var u=r.find((function(e){return"root"===e.get("name")})),c=u.find((function(e){return"node-group"===e.get("name")})),l=u.find((function(e){return"edge-group"===e.get("name")})),f=c.get("children").filter((function(e){return e.get("active")})),d=l.get("children").filter((function(e){return e.get("active")})),h=0,p=["getNodes","getEdges"];p.forEach((function(e){o[e]().forEach((function(t){var r=!1;("getNodes"===e?f:d).forEach((function(e){var o=n[e.get("id")];r=r||o(t.getModel())})),r?(o.setItemState(t,a,!1),o.setItemState(t,i,!0),h++):(o.setItemState(t,i,!1),o.setItemState(t,a,!0))}))})),h||p.forEach((function(e){o[e]().forEach((function(e){o.clearItemStates(e,[a])}))}))}},t.prototype.clearFilter=function(){var e=this.get("graph"),t=this.get("filter");if(t){var n=t.graphActiveState||"active",r=t.graphInactiveState||"inactive";e.getNodes().forEach((function(t){e.clearItemStates(t,[n,r])})),e.getEdges().forEach((function(t){e.clearItemStates(t,[n,r])}))}},t.prototype.render=function(){var e=this;this.processData();var t=this.get("legendCanvas");if(!t){var n=(t=new rh({container:this.get("container"),width:200,height:200})).addGroup({name:"root"});n.addGroup({name:"node-group"}),n.addGroup({name:"edge-group"}),this.set("legendCanvas",t)}var r=t.find((function(e){return"root"===e.get("name")})),o=r.find((function(e){return"node-group"===e.get("name")})),i=r.find((function(e){return"edge-group"===e.get("name")})),a=this.get("itemsData"),s=[o,i];["nodes","edges"].forEach((function(t,n){a[t].forEach((function(r){var o,i,a=s[n].addGroup({id:r.id,name:"node-container"}),u=r.type,c=e.getShapeSize(r),l=c.width,f=c.height,d=c.r,h=e.getStyle(t.substr(0,4),r);switch(r.type){case"circle":default:i={r:d,x:0,y:0};break;case"rect":i={width:l,height:f,x:-l/2,y:-f/2};break;case"ellipse":i={r1:l,r2:f,x:0,y:0};break;case"line":i={x1:-l/2,y1:0,x2:l/2,y2:0},u="line";break;case"quadratic":i={path:[["M",-l/2,0],["Q",0,l/2,l/2,0]]},u="path";break;case"cubic":i={path:[["M",-l/2,0],["C",-l/6,l/2,l/6,-l/2,l/2,0]]},u="path"}var p=a.addShape(u,{attrs:db(db({},i),h),name:"".concat(r.type,"-node-keyShape"),oriAttrs:db({opacity:1},h)});if(r.label){var g=p.getBBox(),v=(null===(o=r.labelCfg)||void 0===o?void 0:o.style)||{},m=db({textAlign:"begin",fontSize:12,textBaseline:"middle",fill:"#000",opacity:1,fontWeight:"normal"},v);a.addShape("text",{attrs:db({x:g.maxX+4,y:0,text:r.label},m),className:"legend-label",name:"".concat(r.type,"-node-text"),oriAttrs:m})}}))}));var u,c=this.get("padding"),l=r.find((function(e){return"title-container"===e.get("name")})),f={height:0,maxY:0,width:0};if(this.get("title")){l||(l=r.addGroup({name:"title-container"}));var d={fontSize:20,fontFamily:"Arial",fontWeight:300,textBaseline:"top",textAlign:"center",fill:"#000",x:0,y:c[0]},h=this.get("titleConfig")||{},p=Object.assign(d,h.style||{});u=l.addShape("text",{attrs:db({text:this.get("title")},p)}),f=l.getCanvasBBox(),l.setMatrix([1,0,0,0,1,0,h.offsetX,h.offsetY,1])}this.layoutItems();var g=r.getCanvasBBox(),v=o.getCanvasBBox(),m=v.minX<0?Math.abs(v.minX)+c[3]:c[3],y=f.maxY<v.minY?Math.abs(f.maxY-v.minY)+c[0]:f.maxY+c[0],b=[1,0,0,0,1,0,m,y,1];o.setMatrix(b);var x=[(g=r.getCanvasBBox()).minX+g.width+c[1],g.minY+g.height+c[2]];if(u){h=db({position:"center",offsetX:0,offsetY:0},this.get("titleConfig"));f=l.getCanvasBBox();var w=l.getMatrix()||[1,0,0,0,1,0,0,0,1];"center"===h.position?w[6]=x[0]/2+h.offsetX:"right"===h.position?(w[6]=x[0]-c[3]+h.offsetX,u.attr({textAlign:"right"})):(w[6]=c[3]+h.offsetX,u.attr({textAlign:"left"})),l.setMatrix(w),f=l.getCanvasBBox(),b=[1,0,0,0,1,0,m=v.minX<0?Math.abs(v.minX)+c[3]:c[3],y=v.minY<f.maxY?Math.abs(f.maxY-v.minY)+c[0]:f.maxY+c[0],1],o.setMatrix(b);var E=[1,0,0,0,1,0,m,y,1];"vertical"===this.get("layout")?E[6]+=v.maxX+this.get("horiSep"):E[7]+=v.maxY+this.get("vertiSep"),i.setMatrix(E)}else{v=o.getCanvasBBox();var _=[1,0,0,0,1,0,0,0,1];"vertical"===this.get("layout")?_[6]+=b[6]+v.maxX+this.get("horiSep"):_[7]+=b[7]+v.maxY+this.get("vertiSep"),i.setMatrix(_)}g=r.getCanvasBBox(),v=o.getCanvasBBox(),b=o.getMatrix()||[1,0,0,0,1,0,0,0,1];var S=i.getMatrix()||[1,0,0,0,1,0,0,0,1],k=i.getCanvasBBox();x=[Math.max(v.width+b[6],k.width+S[6])+c[1],Math.max(v.height+b[7],k.height+S[7])+c[2]],t.changeSize(x[0],x[1]);var T=this.get("containerStyle"),C=r.getMatrix()||[1,0,0,0,1,0,0,0,1],M=kf.invertMatrix({x:0,y:0},C);return r.addShape("rect",{attrs:db({x:M.x+(T.lineWidth||1),y:M.y+(T.lineWidth||1),width:x[0]-2*(T.lineWidth||1),height:x[1]-2*(T.lineWidth||1),fill:"#f00",stroke:"#000",lineWidth:1,opacity:.5},T),name:"legend-back-rect",capture:!1}).toBack(),x},t.prototype.layoutItems=function(){var e=this.get("legendCanvas"),t=this.get("horiSep"),n=this.get("vertiSep"),r=this.get("layout"),o=this.get("align"),i=[0,0],a=e.find((function(e){return"root"===e.get("name")})),s=a.find((function(e){return"node-group"===e.get("name")})),u=a.find((function(e){return"edge-group"===e.get("name")})),c={min:0,max:-1/0},l=-1/0;s.get("children").forEach((function(e,o){0===o&&(c.min=i[0]);var a=e.get("children")[0],s=e.getCanvasBBox(),u=a.getBBox(),f=u.width,d=u.height,h=0,p=0,g=0;"vertical"===r?(p=i[1],g=i[0]+f/2,i[0]=g+s.height+n,h=s.maxX+p+f/2):(p=i[0]+f/2,g=i[1],i[0]=p+s.width+t,h=s.maxY+g+d/2),i[0]>c.max&&(c.max=i[0]),h>l&&(l=h),e.setMatrix([1,0,0,0,1,0,p,g,1])}));var f=c.max-c.min,d={min:0,max:-1/0},h=s.getCanvasBBox();i[0]=0,i[1]="vertical"===r?h.maxX+t:h.maxY+n,u.get("children").forEach((function(e,o){0===o&&(d.min=i[0]);var a=e.get("children")[0],s=e.getCanvasBBox(),u=a.getBBox(),c=u.width,l=u.height,f=0,h=0;"vertical"===r?(f=i[1],h=i[0],i[0]=h+s.height+n,e.setMatrix([1,0,0,0,1,0,0,h+l/2,1])):(f=i[0],h=i[1],i[0]=f+s.width+t,e.setMatrix([1,0,0,0,1,0,f+c/2,0,1])),i[0]>d.max&&(d.max=i[0])}));var p=d.max-d.min;if(o&&""!==o&&"left"!==o){var g=f-p,v="center"===o?Math.abs(g)/2:Math.abs(g);(g<0?s:u).get("children").forEach((function(e){var t=e.getMatrix()||[1,0,0,0,1,0,0,0,1];"vertical"===r?t[7]+=v:t[6]+=v,e.setMatrix(t)}))}},t.prototype.processData=function(){var e=this.get("data"),t={nodes:[],edges:[]};e.nodes&&(e.nodes.sort((function(e,t){return e.order-t.order})),e.nodes.forEach((function(e){var n,r,o,i,a,s=e.size||[(null===(n=e.style)||void 0===n?void 0:n.width)||(null===(r=e.style)||void 0===r?void 0:r.r)||8,(null===(o=e.style)||void 0===o?void 0:o.height)||(null===(i=e.style)||void 0===i?void 0:i.r)||8],u=(null===(a=e.labelCfg)||void 0===a?void 0:a.style)||{};t.nodes.push({id:e.id||(0,vn.uniqueId)(),type:e.type||"circle",style:db({},e.style),order:e.order,label:e.label,itemType:"node",size:s,labelCfg:{position:"right",style:db({fontFamily:"Arial"},u)}})}))),e.edges&&(e.edges.sort((function(e,t){return e.order-t.order})),e.edges.forEach((function(e){var n,r,o=e.type||"line";"cubic-horizontal"===e.type&&(o="cubic");var i=(null===(n=e.labelCfg)||void 0===n?void 0:n.style)||{},a=e.size||[(null===(r=e.style)||void 0===r?void 0:r.width)||8,1];t.edges.push({id:e.id||(0,vn.uniqueId)(),type:o,size:a,style:db({lineWidth:(0,vn.isArray)(a)?a[1]:1},e.style),order:e.order,label:e.label,itemType:"edge",labelCfg:{position:"right",style:db({fontFamily:"Arial"},i)}})}))),this.set("itemsData",t)},t.prototype.getContainer=function(){return this.get("container")},t.prototype.formatArray=function(e){var t=this.get(e);if((0,vn.isNumber)(t))this.set(e,[t,t,t,t]);else if((0,vn.isArray)(t))switch(t.length){case 0:this.set(e,[0,0,0,0]);break;case 1:this.set(e,[t[0],t[0],t[0],t[0]]);break;case 2:this.set(e,[t[0],t[1],t[0],t[1]]);break;case 3:this.set(e,[t[0],t[1],t[2],t[1]])}return this.get(e)},t.prototype.getShapeSize=function(e){var t,n,r;return e.size&&((0,vn.isArray)(e.size)?(t=e.size[0],n=e.size[1]||e.size[0],r=e.size[0]/2):(0,vn.isNumber)(e.size)&&(t=e.size,n=e.size,r=e.size/2)),e.style&&(e.style.width&&(t=e.style.width),e.style.height&&(n=e.style.height),e.style.r&&(r=e.style.r)),r||(r=5),t||(t=r),n||(n=r),{width:t,height:n,r:r}},t.prototype.getStyle=function(e,t){return db(db({},"node"===e?{fill:"#ccc",lineWidth:0}:{stroke:"#000",lineWidth:1}),t.style||{})},t.prototype.destroy=function(){var e=this.get("graph").get("container"),t=this.get("container");e.removeChild(t)},t}(Cg),gb={PluginBase:Cg,Menu:Lg,Grid:Pg,Minimap:Vg,Bundling:Hg,ToolBar:tv,Tooltip:ov,Fisheye:Jg,TimeBar:Ky,ImageMinimap:Qy,EdgeFilterLens:ib,SnapLine:lb,Legend:pb};Af("circle",{options:{size:Df.defaultNode.size,style:{x:0,y:0,stroke:Df.defaultNode.style.stroke,fill:Df.defaultNode.style.fill,lineWidth:Df.defaultNode.style.lineWidth},labelCfg:{style:{fill:Df.nodeLabel.style.fill,fontSize:Df.nodeLabel.style.fontSize,fontFamily:Df.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Df.defaultNode.linkPoints.size,lineWidth:Df.defaultNode.linkPoints.lineWidth,fill:Df.defaultNode.linkPoints.fill,stroke:Df.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,gn.__assign)({},Df.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,o=this.getShapeStyle(e),i=(0,vn.deepMix)({},r,e.icon),a="".concat(this.type,"-keyShape"),s=t.addShape("circle",{attrs:o,className:a,name:a,draggable:!0});t.shapeMap[a]=s;var u=i.width,c=i.height,l=i.show,f=i.text;if(l){var d="".concat(this.type,"-icon");t.shapeMap[d]=f?t.addShape("text",{attrs:(0,gn.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:d,name:d,draggable:!0}):t.addShape("image",{attrs:(0,gn.__assign)({x:-u/2,y:-c/2},i),className:d,name:d,draggable:!0})}return this.drawLinkPoints(e,t),s},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints;if(n){var r=n||{},o=r.top,i=r.left,a=r.right,s=r.bottom,u=r.size,c=r.r,l=(0,gn.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e)[0]/2;if(i){var d="link-point-left";t.shapeMap[d]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},l),{x:-f,y:0,r:u/2||c||5}),className:d,name:d,isAnchorPoint:!0})}if(a){var h="link-point-right";t.shapeMap[h]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},l),{x:f,y:0,r:u/2||c||5}),className:h,name:h,isAnchorPoint:!0})}if(o){var p="link-point-top";t.shapeMap[p]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},l),{x:0,y:-f,r:u/2||c||5}),className:p,name:p,isAnchorPoint:!0})}if(s){var g="link-point-bottom";t.shapeMap[g]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},l),{x:0,y:f,r:u/2||c||5}),className:g,name:g,isAnchorPoint:!0})}}},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,vn.deepMix)({},t,n),o=this.getSize(e)[0]/2;return(0,gn.__assign)({x:0,y:0,r:o},r)},update:function(e,t,n){var r=t.getContainer(),o=this.getSize(e),i=(0,gn.__assign)({},e.style);void 0===e.style.stroke&&e.color&&(i.stroke=e.color),void 0!==e.style.r||isNaN(o[0])||(i.r=o[0]/2),this.updateShape(e,t,i,!0,n),this.updateLinkPoints(e,r)}},"single-node"),Af("rect",{options:{size:[100,30],style:{radius:0,stroke:Df.defaultNode.style.stroke,fill:Df.defaultNode.style.fill,lineWidth:Df.defaultNode.style.lineWidth},labelCfg:{style:{fill:Df.nodeLabel.style.fill,fontSize:Df.nodeLabel.style.fontSize,fontFamily:Df.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Df.defaultNode.linkPoints.size,lineWidth:Df.defaultNode.linkPoints.lineWidth,fill:Df.defaultNode.linkPoints.fill,stroke:Df.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,gn.__assign)({},Df.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(e,t){var n=this.getShapeStyle(e),r=t.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return t.shapeMap["".concat(this.type,"-keyShape")]=r,this.drawLinkPoints(e,t),r},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,o=r.top,i=r.left,a=r.right,s=r.bottom,u=r.size,c=r.r,l=(0,gn.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e),d=f[0],h=f[1];i&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},l),{x:-d/2,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},l),{x:d/2,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),o&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},l),{x:0,y:-h/2,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},l),{x:0,y:h/2,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,vn.mix)({},t,n),o=this.getSize(e),i=r.width||o[0],a=r.height||o[1];return(0,gn.__assign)({x:-i/2,y:-a/2,width:i,height:a},r)},update:function(e,t,n){var r=t.getContainer(),o=this.getOptions({}).style,i=this.getSize(e),a=t.get("keyShape");e.size||(i[0]=a.attr("width")||o.width,i[1]=a.attr("height")||o.height);var s={stroke:e.color,x:-i[0]/2,y:-i[1]/2,width:i[0],height:i[1]},u=(0,vn.mix)({},o,a.attr(),s);u=(0,vn.mix)(u,e.style),this.updateShape(e,t,u,!1,n),this.updateLinkPoints(e,r)}},"single-node"),Af("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:Df.defaultNode.style.stroke,fill:Df.defaultNode.style.fill,lineWidth:Df.defaultNode.style.lineWidth},labelCfg:{style:{fill:Df.nodeLabel.style.fill,fontSize:Df.nodeLabel.style.fontSize,fontFamily:Df.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Df.defaultNode.linkPoints.size,lineWidth:Df.defaultNode.linkPoints.lineWidth,fill:Df.defaultNode.linkPoints.fill,stroke:Df.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,gn.__assign)({},Df.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,o=this.getShapeStyle(e),i=t.addShape("ellipse",{attrs:o,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0});t.shapeMap["ellipse-keyShape"]=i;var a=r.width,s=r.height,u=r.show,c=r.text;return u&&(t.shapeMap["".concat(this.type,"-icon")]=c?t.addShape("text",{attrs:(0,gn.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.addShape("image",{attrs:(0,gn.__assign)({x:-a/2,y:-s/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),i},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,o=r.top,i=r.left,a=r.right,s=r.bottom,u=r.size,c=r.r,l=(0,gn.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e),d=f[0]/2,h=f[1]/2;i&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},l),{x:-d,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},l),{x:d,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),o&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},l),{x:0,y:-h,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},l),{x:0,y:h,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,vn.mix)({},t,n),o=this.getSize(e),i=o[0]/2,a=o[1]/2;return(0,gn.__assign)({x:0,y:0,rx:i,ry:a},r)},update:function(e,t,n){var r=t.getContainer(),o=this.getOptions({}).style,i=this.getSize(e),a={stroke:e.color,rx:i[0]/2,ry:i[1]/2},s=t.get("keyShape"),u=(0,vn.mix)({},o,s.attr(),a);u=(0,vn.mix)(u,e.style),this.updateShape(e,t,u,!0,n),this.updateLinkPoints(e,r)}},"single-node"),Af("diamond",{options:{size:[80,80],style:{stroke:Df.defaultNode.style.stroke,fill:Df.defaultNode.style.fill,lineWidth:Df.defaultNode.style.lineWidth},labelCfg:{style:{fill:Df.nodeLabel.style.fill,fontSize:Df.nodeLabel.style.fontSize,fontFamily:Df.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Df.defaultNode.linkPoints.size,lineWidth:Df.defaultNode.linkPoints.lineWidth,fill:Df.defaultNode.linkPoints.fill,stroke:Df.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,gn.__assign)({},Df.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,o=this.getShapeStyle(e),i=t.addShape("path",{attrs:o,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=i;var a=r.width,s=r.height,u=r.show,c=r.text;return u&&(t.shapeMap["".concat(this.type,"-icon")]=c?t.addShape("text",{attrs:(0,gn.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.addShape("image",{attrs:(0,gn.__assign)({x:-a/2,y:-s/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),i},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,o=r.top,i=r.left,a=r.right,s=r.bottom,u=r.size,c=r.r,l=(0,gn.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e),d=f[0],h=f[1];i&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},l),{x:-d/2,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},l),{x:d/2,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),o&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},l),{x:0,y:-h/2,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},l),{x:0,y:h/2,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getPath:function(e){var t=this.getSize(e),n=t[0],r=t[1];return[["M",0,-r/2],["L",n/2,0],["L",0,r/2],["L",-n/2,0],["Z"]]},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,vn.mix)({},t,n),o=this.getPath(e);return(0,gn.__assign)({path:o},r)},update:function(e,t,n){var r=t.getContainer(),o=this.getOptions({}).style,i=this.getPath(e),a={stroke:e.color,path:i},s=t.get("keyShape"),u=(0,vn.mix)({},o,s.attr(),a);u=(0,vn.mix)(u,e.style),this.updateShape(e,t,u,!0,n),this.updateLinkPoints(e,r)}},"single-node"),Af("triangle",{options:{size:40,direction:"up",style:{stroke:Df.defaultNode.style.stroke,fill:Df.defaultNode.style.fill,lineWidth:Df.defaultNode.style.lineWidth},labelCfg:{style:{fill:Df.nodeLabel.style.fill,fontSize:Df.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Df.defaultNode.linkPoints.size,lineWidth:Df.defaultNode.linkPoints.lineWidth,fill:Df.defaultNode.linkPoints.fill,stroke:Df.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:(0,gn.__assign)({},Df.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(e,t){var n=this.mergeStyle||this.getOptions(e),r=n.icon,o=void 0===r?{}:r,i=n.direction,a=this.getShapeStyle(e),s=e.direction||i,u=t.addShape("path",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=u;var c=o.width,l=o.height,f=o.show,d=o.offset,h=o.text;if(f)if(h)t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,gn.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0});else{var p=-c/2,g=-l/2;"up"!==s&&"down"!==s||(g+=d),"left"!==s&&"right"!==s||(p+=d),t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,gn.__assign)({x:p,y:g},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})}return this.drawLinkPoints(e,t),u},drawLinkPoints:function(e,t){var n=this.mergeStyle||this.getOptions(e),r=n.linkPoints,o=void 0===r?{}:r,i=n.direction,a=e.direction||i,s=o.top,u=o.left,c=o.right,l=o.bottom,f=o.size,d=o.r,h=(0,gn.__rest)(o,["top","left","right","bottom","size","r"]),p=this.getSize(e)[0];if(u){var g=null,v=p*Math.sin(1/3*Math.PI),m=p*Math.sin(1/3*Math.PI);"up"===a?g=[-m,v]:"down"===a?g=[-m,-v]:"left"===a&&(g=[-m,m-v]),g&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},h),{x:g[0],y:g[1],r:f/2||d||5}),className:"link-point-left",name:"link-point-left"}))}if(c){var y=null;v=p*Math.sin(1/3*Math.PI),m=p*Math.sin(1/3*Math.PI);"up"===a?y=[m,v]:"down"===a?y=[m,-v]:"right"===a&&(y=[m,m-v]),y&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},h),{x:y[0],y:y[1],r:f/2||d||5}),className:"link-point-right",name:"link-point-right"}))}if(s){var b=null;v=p*Math.sin(1/3*Math.PI),m=p*Math.sin(1/3*Math.PI);"up"===a?b=[m-v,-v]:"left"===a?b=[m,-v]:"right"===a&&(b=[-m,-v]),b&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},h),{x:b[0],y:b[1],r:f/2||d||5}),className:"link-point-top",name:"link-point-top"}))}if(l){var x=null;v=p*Math.sin(1/3*Math.PI),m=p*Math.sin(1/3*Math.PI);"down"===a?x=[-m+v,v]:"left"===a?x=[m,v]:"right"===a&&(x=[-m,v]),x&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},h),{x:x[0],y:x[1],r:f/2||d||5}),className:"link-point-bottom",name:"link-point-bottom"}))}},getPath:function(e){var t=(this.mergeStyle||this.getOptions(e)).direction,n=e.direction||t,r=this.getSize(e)[0],o=r*Math.sin(1/3*Math.PI),i=r*Math.sin(1/3*Math.PI),a=[["M",-i,o],["L",0,-o],["L",i,o],["Z"]];return"down"===n?a=[["M",-i,-o],["L",i,-o],["L",0,o],["Z"]]:"left"===n?a=[["M",-i,i-o],["L",i,-i],["L",i,i],["Z"]]:"right"===n&&(a=[["M",i,i-o],["L",-i,i],["L",-i,-i],["Z"]]),a},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,vn.mix)({},t,n),o=this.getPath(e);return(0,gn.__assign)({path:o},r)},update:function(e,t,n){var r=t.getContainer(),o=this.getOptions({}).style,i=this.getPath(e),a={stroke:e.color,path:i},s=t.get("keyShape"),u=(0,vn.mix)({},o,s.attr(),a);u=(0,vn.mix)(u,e.style),this.updateShape(e,t,u,!0,n),this.updateLinkPoints(e,r)},updateLinkPoints:function(e,t){var n=this.getOptions({}),r=n.linkPoints,o=n.direction,i=e.direction||o,a=t.shapeMap["link-point-left"]||t.find((function(e){return"link-point-left"===e.get("className")})),s=t.shapeMap["link-point-right"]||t.find((function(e){return"link-point-right"===e.get("className")})),u=t.shapeMap["link-point-top"]||t.find((function(e){return"link-point-top"===e.get("className")})),c=t.shapeMap["link-point-bottom"]||t.find((function(e){return"link-point-bottom"===e.get("className")})),l=r,f=a||s||u||c;f&&(l=f.attr());var d=(0,vn.mix)({},l,e.linkPoints),h=d.fill,p=d.stroke,g=d.lineWidth,v=d.size/2;v||(v=d.r);var m=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},y=m.left,b=m.right,x=m.top,w=m.bottom,E=this.getSize(e)[0],_={r:v,fill:h,stroke:p,lineWidth:g},S=null,k=E*Math.sin(1/3*Math.PI),T=E*Math.sin(1/3*Math.PI);"up"===i?S=[-T,k]:"down"===i?S=[-T,-k]:"left"===i&&(S=[-T,T-k]),S&&(a?y||void 0===y?a.attr((0,gn.__assign)((0,gn.__assign)({},_),{x:S[0],y:S[1]})):(a.remove(),delete t.shapeMap["link-point-left"]):y&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},_),{x:S[0],y:S[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})));var C=null;"up"===i?C=[T,k]:"down"===i?C=[T,-k]:"right"===i&&(C=[T,T-k]),C&&(s?b||void 0===b?s.attr((0,gn.__assign)((0,gn.__assign)({},_),{x:C[0],y:C[1]})):(s.remove(),delete t.shapeMap["link-point-right"]):b&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},_),{x:C[0],y:C[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})));var M=null;"up"===i?M=[T-k,-k]:"left"===i?M=[T,-k]:"right"===i&&(M=[-T,-k]),M&&(u?x||void 0===x?u.attr((0,gn.__assign)((0,gn.__assign)({},_),{x:M[0],y:M[1]})):(u.remove(),delete t.shapeMap["link-point-top"]):x&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},_),{x:M[0],y:M[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})));var N=null;"down"===i?N=[-T+k,k]:"left"===i?N=[T,k]:"right"===i&&(N=[-T,k]),N&&(c?w||void 0===w?c.attr((0,gn.__assign)((0,gn.__assign)({},_),{x:N[0],y:N[1]})):(c.remove(),delete t.shapeMap["link-point-bottom"]):w&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},_),{x:N[0],y:N[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})))}},"single-node"),Af("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:Df.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14,fontFamily:Df.windowFontFamily},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf",fontFamily:Df.windowFontFamily},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).preRect,r=void 0===n?{}:n,o=this.getShapeStyle(e),i=this.getSize(e),a=i[0],s=i[1],u=t.addShape("rect",{attrs:o,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=u;var c=r.show,l=(0,gn.__rest)(r,["show"]);return c&&(t.shapeMap["pre-rect"]=t.addShape("rect",{attrs:(0,gn.__assign)({x:-a/2,y:-s/2,height:s},l),className:"pre-rect",name:"pre-rect",draggable:!0})),this.drawLogoIcon(e,t),this.drawStateIcon(e,t),this.drawLinkPoints(e,t),u},drawLogoIcon:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).logoIcon,r=void 0===n?{}:n,o=this.getSize(e)[0];if(r.show){var i=r.width,a=r.height,s=r.x,u=r.y,c=r.offset,l=r.text,f=(0,gn.__rest)(r,["width","height","x","y","offset","text"]);t.shapeMap["rect-logo-icon"]=l?t.addShape("text",{attrs:(0,gn.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},f),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):t.addShape("image",{attrs:(0,gn.__assign)((0,gn.__assign)({},f),{x:s||-o/2+i+c,y:u||-a/2,width:i,height:a}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).stateIcon,r=void 0===n?{}:n,o=this.getSize(e)[0];if(r.show){var i=r.width,a=r.height,s=r.x,u=r.y,c=r.offset,l=r.text,f=(0,gn.__rest)(r,["width","height","x","y","offset","text"]);t.shapeMap["rect-state-icon"]=l?t.addShape("text",{attrs:(0,gn.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},f),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):t.addShape("image",{attrs:(0,gn.__assign)((0,gn.__assign)({},f),{x:s||o/2-i+c,y:u||-a/2,width:i,height:a}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,o=r.top,i=r.left,a=r.right,s=r.bottom,u=r.size,c=r.r,l=(0,gn.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e),d=f[0],h=f[1];i&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},l),{x:-d/2,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},l),{x:d/2,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),o&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},l),{x:0,y:-h/2,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},l),{x:0,y:h/2,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},drawLabel:function(e,t){var n=this.getOptions(e),r=n.labelCfg,o=void 0===r?{}:r,i=n.logoIcon,a=void 0===i?{}:i,s=n.descriptionCfg,u=void 0===s?{}:s,c=this.getSize(e)[0],l=null,f=a.show,d=a.width,h=-c/2+o.offset;f&&(h=-c/2+d+o.offset);var p=o.style,g=u.style,v=u.paddingTop;return(0,vn.isString)(e.description)?(l=t.addShape("text",{attrs:(0,gn.__assign)((0,gn.__assign)({},p),{x:h,y:-5,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),t.shapeMap["text-shape"]=l,t.shapeMap["rect-description"]=t.addShape("text",{attrs:(0,gn.__assign)((0,gn.__assign)({},g),{x:h,y:17+(v||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})):(l=t.addShape("text",{attrs:(0,gn.__assign)((0,gn.__assign)({},p),{x:h,y:7,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),t.shapeMap["text-shape"]=l),l},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,vn.mix)({},t,n),o=this.getSize(e),i=r.width||o[0],a=r.height||o[1];return(0,gn.__assign)({x:-i/2,y:-a/2,width:i,height:a},r)},update:function(e,t){var n=this.mergeStyle||this.getOptions(e),r=n.style,o=void 0===r?{}:r,i=n.labelCfg,a=void 0===i?{}:i,s=n.descriptionCfg,u=void 0===s?{}:s,c=this.getSize(e),l=c[0],f=c[1];t.get("keyShape").attr((0,gn.__assign)((0,gn.__assign)({},o),{x:-l/2,y:-f/2,width:l,height:f}));var d=t.getContainer(),h=d.shapeMap["rect-logo-icon"]||d.find((function(e){return"rect-logo-icon"===e.get("className")})),p=h?h.attr():{},g=(0,vn.mix)({},p,e.logoIcon),v=g.width;void 0===v&&(v=this.options.logoIcon.width);var m=e.logoIcon?e.logoIcon.show:void 0,y=a.offset,b=-l/2+v+y;m||void 0===m||(b=-l/2+y);var x=d.shapeMap["node-label"]||d.find((function(e){return"node-label"===e.get("className")})),w=d.shapeMap["rect-description"]||d.find((function(e){return"rect-description"===e.get("className")}));if(e.label)if(x){var E=e.labelCfg?e.labelCfg.style:{},_=(0,vn.mix)({},x.attr(),E);e.label&&(_.text=e.label),_.x=b,(0,vn.isString)(e.description)&&(_.y=-5),w&&(w.resetMatrix(),w.attr({x:b})),x.resetMatrix(),x.attr(_)}else d.shapeMap["node-label"]=d.addShape("text",{attrs:(0,gn.__assign)((0,gn.__assign)({},a.style),{x:b,y:e.description?-5:7,text:e.label}),className:"node-label",name:"node-label",draggable:!0,labelRelated:!0});if((0,vn.isString)(e.description)){var S=u.paddingTop;if(w){E=e.descriptionCfg?e.descriptionCfg.style:{};var k=(0,vn.mix)({},w.attr(),E);(0,vn.isString)(e.description)&&(k.text=e.description),k.x=b,w.resetMatrix(),w.attr((0,gn.__assign)((0,gn.__assign)({},k),{y:17+(S||0)}))}else d.shapeMap["rect-description"]=d.addShape("text",{attrs:(0,gn.__assign)((0,gn.__assign)({},u.style),{x:b,y:17+(S||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})}var T=d.shapeMap["pre-rect"]||d.find((function(e){return"pre-rect"===e.get("className")}));if(T&&!T.destroyed){var C=(0,vn.mix)({},T.attr(),e.preRect);T.attr((0,gn.__assign)((0,gn.__assign)({},C),{x:-l/2,y:-f/2,height:f}))}if(h&&!h.destroyed)if(m||void 0===m){var M=g.width,N=g.height,A=g.x,P=g.y,O=g.offset,I=(0,gn.__rest)(g,["width","height","x","y","offset"]);h.attr((0,gn.__assign)((0,gn.__assign)({},I),{x:A||-l/2+M+O,y:P||-N/2,width:M,height:N}))}else h.remove(),delete d.shapeMap["pre-rect"];else m&&this.drawLogoIcon(e,d);var D=d.shapeMap["rect-state-icon"]||d.find((function(e){return"rect-state-icon"===e.get("className")})),R=D?D.attr():{},L=(0,vn.mix)({},R,e.stateIcon);if(D){L.show||void 0===L.show||(D.remove(),delete d.shapeMap["rect-state-icon"]);var j=L.width,F=(N=L.height,A=L.x,P=L.y,L.offset),B=(0,gn.__rest)(L,["width","height","x","y","offset"]);D.attr((0,gn.__assign)((0,gn.__assign)({},B),{x:A||l/2-j+F,y:P||-N/2,width:j,height:N}))}else L.show&&this.drawStateIcon(e,d);this.updateLinkPoints(e,d)}},"single-node"),Af("star",{options:{size:60,style:{stroke:Df.defaultNode.style.stroke,fill:Df.defaultNode.style.fill,lineWidth:Df.defaultNode.style.lineWidth},labelCfg:{style:{fill:Df.nodeLabel.style.fill,fontSize:Df.nodeLabel.style.fontSize,fontFamily:Df.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Df.defaultNode.linkPoints.size,lineWidth:Df.defaultNode.linkPoints.lineWidth,fill:Df.defaultNode.linkPoints.fill,stroke:Df.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,gn.__assign)({},Df.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,o=this.getShapeStyle(e),i=t.addShape("path",{attrs:o,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=i;var a=r.width,s=r.height,u=r.show,c=r.text;return u&&(t.shapeMap["".concat(this.type,"-icon")]=c?t.addShape("text",{attrs:(0,gn.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.addShape("image",{attrs:(0,gn.__assign)({x:-a/2,y:-s/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),i},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,o=r.top,i=r.left,a=r.right,s=r.leftBottom,u=r.rightBottom,c=r.size,l=r.r,f=(0,gn.__rest)(r,["top","left","right","leftBottom","rightBottom","size","r"]),d=this.getSize(e)[0];if(a){var h=Math.cos(.1*Math.PI)*d,p=Math.sin(.1*Math.PI)*d;t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},f),{x:h,y:-p,r:c/2||l||5}),className:"link-point-right",name:"link-point-right"})}if(o){h=Math.cos(.5*Math.PI)*d,p=Math.sin(.5*Math.PI)*d;t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},f),{x:h,y:-p,r:c/2||l||5}),className:"link-point-top",name:"link-point-top"})}if(i){h=Math.cos(.9*Math.PI)*d,p=Math.sin(.9*Math.PI)*d;t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},f),{x:h,y:-p,r:c/2||l||5}),className:"link-point-left",name:"link-point-left"})}if(s){h=Math.cos(1.3*Math.PI)*d,p=Math.sin(1.3*Math.PI)*d;t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},f),{x:h,y:-p,r:c/2||l||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(u){h=Math.cos(1.7*Math.PI)*d,p=Math.sin(1.7*Math.PI)*d;t.shapeMap["link-point-right-bottom"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},f),{x:h,y:-p,r:c/2||l||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(e){for(var t=this.getSize(e)[0],n=3*t/8,r=e.innerR||n,o=[],i=0;i<5;i++){var a=Math.cos((18+72*i)/180*Math.PI)*t,s=Math.sin((18+72*i)/180*Math.PI)*t,u=Math.cos((54+72*i)/180*Math.PI)*r,c=Math.sin((54+72*i)/180*Math.PI)*r;0===i?o.push(["M",a,-s]):o.push(["L",a,-s]),o.push(["L",u,-c])}return o.push(["Z"]),o},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,vn.mix)({},t,n),o=this.getPath(e);return(0,gn.__assign)({path:o},r)},update:function(e,t,n){var r=t.getContainer(),o=this.getOptions({}).style,i=this.getPath(e),a={stroke:e.color,path:i},s=t.get("keyShape"),u=(0,vn.mix)({},o,s.attr(),a);u=(0,vn.mix)(u,e.style),this.updateShape(e,t,u,!0,n),this.updateLinkPoints(e,r)},updateLinkPoints:function(e,t){var n=this.getOptions({}).linkPoints,r=t.shapeMap["link-point-left"]||t.find((function(e){return"link-point-left"===e.get("className")})),o=t.shapeMap["link-point-right"]||t.find((function(e){return"link-point-right"===e.get("className")})),i=t.shapeMap["link-point-top"]||t.find((function(e){return"link-point-top"===e.get("className")})),a=t.shapeMap["link-point-left-bottom"]||t.find((function(e){return"link-point-left-bottom"===e.get("className")})),s=t.shapeMap["link-point-left-bottom"]||t.find((function(e){return"link-point-right-bottom"===e.get("className")})),u=n,c=r||o||i||a||s;c&&(u=c.attr());var l=(0,vn.mix)({},u,e.linkPoints),f=l.fill,d=l.stroke,h=l.lineWidth,p=l.size/2;p||(p=l.r);var g=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},v=g.left,m=g.right,y=g.top,b=g.leftBottom,x=g.rightBottom,w=this.getSize(e)[0],E={r:p,fill:f,stroke:d,lineWidth:h},_=Math.cos(.1*Math.PI)*w,S=Math.sin(.1*Math.PI)*w;o?m||void 0===m?o.attr((0,gn.__assign)((0,gn.__assign)({},E),{x:_,y:-S})):(o.remove(),delete t.shapeMap["link-point-right"]):m&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},E),{x:_,y:-S}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),_=Math.cos(.5*Math.PI)*w,S=Math.sin(.5*Math.PI)*w,i?y||void 0===y?i.attr((0,gn.__assign)((0,gn.__assign)({},E),{x:_,y:-S})):(i.remove(),delete t.shapeMap["link-point-top"]):y&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},E),{x:_,y:-S}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),_=Math.cos(.9*Math.PI)*w,S=Math.sin(.9*Math.PI)*w,r?v||void 0===v?r.attr((0,gn.__assign)((0,gn.__assign)({},E),{x:_,y:-S})):(r.remove(),delete t.shapeMap["link-point-left"]):v&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},E),{x:_,y:-S}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),_=Math.cos(1.3*Math.PI)*w,S=Math.sin(1.3*Math.PI)*w,a?b||void 0===b?a.attr((0,gn.__assign)((0,gn.__assign)({},E),{x:_,y:-S})):(a.remove(),delete t.shapeMap["link-point-left-bottom"]):b&&(t.shapeMap["link-point-left-bottom"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},E),{x:_,y:-S}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0})),_=Math.cos(1.7*Math.PI)*w,S=Math.sin(1.7*Math.PI)*w,s?x||void 0===x?s.attr((0,gn.__assign)((0,gn.__assign)({},E),{x:_,y:-S})):(a.remove(),delete t.shapeMap["link-point-right-bottom"]):x&&(t.shapeMap["link-point-right-bottom"]=t.addShape("circle",{attrs:(0,gn.__assign)((0,gn.__assign)({},E),{x:_,y:-S}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0}))}},"single-node");var vb=kf.defaultSubjectColors;Af("donut",{options:{size:Df.defaultNode.size,style:{x:0,y:0,stroke:Df.defaultNode.style.stroke,fill:Df.defaultNode.style.fill,lineWidth:Df.defaultNode.style.lineWidth},labelCfg:{style:{fill:Df.nodeLabel.style.fill,fontSize:Df.nodeLabel.style.fontSize,fontFamily:Df.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Df.defaultNode.linkPoints.size,lineWidth:Df.defaultNode.linkPoints.lineWidth,fill:Df.defaultNode.linkPoints.fill,stroke:Df.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,gn.__assign)({},Df.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,o=this.getShapeStyle(e),i=(0,vn.deepMix)({},r,e.icon),a=t.addShape("circle",{attrs:o,className:"".concat(this.type,"-keyShape"),draggable:!0,name:"".concat(this.type,"-keyShape")});t.shapeMap["".concat(this.type,"-keyShape")]=a;var s=i.width,u=i.height,c=i.show,l=i.text;c&&(t.shapeMap["".concat(this.type,"-icon")]=l?t.addShape("text",{attrs:(0,gn.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.addShape("image",{attrs:(0,gn.__assign)({x:-s/2,y:-u/2},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}));var f=a.attr("r"),d=.6*f,h=(f+d)/2,p=e,g=p.donutAttrs,v=void 0===g?{}:g,m=p.donutColorMap,y=void 0===m?{}:m,b=Object.keys(v).length;if(v&&b>1){var x=[],w=0;if(Object.keys(v).forEach((function(e){var t=v[e]||0;(0,vn.isNumber)(t)&&(x.push({key:e,value:t,color:y[e]}),w+=t)})),w){var E=f-d;if(1===b)return void(t.shapeMap["fan-shape-0"]=t.addShape("circle",{attrs:{r:h,x:0,y:0,stroke:x[0].color||vb[0],lineWidth:E},name:"fan-shape-0"}));var _=[h,0],S=0;x.forEach((function(e,n){var r=e.value/w;if(!(r<.001))if(r>.999&&(r=1),1!==r){e.percent=r,e.angle=r*Math.PI*2,e.beginAgnle=S,S+=e.angle,e.endAngle=S,e.arcBegin=_,e.arcEnd=[h*Math.cos(e.endAngle),-h*Math.sin(e.endAngle)];var o=e.angle>Math.PI?1:0,i=[["M",e.arcBegin[0],e.arcBegin[1]],["A",h,h,0,o,0,e.arcEnd[0],e.arcEnd[1]],["L",e.arcEnd[0],e.arcEnd[1]]];t.shapeMap["fan-shape-".concat(n)]=t.addShape("path",{attrs:{path:i,lineWidth:E,stroke:e.color||vb[n%vb.length]},name:"fan-shape-".concat(n)}),_=e.arcEnd}else t.shapeMap["fan-shape-".concat(n)]=t.addShape("circle",{attrs:{r:h,x:0,y:0,stroke:e.color||vb[n%vb.length],lineWidth:E},name:"fan-shape-".concat(n)})}))}}return this.drawLinkPoints(e,t),a},update:void 0},"circle");var mb=function(e){var t=e.x,n=e.y;return{x:t,y:n,centerX:t,centerY:n,minX:t,minY:n,maxX:t,maxY:n,height:0,width:0}},yb=function(e){for(var t=[],n={},r=e.length-1;r>=0;r--){var o=e[r];o.id="".concat(o.x,"|||").concat(o.y),n[o.id]=o,t.push(o)}return t},bb=function(e){return yb(e)},xb=function(e,t){return e.width||e.height?{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}:e},wb=function(e,t,n){var r=function(e,t){var n=Math.abs(e.x-t.centerX),r=Math.abs(e.y-t.centerY);return 0===n&&0===r?0:n/t.width>r/t.height}(t,e);if(0===r){var o=e.centerX,i=e.centerY;return n.y<t.y?i=e.minY:n.x>t.x?o=e.maxX:n.x<t.x?o=e.minX:n.x===t.x&&(i=e.maxY),{x:o,y:i}}return r?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},Eb=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),o=Math.max(e.maxX,t.maxX),i=Math.max(e.maxY,t.maxY);return{centerX:(n+o)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:o,maxY:i,height:i-r,width:o-n}},_b=function(e){return[{x:e.minX,y:e.minY},{x:e.maxX,y:e.minY},{x:e.maxX,y:e.maxY},{x:e.minX,y:e.maxY}]},Sb=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},kb=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},Tb=function(e,t,n,r,o){return kb(e,t)+kb(e,n)+function(e,t){var n=0;return t.forEach((function(t){t&&(e.x===t.x&&(n+=-2),e.y===t.y&&(n+=-2))})),n}(e,[t,n,r,o])},Cb=function e(t,n,r,o,i){void 0===i&&(i=0),t.unshift(n[o]),r[o]&&r[o]!==o&&i<=100&&e(t,n,r,r[o],i+1)},Mb=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},Nb=function(e,t,n,r){var o=n.x-e.x,i=n.y-e.y,a=r.x-e.x,s=r.y-e.y,u=n.x-t.x,c=n.y-t.y,l=r.x-t.x,f=r.y-t.y;return(o*s-i*a)*(u*f-c*l)<=0&&(o*c-i*u)*(a*f-s*l)<=0},Ab=function(e,t,n){if(n.width||n.height){var r=_b(n),o=r[0],i=r[1],a=r[2],s=r[3];return Nb(e,t,o,i)||Nb(e,t,o,s)||Nb(e,t,i,a)||Nb(e,t,a,s)}return!1},Pb=function(e,t,n,r){var o=[];return e.forEach((function(e){if(e!==t&&(e.x===t.x||e.y===t.y)){if(Ab(e,t,n)||Ab(e,t,r))return;o.push(e)}})),yb(o)},Ob=function(e,t){var n=[],r=e[0];return n.push("M".concat(r.x," ").concat(r.y)),e.forEach((function(r,o){var i=e[o+1],a=e[o+2];if(i&&a)if(function(e,t,n){return!(e.x===t.x&&t.x===n.x||e.y===t.y&&t.y===n.y)}(r,i,a)){var s=function(e,t,n,r){var o=kb(e,t),i=kb(n,t);return o<r&&(r=o),i<r&&(r=i),[{x:t.x-r/o*(t.x-e.x),y:t.y-r/o*(t.y-e.y)},{x:t.x-r/i*(t.x-n.x),y:t.y-r/i*(t.y-n.y)}]}(r,i,a,t),u=s[0],c=s[1];n.push("L".concat(u.x," ").concat(u.y)),n.push("Q".concat(i.x," ").concat(i.y," ").concat(c.x," ").concat(c.y)),n.push("L".concat(c.x," ").concat(c.y))}else n.push("L".concat(i.x," ").concat(i.y));else i&&n.push("L".concat(i.x," ").concat(i.y))})),n.join("")},Ib=function(e,t,n,r,o){var i,a;if(n&&n.getType())if("combo"===n.getType()){(i=n.getKeyShape().getCanvasBBox()||mb(e)).centerX=(i.minX+i.maxX)/2,i.centerY=(i.minY+i.maxY)/2}else i=n.getBBox();else i=mb(e);if(r&&r.getType())if("combo"===r.getType()){var s=r.getKeyShape().getBBox();if(s){var u=r.getModel(),c=u.x,l=u.y;(a={x:c,y:l,width:s.width,height:s.height,minX:s.minX+c,maxX:s.maxX+c,minY:s.minY+l,maxY:s.maxY+l}).centerX=(a.minX+a.maxX)/2,a.centerY=(a.minY+a.maxY)/2}else a=mb(t)}else a=r&&r.getBBox();else a=mb(t);var f=xb(i,o),d=xb(a,o),h=wb(f,e,t),p=wb(d,t,e),g=function(e){void 0===e&&(e=[]);var t=[],n=[];e.forEach((function(e){t.push(e.x),n.push(e.y)}));var r=Math.min.apply(Math,t),o=Math.max.apply(Math,t),i=Math.min.apply(Math,n),a=Math.max.apply(Math,n);return{centerX:(r+o)/2,centerY:(i+a)/2,maxX:o,maxY:a,minX:r,minY:i,height:a-i,width:o-r}}([h,p]),v=Eb(f,g),m=Eb(d,g),y=[];y=y.concat(_b(v)).concat(_b(m));var b={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[g,v,m].forEach((function(e){y=y.concat(function(e,t){return function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]}(e,t.x).concat(function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]}(e,t.y))}(e,b).filter((function(e){return Sb(e,f)&&Sb(e,d)})))})),[{x:h.x,y:p.y},{x:p.x,y:h.y}].forEach((function(e){Sb(e,f)&&Sb(e,d)&&y.push(e)})),y.unshift(h),y.push(p);var x=function(e,t,n,r,o,i,a){var s=[],u=[t],c={},l={},f={};l[t.id]=0,f[t.id]=Tb(t,n,t);var d,h,p={};for(e.forEach((function(e){p[e.id]=e}));u.length;){if(d=void 0,h=1/0,u.forEach((function(e){f[e.id]<=h&&(h=f[e.id],d=e)})),d===n){var g=[];return Cb(g,p,c,n.id),g}Mb(u,d),s.push(d),Pb(e,d,r,o).forEach((function(e){if(-1===s.indexOf(e)){-1===u.indexOf(e)&&u.push(e);var r=f[d.id]+kb(d,e);l[e.id]&&r>=l[e.id]||(c[e.id]=d.id,l[e.id]=r,f[e.id]=l[e.id]+Tb(e,n,t,i,a))}}))}return[t,n]}(y=yb(y),h,p,i,a,e,t);return x.unshift(e),x.push(t),bb(x)},Db={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},fallbackRoute:function(e,t,n,r,o){return bb(Ib(e,t,n,r,o.offset))}},Rb=(Math.PI,function(e,t){var n=Math.round(Math.abs(e/t));return n<0?0:(e<0?-1:1)*n}),Lb=function(e,t){var n=t.x-e.x,r=t.y-e.y;return n||r?Math.atan2(r,n):0},jb=function(e,t){var n=Math.abs(e-t);return n>Math.PI?2*Math.PI-n:n},Fb=function(e,t,n){for(var r=1/0,o=0,i=t.length;o<i;o++){var a=n(e,t[o]);a<r&&(r=a)}return r},Bb=function(e,t,n,r,o){var i=[];if(!n)return[e];var a=o.directions,s=o.offset,u=n.getBBox(),c=t.x>u.minX&&t.x<u.maxX&&t.y>u.minY&&t.y<u.maxY,l=xb(u,s);for(var f in l)l[f]=Rb(l[f],o.gridSize);if(c){for(var d=0,h=a;d<h.length;d++){var p=h[d],g=[[{x:l.minX,y:l.minY},{x:l.maxX,y:l.minY}],[{x:l.minX,y:l.minY},{x:l.minX,y:l.maxY}],[{x:l.maxX,y:l.minY},{x:l.maxX,y:l.maxY}],[{x:l.minX,y:l.maxY},{x:l.maxX,y:l.maxY}]];for(f=0;f<4;f++){var v=g[f],m=kf.getLineIntersect(e,{x:e.x+p.stepX*l.width,y:e.y+p.stepY*l.height},v[0],v[1]);m&&!Ab(e,m,u)&&(m.id="".concat(m.x,"|||").concat(m.y),i.push(m))}}return i}var y=wb(l,e,r);return y.id="".concat(y.x,"|||").concat(y.y),[y]},zb=function(e,t,n,r){var o=Lb(e,t);if(!n[e.id]){var i=Lb(r,e);return jb(i,o)}var a=Lb({x:n[e.id].x,y:n[e.id].y},e);return jb(a,o)},Gb=function(e,t,n,r,o,i,a){var s=[r],u=e.id,c=e.x,l=e.y,f={x:c,y:l,id:u};for(zb(f,i,t,n)&&s.unshift({x:i.x===r.x?r.x:f.x*a,y:i.y===r.y?r.y:f.y*a});t[u]&&t[u].id!==u;){var d={x:c,y:l,id:u},h=t[u].id,p=t[u].x,g=t[u].y,v={x:p,y:g,id:h};zb(v,d,t,n)&&s.unshift({x:v.x===d.x?s[0].x:v.x*a,y:v.y===d.y?s[0].y:v.y*a}),u=h,c=p,l=g}var m=c,y=l;return s[0].x=m===n.x?o.x:s[0].x,s[0].y=y===n.y?o.y:s[0].y,s.unshift(o),s},Vb=function(e,t,n,r,o){if(isNaN(e.x)||isNaN(t.x))return[];var i=(0,vn.deepMix)(Db,o);i.obstacles=i.obstacles||[];var a=i.gridSize,s=function(e,t,n){var r={};return e.forEach((function(e){if(e)for(var o=xb(e.getBBox(),n),i=Rb(o.minX,t);i<=Rb(o.maxX,t);i+=1)for(var a=Rb(o.minY,t);a<=Rb(o.maxY,t);a+=1)r["".concat(i,"|||").concat(a)]=!0})),r}(i.obstacles.concat([n,r]),a,i.offset),u={x:Rb(e.x,a),y:Rb(e.y,a)},c={x:Rb(t.x,a),y:Rb(t.y,a)};e.id="".concat(u.x,"|||").concat(u.y),t.id="".concat(c.x,"|||").concat(c.y);var l=Bb(u,e,n,c,i),f=Bb(c,t,r,u,i);l.forEach((function(e){delete s[e.id]})),f.forEach((function(e){delete s[e.id]}));for(var d={},h={},p={},g={},v={},m=0;m<l.length;m++){var y=l[m];d[y.id]=y,g[y.id]=0,v[y.id]=Fb(y,f,i.distFunc)}for(var b,x,w,E,_,S,k,T=i.maximumLoops,C=i.penalties;Object.keys(d).length>0&&T>0&&(b=void 0,x=1/0,Object.keys(d).forEach((function(e){var t=d[e].id;v[t]<=x&&(x=v[t],b=d[t])})),b);){if(f.findIndex((function(e){return e.x===b.x&&e.y===b.y}))>-1)return Gb(b,p,u,t,e,c,a);delete d[b.id],h[b.id]=!0;for(m=0;m<i.directions.length;m++)w=i.directions[m],h[(E={x:b.x+w.stepX,y:b.y+w.stepY,id:"".concat(Math.round(b.x)+w.stepX,"|||").concat(Math.round(b.y)+w.stepY)}).id]||(k=zb(b,E,p,u))>i.maxAllowedDirectionChange||s[E.id]||(d[E.id]||(d[E.id]=E),_=i.distFunc(b,E)+(isNaN(C[k])?a:C[k]),S=g[b.id]+_,g[E.id]&&S>=g[E.id]||(p[E.id]=b,g[E.id]=S,v[E.id]=S+Fb(E,f,i.distFunc)));T-=1}return i.fallbackRoute(e,t,n,r,i)};Pf("polyline",{options:{color:Df.defaultEdge.color,size:Df.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:Df.defaultEdge.style.stroke,lineAppendWidth:Df.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Df.edgeLabel.style.fill,fontSize:Df.edgeLabel.style.fontSize,fontFamily:Df.windowFontFamily}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:(0,gn.__assign)({},Df.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(e,t){var n=this.getShapeStyle(e);0===n.radius&&delete n.radius;var r=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:n});return t.shapeMap["edge-shape"]=r,r},getShapeStyle:function(e){var t=this.options.style,n={stroke:e.color},r=(0,vn.mix)({},t,n,e.style);e=this.getPathPoints(e),this.radius=r.radius,this.offset=r.offset;var o=e.startPoint,i=e.endPoint,a=this.getControlPoints(e),s=[o];a&&(s=s.concat(a)),s.push(i);var u=e.sourceNode,c=e.targetNode,l=r.radius,f=this.options.routeCfg,d=(0,vn.mix)({},f,e.routeCfg);d.offset=r.offset;var h=this.getPath(s,u,c,l,d);return((0,vn.isArray)(h)&&h.length<=1||(0,vn.isString)(h)&&-1===h.indexOf("L"))&&(h="M0 0, L0 0"),(isNaN(o.x)||isNaN(o.y)||isNaN(i.x)||isNaN(i.y))&&(h="M0 0, L0 0"),(0,vn.mix)({},Df.defaultEdge.style,r,{lineWidth:e.size,path:h})},updateShapeStyle:function(e,t){var n=t.getContainer();if(t.isVisible()){var r={stroke:e.color},o=n.shapeMap["edge-shape"]||n.find((function(e){return"edge-shape"===e.get("className")}))||t.getKeyShape(),i=e.size,a=(e=this.getPathPoints(e)).startPoint,s=e.endPoint,u=this.getControlPoints(e),c=[a];u&&(c=c.concat(u)),c.push(s);var l=o.attr(),f=(0,vn.mix)({},r,l,e.style),d=e.sourceNode,h=e.targetNode,p=f.radius,g=this.options.routeCfg,v=(0,vn.mix)({},g,e.routeCfg);v.offset=f.offset;var m=this.getPath(c,d,h,p,v);((0,vn.isArray)(m)&&m.length<=1||(0,vn.isString)(m)&&-1===m.indexOf("L"))&&(m="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(s.x)||isNaN(s.y))&&(m="M0 0, L0 0"),l.endArrow&&!1===f.endArrow&&(e.style.endArrow={path:""}),l.startArrow&&!1===f.startArrow&&(e.style.startArrow={path:""});var y=(0,vn.mix)(r,o.attr(),{lineWidth:i,path:m},e.style);o&&o.attr(y)}},getPath:function(e,t,n,r,o){var i=o.offset,a=o.simple;if(!i||e.length>2){if(r)return Ob(e,r);var s=[];return(0,vn.each)(e,(function(e,t){0===t?s.push(["M",e.x,e.y]):s.push(["L",e.x,e.y])})),s}var u=a?Ib(e[e.length-1],e[0],n,t,i):Vb(e[0],e[e.length-1],t,n,o);return u&&u.length?r?Ob(u,r):kf.pointsToPolygon(u):"M0 0, L0 0"}},"single-edge");var Ub=Zp.cloneEvent,Wb=Zp.isNaN,Zb=Math.abs,Yb=["shift","ctrl","alt","control"],Hb={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onMouseUp"}},updateViewport:function(e){var t=this.origin,n=+e.clientX,r=+e.clientY;if(!Wb(n)&&!Wb(r)){var o=n-t.x,i=r-t.y;"x"===this.get("direction")?i=0:"y"===this.get("direction")&&(o=0),this.origin={x:n,y:r};var a=this.graph.get("width"),s=this.graph.get("height"),u=this.graph.get("canvas").getCanvasBBox(),c=this.scalableRange,l=this.scalableRange;c<1&&c>-1&&(c*=a,l*=s),(u.minX<=a+c&&u.minX+o>a+c||u.maxX+c>=0&&u.maxX+c+o<0)&&(o=0),(u.minY<=s+l&&u.minY+i>s+l||u.maxY+l>=0&&u.maxY+l+i<0)&&(i=0),this.graph.translate(o,i)}},onTouchStart:function(e){var t=e.originalEvent.touches,n=t[0],r=t[1];n&&r||(e.preventDefault(),this.onMouseDown(e))},onMouseDown:function(e){var t=this,n=e.originalEvent;if((!n||e.name===bf.TOUCHSTART||0===n.button)&&(e.name===bf.TOUCHSTART||"undefined"===typeof window||!window.event||window.event.buttons||window.event.button)&&this.shouldBegin.call(this,e)&&!t.keydown){var r=e.target,o=r&&r.isCanvas&&r.isCanvas();if((this.allowDragOnItem||o)&&(t.origin={x:e.clientX,y:e.clientY},t.dragging=!1,this.enableOptimize)){for(var i=this.graph,a=i.getEdges(),s=0,u=a.length;s<u;s++){var c=a[s].get("group").get("children");c&&c.forEach((function(e){e.set("ori-visibility",e.get("ori-visibility")||e.get("visible")),e.hide()}))}for(var l=i.getNodes(),f=0,d=l.length;f<d;f++)for(var h=0,p=l[f].getContainer().get("children");h<p.length;h++){var g=p[h];g.get("isKeyShape")||(g.set("ori-visibility",g.get("ori-visibility")||g.get("visible")),g.hide())}}}},onTouchMove:function(e){var t=e.originalEvent.touches,n=t[0],r=t[1];n&&r?this.onMouseUp(e):(e.preventDefault(),this.onMouseMove(e))},onMouseMove:function(e){var t=this.graph;if(!this.keydown){var n=e.target,r=n&&n.isCanvas&&n.isCanvas();if((this.allowDragOnItem||r)&&(e=Ub(e),this.origin)){if(this.dragging)e.type="drag",t.emit("canvas:drag",e);else{if(Zb(this.origin.x-e.clientX)+Zb(this.origin.y-e.clientY)<10)return;this.shouldBegin.call(this,e)&&(e.type="dragstart",t.emit("canvas:dragstart",e),this.originPosition={x:e.clientX,y:e.clientY},this.dragging=!0)}this.shouldUpdate.call(this,e)&&this.updateViewport(e)}}},onMouseUp:function(e){var t,n,r=this.graph;if(!this.keydown){var o=r.getZoom(),i=r.get("modeController"),a=null===(n=null===(t=null===i||void 0===i?void 0:i.modes[i.mode])||void 0===t?void 0:t.filter((function(e){return"zoom-canvas"===e.type})))||void 0===n?void 0:n[0],s=a?a.optimizeZoom||.1:0;if(this.enableOptimize){for(var u=r.getEdges(),c=0,l=u.length;c<l;c++){var f=u[c].get("group").get("children");f&&f.forEach((function(e){e.get("ori-visibility")&&e.show()}))}if(o>s)for(var d=r.getNodes(),h=0,p=d.length;h<p;h++)for(var g=0,v=d[h].getContainer().get("children");g<v.length;g++){var m=v[g];if(!m.get("isKeyShape"))m.get("ori-visibility")&&m.show()}}this.dragging?(e=Ub(e),this.shouldEnd.call(this,e)&&this.updateViewport(e),e.type="dragend",e.dx=e.clientX-this.originPosition.x,e.dy=e.clientY-this.originPosition.y,r.emit("canvas:dragend",e),this.endDrag()):this.origin=null}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(e){var t=e.key;t&&(Yb.indexOf(t.toLowerCase())>-1?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},Xb={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected",enableOptimize:!1,enableDebounce:!1,enableStack:!0}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onDragEnd"}},validationCombo:function(e){return!(!this.origin||!e||e.destroyed)&&"combo"===e.getType()},onTouchStart:function(e){if(e.item){try{var t=e.originalEvent.touches,n=t[0],r=t[1];if(n&&r)return;e.preventDefault()}catch(e){console.warn("Touch original event not exist!")}this.onDragStart(e)}},onTouchMove:function(e){try{var t=e.originalEvent.touches,n=t[0],r=t[1];if(n&&r)return void this.onDragEnd(e);e.preventDefault()}catch(e){console.warn("Touch original event not exist!")}this.onDrag(e)},onDragStart:function(e){var t=this;if(this.currentShouldEnd=!0,this.shouldBegin.call(this,e)){var n=e.item;if(n&&!n.destroyed&&!n.hasLocked()){n.getContainer().set("capture",!1),this.cachedCaptureItems||(this.cachedCaptureItems=[]),this.cachedCaptureItems.push(n);var r=e.target;if(r)if(r.get("isAnchorPoint"))return;var o=this.graph;this.targets=[],this.targetCombo=null;var i=o.findAllByState("node",this.selectedState),a=n.get("id"),s=i.filter((function(e){var t=e.get("id");return a===t}));0===s.length?this.targets.push(n):i.length>1?i.forEach((function(e){e.hasLocked()||t.targets.push(e)})):this.targets.push(n);var u=[];this.targets.forEach((function(e){u.push((0,vn.clone)(e.getModel()))})),this.set("beforeDragNodes",u),this.hidenEdge={},this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach((function(e){e.getEdges().forEach((function(e){e.isVisible()&&(t.hidenEdge[e.getID()]=!0,e.hide())}))})),this.origin={x:e.x,y:e.y},this.point={},this.originPoint={}}}},onDrag:function(e){var t=this;this.origin&&this.shouldUpdate.call(this,e)&&(this.get("enableDelegate")?this.updateDelegate(e):this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge")}):this.targets.map((function(n){t.update(n,e)})))},onDragEnd:function(e){var t,n=this;if(this.origin){null===(t=this.cachedCaptureItems)||void 0===t||t.forEach((function(e){e.getContainer().set("capture",!0)})),this.cachedCaptureItems=[],this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach((function(e){e.getEdges().forEach((function(e){n.hidenEdge[e.getID()]&&e.show(),e.refresh()}))})),this.hidenEdge={};var r=this.graph;if(r.get("enabledStack")&&this.enableStack){var o={before:{nodes:[],edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.get("beforeDragNodes").forEach((function(e){o.before.nodes.push({id:e.id,x:e.x,y:e.y})})),this.targets.forEach((function(e){var t=e.getModel();o.after.nodes.push({id:t.id,x:t.x,y:t.y})})),r.pushStack("update",(0,vn.clone)(o))}r.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(e){var t=e.item;if(this.currentShouldEnd=this.shouldEnd.call(this,e,t),this.updatePositions(e,!this.currentShouldEnd),this.currentShouldEnd&&this.validationCombo(t)){var n=this.graph;if(this.comboActiveState&&n.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)n.updateCombos();else{var r=t.getModel();this.targets.map((function(e){e.getModel().comboId!==r.id&&n.updateComboTree(e,r.id)})),n.updateCombo(t)}n.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(e){var t=this.graph;this.currentShouldEnd=this.shouldEnd.call(this,e,void 0),this.updatePositions(e,!this.currentShouldEnd),this.targets&&0!==this.targets.length&&this.currentShouldEnd&&(this.onlyChangeComboSize?t.updateCombos():this.targets.map((function(e){e.getModel().comboId&&t.updateComboTree(e)})))},onDropNode:function(e){if(this.targets&&0!==this.targets.length){var t=this,n=e.item,r=t.graph,o=n.getModel().comboId,i=o?r.findById(o):void 0;if(this.currentShouldEnd=this.shouldEnd.call(this,e,i),this.updatePositions(e,!this.currentShouldEnd),this.currentShouldEnd){if(this.onlyChangeComboSize)r.updateCombos();else if(o){var a=r.findById(o);t.comboActiveState&&r.setItemState(a,t.comboActiveState,!1),this.targets.map((function(e){var t=e.getModel();o!==t.comboId&&r.updateComboTree(e,o)})),r.updateCombo(a)}else this.targets.map((function(e){e.getModel().comboId&&r.updateComboTree(e)}));r.emit("dragnodeend",{items:this.targets,targetItem:n})}}},onDragEnter:function(e){var t=e.item;if(this.validationCombo(t)){var n=this.graph;this.comboActiveState&&n.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(e){var t=e.item;if(this.validationCombo(t)){var n=this.graph;this.comboActiveState&&n.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(e,t){var n=this;this.targets&&0!==this.targets.length&&(this.get("enableDelegate")?this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge"),updateFunc:this.update}):t||this.targets.map((function(t){return n.update(t,e)})):this.targets.map((function(r){return n.update(r,e,t)})))},update:function(e,t,n){var r=this.origin,o=e.get("model"),i=e.get("id");this.point[i]||(this.point[i]={x:o.x||0,y:o.y||0});var a=t.x-r.x+this.point[i].x,s=t.y-r.y+this.point[i].y;n&&(a+=r.x-t.x,s+=r.y-t.y);var u={x:a,y:s};this.get("updateEdge")?this.graph.updateItem(e,u,!1):e.updatePosition(u)},debounceUpdate:(0,vn.debounce)((function(e){var t=e.targets,n=e.graph,r=e.point,o=e.origin,i=e.evt,a=e.updateEdge;e.updateFunc;t.map((function(e){var t=e.get("model"),s=e.get("id");r[s]||(r[s]={x:t.x||0,y:t.y||0});var u={x:i.x-o.x+r[s].x,y:i.y-o.y+r[s].y};a?n.updateItem(e,u,!1):e.updatePosition(u)}))}),50,!0),updateDelegate:function(e){var t=this.graph;if(this.delegateRect){var n=e.x-this.origin.x+this.originPoint.minX,r=e.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:n,y:r})}else{var o=t.get("group"),i=(0,vn.deepMix)({},Cp.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(e),s=a.x,u=a.y,c=a.width,l=a.height,f=a.minX,d=a.minY;this.originPoint={x:s,y:u,width:c,height:l,minX:f,minY:d},this.delegateRect=o.addShape("rect",{attrs:(0,gn.__assign)({width:c,height:l,x:s,y:u},i),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(e){var t=this.targets;0===t.length&&t.push(e.item);for(var n=1/0,r=-1/0,o=1/0,i=-1/0,a=0;a<t.length;a++){var s=t[a].getBBox(),u=s.minX,c=s.minY,l=s.maxX,f=s.maxY;u<n&&(n=u),c<o&&(o=c),l>r&&(r=l),f>i&&(i=f)}return{x:Math.floor(n),y:Math.floor(o),width:Math.ceil(r)-Math.floor(n),height:Math.ceil(i)-Math.floor(o),minX:n,minY:o}}},Kb={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return"mouseenter"===this.get("trigger")?{"node:mouseenter":"setAllItemStates","combo:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState","combo:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","combo:click":"setAllItemStates","canvas:click":"clearActiveState","node:touchstart":"setOnTouchStart","combo:touchstart":"setOnTouchStart","canvas:touchstart":"clearOnTouchStart"}},setOnTouchStart:function(e){try{var t=e.originalEvent.touches,n=t[0],r=t[1];if(n&&r)return;e.preventDefault()}catch(e){console.warn("Touch original event not exist!")}this.setAllItemStates(e)},clearOnTouchStart:function(e){try{var t=e.originalEvent.touches,n=t[0],r=t[1];if(n&&r)return;e.preventDefault()}catch(e){console.warn("Touch original event not exist!")}this.clearActiveState(e)},setAllItemStates:function(e){var t=e.item,n=this.graph;if(this.item=t,this.shouldUpdate(e.item,{event:e,action:"activate"})){for(var r=this.activeState,o=this.inactiveState,i=n.getNodes(),a=n.getCombos(),s=n.getEdges(),u=n.get("vedges"),c=i.length,l=a.length,f=s.length,d=u.length,h=0;h<c;h++){var p=i[h],g=p.hasState("selected");this.resetSelected&&g&&n.setItemState(p,"selected",!1),n.setItemState(p,r,!1),o&&n.setItemState(p,o,!0)}for(h=0;h<l;h++){var v=a[h];g=v.hasState("selected");this.resetSelected&&g&&n.setItemState(v,"selected",!1),n.setItemState(v,r,!1),o&&n.setItemState(v,o,!0)}for(h=0;h<f;h++){var m=s[h];n.setItemState(m,r,!1),o&&n.setItemState(m,o,!0)}for(h=0;h<d;h++){var y=u[h];n.setItemState(y,r,!1),o&&n.setItemState(y,o,!0)}o&&n.setItemState(t,o,!1),n.setItemState(t,r,!0);var b=t.getEdges(),x=b.length;for(h=0;h<x;h++){var w=void 0;w=(m=b[h]).getSource()===t?m.getTarget():m.getSource(),o&&n.setItemState(w,o,!1),n.setItemState(w,r,!0),n.setItemState(m,o,!1),n.setItemState(m,r,!0),m.toFront()}n.emit("afteractivaterelations",{item:e.item,action:"activate"})}},clearActiveState:function(e){var t=this,n=t.get("graph");if(t.shouldUpdate(e.item,{event:e,action:"deactivate"})){var r=this.activeState,o=this.inactiveState,i=n.get("autoPaint");n.setAutoPaint(!1);for(var a=n.getNodes()||[],s=n.getCombos()||[],u=n.getEdges()||[],c=n.get("vedges")||[],l=a.length,f=s.length,d=u.length,h=c.length,p=0;p<l;p++){var g=a[p];n.clearItemStates(g,[r,o])}for(p=0;p<f;p++){var v=s[p];n.clearItemStates(v,[r,o])}for(p=0;p<d;p++){var m=u[p];n.clearItemStates(m,[r,o,"deactivate"])}for(p=0;p<h;p++){var y=c[p];n.clearItemStates(y,[r,o,"deactivate"])}n.paint(),n.setAutoPaint(i),n.emit("afteractivaterelations",{item:e.item||t.get("item"),action:"deactivate"})}}},qb=Math.min,$b=Math.max,Jb=Math.abs,Qb="shift",ex=["drag","shift","ctrl","alt","control"],tx={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:Qb,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return ex.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Qb,console.warn("Behavior brush-select \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),"drag"===this.trigger?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(e){var t=e.item,n=this.brush;t||("drag"===this.trigger||this.keydown)&&(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates(),n||(n=this.createBrush()),this.originPoint={x:e.canvasX,y:e.canvasY},n.attr({width:0,height:0}),n.show(),this.dragging=!0)},onMouseMove:function(e){this.dragging&&("drag"===this.trigger||this.keydown)&&this.updateBrush(e)},onMouseUp:function(e){this.graph;(this.brush||this.dragging)&&("drag"===this.trigger||this.keydown)&&(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(e),this.dragging=!1)},clearStates:function(){var e=this.graph,t=this.selectedState,n=e.findAllByState("node",t),r=e.findAllByState("edge",t);n.forEach((function(n){return e.setItemState(n,t,!1)})),r.forEach((function(n){return e.setItemState(n,t,!1)})),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),e.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(e){var t=this,n=this,r=n.graph,o=n.originPoint,i=n.shouldUpdate,a=this.selectedState,s={x:e.x,y:e.y},u=r.getPointByCanvas(o.x,o.y),c=qb(s.x,u.x),l=$b(s.x,u.x),f=qb(s.y,u.y),d=$b(s.y,u.y),h=[],p=[];r.getNodes().forEach((function(e){if(e.isVisible()){var t=e.getBBox();if(t.centerX>=c&&t.centerX<=l&&t.centerY>=f&&t.centerY<=d&&i(e,"select")){h.push(e);var n=e.getModel();p.push(n.id),r.setItemState(e,a,!0)}}}));var g=[];this.includeEdges&&h.forEach((function(e){e.getOutEdges().forEach((function(e){if(e.isVisible()){var n=e.getModel(),o=n.source,a=n.target;p.includes(o)&&p.includes(a)&&i(e,"select")&&(g.push(e),r.setItemState(e,t.selectedState,!0))}}))})),this.selectedEdges=g,this.selectedNodes=h,this.onSelect&&this.onSelect(h,g),r.emit("nodeselectchange",{selectedItems:{nodes:h,edges:g},select:!0})},createBrush:function(){var e=this.graph.get("canvas").addShape("rect",{attrs:this.brushStyle,capture:!1,name:"brush-shape"});return this.brush=e,this.delegate=e,e},updateBrush:function(e){var t=this.originPoint;this.brush.attr({width:Jb(e.canvasX-t.x),height:Jb(e.canvasY-t.y),x:qb(e.canvasX,t.x),y:qb(e.canvasY,t.y)})},onKeyDown:function(e){var t=e.key;if(t){var n=this.trigger.toLowerCase(),r=t.toLowerCase();this.keydown=r===n||"control"===r&&"ctrl"===n||"ctrl"===r&&"control"===n}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},nx="shift",rx=["shift","ctrl","alt","control"],ox={getDefaultCfg:function(){return{multiple:!0,trigger:nx,selectedState:"selected"}},getEvents:function(){var e=this;return rx.indexOf(e.trigger.toLowerCase())>-1||(e.trigger=nx,console.warn("Behavior brush-select \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),e.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(e){var t=this,n=e.item;if(n&&!n.destroyed){n.getType();var r=t.graph,o=t.keydown,i=t.multiple,a=t.shouldUpdate;if(t.shouldBegin.call(t,e)){if(!o||!i){var s=r.findAllByState("node",t.selectedState).concat(r.findAllByState("combo",t.selectedState));(0,vn.each)(s,(function(e){e!==n&&r.setItemState(e,t.selectedState,!1)}))}if(n.hasState(t.selectedState)){a.call(t,e)&&r.setItemState(n,t.selectedState,!1);var u=r.findAllByState("node",t.selectedState),c=r.findAllByState("combo",t.selectedState);r.emit("nodeselectchange",{target:n,selectedItems:{nodes:u,combos:c},select:!1})}else{a.call(t,e)&&r.setItemState(n,t.selectedState,!0);u=r.findAllByState("node",t.selectedState),c=r.findAllByState("combo",t.selectedState);r.emit("nodeselectchange",{target:n,selectedItems:{nodes:u,combos:c},select:!0})}}}},onCanvasClick:function(e){var t=this,n=this.graph;if(this.shouldBegin.call(this,e)){var r=n.findAllByState("node",this.selectedState);(0,vn.each)(r,(function(e){n.setItemState(e,t.selectedState,!1)}));var o=n.findAllByState("combo",this.selectedState);(0,vn.each)(o,(function(e){n.setItemState(e,t.selectedState,!1)})),n.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})}},onKeyDown:function(e){var t=e.key;t&&(t.toLowerCase()===this.trigger.toLowerCase()||"control"===t.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},ix=Mn,ax={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"},animate:!1,animateCfg:{duration:500}}},getEvents:function(){var e=this.fixSelectedItems;return e.fixState||(e.fixState="selected"),e.fixAll&&(e.fixLineWidth=!0,e.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(e){var t=e.originalEvent.touches,n=t[0],r=t[1];e.preventDefault(),r&&(this.shouldBegin&&!this.shouldBegin.call(this,e)||(this.startPoint={pageX:n.pageX,pageY:n.pageY},this.moveable=!0,r&&(this.endPoint={pageX:r.pageX,pageY:r.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(e){if(this.moveable){e.preventDefault();var t=e.originalEvent.touches,n=t[0],r=t[1];if(r){this.endPoint||(this.endPoint={pageX:r.pageX,pageY:r.pageY});var o=function(e,t){return Math.hypot(t.x-e.x,t.y-e.y)},i=o({x:n.pageX,y:n.pageY},{x:r.pageX,y:r.pageY})/o({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),a=this.originScale*i;this.currentScale=a;var s=this.get("minZoom")||this.graph.get("minZoom");if(!(a>(this.get("maxZoom")||this.graph.get("maxZoom"))||a<s)){var u=this.get("animate"),c=this.get("animateCfg"),l=this.graph.get("canvas").getPointByClient(e.clientX,e.clientY);this.graph.zoomTo(a,{x:l.x,y:l.y},u,c),this.graph.emit("wheelzoom",e)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(e){var t=this,n=this.graph,r=this.fixSelectedItems;if((!this.shouldBegin||this.shouldBegin.call(this,e))&&this.shouldUpdate.call(this,e)){e.preventDefault();var o,i=n.get("canvas").getPointByClient(e.clientX,e.clientY),a=this.get("sensitivity"),s=n.getZoom();o=s*(e.wheelDelta<0?1-.05*a:1/(1-.05*a));var u=this.get("minZoom")||n.get("minZoom");if(!(o>(this.get("maxZoom")||n.get("maxZoom"))||o<u)){if(this.get("enableOptimize")){var c=this.get("optimizeZoom"),l=this.get("optimized"),f=n.getNodes(),d=n.getEdges(),h=f.length,p=d.length;if(!l){for(var g=0;g<h;g++){if(!(k=f[g]).destroyed)for(var v=(H=k.get("group").get("children")).length,m=0;m<v;m++){(R=H[m]).destoryed||R.get("isKeyShape")||(R.set("ori-visibility",R.get("ori-visibility")||R.get("visible")),R.hide())}}for(var y=0;y<p;y++)for(v=(H=(Y=d[y]).get("group").get("children")).length,m=0;m<v;m++){(R=H[m]).set("ori-visibility",R.get("ori-visibility")||R.get("visible")),R.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var b=setTimeout((function(){var e=n.getZoom();if(t.get("optimized")){t.set("optimized",!1);for(var r=0;r<h;r++){var o=f[r],i=(l=o.get("group").get("children")).length;if(e<c)(s=(g=o.getKeyShape()).get("ori-visibility"))&&g.show();else for(var a=0;a<i;a++){var s=(m=l[a]).get("ori-visibility");!m.get("visible")&&s&&s&&m.show()}}for(var u=0;u<p;u++){var l,g,v=d[u];i=(l=v.get("group").get("children")).length;if(e<c)(s=(g=v.getKeyShape()).get("ori-visibility"))&&g.show();else for(a=0;a<i;a++){var m;if(!(m=l[a]).get("visible"))(s=m.get("ori-visibility"))&&m.show()}}}}),100);this.set("timeout",b)}if(s<=1){var x=void 0,w=void 0;if(r.fixAll||r.fixLineWidth||r.fixLabel){x=n.findAllByState("node",r.fixState),w=n.findAllByState("edge",r.fixState);for(var E=s/o,_=x.length,S=0;S<_;S++){var k,T=(k=x[S]).getContainer(),C=k.getModel(),M=k.getOriginStyle(),N=k.getStateStyle(r.fixState),A=k.get("shapeFactory").getShape(C.type).getStateStyle(r.fixState,k)[r.fixState];if(r.fixAll){if(o<=1){var P=(0,vn.clone)(T.getMatrix());P||(P=[1,0,0,0,1,0,0,0,1]);var O=k.getModel(),I=O.x,D=O.y;P=ix(P,[["t",-I,-D],["s",E,E],["t",I,D]]),T.setMatrix(P)}}else for(v=(H=T.get("children")).length,m=0;m<v;m++){var R=H[m],L=void 0,j=void 0;if(r.fixLabel)if("text"===R.get("type")){L=R.attr("fontSize")||12;var F=N[R.get("name")],B=A[R.get("name")],z=F?F.fontSize:12,G=B?B.fontSize:12,V=z||G||12;if(o<=1&&R.attr("fontSize",V/o),j)break}if(r.fixLineWidth&&R.get("isKeyShape")){j=R.attr("lineWidth")||0;var U=N.lineWidth||A.lineWidth||M.lineWidth||0;if(o<=1&&R.attr("lineWidth",U/o),L)break}}}for(var W=w.length,Z=0;Z<W;Z++){var Y,H=(T=(Y=w[Z]).getContainer()).get("children");for(C=Y.getModel(),N=Y.getStateStyle(r.fixState),A=Y.get("shapeFactory").getShape(C.type).getStateStyle(r.fixState,Y)[r.fixState],v=H.length,m=0;m<v;m++){R=H[m],L=void 0,j=void 0;if(r.fixLabel||r.fixAll)if("text"===R.get("type")){L=R.attr("fontSize")||12;F=N[R.get("name")],B=A[R.get("name")],z=F?F.fontSize:12,G=B?B.fontSize:12,V=z||G||12;if(o<=1&&R.attr("fontSize",V/o),j)break}if((r.fixLineWidth||r.fixAll)&&R.get("isKeyShape")){j=R.attr("lineWidth")||0;U=N.lineWidth||A.lineWidth||1;if(o<=1&&R.attr("lineWidth",U/o),L)break}}}}}var X=this.get("animate"),K=this.get("animateCfg");n.zoomTo(o,{x:i.x,y:i.y},X,K),n.emit("wheelzoom",e)}}}},sx={onMouseEnter:function(e){var t=e.item;this.currentTarget=t,this.showTooltip(e),this.graph.emit("tooltipchange",{item:e.item,action:"show"})},onMouseMove:function(e){this.shouldUpdate(e)?this.currentTarget&&e.item===this.currentTarget&&this.updatePosition(e):this.hideTooltip()},onMouseLeave:function(e){this.shouldEnd(e)&&(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(e){var t=this.container;if(e.item&&!e.item.destroyed){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var n=this.formatText(e.item.get("model"),e);t.innerHTML=n,kg(this.container,{visibility:"visible"}),this.updatePosition(e)}},hideTooltip:function(){kg(this.container,{visibility:"hidden"})},updatePosition:function(e){var t=this.get("shouldBegin"),n=this,r=n.width,o=n.height,i=n.container,a=n.graph;if(t(e)){var s=a.getPointByClient(e.clientX,e.clientY),u=a.getCanvasByPoint(s.x,s.y),c=u.x,l=u.y,f=i.getBoundingClientRect();c>r/2?c-=f.width:c+=this.offset,l>o/2?l-=f.height:l+=this.offset;var d="".concat(c,"px"),h="".concat(l,"px");kg(this.container,{left:d,top:h,visibility:"visible"})}else kg(i,{visibility:"hidden"})},createTooltip:function(e){var t=e.get("el");t.style.position="relative";var n=mg('<div class="g6-tooltip g6-'.concat(this.item,'-tooltip"></div>'));return t.parentNode.appendChild(n),kg(n,{position:"absolute",visibility:"visible"}),this.width=e.get("width"),this.height=e.get("height"),this.container=n,this.graph.get("tooltips").push(n),n}},ux=(0,gn.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(e){return e.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},sx),cx=(0,gn.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(e){return"source: ".concat(e.source," target: ").concat(e.target)}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},sx),lx="click",fx=["click","dblclick"],dx={getDefaultCfg:function(){return{trigger:lx,onChange:function(){}}},getEvents:function(){var e,t;return fx.includes(this.trigger)?t=this.trigger:(t=lx,console.warn("Behavior collapse-expand \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'click' \u6216 'dblclick'")),(e={})["node:".concat(t)]="onNodeClick",e.touchstart="onNodeClick",e},onNodeClick:function(e){var t=e.item;if(t){var n=this.graph.findDataById(t.get("id"));if(n){var r=n.children;if(r&&0!==r.length){var o=!n.collapsed;this.shouldBegin(e,o)&&(n.collapsed=o,t.getModel().collapsed=o,this.graph.emit("itemcollapsed",{item:e.item,collapsed:o}),this.shouldUpdate(e,o)&&(this.onChange(t,o),this.graph.layout()))}}}}},hx=Zp.calculationItemsBBox,px=function e(t,n){if(!1!==n(t)&&t){var r=t.get("combos");if(0===r.length)return!1;(0,vn.each)(r,(function(t){e(t,n)}))}},gx={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(e){var t=e.item;return!(!t||t.destroyed)&&(!!this.shouldUpdate.call(this,e)&&"combo"===t.getType())},onDragStart:function(e){var t=this,n=this.graph,r=e.item;if(this.currentShouldEnd=!0,this.validationCombo(e)){this.targets=[];var o=n.findAllByState("combo",this.selectedState),i=r.get("id"),a=o.filter((function(e){var t=e.get("id");return i===t}));0===a.length?this.targets.push(r):this.targets=o,this.activeState&&this.targets.map((function(e){var r=e.getModel();if(r.parentId){var o=n.findById(r.parentId);o&&n.setItemState(o,t.activeState,!0)}})),this.point={},this.originPoint={},this.origin={x:e.x,y:e.y},this.currentItemChildCombos=[],px(r,(function(e){if(e.destroyed)return!1;var n=e.getModel();return t.currentItemChildCombos.push(n.id),!0}))}},onDrag:function(e){var t=this;if(this.origin&&this.validationCombo(e))if(this.enableDelegate)this.updateDelegate(e);else{if(this.activeState){var n=this.graph,r=e.item,o=r.getModel(),i=n.getCombos(),a=r.getBBox(),s=a.centerX,u=a.centerY,c=a.width,l=i.filter((function(e){var n=e.getModel();return o.parentId,n.id!==o.id&&!t.currentItemChildCombos.includes(n.id)}));l.map((function(e){var r=e.getBBox(),o=r.centerX,i=r.centerY,a=r.width,l=s-o,f=u-i,d=2*Math.sqrt(l*l+f*f);c+a-d>.8*c?n.setItemState(e,t.activeState,!0):n.setItemState(e,t.activeState,!1)}))}(0,vn.each)(this.targets,(function(n){t.updateCombo(n,e)}))}},updatePositions:function(e,t){var n=this;(this.enableDelegate||t)&&(0,vn.each)(this.targets,(function(r){n.updateCombo(r,e,t)}))},onDrop:function(e){var t=this,n=e.item;if(this.currentShouldEnd=this.shouldEnd.call(this,e,n),this.updatePositions(e,!this.currentShouldEnd),this.currentShouldEnd&&n&&this.targets&&!n.destroyed){var r=this.graph,o=n.getModel();this.targets.map((function(e){e.getModel().parentId!==o.id?(t.activeState&&r.setItemState(n,t.activeState,!1),t.onlyChangeComboSize?r.updateCombo(e):r.updateComboTree(e,o.id)):r.updateCombo(n)})),this.end(n,e),this.endComparison=!0}},onNodeDrop:function(e){var t=this;if(this.targets&&0!==this.targets.length){var n=this.graph,r=e.item.getModel().comboId,o=r?n.findById(r):void 0;if(this.currentShouldEnd=this.shouldEnd.call(this,e,o),this.updatePositions(e,!this.currentShouldEnd),this.currentShouldEnd){var i;if(r){if(this.activeState){var a=n.findById(r);n.setItemState(a,this.activeState,!1)}this.targets.map((function(e){t.onlyChangeComboSize?n.updateCombo(e):r!==e.getID()&&(i=n.findById(r),r!==e.getModel().parentId&&n.updateComboTree(e,r))}))}else this.targets.map((function(e){t.onlyChangeComboSize?n.updateCombo(e):e.getModel().comboId&&n.updateComboTree(e)}));this.endComparison=!0,this.end(i,e)}}},onDragEnter:function(e){if(this.origin&&this.validationCombo(e)){var t=e.item,n=this.graph;this.activeState&&n.setItemState(t,this.activeState,!0)}},onDragLeave:function(e){if(this.origin&&this.validationCombo(e)){var t=e.item,n=this.graph;this.activeState&&n.setItemState(t,this.activeState,!1)}},onDragEnd:function(e){if(this.targets&&0!==this.targets.length){var t=e.item;this.currentShouldEnd&&this.updatePositions(e);var n=this.getParentCombo(t.getModel().parentId),r=this.graph;n&&this.activeState&&r.setItemState(n,this.activeState,!1),this.end(void 0,e)}},end:function(e,t){var n=this;if(this.origin){var r=this.graph;if(this.delegateShape)r.get("delegateGroup").clear(),this.delegateShape=null;e&&this.activeState&&r.setItemState(e,this.activeState,!1),e||this.targets.map((function(e){n.onlyChangeComboSize?r.updateCombo(e):r.updateComboTree(e)})),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(e,t){var n=this;if(!1!==t(e)&&e){var r=e.get("combos");(0,vn.each)(r,(function(e){n.traverse(e,t)}));var o=e.get("nodes");(0,vn.each)(o,(function(e){n.traverse(e,t)}))}},updateCombo:function(e,t,n){var r=this;this.traverse(e,(function(e){return!e.destroyed&&(r.updateSignleItem(e,t,n),!0)}))},updateSignleItem:function(e,t,n){var r=this.origin,o=this.graph,i=e.getModel(),a=e.get("id");this.point[a]||(this.point[a]={x:i.x,y:i.y});var s=t.x-r.x+this.point[a].x,u=t.y-r.y+this.point[a].y;n&&(s+=r.x-t.x,u+=r.y-t.y),o.updateItem(e,{x:s,y:u})},getParentCombo:function(e){var t=this.graph;if(e){var n=t.findById(e);if(n)return n}},updateDelegate:function(e){var t=this.graph;if(this.delegateShape){var n=e.x-this.origin.x+this.originPoint.minX,r=e.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:n,y:r})}else{var o=t.get("delegateGroup"),i=null,a=(i=this.targets.length>1?hx(this.targets):this.targets[0].getBBox()).x,s=i.y,u=i.width,c=i.height,l=i.minX,f=i.minY;this.originPoint={x:a,y:s,width:u,height:c,minX:l,minY:f};var d=(0,gn.__assign)((0,gn.__assign)({},Cp.delegateStyle),this.delegateStyle);this.delegateShape=o.addShape("rect",{attrs:(0,gn.__assign)({width:i.width,height:i.height,x:i.x,y:i.y},d),name:"combo-delegate-shape"}),this.delegateShape.set("capture",!1),this.delegate=this.delegateShape}}},vx="dblclick",mx=["click","dblclick"],yx={getDefaultCfg:function(){return{trigger:vx,relayout:!0}},getEvents:function(){var e,t;return mx.includes(this.trigger)?t=this.trigger:(t=vx,console.warn("Behavior collapse-expand-group \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'click' \u6216 'dblclick'")),(e={})["combo:".concat(t)]="onComboClick",e},onComboClick:function(e){var t=e.item,n=this.graph,r=this.relayout;if(t&&!t.destroyed&&"combo"===t.getType()){var o=t.getModel().id;o&&(n.collapseExpandCombo(o),r&&n.get("layout")?n.layout():n.refreshPositions())}}},bx=Zp.isPolygonsIntersect,xx=Zp.pathToPoints,wx="shift",Ex=["drag","shift","ctrl","alt","control"],_x={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},shouldDeselect:void 0,selectedState:"selected",trigger:wx,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return Ex.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=wx,console.warn("Behavior lasso-select \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),"drag"===this.trigger?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(e){var t=this.lasso;e.item||("drag"===this.trigger||this.keydown)&&(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates("dragstart"),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:e.x,y:e.y},this.points.push(this.originPoint),t.show())},onDragMove:function(e){this.dragging&&("drag"===this.trigger||this.keydown)&&(this.points.push({x:e.x,y:e.y}),this.updateLasso(e))},onDragEnd:function(e){(this.lasso||this.dragging)&&("drag"===this.trigger||this.keydown)&&(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var e=this.points,t=[];return e.length&&(e.forEach((function(e,n){0===n?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])})),t.push(["L",e[0].x,e[0].y])),t},clearStates:function(e){void 0===e&&(e="canvas:click");var t=this,n=t.graph,r=t.selectedState,o=t.shouldDeselect,i=n.findAllByState("node",r),a=n.findAllByState("edge",r);o&&!o({action:e,nodes:i,edges:a})||(i.forEach((function(e){return n.setItemState(e,r,!1)})),a.forEach((function(e){return n.setItemState(e,r,!1)}))),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],n.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var e=this,t=this.graph,n=this.shouldUpdate,r=this.points.map((function(e){return[t.getCanvasByPoint(e.x,e.y).x,t.getCanvasByPoint(e.x,e.y).y]})),o=this.selectedState,i=[],a=[];t.getNodes().forEach((function(e){if(e.isVisible()&&function(e,t){var n,r=e.getKeyShape();if("path"===e.get("type"))n=xx(r.attr("path"));else{var o=r.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return bx(t,n)}(e,r)&&n(e,"select")){i.push(e);var s=e.getModel();a.push(s.id),t.setItemState(e,o,!0)}}));var s=[];this.includeEdges&&i.forEach((function(r){r.getOutEdges().forEach((function(r){if(r.isVisible()){var o=r.getModel(),i=o.source,u=o.target;a.includes(i)&&a.includes(u)&&n(r,"select")&&(s.push(r),t.setItemState(r,e.selectedState,!0))}}))})),this.selectedEdges=s,this.selectedNodes=i,this.onSelect&&this.onSelect(i,s),t.emit("nodeselectchange",{selectedItems:{nodes:i,edges:s},select:!0})},createLasso:function(){var e=this.graph.get("delegateGroup").addShape("path",{attrs:(0,gn.__assign)({path:[]},this.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=e,this.delegate=e,this.points=[],e},updateLasso:function(e){this.lasso.attr({path:this.getLassoPath()})},onKeyDown:function(e){var t=e.key;t&&(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},Sx="click",kx=["click","drag"],Tx=void 0,Cx=["shift","ctrl","control","alt","meta",void 0],Mx={getDefaultCfg:function(){return{trigger:Sx,key:Tx,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var e,t=this;return kx.indexOf(t.trigger.toLowerCase())>-1||(t.trigger=Sx,console.warn("Behavior create-edge \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'click'\uff0c'drag'")),t.key&&-1===Cx.indexOf(t.key.toLowerCase())&&(t.trigger=Tx,console.warn("Behavior create-edge \u7684 key \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'shift'\uff0c'ctrl'\uff0c'alt'\uff0c'control'\uff0c\u6216 undefined")),"drag"===t.trigger?e={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:"click"===t.trigger&&(e={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),t.key&&(e.keydown="onKeyDown",e.keyup="onKeyUp"),e},onDragEnd:function(e){var t=this;if(!t.key||t.keydown){var n=e.item;n&&n.getID()!==t.source&&"node"===n.getType()||t.cancelCreating({item:t.edge,x:e.x,y:e.y})}},onClick:function(e){var t=this;if(!t.key||t.keydown){var n=e.item,r=t.graph,o=n.getModel(),i=t.getEdgeConfig;if(t.addingEdge&&t.edge){if(!t.shouldEnd.call(t,e))return;var a=void 0;a=i&&(0,vn.isFunction)(i)?i({source:t.source,target:o.id}):t.edgeConfig;var s=(0,gn.__assign)({target:o.id},a);if(t.source===o.id&&(s.type="loop"),r.emit("beforecreateedge",{}),r.updateItem(t.edge,s,!1),r.get("enabledStack")){var u=(0,gn.__assign)((0,gn.__assign)({},t.edge.getModel()),{itemType:"edge"}),c={};c.edges=[u],r.pushStack("add",{before:{},after:c})}r.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin.call(t,e))return;a=void 0;a=i&&(0,vn.isFunction)(i)?i({source:o.id,target:o.id}):t.edgeConfig,t.edge=r.addItem("edge",(0,gn.__assign)({source:o.id,target:o.id},a),!1),t.source=o.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(e){var t=this;if(!t.key||t.keydown){t.edge&&t.edge.destroyed&&t.cancelCreating({item:t.edge});var n={x:e.x,y:e.y};t.graph.findById(t.source)?t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:n},!1):t.addingEdge=!1}},cancelCreating:function(e){var t,n,r=this;if(!r.key||r.keydown){var o=r.graph,i=e.item;return r.addingEdge&&(r.edge===i||(null===(n=null===(t=e.target)||void 0===t?void 0:t.isCanvas)||void 0===n?void 0:n.call(t)))?(r.edge&&!r.edge.destroyed&&o.removeItem(r.edge,!1),r.edge=null,void(r.addingEdge=!1)):void 0}},onKeyDown:function(e){var t=this,n=e.key;n&&(n.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var e=this;e.addingEdge&&e.edge&&(e.graph.removeItem(e.edge,!1),e.addingEdge=!1,e.edge=null),this.keydown=!1}},Nx="ctrl",Ax=["shift","ctrl","alt","control"],Px={getDefaultCfg:function(){return{trigger:Nx,combinedKey:"1",functionName:"fitView",functionParams:[]}},getEvents:function(){return Ax.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Nx,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53c2\u6570 '".concat(this.trigger,"' \u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'"))),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(e){var t=e.key;if(t){var n=this.trigger.toLowerCase(),r=t.toLowerCase();this.triggerKeydown||(this.triggerKeydown=r===n||"control"===r&&"ctrl"===n||"ctrl"===r&&"control"===n);var o=this.graph;if(!o[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53c2\u6570 '".concat(this.functionName,"' \u4e0d\u5408\u6cd5\uff0c\u5b83\u4e0d\u662f Graph \u7684\u4e00\u4e2a\u51fd\u6570\u540d")),{};if(!this.triggerKeydown||this.combinedKey){var i=this.combinedKey.toLowerCase();this.triggerKeydown&&(r===i||"control"===r&&"ctrl"===i||"ctrl"===r&&"control"===i)&&(this.functionParams&&this.functionParams.length?o[this.functionName].apply(o,this.functionParams):o[this.functionName]())}else this.functionParams&&this.functionParams.length?o[this.functionName].apply(o,this.functionParams):o[this.functionName]()}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},Ox=["shift","ctrl","alt","control"],Ix={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,zoomKey:"ctrl",scalableRange:0}},getEvents:function(){return this.zoomKey&&-1!==Ox.indexOf(this.zoomKey)||(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(e){var t=this,n=this.graph,r=e["".concat(this.zoomKey,"Key")];if("control"===this.zoomKey&&(r=e.ctrlKey),r){var o=n.get("canvas").getPointByClient(e.clientX,e.clientY),i=n.getZoom();e.wheelDelta>0?i+=.05*i:i-=.05*i,n.zoomTo(i,{x:o.x,y:o.y})}else{var a=e.deltaX||e.movementX,s=e.deltaY||e.movementY;!s&&navigator.userAgent.indexOf("Firefox")>-1&&(s=125*-e.wheelDelta/3);var u=this.graph.get("width"),c=this.graph.get("height"),l=this.graph.get("canvas").getCanvasBBox(),f=this.scalableRange,d=this.scalableRange;f<1&&f>-1&&(f*=u,d*=c);var h=l.minX,p=l.maxX,g=l.minY,v=l.maxY;a>0?p<-f?a=0:p-a<-f&&(a=p+f):a<0&&(h>u+f?a=0:h-a>u+f&&(a=h-(u+f))),s>0?v<-d?s=0:v-s<-d&&(s=v+d):s<0&&(g>c+d?s=0:g-s>c+d&&(s=g-(c+d))),"x"===this.get("direction")?s=0:"y"===this.get("direction")&&(a=0),n.translate(-a,-s)}if(e.preventDefault(),this.get("enableOptimize")){var m=this.get("optimizeZoom"),y=this.get("optimized"),b=n.getNodes(),x=n.getEdges(),w=b.length,E=x.length;if(!y){for(var _=0;_<w;_++){var S=b[_];if(!S.destroyed)for(var k=(M=S.get("group").get("children")).length,T=0;T<k;T++){(N=M[T]).destoryed||N.get("isKeyShape")||(N.set("ori-visibility",N.get("ori-visibility")||N.get("visible")),N.hide())}}for(var C=0;C<E;C++){var M;for(k=(M=x[C].get("group").get("children")).length,T=0;T<k;T++){var N;(N=M[T]).set("ori-visibility",N.get("ori-visibility")||N.get("visible")),N.hide()}}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var A=setTimeout((function(){var e=n.getZoom();if(t.get("optimized")){t.set("optimized",!1);for(var r=0;r<w;r++){var o=b[r],i=(c=o.get("group").get("children")).length;if(e<m)(s=(l=o.getKeyShape()).get("ori-visibility"))&&l.show();else for(var a=0;a<i;a++){var s=(d=c[a]).get("ori-visibility");!d.get("visible")&&s&&s&&d.show()}}for(var u=0;u<E;u++){var c,l,f=x[u];i=(c=f.get("group").get("children")).length;if(e<m)(s=(l=f.getKeyShape()).get("ori-visibility"))&&l.show();else for(a=0;a<i;a++){var d;if(!(d=c[a]).get("visible"))(s=d.get("ori-visibility"))&&d.show()}}}}),100);this.set("timeout",A)}}},Dx={"drag-canvas":Hb,"zoom-canvas":ax,"drag-node":Xb,"activate-relations":Kb,"brush-select":tx,"click-select":ox,"lasso-select":_x,tooltip:ux,"edge-tooltip":cx,"collapse-expand":dx,"drag-combo":gx,"collapse-expand-combo":yx,"create-edge":Mx,"shortcuts-call":Px,"scroll-canvas":Ix};(0,vn.each)(Dx,(function(e,t){If(t,e)}));var Rx=(0,gn.__assign)((0,gn.__assign)({},e),Rf),Lx=gb.Fisheye,jx=gb.TimeBar,Fx=gb.ImageMinimap,Bx=gb.EdgeFilterLens,zx=gb.SnapLine,Gx={version:Cp.version,Graph:xg,TreeGraph:Sg,Util:Zp,Layout:Ip.Layouts,TreeLayout:Xp,registerLayout:function(e,t){t.isCustomLayout=!0,Ip.Layouts[e]=(0,Ip.registerLayout)(e,t)},Global:Cp,registerBehavior:If,registerCombo:Of,registerEdge:Pf,registerNode:Af,Minimap:gb.Minimap,Grid:gb.Grid,Bundling:gb.Bundling,Menu:gb.Menu,ToolBar:gb.ToolBar,Tooltip:gb.Tooltip,Legend:gb.Legend,TimeBar:jx,SnapLine:zx,Fisheye:Lx,ImageMinimap:Fx,EdgeFilterLens:Bx,Algorithm:Rx,Arrow:xf,Marker:wf,Shape:Ef};Gx.version="4.6.3";var Vx=Gx,Ux=function(e){return function(){if(e&&!e.destroyed){var t=e.getZoom(),n=e.get("canvas"),r=n.getPointByClient(n.get("width")/2,n.get("height")/2),o=n.get("pixelRatio")||1,i=1.25;if(!(i*t>5))return e.zoom(i,{x:r.x/o,y:r.y/o}),{text:"".concat(Math.round(i*t*100),"%"),ratio:i*t}}}},Wx=function(e){return function(){if(e&&!e.destroyed){var t=e.getZoom(),n=e.get("canvas"),r=n.getPointByClient(n.get("width")/2,n.get("height")/2),o=n.get("pixelRatio")||1,i=.75;if(!(i*t<.3))return e.zoom(i,{x:r.x/o,y:r.y/o}),{text:"".concat(Math.round(i*t*100),"%"),ratio:i*t}}}},Zx=function(e){return function(t){var n=t.text,r=t.ratio;if(e&&!e.destroyed){var o=e.get("canvas"),i=o.getPointByClient(o.get("width")/2,o.get("height")/2),a=o.get("pixelRatio")||1;return e.zoomTo(r,{x:i.x/a,y:i.y/a}),{text:n,ratio:r}}}},Yx=function(e){return function(){if(e&&!e.destroyed){var t=e.getZoom();return e.zoom(1/t),e.fitCenter(),{text:"100%",ratio:1}}}},Hx=function(e){return function(){if(e&&!e.destroyed){e.getNodes().length>0&&e.fitView([20,20]);var t=e.getZoom();return{text:"".concat(Math.round(100*t),"%"),ratio:t}}}},Xx=function(e){return function(t){e.getNodes().forEach((function(n){e.clearItemStates(n,["active","inactive"]),-1!==t.indexOf(n.get("id"))?e.setItemState(n,"active",!0):e.setItemState(n,"active",!1)}))}},Kx=function(e){return function(t){if(e&&"string"===typeof t){var n=e.findById(t);n?(e.focusItem(t,!0,{duration:300,easing:"easeCubic"}),e.setItemState(n,"selected",!0),n.toFront()):console.warn("The node ".concat(t," does not exist!"))}}};var qx=Object.assign(Object.assign({},g),v),$x=function(e){return Object.keys(qx).reduce((function(t,n){return Object.assign(Object.assign({},t),function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,qx[n](e)))}),{})},Jx={graph:{},apis:{},theme:{},layout:{}},Qx=m.createContext(Jx),ew=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},tw=function(e){var t=e.type,n=e.defaultConfig,r=e.userProps,o=e.mode,i=void 0===o?"default":o,a=m.useContext(Qx).graph,s=r.disabled,u=ew(r,["disabled"]);m.useEffect((function(){if(a.removeBehaviors(t,i),!s)return a.addBehaviors(Object.assign(Object.assign({type:t},n),u),i),function(){a.destroyed||a.removeBehaviors(t,i)}}),[])},nw={disabled:!1,trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1},rw={disabled:!1,brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0},ow={disabled:!1,multiple:!0,trigger:"shift",selectedState:"selected"},iw={direction:"both",enableOptimize:!1,scalableRange:0,shouldBegin:function(){return!0},disabled:!1},aw={disabled:!1,enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"},sw={disabled:!1,updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"},uw=function(e){var t=m.useContext(Qx),n=t.graph,r=t.layout,o=t.dragNodes,i=t.updateContext,a=e.autoPin,s=e.dragNodeMass,u=void 0===s?1e10:s,c=r.instance;return(0,m.useEffect)((function(){var e=c.simulation,t=c.type,r=function(){console.log("drag-start",c),e&&e.stop()},s=function(e){if("graphin-force"===t&&e.item){var r=e.item.get("model");r.x=e.x,r.y=e.y,r.layout=Object.assign(Object.assign({},r.layout),{force:{mass:a?u:null}});var s=[];n.getNodes().forEach((function(e){if(e.hasState("selected")){var t=e.get("model");t.layout.force={mass:a?u:null},s.push(t)}}));var c=o.concat([r]);s.length>1&&(c=c.concat(s)),i({dragNodes:c})}};return n.on("node:dragstart",r),n.on("node:dragend",s),function(){n.off("node:dragstart",r),n.off("node:dragend",s)}}),[n,a,c,o,i]),null},cw=function(e){var t=e.padding,n=e.isBindLayoutChange,r=m.useContext(Qx).graph;return(0,m.useEffect)((function(){var e=function(){r.fitView(t)};return e(),n&&r.on("afterlayout",e),function(){n&&r.off("afterlayout",e)}}),[]),null},lw=function(){var e=m.useContext(Qx).graph;return m.useEffect((function(){var t=setTimeout((function(){e.getNodes().forEach((function(t){e.setItemState(t,"normal",!0)})),e.paint()}),1600);return function(){clearTimeout(t)}}),[]),null},fw=function(e){var t=m.useContext(Qx),n=e.bindType,r=void 0===n?"node":n,o=e.disabled,i=t.graph;return m.useEffect((function(){if(!o){var e=function(e){i.setItemState(e.item,"hover",!0)},t=function(e){i.setItemState(e.item,"hover",!1)},n=function(e){i.setItemState(e.item,"hover",!0)},a=function(e){i.setItemState(e.item,"hover",!1)};return"node"===r&&(i.on("node:mouseenter",e),i.on("node:mouseleave",t)),"edge"===r&&(i.on("edge:mouseenter",n),i.on("edge:mouseleave",a)),function(){"node"===r&&(i.off("node:mouseenter",e),i.off("node:mouseleave",t)),"edge"===r&&(i.off("edge:mouseenter",n),i.off("edge:mouseleave",a))}}}),[i,o]),null},dw={disabled:!1,delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0},hw=function(e){var t=e.graphDOM,n=m.useContext(Qx);return m.useEffect((function(){var e=n.graph,r=(0,vn.debounce)((function(){var n=t.clientWidth,r=t.clientHeight;e.set("width",n),e.set("height",r);var o=e.get("canvas");o&&(o.changeSize(n,r),e.autoPaint())}),200);return window.addEventListener("resize",r,!1),function(){window.removeEventListener("resize",r,!1)}}),[]),null},pw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},gw={trigger:"click"},vw=function(e){var t=e.onChange,n=pw(e,["onChange"]),r=m.useContext(Qx).graph;return tw({defaultConfig:gw,userProps:n,type:"collapse-expand"}),m.useEffect((function(){var e=function(e){var n=e.item,r=e.collapsed;n.get("model").collapsed=r,t&&t(n,r)};return r.on("itemcollapsed",e),function(){r.off("itemcollapsed",e)}}),[]),null},mw={sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"},disabled:!1,animate:!1,animateCfg:{duration:500}},yw={DragCanvas:function(e){return tw({type:"drag-canvas",userProps:e,defaultConfig:iw}),null},ZoomCanvas:function(e){return tw({type:"zoom-canvas",userProps:e,defaultConfig:mw}),null},ClickSelect:function(e){return tw({type:"click-select",userProps:e,defaultConfig:ow}),null},BrushSelect:function(e){return tw({type:"brush-select",userProps:e,defaultConfig:rw}),null},DragNode:function(e){return tw({type:"drag-node",userProps:e,defaultConfig:sw}),null},ResizeCanvas:hw,LassoSelect:function(e){return tw({type:"lasso-select",userProps:e,defaultConfig:dw}),null},DragCombo:function(e){return tw({type:"drag-combo",userProps:e,defaultConfig:aw}),null},ActivateRelations:function(e){return tw({type:"activate-relations",userProps:e,defaultConfig:nw}),null},TreeCollapse:vw,FitView:cw,FontPaint:lw,DragNodeWithForce:uw,Hoverable:fw},bw={type:"compactBox",direction:"LR",getId:function(e){return e.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 80},getHGap:function(){return 20}},xw=["dendrogram","compactBox","mindmap","indented"],ww=function(){return Math.round(80*(Math.random()-.5))},Ew=function(e,t){var n=e.nodes,r=e.edges,o=t.nodes,i=new Map;o.forEach((function(e){var t=e.id,n=e.x,r=e.y;i.set(t,{x:n,y:r})}));var a=new Map;n.forEach((function(e){var t=e.id,n=i.get(t);n?(e.x=n.x,e.y=n.y):a.set(t,e)}));var s=new Map;return r.forEach((function(e){var t=e.source,n=e.target,r=a.get(t),o=a.get(n),u=i.get(t),c=i.get(n);r&&c&&s.set(t,{x:c.x+ww(),y:c.y+ww()}),o&&u&&s.set(n,{x:u.x+ww(),y:u.y+ww()})})),n.forEach((function(e){var t=e.id,n=i.get(t)||s.get(t);n?(e.x=n.x,e.y=n.y):(e.x=250+Math.round(500*Math.random()),e.y=150+Math.round(300*Math.random()))})),Object.assign(Object.assign({},e),{nodes:n,edges:r})};var _w=[{type:"graphin-force",options:{},title:"\u6e10\u8fdb\u529b\u5bfc"},{type:"force",title:"D3\u529b\u5bfc",options:{preventOverlap:!0,linkDistance:250,nodeStrength:30,edgeStrength:.1,collideStrength:.8,nodeSize:30,alpha:.3,alphaDecay:.028,alphaMin:.01,forceSimulation:null,clustering:!1}},{type:"concentric",title:"\u540c\u5fc3\u5706\u5e03\u5c40",options:{minNodeSpacing:60,preventOverlap:!0,nodeSize:60}},{type:"grid",options:{},title:"\u7f51\u683c\u5e03\u5c40"},{type:"radial",options:{},title:"\u8f90\u5c04\u5e03\u5c40"},{type:"dagre",title:"\u5c42\u6b21\u5e03\u5c40",options:{}},{type:"circular",options:{},title:"\u73af\u5f62\u5e03\u5c40"},{type:"gForce",options:{linkDistance:function(){return 200},preventOverlap:!0},title:"G6\u529b\u5bfc"},{type:"mds",options:{},title:"\u964d\u7ef4\u5e03\u5c40"},{type:"random",options:{},title:"\u968f\u673a\u5e03\u5c40"}],Sw=_w.map((function(e){var t=e.type,n=e.options;return Object.assign({type:t},n)})).reduce((function(e,t){return Object.assign(Object.assign({},e),function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t.type,t))}),{}),kw=Sw;function Tw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Cw=function(e){return!e||!e.nodes||0===e.nodes.length},Mw=["force","graphin-force","g6force","gForce","comboForce"],Nw=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.updateOptions=function(){var e=n.graphin,t=e.width,r=e.height,o=e.props.layout,i=void 0===o?{type:"concentric"}:o,a=i.type,s=void 0===a?"concentric":a,u=i.preset,c={width:t,height:r,center:[t/2,r/2]};if(n.options=Object.assign(Object.assign(Object.assign({},c),kw[s]||{}),i),Cw(n.graphin.data))n.prevOptions={};else if(-1!==Mw.indexOf(s)){var l=n.prevOptions.type||"grid";(null===u||void 0===u?void 0:u.type)&&(l=u.type),Cw(n.graphin.data)&&(l=u.type||"grid"),n.options.preset=Object.assign(Object.assign(Object.assign({type:l},c),kw[l]||{}),u)}},this.processForce=function(){var e=n,t=e.options,r=e.graphin,o=r.graph,i=t.type;if("graphin-force"===i&&(e.options.graph=o),"force"===i||"g6force"===i||"gForce"===i||"comboCombined"===i){var a=e.options.onTick;e.options.tick=function(){a&&a()};var s=e.options.onLayoutEnd;e.options.onLayoutEnd=function(){e.refreshPosition(),null===s||void 0===s||s(),o.emit("afterlayout")}}"comboForce"!==i&&"comboCombined"!==i||(e.options.comboTrees=o.get("comboTrees"));var u=-1!==Mw.indexOf(e.prevOptions.type),c=-1!==Mw.indexOf(e.options.type),l=e.options.type===e.prevOptions.type;if(!Cw(r.data)){if(c&&!l){var f=e.options.preset;e.presetLayout=new Vx.Layout[f.type](Object.assign({},f)||{}),e.presetLayout.init(r.data),e.presetLayout.execute(),e.presetLayout.data=Object.assign({},r.data)}if(c&&u&&!e.hasPosition()){var d=e.graph.save(),h=e.options.preset;Cw(d)&&(e.presetLayout=new Vx.Layout[h.type](Object.assign({},h)||{}),e.presetLayout.init(r.data),e.presetLayout.execute(),d=r.data),r.data=Ew(r.data,d)}}},this.refreshPosition=function(){var e=n.graphin.options,t=e.animate,r=e.layoutAnimate,o=n.options.type;t||r?n.graph.positionsAnimate("comboCombined"===o):n.graph.refreshPositions("comboCombined"===o)},this.destroy=function(){n.presetLayout&&n.presetLayout.destroy&&n.presetLayout.destroy(),n.instance&&n.instance.destroy&&n.instance.destroy(),n.presetLayout=null,n.instance=null},this.getDataFromGraph=function(){for(var e=[],t=[],r=[],o=[],i=n.graph.getNodes(),a=n.graph.getEdges(),s=n.graph.getCombos(),u=i.length,c=0;c<u;c++){var l=i[c];if(l&&l.isVisible()){var f=l.getModel();e.push(f)}}for(var d=a.length,h=0;h<d;h++){var p=a[h];if(p&&p.isVisible()){var g=p.getModel();g.isComboEdge?o.push(g):t.push(g)}}for(var v=s.length,m=0;m<v;m++){var y=s[m];if(y&&y.isVisible()){var b=y.getModel();r.push(b)}}return{nodes:e,edges:t,combos:r,comboEdges:o}},this.graphin=t,this.graph=this.graphin.graph,this.presetLayout=null,this.prevOptions={},this.init()}var t,n,r;return t=e,n=[{key:"hasPosition",value:function(){var e=this.graphin.data,t=void 0===e?{}:e;return!!t.nodes&&0!==t.nodes.length&&t.nodes.every((function(e){return!window.isNaN(Number(e.x))&&!window.isNaN(Number(e.y))}))}},{key:"init",value:function(){this.updateOptions();var e=this.options,t=this.graphin.data,n=e.type;this.processForce(),Vx.Layout[n]||console.warn("".concat(n," layout not found, current layout is grid"));var r=Vx.Layout[n]||Vx.Layout.grid;this.graph.emit("beforelayout"),this.instance=new r(this.options),this.instance.init(t)}},{key:"start",value:function(){var e=this.options.type;this.instance.execute(),"force"!==e&&"g6force"!==e&&"gForce"!==e&&"comboCombined"!==e&&this.refreshPosition(),this.graph.emit("afterlayout")}},{key:"changeLayout",value:function(){var e=this.graphin,t=e.graph,n=e.data,r=e.isTree,o=e.layoutCache;if(!t||t.destroyed||!n||!n.nodes||!n.nodes.length||o&&this.hasPosition()||r)return!1;-1!==Mw.indexOf(this.options.type)&&this.destroy(),this.prevOptions=Object.assign({},this.options),this.init(),this.start()}}],n&&Tw(t.prototype,n),r&&Tw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Aw=Nw,Pw=function(){return{type:"circle",style:{labelCfg:{position:"top"}},status:{}}},Ow={primaryEdgeColor:"#ddd",edgeSize:1,mode:"light"},Iw=function(e){var t=Object.assign(Object.assign({},Ow),e),n=t.edgeSize,r=t.primaryEdgeColor,o={light:{stroke:r,label:r,disabled:"#ddd"},dark:{stroke:r,label:r,disabled:"#ddd3"}}[t.mode];return{type:"graphin-line",style:{keyshape:{type:"line",lineWidth:n,stroke:o.stroke,strokeOpacity:1,lineAppendWidth:9,cursor:"pointer"},halo:{visible:!1,cursor:"pointer",strokeOpacity:.4},label:{value:"",position:"top",fill:o.label,fontSize:12,textAlign:"center"}},status:{hover:{halo:{visible:!0}},selected:{halo:{visible:!0},keyshape:{lineWidth:2}},active:{halo:{visible:!0},keyshape:{lineWidth:2}},inactive:{halo:{visible:!1},keyshape:{strokeOpacity:.1}},disabled:{halo:{visible:!1},keyshape:{lineWidth:.5,stroke:o.disabled}}}}},Dw={primaryColor:"#FF6A00",nodeSize:26,mode:"light"},Rw=function(e){var t=Object.assign(Object.assign({},Dw),e),n=t.nodeSize,r=t.primaryColor,o={light:{fill:r,fillOpacity:.1,stroke:r,strokeOpacity:1,icon:r,badge:{fill:r,stroke:r,font:"#fff"},label:"#000",disabled:"#ddd"},dark:{fill:r,fillOpacity:.3,stroke:r,strokeOpacity:1,icon:"#fff",badge:{fill:r,stroke:r,font:"#fff"},label:"#fff",disabled:"#ddd3"}}[t.mode];return{type:"graphin-circle",style:{keyshape:{size:n,fill:o.fill,fillOpacity:o.fillOpacity,stroke:o.stroke,strokeOpacity:o.strokeOpacity,lineWidth:1,opacity:1,type:"circle"},label:{position:"bottom",value:"",fill:o.label,fontSize:12,offset:0,background:void 0,fillOpacity:1},icon:{type:"text",value:"",size:n/2,fill:o.icon,fillOpacity:1,offset:[0,0]},badges:[],halo:{visible:!1,fillOpacity:.1}},status:{normal:{},selected:{halo:{visible:!0},keyshape:{lineWidth:5}},hover:{halo:{visible:!0}},active:{},inactive:{keyshape:{fillOpacity:.04,strokeOpacity:.04},icon:{fillOpacity:.04},label:{fillOpacity:.04}},disabled:{halo:{visible:!1},keyshape:{fill:o.disabled,stroke:o.disabled},icon:{fill:o.disabled},label:{fill:o.disabled}}}}},Lw={mode:"light",primaryColor:"#873bf4",nodeSize:26,edgeSize:1,primaryEdgeColor:"#ddd"},jw=function(e){var t=Object.assign(Object.assign({},Lw),e),n=t.primaryColor,r=t.primaryEdgeColor,o=t.nodeSize,i=t.edgeSize,a=t.mode,s=t.background,u=Rw({primaryColor:n,nodeSize:o,mode:a}),c=Iw({primaryEdgeColor:r,edgeSize:i,mode:a}),l=Pw();return Object.assign(Object.assign({},t),{mode:a,background:s||{light:"#fff",dark:"#1f1f1f"}[a],defaultNodeStyle:{type:u.type,style:u.style},defaultNodeStatusStyle:{status:u.status},defaultEdgeStyle:{type:c.type,style:c.style},defaultEdgeStatusStyle:{status:c.status},defaultComboStyle:{type:l.type,style:l.style},defaultComboStatusStyle:{status:l.status}})},Fw=n(3941),Bw=function e(t,n){if(window.isNaN(t)&&window.isNaN(n)&&"number"===typeof t&&"number"===typeof n)return!0;if(t===n)return!0;if("function"===typeof t&&"function"===typeof n||t instanceof Date&&n instanceof Date||t instanceof RegExp&&n instanceof RegExp||t instanceof String&&n instanceof String||t instanceof Number&&n instanceof Number)return t.toString()===n.toString();if(!(t instanceof Object&&n instanceof Object))return!1;var r=[],o=Object.keys(t),i=Object.keys(n);if(o.length!==i.length)return!1;for(var a=0;a<o.length;a++){var s=o[a],u=e(t[s],n[s]);r.push(u)}return r.every((function(e){return e}))};function zw(e){return zw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zw(e)}function Gw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vw(e,t){return Vw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Vw(e,t)}function Uw(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yw(e);if(t){var o=Yw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ww(this,n)}}function Ww(e,t){if(t&&("object"===zw(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zw(e)}function Zw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yw(e){return Yw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yw(e)}var Hw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Xw=yw.DragCanvas,Kw=yw.ZoomCanvas,qw=yw.DragNode,$w=yw.DragCombo,Jw=yw.ClickSelect,Qw=yw.BrushSelect,eE=yw.ResizeCanvas,tE=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vw(e,t)}(i,e);var t,n,r,o=Uw(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).graphDOM=null,t.initData=function(e){e.children&&(t.isTree=!0),t.data=(0,Fw.Z)(e)},t.initGraphInstance=function(){var e=t.props,n=e.theme,r=e.data,o=e.layout,i=e.width,a=e.height,s=e.defaultCombo,u=void 0===s?{style:{},type:"graphin-combo"}:s,c=e.defaultEdge,l=void 0===c?{style:{},type:"graphin-line"}:c,f=e.defaultNode,d=void 0===f?{style:{},type:"graphin-circle"}:f,h=e.nodeStateStyles,p=e.edgeStateStyles,g=e.comboStateStyles,v=e.modes,m=void 0===v?{default:[]}:v,y=e.animate,b=e.handleAfterLayout,x=Hw(e,["theme","data","layout","width","height","defaultCombo","defaultEdge","defaultNode","nodeStateStyles","edgeStateStyles","comboStateStyles","modes","animate","handleAfterLayout"]);m.default.length>0&&console.info("%c suggestion: you can use @antv/graphin Behaviors components","color:lightgreen");var w=t.graphDOM,E=w.clientWidth,_=w.clientHeight;t.initData(r),t.width=Number(i)||E||500,t.height=Number(a)||_||500;var S=jw(n),k=(S.defaultNodeStyle,S.defaultEdgeStyle,S.defaultComboStyle,S.defaultNodeStatusStyle,S.defaultEdgeStatusStyle,S.defaultComboStatusStyle,Hw(S,["defaultNodeStyle","defaultEdgeStyle","defaultComboStyle","defaultNodeStatusStyle","defaultEdgeStatusStyle","defaultComboStatusStyle"]));t.isTree=Boolean(r.children)||-1!==xw.indexOf(String(o&&o.type));var T={defaultNode:{style:Object.assign(Object.assign({},d.style),{_theme:n}),type:d.type||"graphin-circle"},defaultEdge:{style:Object.assign(Object.assign({},l.style),{_theme:n}),type:l.type||"graphin-line"},defaultCombo:{style:Object.assign(Object.assign({},u.style),{_theme:n}),type:u.type||"combo"},nodeStateStyles:h,edgeStateStyles:p,comboStateStyles:g};t.theme=Object.assign(Object.assign({},T),k),t.options=Object.assign(Object.assign(Object.assign({container:t.graphDOM,renderer:"canvas",width:t.width,height:t.height,animate:!1!==y},T),{modes:m}),x),t.isTree?(t.options.layout=o||bw,t.graph=new Vx.TreeGraph(t.options)):t.graph=new Vx.Graph(t.options),t.graph.on("afterlayout",(function(){b&&b(t.graph)})),t.graph.data(t.data),t.graph.render(),t.isTree||(t.layout=new Aw(Zw(t)),t.layout.start()),t.initStatus(),t.apis=$x(t.graph),t.setState({isReady:!0,context:{graph:t.graph,apis:t.apis,theme:t.theme,layout:t.layout,dragNodes:t.dragNodes,updateContext:t.updateContext}})},t.updateLayout=function(){t.layout.changeLayout()},t.updateOptions=function(){return Hw(t.props,[])},t.initStatus=function(){if(!t.isTree){var e=t.props.data,n=e.nodes,r=void 0===n?[]:n,o=e.edges,i=void 0===o?[]:o;r.forEach((function(e){var n=e.status;n&&Object.keys(n).forEach((function(r){t.graph.setItemState(e.id,r,Boolean(n[r]))}))})),i.forEach((function(e){var n=e.status;n&&Object.keys(n).forEach((function(r){t.graph.setItemState(e.id,r,Boolean(n[r]))}))}))}},t.updateContext=function(e){t.setState((function(t){return{context:Object.assign(Object.assign({},t.context),e)}}))},t.clear=function(){t.layout&&t.layout.destroy&&t.layout.destroy(),t.layout={},t.graph.clear(),t.data={nodes:[],edges:[],combos:[]},t.graph.destroy()};var n=e.data,r=e.layout,a=e.width,s=e.height,u=e.layoutCache,c=Hw(e,["data","layout","width","height","layoutCache"]);return t.data=n,t.isTree=Boolean(e.data&&e.data.children)||-1!==xw.indexOf(String(r&&r.type)),t.graph={},t.height=Number(s),t.width=Number(a),t.theme={},t.apis={},t.layoutCache=u,t.layout={},t.dragNodes=[],t.options=Object.assign({},c),t.state={isReady:!1,context:{graph:t.graph,apis:t.apis,theme:t.theme,layout:t.layout,dragNodes:t.dragNodes,updateContext:t.updateContext}},t}return t=i,n=[{key:"componentDidMount",value:function(){this.initGraphInstance()}},{key:"componentDidUpdate",value:function(e){var t,n,r=this,o=this.shouldUpdate(e,"data"),i=this.shouldUpdate(e,"layout"),a=(this.shouldUpdate(e,"options"),this.shouldUpdate(e,"theme"),this.props),s=a.data,u=a.layoutCache,c=a.layout;if(this.layoutCache=u,o){if(this.initData(s),this.isTree)this.graph.changeData(this.data);else{var l=this.state.context.dragNodes;null===(n=null===(t=this.data)||void 0===t?void 0:t.nodes)||void 0===n||n.forEach((function(e){var t,n,r=l.find((function(t){return t.id===e.id}));r&&(e.layout=Object.assign(Object.assign({},e.layout),{force:{mass:null===(n=null===(t=r.layout)||void 0===t?void 0:t.force)||void 0===n?void 0:n.mass}}))})),this.graph.data(this.data),this.graph.set("layoutController",null),this.graph.changeData(this.data),this.data=this.layout.getDataFromGraph(),this.layout.changeLayout()}return this.initStatus(),this.apis=$x(this.graph),void this.setState((function(e){return Object.assign(Object.assign({},e),{context:{graph:r.graph,apis:r.apis,theme:r.theme,layout:r.layout,dragNodes:e.context.dragNodes,updateContext:r.updateContext}})}),(function(){r.graph.emit("graphin:datachange"),i&&r.graph.emit("graphin:layoutchange",{prevLayout:e.layout,layout:c})}))}if(i){if(this.isTree)return void this.graph.updateLayout(this.props.layout);this.data=this.layout.getDataFromGraph(),this.layout.changeLayout(),this.layout.refreshPosition(),this.graph.emit("graphin:layoutchange",{prevLayout:e.layout,layout:c})}}},{key:"componentWillUnmount",value:function(){this.clear()}},{key:"componentDidCatch",value:function(e,t){console.error("Catch component error: ",e,t)}},{key:"shouldUpdate",value:function(e,t){var n=e[t],r=this.props[t];return!Bw(n,r)}},{key:"render",value:function(){var e,t=this,n=this.state.isReady,r=this.props,o=r.modes,i=r.style;return m.createElement(Qx.Provider,{value:this.state.context},m.createElement("div",{id:"graphin-container"},m.createElement("div",{"data-testid":"custom-element",className:"graphin-core",ref:function(e){t.graphDOM=e},style:Object.assign({background:null===(e=this.theme)||void 0===e?void 0:e.background},i)}),m.createElement("div",{className:"graphin-components"},n&&m.createElement(m.Fragment,null,!o&&m.createElement(m.Fragment,null,m.createElement(Xw,null),m.createElement(Kw,null),m.createElement(qw,null),m.createElement($w,null),m.createElement(Jw,null),m.createElement(Qw,null)),m.createElement(eE,{graphDOM:this.graphDOM}),this.props.children))))}}],r=[{key:"registerBehavior",value:function(e,t){Vx.registerBehavior(e,t)}},{key:"registerFontFamily",value:function(e){var t=e(),n=t.glyphs,r=t.fontFamily,o=n.map((function(e){return{name:e.name,unicode:String.fromCodePoint(e.unicode_decimal)}}));return new Proxy(o,{get:function(e,t){var n=e.find((function(e){return e.name===t}));return n?null===n||void 0===n?void 0:n.unicode:(console.error("%c fontFamily:".concat(r,",does not found ").concat(t," icon")),"")}})}},{key:"registerLayout",value:function(e,t){Vx.registerLayout(e,t)}}],n&&Gw(t.prototype,n),r&&Gw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(m.PureComponent);tE.registerNode=function(e,t,n){Vx.registerNode(e,t,n)},tE.registerEdge=function(e,t,n){Vx.registerEdge(e,t,n)},tE.registerCombo=function(e,t,n){Vx.registerCombo(e,t,n)};var nE=tE;vn.deepMix,Fw.Z;var rE=function(e,t){return e.reduce((function(e,n){return e.some((function(e){return t(n,e)}))||e.push(n),e}),[])};function oE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iE(e,t,n){return t&&oE(e.prototype,t),n&&oE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var aE=iE((function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getvec=function(){return r},this.add=function(t){return new e(r.x+t.x,r.y+t.y)},this.subtract=function(t){return new e(r.x-t.x,r.y-t.y)},this.magnitude=function(){return Math.sqrt(r.x*r.x+r.y*r.y)},this.normalise=function(){return r.divide(r.magnitude())},this.divide=function(t){return new e(r.x/t||0,r.y/t||0)},this.scalarMultip=function(t){return new e(r.x*t,r.y*t)},this.x=t,this.y=n})),sE=aE;function uE(e){return function(e){if(Array.isArray(e))return cE(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return cE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cE(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var lE=function(e,t,n){var r,o;return"source"===e?(null===(r=null===n||void 0===n?void 0:n.find((function(e){var n;return(null===(n=e.target)||void 0===n?void 0:n.id)===t.id})))||void 0===r?void 0:r.source)||{}:(null===(o=null===n||void 0===n?void 0:n.find((function(e){var n;return(null===(n=e.source)||void 0===n?void 0:n.id)===t.id})))||void 0===o?void 0:o.target)||{}},fE=function(e,t,n,r){var o,i=(null===(o=null===n||void 0===n?void 0:n.data)||void 0===o?void 0:o[t])||"",a=(null===r||void 0===r?void 0:r.filter((function(e){var n;return(null===(n=null===e||void 0===e?void 0:e.data)||void 0===n?void 0:n[t])===i})))||[];return"leaf"===e&&(a=a.filter((function(e){var t,n,r,o;return 0===(null===(n=null===(t=e.data)||void 0===t?void 0:t.layout)||void 0===n?void 0:n.sDegree)||0===(null===(o=null===(r=e.data)||void 0===r?void 0:r.layout)||void 0===o?void 0:o.tDegree)}))),a},dE=function(e,t,n){var r=[];switch(e){case"source":r=null===n||void 0===n?void 0:n.filter((function(e){var n;return(null===(n=e.source)||void 0===n?void 0:n.id)===t.id})).map((function(e){return e.target}));break;case"target":r=null===n||void 0===n?void 0:n.filter((function(e){var n;return(null===(n=e.target)||void 0===n?void 0:n.id)===t.id})).map((function(e){return e.source}));break;case"both":r=null===n||void 0===n?void 0:n.filter((function(e){var n;return(null===(n=e.source)||void 0===n?void 0:n.id)===t.id})).map((function(e){return e.target})).concat(null===n||void 0===n?void 0:n.filter((function(e){var n;return(null===(n=e.target)||void 0===n?void 0:n.id)===t.id})).map((function(e){return e.source})))}return r=rE(r,(function(e,t){return e.id===t.id})),r},hE=function(e,t){var n=e.data.id,r=0,o=0,i=0;return t.forEach((function(e){e.source.id===n&&(o+=1,r+=1),e.target.id===n&&(i+=1,r+=1)})),{degree:r,sDegree:o,tDegree:i}},pE=function(e,t){return uE(new Set(null===e||void 0===e?void 0:e.map((function(e){var n;return null===(n=null===e||void 0===e?void 0:e.data)||void 0===n?void 0:n[t]}))))||[]},gE=function(e,t,n,r){var o,i=(null===(o=null===t||void 0===t?void 0:t.data)||void 0===o?void 0:o.layout)||{},a=i.sDegree,s=i.tDegree,u=t,c=[];return 0===a?(u=lE("source",t,n),c=dE("both",u,n)):0===s&&(u=lE("target",t,n),c=dE("both",u,n)),c=c.filter((function(e){var t,n;return 0===(null===(t=e.data)||void 0===t?void 0:t.layout.sDegree)||0===(null===(n=e.data)||void 0===n?void 0:n.layout.tDegree)})),{coreNode:u,relativeLeafNodes:c,sameTypeLeafNodes:fE(e,r,t,c)}},vE=function(e){var t=new sE(0,0);e.forEach((function(e){t=t.add(new sE(e.x,e.y))}));var n=t.divide(e.length).getvec();return{x:n.x,y:n.y}};function mE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yE(e,t,n){return t&&mE(e.prototype,t),n&&mE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var xE=yE((function e(t){bE(this,e),this.id=t.id,this.data=t||{},this.x=t.x||0,this.y=t.y||0})),wE=yE((function e(t,n,r,o){bE(this,e),this.id=t,this.source=n,this.target=r,this.data=o||{}}));function EE(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,i,a,s,u,c,l,f,d,h=e._root,p={data:r},g=e._x0,v=e._y0,m=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((c=t>=(i=(g+m)/2))?g=i:m=i,(l=n>=(a=(v+y)/2))?v=a:y=a,o=h,!(h=h[f=l<<1|c]))return o[f]=p,e;if(s=+e._x.call(null,h.data),u=+e._y.call(null,h.data),t===s&&n===u)return p.next=h,o?o[f]=p:e._root=p,e;do{o=o?o[f]=new Array(4):e._root=new Array(4),(c=t>=(i=(g+m)/2))?g=i:m=i,(l=n>=(a=(v+y)/2))?v=a:y=a}while((f=l<<1|c)===(d=(u>=a)<<1|s>=i));return o[d]=h,o[f]=p,e}function _E(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o}function SE(e){return e[0]}function kE(e){return e[1]}function TE(e,t,n){var r=new CE(null==t?SE:t,null==n?kE:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function CE(e,t,n,r,o,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function ME(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var NE=TE.prototype=CE.prototype;NE.copy=function(){var e,t,n=new CE(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=ME(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var o=0;o<4;++o)(t=r.source[o])&&(t.length?e.push({source:t,target:r.target[o]=new Array(4)}):r.target[o]=ME(t));return n},NE.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return EE(this.cover(t,n),t,n,e)},NE.addAll=function(e){var t,n,r,o,i=e.length,a=new Array(i),s=new Array(i),u=1/0,c=1/0,l=-1/0,f=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(a[n]=r,s[n]=o,r<u&&(u=r),r>l&&(l=r),o<c&&(c=o),o>f&&(f=o));if(u>l||c>f)return this;for(this.cover(u,c).cover(l,f),n=0;n<i;++n)EE(this,a[n],s[n],e[n]);return this},NE.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var a,s,u=o-n||1,c=this._root;n>e||e>=o||r>t||t>=i;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=c,c=a,u*=2,s){case 0:o=n+u,i=r+u;break;case 1:n=o-u,i=r+u;break;case 2:o=n+u,r=i-u;break;case 3:n=o-u,r=i-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this},NE.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},NE.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},NE.find=function(e,t,n){var r,o,i,a,s,u,c,l=this._x0,f=this._y0,d=this._x1,h=this._y1,p=[],g=this._root;for(g&&p.push(new _E(g,l,f,d,h)),null==n?n=1/0:(l=e-n,f=t-n,d=e+n,h=t+n,n*=n);u=p.pop();)if(!(!(g=u.node)||(o=u.x0)>d||(i=u.y0)>h||(a=u.x1)<l||(s=u.y1)<f))if(g.length){var v=(o+a)/2,m=(i+s)/2;p.push(new _E(g[3],v,m,a,s),new _E(g[2],o,m,v,s),new _E(g[1],v,i,a,m),new _E(g[0],o,i,v,m)),(c=(t>=m)<<1|e>=v)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=u)}else{var y=e-+this._x.call(null,g.data),b=t-+this._y.call(null,g.data),x=y*y+b*b;if(x<n){var w=Math.sqrt(n=x);l=e-w,f=t-w,d=e+w,h=t+w,r=g.data}}return r},NE.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,o,i,a,s,u,c,l,f,d,h=this._root,p=this._x0,g=this._y0,v=this._x1,m=this._y1;if(!h)return this;if(h.length)for(;;){if((c=i>=(s=(p+v)/2))?p=s:v=s,(l=a>=(u=(g+m)/2))?g=u:m=u,t=h,!(h=h[f=l<<1|c]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(o=h.next)&&delete h.next,r?(o?r.next=o:delete r.next,this):t?(o?t[f]=o:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=o,this)},NE.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},NE.root=function(){return this._root},NE.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},NE.visit=function(e){var t,n,r,o,i,a,s=[],u=this._root;for(u&&s.push(new _E(u,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(u=t.node,r=t.x0,o=t.y0,i=t.x1,a=t.y1)&&u.length){var c=(r+i)/2,l=(o+a)/2;(n=u[3])&&s.push(new _E(n,c,l,i,a)),(n=u[2])&&s.push(new _E(n,r,l,c,a)),(n=u[1])&&s.push(new _E(n,c,o,i,l)),(n=u[0])&&s.push(new _E(n,r,o,c,l))}return this},NE.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new _E(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var o=t.node;if(o.length){var i,a=t.x0,s=t.y0,u=t.x1,c=t.y1,l=(a+u)/2,f=(s+c)/2;(i=o[0])&&n.push(new _E(i,a,s,l,f)),(i=o[1])&&n.push(new _E(i,l,s,u,f)),(i=o[2])&&n.push(new _E(i,a,f,l,c)),(i=o[3])&&n.push(new _E(i,l,f,u,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},NE.x=function(e){return arguments.length?(this._x=e,this):this._x},NE.y=function(e){return arguments.length?(this._y=e,this):this._y};var AE=.1;function PE(e,t,n){var r=n/(t*t),o=e.map((function(e,t){return Object.assign(Object.assign({index:t},e),{vx:0,vy:0,weight:r})})),i=TE(o,(function(e){return e.x}),(function(e){return e.y})).visitAfter(OE);return o.forEach((function(e){!function(e,t){var n=function(t,n,r,o,i){var a=e.x-t.x||.001,s=e.y-t.y||.001,u=o-n,c=a*a+s*s+AE,l=Math.sqrt(c)+AE;return u*u/.81<c?(e.vx+=a/l*t.weight/c,e.vy+=s/l*t.weight/c,!0):!t.length&&void(t.data!==e&&(e.vx+=a/l*t.data.weight/c,e.vy+=s/l*t.data.weight/c))};t.visit(n)}(e,i)})),o.map((function(e){return{vx:e.vx,vy:e.vy}}))}function OE(e){var t=0,n=0,r=0;if(e.length){for(var o=0;o<4;o++){var i=e[o];i&&i.weight&&(t+=i.weight,n+=i.x*i.weight,r+=i.y*i.weight)}e.x=n/t,e.y=r/t,e.weight=t}else{var a=e;e.x=a.data.x,e.y=a.data.y,e.weight=a.data.weight}}function IE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function DE(e,t,n){return t&&IE(e.prototype,t),n&&IE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function RE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var LE=DE((function e(t,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;RE(this,e),this.updateAcc=function(e){o.a=o.a.add(e.divide(o.m))},this.p=t,this.m=i,this.v=new sE(0,0),this.a=new sE(0,0),this.id=n,this.data=r})),jE=LE;function FE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BE(e,t,n){return t&&FE(e.prototype,t),n&&FE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var zE=BE((function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.source=t,this.target=n,this.length=r}));function GE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VE(e,t,n){return t&&GE(e.prototype,t),n&&GE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var UE=VE((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.updateOptions=function(e){e&&Object.keys(e).forEach((function(t){n.props[t]=e[t]}))},this.setData=function(e){n.nodes=[],n.edges=[],n.nodeSet={},n.edgeSet={},n.nodePoints=new Map,n.edgeSprings=new Map,n.sourceData=e,n.judgingDistance=0,("nodes"in e||"edges"in e)&&(n.addNodes(e.nodes),n.addEdges(e.edges))},this.getMass=function(e){var t,r=e.layout||{},o=r.degree,i=void 0===o?null===(t=hE(e,n.edges))||void 0===t?void 0:t.degree:o,a=r.force;return a&&a.mass?a.mass:i<5?1:5*i},this.init=function(){var e=n.props,t=e.width,r=e.height,o=n.props.centripetalOptions,i=n.props,a=i.leafCluster,s=i.clustering,u=i.nodeClusterBy,c=i.clusterNodeStrength,l=function(e){return"function"===typeof c?c(e):c};if(a&&(o={single:100,leaf:function(e,t,n){var r=pE(t,u),o=gE("leaf",e,n,u),i=o.relativeLeafNodes,a=o.sameTypeLeafNodes;return(null===a||void 0===a?void 0:a.length)===(null===i||void 0===i?void 0:i.length)||1===(null===r||void 0===r?void 0:r.length)?1:l(e)},others:1,center:function(e,t,n){var r,o,i=((null===(r=e.data)||void 0===r?void 0:r.layout)||{}).degree;if(!i)return{x:100,y:100};if(1===i){var a=gE("leaf",e,n,u).sameTypeLeafNodes;1===a.length?o=void 0:a.length>1&&(o=vE(a))}else o=void 0;return{x:null===o||void 0===o?void 0:o.x,y:null===o||void 0===o?void 0:o.y}}}),s){var f=Array.from(new Set(n.nodes.map((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t[u]})))).filter((function(e){return void 0!==e})),d={};f.forEach((function(e){var t=n.nodes.filter((function(t){var n;return(null===(n=t.data)||void 0===n?void 0:n[u])===e}));d[e]=vE(t)})),o={single:function(e){return l(e)},leaf:function(e){return l(e)},others:function(e){return l(e)},center:function(e,t,n){var r,o=d[null===(r=e.data)||void 0===r?void 0:r[u]];return{x:null===o||void 0===o?void 0:o.x,y:null===o||void 0===o?void 0:o.y}}}}n.centripetalOptions=Object.assign(Object.assign({},n.centripetalOptions),o),n.nodes.forEach((function(e){var o=e.data.x||t/2,i=e.data.y||r/2,a=new sE(o,i);e.data.layout||(e.data.layout={});var s=hE(e,n.edges);e.data.layout=Object.assign(Object.assign({},e.data.layout),s);var u=n.getMass(e.data);n.nodePoints.set(e.id,new jE(a,String(e.id),e.data,u))})),n.edges.forEach((function(e){var t=n.nodePoints.get(e.source.id),r=n.nodePoints.get(e.target.id),o=n.props.defSpringLen(e,t,r);n.edgeSprings.set(e.id,new zE(t,r,o))}));var h=n.nodePoints.size,p=Math.pow(10,2);n.props.minEnergyThreshold=.5*Math.pow(1,2)*1*h*p},this.start=function(){n.init(),n.props.animation?n.animation():n.slienceForce()},this.calTotalEnergy=function(){var e=0;return n.nodes.forEach((function(t){var r=n.nodePoints.get(t.id),o=r.v.magnitude(),i=r.m;e+=i*Math.pow(o,2)*.5})),e},this.slienceForce=function(){for(var e=n.props,t=e.done,r=e.maxIterations,o=e.minDistanceThreshold,i=0;(n.judgingDistance>o||i<1)&&i<r;i++)n.tick(n.props.tickInterval),n.iterations++;n.render(),t&&t(n.renderNodes)},this.requestAnimationFrame=function(e){return n.props.enableWorker?setInterval((function(){e()}),16):window.requestAnimationFrame(e)},this.cancelAnimationFrame=function(e){n.props.enableWorker?clearInterval(e):window.cancelAnimationFrame(e)},this.animation=function(){var e=n.props,t=e.enableWorker,r=e.maxIterations,o=e.minDistanceThreshold,i=e.done,a=e.tickInterval;if(t)for(var s=(new Date).valueOf(),u=function(e){return e>10?2e3:20*e*e},c=0;c<r;c++){var l=Math.max(.02,.22-.002*c);n.tick(l),(new Date).valueOf()-s>=u(c)&&(n.render(),s=(new Date).valueOf());var f=n.calTotalEnergy(),d=n.registers.get("monitor");if(d&&d(n.reportMointor(f)),n.judgingDistance<o)return n.render(),void(i&&i(n.renderNodes))}else{n.timer=n.requestAnimationFrame((function e(){n.tick(a),n.render(),n.iterations++;var t=n.calTotalEnergy(),r=n.registers.get("monitor");r&&r(n.reportMointor(t)),n.judgingDistance<o||n.iterations>n.props.maxIterations?(n.cancelAnimationFrame(n.timer),n.iterations=0,n.done=!0,i&&i(n.renderNodes)):n.timer=n.requestAnimationFrame(e)}))}},this.render=function(){var e=n.registers.get("render");n.renderNodes=[],n.nodePoints.forEach((function(e){n.renderNodes.push(Object.assign(Object.assign({},n.nodeSet[e.id]&&n.nodeSet[e.id].data),{x:e.p.x,y:e.p.y}))})),e?e({nodes:n.renderNodes,edges:n.sourceData.edges}):console.error("need a render function")},this.reportMointor=function(e){return{energy:e,iterations:n.iterations,nodes:n.nodes,edges:n.edges}},this.tick=function(e){n.updateCoulombsLawOptimized(),n.updateHookesLaw(),n.attractToCentre(),n.updateVelocity(e),n.updatePosition(e)},this.updateCoulombsLawOptimized=function(){var e=n.props.coulombDisScale,t=n.props.repulsion,r=n.nodes.map((function(e){var t=n.nodePoints.get(e.id).p;return{x:t.x,y:t.y}})),o=PE(r,e,t);n.nodes.forEach((function(e,t){n.nodePoints.get(e.id).updateAcc(new sE(o[t].vx,o[t].vy))}))},this.updateCoulombsLaw=function(){for(var e=n.nodes.length,t=0;t<e;t++)for(var r=t+1;r<e;r++)if(t!==r){var o=n.nodes[t],i=n.nodes[r],a=n.props.coulombDisScale,s=n.props.repulsion,u=n.nodePoints.get(o.id).p.subtract(n.nodePoints.get(i.id).p),c=(u.magnitude()+.1)*a,l=u.normalise();n.nodePoints.get(o.id).updateAcc(l.scalarMultip(1*s).divide(Math.pow(c,2))),n.nodePoints.get(i.id).updateAcc(l.scalarMultip(1*s).divide(-Math.pow(c,2)))}},this.updateHookesLaw=function(){n.edges.forEach((function(e){var t=n.edgeSprings.get(e.id),r=t.target.p.subtract(t.source.p),o=t.length-r.magnitude(),i=r.normalise();t.source.updateAcc(i.scalarMultip(-n.props.stiffness*o)),t.target.updateAcc(i.scalarMultip(n.props.stiffness*o))}))},this.attractToCentre=function(){var e=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,o=n.nodePoints.get(e.id),i=o.p.subtract(t);o.updateAcc(i.scalarMultip(-r))};n.nodes.forEach((function(t){var r,o=null===(r=t.data)||void 0===r?void 0:r.layout,i=o.degree,a=o.sDegree,s=o.tDegree,u=n.centripetalOptions,c=u.leaf,l=u.single,f=u.others,d=u.center,h=n.props,p=h.width,g=h.height;if(void 0!==d){var v=d(t,n.nodes,n.edges,p,g),m=v.x,y=v.y,b=v.centerStrength;if(void 0!==m&&void 0!==y){var x=new sE(m,y);if(b)e(t,x,b);else{var w="function"===typeof c?c(t,n.nodes,n.edges):c,E="function"===typeof l?l(t):l,_="function"===typeof f?f(t):f;0!==w&&0!==E&&0!==_&&e(t,x,0===i?E:0===s||0===a?w:_)}}}}))},this.updateVelocity=function(e){n.nodes.forEach((function(t){var r=n.nodePoints.get(t.id);r.v=r.v.add(r.a.scalarMultip(e)).scalarMultip(n.props.damping),r.v.magnitude()>n.props.maxSpeed&&(r.v=r.v.normalise().scalarMultip(n.props.maxSpeed)),r.a=new sE(0,0)}))},this.updatePosition=function(e){var t;if(null===(t=n.nodes)||void 0===t?void 0:t.length){var r=n.props.distanceThresholdMode,o=0;"max"===r?n.judgingDistance=-1/0:"min"===r&&(n.judgingDistance=1/0),n.nodes.forEach((function(t){var i=n.nodePoints.get(t.id);i.p=i.p.add(i.v.scalarMultip(e));var a=i.v.scalarMultip(e).magnitude();switch(r){case"max":n.judgingDistance<a&&(n.judgingDistance=a);break;case"min":n.judgingDistance>a&&(n.judgingDistance=a);break;default:o+=a}})),r&&"mean"!==r||(n.judgingDistance=o/n.nodes.length)}else n.judgingDistance=0},this.addNode=function(e){var t=n.props.ignore;t&&t(e)||(e.id in n.nodeSet||n.nodes.push(e),n.nodeSet[e.id]=e)},this.addNodes=function(e){e.forEach((function(e){n.addNode(new xE(e))}))},this.addEdge=function(e){return e.id in n.edgeSet||n.edges.push(e),n.edgeSet[e.id]=e,e},this.addEdges=function(e){try{for(var t=e.length,r=0;r<t;r++){var o=e[r],i=o.source,a=o.target,s=n.nodeSet[i];if(void 0===s)throw new TypeError("invalid node name: ".concat(o.source));var u=n.nodeSet[a];if(void 0===u)throw new TypeError("invalid node name: ".concat(o.target));var c=o.data,l=new wE(String(n.nextEdgeId++),s,u,c);n.addEdge(l)}}catch(f){console.error(f)}},this.register=function(e,t){n.registers.set(e,t)},this.restart=function(e,t){var r=n.props.ignore;t.getNodes().forEach((function(e){var t=e.get("model");if(!r||!r(t)){var o=new sE(t.x,t.y),i=n.nodePoints.get(t.id);i&&(i.p=o,n.nodePoints.set(t.id,i))}}));e.forEach((function(e){var t=new sE(e.x,e.y),r=n.getMass(e);n.nodePoints.set(e.id,new jE(t,e.id,e.data,r)),n.edges.forEach((function(t){var r=n.nodePoints.get(t.source.id),o=n.nodePoints.get(t.target.id);if(r.id===e.id||o.id===e.id){var i=n.edgeSprings.get(t.id).length||100;n.edgeSprings.set(t.id,new zE(r,o,i))}}))})),n.props.restartAnimation?n.animation():n.slienceForce()},this.stop=function(){window.cancelAnimationFrame(n.timer),n.done=!0},this.props={stiffness:200,enableWorker:!1,defSpringLen:function(e){return e.data.spring||200},repulsion:1e3,centripetalOptions:{leaf:2,single:2},leafCluster:!1,clustering:!1,nodeClusterBy:"cluster",clusterNodeStrength:20,damping:.9,minEnergyThreshold:.1,maxSpeed:1e3,coulombDisScale:.005,tickInterval:.02,groupFactor:4,maxIterations:7440,minDistanceThreshold:.4,distanceThresholdMode:"mean",animation:!0,restartAnimation:!0,width:200,height:200},this.updateOptions(t),this.sourceData={nodes:[],edges:[],combos:[]},this.nodes=[],this.edges=[],this.nodeSet={},this.edgeSet={},this.renderNodes=[],this.nodePoints=new Map,this.edgeSprings=new Map,this.registers=new Map,this.done=!1,this.judgingDistance=0,this.iterations=0,this.nextEdgeId=0,this.timer=0,this.center=new sE(0,0),this.centripetalOptions={leaf:2,single:2,others:1,center:function(e){return{x:n.props.width/2,y:n.props.height/2}}},this.dragNodes=[]})),WE=UE,ZE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function YE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){s=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return HE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var XE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},KE=function(e,t,n){if(t)try{e.forEach((function(e){var r=e.cfg.name;if(t[r]){var o=n(t,r),i=o.animate,a=o.visible,s=XE(o,["animate","visible"]);if(!e.attrs.img&&(e.attr(s),e.cfg.visible=!1!==a,i)){var u=i.attrs,c=XE(i,["attrs"]);e.animate(u,c)}}}))}catch(r){console.error(r)}};function qE(e){return Object.keys(e).forEach((function(t){void 0===e[t]&&delete e[t]})),e}var $E=function(e){if(!e)return[0,0];var t=0,n=0;if((0,vn.isNumber)(e))t=e,n=e;else if((0,vn.isArray)(e))if(1===e.length){var r=YE(e,1)[0];t=r,n=r}else if(2===e.length){var o=YE(e,2);t=o[0],n=o[1]}return[t,n]};function JE(e){return function(e){if(Array.isArray(e))return t_(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||e_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){s=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||e_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e_(e,t){if(e){if("string"===typeof e)return t_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t_(e,t):void 0}}function t_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var n_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function r_(e){var t;return(0,vn.isNumber)(e)?t=e/2:(0,vn.isArray)(e)&&(t=e[0]/2),t}var o_=function(e){var t,n,r,o=e.halo,i=e.keyshape,a=o.size,s=o.visible,u=o.fill,c=o.fillOpacity,l=n_(o,["size","visible","fill","fillOpacity"]),f=r_(a);i&&i.size&&(t=r_(i.size)+15);return i&&i.fill&&(n=i.fill),i&&i.stroke&&(r=i.stroke),{name:"halo",visible:!1!==s,attrs:qE(Object.assign({x:0,y:0,r:f||t,fill:u||n||r,fillOpacity:c||.1,visible:!1!==s},l))}},i_=function(e){var t=e.keyshape,n=t.size,r=t.visible,o=t.stroke,i=t.fill,a=t.fillOpacity,s=t.strokeOpacity,u=n_(t,["size","visible","stroke","fill","fillOpacity","strokeOpacity"]),c=r_(n);return{name:"keyshape",visible:!1!==r,attrs:qE(Object.assign({x:0,y:0,r:c,cursor:"pointer",visible:!1!==r,stroke:o,strokeOpacity:s||1,fill:i||o,fillOpacity:a||.2},u))}},a_=function(e){var t=e.label,n=t.value,r=t.fill,o=t.fontSize,i=t.visible,a=n_(t,["value","fill","fontSize","visible"]),s=function(e){var t=e.label,n=e.keyshape;if(!(null===n||void 0===n?void 0:n.size)&&!(null===t||void 0===t?void 0:t.offset))return{x:void 0,y:void 0,textBaseline:null===t||void 0===t?void 0:t.textBaseline};!(null===n||void 0===n?void 0:n.size)&&(null===t||void 0===t?void 0:t.offset)&&(n.size=26,console.info("you should set keyshape.size when you update label position,the default keyshape size value is  26"));var r=n.size,o=[0,0],i=t.position,a=t.offset,s=void 0===a?o:a;"number"!==typeof s&&"string"!==typeof s||(o=[Number(s),Number(s)]),s.length>0&&(o=s);var u=YE(o,2),c=u[0],l=u[1];if("center"===i)return{x:0+c,y:0+l};var f,d=$E(r),h=d[0],p=d[1];switch(i){case"top":f={x:0+c,y:-p/2-l,textBaseline:"bottom"};break;case"bottom":default:f={x:0+c,y:p/2+l,textBaseline:"top"};break;case"left":f={x:0-h-c,y:0+l,textAlign:"right"};break;case"right":f={x:0+h+c,y:0+l,textAlign:"left"}}return f}(e);return{name:"label",visible:!1!==i,attrs:qE(Object.assign({x:s.x,y:s.y,fontSize:o,text:n,textAlign:"center",fill:r,textBaseline:s.textBaseline,visible:!1!==i},a))}},s_=function(e){var t=e.icon,n=t.value,r=void 0===n?"":n,o=t.type,i=t.fontFamily,a=t.textAlign,s=void 0===a?"center":a,u=t.textBaseline,c=void 0===u?"middle":u,l=t.fill,f=t.size,d=t.visible,h=(t.clip,n_(t,["value","type","fontFamily","textAlign","textBaseline","fill","size","visible","clip"])),p=QE($E(f),2),g=p[0],v=p[1],m={name:"icon",visible:!1!==d,capture:!1};return"text"===o||"font"===o?Object.assign(Object.assign({},m),{attrs:Object.assign({x:0,y:0,textAlign:s,textBaseline:c,text:r,fontSize:g,fontFamily:i,fill:l,visible:!1!==d},h)}):Object.assign(Object.assign({},m),{attrs:Object.assign({x:-g/2,y:-v/2,img:r,width:g,height:v,visible:!1!==d},h)})},u_=function(e,t){return"keyshape"===t?i_(e).attrs:"halo"===t?o_(e).attrs:"label"===t?a_(e).attrs:"icon"===t?s_(e).attrs:e[t]||{}},c_=function(e,t,n){var r=e.type,o=e.position,i=e.value,a=void 0===i?"":i,s=e.size,u=e.fill,c=e.stroke,l=e.color,f=e.fontSize,d=e.fontFamily,h=e.padding,p=void 0===h?0:h,g=e.offset,v=void 0===g?[0,0]:g,m=e.id,y=$E(v),b=QE($E(s),2),x=b[0],w=b[1],E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"RT",t=arguments.length>1?arguments[1]:void 0,n=0,r=0;return"LT"===e?(n=t*Math.cos(3*Math.PI/4),r=-t*Math.sin(3*Math.PI/4)):"LB"===e?(n=t*Math.cos(5*Math.PI/4),r=-t*Math.sin(5*Math.PI/4)):"RT"===e?(n=t*Math.cos(1*Math.PI/4),r=-t*Math.sin(1*Math.PI/4)):"RB"===e&&(n=t*Math.cos(7*Math.PI/4),r=-t*Math.sin(7*Math.PI/4)),{x:n,y:r}}(o,n),_=E.x,S=E.y,k=_,T=S;if(x===w){var C={attrs:{r:x/2+p,fill:u,stroke:c,x:k+=y[0],y:T+=y[1]},name:"badges-circle"};m&&(C.id=m),t.addShape("circle",C)}else{k=_-x-2*p,T=S-w-2*p,"LB"===o?T=S:"RT"===o?(k=_,T=S-w-2*p):"RB"===o&&(k=_,T=S);var M={attrs:{width:x+2*p,height:w+2*p,fill:u,stroke:c,x:k+=y[0],y:T+=y[1],radius:(w+2*p)/3},name:"badges-rect"};m&&(M.id=m),t.addShape("rect",M)}"font"===r||"text"===r?t.addShape("text",{attrs:{x:x!==w?k+x/2+p:k,y:x!==w?T+w/2+p:T,text:a,fontSize:f,textAlign:"center",textBaseline:"middle",fontFamily:d,fill:l},capture:!1,name:"badges-text"}):"image"===r&&t.addShape("image",{attrs:{x:k-x/2,y:k-w/2,width:x,height:w,img:a},capture:!1,name:"badges-image"})};function l_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){s=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d_,h_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function p_(e){return Object.keys(e).forEach((function(t){void 0===e[t]&&delete e[t]})),e}!function(e){e.NORMAL="normal",e.SELECTED="selected",e.HOVERED="hovered",e.DISABLED="disabled"}(d_||(d_={}));var g_=function(e,t){return"keyshape"===t?function(e){var t=h_(e,[]);return p_(Object.assign({id:"keyshape"},t))}(e.keyshape||{}):"halo"===t?function(e){var t=h_(e,[]);return p_(Object.assign({id:"halo"},t))}(e.halo||{}):"label"===t?function(e){var t=e.value,n=h_(e,["value"]);return p_(Object.assign({id:"label",text:t},n))}(e.label||{}):{}},v_=function(e,t,n){var r=(t.x+e.x)/2,o=(t.y+e.y)/2,i=t.x-e.x,a=t.y-e.y,s=Math.sqrt(Math.pow(i,2)+Math.pow(a,2));return{x:r+a*n/s||0,y:o-i*n/s||0}};nE.registerLayout("graphin-force",{getDefaultCfg:function(){return{preset:{name:"grid",options:{}},stiffness:200,repulsion:1e3,centripetalOptions:{leaf:1.6,single:1.6},damping:.9,minEnergyThreshold:.1,maxSpeed:1e3,MaxIterations:1e4,animation:!0}},init:function(e){this.nodes=e.nodes,this.edges=e.edges;var t=this.graph,n=ZE(this,["graph"]),r=Object.assign(Object.assign({},this.getDefaultCfg()),n),o=r.width,i=r.height,a=r.animation,s=r.done,u=void 0===s?function(){}:s,c=ZE(r,["width","height","animation","done"]);this.simulation=new WE(Object.assign(Object.assign(Object.assign({width:o,height:i,animation:a},c),n),{done:function(e){u(t,e)}})),this.simulation.setData(e),this.simulation.register("render",(function(n){if(!a&&e&&e.nodes&&e.nodes.length>0){var r=n.nodes;return e.nodes.forEach((function(e,t){var n=r[t];if(n&&n.id===e.id)e.x=r[t].x,e.y=r[t].y;else{var o=r.find((function(t){return t.id===e.id}));o&&(e.x=o.x,e.y=o.y)}})),Object.assign({},n)}try{if(!t||t.destroyed)return;var o=!1;n.nodes.forEach((function(e){var n=t.findById(e.id);if(n){var r=n.get("model");r.x=e.x,r.y=e.y,"combo"===n.getType()&&(o=!0)}})),t.refreshPositions(o)}catch(i){console.error(i)}}))},execute:function(){this.simulation.start()},layout:function(e){this.init(e),this.execute()},updateCfg:function(e){this.cfg=Object.assign(Object.assign({},this.cfg),e)},destroy:function(){this.destroyed=!0,this.simulation.stop(),this.simulation=null},getType:function(){return"graphin-force"}}),nE.registerLayout("preset",{init:function(){},execute:function(){},destroy:function(){this.destroyed=!0}}),Vx.registerNode("graphin-circle",{options:{style:{},status:{}},draw:function(e,t){var n=e.style._theme;this.options=function(){var e=jw(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=e.defaultNodeStyle,n=e.defaultNodeStatusStyle;return{style:t.style,status:n.status}}(n);var r=(0,vn.deepMix)({},this.options.style,e.style);e._initialStyle=Object.assign({},r);var o=r.icon,i=r.badges,a=void 0===i?[]:i,s=r_(r.keyshape.size);t.addShape("circle",o_(r));var u=t.addShape("circle",i_(r));t.addShape("text",a_(r));var c=o.type;if("text"!==c&&"font"!==c||t.addShape("text",s_(r)),"image"===c){var l=s_(r),f=t.addShape("image",l),d=r.icon.clip;if(d){var h=d.r,p=n_(d,["r"]);f.setClip({type:"circle",attrs:Object.assign({x:0,y:0,r:h},p)})}}return a.forEach((function(e){c_(e,t,s)})),u},setState:function(e,t,n){var r;if(e){var o=n.getModel(),i=n.getContainer().get("children"),a=(0,vn.deepMix)({},this.options.status,o.style.status),s=n.getModel()._initialStyle,u=(null===(r=n._cfg)||void 0===r?void 0:r.states)||[];try{Object.keys(a).forEach((function(n){e===n&&(t?KE(i,a[n],u_):(KE(i,s,u_),u.forEach((function(e){KE(i,a[e],u_)}))))}))}catch(c){console.error(c)}}},update:function(e,t){if(e.style)try{var n=(0,vn.deepMix)({},e._initialStyle,e.style);e._initialStyle=Object.assign({},n);var r=n.badges,o=r_(n.keyshape.size),i=t.getContainer(),a=i.get("children");KE(a,n,u_);var s=JE(a);if(r){var u=0;s.forEach((function(e){e.cfg.name.startsWith("badges")?a.splice(u,1):u+=1})),r.forEach((function(e){c_(e,i,o)}))}}catch(c){console.error("error")}}}),Vx.registerEdge("graphin-line",{draw:function(e,t){var n,r,o,i,a,s=e.style._theme;this.options=function(){var e=jw(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=e.defaultEdgeStyle,n=e.defaultEdgeStatusStyle;return{style:t.style,status:n.status}}(s);var u=(0,vn.deepMix)({},this.options.style,e.style);e&&(e._initialStyle=Object.assign({},u));var c=e.startPoint,l=void 0===c?{x:0,y:0}:c,f=e.endPoint,d=void 0===f?{x:0,y:0}:f,h=e.sourceNode,p=e.targetNode,g=u.label,v=u.halo,m=u.keyshape,y=h.get("model"),b=(null===(n=p)||void 0===n?void 0:n.get("model"))||{id:"temp"},x=(null===(o=null===(r=y.style)||void 0===r?void 0:r.keyshape)||void 0===o?void 0:o.size)||28,w="loop"===(null===m||void 0===m?void 0:m.type)||y.id===b.id,E=g.value,_="poly"===(null===m||void 0===m?void 0:m.type),S=v_(l,d,(null===(i=null===m||void 0===m?void 0:m.poly)||void 0===i?void 0:i.distance)||0),k=(null===m||void 0===m?void 0:m.lineWidth)||1,T=k+5,C=function(e,t){var n,r,o,i=e.startPoint,a=void 0===i?{x:0,y:0}:i,s=e.endPoint,u=void 0===s?{x:0,y:0}:s,c=e.sourceNode,l=e.targetNode,f=t.keyshape,d=f.type,h=void 0===d?"line":d,p=f.poly,g=void 0===p?{distance:0}:p,v=f.loop,m=void 0===v?{}:v,y=c.get("model"),b=(null===(n=l)||void 0===n?void 0:n.get("model"))||{id:"temp"};if("loop"===h||y.id===b.id){var x=(null===(o=null===(r=y.style)||void 0===r?void 0:r.keyshape)||void 0===o?void 0:o.size)||26,w=Object.assign({distance:0,dx:8,rx:void 0,ry:void 0},m),E=w.distance,_=w.dx,S=w.rx,k=w.ry,T=x/2,C=Math.sqrt(Math.pow(T,2)-Math.pow(_,2)),M=S||2*T*.5,N=k||2*T*.6;return[["M",a.x-_,a.y-C],["A",M+E,N+E,0,1,1,a.x+_,a.y-C]]}if("poly"===h){var A=v_(a,u,(null===g||void 0===g?void 0:g.distance)||0);return[["M",a.x,a.y],["Q",A.x,A.y,u.x,u.y]]}return[["M",a.x,a.y],["L",u.x,u.y]]}(e,u);t.addShape("path",{attrs:Object.assign({id:"halo",path:C,lineWidth:k+10,stroke:v.stroke||m.stroke,strokeOpacity:v.strokeOpacity||.4},v),draggable:!0,name:"halo",visible:!1!==v.visible});var M=t.addShape("path",{attrs:Object.assign({id:"keyshape",path:C,endArrow:w?void 0:{d:0,path:"M 0,0 L ".concat(T,",").concat(T/2," L ").concat(T,",-").concat(T/2," Z"),fill:m.stroke}},m),draggable:!0,name:"keyshape"});if(E){var N=g.value,A=g.fontSize,P=void 0===A?8:A,O=g.offset,I=void 0===O?[0,0]:O,D=g.background,R=h_(g,["value","fontSize","offset","background"]),L=Boolean(D),j=l_(I,2),F=j[0],B=j[1],z=Math.atan((d.y-l.y)/(d.x-l.x)),G=[(l.x+d.x)/2,(l.y+d.y)/2];if(_&&(G=[(S.x+G[0])/2,(S.y+G[1])/2]),d.x-l.x===0&&(z=Math.PI/2),w&&(z=2*Math.PI),L){var V={fill:"#fff",width:String(N).length*P*.6,height:1.8*P,stroke:m.stroke,lineWidth:1,radius:6},U=Object.assign(Object.assign({},V),D),W=U.fill,Z=U.width,Y=U.height,H=U.stroke,X=h_(U,["fill","width","height","stroke"]),K=t.addShape("rect",{attrs:Object.assign({id:"label-background",x:-Z/2+F,y:-Y/2+B,width:Z,height:Y,fill:W,stroke:H},X),draggable:!0,name:"label-background"});K.rotate(z),K.translate(G[0],G[1])}var q=B-P/2;w&&(q=B-1.6*x-2*((null===(a=null===m||void 0===m?void 0:m.loop)||void 0===a?void 0:a.distance)||0)),L&&(q=B+P/2);var $=t.addShape("text",{attrs:Object.assign({id:"label",x:F,y:q,text:N,fontSize:P},R),draggable:!0,name:"label"});$.rotate(z),$.translate(G[0],G[1])}return M},setState:function(e,t,n){var r;if(e){var o=n.getModel(),i=n.getContainer().get("children"),a=(0,vn.deepMix)({},this.options.status,o.style.status),s=n.getModel()._initialStyle,u=(null===(r=n._cfg)||void 0===r?void 0:r.states)||[];try{Object.keys(a).forEach((function(n){e===n&&(t?KE(i,a[n],g_):(KE(i,s,g_),u.forEach((function(e){KE(i,a[e],g_)}))))}))}catch(c){console.error(c)}}}});nE.registerFontFamily;var m_=nE,y_=pn,b_=n(7762),x_={data:"Type of Data",problem:"Type of Problem",model:"Type of Model to be Explained",task:"Type of Task",explanation:"Type of Explanation",method:"Method used to explain"};function w_(){var e=y_((function(e){return e})),t=e.papers,n=e.filters,r=t.filter((function(e){for(var t=!0,r=!0,o=0,i=Object.entries(x_);o<i.length;o++){var a=(0,gt.Z)(i[o],2),s=a[0],u=a[1],c=n[s];if(Array.isArray(c)){c.length>0&&(t=!1);var l,f=(0,b_.Z)(c);try{var d=function(){var t=l.value,o=e[u];if(n.filterStateAND)Array.isArray(o)&&o.some((function(e){return e===t}))||(r=!1);else if(Array.isArray(o)&&o.some((function(e){return e===t})))return{v:!0}};for(f.s();!(l=f.n()).done;){var h=d();if("object"===typeof h)return h.v}}catch(p){f.e(p)}finally{f.f()}}}return n.filterStateAND?r:t}));return r}var E_=n(1694),__=n.n(E_);function S_(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var k_=n(5671),T_=n(3144),C_=n(9340),M_=n(4062),N_=n(1002);function A_(e){return e instanceof HTMLElement?e:y.findDOMNode(e)}var P_=n(7441);function O_(e,t,n){var r=m.useRef({});return"value"in r.current&&!n(r.current.condition,t)||(r.current.value=e(),r.current.condition=t),r.current.value}function I_(e,t){"function"===typeof e?e(t):"object"===(0,N_.Z)(e)&&e&&"current"in e&&(e.current=t)}function D_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){I_(t,e)}))}}function R_(e){var t,n,r=(0,P_.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}function L_(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}function j_(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var F_=function(e,t){var n={animationend:j_("Animation","AnimationEnd"),transitionend:j_("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(L_(),"undefined"!==typeof window?window:{}),B_={};if(L_()){var z_=document.createElement("div");B_=z_.style}var G_={};function V_(e){if(G_[e])return G_[e];var t=F_[e];if(t)for(var n=Object.keys(t),r=n.length,o=0;o<r;o+=1){var i=n[o];if(Object.prototype.hasOwnProperty.call(t,i)&&i in B_)return G_[e]=t[i],G_[e]}return""}var U_=V_("animationend"),W_=V_("transitionend"),Z_=!(!U_||!W_),Y_=U_||"animationend",H_=W_||"transitionend";function X_(e,t){if(!e)return null;if("object"===(0,N_.Z)(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}var K_="none",q_="appear",$_="enter",J_="leave",Q_="none",eS="prepare",tS="start",nS="active",rS="end";function oS(e){var t=m.useRef(!1),n=m.useState(e),r=(0,gt.Z)(n,2),o=r[0],i=r[1];return m.useEffect((function(){return function(){t.current=!0}}),[]),[o,function(e,n){n&&t.current||i(e)}]}var iS=L_()?m.useLayoutEffect:m.useEffect,aS=function(e){return+setTimeout(e,16)},sS=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(aS=function(e){return window.requestAnimationFrame(e)},sS=function(e){return window.cancelAnimationFrame(e)});var uS=0,cS=new Map;function lS(e){cS.delete(e)}function fS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=uS+=1;function r(t){if(0===t)lS(n),e();else{var o=aS((function(){r(t-1)}));cS.set(n,o)}}return r(t),n}fS.cancel=function(e){var t=cS.get(e);return lS(t),sS(t)};var dS=[eS,tS,nS,rS];function hS(e){return e===nS||e===rS}var pS=function(e,t){var n=oS(Q_),r=(0,gt.Z)(n,2),o=r[0],i=r[1],a=function(){var e=m.useRef(null);function t(){fS.cancel(e.current)}return m.useEffect((function(){return function(){t()}}),[]),[function n(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var i=fS((function(){o<=1?r({isCanceled:function(){return i!==e.current}}):n(r,o-1)}));e.current=i},t]}(),s=(0,gt.Z)(a,2),u=s[0],c=s[1];return iS((function(){if(o!==Q_&&o!==rS){var e=dS.indexOf(o),n=dS[e+1],r=t(o);false===r?i(n,!0):u((function(e){function t(){e.isCanceled()||i(n,!0)}!0===r?t():Promise.resolve(r).then(t)}))}}),[e,o]),m.useEffect((function(){return function(){c()}}),[]),[function(){i(eS,!0)},o]};function gS(e,t,n,r){var o=r.motionEnter,i=void 0===o||o,a=r.motionAppear,s=void 0===a||a,u=r.motionLeave,c=void 0===u||u,l=r.motionDeadline,f=r.motionLeaveImmediately,d=r.onAppearPrepare,h=r.onEnterPrepare,p=r.onLeavePrepare,g=r.onAppearStart,v=r.onEnterStart,y=r.onLeaveStart,b=r.onAppearActive,x=r.onEnterActive,w=r.onLeaveActive,E=r.onAppearEnd,_=r.onEnterEnd,S=r.onLeaveEnd,k=r.onVisibleChanged,T=oS(),C=(0,gt.Z)(T,2),M=C[0],N=C[1],A=oS(K_),P=(0,gt.Z)(A,2),O=P[0],I=P[1],D=oS(null),R=(0,gt.Z)(D,2),L=R[0],j=R[1],F=(0,m.useRef)(!1),B=(0,m.useRef)(null),z=(0,m.useRef)(null);function G(){return n()||z.current}var V=(0,m.useRef)(!1);function U(e){var t,n=G();e&&!e.deadline&&e.target!==n||(O===q_&&V.current?t=null===E||void 0===E?void 0:E(n,e):O===$_&&V.current?t=null===_||void 0===_?void 0:_(n,e):O===J_&&V.current&&(t=null===S||void 0===S?void 0:S(n,e)),!1!==t&&(I(K_,!0),j(null,!0)))}var W=function(e){var t=(0,m.useRef)(),n=(0,m.useRef)(e);n.current=e;var r=m.useCallback((function(e){n.current(e)}),[]);function o(e){e&&(e.removeEventListener(H_,r),e.removeEventListener(Y_,r))}return m.useEffect((function(){return function(){o(t.current)}}),[]),[function(e){t.current&&t.current!==e&&o(t.current),e&&e!==t.current&&(e.addEventListener(H_,r),e.addEventListener(Y_,r),t.current=e)},o]}(U),Z=(0,gt.Z)(W,1)[0],Y=m.useMemo((function(){var e,t,n;switch(O){case q_:return e={},(0,xe.Z)(e,eS,d),(0,xe.Z)(e,tS,g),(0,xe.Z)(e,nS,b),e;case $_:return t={},(0,xe.Z)(t,eS,h),(0,xe.Z)(t,tS,v),(0,xe.Z)(t,nS,x),t;case J_:return n={},(0,xe.Z)(n,eS,p),(0,xe.Z)(n,tS,y),(0,xe.Z)(n,nS,w),n;default:return{}}}),[O]),H=pS(O,(function(e){if(e===eS){var t=Y.prepare;return!!t&&t(G())}var n;q in Y&&j((null===(n=Y[q])||void 0===n?void 0:n.call(Y,G(),null))||null);return q===nS&&(Z(G()),l>0&&(clearTimeout(B.current),B.current=setTimeout((function(){U({deadline:!0})}),l))),true})),X=(0,gt.Z)(H,2),K=X[0],q=X[1],$=hS(q);V.current=$,iS((function(){N(t);var n,r=F.current;(F.current=!0,e)&&(!r&&t&&s&&(n=q_),r&&t&&i&&(n=$_),(r&&!t&&c||!r&&f&&!t&&c)&&(n=J_),n&&(I(n),K()))}),[t]),(0,m.useEffect)((function(){(O===q_&&!s||O===$_&&!i||O===J_&&!c)&&I(K_)}),[s,i,c]),(0,m.useEffect)((function(){return function(){clearTimeout(B.current)}}),[]),(0,m.useEffect)((function(){void 0!==M&&O===K_&&(null===k||void 0===k||k(M))}),[M,O]);var J=L;return Y.prepare&&q===tS&&(J=Ee({transition:"none"},J)),[O,q,J,null!==M&&void 0!==M?M:t]}var vS=function(e){(0,C_.Z)(n,e);var t=(0,M_.Z)(n);function n(){return(0,k_.Z)(this,n),t.apply(this,arguments)}return(0,T_.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(m.Component),mS=vS;var yS=function(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===(0,N_.Z)(e)&&(t=e.transitionSupport);var r=m.forwardRef((function(e,t){var r=e.visible,o=void 0===r||r,i=e.removeOnLeave,a=void 0===i||i,s=e.forceRender,u=e.children,c=e.motionName,l=e.leavedClassName,f=e.eventProps,d=n(e),h=(0,m.useRef)(),p=(0,m.useRef)();var g=gS(d,o,(function(){try{return h.current instanceof HTMLElement?h.current:A_(p.current)}catch(e){return null}}),e),v=(0,gt.Z)(g,4),y=v[0],b=v[1],x=v[2],w=v[3],E=m.useRef(w);w&&(E.current=!0);var _,S=m.useCallback((function(e){h.current=e,I_(t,e)}),[]),k=Ee(Ee({},f),{},{visible:o});if(u)if(y!==K_&&n(e)){var T,C;b===eS?C="prepare":hS(b)?C="active":b===tS&&(C="start"),_=u(Ee(Ee({},k),{},{className:__()(X_(c,y),(T={},(0,xe.Z)(T,X_(c,"".concat(y,"-").concat(C)),C),(0,xe.Z)(T,c,"string"===typeof c),T)),style:x}),S)}else _=w?u(Ee({},k),S):!a&&E.current?u(Ee(Ee({},k),{},{className:l}),S):s?u(Ee(Ee({},k),{},{style:{display:"none"}}),S):null;else _=null;return m.createElement(mS,{ref:p},_)}));return r.displayName="CSSMotion",r}(Z_),bS="add",xS="keep",wS="remove",ES="removed";function _S(e){var t;return Ee(Ee({},t=e&&"object"===(0,N_.Z)(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function SS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(_S)}function kS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,o=t.length,i=SS(e),a=SS(t);i.forEach((function(e){for(var t=!1,i=r;i<o;i+=1){var s=a[i];if(s.key===e.key){r<i&&(n=n.concat(a.slice(r,i).map((function(e){return Ee(Ee({},e),{},{status:bS})}))),r=i),n.push(Ee(Ee({},s),{},{status:xS})),r+=1,t=!0;break}}t||n.push(Ee(Ee({},e),{},{status:wS}))})),r<o&&(n=n.concat(a.slice(r).map((function(e){return Ee(Ee({},e),{},{status:bS})}))));var s={};n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1}));var u=Object.keys(s).filter((function(e){return s[e]>1}));return u.forEach((function(e){n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==wS})),n.forEach((function(t){t.key===e&&(t.status=xS)}))})),n}var TS=["component","children","onVisibleChanged"],CS=["status"],MS=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];var NS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yS,n=function(e){(0,C_.Z)(r,e);var n=(0,M_.Z)(r);function r(){var e;(0,k_.Z)(this,r);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=n.call.apply(n,[this].concat(o))).state={keyEntities:[]},e.removeKey=function(t){e.setState((function(e){return{keyEntities:e.keyEntities.map((function(e){return e.key!==t?e:Ee(Ee({},e),{},{status:ES})}))}}))},e}return(0,T_.Z)(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,o=r.component,i=r.children,a=r.onVisibleChanged,s=S_(r,TS),u=o||m.Fragment,c={};return MS.forEach((function(e){c[e]=s[e],delete s[e]})),delete s.keys,m.createElement(u,s,n.map((function(n){var r=n.status,o=S_(n,CS),s=r===bS||r===xS;return m.createElement(t,vt({},c,{key:o.key,visible:s,eventProps:o,onVisibleChanged:function(t){null===a||void 0===a||a(t,{key:o.key}),t||e.removeKey(o.key)}}),i)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,o=SS(n);return{keyEntities:kS(r,o).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==ES||e.status!==wS}))}}}]),r}(m.Component);return n.defaultProps={component:"div"},n}(Z_),AS=yS,PS=function(e){(0,C_.Z)(n,e);var t=(0,M_.Z)(n);function n(){var e;(0,k_.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,r=n.onClose,o=n.noticeKey;r&&r(o)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return(0,T_.Z)(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.className,o=t.closable,i=t.closeIcon,a=t.style,s=t.onClick,u=t.children,c=t.holder,l="".concat(n,"-notice"),f=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),d=m.createElement("div",vt({className:__()(l,r,(0,xe.Z)({},"".concat(l,"-closable"),o)),style:a,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:s},f),m.createElement("div",{className:"".concat(l,"-content")},u),o?m.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(l,"-close")},i||m.createElement("span",{className:"".concat(l,"-close-x")})):null);return c?y.createPortal(d,c):d}}]),n}(m.Component);PS.defaultProps={onClose:function(){},duration:1.5};var OS=n(3433);function IS(e){var t=m.useRef({}),n=m.useState([]),r=(0,gt.Z)(n,2),o=r[0],i=r[1];return[function(n){var r=!0;e.add(n,(function(e,n){var o=n.key;if(e&&(!t.current[o]||r)){var a=m.createElement(PS,vt({},n,{holder:e}));t.current[o]=a,i((function(e){var t=e.findIndex((function(e){return e.key===n.key}));if(-1===t)return[].concat((0,OS.Z)(e),[a]);var r=(0,OS.Z)(e);return r[t]=a,r}))}r=!1}))},m.createElement(m.Fragment,null,o)]}var DS=0,RS=Date.now();function LS(){var e=DS;return DS+=1,"rcNotification_".concat(RS,"_").concat(e)}var jS=function(e){(0,C_.Z)(n,e);var t=(0,M_.Z)(n);function n(){var e;(0,k_.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={notices:[]},e.hookRefs=new Map,e.add=function(t,n){var r=t.key||LS(),o=Ee(Ee({},t),{},{key:r}),i=e.props.maxCount;e.setState((function(e){var t=e.notices,a=t.map((function(e){return e.notice.key})).indexOf(r),s=t.concat();return-1!==a?s.splice(a,1,{notice:o,holderCallback:n}):(i&&t.length>=i&&(o.key=s[0].notice.key,o.updateMark=LS(),o.userPassKey=r,s.shift()),s.push({notice:o,holderCallback:n})),{notices:s}}))},e.remove=function(t){e.setState((function(e){return{notices:e.notices.filter((function(e){var n=e.notice,r=n.key;return(n.userPassKey||r)!==t}))}}))},e.noticePropsMap={},e}return(0,T_.Z)(n,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,n=e.animation,r=this.props.transitionName;return!r&&n&&(r="".concat(t,"-").concat(n)),r}},{key:"render",value:function(){var e=this,t=this.state.notices,n=this.props,r=n.prefixCls,o=n.className,i=n.closeIcon,a=n.style,s=[];return t.forEach((function(n,o){var a=n.notice,u=n.holderCallback,c=o===t.length-1?a.updateMark:void 0,l=a.key,f=a.userPassKey,d=Ee(Ee(Ee({prefixCls:r,closeIcon:i},a),a.props),{},{key:l,noticeKey:f||l,updateMark:c,onClose:function(t){var n;e.remove(t),null===(n=a.onClose)||void 0===n||n.call(a)},onClick:a.onClick,children:a.content});s.push(l),e.noticePropsMap[l]={props:d,holderCallback:u}})),m.createElement("div",{className:__()(r,o),style:a},m.createElement(NS,{keys:s,motionName:this.getTransitionName(),onVisibleChanged:function(t,n){var r=n.key;t||delete e.noticePropsMap[r]}},(function(t){var n=t.key,o=t.className,i=t.style,a=t.visible,s=e.noticePropsMap[n],u=s.props,c=s.holderCallback;return c?m.createElement("div",{key:n,className:__()(o,"".concat(r,"-hook-holder")),style:Ee({},i),ref:function(t){"undefined"!==typeof n&&(t?(e.hookRefs.set(n,t),c(t,u)):e.hookRefs.delete(n))}}):m.createElement(PS,vt({},u,{className:__()(o,null===u||void 0===u?void 0:u.className),style:Ee(Ee({},i),null===u||void 0===u?void 0:u.style),visible:a}))})))}}]),n}(m.Component);jS.newInstance=void 0,jS.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},jS.newInstance=function(e,t){var n=e||{},r=n.getContainer,o=S_(n,["getContainer"]),i=document.createElement("div");r?r().appendChild(i):document.body.appendChild(i);var a=!1;y.render(m.createElement(jS,vt({},o,{ref:function(e){a||(a=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){y.unmountComponentAtNode(i),i.parentNode&&i.parentNode.removeChild(i)},useNotification:function(){return IS(e)}}))}})),i)};var FS=jS,BS={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},zS=(0,m.createContext)({});function GS(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function VS(e){return Math.min(1,Math.max(0,e))}function US(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function WS(e){return e<=1?100*Number(e)+"%":e}function ZS(e){return 1===e.length?"0"+e:String(e)}function YS(e,t,n){e=GS(e,255),t=GS(t,255),n=GS(n,255);var r=Math.max(e,t,n),o=Math.min(e,t,n),i=0,a=0,s=(r+o)/2;if(r===o)a=0,i=0;else{var u=r-o;switch(a=s>.5?u/(2-r-o):u/(r+o),r){case e:i=(t-n)/u+(t<n?6:0);break;case t:i=(n-e)/u+2;break;case n:i=(e-t)/u+4}i/=6}return{h:i,s:a,l:s}}function HS(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function XS(e,t,n){e=GS(e,255),t=GS(t,255),n=GS(n,255);var r=Math.max(e,t,n),o=Math.min(e,t,n),i=0,a=r,s=r-o,u=0===r?0:s/r;if(r===o)i=0;else{switch(r){case e:i=(t-n)/s+(t<n?6:0);break;case t:i=(n-e)/s+2;break;case n:i=(e-t)/s+4}i/=6}return{h:i,s:u,v:a}}function KS(e,t,n,r){var o=[ZS(Math.round(e).toString(16)),ZS(Math.round(t).toString(16)),ZS(Math.round(n).toString(16))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function qS(e){return Math.round(255*parseFloat(e)).toString(16)}function $S(e){return JS(e)/255}function JS(e){return parseInt(e,16)}var QS={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function ek(e){var t={r:0,g:0,b:0},n=1,r=null,o=null,i=null,a=!1,s=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(QS[e])e=QS[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=ok.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=ok.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=ok.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=ok.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=ok.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=ok.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=ok.hex8.exec(e))return{r:JS(n[1]),g:JS(n[2]),b:JS(n[3]),a:$S(n[4]),format:t?"name":"hex8"};if(n=ok.hex6.exec(e))return{r:JS(n[1]),g:JS(n[2]),b:JS(n[3]),format:t?"name":"hex"};if(n=ok.hex4.exec(e))return{r:JS(n[1]+n[1]),g:JS(n[2]+n[2]),b:JS(n[3]+n[3]),a:$S(n[4]+n[4]),format:t?"name":"hex8"};if(n=ok.hex3.exec(e))return{r:JS(n[1]+n[1]),g:JS(n[2]+n[2]),b:JS(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(ik(e.r)&&ik(e.g)&&ik(e.b)?(t=function(e,t,n){return{r:255*GS(e,255),g:255*GS(t,255),b:255*GS(n,255)}}(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):ik(e.h)&&ik(e.s)&&ik(e.v)?(r=WS(e.s),o=WS(e.v),t=function(e,t,n){e=6*GS(e,360),t=GS(t,100),n=GS(n,100);var r=Math.floor(e),o=e-r,i=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),u=r%6;return{r:255*[n,a,i,i,s,n][u],g:255*[s,n,n,a,i,i][u],b:255*[i,i,s,n,n,a][u]}}(e.h,r,o),a=!0,s="hsv"):ik(e.h)&&ik(e.s)&&ik(e.l)&&(r=WS(e.s),i=WS(e.l),t=function(e,t,n){var r,o,i;if(e=GS(e,360),t=GS(t,100),n=GS(n,100),0===t)o=n,i=n,r=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;r=HS(s,a,e+1/3),o=HS(s,a,e),i=HS(s,a,e-1/3)}return{r:255*r,g:255*o,b:255*i}}(e.h,r,i),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=US(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var tk="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",nk="[\\s|\\(]+("+tk+")[,|\\s]+("+tk+")[,|\\s]+("+tk+")\\s*\\)?",rk="[\\s|\\(]+("+tk+")[,|\\s]+("+tk+")[,|\\s]+("+tk+")[,|\\s]+("+tk+")\\s*\\)?",ok={CSS_UNIT:new RegExp(tk),rgb:new RegExp("rgb"+nk),rgba:new RegExp("rgba"+rk),hsl:new RegExp("hsl"+nk),hsla:new RegExp("hsla"+rk),hsv:new RegExp("hsv"+nk),hsva:new RegExp("hsva"+rk),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function ik(e){return Boolean(ok.CSS_UNIT.exec(String(e)))}var ak=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function sk(e){var t=XS(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function uk(e){var t=e.r,n=e.g,r=e.b;return"#".concat(KS(t,n,r,!1))}function ck(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function lk(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function fk(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function dk(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function hk(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=ek(e),o=5;o>0;o-=1){var i=sk(r),a=uk(ek({h:lk(i,o,!0),s:fk(i,o,!0),v:dk(i,o,!0)}));n.push(a)}n.push(uk(r));for(var s=1;s<=4;s+=1){var u=sk(r),c=uk(ek({h:lk(u,s),s:fk(u,s),v:dk(u,s)}));n.push(c)}return"dark"===t.theme?ak.map((function(e){var r=e.index,o=e.opacity;return uk(ck(ek(t.backgroundColor||"#141414"),ek(n[r]),100*o))})):n}var pk={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},gk={},vk={};Object.keys(pk).forEach((function(e){gk[e]=hk(pk[e]),gk[e].primary=gk[e][5],vk[e]=hk(pk[e],{theme:"dark",backgroundColor:"#141414"}),vk[e].primary=vk[e][5]}));gk.red,gk.volcano,gk.gold,gk.orange,gk.yellow,gk.lime,gk.green,gk.cyan,gk.blue,gk.geekblue,gk.purple,gk.magenta,gk.grey;var mk={};function yk(e,t){0}function bk(e,t){0}function xk(e,t,n){t||mk[n]||(e(!1,n),mk[n]=!0)}function wk(e,t){xk(bk,e,t)}var Ek=function(e,t){xk(yk,e,t)},_k="rc-util-key";function Sk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):_k}function kk(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function Tk(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!L_())return null;var r,o=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(o.nonce=null===(r=n.csp)||void 0===r?void 0:r.nonce);o.innerHTML=e;var i=kk(n),a=i.firstChild;return n.prepend&&i.prepend?i.prepend(o):n.prepend&&a?i.insertBefore(o,a):i.appendChild(o),o}var Ck=new Map;function Mk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=kk(t);return Array.from(Ck.get(n).children).find((function(n){return"STYLE"===n.tagName&&n.getAttribute(Sk(t))===e}))}function Nk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=kk(n);if(!Ck.has(r)){var o=Tk("",n),i=o.parentNode;Ck.set(r,i),i.removeChild(o)}var a=Mk(t,n);if(a){var s,u,c;if((null===(s=n.csp)||void 0===s?void 0:s.nonce)&&a.nonce!==(null===(u=n.csp)||void 0===u?void 0:u.nonce))a.nonce=null===(c=n.csp)||void 0===c?void 0:c.nonce;return a.innerHTML!==e&&(a.innerHTML=e),a}var l=Tk(e,n);return l.setAttribute(Sk(n),t),l}function Ak(e){return"object"===(0,N_.Z)(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===(0,N_.Z)(e.icon)||"function"===typeof e.icon)}function Pk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function Ok(e,t,n){return n?m.createElement(e.tag,Ee(Ee({key:t},Pk(e.attrs)),n),(e.children||[]).map((function(n,r){return Ok(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):m.createElement(e.tag,Ee({key:t},Pk(e.attrs)),(e.children||[]).map((function(n,r){return Ok(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function Ik(e){return hk(e)[0]}function Dk(e){return e?Array.isArray(e)?e:[e]:[]}var Rk="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",Lk=["icon","className","onClick","style","primaryColor","secondaryColor"],jk={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var Fk=function(e){var t=e.icon,n=e.className,r=e.onClick,o=e.style,i=e.primaryColor,a=e.secondaryColor,s=S_(e,Lk),u=jk;if(i&&(u={primaryColor:i,secondaryColor:a||Ik(i)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rk,t=(0,m.useContext)(zS).csp;(0,m.useEffect)((function(){Nk(e,"@ant-design-icons",{prepend:!0,csp:t})}),[])}(),function(e,t){Ek(e,"[@ant-design/icons] ".concat(t))}(Ak(t),"icon should be icon definiton, but got ".concat(t)),!Ak(t))return null;var c=t;return c&&"function"===typeof c.icon&&(c=Ee(Ee({},c),{},{icon:c.icon(u.primaryColor,u.secondaryColor)})),Ok(c.icon,"svg-".concat(c.name),Ee({className:n,onClick:r,style:o,"data-icon":c.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},s))};Fk.displayName="IconReact",Fk.getTwoToneColors=function(){return Ee({},jk)},Fk.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;jk.primaryColor=t,jk.secondaryColor=n||Ik(t),jk.calculated=!!n};var Bk=Fk;function zk(e){var t=Dk(e),n=(0,gt.Z)(t,2),r=n[0],o=n[1];return Bk.setTwoToneColors({primaryColor:r,secondaryColor:o})}var Gk=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];zk("#1890ff");var Vk=m.forwardRef((function(e,t){var n,r=e.className,o=e.icon,i=e.spin,a=e.rotate,s=e.tabIndex,u=e.onClick,c=e.twoToneColor,l=S_(e,Gk),f=m.useContext(zS).prefixCls,d=void 0===f?"anticon":f,h=__()(d,(n={},(0,xe.Z)(n,"".concat(d,"-").concat(o.name),!!o.name),(0,xe.Z)(n,"".concat(d,"-spin"),!!i||"loading"===o.name),n),r),p=s;void 0===p&&u&&(p=-1);var g=a?{msTransform:"rotate(".concat(a,"deg)"),transform:"rotate(".concat(a,"deg)")}:void 0,v=Dk(c),y=(0,gt.Z)(v,2),b=y[0],x=y[1];return m.createElement("span",Ee(Ee({role:"img","aria-label":o.name},l),{},{ref:t,tabIndex:p,onClick:u,className:h}),m.createElement(Bk,{icon:o,primaryColor:b,secondaryColor:x,style:g}))}));Vk.displayName="AntdIcon",Vk.getTwoToneColor=function(){var e=Bk.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},Vk.setTwoToneColor=zk;var Uk=Vk,Wk=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:BS}))};Wk.displayName="LoadingOutlined";var Zk=m.forwardRef(Wk),Yk={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},Hk=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:Yk}))};Hk.displayName="ExclamationCircleFilled";var Xk=m.forwardRef(Hk),Kk={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},qk=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:Kk}))};qk.displayName="CloseCircleFilled";var $k=m.forwardRef(qk),Jk={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},Qk=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:Jk}))};Qk.displayName="CheckCircleFilled";var eT=m.forwardRef(Qk),tT={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},nT=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:tT}))};nT.displayName="InfoCircleFilled";var rT=m.forwardRef(nT),oT={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},iT={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},aT={lang:vt({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:vt({},iT)},sT="${label} is not a valid ${type}",uT={locale:"en",Pagination:oT,DatePicker:aT,TimePicker:iT,Calendar:aT,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:sT,method:sT,array:sT,object:sT,number:sT,date:sT,boolean:sT,integer:sT,float:sT,regexp:sT,email:sT,url:sT,hex:sT},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},cT=uT,lT=(0,m.createContext)(void 0),fT=function(e){(0,C_.Z)(n,e);var t=(0,M_.Z)(n);function n(){return(0,k_.Z)(this,n),t.apply(this,arguments)}return(0,T_.Z)(n,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,n=e.defaultLocale||cT[null!==t&&void 0!==t?t:"global"],r=this.context,o=t&&r?r[t]:{};return vt(vt({},n instanceof Function?n():n),o||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?cT.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(m.Component);fT.defaultProps={componentName:"global"},fT.contextType=lT;var dT=function(){var e=(0,m.useContext(xT).getPrefixCls)("empty-img-default");return m.createElement("svg",{className:e,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},m.createElement("g",{fill:"none",fillRule:"evenodd"},m.createElement("g",{transform:"translate(24 31.67)"},m.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),m.createElement("path",{className:"".concat(e,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),m.createElement("path",{className:"".concat(e,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),m.createElement("path",{className:"".concat(e,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),m.createElement("path",{className:"".concat(e,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),m.createElement("path",{className:"".concat(e,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),m.createElement("g",{className:"".concat(e,"-g"),transform:"translate(149.65 15.383)"},m.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),m.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},hT=function(){var e=(0,m.useContext(xT).getPrefixCls)("empty-img-simple");return m.createElement("svg",{className:e,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},m.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},m.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),m.createElement("g",{className:"".concat(e,"-g"),fillRule:"nonzero"},m.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),m.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(e,"-path")}))))},pT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},gT=m.createElement(dT,null),vT=m.createElement(hT,null),mT=function(e){var t=e.className,n=e.prefixCls,r=e.image,o=void 0===r?gT:r,i=e.description,a=e.children,s=e.imageStyle,u=pT(e,["className","prefixCls","image","description","children","imageStyle"]),c=m.useContext(xT),l=c.getPrefixCls,f=c.direction;return m.createElement(fT,{componentName:"Empty"},(function(e){var r,c=l("empty",n),d="undefined"!==typeof i?i:e.description,h="string"===typeof d?d:"empty",p=null;return p="string"===typeof o?m.createElement("img",{alt:h,src:o}):o,m.createElement("div",vt({className:__()(c,(r={},(0,xe.Z)(r,"".concat(c,"-normal"),o===vT),(0,xe.Z)(r,"".concat(c,"-rtl"),"rtl"===f),r),t)},u),m.createElement("div",{className:"".concat(c,"-image"),style:s},p),d&&m.createElement("div",{className:"".concat(c,"-description")},d),a&&m.createElement("div",{className:"".concat(c,"-footer")},a))}))};mT.PRESENTED_IMAGE_DEFAULT=gT,mT.PRESENTED_IMAGE_SIMPLE=vT;var yT=mT,bT=function(e){return m.createElement(wT,null,(function(t){var n=(0,t.getPrefixCls)("empty");switch(e){case"Table":case"List":return m.createElement(yT,{image:yT.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return m.createElement(yT,{image:yT.PRESENTED_IMAGE_SIMPLE,className:"".concat(n,"-small")});default:return m.createElement(yT,null)}}))},xT=m.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")},renderEmpty:bT}),wT=xT.Consumer;var ET=n(7326);function _T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return m.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(_T(e)):(0,P_.isFragment)(e)&&e.props?n=n.concat(_T(e.props.children,t)):n.push(e))})),n}var ST="RC_FORM_INTERNAL_HOOKS",kT=function(){Ek(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},TT=m.createContext({getFieldValue:kT,getFieldsValue:kT,getFieldError:kT,getFieldWarning:kT,getFieldsError:kT,isFieldsTouched:kT,isFieldTouched:kT,isFieldValidating:kT,isFieldsValidating:kT,resetFields:kT,setFields:kT,setFieldsValue:kT,validateFields:kT,submit:kT,getInternalHooks:function(){return kT(),{dispatch:kT,initEntityValue:kT,registerField:kT,useSubscribe:kT,setInitialValues:kT,setCallbacks:kT,getFields:kT,setValidateMessages:kT,setPreserve:kT,getInitialValue:kT}}});function CT(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}var MT=n(7757),NT=n.n(MT),AT=n(5861);function PT(){return PT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PT.apply(this,arguments)}function OT(e){return OT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},OT(e)}function IT(e,t){return IT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},IT(e,t)}function DT(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function RT(e,t,n){return RT=DT()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&IT(o,n.prototype),o},RT.apply(null,arguments)}function LT(e){var t="function"===typeof Map?new Map:void 0;return LT=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return RT(e,arguments,OT(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),IT(n,e)},LT(e)}var jT=/%[sdj%]/g;function FT(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function BT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var a=e.replace(jT,(function(e){if("%%"===e)return"%";if(o>=i)return e;switch(e){case"%s":return String(n[o++]);case"%d":return Number(n[o++]);case"%j":try{return JSON.stringify(n[o++])}catch(j){return"[Circular]"}break;default:return e}}));return a}return e}function zT(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function GT(e,t,n){var r=0,o=e.length;!function i(a){if(a&&a.length)n(a);else{var s=r;r+=1,s<o?t(e[s],i):n([])}}([])}var VT=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,IT(t,n),r}(LT(Error));function UT(e,t,n,r,o){if(t.first){var i=new Promise((function(t,i){var a=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);GT(a,n,(function(e){return r(e),e.length?i(new VT(e,FT(e))):t(o)}))}));return i.catch((function(e){return e})),i}var a=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),u=s.length,c=0,l=[],f=new Promise((function(t,i){var f=function(e){if(l.push.apply(l,e),++c===u)return r(l),l.length?i(new VT(l,FT(l))):t(o)};s.length||(r(l),t(o)),s.forEach((function(t){var r=e[t];-1!==a.indexOf(t)?GT(r,n,f):function(e,t,n){var r=[],o=0,i=e.length;function a(e){r.push.apply(r,e||[]),++o===i&&n(r)}e.forEach((function(e){t(e,a)}))}(r,n,f)}))}));return f.catch((function(e){return e})),f}function WT(e,t){return function(n){var r,o;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(o=n)&&void 0!==o.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function ZT(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=PT({},e[n],r):e[n]=r}return e}var YT=function(e,t,n,r,o,i){!e.required||n.hasOwnProperty(e.field)&&!zT(t,i||e.type)||r.push(BT(o.messages.required,e.fullField))},HT={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},XT={integer:function(e){return XT.number(e)&&parseInt(e,10)===e},float:function(e){return XT.number(e)&&!XT.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!XT.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(HT.email)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(HT.url)},hex:function(e){return"string"===typeof e&&!!e.match(HT.hex)}},KT={required:YT,whitespace:function(e,t,n,r,o){(/^\s+$/.test(t)||""===t)&&r.push(BT(o.messages.whitespace,e.fullField))},type:function(e,t,n,r,o){if(e.required&&void 0===t)YT(e,t,n,r,o);else{var i=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(i)>-1?XT[i](t)||r.push(BT(o.messages.types[i],e.fullField,e.type)):i&&typeof t!==e.type&&r.push(BT(o.messages.types[i],e.fullField,e.type))}},range:function(e,t,n,r,o){var i="number"===typeof e.len,a="number"===typeof e.min,s="number"===typeof e.max,u=t,c=null,l="number"===typeof t,f="string"===typeof t,d=Array.isArray(t);if(l?c="number":f?c="string":d&&(c="array"),!c)return!1;d&&(u=t.length),f&&(u=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),i?u!==e.len&&r.push(BT(o.messages[c].len,e.fullField,e.len)):a&&!s&&u<e.min?r.push(BT(o.messages[c].min,e.fullField,e.min)):s&&!a&&u>e.max?r.push(BT(o.messages[c].max,e.fullField,e.max)):a&&s&&(u<e.min||u>e.max)&&r.push(BT(o.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,o){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(BT(o.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,o){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(BT(o.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(BT(o.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},qT=function(e,t,n,r,o){var i=e.type,a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zT(t,i)&&!e.required)return n();KT.required(e,t,r,a,o,i),zT(t,i)||KT.type(e,t,r,a,o)}n(a)},$T={string:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zT(t,"string")&&!e.required)return n();KT.required(e,t,r,i,o,"string"),zT(t,"string")||(KT.type(e,t,r,i,o),KT.range(e,t,r,i,o),KT.pattern(e,t,r,i,o),!0===e.whitespace&&KT.whitespace(e,t,r,i,o))}n(i)},method:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zT(t)&&!e.required)return n();KT.required(e,t,r,i,o),void 0!==t&&KT.type(e,t,r,i,o)}n(i)},number:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),zT(t)&&!e.required)return n();KT.required(e,t,r,i,o),void 0!==t&&(KT.type(e,t,r,i,o),KT.range(e,t,r,i,o))}n(i)},boolean:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zT(t)&&!e.required)return n();KT.required(e,t,r,i,o),void 0!==t&&KT.type(e,t,r,i,o)}n(i)},regexp:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zT(t)&&!e.required)return n();KT.required(e,t,r,i,o),zT(t)||KT.type(e,t,r,i,o)}n(i)},integer:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zT(t)&&!e.required)return n();KT.required(e,t,r,i,o),void 0!==t&&(KT.type(e,t,r,i,o),KT.range(e,t,r,i,o))}n(i)},float:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zT(t)&&!e.required)return n();KT.required(e,t,r,i,o),void 0!==t&&(KT.type(e,t,r,i,o),KT.range(e,t,r,i,o))}n(i)},array:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();KT.required(e,t,r,i,o,"array"),void 0!==t&&null!==t&&(KT.type(e,t,r,i,o),KT.range(e,t,r,i,o))}n(i)},object:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zT(t)&&!e.required)return n();KT.required(e,t,r,i,o),void 0!==t&&KT.type(e,t,r,i,o)}n(i)},enum:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zT(t)&&!e.required)return n();KT.required(e,t,r,i,o),void 0!==t&&KT.enum(e,t,r,i,o)}n(i)},pattern:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zT(t,"string")&&!e.required)return n();KT.required(e,t,r,i,o),zT(t,"string")||KT.pattern(e,t,r,i,o)}n(i)},date:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zT(t,"date")&&!e.required)return n();var a;if(KT.required(e,t,r,i,o),!zT(t,"date"))a=t instanceof Date?t:new Date(t),KT.type(e,a,r,i,o),a&&KT.range(e,a.getTime(),r,i,o)}n(i)},url:qT,hex:qT,email:qT,required:function(e,t,n,r,o){var i=[],a=Array.isArray(t)?"array":typeof t;KT.required(e,t,r,i,o,a),n(i)},any:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(zT(t)&&!e.required)return n();KT.required(e,t,r,i,o)}n(i)}};function JT(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var QT=JT(),eC=function(){function e(e){this.rules=null,this._messages=QT,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=ZT(JT(),e)),this._messages},t.validate=function(t,n,r){var o=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var i=t,a=n,s=r;if("function"===typeof a&&(s=a,a={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,i),Promise.resolve(i);if(a.messages){var u=this.messages();u===QT&&(u=JT()),ZT(u,a.messages),a.messages=u}else a.messages=this.messages();var c={};(a.keys||Object.keys(this.rules)).forEach((function(e){var n=o.rules[e],r=i[e];n.forEach((function(n){var a=n;"function"===typeof a.transform&&(i===t&&(i=PT({},i)),r=i[e]=a.transform(r)),(a="function"===typeof a?{validator:a}:PT({},a)).validator=o.getValidationMethod(a),a.validator&&(a.field=e,a.fullField=a.fullField||e,a.type=o.getType(a),c[e]=c[e]||[],c[e].push({rule:a,value:r,source:i,field:e}))}))}));var l={};return UT(c,a,(function(t,n){var r,o=t.rule,s=("object"===o.type||"array"===o.type)&&("object"===typeof o.fields||"object"===typeof o.defaultField);function u(e,t){return PT({},t,{fullField:o.fullField+"."+e,fullFields:o.fullFields?[].concat(o.fullFields,[e]):[e]})}function c(r){void 0===r&&(r=[]);var c=Array.isArray(r)?r:[r];!a.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==o.message&&(c=[].concat(o.message));var f=c.map(WT(o,i));if(a.first&&f.length)return l[o.field]=1,n(f);if(s){if(o.required&&!t.value)return void 0!==o.message?f=[].concat(o.message).map(WT(o,i)):a.error&&(f=[a.error(o,BT(a.messages.required,o.field))]),n(f);var d={};o.defaultField&&Object.keys(t.value).map((function(e){d[e]=o.defaultField})),d=PT({},d,t.rule.fields);var h={};Object.keys(d).forEach((function(e){var t=d[e],n=Array.isArray(t)?t:[t];h[e]=n.map(u.bind(null,e))}));var p=new e(h);p.messages(a.messages),t.rule.options&&(t.rule.options.messages=a.messages,t.rule.options.error=a.error),p.validate(t.value,t.rule.options||a,(function(e){var t=[];f&&f.length&&t.push.apply(t,f),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(f)}s=s&&(o.required||!o.required&&t.value),o.field=t.field,o.asyncValidator?r=o.asyncValidator(o,t.value,c,t.source,a):o.validator&&(!0===(r=o.validator(o,t.value,c,t.source,a))?c():!1===r?c("function"===typeof o.message?o.message(o.fullField||o.field):o.message||(o.fullField||o.field)+" fails"):r instanceof Array?c(r):r instanceof Error&&c(r.message)),r&&r.then&&r.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var o=0;o<e.length;o++)r(e[o]);t.length?(n=FT(t),s(t,n)):s(null,i)}(e)}),i)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!$T.hasOwnProperty(e.type))throw new Error(BT("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?$T.required:$T[this.getType(e)]||void 0},e}();eC.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");$T[e]=t},eC.warning=function(){},eC.messages=QT,eC.validators=$T;var tC="'${name}' is not a valid ${type}",nC={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:tC,method:tC,array:tC,object:tC,number:tC,date:tC,boolean:tC,integer:tC,float:tC,regexp:tC,email:tC,url:tC,hex:tC},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function rC(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}var oC=n(3878),iC=n(9199),aC=n(181),sC=n(5267);function uC(e){return(0,oC.Z)(e)||(0,iC.Z)(e)||(0,aC.Z)(e)||(0,sC.Z)()}function cC(e,t,n,r){if(!t.length)return n;var o,i=uC(t),a=i[0],s=i.slice(1);return o=e||"number"!==typeof a?Array.isArray(e)?(0,OS.Z)(e):Ee({},e):[],r&&void 0===n&&1===s.length?delete o[a][s[0]]:o[a]=cC(o[a],s,n,r),o}function lC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!rC(e,t.slice(0,-1))?e:cC(e,t,n,r)}function fC(e){return Array.isArray(e)?function(e){return e.map((function(e){return fC(e)}))}(e):"object"===(0,N_.Z)(e)&&null!==e?function(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var n in e)t[n]=fC(e[n]);return t}return e}(e):e}var dC=fC;function hC(e){return CT(e)}function pC(e,t){return rC(e,t)}function gC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=lC(e,t,n,r);return o}function vC(e,t){var n={};return t.forEach((function(t){var r=pC(e,t);n=gC(n,t,r)})),n}function mC(e,t){return e&&e.some((function(e){return wC(e,t)}))}function yC(e){return"object"===(0,N_.Z)(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function bC(e,t){var n=Array.isArray(e)?(0,OS.Z)(e):Ee({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],o=t[e],i=yC(r)&&yC(o);n[e]=i?bC(r,o||{}):dC(o)})),n):n}function xC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return bC(e,t)}),e)}function wC(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function EC(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===(0,N_.Z)(t.target)&&e in t.target?t.target[e]:t}function _C(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var o=e[t],i=t-n;return i>0?[].concat((0,OS.Z)(e.slice(0,n)),[o],(0,OS.Z)(e.slice(n,t)),(0,OS.Z)(e.slice(t+1,r))):i<0?[].concat((0,OS.Z)(e.slice(0,t)),(0,OS.Z)(e.slice(t+1,n+1)),[o],(0,OS.Z)(e.slice(n+1,r))):e}var SC=eC;function kC(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}function TC(e,t,n,r,o){return CC.apply(this,arguments)}function CC(){return CC=(0,AT.Z)(NT().mark((function e(t,n,r,o,i){var a,s,u,c,l,f,d,h;return NT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(a=Ee({},r)).ruleIndex,s=null,a&&"array"===a.type&&a.defaultField&&(s=a.defaultField,delete a.defaultField),u=new SC((0,xe.Z)({},t,[a])),c=xC({},nC,o.validateMessages),u.messages(c),l=[],e.prev=8,e.next=11,Promise.resolve(u.validate((0,xe.Z)({},t,n),Ee({},o)));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),e.t0.errors?l=e.t0.errors.map((function(e,t){var n=e.message;return m.isValidElement(n)?m.cloneElement(n,{key:"error_".concat(t)}):n})):(console.error(e.t0),l=[c.default]);case 16:if(l.length||!s){e.next=21;break}return e.next=19,Promise.all(n.map((function(e,n){return TC("".concat(t,".").concat(n),e,s,o,i)})));case 19:return f=e.sent,e.abrupt("return",f.reduce((function(e,t){return[].concat((0,OS.Z)(e),(0,OS.Z)(t))}),[]));case 21:return d=Ee(Ee({},r),{},{name:t,enum:(r.enum||[]).join(", ")},i),h=l.map((function(e){return"string"===typeof e?kC(e,d):e})),e.abrupt("return",h);case 24:case"end":return e.stop()}}),e,null,[[8,13]])}))),CC.apply(this,arguments)}function MC(e,t,n,r,o,i){var a,s=e.join("."),u=n.map((function(e,t){var n=e.validator,r=Ee(Ee({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var o=!1,i=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){Ek(!o,"Your validator function has already return a promise. `callback` will be ignored."),o||r.apply(void 0,t)}))}));o=i&&"function"===typeof i.then&&"function"===typeof i.catch,Ek(o,"`callback` is deprecated. Please return a promise instead."),o&&i.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,o=t.warningOnly,i=t.ruleIndex;return!!n===!!o?r-i:n?1:-1}));if(!0===o)a=new Promise(function(){var e=(0,AT.Z)(NT().mark((function e(n,o){var a,c,l;return NT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<u.length)){e.next=12;break}return c=u[a],e.next=5,TC(s,t,c,r,i);case 5:if(!(l=e.sent).length){e.next=9;break}return o([{errors:l,rule:c}]),e.abrupt("return");case 9:a+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=u.map((function(e){return TC(s,t,e,r,i).then((function(t){return{errors:t,rule:e}}))}));a=(o?function(e){return AC.apply(this,arguments)}(c):function(e){return NC.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return a.catch((function(e){return e})),a}function NC(){return(NC=(0,AT.Z)(NT().mark((function e(t){return NT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,(0,OS.Z)(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AC(){return(AC=(0,AT.Z)(NT().mark((function e(t){var n;return NT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var PC=["name"],OC=[];function IC(e,t,n,r,o,i){return"function"===typeof e?e(t,n,"source"in i?{source:i.source}:{}):r!==o}var DC=function(e){(0,C_.Z)(n,e);var t=(0,M_.Z)(n);function n(e){var r;((0,k_.Z)(this,n),(r=t.call(this,e)).state={resetCount:0},r.cancelRegisterFunc=null,r.mounted=!1,r.touched=!1,r.dirty=!1,r.validatePromise=null,r.prevValidating=void 0,r.errors=OC,r.warnings=OC,r.cancelRegister=function(){var e=r.props,t=e.preserve,n=e.isListField,o=e.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(n,t,hC(o)),r.cancelRegisterFunc=null},r.getNamePath=function(){var e=r.props,t=e.name,n=e.fieldContext.prefixName,o=void 0===n?[]:n;return void 0!==t?[].concat((0,OS.Z)(o),(0,OS.Z)(t)):[]},r.getRules=function(){var e=r.props,t=e.rules,n=void 0===t?[]:t,o=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(o):e}))},r.refresh=function(){r.mounted&&r.setState((function(e){return{resetCount:e.resetCount+1}}))},r.triggerMetaEvent=function(e){var t=r.props.onMetaChange;null===t||void 0===t||t(Ee(Ee({},r.getMeta()),{},{destroy:e}))},r.onStoreChange=function(e,t,n){var o=r.props,i=o.shouldUpdate,a=o.dependencies,s=void 0===a?[]:a,u=o.onReset,c=n.store,l=r.getNamePath(),f=r.getValue(e),d=r.getValue(c),h=t&&mC(t,l);switch("valueUpdate"===n.type&&"external"===n.source&&f!==d&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=OC,r.warnings=OC,r.triggerMetaEvent()),n.type){case"reset":if(!t||h)return r.touched=!1,r.dirty=!1,r.validatePromise=null,r.errors=OC,r.warnings=OC,r.triggerMetaEvent(),null===u||void 0===u||u(),void r.refresh();break;case"remove":if(i)return void r.reRender();break;case"setField":if(h){var p=n.data;return"touched"in p&&(r.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(r.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(r.errors=p.errors||OC),"warnings"in p&&(r.warnings=p.warnings||OC),r.dirty=!0,r.triggerMetaEvent(),void r.reRender()}if(i&&!l.length&&IC(i,e,c,f,d,n))return void r.reRender();break;case"dependenciesUpdate":if(s.map(hC).some((function(e){return mC(n.relatedFields,e)})))return void r.reRender();break;default:if(h||(!s.length||l.length||i)&&IC(i,e,c,f,d,n))return void r.reRender()}!0===i&&r.reRender()},r.validateRules=function(e){var t=r.getNamePath(),n=r.getValue(),o=Promise.resolve().then((function(){if(!r.mounted)return[];var i=r.props,a=i.validateFirst,s=void 0!==a&&a,u=i.messageVariables,c=(e||{}).triggerName,l=r.getRules();c&&(l=l.filter((function(e){var t=e.validateTrigger;return!t||CT(t).includes(c)})));var f=MC(t,n,l,e,s,u);return f.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:OC;if(r.validatePromise===o){r.validatePromise=null;var t=[],n=[];e.forEach((function(e){var r=e.rule.warningOnly,o=e.errors,i=void 0===o?OC:o;r?n.push.apply(n,(0,OS.Z)(i)):t.push.apply(t,(0,OS.Z)(i))})),r.errors=t,r.warnings=n,r.triggerMetaEvent(),r.reRender()}})),f}));return r.validatePromise=o,r.dirty=!0,r.errors=OC,r.warnings=OC,r.triggerMetaEvent(),r.reRender(),o},r.isFieldValidating=function(){return!!r.validatePromise},r.isFieldTouched=function(){return r.touched},r.isFieldDirty=function(){return!(!r.dirty&&void 0===r.props.initialValue)||void 0!==(0,r.props.fieldContext.getInternalHooks(ST).getInitialValue)(r.getNamePath())},r.getErrors=function(){return r.errors},r.getWarnings=function(){return r.warnings},r.isListField=function(){return r.props.isListField},r.isList=function(){return r.props.isList},r.isPreserve=function(){return r.props.preserve},r.getMeta=function(){return r.prevValidating=r.isFieldValidating(),{touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath()}},r.getOnlyChild=function(e){if("function"===typeof e){var t=r.getMeta();return Ee(Ee({},r.getOnlyChild(e(r.getControlled(),t,r.props.fieldContext))),{},{isFunction:!0})}var n=_T(e);return 1===n.length&&m.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}},r.getValue=function(e){var t=r.props.fieldContext.getFieldsValue,n=r.getNamePath();return pC(e||t(!0),n)},r.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,n=t.trigger,o=t.validateTrigger,i=t.getValueFromEvent,a=t.normalize,s=t.valuePropName,u=t.getValueProps,c=t.fieldContext,l=void 0!==o?o:c.validateTrigger,f=r.getNamePath(),d=c.getInternalHooks,h=c.getFieldsValue,p=d(ST),g=p.dispatch,v=r.getValue(),m=u||function(e){return(0,xe.Z)({},s,e)},y=e[n],b=Ee(Ee({},e),m(v));b[n]=function(){var e;r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];e=i?i.apply(void 0,n):EC.apply(void 0,[s].concat(n)),a&&(e=a(e,v,h(!0))),g({type:"updateValue",namePath:f,value:e}),y&&y.apply(void 0,n)};var x=CT(l||[]);return x.forEach((function(e){var t=b[e];b[e]=function(){t&&t.apply(void 0,arguments);var n=r.props.rules;n&&n.length&&g({type:"validateField",namePath:f,triggerName:e})}})),b},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(ST).initEntityValue)((0,ET.Z)(r));return r}return(0,T_.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(ST).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,r=this.getOnlyChild(n),o=r.child;return r.isFunction?e=o:m.isValidElement(o)?e=m.cloneElement(o,this.getControlled(o.props)):(Ek(!o,"`children` of Field is not validate ReactElement."),e=o),m.createElement(m.Fragment,{key:t},e)}}]),n}(m.Component);DC.contextType=TT,DC.defaultProps={trigger:"onChange",valuePropName:"value"};var RC=function(e){var t=e.name,n=S_(e,PC),r=m.useContext(TT),o=void 0!==t?hC(t):void 0,i="keep";return n.isListField||(i="_".concat((o||[]).join("_"))),m.createElement(DC,vt({key:i,name:o},n,{fieldContext:r}))},LC=m.createContext(null),jC=function(e){var t=e.name,n=e.initialValue,r=e.children,o=e.rules,i=e.validateTrigger,a=m.useContext(TT),s=m.useRef({keys:[],id:0}).current,u=m.useMemo((function(){var e=hC(a.prefixName)||[];return[].concat((0,OS.Z)(e),(0,OS.Z)(hC(t)))}),[a.prefixName,t]),c=m.useMemo((function(){return Ee(Ee({},a),{},{prefixName:u})}),[a,u]),l=m.useMemo((function(){return{getKey:function(e){var t=u.length,n=e[t];return[s.keys[n],e.slice(t+1)]}}}),[u]);if("function"!==typeof r)return Ek(!1,"Form.List only accepts function as children."),null;return m.createElement(LC.Provider,{value:l},m.createElement(TT.Provider,{value:c},m.createElement(RC,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:o,validateTrigger:i,initialValue:n,isList:!0},(function(e,t){var n=e.value,o=void 0===n?[]:n,i=e.onChange,c=a.getFieldValue,l=function(){return c(u||[])||[]},f={add:function(e,t){var n=l();t>=0&&t<=n.length?(s.keys=[].concat((0,OS.Z)(s.keys.slice(0,t)),[s.id],(0,OS.Z)(s.keys.slice(t))),i([].concat((0,OS.Z)(n.slice(0,t)),[e],(0,OS.Z)(n.slice(t))))):(s.keys=[].concat((0,OS.Z)(s.keys),[s.id]),i([].concat((0,OS.Z)(n),[e]))),s.id+=1},remove:function(e){var t=l(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(s.keys=s.keys.filter((function(e,t){return!n.has(t)})),i(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=l();e<0||e>=n.length||t<0||t>=n.length||(s.keys=_C(s.keys,e,t),i(_C(n,e,t)))}}},d=o||[];return Array.isArray(d)||(d=[]),r(d.map((function(e,t){var n=s.keys[t];return void 0===n&&(s.keys[t]=s.id,n=s.keys[t],s.id+=1),{name:t,key:n,isListField:!0}})),f,t)}))))};var FC="__@field_split__";function BC(e){return e.map((function(e){return"".concat((0,N_.Z)(e),":").concat(e)})).join(FC)}var zC=function(){function e(){(0,k_.Z)(this,e),this.kvs=new Map}return(0,T_.Z)(e,[{key:"set",value:function(e,t){this.kvs.set(BC(e),t)}},{key:"get",value:function(e){return this.kvs.get(BC(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(BC(e))}},{key:"map",value:function(e){return(0,OS.Z)(this.kvs.entries()).map((function(t){var n=(0,gt.Z)(t,2),r=n[0],o=n[1],i=r.split(FC);return e({key:i.map((function(e){var t=e.match(/^([^:]*):(.*)$/),n=(0,gt.Z)(t,3),r=n[1],o=n[2];return"number"===r?Number(o):o})),value:o})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),GC=zC,VC=["name","errors"],UC=(0,T_.Z)((function e(t){var n=this;(0,k_.Z)(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===ST?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue}):(Ek(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.setInitialValues=function(e,t){n.initialValues=e||{},t&&(n.store=xC({},n.store,e))},this.getInitialValue=function(e){return dC(pC(n.initialValues,e))},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.timeoutId=null,this.warningUnhooked=function(){0},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new GC;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=hC(e);return t.get(n)||{INVALIDATE_NAME_PATH:hC(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),o=[];return r.forEach((function(n){var r,i="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var a="getMeta"in n?n.getMeta():null;t(a)&&o.push(i)}else o.push(i)})),vC(n.store,o.map(hC))},this.getFieldValue=function(e){n.warningUnhooked();var t=hC(e);return pC(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:hC(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=hC(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=hC(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o,i=t[0],a=t[1],s=!1;0===t.length?o=null:1===t.length?Array.isArray(i)?(o=i.map(hC),s=!1):(o=null,s=i):(o=i.map(hC),s=a);var u=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!o)return s?u.every(c):u.some(c);var l=new GC;o.forEach((function(e){l.set(e,[])})),u.forEach((function(e){var t=e.getNamePath();o.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&l.update(n,(function(t){return[].concat((0,OS.Z)(t),[e])}))}))}));var f=function(e){return e.some(c)},d=l.map((function(e){return e.value}));return s?d.every(f):d.some(f)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(hC);return t.some((function(e){var t=e.getNamePath();return mC(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new GC,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var o=t.get(r)||new Set;o.add({entity:e,value:n}),t.set(r,o)}}));var o,i=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var o=r.getNamePath();if(void 0!==n.getInitialValue(o))Ek(!1,"Form already set 'initialValues' with path '".concat(o.join("."),"'. Field can not overwrite it."));else{var i=t.get(o);if(i&&i.size>1)Ek(!1,"Multiple Field with path '".concat(o.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(i){var a=n.getFieldValue(o);e.skipExist&&void 0!==a||(n.store=gC(n.store,o,(0,OS.Z)(i)[0].value))}}}}))};e.entities?o=e.entities:e.namePathList?(o=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=o).push.apply(n,(0,OS.Z)((0,OS.Z)(r).map((function(e){return e.entity}))))}))):o=r,i(o)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.store=xC({},n.initialValues),n.resetWithFieldInitialValue(),void n.notifyObservers(t,null,{type:"reset"});var r=e.map(hC);r.forEach((function(e){var t=n.getInitialValue(e);n.store=gC(n.store,e,t)})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"})},this.setFields=function(e){n.warningUnhooked();var t=n.store;e.forEach((function(e){var r=e.name,o=(e.errors,S_(e,VC)),i=hC(r);"value"in o&&(n.store=gC(n.store,i,o.value)),n.notifyObservers(t,[i],{type:"setField",data:e})}))},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=Ee(Ee({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===pC(n.store,r)&&(n.store=gC(n.store,r,t))}},this.registerField=function(e){if(n.fieldEntities.push(e),void 0!==e.props.initialValue){var t=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(t,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e}));var i=void 0!==r?r:n.preserve;if(!1===i&&(!t||o.length>1)){var a=e.getNamePath(),s=t?void 0:n.getInitialValue(a);if(a.length&&n.getFieldValue(a)!==s&&n.fieldEntities.every((function(e){return!wC(e.getNamePath(),a)}))){var u=n.store;n.store=gC(u,a,s,!0),n.notifyObservers(u,[a],{type:"remove"}),n.triggerDependenciesUpdate(u,a)}}}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var o=e.namePath,i=e.triggerName;n.validateFields([o],{triggerName:i})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var o=Ee(Ee({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,o)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat((0,OS.Z)(r))}),r},this.updateValue=function(e,t){var r=hC(e),o=n.store;n.store=gC(n.store,r,t),n.notifyObservers(o,[r],{type:"valueUpdate",source:"internal"});var i=n.triggerDependenciesUpdate(o,r),a=n.callbacks.onValuesChange;a&&a(vC(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat((0,OS.Z)(i)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;e&&(n.store=xC(n.store,e)),n.notifyObservers(t,null,{type:"valueUpdate",source:"external"})},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],o=new GC;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=hC(t);o.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(o.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var o=n.getNamePath();n.isFieldDirty()&&o.length&&(r.push(o),e(o))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var o=n.getFields();if(t){var i=new GC;t.forEach((function(e){var t=e.name,n=e.errors;i.set(t,n)})),o.forEach((function(e){e.errors=i.get(e.name)||e.errors}))}r(o.filter((function(t){var n=t.name;return mC(e,n)})),o)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,o=r?e.map(hC):[],i=[];n.getFieldEntities(!0).forEach((function(a){if(r||o.push(a.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&r){var s=a.getNamePath();s.every((function(t,n){return e[n]===t||void 0===e[n]}))&&o.push(s)}if(a.props.rules&&a.props.rules.length){var u=a.getNamePath();if(!r||mC(o,u)){var c=a.validateRules(Ee({validateMessages:Ee(Ee({},nC),n.validateMessages)},t));i.push(c.then((function(){return{name:u,errors:[],warnings:[]}})).catch((function(e){var t=[],n=[];return e.forEach((function(e){var r=e.rule.warningOnly,o=e.errors;r?n.push.apply(n,(0,OS.Z)(o)):t.push.apply(t,(0,OS.Z)(o))})),t.length?Promise.reject({name:u,errors:t,warnings:n}):{name:u,errors:t,warnings:n}})))}}}));var a=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(o,i){e.forEach((function(e,a){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[a]=e,n>0||(t&&i(r),o(r))}))}))})):Promise.resolve([])}(i);n.lastValidatePromise=a,a.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var s=a.then((function(){return n.lastValidatePromise===a?Promise.resolve(n.getFieldsValue(o)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(o),errorFields:t,outOfDate:n.lastValidatePromise!==a})}));return s.catch((function(e){return e})),s},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));var WC=function(e){var t=m.useRef(),n=m.useState({}),r=(0,gt.Z)(n,2)[1];if(!t.current)if(e)t.current=e;else{var o=new UC((function(){r({})}));t.current=o.getForm()}return[t.current]},ZC=m.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),YC=function(e){var t=e.validateMessages,n=e.onFormChange,r=e.onFormFinish,o=e.children,i=m.useContext(ZC),a=m.useRef({});return m.createElement(ZC.Provider,{value:Ee(Ee({},i),{},{validateMessages:Ee(Ee({},i.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:a.current}),i.triggerFormChange(e,t)},triggerFormFinish:function(e,t){r&&r(e,{values:t,forms:a.current}),i.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(a.current=Ee(Ee({},a.current),{},(0,xe.Z)({},e,t))),i.registerForm(e,t)},unregisterForm:function(e){var t=Ee({},a.current);delete t[e],a.current=t,i.unregisterForm(e)}})},o)},HC=ZC,XC=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],KC=function(e,t){var n=e.name,r=e.initialValues,o=e.fields,i=e.form,a=e.preserve,s=e.children,u=e.component,c=void 0===u?"form":u,l=e.validateMessages,f=e.validateTrigger,d=void 0===f?"onChange":f,h=e.onValuesChange,p=e.onFieldsChange,g=e.onFinish,v=e.onFinishFailed,y=S_(e,XC),b=m.useContext(HC),x=WC(i),w=(0,gt.Z)(x,1)[0],E=w.getInternalHooks(ST),_=E.useSubscribe,S=E.setInitialValues,k=E.setCallbacks,T=E.setValidateMessages,C=E.setPreserve;m.useImperativeHandle(t,(function(){return w})),m.useEffect((function(){return b.registerForm(n,w),function(){b.unregisterForm(n)}}),[b,w,n]),T(Ee(Ee({},b.validateMessages),l)),k({onValuesChange:h,onFieldsChange:function(e){if(b.triggerFormChange(n,e),p){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];p.apply(void 0,[e].concat(r))}},onFinish:function(e){b.triggerFormFinish(n,e),g&&g(e)},onFinishFailed:v}),C(a);var M=m.useRef(null);S(r,!M.current),M.current||(M.current=!0);var N=s,A="function"===typeof s;A&&(N=s(w.getFieldsValue(!0),w));_(!A);var P=m.useRef();m.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==(0,N_.Z)(e)||"object"!==(0,N_.Z)(t))return!1;var n=Object.keys(e),r=Object.keys(t),o=new Set([].concat((0,OS.Z)(n),(0,OS.Z)(r)));return(0,OS.Z)(o).every((function(n){var r=e[n],o=t[n];return"function"===typeof r&&"function"===typeof o||r===o}))})(P.current||[],o||[])||w.setFields(o||[]),P.current=o}),[o,w]);var O=m.useMemo((function(){return Ee(Ee({},w),{},{validateTrigger:d})}),[w,d]),I=m.createElement(TT.Provider,{value:O},N);return!1===c?I:m.createElement(c,vt({},y,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),w.submit()},onReset:function(e){var t;e.preventDefault(),w.resetFields(),null===(t=y.onReset)||void 0===t||t.call(y,e)}}),I)},qC=m.forwardRef(KC);qC.FormProvider=YC,qC.Field=RC,qC.List=jC,qC.useForm=WC;var $C=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function JC(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],o=t[n],!(r===o||$C(r)&&$C(o)))return!1;var r,o;return!0}var QC=function(e,t,n){Ek(e,"[antd: ".concat(t,"] ").concat(n))},eM=vt({},uT.Modal);function tM(e){eM=e?vt(vt({},eM),e):vt({},uT.Modal)}var nM="internalMark",rM=function(e){(0,C_.Z)(n,e);var t=(0,M_.Z)(n);function n(e){var r;return(0,k_.Z)(this,n),(r=t.call(this,e)).getMemoizedContextValue=function(e,t){void 0===t&&(t=JC);var n=null;function r(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var i=e.apply(this,r);return n={lastResult:i,lastArgs:r,lastThis:this},i}return r.clear=function(){n=null},r}((function(e){return vt(vt({},e),{exist:!0})})),tM(e.locale&&e.locale.Modal),QC(e._ANT_MARK__===nM,"LocaleProvider","`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead: http://u.ant.design/locale"),r}return(0,T_.Z)(n,[{key:"componentDidMount",value:function(){tM(this.props.locale&&this.props.locale.Modal)}},{key:"componentDidUpdate",value:function(e){var t=this.props.locale;e.locale!==t&&tM(t&&t.Modal)}},{key:"componentWillUnmount",value:function(){tM()}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.children,r=this.getMemoizedContextValue(t);return m.createElement(lT.Provider,{value:r},n)}}]),n}(m.Component);rM.defaultProps={locale:{}};var oM=m.createContext(void 0),iM=function(e){var t=e.children,n=e.size;return m.createElement(oM.Consumer,null,(function(e){return m.createElement(oM.Provider,{value:n||e},t)}))},aM=oM,sM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},uM=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:sM}))};uM.displayName="CloseOutlined";var cM=m.forwardRef(uM),lM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},fM=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:lM}))};fM.displayName="CheckCircleOutlined";var dM=m.forwardRef(fM),hM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},pM=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:hM}))};pM.displayName="CloseCircleOutlined";var gM=m.forwardRef(pM),vM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},mM=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:vM}))};mM.displayName="ExclamationCircleOutlined";var yM=m.forwardRef(mM),bM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},xM=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:bM}))};xM.displayName="InfoCircleOutlined";var wM=m.forwardRef(xM);var EM,_M,SM,kM={},TM=4.5,CM=24,MM=24,NM="",AM="topRight",PM=!1;function OM(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:CM,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:MM;switch(e){case"top":t={left:0,right:0,top:n,bottom:"auto"};break;case"topLeft":t={left:0,top:n,bottom:"auto"};break;case"topRight":t={right:0,top:n,bottom:"auto"};break;case"bottom":t={left:0,right:0,top:"auto",bottom:r};break;case"bottomLeft":t={left:0,top:"auto",bottom:r};break;default:t={right:0,top:"auto",bottom:r}}return t}function IM(e,t){var n=e.placement,r=void 0===n?AM:n,o=e.top,i=e.bottom,a=e.getContainer,s=void 0===a?EM:a,u=e.prefixCls,c=YM(),l=c.getPrefixCls,f=c.getIconPrefixCls,d=l("notification",u||NM),h=f(),p="".concat(d,"-").concat(r),g=kM[p];if(g)Promise.resolve(g).then((function(e){t({prefixCls:"".concat(d,"-notice"),iconPrefixCls:h,instance:e})}));else{var v=__()("".concat(d,"-").concat(r),(0,xe.Z)({},"".concat(d,"-rtl"),!0===PM));kM[p]=new Promise((function(e){FS.newInstance({prefixCls:d,className:v,style:OM(r,o,i),getContainer:s,maxCount:SM},(function(n){e(n),t({prefixCls:"".concat(d,"-notice"),iconPrefixCls:h,instance:n})}))}))}}var DM={success:dM,info:wM,error:gM,warning:yM};function RM(e,t,n){var r=e.duration,o=e.icon,i=e.type,a=e.description,s=e.message,u=e.btn,c=e.onClose,l=e.onClick,f=e.key,d=e.style,h=e.className,p=e.closeIcon,g=void 0===p?_M:p,v=void 0===r?TM:r,y=null;o?y=m.createElement("span",{className:"".concat(t,"-icon")},e.icon):i&&(y=m.createElement(DM[i]||null,{className:"".concat(t,"-icon ").concat(t,"-icon-").concat(i)}));var b=m.createElement("span",{className:"".concat(t,"-close-x")},g||m.createElement(cM,{className:"".concat(t,"-close-icon")})),x=!a&&y?m.createElement("span",{className:"".concat(t,"-message-single-line-auto-margin")}):null;return{content:m.createElement(QM,{iconPrefixCls:n},m.createElement("div",{className:y?"".concat(t,"-with-icon"):"",role:"alert"},y,m.createElement("div",{className:"".concat(t,"-message")},x,s),m.createElement("div",{className:"".concat(t,"-description")},a),u?m.createElement("span",{className:"".concat(t,"-btn")},u):null)),duration:v,closable:!0,closeIcon:b,onClose:c,onClick:l,key:f,style:d||{},className:__()(h,(0,xe.Z)({},"".concat(t,"-").concat(i),!!i))}}var LM={open:function(e){IM(e,(function(t){var n=t.prefixCls,r=t.iconPrefixCls;t.instance.notice(RM(e,n,r))}))},close:function(e){Object.keys(kM).forEach((function(t){return Promise.resolve(kM[t]).then((function(t){t.removeNotice(e)}))}))},config:function(e){var t=e.duration,n=e.placement,r=e.bottom,o=e.top,i=e.getContainer,a=e.closeIcon,s=e.prefixCls;void 0!==s&&(NM=s),void 0!==t&&(TM=t),void 0!==n?AM=n:e.rtl&&(AM="topLeft"),void 0!==r&&(MM=r),void 0!==o&&(CM=o),void 0!==i&&(EM=i),void 0!==a&&(_M=a),void 0!==e.rtl&&(PM=e.rtl),void 0!==e.maxCount&&(SM=e.maxCount)},destroy:function(){Object.keys(kM).forEach((function(e){Promise.resolve(kM[e]).then((function(e){e.destroy()})),delete kM[e]}))}};["success","info","warning","error"].forEach((function(e){LM[e]=function(t){return LM.open(vt(vt({},t),{type:e}))}})),LM.warn=LM.warning,LM.useNotification=function(e,t){return function(){var n,r=null,o=IS({add:function(e,t){null===r||void 0===r||r.component.add(e,t)}}),i=(0,gt.Z)(o,2),a=i[0],s=i[1];var u=m.useRef({});return u.current.open=function(o){var i=o.prefixCls,s=n("notification",i);e(vt(vt({},o),{prefixCls:s}),(function(e){var n=e.prefixCls,i=e.instance;r=i,a(t(o,n))}))},["success","info","warning","error"].forEach((function(e){u.current[e]=function(t){return u.current.open(vt(vt({},t),{type:e}))}})),[u.current,m.createElement(wT,{key:"holder"},(function(e){return n=e.getPrefixCls,s}))]}}(IM,RM);var jM=LM,FM=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var o=ek(t);this.originalInput=t,this.r=o.r,this.g=o.g,this.b=o.b,this.a=o.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:o.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=o.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=US(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var e=XS(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=XS(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this.roundA+")"},e.prototype.toHsl=function(){var e=YS(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=YS(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this.roundA+")"},e.prototype.toHex=function(e){return void 0===e&&(e=!1),KS(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,r,o){var i=[ZS(Math.round(e).toString(16)),ZS(Math.round(t).toString(16)),ZS(Math.round(n).toString(16)),ZS(qS(r))];return o&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))&&i[3].startsWith(i[3].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb("+e+", "+t+", "+n+")":"rgba("+e+", "+t+", "+n+", "+this.roundA+")"},e.prototype.toPercentageRgb=function(){var e=function(e){return Math.round(100*GS(e,255))+"%"};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*GS(e,255))};return 1===this.a?"rgb("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%)":"rgba("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%, "+this.roundA+")"},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+KS(this.r,this.g,this.b,!1),t=0,n=Object.entries(QS);t<n.length;t++){var r=n[t],o=r[0];if(e===r[1])return o}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=VS(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=VS(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=VS(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=VS(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),o=new e(t).toRgb(),i=n/100;return new e({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),o=360/n,i=[this];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(new e(r));return i},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,o=n.s,i=n.v,a=[],s=1/t;t--;)a.push(new e({h:r,s:o,v:i})),i=(i+s)%1;return a},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb();return new e({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,o=[this],i=360/t,a=1;a<t;a++)o.push(new e({h:(r+a*i)%360,s:n.s,l:n.l}));return o},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();var BM="-ant-".concat(Date.now(),"-").concat(Math.random());function zM(e,t){var n=function(e,t){var n={},r=function(e,t){var n=e.clone();return(n=(null===t||void 0===t?void 0:t(n))||n).toRgbString()},o=function(e,t){var o=new FM(e),i=hk(o.toRgbString());n["".concat(t,"-color")]=r(o),n["".concat(t,"-color-disabled")]=i[1],n["".concat(t,"-color-hover")]=i[4],n["".concat(t,"-color-active")]=i[7],n["".concat(t,"-color-outline")]=o.clone().setAlpha(.2).toRgbString(),n["".concat(t,"-color-deprecated-bg")]=i[1],n["".concat(t,"-color-deprecated-border")]=i[3]};if(t.primaryColor){o(t.primaryColor,"primary");var i=new FM(t.primaryColor),a=hk(i.toRgbString());a.forEach((function(e,t){n["primary-".concat(t+1)]=e})),n["primary-color-deprecated-l-35"]=r(i,(function(e){return e.lighten(35)})),n["primary-color-deprecated-l-20"]=r(i,(function(e){return e.lighten(20)})),n["primary-color-deprecated-t-20"]=r(i,(function(e){return e.tint(20)})),n["primary-color-deprecated-t-50"]=r(i,(function(e){return e.tint(50)})),n["primary-color-deprecated-f-12"]=r(i,(function(e){return e.setAlpha(.12*e.getAlpha())}));var s=new FM(a[0]);n["primary-color-active-deprecated-f-30"]=r(s,(function(e){return e.setAlpha(.3*e.getAlpha())})),n["primary-color-active-deprecated-d-02"]=r(s,(function(e){return e.darken(2)}))}t.successColor&&o(t.successColor,"success"),t.warningColor&&o(t.warningColor,"warning"),t.errorColor&&o(t.errorColor,"error"),t.infoColor&&o(t.infoColor,"info");var u=Object.keys(n).map((function(t){return"--".concat(e,"-").concat(t,": ").concat(n[t],";")}));return"\n  :root {\n    ".concat(u.join("\n"),"\n  }\n  ").trim()}(e,t);L_()?Nk(n,"".concat(BM,"-dynamic-theme")):QC(!1,"ConfigProvider","SSR do not support dynamic theme with css variables.")}var GM,VM,UM=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","form"];function WM(){return GM||"ant"}function ZM(){return VM||"anticon"}var YM=function(){return{getPrefixCls:function(e,t){return t||(e?"".concat(WM(),"-").concat(e):WM())},getIconPrefixCls:ZM,getRootPrefixCls:function(e,t){return e||(GM||(t&&t.includes("-")?t.replace(/^(.*)-[^-]*$/,"$1"):WM()))}}},HM=function(e){var t,n,r=e.children,o=e.csp,i=e.autoInsertSpaceInButton,a=e.form,s=e.locale,u=e.componentSize,c=e.direction,l=e.space,f=e.virtual,d=e.dropdownMatchSelectWidth,h=e.legacyLocale,p=e.parentContext,g=e.iconPrefixCls,v=m.useCallback((function(t,n){var r=e.prefixCls;if(n)return n;var o=r||p.getPrefixCls("");return t?"".concat(o,"-").concat(t):o}),[p.getPrefixCls,e.prefixCls]),y=vt(vt({},p),{csp:o,autoInsertSpaceInButton:i,locale:s||h,direction:c,space:l,virtual:f,dropdownMatchSelectWidth:d,getPrefixCls:v});UM.forEach((function(t){var n=e[t];n&&(y[t]=n)}));var b=O_((function(){return y}),y,(function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((function(n){return e[n]!==t[n]}))})),x=m.useMemo((function(){return{prefixCls:g,csp:o}}),[g,o]),w=r,E={};return s&&(E=(null===(t=s.Form)||void 0===t?void 0:t.defaultValidateMessages)||(null===(n=uT.Form)||void 0===n?void 0:n.defaultValidateMessages)||{}),a&&a.validateMessages&&(E=vt(vt({},E),a.validateMessages)),Object.keys(E).length>0&&(w=m.createElement(YC,{validateMessages:E},r)),s&&(w=m.createElement(rM,{locale:s,_ANT_MARK__:nM},w)),(g||o)&&(w=m.createElement(zS.Provider,{value:x},w)),u&&(w=m.createElement(iM,{size:u},w)),m.createElement(xT.Provider,{value:b},w)},XM=function(e){return m.useEffect((function(){e.direction&&(dN.config({rtl:"rtl"===e.direction}),jM.config({rtl:"rtl"===e.direction}))}),[e.direction]),m.createElement(fT,null,(function(t,n,r){return m.createElement(wT,null,(function(t){return m.createElement(HM,vt({parentContext:t,legacyLocale:r},e))}))}))};XM.ConfigContext=xT,XM.SizeContext=aM,XM.config=function(e){var t=e.prefixCls,n=e.iconPrefixCls,r=e.theme;void 0!==t&&(GM=t),void 0!==n&&(VM=n),r&&zM(WM(),r)};var KM,qM,$M,JM,QM=XM,eN=3,tN=1,nN="",rN="move-up",oN=!1,iN=!1;function aN(){return tN++}function sN(e,t){var n=e.prefixCls,r=e.getPopupContainer,o=YM(),i=o.getPrefixCls,a=o.getRootPrefixCls,s=o.getIconPrefixCls,u=i("message",n||nN),c=a(e.rootPrefixCls,u),l=s();if(KM)t({prefixCls:u,rootPrefixCls:c,iconPrefixCls:l,instance:KM});else{var f={prefixCls:u,transitionName:oN?rN:"".concat(c,"-").concat(rN),style:{top:qM},getContainer:$M||r,maxCount:JM};FS.newInstance(f,(function(e){KM?t({prefixCls:u,rootPrefixCls:c,iconPrefixCls:l,instance:KM}):(KM=e,t({prefixCls:u,rootPrefixCls:c,iconPrefixCls:l,instance:e}))}))}}var uN={info:rT,success:eT,error:$k,warning:Xk,loading:Zk};function cN(e,t,n){var r,o=void 0!==e.duration?e.duration:eN,i=uN[e.type],a=__()("".concat(t,"-custom-content"),(r={},(0,xe.Z)(r,"".concat(t,"-").concat(e.type),e.type),(0,xe.Z)(r,"".concat(t,"-rtl"),!0===iN),r));return{key:e.key,duration:o,style:e.style||{},className:e.className,content:m.createElement(QM,{iconPrefixCls:n},m.createElement("div",{className:a},e.icon||i&&m.createElement(i,null),m.createElement("span",null,e.content))),onClose:e.onClose,onClick:e.onClick}}var lN={open:function(e){var t=e.key||aN(),n=new Promise((function(n){var r=function(){return"function"===typeof e.onClose&&e.onClose(),n(!0)};sN(e,(function(n){var o=n.prefixCls,i=n.iconPrefixCls;n.instance.notice(cN(vt(vt({},e),{key:t,onClose:r}),o,i))}))})),r=function(){KM&&KM.removeNotice(t)};return r.then=function(e,t){return n.then(e,t)},r.promise=n,r},config:function(e){void 0!==e.top&&(qM=e.top,KM=null),void 0!==e.duration&&(eN=e.duration),void 0!==e.prefixCls&&(nN=e.prefixCls),void 0!==e.getContainer&&($M=e.getContainer,KM=null),void 0!==e.transitionName&&(rN=e.transitionName,KM=null,oN=!0),void 0!==e.maxCount&&(JM=e.maxCount,KM=null),void 0!==e.rtl&&(iN=e.rtl)},destroy:function(e){if(KM)if(e){(0,KM.removeNotice)(e)}else{var t=KM.destroy;t(),KM=null}}};function fN(e,t){e[t]=function(n,r,o){return function(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}(n)?e.open(vt(vt({},n),{type:t})):("function"===typeof r&&(o=r,r=void 0),e.open({content:n,duration:r,type:t,onClose:o}))}}["success","info","warning","error","loading"].forEach((function(e){return fN(lN,e)})),lN.warn=lN.warning,lN.useMessage=function(e,t){return function(){var n,r,o=null,i=IS({add:function(e,t){null===o||void 0===o||o.component.add(e,t)}}),a=(0,gt.Z)(i,2),s=a[0],u=a[1];var c=m.useRef({});return c.current.open=function(i){var a=i.prefixCls,u=n("message",a),c=n(),l=i.key||aN(),f=new Promise((function(n){var a=function(){return"function"===typeof i.onClose&&i.onClose(),n(!0)};e(vt(vt({},i),{prefixCls:u,rootPrefixCls:c,getPopupContainer:r}),(function(e){var n=e.prefixCls,r=e.instance;o=r,s(t(vt(vt({},i),{key:l,onClose:a}),n))}))})),d=function(){o&&o.removeNotice(l)};return d.then=function(e,t){return f.then(e,t)},d.promise=f,d},["success","info","warning","error","loading"].forEach((function(e){return fN(c.current,e)})),[c.current,m.createElement(wT,{key:"holder"},(function(e){return n=e.getPrefixCls,r=e.getPopupContainer,u}))]}}(sN,cN);var dN=lN,hN=n(184);var pN={type:"graphin-circle",Style:{keyshape:{fill:"#000",stroke:"#000",fillOpacity:.1,size:30},label:{visible:!0}}};m_.registerBehavior("sampleBehavior",{getEvents:function(){return{"node:click":"onClick"}},onClick:function(e){var t=e.item.getModel();dN.info(t.id)}});var gN=function(){var e=function(){var e=w_(),t=[],n=[],r=[],o=0;return e.forEach((function(e,n){t.push({id:e.url,label:{value:e.Authors[0]+"et al"},size:150}),t[n].style={keyshape:{size:80,stroke:"red",fill:"red",fillOpacity:.2},label:{value:e.Authors[0]+" et al"}}})),e.forEach((function(t,i){e.forEach((function(e){if(t!=e){var i=t["Type of Data"].filter((function(t){return e["Type of Data"].includes(t)})).length;if((o=i)>2){var a={source:t.url,target:e.url,style:{keyshape:{endArrow:!1,type:"poly",poly:{distance:o}}}},s={source:e.url,target:t.url,style:{keyshape:{endArrow:!1,type:"poly",poly:{distance:o}}}};r.includes(JSON.stringify(s))||(r.push(JSON.stringify(a)),n.push(a))}}}))})),{nodes:t,edges:n}}();return(0,hN.jsx)("div",{className:"TestChart",children:(0,hN.jsx)(m_,{data:e,layout:{type:"gForce"},defaultNode:pN,modes:{default:["sampleBehavior","drag-canvas","zoom-canvas"]}})})},vN=n(2426),mN=n.n(vN),yN={getNow:function(){return mN()()},getFixedDate:function(e){return mN()(e,"YYYY-MM-DD")},getEndDate:function(e){return e.clone().endOf("month")},getWeekDay:function(e){var t=e.clone().locale("en_US");return t.weekday()+t.localeData().firstDayOfWeek()},getYear:function(e){return e.year()},getMonth:function(e){return e.month()},getDate:function(e){return e.date()},getHour:function(e){return e.hour()},getMinute:function(e){return e.minute()},getSecond:function(e){return e.second()},addYear:function(e,t){return e.clone().add(t,"year")},addMonth:function(e,t){return e.clone().add(t,"month")},addDate:function(e,t){return e.clone().add(t,"day")},setYear:function(e,t){return e.clone().year(t)},setMonth:function(e,t){return e.clone().month(t)},setDate:function(e,t){return e.clone().date(t)},setHour:function(e,t){return e.clone().hour(t)},setMinute:function(e,t){return e.clone().minute(t)},setSecond:function(e,t){return e.clone().second(t)},isAfter:function(e,t){return e.isAfter(t)},isValidate:function(e){return e.isValid()},locale:{getWeekFirstDay:function(e){return mN()().locale(e).localeData().firstDayOfWeek()},getWeekFirstDate:function(e,t){return t.clone().locale(e).weekday(0)},getWeek:function(e,t){return t.clone().locale(e).week()},getShortWeekDays:function(e){return mN()().locale(e).localeData().weekdaysMin()},getShortMonths:function(e){return mN()().locale(e).localeData().monthsShort()},format:function(e,t,n){return t.clone().locale(e).format(n)},parse:function(e,t,n){for(var r=[],o=0;o<n.length;o+=1){var i=n[o],a=t;if(i.includes("wo")||i.includes("Wo")){var s=(i=i.replace(/wo/g,"w").replace(/Wo/g,"W")).match(/[-YyMmDdHhSsWwGg]+/g),u=a.match(/[-\d]+/g);s&&u?(i=s.join(""),a=u.join("")):r.push(i.replace(/o/g,""))}var c=mN()(a,i,e,!0);if(c.isValid())return c}for(var l=0;l<r.length;l+=1){var f=mN()(t,r[l],e,!1);if(f.isValid())return wk(!1,"Not match any format strictly and fallback to fuzzy match. Please help to fire a issue about this."),f}return null}}},bN=yN;function xN(e,t){var n=Ee({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var wN=(0,T_.Z)((function e(t){(0,k_.Z)(this,e),this.error=new Error("unreachable case: ".concat(JSON.stringify(t)))})),EN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},_N=function(e){return m.createElement(wT,null,(function(t){var n,r=t.getPrefixCls,o=t.direction,i=e.prefixCls,a=e.size,s=e.className,u=EN(e,["prefixCls","size","className"]),c=r("btn-group",i),l="";switch(a){case"large":l="lg";break;case"small":l="sm";break;case"middle":case void 0:break;default:console.warn(new wN(a).error)}var f=__()(c,(n={},(0,xe.Z)(n,"".concat(c,"-").concat(l),l),(0,xe.Z)(n,"".concat(c,"-rtl"),"rtl"===o),n),s);return m.createElement("div",vt({},u,{className:f}))}))},SN=0,kN={};function TN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=SN++,r=t;function o(){(r-=1)<=0?(e(),delete kN[n]):kN[n]=fS(o)}return kN[n]=fS(o),n}TN.cancel=function(e){void 0!==e&&(fS.cancel(kN[e]),delete kN[e])},TN.ids=kN;var CN,MN=m.isValidElement;function NN(e,t){return function(e,t,n){return MN(e)?m.cloneElement(e,"function"===typeof n?n(e.props||{}):n):t}(e,e,t)}function AN(e){return!e||null===e.offsetParent||e.hidden}function PN(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}var ON=function(e){(0,C_.Z)(n,e);var t=(0,M_.Z)(n);function n(){var e;return(0,k_.Z)(this,n),(e=t.apply(this,arguments)).containerRef=m.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,n){var r,o,i=e.props,a=i.insertExtraNode;if(!(i.disabled||!t||AN(t)||t.className.indexOf("-leave")>=0)){e.extraNode=document.createElement("div");var s=(0,ET.Z)(e).extraNode,u=e.context.getPrefixCls;s.className="".concat(u(""),"-click-animating-node");var c=e.getAttributeName();if(t.setAttribute(c,"true"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&PN(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n){s.style.borderColor=n;var l=(null===(r=t.getRootNode)||void 0===r?void 0:r.call(t))||t.ownerDocument,f=l instanceof Document?l.body:null!==(o=l.firstChild)&&void 0!==o?o:l;CN=Nk("\n      [".concat(u(""),"-click-animating-without-extra-node='true']::after, .").concat(u(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:e.csp,attachTo:f})}a&&t.appendChild(s),["transition","animation"].forEach((function(n){t.addEventListener("".concat(n,"start"),e.onTransitionStart),t.addEventListener("".concat(n,"end"),e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var n=e.containerRef.current;t&&t.target===n&&!e.animationStart&&e.resetEffect(n)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!AN(n.target)){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,r)}),0),TN.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=TN((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.renderWave=function(t){var n=t.csp,r=e.props.children;if(e.csp=n,!m.isValidElement(r))return r;var o=e.containerRef;return R_(r)&&(o=D_(r.ref,e.containerRef)),NN(r,{ref:o})},e}return(0,T_.Z)(n,[{key:"componentDidMount",value:function(){var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();e.setAttribute(r,"false"),CN&&(CN.innerHTML=""),n&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(n){e.removeEventListener("".concat(n,"start"),t.onTransitionStart),e.removeEventListener("".concat(n,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return m.createElement(wT,null,this.renderWave)}}]),n}(m.Component);ON.contextType=xT;var IN=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},DN=function(){return{width:0,opacity:0,transform:"scale(0)"}},RN=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},LN=function(e){var t=e.prefixCls,n=!!e.loading;return e.existIcon?m.createElement("span",{className:"".concat(t,"-loading-icon")},m.createElement(Zk,null)):m.createElement(AS,{visible:n,motionName:"".concat(t,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:DN,onAppearActive:RN,onEnterStart:DN,onEnterActive:RN,onLeaveStart:RN,onLeaveActive:DN},(function(e,n){var r=e.className,o=e.style;return m.createElement("span",{className:"".concat(t,"-loading-icon"),style:o,ref:n},m.createElement(Zk,{className:r}))}))},jN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},FN=/^[\u4e00-\u9fa5]{2}$/,BN=FN.test.bind(FN);function zN(e){return"text"===e||"link"===e}function GN(e,t){if(null!=e){var n=t?" ":"";return"string"!==typeof e&&"number"!==typeof e&&function(e){return"string"===typeof e}(e.type)&&BN(e.props.children)?NN(e,{children:e.props.children.split("").join(n)}):"string"===typeof e?BN(e)?m.createElement("span",null,e.split("").join(n)):m.createElement("span",null,e):function(e){return m.isValidElement(e)&&e.type===m.Fragment}(e)?m.createElement("span",null,e):e}}IN("default","primary","ghost","dashed","link","text"),IN("default","circle","round"),IN("submit","button","reset");var VN=function(e,t){var n,r=e.loading,o=void 0!==r&&r,i=e.prefixCls,a=e.type,s=void 0===a?"default":a,u=e.danger,c=e.shape,l=void 0===c?"default":c,f=e.size,d=e.className,h=e.children,p=e.icon,g=e.ghost,v=void 0!==g&&g,y=e.block,b=void 0!==y&&y,x=e.htmlType,w=void 0===x?"button":x,E=jN(e,["loading","prefixCls","type","danger","shape","size","className","children","icon","ghost","block","htmlType"]),_=m.useContext(aM),S=m.useState(!!o),k=(0,gt.Z)(S,2),T=k[0],C=k[1],M=m.useState(!1),N=(0,gt.Z)(M,2),A=N[0],P=N[1],O=m.useContext(xT),I=O.getPrefixCls,D=O.autoInsertSpaceInButton,R=O.direction,L=t||m.createRef(),j=function(){return 1===m.Children.count(h)&&!p&&!zN(s)},F="object"===(0,N_.Z)(o)&&o.delay?o.delay||!0:!!o;m.useEffect((function(){var e=null;return"number"===typeof F?e=window.setTimeout((function(){e=null,C(F)}),F):C(F),function(){e&&(window.clearTimeout(e),e=null)}}),[F]),m.useEffect((function(){if(L&&L.current&&!1!==D){var e=L.current.textContent;j()&&BN(e)?A||P(!0):A&&P(!1)}}),[L]);var B=function(t){var n=e.onClick,r=e.disabled;T||r?t.preventDefault():null===n||void 0===n||n(t)};QC(!("string"===typeof p&&p.length>2),"Button","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(p,"` at https://ant.design/components/icon")),QC(!(v&&zN(s)),"Button","`link` or `text` button can't be a `ghost` button.");var z=I("btn",i),G=!1!==D,V=f||_,U=V&&{large:"lg",small:"sm",middle:void 0}[V]||"",W=T?"loading":p,Z=__()(z,(n={},(0,xe.Z)(n,"".concat(z,"-").concat(l),"default"!==l&&l),(0,xe.Z)(n,"".concat(z,"-").concat(s),s),(0,xe.Z)(n,"".concat(z,"-").concat(U),U),(0,xe.Z)(n,"".concat(z,"-icon-only"),!h&&0!==h&&!!W),(0,xe.Z)(n,"".concat(z,"-background-ghost"),v&&!zN(s)),(0,xe.Z)(n,"".concat(z,"-loading"),T),(0,xe.Z)(n,"".concat(z,"-two-chinese-chars"),A&&G),(0,xe.Z)(n,"".concat(z,"-block"),b),(0,xe.Z)(n,"".concat(z,"-dangerous"),!!u),(0,xe.Z)(n,"".concat(z,"-rtl"),"rtl"===R),n),d),Y=p&&!T?p:m.createElement(LN,{existIcon:!!p,prefixCls:z,loading:!!T}),H=h||0===h?function(e,t){var n=!1,r=[];return m.Children.forEach(e,(function(e){var t=(0,N_.Z)(e),o="string"===t||"number"===t;if(n&&o){var i=r.length-1,a=r[i];r[i]="".concat(a).concat(e)}else r.push(e);n=o})),m.Children.map(r,(function(e){return GN(e,t)}))}(h,j()&&G):null,X=xN(E,["navigate"]);if(void 0!==X.href)return m.createElement("a",vt({},X,{className:Z,onClick:B,ref:L}),Y,H);var K=m.createElement("button",vt({},E,{type:w,className:Z,onClick:B,ref:L}),Y,H);return zN(s)?K:m.createElement(ON,{disabled:!!T},K)},UN=m.forwardRef(VN);UN.displayName="Button",UN.Group=_N,UN.__ANT_BUTTON=!0;var WN=UN;var ZN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},YN=function(e){var t,n=e.prefixCls,r=e.className,o=e.checked,i=e.onChange,a=e.onClick,s=ZN(e,["prefixCls","className","checked","onChange","onClick"]),u=(0,m.useContext(xT).getPrefixCls)("tag",n),c=__()(u,(t={},(0,xe.Z)(t,"".concat(u,"-checkable"),!0),(0,xe.Z)(t,"".concat(u,"-checkable-checked"),o),t),r);return m.createElement("span",vt({},s,{className:c,onClick:function(e){null===i||void 0===i||i(!o),null===a||void 0===a||a(e)}}))},HN=IN("success","processing","error","default","warning"),XN=IN("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"),KN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},qN=new RegExp("^(".concat(XN.join("|"),")(-inverse)?$")),$N=new RegExp("^(".concat(HN.join("|"),")$")),JN=function(e,t){var n,r=e.prefixCls,o=e.className,i=e.style,a=e.children,s=e.icon,u=e.color,c=e.onClose,l=e.closeIcon,f=e.closable,d=void 0!==f&&f,h=KN(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),p=m.useContext(xT),g=p.getPrefixCls,v=p.direction,y=m.useState(!0),b=(0,gt.Z)(y,2),x=b[0],w=b[1];m.useEffect((function(){"visible"in h&&w(h.visible)}),[h.visible]);var E=function(){return!!u&&(qN.test(u)||$N.test(u))},_=vt({backgroundColor:u&&!E()?u:void 0},i),S=E(),k=g("tag",r),T=__()(k,(n={},(0,xe.Z)(n,"".concat(k,"-").concat(u),S),(0,xe.Z)(n,"".concat(k,"-has-color"),u&&!S),(0,xe.Z)(n,"".concat(k,"-hidden"),!x),(0,xe.Z)(n,"".concat(k,"-rtl"),"rtl"===v),n),o),C=function(e){e.stopPropagation(),null===c||void 0===c||c(e),e.defaultPrevented||"visible"in h||w(!1)},M="onClick"in h||a&&"a"===a.type,N=xN(h,["visible"]),A=s||null,P=A?m.createElement(m.Fragment,null,A,m.createElement("span",null,a)):a,O=m.createElement("span",vt({},N,{ref:t,className:T,style:_}),P,d?l?m.createElement("span",{className:"".concat(k,"-close-icon"),onClick:C},l):m.createElement(cM,{className:"".concat(k,"-close-icon"),onClick:C}):null);return M?m.createElement(ON,null,O):O},QN=m.forwardRef(JN);QN.displayName="Tag",QN.CheckableTag=YN;var eA=QN;var tA={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},nA=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:tA}))};nA.displayName="CalendarOutlined";var rA=m.forwardRef(nA),oA={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},iA=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:oA}))};iA.displayName="ClockCircleOutlined";var aA=m.forwardRef(iA);function sA(e,t){var n=t||{},r=n.defaultValue,o=n.value,i=n.onChange,a=n.postState,s=oS((function(){return void 0!==o?o:void 0!==r?"function"===typeof r?r():r:"function"===typeof e?e():e})),u=(0,gt.Z)(s,2),c=u[0],l=u[1],f=void 0!==o?o:c;a&&(f=a(f));var d=m.useRef(i);d.current=i;var h=m.useCallback((function(e,t){l(e,t),f!==e&&d.current&&d.current(e,f)}),[f,d]),p=m.useRef(!0);return m.useEffect((function(){p.current?p.current=!1:void 0===o&&l(o)}),[o]),[f,h]}var uA={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=uA.F1&&t<=uA.F12)return!1;switch(t){case uA.ALT:case uA.CAPS_LOCK:case uA.CONTEXT_MENU:case uA.CTRL:case uA.DOWN:case uA.END:case uA.ESC:case uA.HOME:case uA.INSERT:case uA.LEFT:case uA.MAC_FF_META:case uA.META:case uA.NUMLOCK:case uA.NUM_CENTER:case uA.PAGE_DOWN:case uA.PAGE_UP:case uA.PAUSE:case uA.PRINT_SCREEN:case uA.RIGHT:case uA.SHIFT:case uA.UP:case uA.WIN_KEY:case uA.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=uA.ZERO&&e<=uA.NINE)return!0;if(e>=uA.NUM_ZERO&&e<=uA.NUM_MULTIPLY)return!0;if(e>=uA.A&&e<=uA.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case uA.SPACE:case uA.QUESTION_MARK:case uA.NUM_PLUS:case uA.NUM_MINUS:case uA.NUM_PERIOD:case uA.NUM_DIVISION:case uA.SEMICOLON:case uA.DASH:case uA.EQUALS:case uA.COMMA:case uA.PERIOD:case uA.SLASH:case uA.APOSTROPHE:case uA.SINGLE_QUOTE:case uA.OPEN_SQUARE_BRACKET:case uA.BACKSLASH:case uA.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},cA=uA,lA=m.createContext({}),fA={visibility:"hidden"};var dA=function(e){var t=e.prefixCls,n=e.prevIcon,r=void 0===n?"\u2039":n,o=e.nextIcon,i=void 0===o?"\u203a":o,a=e.superPrevIcon,s=void 0===a?"\xab":a,u=e.superNextIcon,c=void 0===u?"\xbb":u,l=e.onSuperPrev,f=e.onSuperNext,d=e.onPrev,h=e.onNext,p=e.children,g=m.useContext(lA),v=g.hideNextBtn,y=g.hidePrevBtn;return m.createElement("div",{className:t},l&&m.createElement("button",{type:"button",onClick:l,tabIndex:-1,className:"".concat(t,"-super-prev-btn"),style:y?fA:{}},s),d&&m.createElement("button",{type:"button",onClick:d,tabIndex:-1,className:"".concat(t,"-prev-btn"),style:y?fA:{}},r),m.createElement("div",{className:"".concat(t,"-view")},p),h&&m.createElement("button",{type:"button",onClick:h,tabIndex:-1,className:"".concat(t,"-next-btn"),style:v?fA:{}},i),f&&m.createElement("button",{type:"button",onClick:f,tabIndex:-1,className:"".concat(t,"-super-next-btn"),style:v?fA:{}},c))};var hA=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.viewDate,o=e.onPrevDecades,i=e.onNextDecades;if(m.useContext(lA).hideHeader)return null;var a="".concat(t,"-header"),s=n.getYear(r),u=Math.floor(s/AA)*AA,c=u+AA-1;return m.createElement(dA,vt({},e,{prefixCls:a,onSuperPrev:o,onSuperNext:i}),u,"-",c)};function pA(e,t,n,r,o){var i=e.setHour(t,n);return i=e.setMinute(i,r),i=e.setSecond(i,o)}function gA(e,t,n){if(!n)return t;var r=t;return r=e.setHour(r,e.getHour(n)),r=e.setMinute(r,e.getMinute(n)),r=e.setSecond(r,e.getSecond(n))}function vA(e,t){var n=e.getYear(t),r=e.getMonth(t)+1,o=e.getEndDate(e.getFixedDate("".concat(n,"-").concat(r,"-01"))),i=e.getDate(o),a=r<10?"0".concat(r):"".concat(r);return"".concat(n,"-").concat(a,"-").concat(i)}function mA(e){for(var t=e.prefixCls,n=e.disabledDate,r=e.onSelect,o=e.picker,i=e.rowNum,a=e.colNum,s=e.prefixColumn,u=e.rowClassName,c=e.baseDate,l=e.getCellClassName,f=e.getCellText,d=e.getCellNode,h=e.getCellDate,p=e.generateConfig,g=e.titleCell,v=e.headerCells,y=m.useContext(lA),b=y.onDateMouseEnter,x=y.onDateMouseLeave,w=y.mode,E="".concat(t,"-cell"),_=[],S=0;S<i;S+=1){for(var k=[],T=void 0,C=function(e){var t,i=h(c,S*a+e),u=WA({cellDate:i,mode:w,disabledDate:n,generateConfig:p});0===e&&(T=i,s&&k.push(s(T)));var v=g&&g(i);k.push(m.createElement("td",{key:e,title:v,className:__()(E,Ee((t={},(0,xe.Z)(t,"".concat(E,"-disabled"),u),(0,xe.Z)(t,"".concat(E,"-start"),1===f(i)||"year"===o&&Number(v)%10===0),(0,xe.Z)(t,"".concat(E,"-end"),v===vA(p,i)||"year"===o&&Number(v)%10===9),t),l(i))),onClick:function(){u||r(i)},onMouseEnter:function(){!u&&b&&b(i)},onMouseLeave:function(){!u&&x&&x(i)}},d?d(i):m.createElement("div",{className:"".concat(E,"-inner")},f(i))))},M=0;M<a;M+=1)C(M);_.push(m.createElement("tr",{key:S,className:u&&u(T)},k))}return m.createElement("div",{className:"".concat(t,"-body")},m.createElement("table",{className:"".concat(t,"-content")},v&&m.createElement("thead",null,m.createElement("tr",null,v)),m.createElement("tbody",null,_)))}var yA=function(e){var t=NA-1,n=e.prefixCls,r=e.viewDate,o=e.generateConfig,i="".concat(n,"-cell"),a=o.getYear(r),s=Math.floor(a/NA)*NA,u=Math.floor(a/AA)*AA,c=u+AA-1,l=o.setYear(r,u-Math.ceil((12*NA-AA)/2));return m.createElement(mA,vt({},e,{rowNum:4,colNum:3,baseDate:l,getCellText:function(e){var n=o.getYear(e);return"".concat(n,"-").concat(n+t)},getCellClassName:function(e){var n,r=o.getYear(e),a=r+t;return n={},(0,xe.Z)(n,"".concat(i,"-in-view"),u<=r&&a<=c),(0,xe.Z)(n,"".concat(i,"-selected"),r===s),n},getCellDate:function(e,t){return o.addYear(e,t*NA)}}))},bA=function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();if(n.width||n.height)return!0}return!1},xA=new Map;function wA(e,t,n){if(xA.get(e)&&cancelAnimationFrame(xA.get(e)),n<=0)xA.set(e,requestAnimationFrame((function(){e.scrollTop=t})));else{var r=(t-e.scrollTop)/n*10;xA.set(e,requestAnimationFrame((function(){e.scrollTop+=r,e.scrollTop!==t&&wA(e,t,n-10)})))}}function EA(e,t){var n=t.onLeftRight,r=t.onCtrlLeftRight,o=t.onUpDown,i=t.onPageUpDown,a=t.onEnter,s=e.which,u=e.ctrlKey,c=e.metaKey;switch(s){case cA.LEFT:if(u||c){if(r)return r(-1),!0}else if(n)return n(-1),!0;break;case cA.RIGHT:if(u||c){if(r)return r(1),!0}else if(n)return n(1),!0;break;case cA.UP:if(o)return o(-1),!0;break;case cA.DOWN:if(o)return o(1),!0;break;case cA.PAGE_UP:if(i)return i(-1),!0;break;case cA.PAGE_DOWN:if(i)return i(1),!0;break;case cA.ENTER:if(a)return a(),!0}return!1}function _A(e,t,n,r){var o=e;if(!o)switch(t){case"time":o=r?"hh:mm:ss a":"HH:mm:ss";break;case"week":o="gggg-wo";break;case"month":o="YYYY-MM";break;case"quarter":o="YYYY-[Q]Q";break;case"year":o="YYYY";break;default:o=n?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD"}return o}function SA(e,t,n){var r="time"===e?8:10,o="function"===typeof t?t(n.getNow()).length:t.length;return Math.max(r,o)+2}var kA=null,TA=new Set;var CA={year:function(e){return"month"===e||"date"===e?"year":e},month:function(e){return"date"===e?"month":e},quarter:function(e){return"month"===e||"date"===e?"quarter":e},week:function(e){return"date"===e?"week":e},time:null,date:null};function MA(e,t){return e.some((function(e){return e&&e.contains(t)}))}var NA=10,AA=10*NA;var PA=function(e){var t=e.prefixCls,n=e.onViewDateChange,r=e.generateConfig,o=e.viewDate,i=e.operationRef,a=e.onSelect,s=e.onPanelChange,u="".concat(t,"-decade-panel");i.current={onKeyDown:function(e){return EA(e,{onLeftRight:function(e){a(r.addYear(o,e*NA),"key")},onCtrlLeftRight:function(e){a(r.addYear(o,e*AA),"key")},onUpDown:function(e){a(r.addYear(o,e*NA*3),"key")},onEnter:function(){s("year",o)}})}};var c=function(e){var t=r.addYear(o,e*AA);n(t),s(null,t)};return m.createElement("div",{className:u},m.createElement(hA,vt({},e,{prefixCls:t,onPrevDecades:function(){c(-1)},onNextDecades:function(){c(1)}})),m.createElement(yA,vt({},e,{prefixCls:t,onSelect:function(e){a(e,"mouse"),s("year",e)}})))};function OA(e,t){return!e&&!t||!(!e||!t)&&void 0}function IA(e,t,n){var r=OA(t,n);return"boolean"===typeof r?r:e.getYear(t)===e.getYear(n)}function DA(e,t){return Math.floor(e.getMonth(t)/3)+1}function RA(e,t,n){var r=OA(t,n);return"boolean"===typeof r?r:IA(e,t,n)&&DA(e,t)===DA(e,n)}function LA(e,t,n){var r=OA(t,n);return"boolean"===typeof r?r:IA(e,t,n)&&e.getMonth(t)===e.getMonth(n)}function jA(e,t,n){var r=OA(t,n);return"boolean"===typeof r?r:e.getYear(t)===e.getYear(n)&&e.getMonth(t)===e.getMonth(n)&&e.getDate(t)===e.getDate(n)}function FA(e,t,n,r){var o=OA(n,r);return"boolean"===typeof o?o:e.locale.getWeek(t,n)===e.locale.getWeek(t,r)}function BA(e,t,n){return jA(e,t,n)&&function(e,t,n){var r=OA(t,n);return"boolean"===typeof r?r:e.getHour(t)===e.getHour(n)&&e.getMinute(t)===e.getMinute(n)&&e.getSecond(t)===e.getSecond(n)}(e,t,n)}function zA(e,t,n,r){return!!(t&&n&&r)&&(!jA(e,t,r)&&!jA(e,n,r)&&e.isAfter(r,t)&&e.isAfter(n,r))}function GA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;switch(t){case"year":return n.addYear(e,10*r);case"quarter":case"month":return n.addYear(e,r);default:return n.addMonth(e,r)}}function VA(e,t){var n=t.generateConfig,r=t.locale,o=t.format;return"function"===typeof o?o(e):n.locale.format(r.locale,e,o)}function UA(e,t){var n=t.generateConfig,r=t.locale,o=t.formatList;return e&&"function"!==typeof o[0]?n.locale.parse(r.locale,e,o):null}function WA(e){var t=e.cellDate,n=e.mode,r=e.disabledDate,o=e.generateConfig;if(!r)return!1;var i=function(e,n,i){for(var a=n;a<=i;){var s=void 0;switch(e){case"date":if(s=o.setDate(t,a),!r(s))return!1;break;case"month":if(!WA({cellDate:s=o.setMonth(t,a),mode:"month",generateConfig:o,disabledDate:r}))return!1;break;case"year":if(!WA({cellDate:s=o.setYear(t,a),mode:"year",generateConfig:o,disabledDate:r}))return!1}a+=1}return!0};switch(n){case"date":case"week":return r(t);case"month":return i("date",1,o.getDate(o.getEndDate(t)));case"quarter":var a=3*Math.floor(o.getMonth(t)/3);return i("month",a,a+2);case"year":return i("month",0,11);case"decade":var s=o.getYear(t),u=Math.floor(s/NA)*NA;return i("year",u,u+NA-1)}}var ZA=function(e){if(m.useContext(lA).hideHeader)return null;var t=e.prefixCls,n=e.generateConfig,r=e.locale,o=e.value,i=e.format,a="".concat(t,"-header");return m.createElement(dA,{prefixCls:a},o?VA(o,{locale:r,format:i,generateConfig:n}):"\xa0")};var YA=function(e){var t=e.prefixCls,n=e.units,r=e.onSelect,o=e.value,i=e.active,a=e.hideDisabledOptions,s="".concat(t,"-cell"),u=m.useContext(lA).open,c=(0,m.useRef)(null),l=(0,m.useRef)(new Map),f=(0,m.useRef)();return(0,m.useLayoutEffect)((function(){var e=l.current.get(o);e&&!1!==u&&wA(c.current,e.offsetTop,120)}),[o]),(0,m.useLayoutEffect)((function(){if(u){var e=l.current.get(o);e&&(f.current=function(e,t){var n;return function r(){bA(e)?t():n=fS((function(){r()}))}(),function(){fS.cancel(n)}}(e,(function(){wA(c.current,e.offsetTop,0)})))}return function(){var e;null===(e=f.current)||void 0===e||e.call(f)}}),[u]),m.createElement("ul",{className:__()("".concat(t,"-column"),(0,xe.Z)({},"".concat(t,"-column-active"),i)),ref:c,style:{position:"relative"}},n.map((function(e){var t;return a&&e.disabled?null:m.createElement("li",{key:e.value,ref:function(t){l.current.set(e.value,t)},className:__()(s,(t={},(0,xe.Z)(t,"".concat(s,"-disabled"),e.disabled),(0,xe.Z)(t,"".concat(s,"-selected"),o===e.value),t)),onClick:function(){e.disabled||r(e.value)}},m.createElement("div",{className:"".concat(s,"-inner")},e.label))})))};function HA(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",r=String(e);r.length<t;)r="".concat(n).concat(e);return r}function XA(e){return null===e||void 0===e?[]:Array.isArray(e)?e:[e]}function KA(e){var t={};return Object.keys(e).forEach((function(n){"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n&&"name"!==n||"data-__"===n.substr(0,7)||(t[n]=e[n])})),t}function qA(e,t){return e?e[t]:null}function $A(e,t,n){var r=[qA(e,0),qA(e,1)];return r[n]="function"===typeof t?t(r[n]):t,r[0]||r[1]?r:null}function JA(e,t){if(e.length!==t.length)return!0;for(var n=0;n<e.length;n+=1)if(e[n].disabled!==t[n].disabled)return!0;return!1}function QA(e,t,n,r){for(var o=[],i=e;i<=t;i+=n)o.push({label:HA(i,2),value:i,disabled:(r||[]).includes(i)});return o}var eP=function(e){var t,n=e.generateConfig,r=e.prefixCls,o=e.operationRef,i=e.activeColumnIndex,a=e.value,s=e.showHour,u=e.showMinute,c=e.showSecond,l=e.use12Hours,f=e.hourStep,d=void 0===f?1:f,h=e.minuteStep,p=void 0===h?1:h,g=e.secondStep,v=void 0===g?1:g,y=e.disabledHours,b=e.disabledMinutes,x=e.disabledSeconds,w=e.disabledTime,E=e.hideDisabledOptions,_=e.onSelect,S=[],k="".concat(r,"-content"),T="".concat(r,"-time-panel"),C=a?n.getHour(a):-1,M=C,N=a?n.getMinute(a):-1,A=a?n.getSecond(a):-1,P=n.getNow(),O=m.useMemo((function(){if(w){var e=w(P);return[e.disabledHours,e.disabledMinutes,e.disabledSeconds]}return[y,b,x]}),[y,b,x,w,P]),I=(0,gt.Z)(O,3),D=I[0],R=I[1],L=I[2],j=function(e,t,r,o){var i=a||n.getNow(),s=Math.max(0,t),u=Math.max(0,r),c=Math.max(0,o);return i=pA(n,i,l&&e?s+12:s,u,c)},F=QA(0,23,d,D&&D()),B=O_((function(){return F}),F,JA);l&&(t=M>=12,M%=12);var z=m.useMemo((function(){if(!l)return[!1,!1];var e=[!0,!0];return B.forEach((function(t){var n=t.disabled,r=t.value;n||(r>=12?e[1]=!1:e[0]=!1)})),e}),[l,B]),G=(0,gt.Z)(z,2),V=G[0],U=G[1],W=m.useMemo((function(){return l?B.filter(t?function(e){return e.value>=12}:function(e){return e.value<12}).map((function(e){var t=e.value%12,n=0===t?"12":HA(t,2);return Ee(Ee({},e),{},{label:n,value:t})})):B}),[l,t,B]),Z=QA(0,59,p,R&&R(C)),Y=QA(0,59,v,L&&L(C,N));function H(e,t,n,r,o){!1!==e&&S.push({node:m.cloneElement(t,{prefixCls:T,value:n,active:i===S.length,onSelect:o,units:r,hideDisabledOptions:E}),onSelect:o,value:n,units:r})}o.current={onUpDown:function(e){var t=S[i];if(t)for(var n=t.units.findIndex((function(e){return e.value===t.value})),r=t.units.length,o=1;o<r;o+=1){var a=t.units[(n+e*o+r)%r];if(!0!==a.disabled){t.onSelect(a.value);break}}}},H(s,m.createElement(YA,{key:"hour"}),M,W,(function(e){_(j(t,e,N,A),"mouse")})),H(u,m.createElement(YA,{key:"minute"}),N,Z,(function(e){_(j(t,M,e,A),"mouse")})),H(c,m.createElement(YA,{key:"second"}),A,Y,(function(e){_(j(t,M,N,e),"mouse")}));var X=-1;return"boolean"===typeof t&&(X=t?1:0),H(!0===l,m.createElement(YA,{key:"12hours"}),X,[{label:"AM",value:0,disabled:V},{label:"PM",value:1,disabled:U}],(function(e){_(j(!!e,M,N,A),"mouse")})),m.createElement("div",{className:k},S.map((function(e){return e.node})))};var tP=function(e){var t=e.generateConfig,n=e.format,r=void 0===n?"HH:mm:ss":n,o=e.prefixCls,i=e.active,a=e.operationRef,s=e.showHour,u=e.showMinute,c=e.showSecond,l=e.use12Hours,f=void 0!==l&&l,d=e.onSelect,h=e.value,p="".concat(o,"-time-panel"),g=m.useRef(),v=m.useState(-1),y=(0,gt.Z)(v,2),b=y[0],x=y[1],w=[s,u,c,f].filter((function(e){return!1!==e})).length;return a.current={onKeyDown:function(e){return EA(e,{onLeftRight:function(e){x((b+e+w)%w)},onUpDown:function(e){-1===b?x(0):g.current&&g.current.onUpDown(e)},onEnter:function(){d(h||t.getNow(),"key"),x(-1)}})},onBlur:function(){x(-1)}},m.createElement("div",{className:__()(p,(0,xe.Z)({},"".concat(p,"-active"),i))},m.createElement(ZA,vt({},e,{format:r,prefixCls:o})),m.createElement(eP,vt({},e,{prefixCls:o,activeColumnIndex:b,operationRef:g})))},nP=m.createContext({});function rP(e){var t=e.cellPrefixCls,n=e.generateConfig,r=e.rangedValue,o=e.hoverRangedValue,i=e.isInView,a=e.isSameCell,s=e.offsetCell,u=e.today,c=e.value;return function(e){var l,f=s(e,-1),d=s(e,1),h=qA(r,0),p=qA(r,1),g=qA(o,0),v=qA(o,1),m=zA(n,g,v,e);function y(e){return a(h,e)}function b(e){return a(p,e)}var x=a(g,e),w=a(v,e),E=(m||w)&&(!i(f)||b(f)),_=(m||x)&&(!i(d)||y(d));return l={},(0,xe.Z)(l,"".concat(t,"-in-view"),i(e)),(0,xe.Z)(l,"".concat(t,"-in-range"),zA(n,h,p,e)),(0,xe.Z)(l,"".concat(t,"-range-start"),y(e)),(0,xe.Z)(l,"".concat(t,"-range-end"),b(e)),(0,xe.Z)(l,"".concat(t,"-range-start-single"),y(e)&&!p),(0,xe.Z)(l,"".concat(t,"-range-end-single"),b(e)&&!h),(0,xe.Z)(l,"".concat(t,"-range-start-near-hover"),y(e)&&(a(f,g)||zA(n,g,v,f))),(0,xe.Z)(l,"".concat(t,"-range-end-near-hover"),b(e)&&(a(d,v)||zA(n,g,v,d))),(0,xe.Z)(l,"".concat(t,"-range-hover"),m),(0,xe.Z)(l,"".concat(t,"-range-hover-start"),x),(0,xe.Z)(l,"".concat(t,"-range-hover-end"),w),(0,xe.Z)(l,"".concat(t,"-range-hover-edge-start"),E),(0,xe.Z)(l,"".concat(t,"-range-hover-edge-end"),_),(0,xe.Z)(l,"".concat(t,"-range-hover-edge-start-near-range"),E&&a(f,p)),(0,xe.Z)(l,"".concat(t,"-range-hover-edge-end-near-range"),_&&a(d,h)),(0,xe.Z)(l,"".concat(t,"-today"),a(u,e)),(0,xe.Z)(l,"".concat(t,"-selected"),a(c,e)),l}}var oP=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.prefixColumn,o=e.locale,i=e.rowCount,a=e.viewDate,s=e.value,u=e.dateRender,c=m.useContext(nP),l=c.rangedValue,f=c.hoverRangedValue,d=function(e,t,n){var r=t.locale.getWeekFirstDay(e),o=t.setDate(n,1),i=t.getWeekDay(o),a=t.addDate(o,r-i);return t.getMonth(a)===t.getMonth(n)&&t.getDate(a)>1&&(a=t.addDate(a,-7)),a}(o.locale,n,a),h="".concat(t,"-cell"),p=n.locale.getWeekFirstDay(o.locale),g=n.getNow(),v=[],y=o.shortWeekDays||(n.locale.getShortWeekDays?n.locale.getShortWeekDays(o.locale):[]);r&&v.push(m.createElement("th",{key:"empty","aria-label":"empty cell"}));for(var b=0;b<7;b+=1)v.push(m.createElement("th",{key:b},y[(b+p)%7]));var x=rP({cellPrefixCls:h,today:g,value:s,generateConfig:n,rangedValue:r?null:l,hoverRangedValue:r?null:f,isSameCell:function(e,t){return jA(n,e,t)},isInView:function(e){return LA(n,e,a)},offsetCell:function(e,t){return n.addDate(e,t)}}),w=u?function(e){return u(e,g)}:void 0;return m.createElement(mA,vt({},e,{rowNum:i,colNum:7,baseDate:d,getCellNode:w,getCellText:n.getDate,getCellClassName:x,getCellDate:n.addDate,titleCell:function(e){return VA(e,{locale:o,format:"YYYY-MM-DD",generateConfig:n})},headerCells:v}))};var iP=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,o=e.viewDate,i=e.onNextMonth,a=e.onPrevMonth,s=e.onNextYear,u=e.onPrevYear,c=e.onYearClick,l=e.onMonthClick;if(m.useContext(lA).hideHeader)return null;var f="".concat(t,"-header"),d=r.shortMonths||(n.locale.getShortMonths?n.locale.getShortMonths(r.locale):[]),h=n.getMonth(o),p=m.createElement("button",{type:"button",key:"year",onClick:c,tabIndex:-1,className:"".concat(t,"-year-btn")},VA(o,{locale:r,format:r.yearFormat,generateConfig:n})),g=m.createElement("button",{type:"button",key:"month",onClick:l,tabIndex:-1,className:"".concat(t,"-month-btn")},r.monthFormat?VA(o,{locale:r,format:r.monthFormat,generateConfig:n}):d[h]),v=r.monthBeforeYear?[g,p]:[p,g];return m.createElement(dA,vt({},e,{prefixCls:f,onSuperPrev:u,onPrev:a,onNext:i,onSuperNext:s}),v)};var aP=function(e){var t=e.prefixCls,n=e.panelName,r=void 0===n?"date":n,o=e.keyboardConfig,i=e.active,a=e.operationRef,s=e.generateConfig,u=e.value,c=e.viewDate,l=e.onViewDateChange,f=e.onPanelChange,d=e.onSelect,h="".concat(t,"-").concat(r,"-panel");a.current={onKeyDown:function(e){return EA(e,Ee({onLeftRight:function(e){d(s.addDate(u||c,e),"key")},onCtrlLeftRight:function(e){d(s.addYear(u||c,e),"key")},onUpDown:function(e){d(s.addDate(u||c,7*e),"key")},onPageUpDown:function(e){d(s.addMonth(u||c,e),"key")}},o))}};var p=function(e){var t=s.addYear(c,e);l(t),f(null,t)},g=function(e){var t=s.addMonth(c,e);l(t),f(null,t)};return m.createElement("div",{className:__()(h,(0,xe.Z)({},"".concat(h,"-active"),i))},m.createElement(iP,vt({},e,{prefixCls:t,value:u,viewDate:c,onPrevYear:function(){p(-1)},onNextYear:function(){p(1)},onPrevMonth:function(){g(-1)},onNextMonth:function(){g(1)},onMonthClick:function(){f("month",c)},onYearClick:function(){f("year",c)}})),m.createElement(oP,vt({},e,{onSelect:function(e){return d(e,"mouse")},prefixCls:t,value:u,viewDate:c,rowCount:6})))},sP=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}("date","time");var uP=function(e){var t=e.prefixCls,n=e.operationRef,r=e.generateConfig,o=e.value,i=e.defaultValue,a=e.disabledTime,s=e.showTime,u=e.onSelect,c="".concat(t,"-datetime-panel"),l=m.useState(null),f=(0,gt.Z)(l,2),d=f[0],h=f[1],p=m.useRef({}),g=m.useRef({}),v="object"===(0,N_.Z)(s)?Ee({},s):{},y=function(e){g.current.onBlur&&g.current.onBlur(e),h(null)};n.current={onKeyDown:function(e){if(e.which===cA.TAB){var t=function(e){var t=sP.indexOf(d)+e;return sP[t]||null}(e.shiftKey?-1:1);return h(t),t&&e.preventDefault(),!0}if(d){var n="date"===d?p:g;return n.current&&n.current.onKeyDown&&n.current.onKeyDown(e),!0}return!![cA.LEFT,cA.RIGHT,cA.UP,cA.DOWN].includes(e.which)&&(h("date"),!0)},onBlur:y,onClose:y};var b=function(e,t){var n=e;"date"===t&&!o&&v.defaultValue?(n=r.setHour(n,r.getHour(v.defaultValue)),n=r.setMinute(n,r.getMinute(v.defaultValue)),n=r.setSecond(n,r.getSecond(v.defaultValue))):"time"===t&&!o&&i&&(n=r.setYear(n,r.getYear(i)),n=r.setMonth(n,r.getMonth(i)),n=r.setDate(n,r.getDate(i))),u&&u(n,"mouse")},x=a?a(o||null):{};return m.createElement("div",{className:__()(c,(0,xe.Z)({},"".concat(c,"-active"),d))},m.createElement(aP,vt({},e,{operationRef:p,active:"date"===d,onSelect:function(e){b(gA(r,e,o||"object"!==(0,N_.Z)(s)?null:s.defaultValue),"date")}})),m.createElement(tP,vt({},e,{format:void 0},v,x,{disabledTime:null,defaultValue:void 0,operationRef:g,active:"time"===d,onSelect:function(e){b(e,"time")}})))};var cP=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,o=e.value,i="".concat(t,"-cell"),a="".concat(t,"-week-panel-row");return m.createElement(aP,vt({},e,{panelName:"week",prefixColumn:function(e){return m.createElement("td",{key:"week",className:__()(i,"".concat(i,"-week"))},n.locale.getWeek(r.locale,e))},rowClassName:function(e){return __()(a,(0,xe.Z)({},"".concat(a,"-selected"),FA(n,r.locale,o,e)))},keyboardConfig:{onLeftRight:null}}))};var lP=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,o=e.viewDate,i=e.onNextYear,a=e.onPrevYear,s=e.onYearClick;if(m.useContext(lA).hideHeader)return null;var u="".concat(t,"-header");return m.createElement(dA,vt({},e,{prefixCls:u,onSuperPrev:a,onSuperNext:i}),m.createElement("button",{type:"button",onClick:s,className:"".concat(t,"-year-btn")},VA(o,{locale:r,format:r.yearFormat,generateConfig:n})))};var fP=function(e){var t=e.prefixCls,n=e.locale,r=e.value,o=e.viewDate,i=e.generateConfig,a=e.monthCellRender,s=m.useContext(nP),u=s.rangedValue,c=s.hoverRangedValue,l=rP({cellPrefixCls:"".concat(t,"-cell"),value:r,generateConfig:i,rangedValue:u,hoverRangedValue:c,isSameCell:function(e,t){return LA(i,e,t)},isInView:function(){return!0},offsetCell:function(e,t){return i.addMonth(e,t)}}),f=n.shortMonths||(i.locale.getShortMonths?i.locale.getShortMonths(n.locale):[]),d=i.setMonth(o,0),h=a?function(e){return a(e,n)}:void 0;return m.createElement(mA,vt({},e,{rowNum:4,colNum:3,baseDate:d,getCellNode:h,getCellText:function(e){return n.monthFormat?VA(e,{locale:n,format:n.monthFormat,generateConfig:i}):f[i.getMonth(e)]},getCellClassName:l,getCellDate:i.addMonth,titleCell:function(e){return VA(e,{locale:n,format:"YYYY-MM",generateConfig:i})}}))};var dP=function(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,o=e.generateConfig,i=e.value,a=e.viewDate,s=e.onPanelChange,u=e.onSelect,c="".concat(t,"-month-panel");n.current={onKeyDown:function(e){return EA(e,{onLeftRight:function(e){u(o.addMonth(i||a,e),"key")},onCtrlLeftRight:function(e){u(o.addYear(i||a,e),"key")},onUpDown:function(e){u(o.addMonth(i||a,3*e),"key")},onEnter:function(){s("date",i||a)}})}};var l=function(e){var t=o.addYear(a,e);r(t),s(null,t)};return m.createElement("div",{className:c},m.createElement(lP,vt({},e,{prefixCls:t,onPrevYear:function(){l(-1)},onNextYear:function(){l(1)},onYearClick:function(){s("year",a)}})),m.createElement(fP,vt({},e,{prefixCls:t,onSelect:function(e){u(e,"mouse"),s("date",e)}})))};var hP=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,o=e.viewDate,i=e.onNextYear,a=e.onPrevYear,s=e.onYearClick;if(m.useContext(lA).hideHeader)return null;var u="".concat(t,"-header");return m.createElement(dA,vt({},e,{prefixCls:u,onSuperPrev:a,onSuperNext:i}),m.createElement("button",{type:"button",onClick:s,className:"".concat(t,"-year-btn")},VA(o,{locale:r,format:r.yearFormat,generateConfig:n})))};var pP=function(e){var t=e.prefixCls,n=e.locale,r=e.value,o=e.viewDate,i=e.generateConfig,a=m.useContext(nP),s=a.rangedValue,u=a.hoverRangedValue,c=rP({cellPrefixCls:"".concat(t,"-cell"),value:r,generateConfig:i,rangedValue:s,hoverRangedValue:u,isSameCell:function(e,t){return RA(i,e,t)},isInView:function(){return!0},offsetCell:function(e,t){return i.addMonth(e,3*t)}}),l=i.setDate(i.setMonth(o,0),1);return m.createElement(mA,vt({},e,{rowNum:1,colNum:4,baseDate:l,getCellText:function(e){return VA(e,{locale:n,format:n.quarterFormat||"[Q]Q",generateConfig:i})},getCellClassName:c,getCellDate:function(e,t){return i.addMonth(e,3*t)},titleCell:function(e){return VA(e,{locale:n,format:"YYYY-[Q]Q",generateConfig:i})}}))};var gP=function(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,o=e.generateConfig,i=e.value,a=e.viewDate,s=e.onPanelChange,u=e.onSelect,c="".concat(t,"-quarter-panel");n.current={onKeyDown:function(e){return EA(e,{onLeftRight:function(e){u(o.addMonth(i||a,3*e),"key")},onCtrlLeftRight:function(e){u(o.addYear(i||a,e),"key")},onUpDown:function(e){u(o.addYear(i||a,e),"key")}})}};var l=function(e){var t=o.addYear(a,e);r(t),s(null,t)};return m.createElement("div",{className:c},m.createElement(hP,vt({},e,{prefixCls:t,onPrevYear:function(){l(-1)},onNextYear:function(){l(1)},onYearClick:function(){s("year",a)}})),m.createElement(pP,vt({},e,{prefixCls:t,onSelect:function(e){u(e,"mouse")}})))};var vP=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.viewDate,o=e.onPrevDecade,i=e.onNextDecade,a=e.onDecadeClick;if(m.useContext(lA).hideHeader)return null;var s="".concat(t,"-header"),u=n.getYear(r),c=Math.floor(u/yP)*yP,l=c+yP-1;return m.createElement(dA,vt({},e,{prefixCls:s,onSuperPrev:o,onSuperNext:i}),m.createElement("button",{type:"button",onClick:a,className:"".concat(t,"-decade-btn")},c,"-",l))};var mP=function(e){var t=e.prefixCls,n=e.value,r=e.viewDate,o=e.locale,i=e.generateConfig,a=m.useContext(nP),s=a.rangedValue,u=a.hoverRangedValue,c="".concat(t,"-cell"),l=i.getYear(r),f=Math.floor(l/yP)*yP,d=f+yP-1,h=i.setYear(r,f-Math.ceil((12-yP)/2)),p=rP({cellPrefixCls:c,value:n,generateConfig:i,rangedValue:s,hoverRangedValue:u,isSameCell:function(e,t){return IA(i,e,t)},isInView:function(e){var t=i.getYear(e);return f<=t&&t<=d},offsetCell:function(e,t){return i.addYear(e,t)}});return m.createElement(mA,vt({},e,{rowNum:4,colNum:3,baseDate:h,getCellText:i.getYear,getCellClassName:p,getCellDate:i.addYear,titleCell:function(e){return VA(e,{locale:o,format:"YYYY",generateConfig:i})}}))},yP=10;var bP=function(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,o=e.generateConfig,i=e.value,a=e.viewDate,s=e.sourceMode,u=e.onSelect,c=e.onPanelChange,l="".concat(t,"-year-panel");n.current={onKeyDown:function(e){return EA(e,{onLeftRight:function(e){u(o.addYear(i||a,e),"key")},onCtrlLeftRight:function(e){u(o.addYear(i||a,e*yP),"key")},onUpDown:function(e){u(o.addYear(i||a,3*e),"key")},onEnter:function(){c("date"===s?"date":"month",i||a)}})}};var f=function(e){var t=o.addYear(a,10*e);r(t),c(null,t)};return m.createElement("div",{className:l},m.createElement(vP,vt({},e,{prefixCls:t,onPrevDecade:function(){f(-1)},onNextDecade:function(){f(1)},onDecadeClick:function(){c("decade",a)}})),m.createElement(mP,vt({},e,{prefixCls:t,onSelect:function(e){c("date"===s?"date":"month",e),u(e,"mouse")}})))};function xP(e,t,n){return n?m.createElement("div",{className:"".concat(e,"-footer-extra")},n(t)):null}function wP(e){var t,n,r=e.prefixCls,o=e.rangeList,i=void 0===o?[]:o,a=e.components,s=void 0===a?{}:a,u=e.needConfirmButton,c=e.onNow,l=e.onOk,f=e.okDisabled,d=e.showNow,h=e.locale;if(i.length){var p=s.rangeItem||"span";t=m.createElement(m.Fragment,null,i.map((function(e){var t=e.label,n=e.onClick,o=e.onMouseEnter,i=e.onMouseLeave;return m.createElement("li",{key:t,className:"".concat(r,"-preset")},m.createElement(p,{onClick:n,onMouseEnter:o,onMouseLeave:i},t))})))}if(u){var g=s.button||"button";c&&!t&&!1!==d&&(t=m.createElement("li",{className:"".concat(r,"-now")},m.createElement("a",{className:"".concat(r,"-now-btn"),onClick:c},h.now))),n=u&&m.createElement("li",{className:"".concat(r,"-ok")},m.createElement(g,{disabled:f,onClick:l},h.ok))}return t||n?m.createElement("ul",{className:"".concat(r,"-ranges")},t,n):null}var EP=function(e){var t,n=e.prefixCls,r=void 0===n?"rc-picker":n,o=e.className,i=e.style,a=e.locale,s=e.generateConfig,u=e.value,c=e.defaultValue,l=e.pickerValue,f=e.defaultPickerValue,d=e.disabledDate,h=e.mode,p=e.picker,g=void 0===p?"date":p,v=e.tabIndex,y=void 0===v?0:v,b=e.showNow,x=e.showTime,w=e.showToday,E=e.renderExtraFooter,_=e.hideHeader,S=e.onSelect,k=e.onChange,T=e.onPanelChange,C=e.onMouseDown,M=e.onPickerValueChange,N=e.onOk,A=e.components,P=e.direction,O=e.hourStep,I=void 0===O?1:O,D=e.minuteStep,R=void 0===D?1:D,L=e.secondStep,j=void 0===L?1:L,F="date"===g&&!!x||"time"===g,B=24%I===0,z=60%R===0,G=60%j===0,V=m.useContext(lA),U=V.operationRef,W=V.panelRef,Z=V.onSelect,Y=V.hideRanges,H=V.defaultOpenValue,X=m.useContext(nP),K=X.inRange,q=X.panelPosition,$=X.rangedValue,J=X.hoverRangedValue,Q=m.useRef({}),ee=m.useRef(!0),te=sA(null,{value:u,defaultValue:c,postState:function(e){return!e&&H&&"time"===g?H:e}}),ne=(0,gt.Z)(te,2),re=ne[0],oe=ne[1],ie=sA(null,{value:l,defaultValue:f||re,postState:function(e){var t=s.getNow();return e?!re&&x?"object"===(0,N_.Z)(x)?gA(s,Array.isArray(e)?e[0]:e,x.defaultValue||t):gA(s,Array.isArray(e)?e[0]:e,c||t):e:t}}),ae=(0,gt.Z)(ie,2),se=ae[0],ue=ae[1],ce=function(e){ue(e),M&&M(e)},le=function(e){var t=CA[g];return t?t(e):e},fe=sA((function(){return"time"===g?"time":le("date")}),{value:h}),de=(0,gt.Z)(fe,2),he=de[0],pe=de[1];m.useEffect((function(){pe(g)}),[g]);var ge,ve=m.useState((function(){return he})),me=(0,gt.Z)(ve,2),ye=me[0],be=me[1],we=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(he===g||n)&&(oe(e),S&&S(e),Z&&Z(e,t),!k||BA(s,e,re)||(null===d||void 0===d?void 0:d(e))||k(e))},_e=function(e){return Q.current&&Q.current.onKeyDown?([cA.LEFT,cA.RIGHT,cA.UP,cA.DOWN,cA.PAGE_UP,cA.PAGE_DOWN,cA.ENTER].includes(e.which)&&e.preventDefault(),Q.current.onKeyDown(e)):(Ek(!1,"Panel not correct handle keyDown event. Please help to fire issue about this."),!1)};U&&"right"!==q&&(U.current={onKeyDown:_e,onClose:function(){Q.current&&Q.current.onClose&&Q.current.onClose()}}),m.useEffect((function(){u&&!ee.current&&ue(u)}),[u]),m.useEffect((function(){ee.current=!1}),[]);var Se,ke,Te,Ce=Ee(Ee({},e),{},{operationRef:Q,prefixCls:r,viewDate:se,value:re,onViewDateChange:ce,sourceMode:ye,onPanelChange:function(e,t){var n=le(e||he);be(he),pe(n),T&&(he!==n||BA(s,se,se))&&T(t,n)},disabledDate:d});switch(delete Ce.onChange,delete Ce.onSelect,he){case"decade":ge=m.createElement(PA,vt({},Ce,{onSelect:function(e,t){ce(e),we(e,t)}}));break;case"year":ge=m.createElement(bP,vt({},Ce,{onSelect:function(e,t){ce(e),we(e,t)}}));break;case"month":ge=m.createElement(dP,vt({},Ce,{onSelect:function(e,t){ce(e),we(e,t)}}));break;case"quarter":ge=m.createElement(gP,vt({},Ce,{onSelect:function(e,t){ce(e),we(e,t)}}));break;case"week":ge=m.createElement(cP,vt({},Ce,{onSelect:function(e,t){ce(e),we(e,t)}}));break;case"time":delete Ce.showTime,ge=m.createElement(tP,vt({},Ce,"object"===(0,N_.Z)(x)?x:null,{onSelect:function(e,t){ce(e),we(e,t)}}));break;default:ge=x?m.createElement(uP,vt({},Ce,{onSelect:function(e,t){ce(e),we(e,t)}})):m.createElement(aP,vt({},Ce,{onSelect:function(e,t){ce(e),we(e,t)}}))}if(Y||(Se=xP(r,he,E),ke=wP({prefixCls:r,components:A,needConfirmButton:F,okDisabled:!re||d&&d(re),locale:a,showNow:b,onNow:F&&function(){var e=s.getNow(),t=function(e,t,n,r,o,i){var a=Math.floor(e/r)*r;if(a<e)return[a,60-o,60-i];var s=Math.floor(t/o)*o;return s<t?[a,s,60-i]:[a,s,Math.floor(n/i)*i]}(s.getHour(e),s.getMinute(e),s.getSecond(e),B?I:1,z?R:1,G?j:1),n=pA(s,e,t[0],t[1],t[2]);we(n,"submit")},onOk:function(){re&&(we(re,"submit",!0),N&&N(re))}})),w&&"date"===he&&"date"===g&&!x){var Me=s.getNow(),Ne="".concat(r,"-today-btn"),Ae=d&&d(Me);Te=m.createElement("a",{className:__()(Ne,Ae&&"".concat(Ne,"-disabled")),"aria-disabled":Ae,onClick:function(){Ae||we(Me,"mouse",!0)}},a.today)}return m.createElement(lA.Provider,{value:Ee(Ee({},V),{},{mode:he,hideHeader:"hideHeader"in e?_:V.hideHeader,hidePrevBtn:K&&"right"===q,hideNextBtn:K&&"left"===q})},m.createElement("div",{tabIndex:y,className:__()("".concat(r,"-panel"),o,(t={},(0,xe.Z)(t,"".concat(r,"-panel-has-range"),$&&$[0]&&$[1]),(0,xe.Z)(t,"".concat(r,"-panel-has-range-hover"),J&&J[0]&&J[1]),(0,xe.Z)(t,"".concat(r,"-panel-rtl"),"rtl"===P),t)),style:i,onKeyDown:_e,onBlur:function(e){Q.current&&Q.current.onBlur&&Q.current.onBlur(e)},onMouseDown:C,ref:W},ge,Se||ke||Te?m.createElement("div",{className:"".concat(r,"-footer")},Se,ke,Te):null))};function _P(e,t){return!!e&&e.contains(t)}function SP(e,t,n,r){var o=y.unstable_batchedUpdates?function(e){y.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,o,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,o)}}}var kP=(0,m.forwardRef)((function(e,t){var n=e.didUpdate,r=e.getContainer,o=e.children,i=(0,m.useRef)();(0,m.useImperativeHandle)(t,(function(){return{}}));var a=(0,m.useRef)(!1);return!a.current&&L_()&&(i.current=r(),a.current=!0),(0,m.useEffect)((function(){null===n||void 0===n||n(e)})),(0,m.useEffect)((function(){return function(){var e,t;null===(e=i.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(i.current)}}),[]),i.current?y.createPortal(o,i.current):null})),TP=kP;function CP(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}var MP,NP=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4)))};function AP(e){var t=e.prefixCls,n=e.motion,r=e.animation,o=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:o?{motionName:o}:null)}function PP(e){var t=e.prefixCls,n=e.visible,r=e.zIndex,o=e.mask,i=e.maskMotion,a=e.maskAnimation,s=e.maskTransitionName;if(!o)return null;var u={};return(i||s||a)&&(u=Ee({motionAppear:!0},AP({motion:i,prefixCls:t,transitionName:s,animation:a}))),m.createElement(AS,vt({},u,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return m.createElement("div",{style:{zIndex:r},className:__()("".concat(t,"-mask"),n)})}))}function OP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OP(Object(n),!0).forEach((function(t){RP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function DP(e){return DP="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DP(e)}function RP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LP={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function jP(){if(void 0!==MP)return MP;MP="";var e=document.createElement("p").style;for(var t in LP)t+"Transform"in e&&(MP=t);return MP}function FP(){return jP()?"".concat(jP(),"TransitionProperty"):"transitionProperty"}function BP(){return jP()?"".concat(jP(),"Transform"):"transform"}function zP(e,t){var n=FP();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function GP(e,t){var n=BP();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var VP,UP=/matrix\((.*)\)/,WP=/matrix3d\((.*)\)/;function ZP(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function YP(e,t,n){var r=n;if("object"!==DP(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):VP(e,t);for(var o in t)t.hasOwnProperty(o)&&YP(e,o,t[o])}function HP(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var o=e.document;"number"!==typeof(n=o.documentElement[r])&&(n=o.body[r])}return n}function XP(e){return HP(e)}function KP(e){return HP(e,!0)}function qP(e){var t=function(e){var t,n,r,o=e.ownerDocument,i=o.body,a=o&&o.documentElement;return n=(t=e.getBoundingClientRect()).left,r=t.top,{left:n-=a.clientLeft||i.clientLeft||0,top:r-=a.clientTop||i.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=XP(r),t.top+=KP(r),t}function $P(e){return null!==e&&void 0!==e&&e==e.window}function JP(e){return $P(e)?e.document:9===e.nodeType?e:e.ownerDocument}var QP=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),eO=/^(top|right|bottom|left)$/;function tO(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function nO(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function rO(e,t,n){"static"===YP(e,"position")&&(e.style.position="relative");var r=-999,o=-999,i=tO("left",n),a=tO("top",n),s=nO(i),u=nO(a);"left"!==i&&(r=999),"top"!==a&&(o=999);var c="",l=qP(e);("left"in t||"top"in t)&&(c=function(e){return e.style.transitionProperty||e.style[FP()]}(e)||"",zP(e,"none")),"left"in t&&(e.style[s]="",e.style[i]="".concat(r,"px")),"top"in t&&(e.style[u]="",e.style[a]="".concat(o,"px")),ZP(e);var f=qP(e),d={};for(var h in t)if(t.hasOwnProperty(h)){var p=tO(h,n),g="left"===h?r:o,v=l[h]-f[h];d[p]=p===h?g+v:g-v}YP(e,d),ZP(e),("left"in t||"top"in t)&&zP(e,c);var m={};for(var y in t)if(t.hasOwnProperty(y)){var b=tO(y,n),x=t[y]-l[y];m[b]=y===b?d[b]+x:d[b]-x}YP(e,m)}function oO(e,t){var n=qP(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(BP());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),o={x:r.x,y:r.y};"left"in t&&(o.x=r.x+t.left-n.left),"top"in t&&(o.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(BP());if(r&&"none"!==r){var o,i=r.match(UP);i?(o=(i=i[1]).split(",").map((function(e){return parseFloat(e,10)})),o[4]=t.x,o[5]=t.y,GP(e,"matrix(".concat(o.join(","),")"))):(o=r.match(WP)[1].split(",").map((function(e){return parseFloat(e,10)})),o[12]=t.x,o[13]=t.y,GP(e,"matrix3d(".concat(o.join(","),")")))}else GP(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,o)}function iO(e,t){for(var n=0;n<e.length;n++)t(e[n])}function aO(e){return"border-box"===VP(e,"boxSizing")}"undefined"!==typeof window&&(VP=window.getComputedStyle?function(e,t,n){var r=n,o="",i=JP(e);return(r=r||i.defaultView.getComputedStyle(e,null))&&(o=r.getPropertyValue(t)||r[t]),o}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(QP.test(n)&&!eO.test(t)){var r=e.style,o=r.left,i=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=o,e.runtimeStyle.left=i}return""===n?"auto":n});var sO=["margin","border","padding"];function uO(e,t,n){var r,o={},i=e.style;for(r in t)t.hasOwnProperty(r)&&(o[r]=i[r],i[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(i[r]=o[r])}function cO(e,t,n){var r,o,i,a=0;for(o=0;o<t.length;o++)if(r=t[o])for(i=0;i<n.length;i++){var s=void 0;s="border"===r?"".concat(r).concat(n[i],"Width"):r+n[i],a+=parseFloat(VP(e,s))||0}return a}var lO={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function fO(e,t,n){var r=n;if($P(e))return"width"===t?lO.viewportWidth(e):lO.viewportHeight(e);if(9===e.nodeType)return"width"===t?lO.docWidth(e):lO.docHeight(e);var o="width"===t?["Left","Right"]:["Top","Bottom"],i="width"===t?e.getBoundingClientRect().width:e.getBoundingClientRect().height,a=aO(e),s=0;(null===i||void 0===i||i<=0)&&(i=void 0,(null===(s=VP(e,t))||void 0===s||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===r&&(r=a?1:-1);var u=void 0!==i||a,c=i||s;return-1===r?u?c-cO(e,["border","padding"],o):s:u?1===r?c:c+(2===r?-cO(e,["border"],o):cO(e,["margin"],o)):s+cO(e,sO.slice(r),o)}iO(["Width","Height"],(function(e){lO["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],lO["viewport".concat(e)](n))},lO["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,o=r.body,i=r.documentElement[n];return"CSS1Compat"===r.compatMode&&i||o&&o[n]||i}}));var dO={position:"absolute",visibility:"hidden",display:"block"};function hO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=t[0];return 0!==o.offsetWidth?r=fO.apply(void 0,t):uO(o,dO,(function(){r=fO.apply(void 0,t)})),r}function pO(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}iO(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);lO["outer".concat(t)]=function(t,n){return t&&hO(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];lO[e]=function(t,r){var o=r;return void 0!==o?t?(aO(t)&&(o+=cO(t,["padding","border"],n)),YP(t,e,o)):void 0:t&&hO(t,e,-1)}}));var gO={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:JP,offset:function(e,t,n){if("undefined"===typeof t)return qP(e);!function(e,t,n){if(n.ignoreShake){var r=qP(e),o=r.left.toFixed(0),i=r.top.toFixed(0),a=t.left.toFixed(0),s=t.top.toFixed(0);if(o===a&&i===s)return}n.useCssRight||n.useCssBottom?rO(e,t,n):n.useCssTransform&&BP()in document.body.style?oO(e,t):rO(e,t,n)}(e,t,n||{})},isWindow:$P,each:iO,css:YP,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:pO,getWindowScrollLeft:function(e){return XP(e)},getWindowScrollTop:function(e){return KP(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)gO.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};pO(gO,lO);var vO=gO.getParent;function mO(e){if(gO.isWindow(e)||9===e.nodeType)return null;var t,n=gO.getDocument(e).body,r=gO.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:vO(e);for(t=vO(e);t&&t!==n&&9!==t.nodeType;t=vO(t))if("static"!==(r=gO.css(t,"position")))return t;return null}var yO=gO.getParent;function bO(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=mO(e),o=gO.getDocument(e),i=o.defaultView||o.parentWindow,a=o.body,s=o.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===a||r===s||"visible"===gO.css(r,"overflow")){if(r===a||r===s)break}else{var u=gO.offset(r);u.left+=r.clientLeft,u.top+=r.clientTop,n.top=Math.max(n.top,u.top),n.right=Math.min(n.right,u.left+r.clientWidth),n.bottom=Math.min(n.bottom,u.top+r.clientHeight),n.left=Math.max(n.left,u.left)}r=mO(r)}var c=null;gO.isWindow(e)||9===e.nodeType||(c=e.style.position,"absolute"===gO.css(e,"position")&&(e.style.position="fixed"));var l=gO.getWindowScrollLeft(i),f=gO.getWindowScrollTop(i),d=gO.viewportWidth(i),h=gO.viewportHeight(i),p=s.scrollWidth,g=s.scrollHeight,v=window.getComputedStyle(a);if("hidden"===v.overflowX&&(p=i.innerWidth),"hidden"===v.overflowY&&(g=i.innerHeight),e.style&&(e.style.position=c),t||function(e){if(gO.isWindow(e)||9===e.nodeType)return!1;var t=gO.getDocument(e),n=t.body,r=null;for(r=yO(e);r&&r!==n&&r!==t;r=yO(r))if("fixed"===gO.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,l),n.top=Math.max(n.top,f),n.right=Math.min(n.right,l+d),n.bottom=Math.min(n.bottom,f+h);else{var m=Math.max(p,l+d);n.right=Math.min(n.right,m);var y=Math.max(g,f+h);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function xO(e){var t,n,r;if(gO.isWindow(e)||9===e.nodeType){var o=gO.getWindow(e);t={left:gO.getWindowScrollLeft(o),top:gO.getWindowScrollTop(o)},n=gO.viewportWidth(o),r=gO.viewportHeight(o)}else t=gO.offset(e),n=gO.outerWidth(e),r=gO.outerHeight(e);return t.width=n,t.height=r,t}function wO(e,t){var n=t.charAt(0),r=t.charAt(1),o=e.width,i=e.height,a=e.left,s=e.top;return"c"===n?s+=i/2:"b"===n&&(s+=i),"c"===r?a+=o/2:"r"===r&&(a+=o),{left:a,top:s}}function EO(e,t,n,r,o){var i=wO(t,n[1]),a=wO(e,n[0]),s=[a.left-i.left,a.top-i.top];return{left:Math.round(e.left-s[0]+r[0]-o[0]),top:Math.round(e.top-s[1]+r[1]-o[1])}}function _O(e,t,n){return e.left<n.left||e.left+t.width>n.right}function SO(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function kO(e,t,n){var r=[];return gO.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function TO(e,t){return e[t]=-e[t],e}function CO(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function MO(e,t){e[0]=CO(e[0],t.width),e[1]=CO(e[1],t.height)}function NO(e,t,n,r){var o=n.points,i=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,u=n.source||e;i=[].concat(i),a=[].concat(a);var c={},l=0,f=bO(u,!(!(s=s||{})||!s.alwaysByViewport)),d=xO(u);MO(i,d),MO(a,t);var h=EO(d,t,o,i,a),p=gO.merge(d,h);if(f&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&_O(h,d,f)){var g=kO(o,/[lr]/gi,{l:"r",r:"l"}),v=TO(i,0),m=TO(a,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(EO(d,t,g,v,m),d,f)||(l=1,o=g,i=v,a=m)}if(s.adjustY&&SO(h,d,f)){var y=kO(o,/[tb]/gi,{t:"b",b:"t"}),b=TO(i,1),x=TO(a,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(EO(d,t,y,b,x),d,f)||(l=1,o=y,i=b,a=x)}l&&(h=EO(d,t,o,i,a),gO.mix(p,h));var w=_O(h,d,f),E=SO(h,d,f);if(w||E){var _=o;w&&(_=kO(o,/[lr]/gi,{l:"r",r:"l"})),E&&(_=kO(o,/[tb]/gi,{t:"b",b:"t"})),o=_,i=n.offset||[0,0],a=n.targetOffset||[0,0]}c.adjustX=s.adjustX&&w,c.adjustY=s.adjustY&&E,(c.adjustX||c.adjustY)&&(p=function(e,t,n,r){var o=gO.clone(e),i={width:t.width,height:t.height};return r.adjustX&&o.left<n.left&&(o.left=n.left),r.resizeWidth&&o.left>=n.left&&o.left+i.width>n.right&&(i.width-=o.left+i.width-n.right),r.adjustX&&o.left+i.width>n.right&&(o.left=Math.max(n.right-i.width,n.left)),r.adjustY&&o.top<n.top&&(o.top=n.top),r.resizeHeight&&o.top>=n.top&&o.top+i.height>n.bottom&&(i.height-=o.top+i.height-n.bottom),r.adjustY&&o.top+i.height>n.bottom&&(o.top=Math.max(n.bottom-i.height,n.top)),gO.mix(o,i)}(h,d,f,c))}return p.width!==d.width&&gO.css(u,"width",gO.width(u)+p.width-d.width),p.height!==d.height&&gO.css(u,"height",gO.height(u)+p.height-d.height),gO.offset(u,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:o,offset:i,targetOffset:a,overflow:c}}function AO(e,t,n){var r=n.target||t,o=xO(r),i=!function(e,t){var n=bO(e,t),r=xO(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return NO(e,o,n,i)}AO.__getOffsetParent=mO,AO.__getVisibleRectForElement=bO;var PO=n(8111),OO=n.n(PO),IO=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),DO="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,RO="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),LO="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(RO):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var jO=["top","right","bottom","left","width","height","size","weight"],FO="undefined"!==typeof MutationObserver,BO=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function i(){n&&(n=!1,e()),r&&s()}function a(){LO(i)}function s(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);o=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){DO&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),FO?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){DO&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=jO.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),zO=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},GO=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||RO},VO=XO(0,0,0,0);function UO(e){return parseFloat(e)||0}function WO(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+UO(e["border-"+n+"-width"])}),0)}function ZO(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return VO;var r=GO(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=UO(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,s=UO(r.width),u=UO(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=WO(r,"left","right")+i),Math.round(u+a)!==n&&(u-=WO(r,"top","bottom")+a)),!function(e){return e===GO(e).document.documentElement}(e)){var c=Math.round(s+i)-t,l=Math.round(u+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return XO(o.left,o.top,s,u)}var YO="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof GO(e).SVGGraphicsElement}:function(e){return e instanceof GO(e).SVGElement&&"function"===typeof e.getBBox};function HO(e){return DO?YO(e)?function(e){var t=e.getBBox();return XO(0,0,t.width,t.height)}(e):ZO(e):VO}function XO(e,t,n,r){return{x:e,y:t,width:n,height:r}}var KO=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=XO(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=HO(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),qO=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(i.prototype);return zO(a,{x:t,y:n,width:r,height:o,top:n,right:t+r,bottom:o+n,left:t}),a}(t);zO(this,{target:e,contentRect:n})},$O=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new IO,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof GO(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new KO(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof GO(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new qO(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),JO="undefined"!==typeof WeakMap?new WeakMap:new IO,QO=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=BO.getInstance(),r=new $O(t,n,this);JO.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){QO.prototype[e]=function(){var t;return(t=JO.get(this))[e].apply(t,arguments)}}));var eI="undefined"!==typeof RO.ResizeObserver?RO.ResizeObserver:QO;function tI(e,t){var n=null,r=null;var o=new eI((function(e){var o=(0,gt.Z)(e,1)[0].target;if(document.documentElement.contains(o)){var i=o.getBoundingClientRect(),a=i.width,s=i.height,u=Math.floor(a),c=Math.floor(s);n===u&&r===c||Promise.resolve().then((function(){t({width:u,height:c})})),n=u,r=c}}));return e&&o.observe(e),function(){o.disconnect()}}function nI(e){return"function"!==typeof e?null:e()}function rI(e){return"object"===(0,N_.Z)(e)&&e?e:null}var oI=function(e,t){var n=e.children,r=e.disabled,o=e.target,i=e.align,a=e.onAlign,s=e.monitorWindowResize,u=e.monitorBufferTime,c=void 0===u?0:u,l=m.useRef({}),f=m.useRef(),d=m.Children.only(n),h=m.useRef({});h.current.disabled=r,h.current.target=o,h.current.align=i,h.current.onAlign=a;var p=function(e,t){var n=m.useRef(!1),r=m.useRef(null);function o(){window.clearTimeout(r.current)}return[function i(a){if(n.current&&!0!==a)o(),r.current=window.setTimeout((function(){n.current=!1,i()}),t);else{if(!1===e())return;n.current=!0,o(),r.current=window.setTimeout((function(){n.current=!1}),t)}},function(){n.current=!1,o()}]}((function(){var e=h.current,t=e.disabled,n=e.target,r=e.align,o=e.onAlign;if(!t&&n){var i,a=f.current,s=nI(n),u=rI(n);l.current.element=s,l.current.point=u,l.current.align=r;var c=document.activeElement;return s&&bA(s)?i=AO(a,s,r):u&&(i=function(e,t,n){var r,o,i=gO.getDocument(e),a=i.defaultView||i.parentWindow,s=gO.getWindowScrollLeft(a),u=gO.getWindowScrollTop(a),c=gO.viewportWidth(a),l=gO.viewportHeight(a),f={left:r="pageX"in t?t.pageX:s+t.clientX,top:o="pageY"in t?t.pageY:u+t.clientY,width:0,height:0},d=r>=0&&r<=s+c&&o>=0&&o<=u+l,h=[n.points[0],"cc"];return NO(e,f,IP(IP({},n),{},{points:h}),d)}(a,u,r)),function(e,t){e!==document.activeElement&&_P(t,e)&&"function"===typeof e.focus&&e.focus()}(c,a),o&&i&&o(a,i),!0}return!1}),c),g=(0,gt.Z)(p,2),v=g[0],y=g[1],b=m.useRef({cancel:function(){}}),x=m.useRef({cancel:function(){}});m.useEffect((function(){var e,t,n=nI(o),r=rI(o);f.current!==x.current.element&&(x.current.cancel(),x.current.element=f.current,x.current.cancel=tI(f.current,v)),l.current.element===n&&((e=l.current.point)===(t=r)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))&&OO()(l.current.align,i)||(v(),b.current.element!==n&&(b.current.cancel(),b.current.element=n,b.current.cancel=tI(n,v)))})),m.useEffect((function(){r?y():v()}),[r]);var w=m.useRef(null);return m.useEffect((function(){s?w.current||(w.current=SP(window,"resize",v)):w.current&&(w.current.remove(),w.current=null)}),[s]),m.useEffect((function(){return function(){b.current.cancel(),x.current.cancel(),w.current&&w.current.remove(),y()}}),[]),m.useImperativeHandle(t,(function(){return{forceAlign:function(){return v(!0)}}})),m.isValidElement(d)&&(d=m.cloneElement(d,{ref:D_(d.ref,f)})),d},iI=m.forwardRef(oI);iI.displayName="Align";var aI=iI,sI=["measure","align",null,"motion"],uI=m.forwardRef((function(e,t){var n=e.visible,r=e.prefixCls,o=e.className,i=e.style,a=e.children,s=e.zIndex,u=e.stretch,c=e.destroyPopupOnHide,l=e.forceRender,f=e.align,d=e.point,h=e.getRootDomNode,p=e.getClassNameFromAlign,g=e.onAlign,v=e.onMouseEnter,y=e.onMouseLeave,b=e.onMouseDown,x=e.onTouchStart,w=(0,m.useRef)(),E=(0,m.useRef)(),_=(0,m.useState)(),S=(0,gt.Z)(_,2),k=S[0],T=S[1],C=function(e){var t=m.useState({width:0,height:0}),n=(0,gt.Z)(t,2),r=n[0],o=n[1],i=m.useMemo((function(){var t={};if(e){var n=r.width,o=r.height;-1!==e.indexOf("height")&&o?t.height=o:-1!==e.indexOf("minHeight")&&o&&(t.minHeight=o),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,r]);return[i,function(e){o({width:e.offsetWidth,height:e.offsetHeight})}]}(u),M=(0,gt.Z)(C,2),N=M[0],A=M[1];var P=function(e,t){var n=oS(null),r=(0,gt.Z)(n,2),o=r[0],i=r[1],a=(0,m.useRef)();function s(e){i(e,!0)}function u(){fS.cancel(a.current)}return(0,m.useEffect)((function(){s("measure")}),[e]),(0,m.useEffect)((function(){"measure"===o&&t(),o&&(a.current=fS((0,AT.Z)(NT().mark((function e(){var t,n;return NT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=sI.indexOf(o),(n=sI[t+1])&&-1!==t&&s(n);case 3:case"end":return e.stop()}}),e)})))))}),[o]),(0,m.useEffect)((function(){return function(){u()}}),[]),[o,function(e){u(),a.current=fS((function(){s((function(e){switch(o){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(n,(function(){u&&A(h())})),O=(0,gt.Z)(P,2),I=O[0],D=O[1],R=(0,m.useRef)();function L(){var e;null===(e=w.current)||void 0===e||e.forceAlign()}function j(e,t){var n=p(t);k!==n&&T(n),"align"===I&&(k!==n?Promise.resolve().then((function(){L()})):D((function(){var e;null===(e=R.current)||void 0===e||e.call(R)})),null===g||void 0===g||g(e,t))}var F=Ee({},AP(e));function B(){return new Promise((function(e){R.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=F[e];F[e]=function(e,n){return D(),null===t||void 0===t?void 0:t(e,n)}})),m.useEffect((function(){F.motionName||"motion"!==I||D()}),[F.motionName,I]),m.useImperativeHandle(t,(function(){return{forceAlign:L,getElement:function(){return E.current}}}));var z=Ee(Ee({},N),{},{zIndex:s,opacity:"motion"!==I&&"stable"!==I&&n?0:void 0,pointerEvents:"stable"===I?void 0:"none"},i),G=!0;!(null===f||void 0===f?void 0:f.points)||"align"!==I&&"stable"!==I||(G=!1);var V=a;return m.Children.count(a)>1&&(V=m.createElement("div",{className:"".concat(r,"-content")},a)),m.createElement(AS,vt({visible:n,ref:E,leavedClassName:"".concat(r,"-hidden")},F,{onAppearPrepare:B,onEnterPrepare:B,removeOnLeave:c,forceRender:l}),(function(e,t){var n=e.className,i=e.style,a=__()(r,o,k,n);return m.createElement(aI,{target:d||h,key:"popup",ref:w,monitorWindowResize:!0,disabled:G,align:f,onAlign:j},m.createElement("div",{ref:t,className:a,onMouseEnter:v,onMouseLeave:y,onMouseDownCapture:b,onTouchStartCapture:x,style:Ee(Ee({},i),z)},V))}))}));uI.displayName="PopupInner";var cI=uI,lI=m.forwardRef((function(e,t){var n=e.prefixCls,r=e.visible,o=e.zIndex,i=e.children,a=e.mobile,s=(a=void 0===a?{}:a).popupClassName,u=a.popupStyle,c=a.popupMotion,l=void 0===c?{}:c,f=a.popupRender,d=m.useRef();m.useImperativeHandle(t,(function(){return{forceAlign:function(){},getElement:function(){return d.current}}}));var h=Ee({zIndex:o},u),p=i;return m.Children.count(i)>1&&(p=m.createElement("div",{className:"".concat(n,"-content")},i)),f&&(p=f(p)),m.createElement(AS,vt({visible:r,ref:d,removeOnLeave:!0},l),(function(e,t){var r=e.className,o=e.style,i=__()(n,s,r);return m.createElement("div",{ref:t,className:i,style:Ee(Ee({},o),h)},p)}))}));lI.displayName="MobilePopupInner";var fI=lI,dI=["visible","mobile"],hI=m.forwardRef((function(e,t){var n=e.visible,r=e.mobile,o=S_(e,dI),i=(0,m.useState)(n),a=(0,gt.Z)(i,2),s=a[0],u=a[1],c=(0,m.useState)(!1),l=(0,gt.Z)(c,2),f=l[0],d=l[1],h=Ee(Ee({},o),{},{visible:s});(0,m.useEffect)((function(){u(n),n&&r&&d(NP())}),[n,r]);var p=f?m.createElement(fI,vt({},h,{mobile:r,ref:t})):m.createElement(cI,vt({},h,{ref:t}));return m.createElement("div",null,m.createElement(PP,h),p)}));hI.displayName="Popup";var pI=hI,gI=m.createContext(null);function vI(){}function mI(){return""}function yI(e){return e?e.ownerDocument:window.document}var bI=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var xI=function(e){var t=function(t){(0,C_.Z)(r,t);var n=(0,M_.Z)(r);function r(e){var t,o;return(0,k_.Z)(this,r),(t=n.call(this,e)).popupRef=m.createRef(),t.triggerRef=m.createRef(),t.attachId=void 0,t.clickOutsideHandler=void 0,t.touchOutsideHandler=void 0,t.contextMenuOutsideHandler1=void 0,t.contextMenuOutsideHandler2=void 0,t.mouseDownTimeout=void 0,t.focusTime=void 0,t.preClickTime=void 0,t.preTouchTime=void 0,t.delayTimer=void 0,t.hasPopupMouseDown=void 0,t.onMouseEnter=function(e){var n=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e),t.delaySetPopupVisible(!0,n,n?null:e)},t.onMouseMove=function(e){t.fireEvents("onMouseMove",e),t.setPoint(e)},t.onMouseLeave=function(e){t.fireEvents("onMouseLeave",e),t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onPopupMouseEnter=function(){t.clearDelayTimer()},t.onPopupMouseLeave=function(e){var n;e.relatedTarget&&!e.relatedTarget.setTimeout&&_P(null===(n=t.popupRef.current)||void 0===n?void 0:n.getElement(),e.relatedTarget)||t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onFocus=function(e){t.fireEvents("onFocus",e),t.clearDelayTimer(),t.isFocusToShow()&&(t.focusTime=Date.now(),t.delaySetPopupVisible(!0,t.props.focusDelay))},t.onMouseDown=function(e){t.fireEvents("onMouseDown",e),t.preClickTime=Date.now()},t.onTouchStart=function(e){t.fireEvents("onTouchStart",e),t.preTouchTime=Date.now()},t.onBlur=function(e){t.fireEvents("onBlur",e),t.clearDelayTimer(),t.isBlurToHide()&&t.delaySetPopupVisible(!1,t.props.blurDelay)},t.onContextMenu=function(e){e.preventDefault(),t.fireEvents("onContextMenu",e),t.setPopupVisible(!0,e)},t.onContextMenuClose=function(){t.isContextMenuToShow()&&t.close()},t.onClick=function(e){if(t.fireEvents("onClick",e),t.focusTime){var n;if(t.preClickTime&&t.preTouchTime?n=Math.min(t.preClickTime,t.preTouchTime):t.preClickTime?n=t.preClickTime:t.preTouchTime&&(n=t.preTouchTime),Math.abs(n-t.focusTime)<20)return;t.focusTime=0}t.preClickTime=0,t.preTouchTime=0,t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!t.state.popupVisible;(t.isClickToHide()&&!r||r&&t.isClickToShow())&&t.setPopupVisible(!t.state.popupVisible,e)},t.onPopupMouseDown=function(){var e;(t.hasPopupMouseDown=!0,clearTimeout(t.mouseDownTimeout),t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=!1}),0),t.context)&&(e=t.context).onPopupMouseDown.apply(e,arguments)},t.onDocumentClick=function(e){if(!t.props.mask||t.props.maskClosable){var n=e.target,r=t.getRootDomNode(),o=t.getPopupDomNode();_P(r,n)&&!t.isContextMenuOnly()||_P(o,n)||t.hasPopupMouseDown||t.close()}},t.getRootDomNode=function(){var e=t.props.getTriggerDOMNode;if(e)return e(t.triggerRef.current);try{var n=A_(t.triggerRef.current);if(n)return n}catch(r){}return y.findDOMNode((0,ET.Z)(t))},t.getPopupClassNameFromAlign=function(e){var n=[],r=t.props,o=r.popupPlacement,i=r.builtinPlacements,a=r.prefixCls,s=r.alignPoint,u=r.getPopupClassNameFromAlign;return o&&i&&n.push(function(e,t,n,r){for(var o=n.points,i=Object.keys(e),a=0;a<i.length;a+=1){var s=i[a];if(CP(e[s].points,o,r))return"".concat(t,"-placement-").concat(s)}return""}(i,a,e,s)),u&&n.push(u(e)),n.join(" ")},t.getComponent=function(){var e=t.props,n=e.prefixCls,r=e.destroyPopupOnHide,o=e.popupClassName,i=e.onPopupAlign,a=e.popupMotion,s=e.popupAnimation,u=e.popupTransitionName,c=e.popupStyle,l=e.mask,f=e.maskAnimation,d=e.maskTransitionName,h=e.maskMotion,p=e.zIndex,g=e.popup,v=e.stretch,y=e.alignPoint,b=e.mobile,x=e.forceRender,w=t.state,E=w.popupVisible,_=w.point,S=t.getPopupAlign(),k={};return t.isMouseEnterToShow()&&(k.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(k.onMouseLeave=t.onPopupMouseLeave),k.onMouseDown=t.onPopupMouseDown,k.onTouchStart=t.onPopupMouseDown,m.createElement(pI,vt({prefixCls:n,destroyPopupOnHide:r,visible:E,point:y&&_,className:o,align:S,onAlign:i,animation:s,getClassNameFromAlign:t.getPopupClassNameFromAlign},k,{stretch:v,getRootDomNode:t.getRootDomNode,style:c,mask:l,zIndex:p,transitionName:u,maskAnimation:f,maskTransitionName:d,maskMotion:h,ref:t.popupRef,motion:a,mobile:b,forceRender:x}),"function"===typeof g?g():g)},t.attachParent=function(e){fS.cancel(t.attachId);var n,r=t.props,o=r.getPopupContainer,i=r.getDocument,a=t.getRootDomNode();o?(a||0===o.length)&&(n=o(a)):n=i(t.getRootDomNode()).body,n?n.appendChild(e):t.attachId=fS((function(){t.attachParent(e)}))},t.getContainer=function(){var e=(0,t.props.getDocument)(t.getRootDomNode()).createElement("div");return e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",t.attachParent(e),e},t.setPoint=function(e){t.props.alignPoint&&e&&t.setState({point:{pageX:e.pageX,pageY:e.pageY}})},t.handlePortalUpdate=function(){t.state.prevPopupVisible!==t.state.popupVisible&&t.props.afterPopupVisibleChange(t.state.popupVisible)},t.triggerContextValue={onPopupMouseDown:t.onPopupMouseDown},o="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,t.state={prevPopupVisible:o,popupVisible:o},bI.forEach((function(e){t["fire".concat(e)]=function(n){t.fireEvents(e,n)}})),t}return(0,T_.Z)(r,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=SP(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=SP(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=SP(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=SP(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),fS.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){return Ee(Ee({},e[t]||{}),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,o=1e3*t;if(this.clearDelayTimer(),o){var i=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,i),r.clearDelayTimer()}),o)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var t=this.state.popupVisible,n=this.props,r=n.children,o=n.forceRender,i=n.alignPoint,a=n.className,s=n.autoDestroy,u=m.Children.only(r),c={key:"trigger"};this.isContextMenuToShow()?c.onContextMenu=this.onContextMenu:c.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(c.onClick=this.onClick,c.onMouseDown=this.onMouseDown,c.onTouchStart=this.onTouchStart):(c.onClick=this.createTwoChains("onClick"),c.onMouseDown=this.createTwoChains("onMouseDown"),c.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(c.onMouseEnter=this.onMouseEnter,i&&(c.onMouseMove=this.onMouseMove)):c.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?c.onMouseLeave=this.onMouseLeave:c.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(c.onFocus=this.onFocus,c.onBlur=this.onBlur):(c.onFocus=this.createTwoChains("onFocus"),c.onBlur=this.createTwoChains("onBlur"));var l=__()(u&&u.props&&u.props.className,a);l&&(c.className=l);var f=Ee({},c);R_(u)&&(f.ref=D_(this.triggerRef,u.ref));var d,h=m.cloneElement(u,f);return(t||this.popupRef.current||o)&&(d=m.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!t&&s&&(d=null),m.createElement(gI.Provider,{value:this.triggerContextValue},h,d)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),r}(m.Component);return t.contextType=gI,t.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:mI,getDocument:yI,onPopupVisibleChange:vI,afterPopupVisibleChange:vI,onPopupAlign:vI,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},t}(TP),wI={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};var EI=function(e){var t,n=e.prefixCls,r=e.popupElement,o=e.popupStyle,i=e.visible,a=e.dropdownClassName,s=e.dropdownAlign,u=e.transitionName,c=e.getPopupContainer,l=e.children,f=e.range,d=e.popupPlacement,h=e.direction,p="".concat(n,"-dropdown");return m.createElement(xI,{showAction:[],hideAction:[],popupPlacement:void 0!==d?d:"rtl"===h?"bottomRight":"bottomLeft",builtinPlacements:wI,prefixCls:p,popupTransitionName:u,popup:r,popupAlign:s,popupVisible:i,popupClassName:__()(a,(t={},(0,xe.Z)(t,"".concat(p,"-range"),f),(0,xe.Z)(t,"".concat(p,"-rtl"),"rtl"===h),t)),popupStyle:o,getPopupContainer:c},l)};function _I(e){var t=e.open,n=e.value,r=e.isClickOutside,o=e.triggerOpen,i=e.forwardKeyDown,a=e.onKeyDown,s=e.blurToCancel,u=e.onSubmit,c=e.onCancel,l=e.onFocus,f=e.onBlur,d=(0,m.useState)(!1),h=(0,gt.Z)(d,2),p=h[0],g=h[1],v=(0,m.useState)(!1),y=(0,gt.Z)(v,2),b=y[0],x=y[1],w=(0,m.useRef)(!1),E=(0,m.useRef)(!1),_=(0,m.useRef)(!1),S={onMouseDown:function(){g(!0),o(!0)},onKeyDown:function(e){if(a(e,(function(){_.current=!0})),!_.current){switch(e.which){case cA.ENTER:return t?!1!==u()&&g(!0):o(!0),void e.preventDefault();case cA.TAB:return void(p&&t&&!e.shiftKey?(g(!1),e.preventDefault()):!p&&t&&!i(e)&&e.shiftKey&&(g(!0),e.preventDefault()));case cA.ESC:return g(!0),void c()}t||[cA.SHIFT].includes(e.which)?p||i(e):o(!0)}},onFocus:function(e){g(!0),x(!0),l&&l(e)},onBlur:function(e){!w.current&&r(document.activeElement)?(s?setTimeout((function(){for(var e=document.activeElement;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;r(e)&&c()}),0):t&&(o(!1),E.current&&u()),x(!1),f&&f(e)):w.current=!1}};return(0,m.useEffect)((function(){E.current=!1}),[t]),(0,m.useEffect)((function(){E.current=!0}),[n]),(0,m.useEffect)((function(){return e=function(e){var n=function(e){var t,n=e.target;return e.composed&&n.shadowRoot&&(null===(t=e.composedPath)||void 0===t?void 0:t.call(e)[0])||n}(e);if(t){var i=r(n);i?b&&!i||o(!1):(w.current=!0,requestAnimationFrame((function(){w.current=!1})))}},!kA&&"undefined"!==typeof window&&window.addEventListener&&(kA=function(e){(0,OS.Z)(TA).forEach((function(t){t(e)}))},window.addEventListener("mousedown",kA)),TA.add(e),function(){TA.delete(e),0===TA.size&&(window.removeEventListener("mousedown",kA),kA=null)};var e})),[S,{focused:b,typing:p}]}function SI(e){var t=e.valueTexts,n=e.onTextChange,r=m.useState(""),o=(0,gt.Z)(r,2),i=o[0],a=o[1],s=m.useRef([]);function u(){a(s.current[0])}return s.current=t,m.useEffect((function(){t.every((function(e){return e!==i}))&&u()}),[t.join("||")]),[i,function(e){a(e),n(e)},u]}var kI=n(9613),TI=n.n(kI);function CI(e,t){var n=t.formatList,r=t.generateConfig,o=t.locale;return O_((function(){if(!e)return[[""],""];for(var t="",i=[],a=0;a<n.length;a+=1){var s=n[a],u=VA(e,{generateConfig:r,locale:o,format:s});i.push(u),0===a&&(t=u)}return[i,t]}),[e,n],(function(e,t){return e[0]!==t[0]||!TI()(e[1],t[1])}))}function MI(e,t){var n=t.formatList,r=t.generateConfig,o=t.locale,i=(0,m.useState)(null),a=(0,gt.Z)(i,2),s=a[0],u=a[1],c=(0,m.useRef)(null);function l(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];cancelAnimationFrame(c.current),t?u(e):c.current=requestAnimationFrame((function(){u(e)}))}var f=CI(s,{formatList:n,generateConfig:r,locale:o}),d=(0,gt.Z)(f,2)[1];function h(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l(null,e)}return(0,m.useEffect)((function(){h(!0)}),[e]),(0,m.useEffect)((function(){return function(){return cancelAnimationFrame(c.current)}}),[]),[d,function(e){l(e)},h]}function NI(e){var t,n=e.prefixCls,r=void 0===n?"rc-picker":n,o=e.id,i=e.tabIndex,a=e.style,s=e.className,u=e.dropdownClassName,c=e.dropdownAlign,l=e.popupStyle,f=e.transitionName,d=e.generateConfig,h=e.locale,p=e.inputReadOnly,g=e.allowClear,v=e.autoFocus,y=e.showTime,b=e.picker,x=void 0===b?"date":b,w=e.format,E=e.use12Hours,_=e.value,S=e.defaultValue,k=e.open,T=e.defaultOpen,C=e.defaultOpenValue,M=e.suffixIcon,N=e.clearIcon,A=e.disabled,P=e.disabledDate,O=e.placeholder,I=e.getPopupContainer,D=e.pickerRef,R=e.panelRender,L=e.onChange,j=e.onOpenChange,F=e.onFocus,B=e.onBlur,z=e.onMouseDown,G=e.onMouseUp,V=e.onMouseEnter,U=e.onMouseLeave,W=e.onContextMenu,Z=e.onClick,Y=e.onKeyDown,H=e.onSelect,X=e.direction,K=e.autoComplete,q=void 0===K?"off":K,$=e.inputRender,J=m.useRef(null),Q="date"===x&&!!y||"time"===x;var ee=XA(_A(w,x,y,E)),te=m.useRef(null),ne=m.useRef(null),re=m.useRef(null),oe=sA(null,{value:_,defaultValue:S}),ie=(0,gt.Z)(oe,2),ae=ie[0],se=ie[1],ue=m.useState(ae),ce=(0,gt.Z)(ue,2),le=ce[0],fe=ce[1],de=m.useRef(null),he=sA(!1,{value:k,defaultValue:T,postState:function(e){return!A&&e},onChange:function(e){j&&j(e),!e&&de.current&&de.current.onClose&&de.current.onClose()}}),pe=(0,gt.Z)(he,2),ge=pe[0],ve=pe[1],me=CI(le,{formatList:ee,generateConfig:d,locale:h}),ye=(0,gt.Z)(me,2),be=ye[0],we=ye[1],_e=SI({valueTexts:be,onTextChange:function(e){var t=UA(e,{locale:h,formatList:ee,generateConfig:d});!t||P&&P(t)||fe(t)}}),Se=(0,gt.Z)(_e,3),ke=Se[0],Te=Se[1],Ce=Se[2],Me=function(e){fe(e),se(e),L&&!BA(d,ae,e)&&L(e,e?VA(e,{generateConfig:d,locale:h,format:ee[0]}):"")},Ne=function(e){A&&e||ve(e)},Ae=_I({blurToCancel:Q,open:ge,value:ke,triggerOpen:Ne,forwardKeyDown:function(e){return ge&&de.current&&de.current.onKeyDown?de.current.onKeyDown(e):(Ek(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},isClickOutside:function(e){return!MA([te.current,ne.current,re.current],e)},onSubmit:function(){return!(!le||P&&P(le))&&(Me(le),Ne(!1),Ce(),!0)},onCancel:function(){Ne(!1),fe(ae),Ce()},onKeyDown:function(e,t){null===Y||void 0===Y||Y(e,t)},onFocus:F,onBlur:B}),Pe=(0,gt.Z)(Ae,2),Oe=Pe[0],Ie=Pe[1],De=Ie.focused,Re=Ie.typing;m.useEffect((function(){ge||(fe(ae),be.length&&""!==be[0]?we!==ke&&Ce():Te(""))}),[ge,be]),m.useEffect((function(){ge||Ce()}),[x]),m.useEffect((function(){fe(ae)}),[ae]),D&&(D.current={focus:function(){J.current&&J.current.focus()},blur:function(){J.current&&J.current.blur()}});var Le=MI(ke,{formatList:ee,generateConfig:d,locale:h}),je=(0,gt.Z)(Le,3),Fe=je[0],Be=je[1],ze=je[2],Ge=Ee(Ee({},e),{},{className:void 0,style:void 0,pickerValue:void 0,onPickerValueChange:void 0,onChange:null}),Ve=m.createElement(EP,vt({},Ge,{generateConfig:d,className:__()((0,xe.Z)({},"".concat(r,"-panel-focused"),!Re)),value:le,locale:h,tabIndex:-1,onSelect:function(e){null===H||void 0===H||H(e),fe(e)},direction:X,onPanelChange:function(t,n){var r=e.onPanelChange;ze(!0),null===r||void 0===r||r(t,n)}}));R&&(Ve=R(Ve));var Ue,We,Ze=m.createElement("div",{className:"".concat(r,"-panel-container"),onMouseDown:function(e){e.preventDefault()}},Ve);M&&(Ue=m.createElement("span",{className:"".concat(r,"-suffix")},M)),g&&ae&&!A&&(We=m.createElement("span",{onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},onMouseUp:function(e){e.preventDefault(),e.stopPropagation(),Me(null),Ne(!1)},className:"".concat(r,"-clear"),role:"button"},N||m.createElement("span",{className:"".concat(r,"-clear-btn")})));var Ye=Ee(Ee(Ee({id:o,tabIndex:i,disabled:A,readOnly:p||"function"===typeof ee[0]||!Re,value:Fe||ke,onChange:function(e){Te(e.target.value)},autoFocus:v,placeholder:O,ref:J,title:ke},Oe),{},{size:SA(x,ee[0],d)},KA(e)),{},{autoComplete:q}),He=$?$(Ye):m.createElement("input",Ye);var Xe="rtl"===X?"bottomRight":"bottomLeft";return m.createElement(lA.Provider,{value:{operationRef:de,hideHeader:"time"===x,panelRef:te,onSelect:function(e,t){("submit"===t||"key"!==t&&!Q)&&(Me(e),Ne(!1))},open:ge,defaultOpenValue:C,onDateMouseEnter:Be,onDateMouseLeave:ze}},m.createElement(EI,{visible:ge,popupElement:Ze,popupStyle:l,prefixCls:r,dropdownClassName:u,dropdownAlign:c,getPopupContainer:I,transitionName:f,popupPlacement:Xe,direction:X},m.createElement("div",{ref:re,className:__()(r,s,(t={},(0,xe.Z)(t,"".concat(r,"-disabled"),A),(0,xe.Z)(t,"".concat(r,"-focused"),De),(0,xe.Z)(t,"".concat(r,"-rtl"),"rtl"===X),t)),style:a,onMouseDown:z,onMouseUp:function(){G&&G.apply(void 0,arguments),J.current&&(J.current.focus(),Ne(!0))},onMouseEnter:V,onMouseLeave:U,onContextMenu:W,onClick:Z},m.createElement("div",{className:__()("".concat(r,"-input"),(0,xe.Z)({},"".concat(r,"-input-placeholder"),!!Fe)),ref:ne},He,Ue,We))))}var AI=function(e){(0,C_.Z)(n,e);var t=(0,M_.Z)(n);function n(){var e;(0,k_.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).pickerRef=m.createRef(),e.focus=function(){e.pickerRef.current&&e.pickerRef.current.focus()},e.blur=function(){e.pickerRef.current&&e.pickerRef.current.blur()},e}return(0,T_.Z)(n,[{key:"render",value:function(){return m.createElement(NI,vt({},this.props,{pickerRef:this.pickerRef}))}}]),n}(m.Component),PI=AI;function OI(e,t,n,r){var o=GA(e,n,r,1);function i(n){return n(e,t)?"same":n(o,t)?"closing":"far"}switch(n){case"year":return i((function(e,t){return function(e,t,n){var r=OA(t,n);return"boolean"===typeof r?r:Math.floor(e.getYear(t)/10)===Math.floor(e.getYear(n)/10)}(r,e,t)}));case"quarter":case"month":return i((function(e,t){return IA(r,e,t)}));default:return i((function(e,t){return LA(r,e,t)}))}}function II(e){var t=e.values,n=e.picker,r=e.defaultDates,o=e.generateConfig,i=m.useState((function(){return[qA(r,0),qA(r,1)]})),a=(0,gt.Z)(i,2),s=a[0],u=a[1],c=m.useState(null),l=(0,gt.Z)(c,2),f=l[0],d=l[1],h=qA(t,0),p=qA(t,1);return[function(e){return s[e]?s[e]:qA(f,e)||function(e,t,n,r){var o=qA(e,0),i=qA(e,1);if(0===t)return o;if(o&&i)switch(OI(o,i,n,r)){case"same":case"closing":return o;default:return GA(i,n,r,-1)}return o}(t,e,n,o)||h||p||o.getNow()},function(e,n){if(e){var r=$A(f,e,n);u($A(s,null,n)||[null,null]);var o=(n+1)%2;qA(t,o)||(r=$A(r,e,o)),d(r)}else(h||p)&&d(null)}]}function DI(e,t){return e&&e[0]&&e[1]&&t.isAfter(e[0],e[1])?[e[1],e[0]]:e}function RI(e,t,n,r){return!!e||(!(!r||!r[t])||!!n[(t+1)%2])}function LI(e){var t,n,r,o=e.prefixCls,i=void 0===o?"rc-picker":o,a=e.id,s=e.style,u=e.className,c=e.popupStyle,l=e.dropdownClassName,f=e.transitionName,d=e.dropdownAlign,h=e.getPopupContainer,p=e.generateConfig,g=e.locale,v=e.placeholder,y=e.autoFocus,b=e.disabled,x=e.format,w=e.picker,E=void 0===w?"date":w,_=e.showTime,S=e.use12Hours,k=e.separator,T=void 0===k?"~":k,C=e.value,M=e.defaultValue,N=e.defaultPickerValue,A=e.open,P=e.defaultOpen,O=e.disabledDate,I=e.disabledTime,D=e.dateRender,R=e.panelRender,L=e.ranges,j=e.allowEmpty,F=e.allowClear,B=e.suffixIcon,z=e.clearIcon,G=e.pickerRef,V=e.inputReadOnly,U=e.mode,W=e.renderExtraFooter,Z=e.onChange,Y=e.onOpenChange,H=e.onPanelChange,X=e.onCalendarChange,K=e.onFocus,q=e.onBlur,$=e.onMouseDown,J=e.onMouseUp,Q=e.onMouseEnter,ee=e.onMouseLeave,te=e.onClick,ne=e.onOk,re=e.onKeyDown,oe=e.components,ie=e.order,ae=e.direction,se=e.activePickerIndex,ue=e.autoComplete,ce=void 0===ue?"off":ue,le="date"===E&&!!_||"time"===E,fe=(0,m.useRef)({}),de=(0,m.useRef)(null),he=(0,m.useRef)(null),pe=(0,m.useRef)(null),ge=(0,m.useRef)(null),ve=(0,m.useRef)(null),me=(0,m.useRef)(null),ye=(0,m.useRef)(null),be=(0,m.useRef)(null);var we=XA(_A(x,E,_,S)),_e=sA(0,{value:se}),Se=(0,gt.Z)(_e,2),ke=Se[0],Te=Se[1],Ce=(0,m.useRef)(null),Me=m.useMemo((function(){return Array.isArray(b)?b:[b||!1,b||!1]}),[b]),Ne=sA(null,{value:C,defaultValue:M,postState:function(e){return"time"!==E||ie?DI(e,p):e}}),Ae=(0,gt.Z)(Ne,2),Pe=Ae[0],Oe=Ae[1],Ie=II({values:Pe,picker:E,defaultDates:N,generateConfig:p}),De=(0,gt.Z)(Ie,2),Re=De[0],Le=De[1],je=sA(Pe,{postState:function(e){var t=e;if(Me[0]&&Me[1])return t;for(var n=0;n<2;n+=1)!Me[n]||qA(t,n)||qA(j,n)||(t=$A(t,p.getNow(),n));return t}}),Fe=(0,gt.Z)(je,2),Be=Fe[0],ze=Fe[1],Ge=sA([E,E],{value:U}),Ve=(0,gt.Z)(Ge,2),Ue=Ve[0],We=Ve[1];(0,m.useEffect)((function(){We([E,E])}),[E]);var Ze=function(e,t){We(e),H&&H(t,e)},Ye=function(e,t,n){var r=e.picker,o=e.locale,i=e.selectedValue,a=e.disabledDate,s=e.disabled,u=e.generateConfig,c=qA(i,0),l=qA(i,1);function f(e){return u.locale.getWeekFirstDate(o.locale,e)}function d(e){return 100*u.getYear(e)+u.getMonth(e)}function h(e){return 10*u.getYear(e)+DA(u,e)}var p=m.useCallback((function(e){if(a&&a(e))return!0;if(s[1]&&l)return!jA(u,e,l)&&u.isAfter(e,l);if(t&&l)switch(r){case"quarter":return h(e)>h(l);case"month":return d(e)>d(l);case"week":return f(e)>f(l);default:return!jA(u,e,l)&&u.isAfter(e,l)}return!1}),[a,s[1],l,t]),g=m.useCallback((function(e){if(a&&a(e))return!0;if(s[0]&&c)return!jA(u,e,l)&&u.isAfter(c,e);if(n&&c)switch(r){case"quarter":return h(e)<h(c);case"month":return d(e)<d(c);case"week":return f(e)<f(c);default:return!jA(u,e,c)&&u.isAfter(c,e)}return!1}),[a,s[0],c,n]);return[p,g]}({picker:E,selectedValue:Be,locale:g,disabled:Me,disabledDate:O,generateConfig:p},fe.current[1],fe.current[0]),He=(0,gt.Z)(Ye,2),Xe=He[0],Ke=He[1],qe=sA(!1,{value:A,defaultValue:P,postState:function(e){return!Me[ke]&&e},onChange:function(e){Y&&Y(e),!e&&Ce.current&&Ce.current.onClose&&Ce.current.onClose()}}),$e=(0,gt.Z)(qe,2),Je=$e[0],Qe=$e[1],et=Je&&0===ke,tt=Je&&1===ke,nt=(0,m.useState)(0),rt=(0,gt.Z)(nt,2),ot=rt[0],it=rt[1];(0,m.useEffect)((function(){!Je&&de.current&&it(de.current.offsetWidth)}),[Je]);var at=m.useRef();function st(e,t){if(e)clearTimeout(at.current),fe.current[t]=!0,Te(t),Qe(e),Je||Le(null,t);else if(ke===t){Qe(e);var n=fe.current;at.current=setTimeout((function(){n===fe.current&&(fe.current={})}))}}function ut(e){st(!0,e),setTimeout((function(){var t=[me,ye][e];t.current&&t.current.focus()}),0)}function ct(e,t){var n=e,r=qA(n,0),o=qA(n,1);r&&o&&p.isAfter(r,o)&&("week"===E&&!FA(p,g.locale,r,o)||"quarter"===E&&!RA(p,r,o)||"week"!==E&&"quarter"!==E&&"time"!==E&&!jA(p,r,o)?(0===t?(n=[r,null],o=null):(r=null,n=[null,o]),fe.current=(0,xe.Z)({},t,!0)):"time"===E&&!1===ie||(n=DI(n,p))),ze(n);var i=n&&n[0]?VA(n[0],{generateConfig:p,locale:g,format:we[0]}):"",a=n&&n[1]?VA(n[1],{generateConfig:p,locale:g,format:we[0]}):"";X&&X(n,[i,a],{range:0===t?"start":"end"});var s=RI(r,0,Me,j),u=RI(o,1,Me,j);(null===n||s&&u)&&(Oe(n),!Z||BA(p,qA(Pe,0),r)&&BA(p,qA(Pe,1),o)||Z(n,[i,a]));var c=null;0!==t||Me[1]?1!==t||Me[0]||(c=0):c=1,null===c||c===ke||fe.current[c]&&qA(n,c)||!qA(n,t)?st(!1,t):ut(c)}var lt=function(e){return Je&&Ce.current&&Ce.current.onKeyDown?Ce.current.onKeyDown(e):(Ek(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},ft={formatList:we,generateConfig:p,locale:g},dt=CI(qA(Be,0),ft),ht=(0,gt.Z)(dt,2),pt=ht[0],mt=ht[1],yt=CI(qA(Be,1),ft),bt=(0,gt.Z)(yt,2),xt=bt[0],wt=bt[1],Et=function(e,t){var n=UA(e,{locale:g,formatList:we,generateConfig:p});n&&!(0===t?Xe:Ke)(n)&&(ze($A(Be,n,t)),Le(n,t))},_t=SI({valueTexts:pt,onTextChange:function(e){return Et(e,0)}}),St=(0,gt.Z)(_t,3),kt=St[0],Tt=St[1],Ct=St[2],Mt=SI({valueTexts:xt,onTextChange:function(e){return Et(e,1)}}),Nt=(0,gt.Z)(Mt,3),At=Nt[0],Pt=Nt[1],Ot=Nt[2],It=(0,m.useState)(null),Dt=(0,gt.Z)(It,2),Rt=Dt[0],Lt=Dt[1],jt=(0,m.useState)(null),Ft=(0,gt.Z)(jt,2),Bt=Ft[0],zt=Ft[1],Gt=MI(kt,{formatList:we,generateConfig:p,locale:g}),Vt=(0,gt.Z)(Gt,3),Ut=Vt[0],Wt=Vt[1],Zt=Vt[2],Yt=MI(At,{formatList:we,generateConfig:p,locale:g}),Ht=(0,gt.Z)(Yt,3),Xt=Ht[0],Kt=Ht[1],qt=Ht[2],$t=function(e,t){return{blurToCancel:le,forwardKeyDown:lt,onBlur:q,isClickOutside:function(e){return!MA([he.current,pe.current,ge.current,de.current],e)},onFocus:function(t){Te(e),K&&K(t)},triggerOpen:function(t){st(t,e)},onSubmit:function(){if(!Be||O&&O(Be[e]))return!1;ct(Be,e),t()},onCancel:function(){st(!1,e),ze(Pe),t()}}},Jt=_I(Ee(Ee({},$t(0,Ct)),{},{open:et,value:kt,onKeyDown:function(e,t){null===re||void 0===re||re(e,t)}})),Qt=(0,gt.Z)(Jt,2),en=Qt[0],tn=Qt[1],nn=tn.focused,rn=tn.typing,on=_I(Ee(Ee({},$t(1,Ot)),{},{open:tt,value:At,onKeyDown:function(e,t){null===re||void 0===re||re(e,t)}})),an=(0,gt.Z)(on,2),sn=an[0],un=an[1],cn=un.focused,ln=un.typing,fn=Pe&&Pe[0]?VA(Pe[0],{locale:g,format:"YYYYMMDDHHmmss",generateConfig:p}):"",dn=Pe&&Pe[1]?VA(Pe[1],{locale:g,format:"YYYYMMDDHHmmss",generateConfig:p}):"";(0,m.useEffect)((function(){Je||(ze(Pe),pt.length&&""!==pt[0]?mt!==kt&&Ct():Tt(""),xt.length&&""!==xt[0]?wt!==At&&Ot():Pt(""))}),[Je,pt,xt]),(0,m.useEffect)((function(){ze(Pe)}),[fn,dn]),G&&(G.current={focus:function(){me.current&&me.current.focus()},blur:function(){me.current&&me.current.blur(),ye.current&&ye.current.blur()}});var hn=Object.keys(L||{}).map((function(e){var t=L[e],n="function"===typeof t?t():t;return{label:e,onClick:function(){ct(n,null),st(!1,ke)},onMouseEnter:function(){Lt(n)},onMouseLeave:function(){Lt(null)}}}));function pn(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null;Je&&Bt&&Bt[0]&&Bt[1]&&p.isAfter(Bt[1],Bt[0])&&(r=Bt);var o=_;if(_&&"object"===(0,N_.Z)(_)&&_.defaultValue){var a=_.defaultValue;o=Ee(Ee({},_),{},{defaultValue:qA(a,ke)||void 0})}var s=null;return D&&(s=function(e,t){return D(e,t,{range:ke?"end":"start"})}),m.createElement(nP.Provider,{value:{inRange:!0,panelPosition:t,rangedValue:Rt||Be,hoverRangedValue:r}},m.createElement(EP,vt({},e,n,{dateRender:s,showTime:o,mode:Ue[ke],generateConfig:p,style:void 0,direction:ae,disabledDate:0===ke?Xe:Ke,disabledTime:function(e){return!!I&&I(e,0===ke?"start":"end")},className:__()((0,xe.Z)({},"".concat(i,"-panel-focused"),0===ke?!rn:!ln)),value:qA(Be,ke),locale:g,tabIndex:-1,onPanelChange:function(e,n){0===ke&&Zt(!0),1===ke&&qt(!0),Ze($A(Ue,n,ke),$A(Be,e,ke));var r=e;"right"===t&&Ue[ke]===n&&(r=GA(r,n,p,-1)),Le(r,ke)},onOk:null,onSelect:void 0,onChange:void 0,defaultValue:qA(Be,0===ke?1:0)})))}var gn=0,vn=0;ke&&pe.current&&ve.current&&he.current&&(gn=pe.current.offsetWidth+ve.current.offsetWidth,he.current.offsetWidth&&be.current.offsetWidth&&gn>he.current.offsetWidth-be.current.offsetWidth-("rtl"===ae?0:be.current.offsetLeft)&&(vn=gn));var mn="rtl"===ae?{right:gn}:{left:gn};var yn,bn,xn=m.createElement("div",{className:__()("".concat(i,"-range-wrapper"),"".concat(i,"-").concat(E,"-range-wrapper")),style:{minWidth:ot}},m.createElement("div",{ref:be,className:"".concat(i,"-range-arrow"),style:mn}),function(){var e,t=xP(i,Ue[ke],W),n=wP({prefixCls:i,components:oe,needConfirmButton:le,okDisabled:!qA(Be,ke)||O&&O(Be[ke]),locale:g,rangeList:hn,onOk:function(){qA(Be,ke)&&(ct(Be,ke),ne&&ne(Be))}});if("time"===E||_)e=pn();else{var r=Re(ke),o=GA(r,E,p),a=Ue[ke]===E,s=pn(!!a&&"left",{pickerValue:r,onPickerValueChange:function(e){Le(e,ke)}}),u=pn("right",{pickerValue:o,onPickerValueChange:function(e){Le(GA(e,E,p,-1),ke)}});e="rtl"===ae?m.createElement(m.Fragment,null,u,a&&s):m.createElement(m.Fragment,null,s,a&&u)}var c=m.createElement(m.Fragment,null,m.createElement("div",{className:"".concat(i,"-panels")},e),(t||n)&&m.createElement("div",{className:"".concat(i,"-footer")},t,n));return R&&(c=R(c)),m.createElement("div",{className:"".concat(i,"-panel-container"),style:{marginLeft:vn},ref:he,onMouseDown:function(e){e.preventDefault()}},c)}());B&&(yn=m.createElement("span",{className:"".concat(i,"-suffix")},B)),F&&(qA(Pe,0)&&!Me[0]||qA(Pe,1)&&!Me[1])&&(bn=m.createElement("span",{onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},onMouseUp:function(e){e.preventDefault(),e.stopPropagation();var t=Pe;Me[0]||(t=$A(t,null,0)),Me[1]||(t=$A(t,null,1)),ct(t,null),st(!1,ke)},className:"".concat(i,"-clear")},z||m.createElement("span",{className:"".concat(i,"-clear-btn")})));var wn={size:SA(E,we[0],p)},En=0,_n=0;pe.current&&ge.current&&ve.current&&(0===ke?_n=pe.current.offsetWidth:(En=gn,_n=ge.current.offsetWidth));var Sn="rtl"===ae?{right:En}:{left:En};return m.createElement(lA.Provider,{value:{operationRef:Ce,hideHeader:"time"===E,onDateMouseEnter:function(e){zt($A(Be,e,ke)),0===ke?Wt(e):Kt(e)},onDateMouseLeave:function(){zt($A(Be,null,ke)),0===ke?Zt():qt()},hideRanges:!0,onSelect:function(e,t){var n=$A(Be,e,ke);"submit"===t||"key"!==t&&!le?(ct(n,ke),0===ke?Zt():qt()):ze(n)},open:Je}},m.createElement(EI,{visible:Je,popupElement:xn,popupStyle:c,prefixCls:i,dropdownClassName:l,dropdownAlign:d,getPopupContainer:h,transitionName:f,range:!0,direction:ae},m.createElement("div",vt({ref:de,className:__()(i,"".concat(i,"-range"),u,(t={},(0,xe.Z)(t,"".concat(i,"-disabled"),Me[0]&&Me[1]),(0,xe.Z)(t,"".concat(i,"-focused"),0===ke?nn:cn),(0,xe.Z)(t,"".concat(i,"-rtl"),"rtl"===ae),t)),style:s,onClick:function(e){te&&te(e),Je||me.current.contains(e.target)||ye.current.contains(e.target)||(Me[0]?Me[1]||ut(1):ut(0))},onMouseEnter:Q,onMouseLeave:ee,onMouseDown:function(e){$&&$(e),!Je||!nn&&!cn||me.current.contains(e.target)||ye.current.contains(e.target)||e.preventDefault()},onMouseUp:J},KA(e)),m.createElement("div",{className:__()("".concat(i,"-input"),(n={},(0,xe.Z)(n,"".concat(i,"-input-active"),0===ke),(0,xe.Z)(n,"".concat(i,"-input-placeholder"),!!Ut),n)),ref:pe},m.createElement("input",vt({id:a,disabled:Me[0],readOnly:V||"function"===typeof we[0]||!rn,value:Ut||kt,onChange:function(e){Tt(e.target.value)},autoFocus:y,placeholder:qA(v,0)||"",ref:me},en,wn,{autoComplete:ce}))),m.createElement("div",{className:"".concat(i,"-range-separator"),ref:ve},T),m.createElement("div",{className:__()("".concat(i,"-input"),(r={},(0,xe.Z)(r,"".concat(i,"-input-active"),1===ke),(0,xe.Z)(r,"".concat(i,"-input-placeholder"),!!Xt),r)),ref:ge},m.createElement("input",vt({disabled:Me[1],readOnly:V||"function"===typeof we[0]||!ln,value:Xt||At,onChange:function(e){Pt(e.target.value)},placeholder:qA(v,1)||"",ref:ye},sn,wn,{autoComplete:ce}))),m.createElement("div",{className:"".concat(i,"-active-bar"),style:Ee(Ee({},Sn),{},{width:_n,position:"absolute"})}),yn,bn)))}var jI=function(e){(0,C_.Z)(n,e);var t=(0,M_.Z)(n);function n(){var e;(0,k_.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).pickerRef=m.createRef(),e.focus=function(){e.pickerRef.current&&e.pickerRef.current.focus()},e.blur=function(){e.pickerRef.current&&e.pickerRef.current.blur()},e}return(0,T_.Z)(n,[{key:"render",value:function(){return m.createElement(LI,vt({},this.props,{pickerRef:this.pickerRef}))}}]),n}(m.Component),FI=jI,BI=PI;function zI(e,t,n){return void 0!==n?n:"year"===e&&t.lang.yearPlaceholder?t.lang.yearPlaceholder:"quarter"===e&&t.lang.quarterPlaceholder?t.lang.quarterPlaceholder:"month"===e&&t.lang.monthPlaceholder?t.lang.monthPlaceholder:"week"===e&&t.lang.weekPlaceholder?t.lang.weekPlaceholder:"time"===e&&t.timePickerLocale.placeholder?t.timePickerLocale.placeholder:t.lang.placeholder}function GI(e,t,n){return void 0!==n?n:"year"===e&&t.lang.yearPlaceholder?t.lang.rangeYearPlaceholder:"quarter"===e&&t.lang.quarterPlaceholder?t.lang.rangeQuarterPlaceholder:"month"===e&&t.lang.monthPlaceholder?t.lang.rangeMonthPlaceholder:"week"===e&&t.lang.weekPlaceholder?t.lang.rangeWeekPlaceholder:"time"===e&&t.timePickerLocale.placeholder?t.timePickerLocale.rangePlaceholder:t.lang.rangePlaceholder}function VI(e,t){var n={adjustX:1,adjustY:1};switch(t){case"bottomLeft":return{points:["tl","bl"],offset:[0,4],overflow:n};case"bottomRight":return{points:["tr","br"],offset:[0,4],overflow:n};case"topLeft":return{points:["bl","tl"],offset:[0,-4],overflow:n};case"topRight":return{points:["br","tr"],offset:[0,-4],overflow:n};default:return"rtl"===e?{points:["tr","br"],offset:[0,4],overflow:n}:{points:["tl","bl"],offset:[0,4],overflow:n}}}var UI=m.createContext({}),WI=function(e){var t=e.children,n=(0,m.useMemo)((function(){return{}}),[]);return m.createElement(UI.Provider,{value:n},t)},ZI=(IN("warning","error",""),{success:eT,warning:Xk,error:$k,validating:Zk}),YI=function(e,t){var n=t&&ZI[t];return n?m.createElement("span",{className:"".concat(e,"-feedback-icon")},m.createElement(n,null)):null};function HI(e,t,n){var r;return __()((r={},(0,xe.Z)(r,"".concat(e,"-status-success"),"success"===t),(0,xe.Z)(r,"".concat(e,"-status-warning"),"warning"===t),(0,xe.Z)(r,"".concat(e,"-status-error"),"error"===t),(0,xe.Z)(r,"".concat(e,"-status-validating"),"validating"===t),(0,xe.Z)(r,"".concat(e,"-has-feedback"),n),r))}var XI=function(e,t){return t||e},KI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var qI={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"},$I=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:qI}))};$I.displayName="SwapRightOutlined";var JI=m.forwardRef($I),QI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var eD={button:function(e){return m.createElement(WN,vt({size:"small",type:"primary"},e))},rangeItem:function(e){return m.createElement(eA,vt({color:"blue"},e))}};function tD(e){var t,n=e.format,r=e.picker,o=e.showHour,i=e.showMinute,a=e.showSecond,s=e.use12Hours,u=(t=n,t?Array.isArray(t)?t:[t]:[])[0],c=vt({},e);return u&&"string"===typeof u&&(u.includes("s")||void 0!==a||(c.showSecond=!1),u.includes("m")||void 0!==i||(c.showMinute=!1),u.includes("H")||u.includes("h")||void 0!==o||(c.showHour=!1),(u.includes("a")||u.includes("A"))&&void 0===s&&(c.use12Hours=!0)),"time"===r?c:("function"===typeof u&&delete c.format,{showTime:c})}IN("bottomLeft","bottomRight","topLeft","topRight");var nD=function(e){var t=function(e){function t(t,n){var r=function(r){(0,C_.Z)(i,r);var o=(0,M_.Z)(i);function i(r){var a;return(0,k_.Z)(this,i),(a=o.call(this,r)).pickerRef=m.createRef(),a.focus=function(){a.pickerRef.current&&a.pickerRef.current.focus()},a.blur=function(){a.pickerRef.current&&a.pickerRef.current.blur()},a.renderFeedback=function(e){return m.createElement(UI.Consumer,null,(function(t){var n=t.hasFeedback,r=t.status,o=a.props.status,i=XI(r,o);return n&&YI(e,i)}))},a.renderSuffix=function(e,t){return m.createElement(m.Fragment,null,"time"===t?m.createElement(aA,null):m.createElement(rA,null),a.renderFeedback(e))},a.renderPicker=function(n){var r=vt(vt({},n),a.props.locale),o=a.context,i=o.getPrefixCls,s=o.direction,u=o.getPopupContainer,c=a.props,l=c.prefixCls,f=c.getPopupContainer,d=c.className,h=c.size,p=c.bordered,g=void 0===p||p,v=c.placement,y=c.placeholder,b=c.status,x=KI(c,["prefixCls","getPopupContainer","className","size","bordered","placement","placeholder","status"]),w=a.props,E=w.format,_=w.showTime,S=i("picker",l),k={showToday:!0},T={};t&&(T.picker=t);var C=t||a.props.picker;T=vt(vt(vt({},T),_?tD(vt({format:E,picker:C},_)):{}),"time"===C?tD(vt(vt({format:E},a.props),{picker:C})):{});var M=i();return m.createElement(aM.Consumer,null,(function(t){var n=h||t;return m.createElement(UI.Consumer,null,(function(t){var o,i=t.hasFeedback,c=t.status;return m.createElement(BI,vt({ref:a.pickerRef,placeholder:zI(C,r,y),suffixIcon:a.renderSuffix(S,C),dropdownAlign:VI(s,v),clearIcon:m.createElement($k,null),prevIcon:m.createElement("span",{className:"".concat(S,"-prev-icon")}),nextIcon:m.createElement("span",{className:"".concat(S,"-next-icon")}),superPrevIcon:m.createElement("span",{className:"".concat(S,"-super-prev-icon")}),superNextIcon:m.createElement("span",{className:"".concat(S,"-super-next-icon")}),allowClear:!0,transitionName:"".concat(M,"-slide-up")},k,x,T,{locale:r.lang,className:__()((o={},(0,xe.Z)(o,"".concat(S,"-").concat(n),n),(0,xe.Z)(o,"".concat(S,"-borderless"),!g),o),HI(S,XI(c,b),i),d),prefixCls:S,getPopupContainer:f||u,generateConfig:e,components:eD,direction:s}))}))}))},QC("quarter"!==t,n,"DatePicker.".concat(n," is legacy usage. Please use DatePicker[picker='").concat(t,"'] directly.")),a}return(0,T_.Z)(i,[{key:"render",value:function(){return m.createElement(fT,{componentName:"DatePicker",defaultLocale:aT},this.renderPicker)}}]),i}(m.Component);return r.contextType=xT,n&&(r.displayName=n),r}return{DatePicker:t(),WeekPicker:t("week","WeekPicker"),MonthPicker:t("month","MonthPicker"),YearPicker:t("year","YearPicker"),TimePicker:t("time","TimePicker"),QuarterPicker:t("quarter","QuarterPicker")}}(e),n=t.DatePicker,r=t.WeekPicker,o=t.MonthPicker,i=t.YearPicker,a=t.TimePicker,s=t.QuarterPicker,u=function(e){var t=function(t){(0,C_.Z)(r,t);var n=(0,M_.Z)(r);function r(){var t;return(0,k_.Z)(this,r),(t=n.apply(this,arguments)).pickerRef=m.createRef(),t.focus=function(){t.pickerRef.current&&t.pickerRef.current.focus()},t.blur=function(){t.pickerRef.current&&t.pickerRef.current.blur()},t.renderPicker=function(n){var r=vt(vt({},n),t.props.locale),o=t.context,i=o.getPrefixCls,a=o.direction,s=o.getPopupContainer,u=t.props,c=u.prefixCls,l=u.getPopupContainer,f=u.className,d=u.placement,h=u.size,p=u.bordered,g=void 0===p||p,v=u.placeholder,y=QI(u,["prefixCls","getPopupContainer","className","placement","size","bordered","placeholder"]),b=t.props,x=b.format,w=b.showTime,E=b.picker,_=i("picker",c),S={};S=vt(vt(vt({},S),w?tD(vt({format:x,picker:E},w)):{}),"time"===E?tD(vt(vt({format:x},t.props),{picker:E})):{});var k=i();return m.createElement(aM.Consumer,null,(function(n){var o,i=h||n;return m.createElement(FI,vt({separator:m.createElement("span",{"aria-label":"to",className:"".concat(_,"-separator")},m.createElement(JI,null)),ref:t.pickerRef,dropdownAlign:VI(a,d),placeholder:GI(E,r,v),suffixIcon:"time"===E?m.createElement(aA,null):m.createElement(rA,null),clearIcon:m.createElement($k,null),prevIcon:m.createElement("span",{className:"".concat(_,"-prev-icon")}),nextIcon:m.createElement("span",{className:"".concat(_,"-next-icon")}),superPrevIcon:m.createElement("span",{className:"".concat(_,"-super-prev-icon")}),superNextIcon:m.createElement("span",{className:"".concat(_,"-super-next-icon")}),allowClear:!0,transitionName:"".concat(k,"-slide-up")},y,S,{className:__()((o={},(0,xe.Z)(o,"".concat(_,"-").concat(i),i),(0,xe.Z)(o,"".concat(_,"-borderless"),!g),o),f),locale:r.lang,prefixCls:_,getPopupContainer:l||s,generateConfig:e,components:eD,direction:a}))}))},t}return(0,T_.Z)(r,[{key:"render",value:function(){return m.createElement(fT,{componentName:"DatePicker",defaultLocale:aT},this.renderPicker)}}]),r}(m.Component);return t.contextType=xT,t}(e),c=n;return c.WeekPicker=r,c.MonthPicker=o,c.YearPicker=i,c.RangePicker=u,c.TimePicker=a,c.QuarterPicker=s,c},rD=nD(bN);function oD(e){return!(!e.addonBefore&&!e.addonAfter)}function iD(e){return!!(e.prefix||e.suffix||e.allowClear)}function aD(e,t,n,r){if(n){var o=t;if("click"===t.type){var i=e.cloneNode(!0);return o=Object.create(t,{target:{value:i},currentTarget:{value:i}}),i.value="",void n(o)}if(void 0!==r)return o=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(o);n(o)}}function sD(e){return"undefined"===typeof e||null===e?"":String(e)}var uD=function(e){var t=e.inputElement,n=e.prefixCls,r=e.prefix,o=e.suffix,i=e.addonBefore,a=e.addonAfter,s=e.className,u=e.style,c=e.affixWrapperClassName,l=e.groupClassName,f=e.wrapperClassName,d=e.disabled,h=e.readOnly,p=e.focused,g=e.triggerFocus,v=e.allowClear,y=e.value,b=e.handleReset,x=e.hidden,w=(0,m.useRef)(null),E=(0,m.cloneElement)(t,{value:y,hidden:x});if(iD(e)){var _,S="".concat(n,"-affix-wrapper"),k=__()(S,(_={},(0,xe.Z)(_,"".concat(S,"-disabled"),d),(0,xe.Z)(_,"".concat(S,"-focused"),p),(0,xe.Z)(_,"".concat(S,"-readonly"),h),(0,xe.Z)(_,"".concat(S,"-input-with-clear-btn"),o&&v&&y),_),!oD(e)&&s,c),T=(o||v)&&m.createElement("span",{className:"".concat(n,"-suffix")},function(){var e;if(!v)return null;var t=!d&&!h&&y,r="".concat(n,"-clear-icon"),i="object"===(0,N_.Z)(v)&&(null===v||void 0===v?void 0:v.clearIcon)?v.clearIcon:"\u2716";return m.createElement("span",{onClick:b,onMouseDown:function(e){return e.preventDefault()},className:__()(r,(e={},(0,xe.Z)(e,"".concat(r,"-hidden"),!t),(0,xe.Z)(e,"".concat(r,"-has-suffix"),!!o),e)),role:"button",tabIndex:-1},i)}(),o);E=m.createElement("span",{className:k,style:u,hidden:!oD(e)&&x,onMouseUp:function(e){var t;(null===(t=w.current)||void 0===t?void 0:t.contains(e.target))&&(null===g||void 0===g||g())},ref:w},r&&m.createElement("span",{className:"".concat(n,"-prefix")},r),(0,m.cloneElement)(t,{style:null,value:y,hidden:null}),T)}if(oD(e)){var C="".concat(n,"-group"),M="".concat(C,"-addon"),N=__()("".concat(n,"-wrapper"),C,f),A=__()("".concat(n,"-group-wrapper"),s,l);return m.createElement("span",{className:A,style:u,hidden:x},m.createElement("span",{className:N},i&&m.createElement("span",{className:M},i),(0,m.cloneElement)(E,{style:null,hidden:null}),a&&m.createElement("span",{className:M},a)))}return E},cD=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName"],lD=(0,m.forwardRef)((function(e,t){var n=e.autoComplete,r=e.onChange,o=e.onFocus,i=e.onBlur,a=e.onPressEnter,s=e.onKeyDown,u=e.prefixCls,c=void 0===u?"rc-input":u,l=e.disabled,f=e.htmlSize,d=e.className,h=e.maxLength,p=e.suffix,g=e.showCount,v=e.type,y=void 0===v?"text":v,b=e.inputClassName,x=S_(e,cD),w=sA(e.defaultValue,{value:e.value}),E=(0,gt.Z)(w,2),_=E[0],S=E[1],k=(0,m.useState)(!1),T=(0,gt.Z)(k,2),C=T[0],M=T[1],N=(0,m.useRef)(null),A=function(e){N.current&&function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(N.current,e)};(0,m.useImperativeHandle)(t,(function(){return{focus:A,blur:function(){var e;null===(e=N.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var r;null===(r=N.current)||void 0===r||r.setSelectionRange(e,t,n)},select:function(){var e;null===(e=N.current)||void 0===e||e.select()},input:N.current}})),(0,m.useEffect)((function(){M((function(e){return(!e||!l)&&e}))}),[l]);var P=function(e){S(e.target.value),N.current&&aD(N.current,e,r)},O=function(e){a&&"Enter"===e.key&&a(e),null===s||void 0===s||s(e)},I=function(e){M(!0),null===o||void 0===o||o(e)},D=function(e){M(!1),null===i||void 0===i||i(e)};return m.createElement(uD,Ee(Ee({},x),{},{prefixCls:c,className:d,inputElement:function(){var t=xN(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","htmlSize"]);return m.createElement("input",Ee(Ee({autoComplete:n},t),{},{onChange:P,onFocus:I,onBlur:D,onKeyDown:O,className:__()(c,(0,xe.Z)({},"".concat(c,"-disabled"),l),b,!oD(e)&&!iD(e)&&d),ref:N,size:f,type:y}))}(),handleReset:function(e){S(""),A(),N.current&&aD(N.current,e,r)},value:sD(_),focused:C,triggerFocus:A,suffix:function(){var e=Number(h)>0;if(p||g){var t=(0,OS.Z)(sD(_)).length,n="object"===(0,N_.Z)(g)?g.formatter({count:t,maxLength:h}):"".concat(t).concat(e?" / ".concat(h):"");return m.createElement(m.Fragment,null,!!g&&m.createElement("span",{className:__()("".concat(c,"-show-count-suffix"),(0,xe.Z)({},"".concat(c,"-show-count-has-suffix"),!!p))},n),p)}return null}(),disabled:l}))})),fD=lD;function dD(e){return!!(e.prefix||e.suffix||e.allowClear)}var hD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function pD(e,t,n,r){if(n){var o=t;if("click"===t.type){var i=e.cloneNode(!0);return o=Object.create(t,{target:{value:i},currentTarget:{value:i}}),i.value="",void n(o)}if(void 0!==r)return o=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(o);n(o)}}var gD=(0,m.forwardRef)((function(e,t){var n,r,o,i=e.prefixCls,a=e.bordered,s=void 0===a||a,u=e.status,c=e.size,l=e.onBlur,f=e.onFocus,d=e.suffix,h=e.allowClear,p=e.addonAfter,g=e.addonBefore,v=hD(e,["prefixCls","bordered","status","size","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore"]),y=m.useContext(xT),b=y.getPrefixCls,x=y.direction,w=y.input,E=b("input",i),_=(0,m.useRef)(null),S=m.useContext(aM),k=c||S,T=(0,m.useContext)(UI),C=T.status,M=T.hasFeedback,N=XI(C,u),A=dD(e),P=(0,m.useRef)(A);(0,m.useEffect)((function(){var e;A&&!P.current&&QC(document.activeElement===(null===(e=_.current)||void 0===e?void 0:e.input),"Input","When Input is focused, dynamic add or remove prefix / suffix will make it lose focus caused by dom structure change. Read more: https://ant.design/components/input/#FAQ"),P.current=A}),[A]);var O=(0,m.useRef)([]),I=function(){O.current.push(window.setTimeout((function(){var e,t,n,r;(null===(e=_.current)||void 0===e?void 0:e.input)&&"password"===(null===(t=_.current)||void 0===t?void 0:t.input.getAttribute("type"))&&(null===(n=_.current)||void 0===n?void 0:n.input.hasAttribute("value"))&&(null===(r=_.current)||void 0===r||r.input.removeAttribute("value"))})))};(0,m.useEffect)((function(){return I(),function(){return O.current.forEach((function(e){return window.clearTimeout(e)}))}}),[]);var D,R=(M||d)&&m.createElement(m.Fragment,null,d,M&&YI(E,N)),L=dD(e)||M;return"object"===(0,N_.Z)(h)&&(null===h||void 0===h?void 0:h.clearIcon)?D=h:h&&(D={clearIcon:m.createElement($k,null)}),m.createElement(fD,vt({ref:D_(t,_),prefixCls:E,autoComplete:null===w||void 0===w?void 0:w.autoComplete},v,{onBlur:function(e){I(),null===l||void 0===l||l(e)},onFocus:function(e){I(),null===f||void 0===f||f(e)},suffix:R,allowClear:D,addonAfter:p&&m.createElement(WI,null,p),addonBefore:g&&m.createElement(WI,null,g),inputClassName:__()(!L&&(n={},(0,xe.Z)(n,"".concat(E,"-sm"),"small"===k),(0,xe.Z)(n,"".concat(E,"-lg"),"large"===k),(0,xe.Z)(n,"".concat(E,"-rtl"),"rtl"===x),(0,xe.Z)(n,"".concat(E,"-borderless"),!s),n),!L&&HI(E,N)),affixWrapperClassName:__()((r={},(0,xe.Z)(r,"".concat(E,"-affix-wrapper-sm"),"small"===k),(0,xe.Z)(r,"".concat(E,"-affix-wrapper-lg"),"large"===k),(0,xe.Z)(r,"".concat(E,"-affix-wrapper-rtl"),"rtl"===x),(0,xe.Z)(r,"".concat(E,"-affix-wrapper-borderless"),!s),r),HI("".concat(E,"-affix-wrapper"),N,M)),wrapperClassName:__()((0,xe.Z)({},"".concat(E,"-group-rtl"),"rtl"===x)),groupClassName:__()((o={},(0,xe.Z)(o,"".concat(E,"-group-wrapper-sm"),"small"===k),(0,xe.Z)(o,"".concat(E,"-group-wrapper-lg"),"large"===k),(0,xe.Z)(o,"".concat(E,"-group-wrapper-rtl"),"rtl"===x),o),HI("".concat(E,"-group-wrapper"),N,M))}))})),vD=gD,mD=function(e){var t,n=(0,m.useContext)(xT),r=n.getPrefixCls,o=n.direction,i=e.prefixCls,a=e.className,s=void 0===a?"":a,u=r("input-group",i),c=__()(u,(t={},(0,xe.Z)(t,"".concat(u,"-lg"),"large"===e.size),(0,xe.Z)(t,"".concat(u,"-sm"),"small"===e.size),(0,xe.Z)(t,"".concat(u,"-compact"),e.compact),(0,xe.Z)(t,"".concat(u,"-rtl"),"rtl"===o),t),s);return m.createElement("span",{className:c,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},e.children)},yD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},bD=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:yD}))};bD.displayName="SearchOutlined";var xD=m.forwardRef(bD),wD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},ED=m.forwardRef((function(e,t){var n,r,o=e.prefixCls,i=e.inputPrefixCls,a=e.className,s=e.size,u=e.suffix,c=e.enterButton,l=void 0!==c&&c,f=e.addonAfter,d=e.loading,h=e.disabled,p=e.onSearch,g=e.onChange,v=wD(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange"]),y=m.useContext(xT),b=y.getPrefixCls,x=y.direction,w=m.useContext(aM),E=s||w,_=m.useRef(null),S=function(e){var t;document.activeElement===(null===(t=_.current)||void 0===t?void 0:t.input)&&e.preventDefault()},k=function(e){var t,n;p&&p(null===(n=null===(t=_.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e)},T=b("input-search",o),C=b("input",i),M="boolean"===typeof l?m.createElement(xD,null):null,N="".concat(T,"-button"),A=l||{},P=A.type&&!0===A.type.__ANT_BUTTON;r=P||"button"===A.type?NN(A,vt({onMouseDown:S,onClick:function(e){var t,n;null===(n=null===(t=null===A||void 0===A?void 0:A.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),k(e)},key:"enterButton"},P?{className:N,size:E}:{})):m.createElement(WN,{className:N,type:l?"primary":void 0,size:E,disabled:h,key:"enterButton",onMouseDown:S,onClick:k,loading:d,icon:M},l),f&&(r=[r,NN(f,{key:"addonAfter"})]);var O=__()(T,(n={},(0,xe.Z)(n,"".concat(T,"-rtl"),"rtl"===x),(0,xe.Z)(n,"".concat(T,"-").concat(E),!!E),(0,xe.Z)(n,"".concat(T,"-with-button"),!!l),n),a);return m.createElement(vD,vt({ref:D_(_,t),onPressEnter:k},v,{size:E,prefixCls:C,addonAfter:r,suffix:u,onChange:function(e){e&&e.target&&"click"===e.type&&p&&p(e.target.value,e),g&&g(e)},className:O,disabled:h}))}));ED.displayName="Search";var _D=ED,SD=new Map;var kD=new eI((function(e){e.forEach((function(e){var t,n=e.target;null===(t=SD.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var TD=function(e){(0,C_.Z)(n,e);var t=(0,M_.Z)(n);function n(){return(0,k_.Z)(this,n),t.apply(this,arguments)}return(0,T_.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(m.Component),CD=m.createContext(null);function MD(e){var t=e.children,n=e.disabled,r=m.useRef(null),o=m.useRef(null),i=m.useContext(CD),a="function"===typeof t,s=a?t(r):t,u=m.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),c=!a&&m.isValidElement(s)&&R_(s),l=c?s.ref:null,f=m.useMemo((function(){return D_(l,r)}),[l,r]),d=m.useRef(e);d.current=e;var h=m.useCallback((function(e){var t=d.current,n=t.onResize,r=t.data,o=e.getBoundingClientRect(),a=o.width,s=o.height,c=e.offsetWidth,l=e.offsetHeight,f=Math.floor(a),h=Math.floor(s);if(u.current.width!==f||u.current.height!==h||u.current.offsetWidth!==c||u.current.offsetHeight!==l){var p={width:f,height:h,offsetWidth:c,offsetHeight:l};u.current=p;var g=c===Math.round(a)?a:c,v=l===Math.round(s)?s:l,m=Ee(Ee({},p),{},{offsetWidth:g,offsetHeight:v});null===i||void 0===i||i(m,e,r),n&&Promise.resolve().then((function(){n(m,e)}))}}),[]);return m.useEffect((function(){var e,t,i=A_(r.current)||A_(o.current);return i&&!n&&(e=i,t=h,SD.has(e)||(SD.set(e,new Set),kD.observe(e)),SD.get(e).add(t)),function(){return function(e,t){SD.has(e)&&(SD.get(e).delete(t),SD.get(e).size||(kD.unobserve(e),SD.delete(e)))}(i,h)}}),[r.current,n]),m.createElement(TD,{ref:o},c?m.cloneElement(s,{ref:f}):s)}function ND(e){var t=e.children;return("function"===typeof t?[t]:_T(t)).map((function(t,n){var r=(null===t||void 0===t?void 0:t.key)||"".concat("rc-observer-key","-").concat(n);return m.createElement(MD,vt({},e,{key:r}),t)}))}ND.Collection=function(e){var t=e.children,n=e.onBatchResize,r=m.useRef(0),o=m.useRef([]),i=m.useContext(CD),a=m.useCallback((function(e,t,a){r.current+=1;var s=r.current;o.current.push({size:e,element:t,data:a}),Promise.resolve().then((function(){s===r.current&&(null===n||void 0===n||n(o.current),o.current=[])})),null===i||void 0===i||i(e,t,a)}),[n,i]);return m.createElement(CD.Provider,{value:a},t)};var AD,PD,OD=ND,ID="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",DD=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],RD={};function LD(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&RD[n])return RD[n];var r=window.getComputedStyle(e),o=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),i=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),a=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=DD.map((function(e){return"".concat(e,":").concat(r.getPropertyValue(e))})).join(";"),u={sizingStyle:s,paddingSize:i,borderSize:a,boxSizing:o};return t&&n&&(RD[n]=u),u}!function(e){e[e.NONE=0]="NONE",e[e.RESIZING=1]="RESIZING",e[e.RESIZED=2]="RESIZED"}(PD||(PD={}));var jD=function(e){(0,C_.Z)(n,e);var t=(0,M_.Z)(n);function n(e){var r;return(0,k_.Z)(this,n),(r=t.call(this,e)).nextFrameActionId=void 0,r.resizeFrameId=void 0,r.textArea=void 0,r.saveTextArea=function(e){r.textArea=e},r.handleResize=function(e){var t=r.state.resizeStatus,n=r.props,o=n.autoSize,i=n.onResize;t===PD.NONE&&("function"===typeof i&&i(e),o&&r.resizeOnNextFrame())},r.resizeOnNextFrame=function(){cancelAnimationFrame(r.nextFrameActionId),r.nextFrameActionId=requestAnimationFrame(r.resizeTextarea)},r.resizeTextarea=function(){var e=r.props.autoSize;if(e&&r.textArea){var t=e.minRows,n=e.maxRows,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;AD||((AD=document.createElement("textarea")).setAttribute("tab-index","-1"),AD.setAttribute("aria-hidden","true"),document.body.appendChild(AD)),e.getAttribute("wrap")?AD.setAttribute("wrap",e.getAttribute("wrap")):AD.removeAttribute("wrap");var o=LD(e,t),i=o.paddingSize,a=o.borderSize,s=o.boxSizing,u=o.sizingStyle;AD.setAttribute("style","".concat(u,";").concat(ID)),AD.value=e.value||e.placeholder||"";var c,l=Number.MIN_SAFE_INTEGER,f=Number.MAX_SAFE_INTEGER,d=AD.scrollHeight;if("border-box"===s?d+=a:"content-box"===s&&(d-=i),null!==n||null!==r){AD.value=" ";var h=AD.scrollHeight-i;null!==n&&(l=h*n,"border-box"===s&&(l=l+i+a),d=Math.max(l,d)),null!==r&&(f=h*r,"border-box"===s&&(f=f+i+a),c=d>f?"":"hidden",d=Math.min(f,d))}return{height:d,minHeight:l,maxHeight:f,overflowY:c,resize:"none"}}(r.textArea,!1,t,n);r.setState({textareaStyles:o,resizeStatus:PD.RESIZING},(function(){cancelAnimationFrame(r.resizeFrameId),r.resizeFrameId=requestAnimationFrame((function(){r.setState({resizeStatus:PD.RESIZED},(function(){r.resizeFrameId=requestAnimationFrame((function(){r.setState({resizeStatus:PD.NONE}),r.fixFirefoxAutoScroll()}))}))}))}))}},r.renderTextArea=function(){var e=r.props,t=e.prefixCls,n=void 0===t?"rc-textarea":t,o=e.autoSize,i=e.onResize,a=e.className,s=e.disabled,u=r.state,c=u.textareaStyles,l=u.resizeStatus,f=xN(r.props,["prefixCls","onPressEnter","autoSize","defaultValue","onResize"]),d=__()(n,a,(0,xe.Z)({},"".concat(n,"-disabled"),s));"value"in f&&(f.value=f.value||"");var h=Ee(Ee(Ee({},r.props.style),c),l===PD.RESIZING?{overflowX:"hidden",overflowY:"hidden"}:null);return m.createElement(OD,{onResize:r.handleResize,disabled:!(o||i)},m.createElement("textarea",vt({},f,{className:d,style:h,ref:r.saveTextArea})))},r.state={textareaStyles:{},resizeStatus:PD.NONE},r}return(0,T_.Z)(n,[{key:"componentDidUpdate",value:function(e){e.value===this.props.value&&TI()(e.autoSize,this.props.autoSize)||this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.nextFrameActionId),cancelAnimationFrame(this.resizeFrameId)}},{key:"fixFirefoxAutoScroll",value:function(){try{if(document.activeElement===this.textArea){var e=this.textArea.selectionStart,t=this.textArea.selectionEnd;this.textArea.setSelectionRange(e,t)}}catch(n){}}},{key:"render",value:function(){return this.renderTextArea()}}]),n}(m.Component),FD=jD,BD=function(e){(0,C_.Z)(n,e);var t=(0,M_.Z)(n);function n(e){var r;(0,k_.Z)(this,n),(r=t.call(this,e)).resizableTextArea=void 0,r.focus=function(){r.resizableTextArea.textArea.focus()},r.saveTextArea=function(e){r.resizableTextArea=e},r.handleChange=function(e){var t=r.props.onChange;r.setValue(e.target.value,(function(){r.resizableTextArea.resizeTextarea()})),t&&t(e)},r.handleKeyDown=function(e){var t=r.props,n=t.onPressEnter,o=t.onKeyDown;13===e.keyCode&&n&&n(e),o&&o(e)};var o="undefined"===typeof e.value||null===e.value?e.defaultValue:e.value;return r.state={value:o},r}return(0,T_.Z)(n,[{key:"setValue",value:function(e,t){"value"in this.props||this.setState({value:e},t)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return m.createElement(FD,vt({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value}:null}}]),n}(m.Component),zD=BD,GD=IN("text","input");var VD=function(e){(0,C_.Z)(n,e);var t=(0,M_.Z)(n);function n(){return(0,k_.Z)(this,n),t.apply(this,arguments)}return(0,T_.Z)(n,[{key:"renderClearIcon",value:function(e){var t,n=this.props,r=n.value,o=n.disabled,i=n.readOnly,a=n.handleReset,s=n.suffix,u=!o&&!i&&r,c="".concat(e,"-clear-icon");return m.createElement($k,{onClick:a,onMouseDown:function(e){return e.preventDefault()},className:__()((t={},(0,xe.Z)(t,"".concat(c,"-hidden"),!u),(0,xe.Z)(t,"".concat(c,"-has-suffix"),!!s),t),c),role:"button"})}},{key:"renderTextAreaWithClearIcon",value:function(e,t,n){var r,o=this.props,i=o.value,a=o.allowClear,s=o.className,u=o.style,c=o.direction,l=o.bordered,f=o.hidden,d=o.status,h=n.status,p=n.hasFeedback;if(!a)return NN(t,{value:i});var g,v=__()("".concat(e,"-affix-wrapper"),"".concat(e,"-affix-wrapper-textarea-with-clear-btn"),HI("".concat(e,"-affix-wrapper"),XI(h,d),p),(r={},(0,xe.Z)(r,"".concat(e,"-affix-wrapper-rtl"),"rtl"===c),(0,xe.Z)(r,"".concat(e,"-affix-wrapper-borderless"),!l),(0,xe.Z)(r,"".concat(s),!((g=this.props).addonBefore||g.addonAfter)&&s),r));return m.createElement("span",{className:v,style:u,hidden:f},NN(t,{style:null,value:i}),this.renderClearIcon(e))}},{key:"render",value:function(){var e=this;return m.createElement(UI.Consumer,null,(function(t){var n=e.props,r=n.prefixCls,o=n.inputType,i=n.element;if(o===GD[0])return e.renderTextAreaWithClearIcon(r,i,t)}))}}]),n}(m.Component),UD=VD,WD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function ZD(e,t){return(0,OS.Z)(e||"").slice(0,t).join("")}function YD(e,t,n,r){var o=n;return e?o=ZD(n,r):(0,OS.Z)(t||"").length<n.length&&(0,OS.Z)(n||"").length>r&&(o=t),o}var HD=m.forwardRef((function(e,t){var n,r=e.prefixCls,o=e.bordered,i=void 0===o||o,a=e.showCount,s=void 0!==a&&a,u=e.maxLength,c=e.className,l=e.style,f=e.size,d=e.onCompositionStart,h=e.onCompositionEnd,p=e.onChange,g=e.status,v=WD(e,["prefixCls","bordered","showCount","maxLength","className","style","size","onCompositionStart","onCompositionEnd","onChange","status"]),y=m.useContext(xT),b=y.getPrefixCls,x=y.direction,w=m.useContext(aM),E=m.useContext(UI),_=E.status,S=E.hasFeedback,k=XI(_,g),T=m.useRef(null),C=m.useRef(null),M=m.useState(!1),N=(0,gt.Z)(M,2),A=N[0],P=N[1],O=m.useRef(),I=m.useRef(0),D=sA(v.defaultValue,{value:v.value}),R=(0,gt.Z)(D,2),L=R[0],j=R[1],F=v.hidden,B=function(e,t){void 0===v.value&&(j(e),null===t||void 0===t||t())},z=Number(u)>0,G=b("input",r);m.useImperativeHandle(t,(function(){var e;return{resizableTextArea:null===(e=T.current)||void 0===e?void 0:e.resizableTextArea,focus:function(e){var t,n;!function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(null===(n=null===(t=T.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:function(){var e;return null===(e=T.current)||void 0===e?void 0:e.blur()}}}));var V=m.createElement(zD,vt({},xN(v,["allowClear"]),{className:__()((n={},(0,xe.Z)(n,"".concat(G,"-borderless"),!i),(0,xe.Z)(n,c,c&&!s),(0,xe.Z)(n,"".concat(G,"-sm"),"small"===w||"small"===f),(0,xe.Z)(n,"".concat(G,"-lg"),"large"===w||"large"===f),n),HI(G,k)),style:s?void 0:l,prefixCls:G,onCompositionStart:function(e){P(!0),O.current=L,I.current=e.currentTarget.selectionStart,null===d||void 0===d||d(e)},onChange:function(e){var t=e.target.value;!A&&z&&(t=YD(e.target.selectionStart>=u+1||e.target.selectionStart===t.length||!e.target.selectionStart,L,t,u));B(t),pD(e.currentTarget,e,p,t)},onCompositionEnd:function(e){var t;P(!1);var n=e.currentTarget.value;z&&(n=YD(I.current>=u+1||I.current===(null===(t=O.current)||void 0===t?void 0:t.length),O.current,n,u));n!==L&&(B(n),pD(e.currentTarget,e,p,n)),null===h||void 0===h||h(e)},ref:T})),U=function(e){return"undefined"===typeof e||null===e?"":String(e)}(L);A||!z||null!==v.value&&void 0!==v.value||(U=ZD(U,u));var W=m.createElement(UD,vt({},v,{prefixCls:G,direction:x,inputType:"text",value:U,element:V,handleReset:function(e){var t,n;B("",(function(){var e;null===(e=T.current)||void 0===e||e.focus()})),pD(null===(n=null===(t=T.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e,p)},ref:C,bordered:i,status:g,style:s?void 0:l}));if(s||S){var Z,Y=(0,OS.Z)(U).length,H="";return H="object"===(0,N_.Z)(s)?s.formatter({count:Y,maxLength:u}):"".concat(Y).concat(z?" / ".concat(u):""),m.createElement("div",{hidden:F,className:__()("".concat(G,"-textarea"),(Z={},(0,xe.Z)(Z,"".concat(G,"-textarea-rtl"),"rtl"===x),(0,xe.Z)(Z,"".concat(G,"-textarea-show-count"),s),Z),HI("".concat(G,"-textarea"),k,S),c),style:l,"data-count":H},W,S&&YI(G,k))}return W})),XD=HD,KD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},qD=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:KD}))};qD.displayName="EyeOutlined";var $D=m.forwardRef(qD),JD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},QD=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:JD}))};QD.displayName="EyeInvisibleOutlined";var eR=m.forwardRef(QD),tR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},nR={click:"onClick",hover:"onMouseOver"},rR=m.forwardRef((function(e,t){var n=(0,m.useState)(!1),r=(0,gt.Z)(n,2),o=r[0],i=r[1],a=function(){e.disabled||i(!o)},s=function(n){var r=n.getPrefixCls,i=e.className,s=e.prefixCls,u=e.inputPrefixCls,c=e.size,l=e.visibilityToggle,f=tR(e,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),d=r("input",u),h=r("input-password",s),p=l&&function(t){var n,r=e.action,i=e.iconRender,s=nR[r]||"",u=(void 0===i?function(){return null}:i)(o),c=(n={},(0,xe.Z)(n,s,a),(0,xe.Z)(n,"className","".concat(t,"-icon")),(0,xe.Z)(n,"key","passwordIcon"),(0,xe.Z)(n,"onMouseDown",(function(e){e.preventDefault()})),(0,xe.Z)(n,"onMouseUp",(function(e){e.preventDefault()})),n);return m.cloneElement(m.isValidElement(u)?u:m.createElement("span",null,u),c)}(h),g=__()(h,i,(0,xe.Z)({},"".concat(h,"-").concat(c),!!c)),v=vt(vt({},xN(f,["suffix","iconRender"])),{type:o?"text":"password",className:g,prefixCls:d,suffix:p});return c&&(v.size=c),m.createElement(vD,vt({ref:t},v))};return m.createElement(wT,null,s)}));rR.defaultProps={action:"click",visibilityToggle:!0,iconRender:function(e){return e?m.createElement($D,null):m.createElement(eR,null)}},rR.displayName="Password";var oR=rR,iR=vD;iR.Group=mD,iR.Search=_D,iR.TextArea=XD,iR.Password=oR;var aR=iR,sR=(0,m.createContext)({}),uR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var cR=["xs","sm","md","lg","xl","xxl"],lR=m.forwardRef((function(e,t){var n,r=m.useContext(xT),o=r.getPrefixCls,i=r.direction,a=m.useContext(sR),s=a.gutter,u=a.wrap,c=a.supportFlexGap,l=e.prefixCls,f=e.span,d=e.order,h=e.offset,p=e.push,g=e.pull,v=e.className,y=e.children,b=e.flex,x=e.style,w=uR(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),E=o("col",l),_={};cR.forEach((function(t){var n,r={},o=e[t];"number"===typeof o?r.span=o:"object"===(0,N_.Z)(o)&&(r=o||{}),delete w[t],_=vt(vt({},_),(n={},(0,xe.Z)(n,"".concat(E,"-").concat(t,"-").concat(r.span),void 0!==r.span),(0,xe.Z)(n,"".concat(E,"-").concat(t,"-order-").concat(r.order),r.order||0===r.order),(0,xe.Z)(n,"".concat(E,"-").concat(t,"-offset-").concat(r.offset),r.offset||0===r.offset),(0,xe.Z)(n,"".concat(E,"-").concat(t,"-push-").concat(r.push),r.push||0===r.push),(0,xe.Z)(n,"".concat(E,"-").concat(t,"-pull-").concat(r.pull),r.pull||0===r.pull),(0,xe.Z)(n,"".concat(E,"-rtl"),"rtl"===i),n))}));var S=__()(E,(n={},(0,xe.Z)(n,"".concat(E,"-").concat(f),void 0!==f),(0,xe.Z)(n,"".concat(E,"-order-").concat(d),d),(0,xe.Z)(n,"".concat(E,"-offset-").concat(h),h),(0,xe.Z)(n,"".concat(E,"-push-").concat(p),p),(0,xe.Z)(n,"".concat(E,"-pull-").concat(g),g),n),v,_),k={};if(s&&s[0]>0){var T=s[0]/2;k.paddingLeft=T,k.paddingRight=T}if(s&&s[1]>0&&!c){var C=s[1]/2;k.paddingTop=C,k.paddingBottom=C}return b&&(k.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(b),!1!==u||k.minWidth||(k.minWidth=0)),m.createElement("div",vt({},w,{style:vt(vt({},k),x),className:S,ref:t}),y)}));lR.displayName="Col";var fR=lR,dR=L_()?m.useLayoutEffect:m.useEffect;function hR(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!==r&&void 0!==r?r:void 0!==n?n:"rc-index-key-".concat(t)}function pR(e,t){var n=e||{};return{label:n.label||(t?"children":"label"),value:n.value||"value",options:n.options||"options"}}function gR(e){var t=Ee({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return Ek(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var vR=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],mR=function(e,t){var n=e.prefixCls,r=(e.disabled,e.visible),o=e.children,i=e.popupElement,a=e.containerWidth,s=e.animation,u=e.transitionName,c=e.dropdownStyle,l=e.dropdownClassName,f=e.direction,d=void 0===f?"ltr":f,h=e.placement,p=e.dropdownMatchSelectWidth,g=e.dropdownRender,v=e.dropdownAlign,y=e.getPopupContainer,b=e.empty,x=e.getTriggerDOMNode,w=e.onPopupVisibleChange,E=e.onPopupMouseEnter,_=S_(e,vR),S="".concat(n,"-dropdown"),k=i;g&&(k=g(i));var T=m.useMemo((function(){return function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}}(p)}),[p]),C=s?"".concat(S,"-").concat(s):u,M=m.useRef(null);m.useImperativeHandle(t,(function(){return{getPopupElement:function(){return M.current}}}));var N=Ee({minWidth:a},c);return"number"===typeof p?N.width=p:p&&(N.width=a),m.createElement(xI,vt({},_,{showAction:w?["click"]:[],hideAction:w?["click"]:[],popupPlacement:h||("rtl"===d?"bottomRight":"bottomLeft"),builtinPlacements:T,prefixCls:S,popupTransitionName:C,popup:m.createElement("div",{ref:M,onMouseEnter:E},k),popupAlign:v,popupVisible:r,getPopupContainer:y,popupClassName:__()(l,(0,xe.Z)({},"".concat(S,"-empty"),b)),popupStyle:N,getTriggerDOMNode:x,onPopupVisibleChange:w}),o)},yR=m.forwardRef(mR);yR.displayName="SelectTrigger";var bR=yR,xR="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),wR="aria-",ER="data-";function _R(e,t){return 0===e.indexOf(t)}function SR(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:Ee({},n);var r={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||_R(n,wR))||t.data&&_R(n,ER)||t.attr&&xR.includes(n))&&(r[n]=e[n])})),r}var kR=["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","className","style","children","display","order","component"],TR=void 0;function CR(e,t){var n=e.prefixCls,r=e.invalidate,o=e.item,i=e.renderItem,a=e.responsive,s=e.registerSize,u=e.itemKey,c=e.className,l=e.style,f=e.children,d=e.display,h=e.order,p=e.component,g=void 0===p?"div":p,v=S_(e,kR),y=a&&!d;function b(e){s(u,e)}m.useEffect((function(){return function(){b(null)}}),[]);var x,w=i&&o!==TR?i(o):f;r||(x={opacity:y?0:1,height:y?0:TR,overflowY:y?"hidden":TR,order:a?h:TR,pointerEvents:y?"none":TR,position:y?"absolute":TR});var E={};y&&(E["aria-hidden"]=!0);var _=m.createElement(g,vt({className:__()(!r&&n,c),style:Ee(Ee({},x),l)},E,v,{ref:t}),w);return a&&(_=m.createElement(OD,{onResize:function(e){b(e.offsetWidth)}},_)),_}var MR=m.forwardRef(CR);MR.displayName="Item";var NR=MR;var AR=["component"],PR=["className"],OR=["className"],IR=function(e,t){var n=m.useContext(jR);if(!n){var r=e.component,o=void 0===r?"div":r,i=S_(e,AR);return m.createElement(o,vt({},i,{ref:t}))}var a=n.className,s=S_(n,PR),u=e.className,c=S_(e,OR);return m.createElement(jR.Provider,{value:null},m.createElement(NR,vt({ref:t,className:__()(a,u)},s,c)))},DR=m.forwardRef(IR);DR.displayName="RawItem";var RR=DR,LR=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],jR=m.createContext(null),FR="responsive",BR="invalidate";function zR(e){return"+ ".concat(e.length," ...")}function GR(e,t){var n=e.prefixCls,r=void 0===n?"rc-overflow":n,o=e.data,i=void 0===o?[]:o,a=e.renderItem,s=e.renderRawItem,u=e.itemKey,c=e.itemWidth,l=void 0===c?10:c,f=e.ssr,d=e.style,h=e.className,p=e.maxCount,g=e.renderRest,v=e.renderRawRest,y=e.suffix,b=e.component,x=void 0===b?"div":b,w=e.itemComponent,E=e.onVisibleChange,_=S_(e,LR),S=function(){var e=oS({}),t=(0,gt.Z)(e,2)[1],n=(0,m.useRef)([]),r=0,o=0;return function(e){var i=r;return r+=1,n.current.length<i+1&&(n.current[i]=e),[n.current[i],function(e){n.current[i]="function"===typeof e?e(n.current[i]):e,fS.cancel(o),o=fS((function(){t({},!0)}))}]}}(),k="full"===f,T=S(null),C=(0,gt.Z)(T,2),M=C[0],N=C[1],A=M||0,P=S(new Map),O=(0,gt.Z)(P,2),I=O[0],D=O[1],R=S(0),L=(0,gt.Z)(R,2),j=L[0],F=L[1],B=S(0),z=(0,gt.Z)(B,2),G=z[0],V=z[1],U=S(0),W=(0,gt.Z)(U,2),Z=W[0],Y=W[1],H=(0,m.useState)(null),X=(0,gt.Z)(H,2),K=X[0],q=X[1],$=(0,m.useState)(null),J=(0,gt.Z)($,2),Q=J[0],ee=J[1],te=m.useMemo((function(){return null===Q&&k?Number.MAX_SAFE_INTEGER:Q||0}),[Q,M]),ne=(0,m.useState)(!1),re=(0,gt.Z)(ne,2),oe=re[0],ie=re[1],ae="".concat(r,"-item"),se=Math.max(j,G),ue=i.length&&p===FR,ce=p===BR,le=ue||"number"===typeof p&&i.length>p,fe=(0,m.useMemo)((function(){var e=i;return ue?e=null===M&&k?i:i.slice(0,Math.min(i.length,A/l)):"number"===typeof p&&(e=i.slice(0,p)),e}),[i,l,M,p,ue]),de=(0,m.useMemo)((function(){return ue?i.slice(te+1):i.slice(fe.length)}),[i,fe,ue,te]),he=(0,m.useCallback)((function(e,t){var n;return"function"===typeof u?u(e):null!==(n=u&&(null===e||void 0===e?void 0:e[u]))&&void 0!==n?n:t}),[u]),pe=(0,m.useCallback)(a||function(e){return e},[a]);function ge(e,t){ee(e),t||(ie(e<i.length-1),null===E||void 0===E||E(e))}function ve(e,t){D((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function me(e){return I.get(he(fe[e],e))}dR((function(){if(A&&se&&fe){var e=Z,t=fe.length,n=t-1;if(!t)return ge(0),void q(null);for(var r=0;r<t;r+=1){var o=me(r);if(void 0===o){ge(r-1,!0);break}if(e+=o,0===n&&e<=A||r===n-1&&e+me(n)<=A){ge(n),q(null);break}if(e+se>A){ge(r-1),q(e-o-Z+G);break}}y&&me(0)+Z>A&&q(null)}}),[A,I,G,Z,he,fe]);var ye=oe&&!!de.length,be={};null!==K&&ue&&(be={position:"absolute",left:K,top:0});var xe,we={prefixCls:ae,responsive:ue,component:w,invalidate:ce},_e=s?function(e,t){var n=he(e,t);return m.createElement(jR.Provider,{key:n,value:Ee(Ee({},we),{},{order:t,item:e,itemKey:n,registerSize:ve,display:t<=te})},s(e,t))}:function(e,t){var n=he(e,t);return m.createElement(NR,vt({},we,{order:t,key:n,item:e,renderItem:pe,itemKey:n,registerSize:ve,display:t<=te}))},Se={order:ye?te:Number.MAX_SAFE_INTEGER,className:"".concat(ae,"-rest"),registerSize:function(e,t){V(t),F(G)},display:ye};if(v)v&&(xe=m.createElement(jR.Provider,{value:Ee(Ee({},we),Se)},v(de)));else{var ke=g||zR;xe=m.createElement(NR,vt({},we,Se),"function"===typeof ke?ke(de):ke)}var Te=m.createElement(x,vt({className:__()(!ce&&r,h),style:d,ref:t},_),fe.map(_e),le?xe:null,y&&m.createElement(NR,vt({},we,{order:te,className:"".concat(ae,"-suffix"),registerSize:function(e,t){Y(t)},display:!0,style:be}),y));return ue&&(Te=m.createElement(OD,{onResize:function(e,t){N(t.clientWidth)}},Te)),Te}var VR=m.forwardRef(GR);VR.displayName="Overflow",VR.Item=RR,VR.RESPONSIVE=FR,VR.INVALIDATE=BR;var UR=VR,WR=function(e){var t,n=e.className,r=e.customizeIcon,o=e.customizeIconProps,i=e.onMouseDown,a=e.onClick,s=e.children;return t="function"===typeof r?r(o):r,m.createElement("span",{className:n,onMouseDown:function(e){e.preventDefault(),i&&i(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},void 0!==t?t:m.createElement("span",{className:__()(n.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},s))},ZR=function(e,t){var n,r,o=e.prefixCls,i=e.id,a=e.inputElement,s=e.disabled,u=e.tabIndex,c=e.autoFocus,l=e.autoComplete,f=e.editable,d=e.activeDescendantId,h=e.value,p=e.maxLength,g=e.onKeyDown,v=e.onMouseDown,y=e.onChange,b=e.onPaste,x=e.onCompositionStart,w=e.onCompositionEnd,E=e.open,_=e.attrs,S=a||m.createElement("input",null),k=S,T=k.ref,C=k.props,M=C.onKeyDown,N=C.onChange,A=C.onMouseDown,P=C.onCompositionStart,O=C.onCompositionEnd,I=C.style;return S=m.cloneElement(S,Ee(Ee(Ee({type:"search"},C),{},{id:i,ref:D_(t,T),disabled:s,tabIndex:u,autoComplete:l||"off",autoFocus:c,className:__()("".concat(o,"-selection-search-input"),null===(n=S)||void 0===n||null===(r=n.props)||void 0===r?void 0:r.className),role:"combobox","aria-expanded":E,"aria-haspopup":"listbox","aria-owns":"".concat(i,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(i,"_list"),"aria-activedescendant":d},_),{},{value:f?h:"",maxLength:p,readOnly:!f,unselectable:f?null:"on",style:Ee(Ee({},I),{},{opacity:f?null:0}),onKeyDown:function(e){g(e),M&&M(e)},onMouseDown:function(e){v(e),A&&A(e)},onChange:function(e){y(e),N&&N(e)},onCompositionStart:function(e){x(e),P&&P(e)},onCompositionEnd:function(e){w(e),O&&O(e)},onPaste:b}))},YR=m.forwardRef(ZR);YR.displayName="Input";var HR=YR;function XR(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var KR="undefined"!==typeof window&&window.document&&window.document.documentElement;var qR=function(e){e.preventDefault(),e.stopPropagation()},$R=function(e){var t,n,r=e.id,o=e.prefixCls,i=e.values,a=e.open,s=e.searchValue,u=e.inputRef,c=e.placeholder,l=e.disabled,f=e.mode,d=e.showSearch,h=e.autoFocus,p=e.autoComplete,g=e.activeDescendantId,v=e.tabIndex,y=e.removeIcon,b=e.maxTagCount,x=e.maxTagTextLength,w=e.maxTagPlaceholder,E=void 0===w?function(e){return"+ ".concat(e.length," ...")}:w,_=e.tagRender,S=e.onToggleOpen,k=e.onRemove,T=e.onInputChange,C=e.onInputPaste,M=e.onInputKeyDown,N=e.onInputMouseDown,A=e.onInputCompositionStart,P=e.onInputCompositionEnd,O=m.useRef(null),I=(0,m.useState)(0),D=(0,gt.Z)(I,2),R=D[0],L=D[1],j=(0,m.useState)(!1),F=(0,gt.Z)(j,2),B=F[0],z=F[1],G="".concat(o,"-selection"),V=a||"tags"===f?s:"",U="tags"===f||d&&(a||B);function W(e,t,n,r,o){return m.createElement("span",{className:__()("".concat(G,"-item"),(0,xe.Z)({},"".concat(G,"-item-disabled"),n)),title:"string"===typeof e||"number"===typeof e?e.toString():void 0},m.createElement("span",{className:"".concat(G,"-item-content")},t),r&&m.createElement(WR,{className:"".concat(G,"-item-remove"),onMouseDown:qR,onClick:o,customizeIcon:y},"\xd7"))}t=function(){L(O.current.scrollWidth)},n=[V],KR?m.useLayoutEffect(t,n):m.useEffect(t,n);var Z=m.createElement("div",{className:"".concat(G,"-search"),style:{width:R},onFocus:function(){z(!0)},onBlur:function(){z(!1)}},m.createElement(HR,{ref:u,open:a,prefixCls:o,id:r,inputElement:null,disabled:l,autoFocus:h,autoComplete:p,editable:U,activeDescendantId:g,value:V,onKeyDown:M,onMouseDown:N,onChange:T,onPaste:C,onCompositionStart:A,onCompositionEnd:P,tabIndex:v,attrs:SR(e,!0)}),m.createElement("span",{ref:O,className:"".concat(G,"-search-mirror"),"aria-hidden":!0},V,"\xa0")),Y=m.createElement(UR,{prefixCls:"".concat(G,"-overflow"),data:i,renderItem:function(e){var t=e.disabled,n=e.label,r=e.value,o=!l&&!t,i=n;if("number"===typeof x&&("string"===typeof n||"number"===typeof n)){var s=String(i);s.length>x&&(i="".concat(s.slice(0,x),"..."))}var u=function(t){t&&t.stopPropagation(),k(e)};return"function"===typeof _?function(e,t,n,r,o){return m.createElement("span",{onMouseDown:function(e){qR(e),S(!a)}},_({label:t,value:e,disabled:n,closable:r,onClose:o}))}(r,i,t,o,u):W(n,i,t,o,u)},renderRest:function(e){var t="function"===typeof E?E(e):E;return W(t,t,!1)},suffix:Z,itemKey:"key",maxCount:b});return m.createElement(m.Fragment,null,Y,!i.length&&!V&&m.createElement("span",{className:"".concat(G,"-placeholder")},c))},JR=function(e){var t=e.inputElement,n=e.prefixCls,r=e.id,o=e.inputRef,i=e.disabled,a=e.autoFocus,s=e.autoComplete,u=e.activeDescendantId,c=e.mode,l=e.open,f=e.values,d=e.placeholder,h=e.tabIndex,p=e.showSearch,g=e.searchValue,v=e.activeValue,y=e.maxLength,b=e.onInputKeyDown,x=e.onInputMouseDown,w=e.onInputChange,E=e.onInputPaste,_=e.onInputCompositionStart,S=e.onInputCompositionEnd,k=m.useState(!1),T=(0,gt.Z)(k,2),C=T[0],M=T[1],N="combobox"===c,A=N||p,P=f[0],O=g||"";N&&v&&!C&&(O=v),m.useEffect((function(){N&&M(!1)}),[N,v]);var I=!("combobox"!==c&&!l&&!p)&&!!O,D=!P||"string"!==typeof P.label&&"number"!==typeof P.label?void 0:P.label.toString();return m.createElement(m.Fragment,null,m.createElement("span",{className:"".concat(n,"-selection-search")},m.createElement(HR,{ref:o,prefixCls:n,id:r,open:l,inputElement:t,disabled:i,autoFocus:a,autoComplete:s,editable:A,activeDescendantId:u,value:O,onKeyDown:b,onMouseDown:x,onChange:function(e){M(!0),w(e)},onPaste:E,onCompositionStart:_,onCompositionEnd:S,tabIndex:h,attrs:SR(e,!0),maxLength:N?y:void 0})),!N&&P&&!I&&m.createElement("span",{className:"".concat(n,"-selection-item"),title:D},P.label),function(){if(P)return null;var e=I?{visibility:"hidden"}:void 0;return m.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:e},d)}())};function QR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=m.useRef(null),n=m.useRef(null);function r(r){(r||null===t.current)&&(t.current=r),window.clearTimeout(n.current),n.current=window.setTimeout((function(){t.current=null}),e)}return m.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return t.current},r]}var eL=function(e,t){var n=(0,m.useRef)(null),r=(0,m.useRef)(!1),o=e.prefixCls,i=e.open,a=e.mode,s=e.showSearch,u=e.tokenWithEnter,c=e.onSearch,l=e.onSearchSubmit,f=e.onToggleOpen,d=e.onInputKeyDown,h=e.domRef;m.useImperativeHandle(t,(function(){return{focus:function(){n.current.focus()},blur:function(){n.current.blur()}}}));var p=QR(0),g=(0,gt.Z)(p,2),v=g[0],y=g[1],b=(0,m.useRef)(null),x=function(e){!1!==c(e,!0,r.current)&&f(!0)},w={inputRef:n,onInputKeyDown:function(e){var t,n=e.which;n!==cA.UP&&n!==cA.DOWN||e.preventDefault(),d&&d(e),n!==cA.ENTER||"tags"!==a||r.current||i||null===l||void 0===l||l(e.target.value),t=n,[cA.ESC,cA.SHIFT,cA.BACKSPACE,cA.TAB,cA.WIN_KEY,cA.ALT,cA.META,cA.WIN_KEY_RIGHT,cA.CTRL,cA.SEMICOLON,cA.EQUALS,cA.CAPS_LOCK,cA.CONTEXT_MENU,cA.F1,cA.F2,cA.F3,cA.F4,cA.F5,cA.F6,cA.F7,cA.F8,cA.F9,cA.F10,cA.F11,cA.F12].includes(t)||f(!0)},onInputMouseDown:function(){y(!0)},onInputChange:function(e){var t=e.target.value;if(u&&b.current&&/[\r\n]/.test(b.current)){var n=b.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,b.current)}b.current=null,x(t)},onInputPaste:function(e){var t=e.clipboardData.getData("text");b.current=t},onInputCompositionStart:function(){r.current=!0},onInputCompositionEnd:function(e){r.current=!1,"combobox"!==a&&x(e.target.value)}},E="multiple"===a||"tags"===a?m.createElement($R,vt({},e,w)):m.createElement(JR,vt({},e,w));return m.createElement("div",{ref:h,className:"".concat(o,"-selector"),onClick:function(e){e.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(e){var t=v();e.target===n.current||t||e.preventDefault(),("combobox"===a||s&&t)&&i||(i&&c("",!0,!1),f())}},E)},tL=m.forwardRef(eL);tL.displayName="Selector";var nL=tL;var rL=m.createContext(null);var oL=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],iL=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function aL(e){return"tags"===e||"multiple"===e}var sL=m.forwardRef((function(e,t){var n,r,o=e.id,i=e.prefixCls,a=e.className,s=e.showSearch,u=e.tagRender,c=e.direction,l=e.omitDomProps,f=e.displayValues,d=e.onDisplayValuesChange,h=e.emptyOptions,p=e.notFoundContent,g=void 0===p?"Not Found":p,v=e.onClear,y=e.mode,b=e.disabled,x=e.loading,w=e.getInputElement,E=e.getRawInputElement,_=e.open,S=e.defaultOpen,k=e.onDropdownVisibleChange,T=e.activeValue,C=e.onActiveValueChange,M=e.activeDescendantId,N=e.searchValue,A=e.onSearch,P=e.onSearchSplit,O=e.tokenSeparators,I=e.allowClear,D=e.showArrow,R=e.inputIcon,L=e.clearIcon,j=e.OptionList,F=e.animation,B=e.transitionName,z=e.dropdownStyle,G=e.dropdownClassName,V=e.dropdownMatchSelectWidth,U=e.dropdownRender,W=e.dropdownAlign,Z=e.placement,Y=e.getPopupContainer,H=e.showAction,X=void 0===H?[]:H,K=e.onFocus,q=e.onBlur,$=e.onKeyUp,J=e.onKeyDown,Q=e.onMouseDown,ee=S_(e,oL),te=aL(y),ne=(void 0!==s?s:te)||"combobox"===y,re=Ee({},ee);iL.forEach((function(e){delete re[e]})),null===l||void 0===l||l.forEach((function(e){delete re[e]}));var oe=m.useState(!1),ie=(0,gt.Z)(oe,2),ae=ie[0],se=ie[1];m.useEffect((function(){se(NP())}),[]);var ue=m.useRef(null),ce=m.useRef(null),le=m.useRef(null),fe=m.useRef(null),de=m.useRef(null),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=m.useState(!1),n=(0,gt.Z)(t,2),r=n[0],o=n[1],i=m.useRef(null),a=function(){window.clearTimeout(i.current)};m.useEffect((function(){return a}),[]);var s=function(t,n){a(),i.current=window.setTimeout((function(){o(t),n&&n()}),e)};return[r,s,a]}(),pe=(0,gt.Z)(he,3),ge=pe[0],ve=pe[1],me=pe[2];m.useImperativeHandle(t,(function(){var e,t;return{focus:null===(e=fe.current)||void 0===e?void 0:e.focus,blur:null===(t=fe.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=de.current)||void 0===t?void 0:t.scrollTo(e)}}}));var ye=m.useMemo((function(){var e;if("combobox"!==y)return N;var t=null===(e=f[0])||void 0===e?void 0:e.value;return"string"===typeof t||"number"===typeof t?String(t):""}),[N,y,f]),be="combobox"===y&&"function"===typeof w&&w()||null,we="function"===typeof E&&E(),_e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return O_((function(){return D_.apply(void 0,t)}),t,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}))}(ce,null===we||void 0===we||null===(n=we.props)||void 0===n?void 0:n.ref),Se=sA(void 0,{defaultValue:S,value:_}),ke=(0,gt.Z)(Se,2),Te=ke[0],Ce=ke[1],Me=Te,Ne=!g&&h;(b||Ne&&Me&&"combobox"===y)&&(Me=!1);var Ae=!Ne&&Me,Pe=m.useCallback((function(e){var t=void 0!==e?e:!Me;Me===t||b||(Ce(t),null===k||void 0===k||k(t))}),[b,Me,Ce,k]),Oe=m.useMemo((function(){return(O||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[O]),Ie=function(e,t,n){var r=!0,o=e;null===C||void 0===C||C(null);var i=n?null:function(e,t){if(!t||!t.length)return null;var n=!1,r=function e(t,r){var o=uC(r),i=o[0],a=o.slice(1);if(!i)return[t];var s=t.split(i);return n=n||s.length>1,s.reduce((function(t,n){return[].concat((0,OS.Z)(t),(0,OS.Z)(e(n,a)))}),[]).filter((function(e){return e}))}(e,t);return n?r:null}(e,O);return"combobox"!==y&&i&&(o="",null===P||void 0===P||P(i),Pe(!1),r=!1),A&&ye!==o&&A(o,{source:t?"typing":"effect"}),r};m.useEffect((function(){Me||te||"combobox"===y||Ie("",!1,!1)}),[Me]),m.useEffect((function(){Te&&b&&Ce(!1),b&&ve(!1)}),[b]);var De=QR(),Re=(0,gt.Z)(De,2),Le=Re[0],je=Re[1],Fe=m.useRef(!1),Be=[];m.useEffect((function(){return function(){Be.forEach((function(e){return clearTimeout(e)})),Be.splice(0,Be.length)}}),[]);var ze,Ge=m.useState(null),Ve=(0,gt.Z)(Ge,2),Ue=Ve[0],We=Ve[1],Ze=m.useState({}),Ye=(0,gt.Z)(Ze,2)[1];dR((function(){if(Ae){var e,t=Math.ceil(null===(e=ue.current)||void 0===e?void 0:e.offsetWidth);Ue===t||Number.isNaN(t)||We(t)}}),[Ae]),we&&(ze=function(e){Pe(e)}),function(e,t,n){var r=m.useRef(null);r.current={open:t,triggerOpen:n},m.useEffect((function(){function t(t){var n=t.target;n.shadowRoot&&t.composed&&(n=t.composedPath()[0]||n),r.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(n)&&e!==n}))&&r.current.triggerOpen(!1)}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}((function(){var e;return[ue.current,null===(e=le.current)||void 0===e?void 0:e.getPopupElement()]}),Ae,Pe);var He,Xe,Ke=m.useMemo((function(){return Ee(Ee({},e),{},{notFoundContent:g,open:Me,triggerOpen:Ae,id:o,showSearch:ne,multiple:te,toggleOpen:Pe})}),[e,g,Ae,Me,o,ne,te,Pe]),qe=void 0!==D?D:x||!te&&"combobox"!==y;qe&&(He=m.createElement(WR,{className:__()("".concat(i,"-arrow"),(0,xe.Z)({},"".concat(i,"-arrow-loading"),x)),customizeIcon:R,customizeIconProps:{loading:x,searchValue:ye,open:Me,focused:ge,showSearch:ne}}));!b&&I&&(f.length||ye)&&(Xe=m.createElement(WR,{className:"".concat(i,"-clear"),onMouseDown:function(){null===v||void 0===v||v(),d([],{type:"clear",values:f}),Ie("",!1,!1)},customizeIcon:L},"\xd7"));var $e,Je=m.createElement(j,{ref:de}),Qe=__()(i,a,(r={},(0,xe.Z)(r,"".concat(i,"-focused"),ge),(0,xe.Z)(r,"".concat(i,"-multiple"),te),(0,xe.Z)(r,"".concat(i,"-single"),!te),(0,xe.Z)(r,"".concat(i,"-allow-clear"),I),(0,xe.Z)(r,"".concat(i,"-show-arrow"),qe),(0,xe.Z)(r,"".concat(i,"-disabled"),b),(0,xe.Z)(r,"".concat(i,"-loading"),x),(0,xe.Z)(r,"".concat(i,"-open"),Me),(0,xe.Z)(r,"".concat(i,"-customize-input"),be),(0,xe.Z)(r,"".concat(i,"-show-search"),ne),r)),et=m.createElement(bR,{ref:le,disabled:b,prefixCls:i,visible:Ae,popupElement:Je,containerWidth:Ue,animation:F,transitionName:B,dropdownStyle:z,dropdownClassName:G,direction:c,dropdownMatchSelectWidth:V,dropdownRender:U,dropdownAlign:W,placement:Z,getPopupContainer:Y,empty:h,getTriggerDOMNode:function(){return ce.current},onPopupVisibleChange:ze,onPopupMouseEnter:function(){Ye({})}},we?m.cloneElement(we,{ref:_e}):m.createElement(nL,vt({},e,{domRef:ce,prefixCls:i,inputElement:be,ref:fe,id:o,showSearch:ne,mode:y,activeDescendantId:M,tagRender:u,values:f,open:Me,onToggleOpen:Pe,activeValue:T,searchValue:ye,onSearch:Ie,onSearchSubmit:function(e){e&&e.trim()&&A(e,{source:"submit"})},onRemove:function(e){var t=f.filter((function(t){return t!==e}));d(t,{type:"remove",values:[e]})},tokenWithEnter:Oe})));return $e=we?et:m.createElement("div",vt({className:Qe},re,{ref:ue,onMouseDown:function(e){var t,n=e.target,r=null===(t=le.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var o=setTimeout((function(){var e,t=Be.indexOf(o);-1!==t&&Be.splice(t,1),me(),ae||r.contains(document.activeElement)||null===(e=fe.current)||void 0===e||e.focus()}));Be.push(o)}for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];null===Q||void 0===Q||Q.apply(void 0,[e].concat(a))},onKeyDown:function(e){var t,n=Le(),r=e.which;if(r===cA.ENTER&&("combobox"!==y&&e.preventDefault(),Me||Pe(!0)),je(!!ye),r===cA.BACKSPACE&&!n&&te&&!ye&&f.length){for(var o=(0,OS.Z)(f),i=null,a=o.length-1;a>=0;a-=1){var s=o[a];if(!s.disabled){o.splice(a,1),i=s;break}}i&&d(o,{type:"remove",values:[i]})}for(var u=arguments.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=arguments[l];Me&&de.current&&(t=de.current).onKeyDown.apply(t,[e].concat(c)),null===J||void 0===J||J.apply(void 0,[e].concat(c))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;Me&&de.current&&(o=de.current).onKeyUp.apply(o,[e].concat(n)),null===$||void 0===$||$.apply(void 0,[e].concat(n))},onFocus:function(){ve(!0),b||(K&&!Fe.current&&K.apply(void 0,arguments),X.includes("focus")&&Pe(!0)),Fe.current=!0},onBlur:function(){ve(!1,(function(){Fe.current=!1,Pe(!1)})),b||(ye&&("tags"===y?A(ye,{source:"submit"}):"multiple"===y&&A("",{source:"blur"})),q&&q.apply(void 0,arguments))}}),ge&&!Me&&m.createElement("span",{style:{width:0,height:0,display:"flex",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(f.map((function(e){var t=e.label,n=e.value;return["number","string"].includes((0,N_.Z)(t))?t:n})).join(", "))),et,He,Xe),m.createElement(rL.Provider,{value:Ke},$e)}));var uL=sL;function cL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cL(Object(n),!0).forEach((function(t){fL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dL=m.forwardRef((function(e,t){var n=e.height,r=e.offset,o=e.children,i=e.prefixCls,a=e.onInnerResize,s={},u={display:"flex",flexDirection:"column"};return void 0!==r&&(s={height:n,position:"relative",overflow:"hidden"},u=lL(lL({},u),{},{transform:"translateY(".concat(r,"px)"),position:"absolute",left:0,right:0,top:0})),m.createElement("div",{style:s},m.createElement(OD,{onResize:function(e){e.offsetHeight&&a&&a()}},m.createElement("div",{style:u,className:__()(fL({},"".concat(i,"-holder-inner"),i)),ref:t},o)))}));dL.displayName="Filler";var hL=dL;function pL(e){return pL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pL(e)}function gL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yL(e,t){return yL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yL(e,t)}function bL(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wL(e);if(t){var o=wL(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xL(this,n)}}function xL(e,t){if(t&&("object"===pL(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function wL(e){return wL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wL(e)}function EL(e){return"touches"in e?e.touches[0].pageY:e.pageY}var _L=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yL(e,t)}(i,e);var t,n,r,o=bL(i);function i(){var e;vL(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).moveRaf=null,e.scrollbarRef=m.createRef(),e.thumbRef=m.createRef(),e.visibleTimeout=null,e.state={dragging:!1,pageY:null,startTop:null,visible:!1},e.delayHidden=function(){clearTimeout(e.visibleTimeout),e.setState({visible:!0}),e.visibleTimeout=setTimeout((function(){e.setState({visible:!1})}),2e3)},e.onScrollbarTouchStart=function(e){e.preventDefault()},e.onContainerMouseDown=function(e){e.stopPropagation(),e.preventDefault()},e.patchEvents=function(){window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp),e.thumbRef.current.addEventListener("touchmove",e.onMouseMove),e.thumbRef.current.addEventListener("touchend",e.onMouseUp)},e.removeEvents=function(){window.removeEventListener("mousemove",e.onMouseMove),window.removeEventListener("mouseup",e.onMouseUp),e.scrollbarRef.current.removeEventListener("touchstart",e.onScrollbarTouchStart),e.thumbRef.current.removeEventListener("touchstart",e.onMouseDown),e.thumbRef.current.removeEventListener("touchmove",e.onMouseMove),e.thumbRef.current.removeEventListener("touchend",e.onMouseUp),fS.cancel(e.moveRaf)},e.onMouseDown=function(t){var n=e.props.onStartMove;e.setState({dragging:!0,pageY:EL(t),startTop:e.getTop()}),n(),e.patchEvents(),t.stopPropagation(),t.preventDefault()},e.onMouseMove=function(t){var n=e.state,r=n.dragging,o=n.pageY,i=n.startTop,a=e.props.onScroll;if(fS.cancel(e.moveRaf),r){var s=i+(EL(t)-o),u=e.getEnableScrollRange(),c=e.getEnableHeightRange(),l=c?s/c:0,f=Math.ceil(l*u);e.moveRaf=fS((function(){a(f)}))}},e.onMouseUp=function(){var t=e.props.onStopMove;e.setState({dragging:!1}),t(),e.removeEvents()},e.getSpinHeight=function(){var t=e.props,n=t.height,r=n/t.count*10;return r=Math.max(r,20),r=Math.min(r,n/2),Math.floor(r)},e.getEnableScrollRange=function(){var t=e.props;return t.scrollHeight-t.height||0},e.getEnableHeightRange=function(){return e.props.height-e.getSpinHeight()||0},e.getTop=function(){var t=e.props.scrollTop,n=e.getEnableScrollRange(),r=e.getEnableHeightRange();return 0===t||0===n?0:t/n*r},e.showScroll=function(){var t=e.props,n=t.height;return t.scrollHeight>n},e}return t=i,(n=[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(e){e.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var e=this.state,t=e.dragging,n=e.visible,r=this.props.prefixCls,o=this.getSpinHeight(),i=this.getTop(),a=this.showScroll(),s=a&&n;return m.createElement("div",{ref:this.scrollbarRef,className:__()("".concat(r,"-scrollbar"),gL({},"".concat(r,"-scrollbar-show"),a)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:s?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},m.createElement("div",{ref:this.thumbRef,className:__()("".concat(r,"-scrollbar-thumb"),gL({},"".concat(r,"-scrollbar-thumb-moving"),t)),style:{width:"100%",height:o,top:i,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}])&&mL(t.prototype,n),r&&mL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(m.Component);function SL(e){var t=e.children,n=e.setRef,r=m.useCallback((function(e){n(e)}),[]);return m.cloneElement(t,{ref:r})}function kL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var TL=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.maps=void 0,this.maps=Object.create(null)}var t,n,r;return t=e,n=[{key:"set",value:function(e,t){this.maps[e]=t}},{key:"get",value:function(e){return this.maps[e]}}],n&&kL(t.prototype,n),r&&kL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),CL=TL;function ML(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){s=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return NL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NL(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function AL(e){return AL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AL(e)}function PL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){s=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return OL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OL(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IL(e,t,n){var r=PL(m.useState(e),2),o=r[0],i=r[1],a=PL(m.useState(null),2),s=a[0],u=a[1];return m.useEffect((function(){var r=function(e,t,n){var r,o,i=e.length,a=t.length;if(0===i&&0===a)return null;i<a?(r=e,o=t):(r=t,o=e);var s={__EMPTY_ITEM__:!0};function u(e){return void 0!==e?n(e):s}for(var c=null,l=1!==Math.abs(i-a),f=0;f<o.length;f+=1){var d=u(r[f]);if(d!==u(o[f])){c=f,l=l||d!==u(o[f+1]);break}}return null===c?null:{index:c,multiple:l}}(o||[],e||[],t);void 0!==(null===r||void 0===r?void 0:r.index)&&(null===n||void 0===n||n(r.index),u(e[r.index])),i(e)}),[e]),[s]}function DL(e){return DL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DL(e)}var RL="object"===("undefined"===typeof navigator?"undefined":DL(navigator))&&/Firefox/i.test(navigator.userAgent),LL=function(e,t){var n=(0,m.useRef)(!1),r=(0,m.useRef)(null);function o(){clearTimeout(r.current),n.current=!0,r.current=setTimeout((function(){n.current=!1}),50)}var i=(0,m.useRef)({top:e,bottom:t});return i.current.top=e,i.current.bottom=t,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e<0&&i.current.top||e>0&&i.current.bottom;return t&&a?(clearTimeout(r.current),n.current=!1):a&&!n.current||o(),!n.current&&a}};var jL=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll","onVisibleChange"];function FL(){return FL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FL.apply(this,arguments)}function BL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BL(Object(n),!0).forEach((function(t){GL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){s=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return UL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UL(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WL(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ZL=[],YL={overflowY:"auto",overflowAnchor:"none"};function HL(e,t){var n=e.prefixCls,r=void 0===n?"rc-virtual-list":n,o=e.className,i=e.height,a=e.itemHeight,s=e.fullHeight,u=void 0===s||s,c=e.style,l=e.data,f=e.children,d=e.itemKey,h=e.virtual,p=e.component,g=void 0===p?"div":p,v=e.onScroll,y=e.onVisibleChange,b=WL(e,jL),x=!(!1===h||!i||!a),w=x&&l&&a*l.length>i,E=VL((0,m.useState)(0),2),_=E[0],S=E[1],k=VL((0,m.useState)(!1),2),T=k[0],C=k[1],M=__()(r,o),N=l||ZL,A=(0,m.useRef)(),P=(0,m.useRef)(),O=(0,m.useRef)(),I=m.useCallback((function(e){return"function"===typeof d?d(e):null===e||void 0===e?void 0:e[d]}),[d]),D={getKey:I};function R(e){S((function(t){var n=function(e){var t=e;Number.isNaN($.current)||(t=Math.min(t,$.current));return t=Math.max(t,0)}("function"===typeof e?e(t):e);return A.current.scrollTop=n,n}))}var L=(0,m.useRef)({start:0,end:N.length}),j=(0,m.useRef)(),F=VL(IL(N,I),1)[0];j.current=F;var B=function(e,t,n){var r=ML(m.useState(0),2),o=r[0],i=r[1],a=(0,m.useRef)(new Map),s=(0,m.useRef)(new CL),u=(0,m.useRef)();function c(){fS.cancel(u.current)}function l(){c(),u.current=fS((function(){a.current.forEach((function(e,t){if(e&&e.offsetParent){var n=A_(e),r=n.offsetHeight;s.current.get(t)!==r&&s.current.set(t,n.offsetHeight)}})),i((function(e){return e+1}))}))}return(0,m.useEffect)((function(){return c}),[]),[function(r,o){var i=e(r),s=a.current.get(i);o?(a.current.set(i,o),l()):a.current.delete(i),!s!==!o&&(o?null===t||void 0===t||t(r):null===n||void 0===n||n(r))},l,s.current,o]}(I,null,null),z=VL(B,4),G=z[0],V=z[1],U=z[2],W=z[3],Z=m.useMemo((function(){if(!x)return{scrollHeight:void 0,start:0,end:N.length-1,offset:void 0};var e;if(!w)return{scrollHeight:(null===(e=P.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:N.length-1,offset:void 0};for(var t,n,r,o=0,s=N.length,u=0;u<s;u+=1){var c=N[u],l=I(c),f=U.get(l),d=o+(void 0===f?a:f);d>=_&&void 0===t&&(t=u,n=o),d>_+i&&void 0===r&&(r=u),o=d}return void 0===t&&(t=0,n=0),void 0===r&&(r=N.length-1),{scrollHeight:o,start:t,end:r=Math.min(r+1,N.length),offset:n}}),[w,x,_,N,W,i]),Y=Z.scrollHeight,H=Z.start,X=Z.end,K=Z.offset;L.current.start=H,L.current.end=X;var q=Y-i,$=(0,m.useRef)(q);$.current=q;var J=_<=0,Q=_>=q,ee=LL(J,Q);var te=function(e,t,n,r){var o=(0,m.useRef)(0),i=(0,m.useRef)(null),a=(0,m.useRef)(null),s=(0,m.useRef)(!1),u=LL(t,n);return[function(t){if(e){fS.cancel(i.current);var n=t.deltaY;o.current+=n,a.current=n,u(n)||(RL||t.preventDefault(),i.current=fS((function(){var e=s.current?10:1;r(o.current*e),o.current=0})))}},function(t){e&&(s.current=t.detail===a.current)}]}(x,J,Q,(function(e){R((function(t){return t+e}))})),ne=VL(te,2),re=ne[0],oe=ne[1];!function(e,t,n){var r,o=(0,m.useRef)(!1),i=(0,m.useRef)(0),a=(0,m.useRef)(null),s=(0,m.useRef)(null),u=function(e){if(o.current){var t=Math.ceil(e.touches[0].pageY),r=i.current-t;i.current=t,n(r)&&e.preventDefault(),clearInterval(s.current),s.current=setInterval((function(){(!n(r*=.9333333333333333,!0)||Math.abs(r)<=.1)&&clearInterval(s.current)}),16)}},c=function(){o.current=!1,r()},l=function(e){r(),1!==e.touches.length||o.current||(o.current=!0,i.current=Math.ceil(e.touches[0].pageY),a.current=e.target,a.current.addEventListener("touchmove",u),a.current.addEventListener("touchend",c))};r=function(){a.current&&(a.current.removeEventListener("touchmove",u),a.current.removeEventListener("touchend",c))},dR((function(){return e&&t.current.addEventListener("touchstart",l),function(){t.current.removeEventListener("touchstart",l),r(),clearInterval(s.current)}}),[e])}(x,A,(function(e,t){return!ee(e,t)&&(re({preventDefault:function(){},deltaY:e}),!0)})),dR((function(){function e(e){x&&e.preventDefault()}return A.current.addEventListener("wheel",re),A.current.addEventListener("DOMMouseScroll",oe),A.current.addEventListener("MozMousePixelScroll",e),function(){A.current.removeEventListener("wheel",re),A.current.removeEventListener("DOMMouseScroll",oe),A.current.removeEventListener("MozMousePixelScroll",e)}}),[x]);var ie=function(e,t,n,r,o,i,a,s){var u=m.useRef();return function(c){if(null!==c&&void 0!==c){if(fS.cancel(u.current),"number"===typeof c)a(c);else if(c&&"object"===AL(c)){var l,f=c.align;l="index"in c?c.index:t.findIndex((function(e){return o(e)===c.key}));var d=c.offset,h=void 0===d?0:d;!function s(c,d){if(!(c<0)&&e.current){var p=e.current.clientHeight,g=!1,v=d;if(p){for(var m=d||f,y=0,b=0,x=0,w=Math.min(t.length,l),E=0;E<=w;E+=1){var _=o(t[E]);b=y;var S=n.get(_);y=x=b+(void 0===S?r:S),E===l&&void 0===S&&(g=!0)}var k=null;switch(m){case"top":k=b-h;break;case"bottom":k=x-p+h;break;default:var T=e.current.scrollTop;b<T?v="top":x>T+p&&(v="bottom")}null!==k&&k!==e.current.scrollTop&&a(k)}u.current=fS((function(){g&&i(),s(c-1,v)}))}}(3)}}else s()}}(A,N,U,a,I,V,R,(function(){var e;null===(e=O.current)||void 0===e||e.delayHidden()}));m.useImperativeHandle(t,(function(){return{scrollTo:ie}})),dR((function(){if(y){var e=N.slice(H,X+1);y(e,N)}}),[H,X,N]);var ae=function(e,t,n,r,o,i){var a=i.getKey;return e.slice(t,n+1).map((function(e,n){var i=o(e,t+n,{}),s=a(e);return m.createElement(SL,{key:s,setRef:function(t){return r(e,t)}},i)}))}(N,H,X,G,f,D),se=null;return i&&(se=zL(GL({},u?"height":"maxHeight",i),YL),x&&(se.overflowY="hidden",T&&(se.pointerEvents="none"))),m.createElement("div",FL({style:zL(zL({},c),{},{position:"relative"}),className:M},b),m.createElement(g,{className:"".concat(r,"-holder"),style:se,ref:A,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==_&&R(t),null===v||void 0===v||v(e)}},m.createElement(hL,{prefixCls:r,height:Y,offset:K,onInnerResize:V,ref:P},ae)),x&&m.createElement(_L,{ref:O,prefixCls:r,scrollTop:_,height:i,scrollHeight:Y,count:N.length,onScroll:function(e){R(e)},onStartMove:function(){C(!0)},onStopMove:function(){C(!1)}}))}var XL=m.forwardRef(HL);XL.displayName="List";var KL=XL;var qL=m.createContext(null),$L=["disabled","title","children","style","className"];function JL(e){return"string"===typeof e||"number"===typeof e}var QL=function(e,t){var n=m.useContext(rL),r=n.prefixCls,o=n.id,i=n.open,a=n.multiple,s=n.searchValue,u=n.toggleOpen,c=n.notFoundContent,l=n.onPopupScroll,f=m.useContext(qL),d=f.flattenOptions,h=f.onActiveValue,p=f.defaultActiveFirstOption,g=f.onSelect,v=f.menuItemSelectedIcon,y=f.rawValues,b=f.fieldNames,x=f.virtual,w=f.listHeight,E=f.listItemHeight,_="".concat(r,"-item"),S=O_((function(){return d}),[i,d],(function(e,t){return t[0]&&e[1]!==t[1]})),k=m.useRef(null),T=function(e){e.preventDefault()},C=function(e){k.current&&k.current.scrollTo({index:e})},M=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=S.length,r=0;r<n;r+=1){var o=(e+r*t+n)%n,i=S[o],a=i.group,s=i.data;if(!a&&!s.disabled)return o}return-1},N=m.useState((function(){return M(0)})),A=(0,gt.Z)(N,2),P=A[0],O=A[1],I=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];O(e);var n={source:t?"keyboard":"mouse"},r=S[e];r?h(r.value,e,n):h(null,-1,n)};(0,m.useEffect)((function(){I(!1!==p?M(0):-1)}),[S.length,s]),(0,m.useEffect)((function(){var e,t=setTimeout((function(){if(!a&&i&&1===y.size){var e=Array.from(y)[0],t=S.findIndex((function(t){return t.data.value===e}));-1!==t&&(I(t),C(t))}}));i&&(null===(e=k.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[i,s]);var D=function(e){void 0!==e&&g(e,{selected:!y.has(e)}),a||u(!1)};if(m.useImperativeHandle(t,(function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case cA.N:case cA.P:case cA.UP:case cA.DOWN:var r=0;if(t===cA.UP?r=-1:t===cA.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===cA.N?r=1:t===cA.P&&(r=-1)),0!==r){var o=M(P+r,r);C(o),I(o,!0)}break;case cA.ENTER:var a=S[P];a&&!a.data.disabled?D(a.value):D(void 0),i&&e.preventDefault();break;case cA.ESC:u(!1),i&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){C(e)}}})),0===S.length)return m.createElement("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(_,"-empty"),onMouseDown:T},c);var R=Object.keys(b).map((function(e){return b[e]})),L=function(e){return e.label},j=function(e){var t=S[e];if(!t)return null;var n=t.data||{},r=n.value,i=t.group,a=SR(n,!0),s=L(t);return t?m.createElement("div",vt({"aria-label":"string"!==typeof s||i?null:s},a,{key:e,role:i?"presentation":"option",id:"".concat(o,"_list_").concat(e),"aria-selected":y.has(r)}),r):null};return m.createElement(m.Fragment,null,m.createElement("div",{role:"listbox",id:"".concat(o,"_list"),style:{height:0,width:0,overflow:"hidden"}},j(P-1),j(P),j(P+1)),m.createElement(KL,{itemKey:"key",ref:k,data:S,height:w,itemHeight:E,fullHeight:!1,onMouseDown:T,onScroll:l,virtual:x},(function(e,t){var n,r=e.group,o=e.groupOption,i=e.data,a=e.label,s=e.value,u=i.key;if(r){var c,l=null!==(c=i.title)&&void 0!==c?c:JL(a)&&a;return m.createElement("div",{className:__()(_,"".concat(_,"-group")),title:l},void 0!==a?a:u)}var f=i.disabled,d=i.title,h=(i.children,i.style),p=i.className,g=xN(S_(i,$L),R),b=y.has(s),x="".concat(_,"-option"),w=__()(_,x,p,(n={},(0,xe.Z)(n,"".concat(x,"-grouped"),o),(0,xe.Z)(n,"".concat(x,"-active"),P===t&&!f),(0,xe.Z)(n,"".concat(x,"-disabled"),f),(0,xe.Z)(n,"".concat(x,"-selected"),b),n)),E=L(e),S=!v||"function"===typeof v||b,k="number"===typeof E?E:E||s,T=JL(k)?k.toString():void 0;return void 0!==d&&(T=d),m.createElement("div",vt({},g,{"aria-selected":b,className:w,title:T,onMouseMove:function(){P===t||f||I(t)},onClick:function(){f||D(s)},style:h}),m.createElement("div",{className:"".concat(x,"-content")},k),m.isValidElement(v)||b,S&&m.createElement(WR,{className:"".concat(_,"-option-state"),customizeIcon:v,customizeIconProps:{isSelected:b}},b?"\u2713":null))})))},ej=m.forwardRef(QL);ej.displayName="OptionList";var tj=ej,nj=function(){return null};nj.isSelectOption=!0;var rj=nj,oj=function(){return null};oj.isSelectOptGroup=!0;var ij=oj,aj=["children","value"],sj=["children"];function uj(e){var t=e.key,n=e.props,r=n.children,o=n.value;return Ee({key:t,value:void 0!==o?o:t,children:r},S_(n,aj))}function cj(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _T(e).map((function(e,n){if(!m.isValidElement(e)||!e.type)return null;var r=e.type.isSelectOptGroup,o=e.key,i=e.props,a=i.children,s=S_(i,sj);return t||!r?uj(e):Ee(Ee({key:"__RC_SELECT_GRP__".concat(null===o?n:o,"__"),label:o},s),{},{options:cj(a)})})).filter((function(e){return e}))}function lj(e,t,n){return m.useMemo((function(){var r=e;!e&&(r=cj(t));var o=new Map,i=new Map;return function e(t){for(var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=0;a<t.length;a+=1){var s=t[a];!s[n.options]||r?(o.set(s[n.value],s),i.set(s[n.label],s)):e(s[n.options],!0)}}(r),{options:r,valueOptions:o,labelOptions:i}}),[e,t,n])}var fj=0,dj=L_();function hj(e){var t=m.useState(),n=(0,gt.Z)(t,2),r=n[0],o=n[1];return m.useEffect((function(){o("rc_select_".concat(function(){var e;return dj?(e=fj,fj+=1):e="TEST_OR_SSR",e}()))}),[]),e||r}function pj(e){var t=m.useRef();t.current=e;var n=m.useCallback((function(){return t.current.apply(t,arguments)}),[]);return n}function gj(e,t){return XR(e).join("").toUpperCase().includes(t)}var vj=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],mj=["inputValue"];var yj=m.forwardRef((function(e,t){var n=e.id,r=e.mode,o=e.prefixCls,i=void 0===o?"rc-select":o,a=e.backfill,s=e.fieldNames,u=e.inputValue,c=e.searchValue,l=e.onSearch,f=e.autoClearSearchValue,d=void 0===f||f,h=e.onSelect,p=e.onDeselect,g=e.dropdownMatchSelectWidth,v=void 0===g||g,y=e.filterOption,b=e.filterSort,x=e.optionFilterProp,w=e.optionLabelProp,E=e.options,_=e.children,S=e.defaultActiveFirstOption,k=e.menuItemSelectedIcon,T=e.virtual,C=e.listHeight,M=void 0===C?200:C,N=e.listItemHeight,A=void 0===N?20:N,P=e.value,O=e.defaultValue,I=e.labelInValue,D=e.onChange,R=S_(e,vj),L=hj(n),j=aL(r),F=!(E||!_),B=m.useMemo((function(){return(void 0!==y||"combobox"!==r)&&y}),[y,r]),z=m.useMemo((function(){return pR(s,F)}),[JSON.stringify(s),F]),G=sA("",{value:void 0!==c?c:u,postState:function(e){return e||""}}),V=(0,gt.Z)(G,2),U=V[0],W=V[1],Z=lj(E,_,z),Y=Z.valueOptions,H=Z.labelOptions,X=Z.options,K=m.useCallback((function(e){return XR(e).map((function(e){var t,n,r,o,i;(function(e){return!e||"object"!==(0,N_.Z)(e)})(e)?t=e:(r=e.key,n=e.label,t=null!==(i=e.value)&&void 0!==i?i:r);var a,s=Y.get(t);s&&(void 0===n&&(n=null===s||void 0===s?void 0:s[w||z.label]),void 0===r&&(r=null!==(a=null===s||void 0===s?void 0:s.key)&&void 0!==a?a:t),o=null===s||void 0===s?void 0:s.disabled);return{label:n,value:t,key:r,disabled:o}}))}),[z,w,Y]),q=sA(O,{value:P}),$=(0,gt.Z)(q,2),J=$[0],Q=$[1],ee=function(e,t){var n=m.useRef({values:new Map,options:new Map}),r=m.useMemo((function(){var r=n.current,o=r.values,i=r.options,a=e.map((function(e){var t;return void 0===e.label?Ee(Ee({},e),{},{label:null===(t=o.get(e.value))||void 0===t?void 0:t.label}):e})),s=new Map,u=new Map;return a.forEach((function(e){s.set(e.value,e),u.set(e.value,t.get(e.value)||i.get(e.value))})),n.current.values=s,n.current.options=u,a}),[e,t]);return[r,m.useCallback((function(e){return t.get(e)||n.current.options.get(e)}),[t])]}(m.useMemo((function(){var e,t=K(J);return"combobox"!==r||(null===(e=t[0])||void 0===e?void 0:e.value)?t:[]}),[J,K,r]),Y),te=(0,gt.Z)(ee,2),ne=te[0],re=te[1],oe=m.useMemo((function(){if(!r&&1===ne.length){var e=ne[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return ne.map((function(e){var t;return Ee(Ee({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[r,ne]),ie=m.useMemo((function(){return new Set(ne.map((function(e){return e.value})))}),[ne]);m.useEffect((function(){if("combobox"===r){var e,t=null===(e=ne[0])||void 0===e?void 0:e.value;void 0!==t&&null!==t&&W(String(t))}}),[ne]);var ae=pj((function(e,t){var n,r=null!==t&&void 0!==t?t:e;return n={},(0,xe.Z)(n,z.value,e),(0,xe.Z)(n,z.label,r),n})),se=m.useMemo((function(){if("tags"!==r)return X;var e=(0,OS.Z)(X);return(0,OS.Z)(ne).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var n=t.value;(function(e){return Y.has(e)})(n)||e.push(ae(n,t.label))})),e}),[ae,X,Y,ne,r]),ue=function(e,t,n,r,o){return m.useMemo((function(){if(!n||!1===r)return e;var i=t.options,a=t.label,s=t.value,u=[],c="function"===typeof r,l=n.toUpperCase(),f=c?r:function(e,t){return o?gj(t[o],l):t[i]?gj(t["children"!==a?a:"label"],l):gj(t[s],l)},d=c?function(e){return gR(e)}:function(e){return e};return e.forEach((function(e){if(e[i])if(f(n,d(e)))u.push(e);else{var t=e[i].filter((function(e){return f(n,d(e))}));t.length&&u.push(Ee(Ee({},e),{},(0,xe.Z)({},i,t)))}else f(n,d(e))&&u.push(e)})),u}),[e,r,o,n,t])}(se,z,U,B,x),ce=m.useMemo((function(){return"tags"!==r||!U||ue.some((function(e){return e[x||"value"]===U}))?ue:[ae(U)].concat((0,OS.Z)(ue))}),[ae,x,r,ue,U]),le=m.useMemo((function(){return b?(0,OS.Z)(ce).sort((function(e,t){return b(e,t)})):ce}),[ce,b]),fe=m.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,o=[],i=pR(n,!1),a=i.label,s=i.value,u=i.options;function c(e,t){e.forEach((function(e){var n=e[a];if(t||!(u in e)){var i=e[s];o.push({key:hR(e,o.length),groupOption:t,data:e,label:n,value:i})}else{var l=n;void 0===l&&r&&(l=e.label),o.push({key:hR(e,o.length),group:!0,data:e,label:l}),c(e[u],!0)}}))}return c(e,!1),o}(le,{fieldNames:z,childrenAsData:F})}),[le,z,F]),de=function(e){var t=K(e);if(Q(t),D&&(t.length!==ne.length||t.some((function(e,t){var n;return(null===(n=ne[t])||void 0===n?void 0:n.value)!==(null===e||void 0===e?void 0:e.value)})))){var n=I?t:t.map((function(e){return e.value})),r=t.map((function(e){return gR(re(e.value))}));D(j?n:n[0],j?r:r[0])}},he=m.useState(null),pe=(0,gt.Z)(he,2),ge=pe[0],ve=pe[1],me=m.useState(0),ye=(0,gt.Z)(me,2),be=ye[0],we=ye[1],_e=void 0!==S?S:"combobox"!==r,Se=m.useCallback((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.source,i=void 0===o?"keyboard":o;we(t),a&&"combobox"===r&&null!==e&&"keyboard"===i&&ve(String(e))}),[a,r]),ke=function(e,t){var n=function(){var t,n=re(e);return[I?{label:null===n||void 0===n?void 0:n[z.label],value:e,key:null!==(t=null===n||void 0===n?void 0:n.key)&&void 0!==t?t:e}:e,gR(n)]};if(t&&h){var r=n(),o=(0,gt.Z)(r,2),i=o[0],a=o[1];h(i,a)}else if(!t&&p){var s=n(),u=(0,gt.Z)(s,2),c=u[0],l=u[1];p(c,l)}},Te=pj((function(e,t){var n,o=!j||t.selected;n=o?j?[].concat((0,OS.Z)(ne),[e]):[e]:ne.filter((function(t){return t.value!==e})),de(n),ke(e,o),"combobox"===r?ve(""):aL&&!d||(W(""),ve(""))})),Ce=m.useMemo((function(){var e=!1!==T&&!1!==v;return Ee(Ee({},Z),{},{flattenOptions:fe,onActiveValue:Se,defaultActiveFirstOption:_e,onSelect:Te,menuItemSelectedIcon:k,rawValues:ie,fieldNames:z,virtual:e,listHeight:M,listItemHeight:A,childrenAsData:F})}),[Z,fe,Se,_e,Te,k,ie,z,T,v,M,A,F]);return m.createElement(qL.Provider,{value:Ce},m.createElement(uL,vt({},R,{id:L,prefixCls:i,ref:t,omitDomProps:mj,mode:r,displayValues:oe,onDisplayValuesChange:function(e,t){de(e),"remove"!==t.type&&"clear"!==t.type||t.values.forEach((function(e){ke(e.value,!1)}))},searchValue:U,onSearch:function(e,t){if(W(e),ve(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===r&&de(e),null===l||void 0===l||l(e));else{var n=(e||"").trim();if(n){var o=Array.from(new Set([].concat((0,OS.Z)(ie),[n])));de(o),ke(n,!0),W("")}}},onSearchSplit:function(e){var t=e;"tags"!==r&&(t=e.map((function(e){var t=H.get(e);return null===t||void 0===t?void 0:t.value})).filter((function(e){return void 0!==e})));var n=Array.from(new Set([].concat((0,OS.Z)(ie),(0,OS.Z)(t))));de(n),n.forEach((function(e){ke(e,!0)}))},dropdownMatchSelectWidth:v,OptionList:tj,emptyOptions:!fe.length,activeValue:ge,activeDescendantId:"".concat(L,"_list_").concat(be)})))}));var bj=yj;bj.Option=rj,bj.OptGroup=ij;var xj=bj,wj={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},Ej=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:wj}))};Ej.displayName="DownOutlined";var _j=m.forwardRef(Ej),Sj={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},kj=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:Sj}))};kj.displayName="CheckOutlined";var Tj=m.forwardRef(kj);var Cj=function(){return{height:0,opacity:0}},Mj=function(e){return{height:e.scrollHeight,opacity:1}},Nj=function(e,t){return!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName},Aj={motionName:"ant-motion-collapse",onAppearStart:Cj,onEnterStart:Cj,onAppearActive:Mj,onEnterActive:Mj,onLeaveStart:function(e){return{height:e?e.offsetHeight:0}},onLeaveActive:Cj,onAppearEnd:Nj,onEnterEnd:Nj,onLeaveEnd:Nj,motionDeadline:500},Pj=(IN("bottomLeft","bottomRight","topLeft","topRight"),function(e){return void 0===e||"topLeft"!==e&&"topRight"!==e?"slide-up":"slide-down"}),Oj=function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)},Ij=Aj,Dj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Rj="SECRET_COMBOBOX_MODE_DO_NOT_USE",Lj=function(e,t){var n,r,o=e.prefixCls,i=e.bordered,a=void 0===i||i,s=e.className,u=e.getPopupContainer,c=e.dropdownClassName,l=e.listHeight,f=void 0===l?256:l,d=e.placement,h=e.listItemHeight,p=void 0===h?24:h,g=e.size,v=e.notFoundContent,y=e.status,b=e.showArrow,x=Dj(e,["prefixCls","bordered","className","getPopupContainer","dropdownClassName","listHeight","placement","listItemHeight","size","notFoundContent","status","showArrow"]),w=m.useContext(xT),E=w.getPopupContainer,_=w.getPrefixCls,S=w.renderEmpty,k=w.direction,T=w.virtual,C=w.dropdownMatchSelectWidth,M=m.useContext(aM),N=_("select",o),A=_(),P=m.useMemo((function(){var e=x.mode;if("combobox"!==e)return e===Rj?"combobox":e}),[x.mode]),O="multiple"===P||"tags"===P,I=void 0!==b?b:x.loading||!(O||"combobox"===P),D=(0,m.useContext)(UI),R=D.status,L=D.hasFeedback,j=XI(R,y);r=void 0!==v?v:"combobox"===P?null:S("Select");var F=function(e){var t=e.suffixIcon,n=e.clearIcon,r=e.menuItemSelectedIcon,o=e.removeIcon,i=e.loading,a=e.multiple,s=e.hasFeedback,u=e.status,c=e.prefixCls,l=e.showArrow,f=n;n||(f=m.createElement($k,null));var d=function(e){return m.createElement(m.Fragment,null,!1!==l&&e,s&&YI(c,u))},h=null;if(void 0!==t)h=d(t);else if(i)h=d(m.createElement(Zk,{spin:!0}));else{var p="".concat(c,"-suffix");h=function(e){var t=e.open,n=e.showSearch;return d(t&&n?m.createElement(xD,{className:p}):m.createElement(_j,{className:p}))}}return{clearIcon:f,suffixIcon:h,itemIcon:void 0!==r?r:a?m.createElement(Tj,null):null,removeIcon:void 0!==o?o:m.createElement(cM,null)}}(vt(vt({},x),{multiple:O,status:j,hasFeedback:L,showArrow:I,prefixCls:N})),B=F.suffixIcon,z=F.itemIcon,G=F.removeIcon,V=F.clearIcon,U=xN(x,["suffixIcon","itemIcon"]),W=__()(c,(0,xe.Z)({},"".concat(N,"-dropdown-").concat(k),"rtl"===k)),Z=g||M,Y=__()((n={},(0,xe.Z)(n,"".concat(N,"-lg"),"large"===Z),(0,xe.Z)(n,"".concat(N,"-sm"),"small"===Z),(0,xe.Z)(n,"".concat(N,"-rtl"),"rtl"===k),(0,xe.Z)(n,"".concat(N,"-borderless"),!a),n),HI(N,j,L),s);return m.createElement(xj,vt({ref:t,virtual:T,dropdownMatchSelectWidth:C},U,{transitionName:Oj(A,Pj(d),x.transitionName),listHeight:f,listItemHeight:p,mode:P,prefixCls:N,placement:void 0!==d?d:"rtl"===k?"bottomRight":"bottomLeft",direction:k,inputIcon:B,menuItemSelectedIcon:z,removeIcon:G,clearIcon:V,notFoundContent:r,className:Y,getPopupContainer:u||E,dropdownClassName:W,showArrow:L||b}))},jj=m.forwardRef(Lj);jj.SECRET_COMBOBOX_MODE_DO_NOT_USE=Rj,jj.Option=rj,jj.OptGroup=ij;var Fj,Bj=jj,zj=["xxl","xl","lg","md","sm","xs"],Gj={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},Vj=new Map,Uj=-1,Wj={},Zj={matchHandlers:{},dispatch:function(e){return Wj=e,Vj.forEach((function(e){return e(Wj)})),Vj.size>=1},subscribe:function(e){return Vj.size||this.register(),Uj+=1,Vj.set(Uj,e),e(Wj),Uj},unsubscribe:function(e){Vj.delete(e),Vj.size||this.unregister()},unregister:function(){var e=this;Object.keys(Gj).forEach((function(t){var n=Gj[t],r=e.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),Vj.clear()},register:function(){var e=this;Object.keys(Gj).forEach((function(t){var n=Gj[t],r=function(n){var r=n.matches;e.dispatch(vt(vt({},Wj),(0,xe.Z)({},t,r)))},o=window.matchMedia(n);o.addListener(r),e.matchHandlers[n]={mql:o,listener:r},r(o)}))}},Yj=Zj,Hj=function(){if(!L_()||!window.document.documentElement)return!1;if(void 0!==Fj)return Fj;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),Fj=1===e.scrollHeight,document.body.removeChild(e),Fj},Xj=function(){var e=m.useState(!1),t=(0,gt.Z)(e,2),n=t[0],r=t[1];return m.useEffect((function(){r(Hj())}),[]),n},Kj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},qj=(IN("top","middle","bottom","stretch"),IN("start","end","center","space-around","space-between"),m.forwardRef((function(e,t){var n,r=e.prefixCls,o=e.justify,i=e.align,a=e.className,s=e.style,u=e.children,c=e.gutter,l=void 0===c?0:c,f=e.wrap,d=Kj(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),h=m.useContext(xT),p=h.getPrefixCls,g=h.direction,v=m.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),y=(0,gt.Z)(v,2),b=y[0],x=y[1],w=Xj(),E=m.useRef(l);m.useEffect((function(){var e=Yj.subscribe((function(e){var t=E.current||0;(!Array.isArray(t)&&"object"===(0,N_.Z)(t)||Array.isArray(t)&&("object"===(0,N_.Z)(t[0])||"object"===(0,N_.Z)(t[1])))&&x(e)}));return function(){return Yj.unsubscribe(e)}}),[]);var _=p("row",r),S=function(){var e=[0,0];return(Array.isArray(l)?l:[l,0]).forEach((function(t,n){if("object"===(0,N_.Z)(t))for(var r=0;r<zj.length;r++){var o=zj[r];if(b[o]&&void 0!==t[o]){e[n]=t[o];break}}else e[n]=t||0})),e}(),k=__()(_,(n={},(0,xe.Z)(n,"".concat(_,"-no-wrap"),!1===f),(0,xe.Z)(n,"".concat(_,"-").concat(o),o),(0,xe.Z)(n,"".concat(_,"-").concat(i),i),(0,xe.Z)(n,"".concat(_,"-rtl"),"rtl"===g),n),a),T={},C=S[0]>0?S[0]/-2:void 0,M=S[1]>0?S[1]/-2:void 0;if(C&&(T.marginLeft=C,T.marginRight=C),w){var N=(0,gt.Z)(S,2);T.rowGap=N[1]}else M&&(T.marginTop=M,T.marginBottom=M);var A=(0,gt.Z)(S,2),P=A[0],O=A[1],I=m.useMemo((function(){return{gutter:[P,O],wrap:f,supportFlexGap:w}}),[P,O,f,w]);return m.createElement(sR.Provider,{value:I},m.createElement("div",vt({},d,{className:k,style:vt(vt({},T),s),ref:t}),u))})));qj.displayName="Row";var $j=qj,Jj=m.forwardRef((function(e,t){var n,r=e.prefixCls,o=void 0===r?"rc-switch":r,i=e.className,a=e.checked,s=e.defaultChecked,u=e.disabled,c=e.loadingIcon,l=e.checkedChildren,f=e.unCheckedChildren,d=e.onClick,h=e.onChange,p=e.onKeyDown,g=S_(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),v=sA(!1,{value:a,defaultValue:s}),y=(0,gt.Z)(v,2),b=y[0],x=y[1];function w(e,t){var n=b;return u||(x(n=e),null===h||void 0===h||h(n,t)),n}var E=__()(o,i,(n={},(0,xe.Z)(n,"".concat(o,"-checked"),b),(0,xe.Z)(n,"".concat(o,"-disabled"),u),n));return m.createElement("button",Object.assign({},g,{type:"button",role:"switch","aria-checked":b,disabled:u,className:E,ref:t,onKeyDown:function(e){e.which===cA.LEFT?w(!1,e):e.which===cA.RIGHT&&w(!0,e),null===p||void 0===p||p(e)},onClick:function(e){var t=w(!b,e);null===d||void 0===d||d(t,e)}}),c,m.createElement("span",{className:"".concat(o,"-inner")},b?l:f))}));Jj.displayName="Switch";var Qj=Jj,eF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},tF=m.forwardRef((function(e,t){var n,r=e.prefixCls,o=e.size,i=e.loading,a=e.className,s=void 0===a?"":a,u=e.disabled,c=eF(e,["prefixCls","size","loading","className","disabled"]);QC("checked"in c||!("value"in c),"Switch","`value` is not a valid prop, do you mean `checked`?");var l=m.useContext(xT),f=l.getPrefixCls,d=l.direction,h=m.useContext(aM),p=f("switch",r),g=m.createElement("div",{className:"".concat(p,"-handle")},i&&m.createElement(Zk,{className:"".concat(p,"-loading-icon")})),v=__()((n={},(0,xe.Z)(n,"".concat(p,"-small"),"small"===(o||h)),(0,xe.Z)(n,"".concat(p,"-loading"),i),(0,xe.Z)(n,"".concat(p,"-rtl"),"rtl"===d),n),s);return m.createElement(ON,{insertExtraNode:!0},m.createElement(Qj,vt({},c,{prefixCls:p,className:v,disabled:u||i,ref:t,loadingIcon:g})))}));tF.__ANT_SWITCH=!0,tF.displayName="Switch";var nF=tF,rF=rD.RangePicker,oF=aR.Search;function iF(e){var t=e.placeholder,n=e.enumerator,r=e.handleChange;return(0,hN.jsx)(fR,{span:4,children:(0,hN.jsx)(Bj,{mode:"multiple",style:{width:"100%"},placeholder:t,defaultValue:[],onChange:r,optionLabelProp:"label",children:Object.values(n).map((function(e,t){return(0,hN.jsx)(Bj,{value:e,children:e},t)}))})})}var aF=function(e){var t=e.changeContent,n=ln();return(0,hN.jsxs)($j,{justify:"end",gutter:4,style:{marginTop:10},children:[(0,hN.jsx)(iF,{placeholder:"Type of Data",enumerator:qe,handleChange:function(e){n(ht.setData(e))}}),(0,hN.jsx)(iF,{placeholder:"Type of Problem",enumerator:Je,handleChange:function(e){n(ht.setProblem(e))}}),(0,hN.jsx)(iF,{placeholder:"Type of Model to be Explained",enumerator:Qe,handleChange:function(e){n(ht.setModel(e))}}),(0,hN.jsx)(iF,{placeholder:"Type of Task",enumerator:et,handleChange:function(e){n(ht.setTask(e))}}),(0,hN.jsx)(iF,{placeholder:"Type of Explanation",enumerator:$e,handleChange:function(e){n(ht.setExplanation(e))}}),(0,hN.jsx)(iF,{placeholder:"Method used to explain",enumerator:tt,handleChange:function(e){n(ht.setMethod(e))}}),(0,hN.jsx)(nF,{checkedChildren:"Papers",unCheckedChildren:"Graphs",defaultChecked:!0,onChange:function(e){t(e)}}),(0,hN.jsx)(nF,{checkedChildren:"AND",unCheckedChildren:"OR",defaultChecked:!0,onChange:function(e){n(ht.changeState(e))}}),(0,hN.jsx)(fR,{children:(0,hN.jsx)(rF,{})}),(0,hN.jsx)(fR,{children:(0,hN.jsx)(oF,{placeholder:"input search text",style:{width:200}})})]})};var sF,uF=function(){return(0,hN.jsx)($j,{gutter:10,children:(0,hN.jsx)(fR,{span:24,children:(0,hN.jsx)(gN,{})})})},cF=function(e){if(L_()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some((function(e){return e in n.style}))}return!1};function lF(e,t){return Array.isArray(e)||void 0===t?cF(e):function(e,t){if(!cF(e))return!1;var n=document.createElement("div"),r=n.style[e];return n.style[e]=t,n.style[e]!==r}(e,t)}function fF(e){if("undefined"===typeof document)return 0;if(e||void 0===sF){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var o=t.offsetWidth;n.style.overflow="scroll";var i=t.offsetWidth;o===i&&(i=n.clientWidth),document.body.removeChild(n),sF=o-i}return sF}function dF(e){var t=e.match(/^(.*)px$/),n=Number(null===t||void 0===t?void 0:t[1]);return Number.isNaN(n)?fF():n}var hF=function(e){return null};var pF=function(e){return null};function gF(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function vF(e,t){if(!t&&"number"!==typeof t)return e;for(var n=gF(t),r=e,o=0;o<n.length;o+=1){if(!r)return null;r=r[n[o]]}return r}function mF(e){var t=[],n={};return e.forEach((function(e){for(var r=e||{},o=r.key,i=r.dataIndex,a=o||gF(i).join("-")||"RC_TABLE_KEY";n[a];)a="".concat(a,"_next");n[a]=!0,t.push(a)})),t}function yF(e){return null!==e&&void 0!==e}var bF=m.createContext(!1),xF=m.createContext({}),wF=m.createContext({renderWithProps:!1}),EF=["colSpan","rowSpan","style","className"];function _F(e,t){var n,r,o,i=e.prefixCls,a=e.className,s=e.record,u=e.index,c=e.renderIndex,l=e.dataIndex,f=e.render,d=e.children,h=e.component,p=void 0===h?"td":h,g=e.colSpan,v=e.rowSpan,y=e.fixLeft,b=e.fixRight,x=e.firstFixLeft,w=e.lastFixLeft,E=e.firstFixRight,_=e.lastFixRight,S=e.appendNode,k=e.additionalProps,T=void 0===k?{}:k,C=e.ellipsis,M=e.align,N=e.rowType,A=e.isSticky,P=e.hovering,O=e.onHover,I="".concat(i,"-cell"),D=m.useContext(wF),R=m.useContext(bF),L=m.useMemo((function(){if(yF(d))return[d];var e=vF(s,l),t=e,n=void 0;if(f){var r=f(e,s,c);!function(e){return e&&"object"===(0,N_.Z)(e)&&!Array.isArray(e)&&!m.isValidElement(e)}(r)?t=r:(t=r.children,n=r.props,D.renderWithProps=!0)}return[t,n]}),[D.renderWithProps?Math.random():0,d,l,D,s,f,c]),j=(0,gt.Z)(L,2),F=j[0],B=j[1],z=F;"object"!==(0,N_.Z)(z)||Array.isArray(z)||m.isValidElement(z)||(z=null),C&&(w||E)&&(z=m.createElement("span",{className:"".concat(I,"-content")},z));var G=B||{},V=G.colSpan,U=G.rowSpan,W=G.style,Z=G.className,Y=S_(G,EF),H=null!==(n=void 0!==V?V:g)&&void 0!==n?n:1,X=null!==(r=void 0!==U?U:v)&&void 0!==r?r:1;if(0===H||0===X)return null;var K={},q="number"===typeof y&&R,$="number"===typeof b&&R;q&&(K.position="sticky",K.left=y),$&&(K.position="sticky",K.right=b);var J={};M&&(J.textAlign=M);var Q,ee=!0===C?{showTitle:!0}:C;ee&&(ee.showTitle||"header"===N)&&("string"===typeof z||"number"===typeof z?Q=z.toString():m.isValidElement(z)&&"string"===typeof z.props.children&&(Q=z.props.children));var te,ne=Ee(Ee(Ee({title:Q},Y),T),{},{colSpan:1!==H?H:null,rowSpan:1!==X?X:null,className:__()(I,a,(o={},(0,xe.Z)(o,"".concat(I,"-fix-left"),q&&R),(0,xe.Z)(o,"".concat(I,"-fix-left-first"),x&&R),(0,xe.Z)(o,"".concat(I,"-fix-left-last"),w&&R),(0,xe.Z)(o,"".concat(I,"-fix-right"),$&&R),(0,xe.Z)(o,"".concat(I,"-fix-right-first"),E&&R),(0,xe.Z)(o,"".concat(I,"-fix-right-last"),_&&R),(0,xe.Z)(o,"".concat(I,"-ellipsis"),C),(0,xe.Z)(o,"".concat(I,"-with-append"),S),(0,xe.Z)(o,"".concat(I,"-fix-sticky"),(q||$)&&A&&R),(0,xe.Z)(o,"".concat(I,"-row-hover"),!B&&P),o),T.className,Z),style:Ee(Ee(Ee(Ee({},T.style),J),K),W),onMouseEnter:function(e){var t;s&&O(u,u+X-1),null===T||void 0===T||null===(t=T.onMouseEnter)||void 0===t||t.call(T,e)},onMouseLeave:function(e){var t;s&&O(-1,-1),null===T||void 0===T||null===(t=T.onMouseLeave)||void 0===t||t.call(T,e)},ref:(te=p,"string"===typeof te||R_(te)?t:null)});return m.createElement(p,ne,S,z)}var SF=m.forwardRef(_F);SF.displayName="Cell";var kF=["expanded","className","hovering"],TF=m.memo(SF,(function(e,t){return t.shouldCellUpdate?kF.every((function(n){return e[n]===t[n]}))&&!t.shouldCellUpdate(t.record,e.record):TI()(e,t)})),CF=m.forwardRef((function(e,t){var n=m.useContext(xF),r=n.onHover,o=n.startRow,i=n.endRow,a=e.index,s=e.additionalProps,u=void 0===s?{}:s,c=e.colSpan,l=e.rowSpan,f=u.colSpan,d=u.rowSpan,h=null!==c&&void 0!==c?c:f,p=null!==l&&void 0!==l?l:d,g=function(e,t,n,r){return e<=r&&e+t-1>=n}(a,p||1,o,i);return m.createElement(TF,vt({},e,{colSpan:h,rowSpan:p,hovering:g,ref:t,onHover:r}))}));CF.displayName="WrappedCell";var MF=CF,NF=m.createContext(null);function AF(e,t,n,r,o){var i,a,s=n[e]||{},u=n[t]||{};"left"===s.fixed?i=r.left[e]:"right"===u.fixed&&(a=r.right[t]);var c=!1,l=!1,f=!1,d=!1,h=n[t+1],p=n[e-1];if("rtl"===o){if(void 0!==i)d=!(p&&"left"===p.fixed);else if(void 0!==a){f=!(h&&"right"===h.fixed)}}else if(void 0!==i){c=!(h&&"left"===h.fixed)}else if(void 0!==a){l=!(p&&"right"===p.fixed)}return{fixLeft:i,fixRight:a,lastFixLeft:c,firstFixRight:l,lastFixRight:f,firstFixLeft:d,isSticky:r.isSticky}}function PF(e){var t,n=e.cells,r=e.stickyOffsets,o=e.flattenColumns,i=e.rowComponent,a=e.cellComponent,s=e.onHeaderRow,u=e.index,c=m.useContext(NF),l=c.prefixCls,f=c.direction;s&&(t=s(n.map((function(e){return e.column})),u));var d=mF(n.map((function(e){return e.column})));return m.createElement(i,t,n.map((function(e,t){var n,i=e.column,s=AF(e.colStart,e.colEnd,o,r,f);return i&&i.onHeaderCell&&(n=e.column.onHeaderCell(i)),m.createElement(MF,vt({},e,{ellipsis:i.ellipsis,align:i.align,component:a,prefixCls:l,key:d[t]},s,{additionalProps:n,rowType:"header"}))})))}PF.displayName="HeaderRow";var OF=PF;var IF=function(e){var t=e.stickyOffsets,n=e.columns,r=e.flattenColumns,o=e.onHeaderRow,i=m.useContext(NF),a=i.prefixCls,s=i.getComponent,u=m.useMemo((function(){return function(e){var t=[];!function e(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t[o]=t[o]||[];var i=r;return n.filter(Boolean).map((function(n){var r={key:n.key,className:n.className||"",children:n.title,column:n,colStart:i},a=1,s=n.children;return s&&s.length>0&&(a=e(s,i,o+1).reduce((function(e,t){return e+t}),0),r.hasSubColumns=!0),"colSpan"in n&&(a=n.colSpan),"rowSpan"in n&&(r.rowSpan=n.rowSpan),r.colSpan=a,r.colEnd=r.colStart+a-1,t[o].push(r),i+=a,a}))}(e,0);for(var n=t.length,r=function(e){t[e].forEach((function(t){"rowSpan"in t||t.hasSubColumns||(t.rowSpan=n-e)}))},o=0;o<n;o+=1)r(o);return t}(n)}),[n]),c=s(["header","wrapper"],"thead"),l=s(["header","row"],"tr"),f=s(["header","cell"],"th");return m.createElement(c,{className:"".concat(a,"-thead")},u.map((function(e,n){return m.createElement(OF,{key:n,flattenColumns:r,cells:e,stickyOffsets:t,rowComponent:l,cellComponent:f,onHeaderRow:o,index:n})})))},DF=m.createContext(null),RF=m.createContext(null);var LF=function(e){var t=e.prefixCls,n=e.children,r=e.component,o=e.cellComponent,i=e.className,a=e.expanded,s=e.colSpan,u=e.isEmpty,c=m.useContext(NF).scrollbarSize,l=m.useContext(RF),f=l.fixHeader,d=l.fixColumn,h=l.componentWidth,p=l.horizonScroll;return m.useMemo((function(){var e=n;return(u?p:d)&&(e=m.createElement("div",{style:{width:h-(f?c:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},e)),m.createElement(r,{className:i,style:{display:a?null:"none"}},m.createElement(MF,{component:o,prefixCls:t,colSpan:s},e))}),[n,r,i,a,s,u,c,h,d,f,p])},jF=m.createContext(null);function FF(e){var t=e.className,n=e.style,r=e.record,o=e.index,i=e.renderIndex,a=e.rowKey,s=e.rowExpandable,u=e.expandedKeys,c=e.onRow,l=e.indent,f=void 0===l?0:l,d=e.rowComponent,h=e.cellComponent,p=e.childrenColumnName,g=m.useContext(NF),v=g.prefixCls,y=g.fixedInfoList,b=m.useContext(DF),x=b.flattenColumns,w=b.expandableType,E=b.expandRowByClick,_=b.onTriggerExpand,S=b.rowClassName,k=b.expandedRowClassName,T=b.indentSize,C=b.expandIcon,M=b.expandedRowRender,N=b.expandIconColumnIndex,A=m.useState(!1),P=(0,gt.Z)(A,2),O=P[0],I=P[1],D=u&&u.has(e.recordKey);m.useEffect((function(){D&&I(!0)}),[D]);var R="row"===w&&(!s||s(r)),L="nest"===w,j=p&&r&&r[p],F=R||L,B=m.useRef(_);B.current=_;var z,G=function(){B.current.apply(B,arguments)};c&&(z=c(r,o));var V;"string"===typeof S?V=S:"function"===typeof S&&(V=S(r,o,f));var U,W=mF(x),Z=m.createElement(d,vt({},z,{"data-row-key":a,className:__()(t,"".concat(v,"-row"),"".concat(v,"-row-level-").concat(f),V,z&&z.className),style:Ee(Ee({},n),z?z.style:null),onClick:function(e){var t,n;E&&F&&G(r,e);for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];null===(t=z)||void 0===t||null===(n=t.onClick)||void 0===n||n.call.apply(n,[t,e].concat(i))}}),x.map((function(e,t){var n,a,s=e.render,u=e.dataIndex,c=e.className,l=W[t],d=y[t];return t===(N||0)&&L&&(n=m.createElement(m.Fragment,null,m.createElement("span",{style:{paddingLeft:"".concat(T*f,"px")},className:"".concat(v,"-row-indent indent-level-").concat(f)}),C({prefixCls:v,expanded:D,expandable:j,record:r,onExpand:G}))),e.onCell&&(a=e.onCell(r,o)),m.createElement(MF,vt({className:c,ellipsis:e.ellipsis,align:e.align,component:h,prefixCls:v,key:l,record:r,index:o,renderIndex:i,dataIndex:u,render:s,shouldCellUpdate:e.shouldCellUpdate,expanded:n&&D},d,{appendNode:n,additionalProps:a}))})));if(R&&(O||D)){var Y=M(r,o,f+1,D),H=k&&k(r,o,f);U=m.createElement(LF,{expanded:D,className:__()("".concat(v,"-expanded-row"),"".concat(v,"-expanded-row-level-").concat(f+1),H),prefixCls:v,component:d,cellComponent:h,colSpan:x.length,isEmpty:!1},Y)}return m.createElement(m.Fragment,null,Z,U)}FF.displayName="BodyRow";var BF=FF;function zF(e,t,n,r,o,i){var a=[];a.push({record:e,indent:t,index:i});var s=o(e),u=null===r||void 0===r?void 0:r.has(s);if(e&&Array.isArray(e[n])&&u)for(var c=0;c<e[n].length;c+=1){var l=zF(e[n][c],t+1,n,r,o,c);a.push.apply(a,(0,OS.Z)(l))}return a}function GF(e){var t=e.columnKey,n=e.onColumnResize,r=m.useRef();return m.useEffect((function(){r.current&&n(t,r.current.offsetWidth)}),[]),m.createElement(OD,{data:t},m.createElement("td",{ref:r,style:{padding:0,border:0,height:0}},m.createElement("div",{style:{height:0,overflow:"hidden"}},"\xa0")))}function VF(e){var t=e.prefixCls,n=e.columnsKey,r=e.onColumnResize,o=m.useRef(new Map),i=m.useRef(null);return m.useEffect((function(){return function(){fS.cancel(i.current)}}),[]),m.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0,fontSize:0}},m.createElement(OD.Collection,{onBatchResize:function(e){e.forEach((function(e){var t=e.data,n=e.size;o.current.set(t,n.offsetWidth)})),null===i.current&&(i.current=fS((function(){o.current.forEach((function(e,t){r(t,e)})),o.current.clear(),i.current=null}),2))}},n.map((function(e){return m.createElement(GF,{key:e,columnKey:e,onColumnResize:r})}))))}function UF(e){var t=e.data,n=e.getRowKey,r=e.measureColumnWidth,o=e.expandedKeys,i=e.onRow,a=e.rowExpandable,s=e.emptyNode,u=e.childrenColumnName,c=m.useContext(jF).onColumnResize,l=m.useContext(NF),f=l.prefixCls,d=l.getComponent,h=m.useContext(DF).flattenColumns,p=function(e,t,n,r){var o=m.useMemo((function(){if(null===n||void 0===n?void 0:n.size){for(var o=[],i=0;i<(null===e||void 0===e?void 0:e.length);i+=1){var a=e[i];o.push.apply(o,(0,OS.Z)(zF(a,0,t,n,r,i)))}return o}return null===e||void 0===e?void 0:e.map((function(e,t){return{record:e,indent:0,index:t}}))}),[e,t,n,r]);return o}(t,u,o,n),g=m.useRef({renderWithProps:!1}),v=m.useState(-1),y=(0,gt.Z)(v,2),b=y[0],x=y[1],w=m.useState(-1),E=(0,gt.Z)(w,2),_=E[0],S=E[1],k=m.useCallback((function(e,t){x(e),S(t)}),[]),T=m.useMemo((function(){return{startRow:b,endRow:_,onHover:k}}),[k,b,_]),C=m.useMemo((function(){var e,l=d(["body","wrapper"],"tbody"),g=d(["body","row"],"tr"),v=d(["body","cell"],"td");e=t.length?p.map((function(e,t){var r=e.record,s=e.indent,c=e.index,l=n(r,t);return m.createElement(BF,{key:l,rowKey:l,record:r,recordKey:l,index:t,renderIndex:c,rowComponent:g,cellComponent:v,expandedKeys:o,onRow:i,getRowKey:n,rowExpandable:a,childrenColumnName:u,indent:s})})):m.createElement(LF,{expanded:!0,className:"".concat(f,"-placeholder"),prefixCls:f,component:g,cellComponent:v,colSpan:h.length,isEmpty:!0},s);var y=mF(h);return m.createElement(l,{className:"".concat(f,"-tbody")},r&&m.createElement(VF,{prefixCls:f,columnsKey:y,onColumnResize:c}),e)}),[t,f,i,r,o,n,d,s,h,u,c,a,p]);return m.createElement(wF.Provider,{value:g.current},m.createElement(xF.Provider,{value:T},C))}var WF=m.memo(UF);WF.displayName="Body";var ZF=WF,YF=["expandable"],HF="RC_TABLE_INTERNAL_COL_DEFINE";var XF={},KF=["children"],qF=["fixed"];function $F(e){return _T(e).filter((function(e){return m.isValidElement(e)})).map((function(e){var t=e.key,n=e.props,r=n.children,o=Ee({key:t},S_(n,KF));return r&&(o.children=$F(r)),o}))}function JF(e){return e.reduce((function(e,t){var n=t.fixed,r=!0===n?"left":n,o=t.children;return o&&o.length>0?[].concat((0,OS.Z)(e),(0,OS.Z)(JF(o).map((function(e){return Ee({fixed:r},e)})))):[].concat((0,OS.Z)(e),[Ee(Ee({},t),{},{fixed:r})])}),[])}var QF=function(e,t){var n=e.prefixCls,r=e.columns,o=e.children,i=e.expandable,a=e.expandedKeys,s=e.getRowKey,u=e.onTriggerExpand,c=e.expandIcon,l=e.rowExpandable,f=e.expandIconColumnIndex,d=e.direction,h=e.expandRowByClick,p=e.columnWidth,g=e.fixed,v=m.useMemo((function(){return r||$F(o)}),[r,o]),y=m.useMemo((function(){if(i){var e,t=v.slice();if(!t.includes(XF)){var r=f||0;r>=0&&t.splice(r,0,XF)}0;var o=t.indexOf(XF);t=t.filter((function(e,t){return e!==XF||t===o}));var d,y=v[o];d="left"!==g&&!g||f?"right"!==g&&!g||f!==v.length?y?y.fixed:null:"right":"left";var b=(e={},(0,xe.Z)(e,HF,{className:"".concat(n,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),(0,xe.Z)(e,"title",""),(0,xe.Z)(e,"fixed",d),(0,xe.Z)(e,"className","".concat(n,"-row-expand-icon-cell")),(0,xe.Z)(e,"width",p),(0,xe.Z)(e,"render",(function(e,t,r){var o=s(t,r),i=a.has(o),f=!l||l(t),d=c({prefixCls:n,expanded:i,expandable:f,record:t,onExpand:u});return h?m.createElement("span",{onClick:function(e){return e.stopPropagation()}},d):d})),e);return t.map((function(e){return e===XF?b:e}))}return v.filter((function(e){return e!==XF}))}),[i,v,s,a,c,d]),b=m.useMemo((function(){var e=y;return t&&(e=t(e)),e.length||(e=[{render:function(){return null}}]),e}),[t,y,d]),x=m.useMemo((function(){return"rtl"===d?function(e){return e.map((function(e){var t=e.fixed,n=t;return"left"===t?n="right":"right"===t&&(n="left"),Ee({fixed:n},S_(e,qF))}))}(JF(b)):JF(b)}),[b,d]);return[b,x]};function eB(e){var t=(0,m.useRef)(e),n=(0,m.useState)({}),r=(0,gt.Z)(n,2)[1],o=(0,m.useRef)(null),i=(0,m.useRef)([]);return(0,m.useEffect)((function(){return function(){o.current=null}}),[]),[t.current,function(e){i.current.push(e);var n=Promise.resolve();o.current=n,n.then((function(){if(o.current===n){var e=i.current,a=t.current;i.current=[],e.forEach((function(e){t.current=e(t.current)})),o.current=null,a!==t.current&&r({})}}))}]}var tB=function(e,t,n){return(0,m.useMemo)((function(){for(var r=[],o=[],i=0,a=0,s=0;s<t;s+=1)if("rtl"===n){o[s]=a,a+=e[s]||0;var u=t-s-1;r[u]=i,i+=e[u]||0}else{r[s]=i,i+=e[s]||0;var c=t-s-1;o[c]=a,a+=e[c]||0}return{left:r,right:o}}),[e,t,n])},nB=["columnType"];var rB=function(e){for(var t=e.colWidths,n=e.columns,r=[],o=!1,i=(e.columCount||n.length)-1;i>=0;i-=1){var a=t[i],s=n&&n[i],u=s&&s[HF];if(a||u||o){var c=u||{},l=(c.columnType,S_(c,nB));r.unshift(m.createElement("col",vt({key:i,style:{width:a}},l))),o=!0}}return m.createElement("colgroup",null,r)};var oB=function(e){var t=e.className,n=e.children;return m.createElement("div",{className:t},n)};var iB=["children"];var aB=m.createContext({});function sB(e){return e.children}sB.Row=function(e){var t=e.children,n=S_(e,iB);return m.createElement("tr",n,t)},sB.Cell=function(e){var t=e.className,n=e.index,r=e.children,o=e.colSpan,i=void 0===o?1:o,a=e.rowSpan,s=e.align,u=m.useContext(NF),c=u.prefixCls,l=u.direction,f=m.useContext(aB),d=f.scrollColumnIndex,h=f.stickyOffsets,p=n+i-1+1===d?i+1:i,g=AF(n,n+p-1,f.flattenColumns,h,l);return m.createElement(MF,vt({className:t,index:n,component:"td",prefixCls:c,record:null,dataIndex:null,align:s,colSpan:p,rowSpan:a,render:function(){return r}},g))};var uB=sB;var cB=function(e){var t=e.children,n=e.stickyOffsets,r=e.flattenColumns,o=m.useContext(NF).prefixCls,i=r.length-1,a=r[i],s=m.useMemo((function(){return{stickyOffsets:n,flattenColumns:r,scrollColumnIndex:(null===a||void 0===a?void 0:a.scrollbar)?i:null}}),[a,r,i,n]);return m.createElement(aB.Provider,{value:s},m.createElement("tfoot",{className:"".concat(o,"-summary")},t))},lB=uB;function fB(e){var t,n=e.prefixCls,r=e.record,o=e.onExpand,i=e.expanded,a=e.expandable,s="".concat(n,"-row-expand-icon");if(!a)return m.createElement("span",{className:__()(s,"".concat(n,"-row-spaced"))});return m.createElement("span",{className:__()(s,(t={},(0,xe.Z)(t,"".concat(n,"-row-expanded"),i),(0,xe.Z)(t,"".concat(n,"-row-collapsed"),!i),t)),onClick:function(e){o(r,e),e.stopPropagation()}})}function dB(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}var hB=function(e,t){var n,r,o=e.scrollBodyRef,i=e.onScroll,a=e.offsetScroll,s=e.container,u=m.useContext(NF).prefixCls,c=(null===(n=o.current)||void 0===n?void 0:n.scrollWidth)||0,l=(null===(r=o.current)||void 0===r?void 0:r.clientWidth)||0,f=c&&l*(l/c),d=m.useRef(),h=eB({scrollLeft:0,isHiddenScrollBar:!1}),p=(0,gt.Z)(h,2),g=p[0],v=p[1],y=m.useRef({delta:0,x:0}),b=m.useState(!1),x=(0,gt.Z)(b,2),w=x[0],E=x[1],_=function(){E(!1)},S=function(e){var t,n=(e||(null===(t=window)||void 0===t?void 0:t.event)).buttons;if(w&&0!==n){var r=y.current.x+e.pageX-y.current.x-y.current.delta;r<=0&&(r=0),r+f>=l&&(r=l-f),i({scrollLeft:r/l*(c+2)}),y.current.x=e.pageX}else w&&E(!1)},k=function(){if(o.current){var e=dB(o.current).top,t=e+o.current.offsetHeight,n=s===window?document.documentElement.scrollTop+window.innerHeight:dB(s).top+s.clientHeight;t-fF()<=n||e>=n-a?v((function(e){return Ee(Ee({},e),{},{isHiddenScrollBar:!0})})):v((function(e){return Ee(Ee({},e),{},{isHiddenScrollBar:!1})}))}},T=function(e){v((function(t){return Ee(Ee({},t),{},{scrollLeft:e/c*l||0})}))};return m.useImperativeHandle(t,(function(){return{setScrollLeft:T}})),m.useEffect((function(){var e=SP(document.body,"mouseup",_,!1),t=SP(document.body,"mousemove",S,!1);return k(),function(){e.remove(),t.remove()}}),[f,w]),m.useEffect((function(){var e=SP(s,"scroll",k,!1),t=SP(window,"resize",k,!1);return function(){e.remove(),t.remove()}}),[s]),m.useEffect((function(){g.isHiddenScrollBar||v((function(e){var t=o.current;return t?Ee(Ee({},e),{},{scrollLeft:t.scrollLeft/t.scrollWidth*t.clientWidth}):e}))}),[g.isHiddenScrollBar]),c<=l||!f||g.isHiddenScrollBar?null:m.createElement("div",{style:{height:fF(),width:l,bottom:a},className:"".concat(u,"-sticky-scroll")},m.createElement("div",{onMouseDown:function(e){e.persist(),y.current.delta=e.pageX-g.scrollLeft,y.current.x=0,E(!0),e.preventDefault()},ref:d,className:__()("".concat(u,"-sticky-scroll-bar"),(0,xe.Z)({},"".concat(u,"-sticky-scroll-bar-active"),w)),style:{width:"".concat(f,"px"),transform:"translate3d(".concat(g.scrollLeft,"px, 0, 0)")}}))},pB=m.forwardRef(hB),gB=L_()?window:null;var vB=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];var mB=m.forwardRef((function(e,t){var n=e.className,r=e.noData,o=e.columns,i=e.flattenColumns,a=e.colWidths,s=e.columCount,u=e.stickyOffsets,c=e.direction,l=e.fixHeader,f=e.stickyTopOffset,d=e.stickyBottomOffset,h=e.stickyClassName,p=e.onScroll,g=e.maxContentScroll,v=e.children,y=S_(e,vB),b=m.useContext(NF),x=b.prefixCls,w=b.scrollbarSize,E=b.isSticky,_=E&&!l?0:w,S=m.useRef(null),k=m.useCallback((function(e){I_(t,e),I_(S,e)}),[]);m.useEffect((function(){var e;function t(e){var t=e.currentTarget,n=e.deltaX;n&&(p({currentTarget:t,scrollLeft:t.scrollLeft+n}),e.preventDefault())}return null===(e=S.current)||void 0===e||e.addEventListener("wheel",t),function(){var e;null===(e=S.current)||void 0===e||e.removeEventListener("wheel",t)}}),[]);var T=m.useMemo((function(){return i.every((function(e){return e.width>=0}))}),[i]),C=i[i.length-1],M={fixed:C?C.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(x,"-cell-scrollbar")}}},N=(0,m.useMemo)((function(){return _?[].concat((0,OS.Z)(o),[M]):o}),[_,o]),A=(0,m.useMemo)((function(){return _?[].concat((0,OS.Z)(i),[M]):i}),[_,i]),P=(0,m.useMemo)((function(){var e=u.right,t=u.left;return Ee(Ee({},u),{},{left:"rtl"===c?[].concat((0,OS.Z)(t.map((function(e){return e+_}))),[0]):t,right:"rtl"===c?e:[].concat((0,OS.Z)(e.map((function(e){return e+_}))),[0]),isSticky:E})}),[_,u,E]),O=function(e,t){return(0,m.useMemo)((function(){for(var n=[],r=0;r<t;r+=1){var o=e[r];if(void 0===o)return null;n[r]=o}return n}),[e.join("_"),t])}(a,s);return m.createElement("div",{style:Ee({overflow:"hidden"},E?{top:f,bottom:d}:{}),ref:k,className:__()(n,(0,xe.Z)({},h,!!h))},m.createElement("table",{style:{tableLayout:"fixed",visibility:r||O?null:"hidden"}},(!r||!g||T)&&m.createElement(rB,{colWidths:O?[].concat((0,OS.Z)(O),[_]):[],columCount:s+1,columns:A}),v(Ee(Ee({},y),{},{stickyOffsets:P,columns:N,flattenColumns:A}))))}));mB.displayName="FixedHolder";var yB=mB,bB=[],xB={},wB="rc-table-internal-hook",EB=m.memo((function(e){return e.children}),(function(e,t){return!!TI()(e.props,t.props)&&(e.pingLeft!==t.pingLeft||e.pingRight!==t.pingRight)}));function _B(e){var t,n=e.prefixCls,r=e.className,o=e.rowClassName,i=e.style,a=e.data,s=e.rowKey,u=e.scroll,c=e.tableLayout,l=e.direction,f=e.title,d=e.footer,h=e.summary,p=e.id,g=e.showHeader,v=e.components,y=e.emptyText,b=e.onRow,x=e.onHeaderRow,w=e.internalHooks,E=e.transformColumns,_=e.internalRefs,S=e.sticky,k=a||bB,T=!!k.length;var C=m.useMemo((function(){return function(){var e={};function t(e,n){n&&Object.keys(n).forEach((function(r){var o=n[r];o&&"object"===(0,N_.Z)(o)?(e[r]=e[r]||{},t(e[r],o)):e[r]=o}))}for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return r.forEach((function(n){t(e,n)})),e}(v,{})}),[v]),M=m.useCallback((function(e,t){return vF(C,e)||t}),[C]),N=m.useMemo((function(){return"function"===typeof s?s:function(e){return e&&e[s]}}),[s]),A=function(e){var t,n=e.expandable,r=S_(e,YF);return!1===(t="expandable"in e?Ee(Ee({},r),n):r).showExpandColumn&&(t.expandIconColumnIndex=-1),t}(e),P=A.expandIcon,O=A.expandedRowKeys,I=A.defaultExpandedRowKeys,D=A.defaultExpandAllRows,R=A.expandedRowRender,L=A.onExpand,j=A.onExpandedRowsChange,F=A.expandRowByClick,B=A.rowExpandable,z=A.expandIconColumnIndex,G=A.expandedRowClassName,V=A.childrenColumnName,U=A.indentSize,W=P||fB,Z=V||"children",Y=m.useMemo((function(){return R?"row":!!(e.expandable&&w===wB&&e.expandable.__PARENT_RENDER_ICON__||k.some((function(e){return e&&"object"===(0,N_.Z)(e)&&e[Z]})))&&"nest"}),[!!R,k]),H=m.useState((function(){return I||(D?function(e,t,n){var r=[];return function e(o){(o||[]).forEach((function(o,i){r.push(t(o,i)),e(o[n])}))}(e),r}(k,N,Z):[])})),X=(0,gt.Z)(H,2),K=X[0],q=X[1],$=m.useMemo((function(){return new Set(O||K||[])}),[O,K]),J=m.useCallback((function(e){var t,n=N(e,k.indexOf(e)),r=$.has(n);r?($.delete(n),t=(0,OS.Z)($)):t=[].concat((0,OS.Z)($),[n]),q(t),L&&L(!r,e),j&&j(t)}),[N,$,k,L,j]);var Q,ee,te,ne=m.useState(0),re=(0,gt.Z)(ne,2),oe=re[0],ie=re[1],ae=QF(Ee(Ee(Ee({},e),A),{},{expandable:!!R,expandedKeys:$,getRowKey:N,onTriggerExpand:J,expandIcon:W,expandIconColumnIndex:z,direction:l}),w===wB?E:null),se=(0,gt.Z)(ae,2),ue=se[0],ce=se[1],le=m.useMemo((function(){return{columns:ue,flattenColumns:ce}}),[ue,ce]),fe=m.useRef(),de=m.useRef(),he=m.useRef(),pe=m.useRef(),ge=m.useState(!1),ve=(0,gt.Z)(ge,2),me=ve[0],ye=ve[1],be=m.useState(!1),we=(0,gt.Z)(be,2),_e=we[0],Se=we[1],ke=eB(new Map),Te=(0,gt.Z)(ke,2),Ce=Te[0],Me=Te[1],Ne=mF(ce).map((function(e){return Ce.get(e)})),Ae=m.useMemo((function(){return Ne}),[Ne.join("_")]),Pe=tB(Ae,ce.length,l),Oe=u&&yF(u.y),Ie=u&&yF(u.x)||Boolean(A.fixed),De=Ie&&ce.some((function(e){return e.fixed})),Re=m.useRef(),Le=function(e,t){var n="object"===(0,N_.Z)(e)?e:{},r=n.offsetHeader,o=void 0===r?0:r,i=n.offsetSummary,a=void 0===i?0:i,s=n.offsetScroll,u=void 0===s?0:s,c=n.getContainer,l=(void 0===c?function(){return gB}:c)()||gB;return m.useMemo((function(){var n=!!e;return{isSticky:n,stickyClassName:n?"".concat(t,"-sticky-holder"):"",offsetHeader:o,offsetSummary:a,offsetScroll:u,container:l}}),[u,o,a,t,l])}(S,n),je=Le.isSticky,Fe=Le.offsetHeader,Be=Le.offsetSummary,ze=Le.offsetScroll,Ge=Le.stickyClassName,Ve=Le.container,Ue=null===h||void 0===h?void 0:h(k),We=(Oe||je)&&m.isValidElement(Ue)&&Ue.type===uB&&Ue.props.fixed;Oe&&(ee={overflowY:"scroll",maxHeight:u.y}),Ie&&(Q={overflowX:"auto"},Oe||(ee={overflowY:"hidden"}),te={width:!0===u.x?"auto":u.x,minWidth:"100%"});var Ze=m.useCallback((function(e,t){bA(fe.current)&&Me((function(n){if(n.get(e)!==t){var r=new Map(n);return r.set(e,t),r}return n}))}),[]),Ye=function(e){var t=(0,m.useRef)(e||null),n=(0,m.useRef)();function r(){window.clearTimeout(n.current)}return(0,m.useEffect)((function(){return r}),[]),[function(e){t.current=e,r(),n.current=window.setTimeout((function(){t.current=null,n.current=void 0}),100)},function(){return t.current}]}(null),He=(0,gt.Z)(Ye,2),Xe=He[0],Ke=He[1];function qe(e,t){t&&("function"===typeof t?t(e):t.scrollLeft!==e&&(t.scrollLeft=e))}var $e=function(e){var t,n=e.currentTarget,r=e.scrollLeft,o="rtl"===l,i="number"===typeof r?r:n.scrollLeft,a=n||xB;Ke()&&Ke()!==a||(Xe(a),qe(i,de.current),qe(i,he.current),qe(i,pe.current),qe(i,null===(t=Re.current)||void 0===t?void 0:t.setScrollLeft));if(n){var s=n.scrollWidth,u=n.clientWidth;o?(ye(-i<s-u),Se(-i>0)):(ye(i>0),Se(i<s-u))}},Je=function(){Ie&&he.current?$e({currentTarget:he.current}):(ye(!1),Se(!1))},Qe=m.useRef(!1);m.useEffect((function(){Qe.current&&Je()}),[Ie,a,ue.length]),m.useEffect((function(){Qe.current=!0}),[]);var et=m.useState(0),tt=(0,gt.Z)(et,2),nt=tt[0],rt=tt[1],ot=m.useState(!0),it=(0,gt.Z)(ot,2),at=it[0],st=it[1];m.useEffect((function(){rt(function(e){if("undefined"===typeof document||!e||!(e instanceof Element))return{width:0,height:0};var t=getComputedStyle(e,"::-webkit-scrollbar"),n=t.width,r=t.height;return{width:dF(n),height:dF(r)}}(he.current).width),st(lF("position","sticky"))}),[]),m.useEffect((function(){w===wB&&_&&(_.body.current=he.current)}));var ut,ct=M(["table"],"table"),lt=m.useMemo((function(){return c||(De?"max-content"===u.x?"auto":"fixed":Oe||je||ce.some((function(e){return e.ellipsis}))?"fixed":"auto")}),[Oe,De,ce,c,je]),ft={colWidths:Ae,columCount:ce.length,stickyOffsets:Pe,onHeaderRow:x,fixHeader:Oe,scroll:u},dt=m.useMemo((function(){return T?null:"function"===typeof y?y():y}),[T,y]),ht=m.createElement(ZF,{data:k,measureColumnWidth:Oe||Ie||je,expandedKeys:$,rowExpandable:B,getRowKey:N,onRow:b,emptyNode:dt,childrenColumnName:Z}),pt=m.createElement(rB,{colWidths:ce.map((function(e){return e.width})),columns:ce}),mt=M(["body"]);if(Oe||je){var yt;"function"===typeof mt?(yt=mt(k,{scrollbarSize:nt,ref:he,onScroll:$e}),ft.colWidths=ce.map((function(e,t){var n=e.width,r=t===ue.length-1?n-nt:n;return"number"!==typeof r||Number.isNaN(r)?(Ek(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0):r}))):yt=m.createElement("div",{style:Ee(Ee({},Q),ee),onScroll:$e,ref:he,className:__()("".concat(n,"-body"))},m.createElement(ct,{style:Ee(Ee({},te),{},{tableLayout:lt})},pt,ht,!We&&Ue&&m.createElement(cB,{stickyOffsets:Pe,flattenColumns:ce},Ue)));var bt=Ee(Ee(Ee({noData:!k.length,maxContentScroll:Ie&&"max-content"===u.x},ft),le),{},{direction:l,stickyClassName:Ge,onScroll:$e});ut=m.createElement(m.Fragment,null,!1!==g&&m.createElement(yB,vt({},bt,{stickyTopOffset:Fe,className:"".concat(n,"-header"),ref:de}),(function(e){return m.createElement(m.Fragment,null,m.createElement(IF,e),"top"===We&&m.createElement(cB,e,Ue))})),yt,We&&"top"!==We&&m.createElement(yB,vt({},bt,{stickyBottomOffset:Be,className:"".concat(n,"-summary"),ref:pe}),(function(e){return m.createElement(cB,e,Ue)})),je&&m.createElement(pB,{ref:Re,offsetScroll:ze,scrollBodyRef:he,onScroll:$e,container:Ve}))}else ut=m.createElement("div",{style:Ee(Ee({},Q),ee),className:__()("".concat(n,"-content")),onScroll:$e,ref:he},m.createElement(ct,{style:Ee(Ee({},te),{},{tableLayout:lt})},pt,!1!==g&&m.createElement(IF,vt({},ft,le)),ht,Ue&&m.createElement(cB,{stickyOffsets:Pe,flattenColumns:ce},Ue)));var xt=SR(e,{aria:!0,data:!0}),wt=m.createElement("div",vt({className:__()(n,r,(t={},(0,xe.Z)(t,"".concat(n,"-rtl"),"rtl"===l),(0,xe.Z)(t,"".concat(n,"-ping-left"),me),(0,xe.Z)(t,"".concat(n,"-ping-right"),_e),(0,xe.Z)(t,"".concat(n,"-layout-fixed"),"fixed"===c),(0,xe.Z)(t,"".concat(n,"-fixed-header"),Oe),(0,xe.Z)(t,"".concat(n,"-fixed-column"),De),(0,xe.Z)(t,"".concat(n,"-scroll-horizontal"),Ie),(0,xe.Z)(t,"".concat(n,"-has-fix-left"),ce[0]&&ce[0].fixed),(0,xe.Z)(t,"".concat(n,"-has-fix-right"),ce[ce.length-1]&&"right"===ce[ce.length-1].fixed),t)),style:i,id:p,ref:fe},xt),m.createElement(EB,{pingLeft:me,pingRight:_e,props:Ee(Ee({},e),{},{stickyOffsets:Pe,mergedExpandedKeys:$})},f&&m.createElement(oB,{className:"".concat(n,"-title")},f(k)),m.createElement("div",{className:"".concat(n,"-container")},ut),d&&m.createElement(oB,{className:"".concat(n,"-footer")},d(k))));Ie&&(wt=m.createElement(OD,{onResize:function(e){var t=e.width;t!==oe&&(Je(),ie(fe.current?fe.current.offsetWidth:t))}},wt));var Et=m.useMemo((function(){return{prefixCls:n,getComponent:M,scrollbarSize:nt,direction:l,fixedInfoList:ce.map((function(e,t){return AF(t,t,ce,Pe,l)})),isSticky:je}}),[n,M,nt,l,ce,Pe,l,je]),_t=m.useMemo((function(){return Ee(Ee({},le),{},{tableLayout:lt,rowClassName:o,expandedRowClassName:G,expandIcon:W,expandableType:Y,expandRowByClick:F,expandedRowRender:R,onTriggerExpand:J,expandIconColumnIndex:z,indentSize:U})}),[le,lt,o,G,W,Y,F,R,J,z,U]),St=m.useMemo((function(){return{componentWidth:oe,fixHeader:Oe,fixColumn:De,horizonScroll:Ie}}),[oe,Oe,De,Ie]),kt=m.useMemo((function(){return{onColumnResize:Ze}}),[Ze]);return m.createElement(bF.Provider,{value:at},m.createElement(NF.Provider,{value:Et},m.createElement(DF.Provider,{value:_t},m.createElement(RF.Provider,{value:St},m.createElement(jF.Provider,{value:kt},wt)))))}_B.EXPAND_COLUMN=XF,_B.Column=pF,_B.ColumnGroup=hF,_B.Summary=lB,_B.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};var SB=_B,kB=n(8573),TB=n.n(kB),CB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},MB=(IN("small","default","large"),null);var NB=function(e){(0,C_.Z)(n,e);var t=(0,M_.Z)(n);function n(e){var r;(0,k_.Z)(this,n),(r=t.call(this,e)).debouncifyUpdateSpinning=function(e){var t=(e||r.props).delay;t&&(r.cancelExistingSpin(),r.updateSpinning=TB()(r.originalUpdateSpinning,t))},r.updateSpinning=function(){var e=r.props.spinning;r.state.spinning!==e&&r.setState({spinning:e})},r.renderSpin=function(e){var t,n=e.getPrefixCls,o=e.direction,i=r.props,a=i.prefixCls,s=i.className,u=i.size,c=i.tip,l=i.wrapperClassName,f=i.style,d=CB(i,["prefixCls","className","size","tip","wrapperClassName","style"]),h=r.state.spinning,p=n("spin",a),g=__()(p,(t={},(0,xe.Z)(t,"".concat(p,"-sm"),"small"===u),(0,xe.Z)(t,"".concat(p,"-lg"),"large"===u),(0,xe.Z)(t,"".concat(p,"-spinning"),h),(0,xe.Z)(t,"".concat(p,"-show-text"),!!c),(0,xe.Z)(t,"".concat(p,"-rtl"),"rtl"===o),t),s),v=xN(d,["spinning","delay","indicator"]),y=m.createElement("div",vt({},v,{style:f,className:g}),function(e,t){var n=t.indicator,r="".concat(e,"-dot");return null===n?null:MN(n)?NN(n,{className:__()(n.props.className,r)}):MN(MB)?NN(MB,{className:__()(MB.props.className,r)}):m.createElement("span",{className:__()(r,"".concat(e,"-dot-spin"))},m.createElement("i",{className:"".concat(e,"-dot-item")}),m.createElement("i",{className:"".concat(e,"-dot-item")}),m.createElement("i",{className:"".concat(e,"-dot-item")}),m.createElement("i",{className:"".concat(e,"-dot-item")}))}(p,r.props),c?m.createElement("div",{className:"".concat(p,"-text")},c):null);if(r.isNestedPattern()){var b=__()("".concat(p,"-container"),(0,xe.Z)({},"".concat(p,"-blur"),h));return m.createElement("div",vt({},v,{className:__()("".concat(p,"-nested-loading"),l)}),h&&m.createElement("div",{key:"loading"},y),m.createElement("div",{className:b,key:"container"},r.props.children))}return y};var o=e.spinning,i=function(e,t){return!!e&&!!t&&!isNaN(Number(t))}(o,e.delay);return r.state={spinning:o&&!i},r.originalUpdateSpinning=r.updateSpinning,r.debouncifyUpdateSpinning(e),r}return(0,T_.Z)(n,[{key:"componentDidMount",value:function(){this.updateSpinning()}},{key:"componentDidUpdate",value:function(){this.debouncifyUpdateSpinning(),this.updateSpinning()}},{key:"componentWillUnmount",value:function(){this.cancelExistingSpin()}},{key:"cancelExistingSpin",value:function(){var e=this.updateSpinning;e&&e.cancel&&e.cancel()}},{key:"isNestedPattern",value:function(){return!(!this.props||"undefined"===typeof this.props.children)}},{key:"render",value:function(){return m.createElement(wT,null,this.renderSpin)}}],[{key:"setDefaultIndicator",value:function(e){MB=e}}]),n}(m.Component);NB.defaultProps={spinning:!0,size:"default",wrapperClassName:""};var AB=NB,PB=function(e){var t,n="".concat(e.rootPrefixCls,"-item"),r=__()(n,"".concat(n,"-").concat(e.page),(t={},(0,xe.Z)(t,"".concat(n,"-active"),e.active),(0,xe.Z)(t,"".concat(n,"-disabled"),!e.page),(0,xe.Z)(t,e.className,!!e.className),t));return m.createElement("li",{title:e.showTitle?e.page:null,className:r,onClick:function(){e.onClick(e.page)},onKeyPress:function(t){e.onKeyPress(t,e.onClick,e.page)},tabIndex:"0"},e.itemRender(e.page,"page",m.createElement("a",{rel:"nofollow"},e.page)))},OB=13,IB=38,DB=40,RB=function(e){(0,C_.Z)(n,e);var t=(0,M_.Z)(n);function n(){var e;(0,k_.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={goInputText:""},e.buildOptionText=function(t){return"".concat(t," ").concat(e.props.locale.items_per_page)},e.changeSize=function(t){e.props.changeSize(Number(t))},e.handleChange=function(t){e.setState({goInputText:t.target.value})},e.handleBlur=function(t){var n=e.props,r=n.goButton,o=n.quickGo,i=n.rootPrefixCls,a=e.state.goInputText;r||""===a||(e.setState({goInputText:""}),t.relatedTarget&&(t.relatedTarget.className.indexOf("".concat(i,"-item-link"))>=0||t.relatedTarget.className.indexOf("".concat(i,"-item"))>=0)||o(e.getValidValue()))},e.go=function(t){""!==e.state.goInputText&&(t.keyCode!==OB&&"click"!==t.type||(e.setState({goInputText:""}),e.props.quickGo(e.getValidValue())))},e}return(0,T_.Z)(n,[{key:"getValidValue",value:function(){var e=this.state.goInputText;return!e||isNaN(e)?void 0:Number(e)}},{key:"getPageSizeOptions",value:function(){var e=this.props,t=e.pageSize,n=e.pageSizeOptions;return n.some((function(e){return e.toString()===t.toString()}))?n:n.concat([t.toString()]).sort((function(e,t){return(isNaN(Number(e))?0:Number(e))-(isNaN(Number(t))?0:Number(t))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.pageSize,r=t.locale,o=t.rootPrefixCls,i=t.changeSize,a=t.quickGo,s=t.goButton,u=t.selectComponentClass,c=t.buildOptionText,l=t.selectPrefixCls,f=t.disabled,d=this.state.goInputText,h="".concat(o,"-options"),p=u,g=null,v=null,y=null;if(!i&&!a)return null;var b=this.getPageSizeOptions();if(i&&p){var x=b.map((function(t,n){return m.createElement(p.Option,{key:n,value:t.toString()},(c||e.buildOptionText)(t))}));g=m.createElement(p,{disabled:f,prefixCls:l,showSearch:!1,className:"".concat(h,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(n||b[0]).toString(),onChange:this.changeSize,getPopupContainer:function(e){return e.parentNode},"aria-label":r.page_size,defaultOpen:!1},x)}return a&&(s&&(y="boolean"===typeof s?m.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:f,className:"".concat(h,"-quick-jumper-button")},r.jump_to_confirm):m.createElement("span",{onClick:this.go,onKeyUp:this.go},s)),v=m.createElement("div",{className:"".concat(h,"-quick-jumper")},r.jump_to,m.createElement("input",{disabled:f,type:"text",value:d,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":r.page}),r.page,y)),m.createElement("li",{className:"".concat(h)},g,v)}}]),n}(m.Component);RB.defaultProps={pageSizeOptions:["10","20","50","100"]};var LB=RB;function jB(){}function FB(e){var t=Number(e);return"number"===typeof t&&!isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function BB(e,t,n){var r="undefined"===typeof e?t.pageSize:e;return Math.floor((n.total-1)/r)+1}var zB=function(e){(0,C_.Z)(n,e);var t=(0,M_.Z)(n);function n(e){var r;(0,k_.Z)(this,n),(r=t.call(this,e)).getJumpPrevPage=function(){return Math.max(1,r.state.current-(r.props.showLessItems?3:5))},r.getJumpNextPage=function(){return Math.min(BB(void 0,r.state,r.props),r.state.current+(r.props.showLessItems?3:5))},r.getItemIcon=function(e,t){var n=r.props.prefixCls,o=e||m.createElement("button",{type:"button","aria-label":t,className:"".concat(n,"-item-link")});return"function"===typeof e&&(o=m.createElement(e,Ee({},r.props))),o},r.savePaginationNode=function(e){r.paginationNode=e},r.isValid=function(e){var t=r.props.total;return FB(e)&&e!==r.state.current&&FB(t)&&t>0},r.shouldDisplayQuickJumper=function(){var e=r.props,t=e.showQuickJumper;return!(e.total<=r.state.pageSize)&&t},r.handleKeyDown=function(e){e.keyCode!==IB&&e.keyCode!==DB||e.preventDefault()},r.handleKeyUp=function(e){var t=r.getValidValue(e);t!==r.state.currentInputValue&&r.setState({currentInputValue:t}),e.keyCode===OB?r.handleChange(t):e.keyCode===IB?r.handleChange(t-1):e.keyCode===DB&&r.handleChange(t+1)},r.handleBlur=function(e){var t=r.getValidValue(e);r.handleChange(t)},r.changePageSize=function(e){var t=r.state.current,n=BB(e,r.state,r.props);t=t>n?n:t,0===n&&(t=r.state.current),"number"===typeof e&&("pageSize"in r.props||r.setState({pageSize:e}),"current"in r.props||r.setState({current:t,currentInputValue:t})),r.props.onShowSizeChange(t,e),"onChange"in r.props&&r.props.onChange&&r.props.onChange(t,e)},r.handleChange=function(e){var t=r.props.disabled,n=e;if(r.isValid(n)&&!t){var o=BB(void 0,r.state,r.props);n>o?n=o:n<1&&(n=1),"current"in r.props||r.setState({current:n,currentInputValue:n});var i=r.state.pageSize;return r.props.onChange(n,i),n}return r.state.current},r.prev=function(){r.hasPrev()&&r.handleChange(r.state.current-1)},r.next=function(){r.hasNext()&&r.handleChange(r.state.current+1)},r.jumpPrev=function(){r.handleChange(r.getJumpPrevPage())},r.jumpNext=function(){r.handleChange(r.getJumpNextPage())},r.hasPrev=function(){return r.state.current>1},r.hasNext=function(){return r.state.current<BB(void 0,r.state,r.props)},r.runIfEnter=function(e,t){if("Enter"===e.key||13===e.charCode){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];t.apply(void 0,r)}},r.runIfEnterPrev=function(e){r.runIfEnter(e,r.prev)},r.runIfEnterNext=function(e){r.runIfEnter(e,r.next)},r.runIfEnterJumpPrev=function(e){r.runIfEnter(e,r.jumpPrev)},r.runIfEnterJumpNext=function(e){r.runIfEnter(e,r.jumpNext)},r.handleGoTO=function(e){e.keyCode!==OB&&"click"!==e.type||r.handleChange(r.state.currentInputValue)};var o=e.onChange!==jB;"current"in e&&!o&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var i=e.defaultCurrent;"current"in e&&(i=e.current);var a=e.defaultPageSize;return"pageSize"in e&&(a=e.pageSize),i=Math.min(i,BB(a,void 0,e)),r.state={current:i,currentInputValue:i,pageSize:a},r}return(0,T_.Z)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.prefixCls;if(t.current!==this.state.current&&this.paginationNode){var r=this.paginationNode.querySelector(".".concat(n,"-item-").concat(t.current));r&&document.activeElement===r&&r.blur()}}},{key:"getValidValue",value:function(e){var t=e.target.value,n=BB(void 0,this.state,this.props),r=this.state.currentInputValue;return""===t?t:isNaN(Number(t))?r:t>=n?n:Number(t)}},{key:"getShowSizeChanger",value:function(){var e=this.props,t=e.showSizeChanger,n=e.total,r=e.totalBoundaryShowSizeChanger;return"undefined"!==typeof t?t:n>r}},{key:"renderPrev",value:function(e){var t=this.props,n=t.prevIcon,r=(0,t.itemRender)(e,"prev",this.getItemIcon(n,"prev page")),o=!this.hasPrev();return(0,m.isValidElement)(r)?(0,m.cloneElement)(r,{disabled:o}):r}},{key:"renderNext",value:function(e){var t=this.props,n=t.nextIcon,r=(0,t.itemRender)(e,"next",this.getItemIcon(n,"next page")),o=!this.hasNext();return(0,m.isValidElement)(r)?(0,m.cloneElement)(r,{disabled:o}):r}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.className,o=t.style,i=t.disabled,a=t.hideOnSinglePage,s=t.total,u=t.locale,c=t.showQuickJumper,l=t.showLessItems,f=t.showTitle,d=t.showTotal,h=t.simple,p=t.itemRender,g=t.showPrevNextJumpers,v=t.jumpPrevIcon,y=t.jumpNextIcon,b=t.selectComponentClass,x=t.selectPrefixCls,w=t.pageSizeOptions,E=this.state,_=E.current,S=E.pageSize,k=E.currentInputValue;if(!0===a&&s<=S)return null;var T=BB(void 0,this.state,this.props),C=[],M=null,N=null,A=null,P=null,O=null,I=c&&c.goButton,D=l?1:2,R=_-1>0?_-1:0,L=_+1<T?_+1:T,j=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{});if(h)return I&&(O="boolean"===typeof I?m.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},u.jump_to_confirm):m.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},I),O=m.createElement("li",{title:f?"".concat(u.jump_to).concat(_,"/").concat(T):null,className:"".concat(n,"-simple-pager")},O)),m.createElement("ul",vt({className:__()(n,"".concat(n,"-simple"),(0,xe.Z)({},"".concat(n,"-disabled"),i),r),style:o,ref:this.savePaginationNode},j),m.createElement("li",{title:f?u.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:__()("".concat(n,"-prev"),(0,xe.Z)({},"".concat(n,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(R)),m.createElement("li",{title:f?"".concat(_,"/").concat(T):null,className:"".concat(n,"-simple-pager")},m.createElement("input",{type:"text",value:k,disabled:i,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:"3"}),m.createElement("span",{className:"".concat(n,"-slash")},"/"),T),m.createElement("li",{title:f?u.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:__()("".concat(n,"-next"),(0,xe.Z)({},"".concat(n,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(L)),O);if(T<=3+2*D){var F={locale:u,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:f,itemRender:p};T||C.push(m.createElement(PB,vt({},F,{key:"noPager",page:1,className:"".concat(n,"-item-disabled")})));for(var B=1;B<=T;B+=1){var z=_===B;C.push(m.createElement(PB,vt({},F,{key:B,page:B,active:z})))}}else{var G=l?u.prev_3:u.prev_5,V=l?u.next_3:u.next_5;g&&(M=m.createElement("li",{title:f?G:null,key:"prev",onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:__()("".concat(n,"-jump-prev"),(0,xe.Z)({},"".concat(n,"-jump-prev-custom-icon"),!!v))},p(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(v,"prev page"))),N=m.createElement("li",{title:f?V:null,key:"next",tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:__()("".concat(n,"-jump-next"),(0,xe.Z)({},"".concat(n,"-jump-next-custom-icon"),!!y))},p(this.getJumpNextPage(),"jump-next",this.getItemIcon(y,"next page")))),P=m.createElement(PB,{locale:u,last:!0,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:T,page:T,active:!1,showTitle:f,itemRender:p}),A=m.createElement(PB,{locale:u,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:f,itemRender:p});var U=Math.max(1,_-D),W=Math.min(_+D,T);_-1<=D&&(W=1+2*D),T-_<=D&&(U=T-2*D);for(var Z=U;Z<=W;Z+=1){var Y=_===Z;C.push(m.createElement(PB,{locale:u,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:Z,page:Z,active:Y,showTitle:f,itemRender:p}))}_-1>=2*D&&3!==_&&(C[0]=(0,m.cloneElement)(C[0],{className:"".concat(n,"-item-after-jump-prev")}),C.unshift(M)),T-_>=2*D&&_!==T-2&&(C[C.length-1]=(0,m.cloneElement)(C[C.length-1],{className:"".concat(n,"-item-before-jump-next")}),C.push(N)),1!==U&&C.unshift(A),W!==T&&C.push(P)}var H=null;d&&(H=m.createElement("li",{className:"".concat(n,"-total-text")},d(s,[0===s?0:(_-1)*S+1,_*S>s?s:_*S])));var X=!this.hasPrev()||!T,K=!this.hasNext()||!T;return m.createElement("ul",vt({className:__()(n,r,(0,xe.Z)({},"".concat(n,"-disabled"),i)),style:o,unselectable:"unselectable",ref:this.savePaginationNode},j),H,m.createElement("li",{title:f?u.prev_page:null,onClick:this.prev,tabIndex:X?null:0,onKeyPress:this.runIfEnterPrev,className:__()("".concat(n,"-prev"),(0,xe.Z)({},"".concat(n,"-disabled"),X)),"aria-disabled":X},this.renderPrev(R)),C,m.createElement("li",{title:f?u.next_page:null,onClick:this.next,tabIndex:K?null:0,onKeyPress:this.runIfEnterNext,className:__()("".concat(n,"-next"),(0,xe.Z)({},"".concat(n,"-disabled"),K)),"aria-disabled":K},this.renderNext(L)),m.createElement(LB,{disabled:i,locale:u,rootPrefixCls:n,selectComponentClass:b,selectPrefixCls:x,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:_,pageSize:S,pageSizeOptions:w,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:I}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};if("current"in e&&(n.current=e.current,e.current!==t.current&&(n.currentInputValue=n.current)),"pageSize"in e&&e.pageSize!==t.pageSize){var r=t.current,o=BB(e.pageSize,t,e);r=r>o?o:r,"current"in e||(n.current=r,n.currentInputValue=r),n.pageSize=e.pageSize}return n}}]),n}(m.Component);zB.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:jB,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:jB,locale:{items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875",page_size:"\u9875\u7801"},style:{},itemRender:function(e,t,n){return n},totalBoundaryShowSizeChanger:50};var GB=zB,VB={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},UB=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:VB}))};UB.displayName="LeftOutlined";var WB=m.forwardRef(UB),ZB={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},YB=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:ZB}))};YB.displayName="RightOutlined";var HB=m.forwardRef(YB),XB={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},KB=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:XB}))};KB.displayName="DoubleLeftOutlined";var qB=m.forwardRef(KB),$B={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},JB=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:$B}))};JB.displayName="DoubleRightOutlined";var QB=m.forwardRef(JB),ez=function(e){return m.createElement(Bj,vt({size:"small"},e))};ez.Option=Bj.Option;var tz=ez;function nz(){var e=m.useReducer((function(e){return e+1}),0);return(0,gt.Z)(e,2)[1]}var rz=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=(0,m.useRef)({}),n=nz();return(0,m.useEffect)((function(){var r=Yj.subscribe((function(r){t.current=r,e&&n()}));return function(){return Yj.unsubscribe(r)}}),[]),t.current},oz=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},iz=function(e){var t=e.prefixCls,n=e.selectPrefixCls,r=e.className,o=e.size,i=e.locale,a=e.selectComponentClass,s=e.responsive,u=oz(e,["prefixCls","selectPrefixCls","className","size","locale","selectComponentClass","responsive"]),c=rz(s).xs,l=m.useContext(xT),f=l.getPrefixCls,d=l.direction,h=f("pagination",t),p=function(e){var t=vt(vt({},e),i),l="small"===o||!(!c||o||!s),p=f("select",n),g=__()((0,xe.Z)({mini:l},"".concat(h,"-rtl"),"rtl"===d),r);return m.createElement(GB,vt({},function(){var e=m.createElement("span",{className:"".concat(h,"-item-ellipsis")},"\u2022\u2022\u2022"),t=m.createElement("button",{className:"".concat(h,"-item-link"),type:"button",tabIndex:-1},m.createElement(WB,null)),n=m.createElement("button",{className:"".concat(h,"-item-link"),type:"button",tabIndex:-1},m.createElement(HB,null)),r=m.createElement("a",{className:"".concat(h,"-item-link")},m.createElement("div",{className:"".concat(h,"-item-container")},m.createElement(qB,{className:"".concat(h,"-item-link-icon")}),e)),o=m.createElement("a",{className:"".concat(h,"-item-link")},m.createElement("div",{className:"".concat(h,"-item-container")},m.createElement(QB,{className:"".concat(h,"-item-link-icon")}),e));if("rtl"===d){var i=[n,t];t=i[0],n=i[1];var a=[o,r];r=a[0],o=a[1]}return{prevIcon:t,nextIcon:n,jumpPrevIcon:r,jumpNextIcon:o}}(),u,{prefixCls:h,selectPrefixCls:p,className:g,selectComponentClass:a||(l?tz:Bj),locale:t}))};return m.createElement(fT,{componentName:"Pagination",defaultLocale:oT},p)},az=iz,sz=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function uz(e,t,n){var r=t&&"object"===(0,N_.Z)(t)?t:{},o=r.total,i=void 0===o?0:o,a=sz(r,["total"]),s=(0,m.useState)((function(){return{current:"defaultCurrent"in a?a.defaultCurrent:1,pageSize:"defaultPageSize"in a?a.defaultPageSize:10}})),u=(0,gt.Z)(s,2),c=u[0],l=u[1],f=function(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){t&&Object.keys(t).forEach((function(n){var r=t[n];void 0!==r&&(e[n]=r)}))})),e}(c,a,{total:i>0?i:e}),d=Math.ceil((i||e)/f.pageSize);f.current>d&&(f.current=d||1);var h=function(e,t){l({current:null!==e&&void 0!==e?e:1,pageSize:t||f.pageSize})};return!1===t?[{},function(){}]:[vt(vt({},f),{onChange:function(e,r){var o;t&&(null===(o=t.onChange)||void 0===o||o.call(t,e,r)),h(e,r),n(e,r||(null===f||void 0===f?void 0:f.pageSize))}}),h]}var cz=m.createContext(null),lz=function(e){for(var t=e.prefixCls,n=e.level,r=e.isStart,o=e.isEnd,i="".concat(t,"-indent-unit"),a=[],s=0;s<n;s+=1){var u;a.push(m.createElement("span",{key:s,className:__()(i,(u={},(0,xe.Z)(u,"".concat(i,"-start"),r[s]),(0,xe.Z)(u,"".concat(i,"-end"),o[s]),u))}))}return m.createElement("span",{"aria-hidden":"true",className:"".concat(t,"-indent")},a)},fz=m.memo(lz),dz=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],hz="open",pz="close",gz=function(e){(0,C_.Z)(n,e);var t=(0,M_.Z)(n);function n(){var e;(0,k_.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={dragNodeHighlight:!1},e.selectHandle=void 0,e.onSelectorClick=function(t){(0,e.props.context.onNodeClick)(t,Lz(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)},e.onSelectorDoubleClick=function(t){(0,e.props.context.onNodeDoubleClick)(t,Lz(e.props))},e.onSelect=function(t){if(!e.isDisabled()){var n=e.props.context.onNodeSelect;t.preventDefault(),n(t,Lz(e.props))}},e.onCheck=function(t){if(!e.isDisabled()){var n=e.props,r=n.disableCheckbox,o=n.checked,i=e.props.context.onNodeCheck;if(e.isCheckable()&&!r){t.preventDefault();var a=!o;i(t,Lz(e.props),a)}}},e.onMouseEnter=function(t){(0,e.props.context.onNodeMouseEnter)(t,Lz(e.props))},e.onMouseLeave=function(t){(0,e.props.context.onNodeMouseLeave)(t,Lz(e.props))},e.onContextMenu=function(t){(0,e.props.context.onNodeContextMenu)(t,Lz(e.props))},e.onDragStart=function(t){var n=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),n(t,(0,ET.Z)(e));try{t.dataTransfer.setData("text/plain","")}catch(r){}},e.onDragEnter=function(t){var n=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),n(t,(0,ET.Z)(e))},e.onDragOver=function(t){var n=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),n(t,(0,ET.Z)(e))},e.onDragLeave=function(t){var n=e.props.context.onNodeDragLeave;t.stopPropagation(),n(t,(0,ET.Z)(e))},e.onDragEnd=function(t){var n=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,(0,ET.Z)(e))},e.onDrop=function(t){var n=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,(0,ET.Z)(e))},e.onExpand=function(t){var n=e.props,r=n.loading,o=n.context.onNodeExpand;r||o(t,Lz(e.props))},e.setSelectHandle=function(t){e.selectHandle=t},e.getNodeState=function(){var t=e.props.expanded;return e.isLeaf()?null:t?hz:pz},e.hasChildren=function(){var t=e.props.eventKey;return!!((e.props.context.keyEntities[t]||{}).children||[]).length},e.isLeaf=function(){var t=e.props,n=t.isLeaf,r=t.loaded,o=e.props.context.loadData,i=e.hasChildren();return!1!==n&&(n||!o&&!i||o&&r&&!i)},e.isDisabled=function(){var t=e.props.disabled;return!(!e.props.context.disabled&&!t)},e.isCheckable=function(){var t=e.props.checkable,n=e.props.context.checkable;return!(!n||!1===t)&&n},e.syncLoadData=function(t){var n=t.expanded,r=t.loading,o=t.loaded,i=e.props.context,a=i.loadData,s=i.onNodeLoad;r||a&&n&&!e.isLeaf()&&(e.hasChildren()||o||s(Lz(e.props)))},e.isDraggable=function(){var t=e.props,n=t.data,r=t.context.draggable;return!(!r||r.nodeDraggable&&!r.nodeDraggable(n))},e.renderDragHandler=function(){var t=e.props.context,n=t.draggable,r=t.prefixCls;return(null===n||void 0===n?void 0:n.icon)?m.createElement("span",{className:"".concat(r,"-draggable-icon")},n.icon):null},e.renderSwitcherIconDom=function(t){var n=e.props.switcherIcon,r=e.props.context.switcherIcon,o=n||r;return"function"===typeof o?o(Ee(Ee({},e.props),{},{isLeaf:t})):o},e.renderSwitcher=function(){var t=e.props.expanded,n=e.props.context.prefixCls;if(e.isLeaf()){var r=e.renderSwitcherIconDom(!0);return!1!==r?m.createElement("span",{className:__()("".concat(n,"-switcher"),"".concat(n,"-switcher-noop"))},r):null}var o=__()("".concat(n,"-switcher"),"".concat(n,"-switcher_").concat(t?hz:pz)),i=e.renderSwitcherIconDom(!1);return!1!==i?m.createElement("span",{onClick:e.onExpand,className:o},i):null},e.renderCheckbox=function(){var t=e.props,n=t.checked,r=t.halfChecked,o=t.disableCheckbox,i=e.props.context.prefixCls,a=e.isDisabled(),s=e.isCheckable();if(!s)return null;var u="boolean"!==typeof s?s:null;return m.createElement("span",{className:__()("".concat(i,"-checkbox"),n&&"".concat(i,"-checkbox-checked"),!n&&r&&"".concat(i,"-checkbox-indeterminate"),(a||o)&&"".concat(i,"-checkbox-disabled")),onClick:e.onCheck},u)},e.renderIcon=function(){var t=e.props.loading,n=e.props.context.prefixCls;return m.createElement("span",{className:__()("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(n,"-icon_loading"))})},e.renderSelector=function(){var t,n,r=e.state.dragNodeHighlight,o=e.props,i=o.title,a=o.selected,s=o.icon,u=o.loading,c=o.data,l=e.props.context,f=l.prefixCls,d=l.showIcon,h=l.icon,p=l.loadData,g=l.titleRender,v=e.isDisabled(),y="".concat(f,"-node-content-wrapper");if(d){var b=s||h;t=b?m.createElement("span",{className:__()("".concat(f,"-iconEle"),"".concat(f,"-icon__customize"))},"function"===typeof b?b(e.props):b):e.renderIcon()}else p&&u&&(t=e.renderIcon());n="function"===typeof i?i(c):g?g(c):i;var x=m.createElement("span",{className:"".concat(f,"-title")},n);return m.createElement("span",{ref:e.setSelectHandle,title:"string"===typeof i?i:"",className:__()("".concat(y),"".concat(y,"-").concat(e.getNodeState()||"normal"),!v&&(a||r)&&"".concat(f,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},t,x,e.renderDropIndicator())},e.renderDropIndicator=function(){var t=e.props,n=t.disabled,r=t.eventKey,o=e.props.context,i=o.draggable,a=o.dropLevelOffset,s=o.dropPosition,u=o.prefixCls,c=o.indent,l=o.dropIndicatorRender,f=o.dragOverNodeKey,d=o.direction;return!n&&!1!==i&&f===r?l({dropPosition:s,dropLevelOffset:a,indent:c,prefixCls:u,direction:d}):null},e}return(0,T_.Z)(n,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var e=this.props.selectable,t=this.props.context.selectable;return"boolean"===typeof e?e:t}},{key:"render",value:function(){var e,t=this.props,n=t.eventKey,r=t.className,o=t.style,i=t.dragOver,a=t.dragOverGapTop,s=t.dragOverGapBottom,u=t.isLeaf,c=t.isStart,l=t.isEnd,f=t.expanded,d=t.selected,h=t.checked,p=t.halfChecked,g=t.loading,v=t.domRef,y=t.active,b=(t.data,t.onMouseMove),x=t.selectable,w=S_(t,dz),E=this.props.context,_=E.prefixCls,S=E.filterTreeNode,k=E.keyEntities,T=E.dropContainerKey,C=E.dropTargetKey,M=E.draggingNodeKey,N=this.isDisabled(),A=SR(w,{aria:!0,data:!0}),P=(k[n]||{}).level,O=l[l.length-1],I=this.isDraggable(),D=!N&&I,R=M===n,L=void 0!==x?{"aria-selected":!!x}:void 0;return m.createElement("div",vt({ref:v,className:__()(r,"".concat(_,"-treenode"),(e={},(0,xe.Z)(e,"".concat(_,"-treenode-disabled"),N),(0,xe.Z)(e,"".concat(_,"-treenode-switcher-").concat(f?"open":"close"),!u),(0,xe.Z)(e,"".concat(_,"-treenode-checkbox-checked"),h),(0,xe.Z)(e,"".concat(_,"-treenode-checkbox-indeterminate"),p),(0,xe.Z)(e,"".concat(_,"-treenode-selected"),d),(0,xe.Z)(e,"".concat(_,"-treenode-loading"),g),(0,xe.Z)(e,"".concat(_,"-treenode-active"),y),(0,xe.Z)(e,"".concat(_,"-treenode-leaf-last"),O),(0,xe.Z)(e,"".concat(_,"-treenode-draggable"),D),(0,xe.Z)(e,"dragging",R),(0,xe.Z)(e,"drop-target",C===n),(0,xe.Z)(e,"drop-container",T===n),(0,xe.Z)(e,"drag-over",!N&&i),(0,xe.Z)(e,"drag-over-gap-top",!N&&a),(0,xe.Z)(e,"drag-over-gap-bottom",!N&&s),(0,xe.Z)(e,"filter-node",S&&S(Lz(this.props))),e)),style:o,draggable:D,"aria-grabbed":R,onDragStart:D?this.onDragStart:void 0,onDragEnter:I?this.onDragEnter:void 0,onDragOver:I?this.onDragOver:void 0,onDragLeave:I?this.onDragLeave:void 0,onDrop:I?this.onDrop:void 0,onDragEnd:I?this.onDragEnd:void 0,onMouseMove:b},L,A),m.createElement(fz,{prefixCls:_,level:P,isStart:c,isEnd:l}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),n}(m.Component),vz=function(e){return m.createElement(cz.Consumer,null,(function(t){return m.createElement(gz,vt({},e,{context:t}))}))};vz.displayName="TreeNode",vz.defaultProps={title:"---"},vz.isTreeNode=1;var mz=vz;function yz(e,t){if(!e)return[];var n=e.slice(),r=n.indexOf(t);return r>=0&&n.splice(r,1),n}function bz(e,t){var n=(e||[]).slice();return-1===n.indexOf(t)&&n.push(t),n}function xz(e){return e.split("-")}function wz(e,t){return"".concat(e,"-").concat(t)}function Ez(e,t){var n=[];return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){var r=t.key,o=t.children;n.push(r),e(o)}))}(t[e].children),n}function _z(e){if(e.parent){var t=xz(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function Sz(e,t,n,r,o,i,a,s,u,c){var l,f=e.clientX,d=e.clientY,h=e.target.getBoundingClientRect(),p=h.top,g=h.height,v=(("rtl"===c?-1:1)*(((null===o||void 0===o?void 0:o.x)||0)-f)-12)/r,m=s[n.props.eventKey];if(d<p+g/2){var y=a.findIndex((function(e){return e.key===m.key})),b=a[y<=0?0:y-1].key;m=s[b]}var x=m.key,w=m,E=m.key,_=0,S=0;if(!u.includes(x))for(var k=0;k<v&&_z(m);k+=1)m=m.parent,S+=1;var T=t.props.data,C=m.node,M=!0;return function(e){var t=xz(e.pos);return 0===Number(t[t.length-1])}(m)&&0===m.level&&d<p+g/2&&i({dragNode:T,dropNode:C,dropPosition:-1})&&m.key===n.props.eventKey?_=-1:(w.children||[]).length&&u.includes(E)?i({dragNode:T,dropNode:C,dropPosition:0})?_=0:M=!1:0===S?v>-1.5?i({dragNode:T,dropNode:C,dropPosition:1})?_=1:M=!1:i({dragNode:T,dropNode:C,dropPosition:0})?_=0:i({dragNode:T,dropNode:C,dropPosition:1})?_=1:M=!1:i({dragNode:T,dropNode:C,dropPosition:1})?_=1:M=!1,{dropPosition:_,dropLevelOffset:S,dropTargetKey:m.key,dropTargetPos:m.pos,dragOverNodeKey:E,dropContainerKey:0===_?null:(null===(l=m.parent)||void 0===l?void 0:l.key)||null,dropAllowed:M}}function kz(e,t){if(e)return t.multiple?e.slice():e.length?[e[0]]:e}function Tz(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==(0,N_.Z)(e))return Ek(!1,"`checkedKeys` is not an array or an object"),null;t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return t}function Cz(e,t){var n=new Set;function r(e){if(!n.has(e)){var o=t[e];if(o){n.add(e);var i=o.parent;o.node.disabled||i&&r(i.key)}}}return(e||[]).forEach((function(e){r(e)})),(0,OS.Z)(n)}var Mz=["children"];function Nz(e,t){return null!==e&&void 0!==e?e:t}function Az(e){var t=e||{},n=t.title||"title";return{title:n,_title:t._title||[n],key:t.key||"key",children:t.children||"children"}}function Pz(e){return function e(t){return _T(t).map((function(t){if(!function(e){return e&&e.type&&e.type.isTreeNode}(t))return Ek(!t,"Tree/TreeNode can only accept TreeNode as children."),null;var n=t.key,r=t.props,o=r.children,i=Ee({key:n},S_(r,Mz)),a=e(o);return a.length&&(i.children=a),i})).filter((function(e){return e}))}(e)}function Oz(e,t,n){var r=Az(n),o=r._title,i=r.key,a=r.children,s=new Set(!0===t?[]:t),u=[];return function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.map((function(c,l){for(var f,d=wz(r?r.pos:"0",l),h=Nz(c[i],d),p=0;p<o.length;p+=1){var g=o[p];if(void 0!==c[g]){f=c[g];break}}var v=Ee(Ee({},xN(c,[].concat((0,OS.Z)(o),[i,a]))),{},{title:f,key:h,parent:r,pos:d,children:null,data:c,isStart:[].concat((0,OS.Z)(r?r.isStart:[]),[0===l]),isEnd:[].concat((0,OS.Z)(r?r.isEnd:[]),[l===n.length-1])});return u.push(v),!0===t||s.has(h)?v.children=e(c[a]||[],v):v.children=[],v}))}(e),u}function Iz(e,t,n){var r,o=("object"===(0,N_.Z)(n)?n:{externalGetKey:n})||{},i=o.childrenPropName,a=o.externalGetKey,s=Az(o.fieldNames),u=s.key,c=s.children,l=i||c;a?"string"===typeof a?r=function(e){return e[a]}:"function"===typeof a&&(r=function(e){return a(e)}):r=function(e,t){return Nz(e[u],t)},function n(o,i,a,s){var u=o?o[l]:e,c=o?wz(a.pos,i):"0",f=o?[].concat((0,OS.Z)(s),[o]):[];if(o){var d=r(o,c),h={node:o,index:i,pos:c,key:d,parentPos:a.node?a.pos:null,level:a.level+1,nodes:f};t(h)}u&&u.forEach((function(e,t){n(e,t,{node:o,pos:c,level:a?a.level+1:-1},f)}))}(null)}function Dz(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,r=t.processEntity,o=t.onProcessFinished,i=t.externalGetKey,a=t.childrenPropName,s=t.fieldNames,u=arguments.length>2?arguments[2]:void 0,c=i||u,l={},f={},d={posEntities:l,keyEntities:f};return n&&(d=n(d)||d),Iz(e,(function(e){var t=e.node,n=e.index,o=e.pos,i=e.key,a=e.parentPos,s=e.level,u={node:t,nodes:e.nodes,index:n,key:i,pos:o,level:s},c=Nz(i,o);l[o]=u,f[c]=u,u.parent=l[a],u.parent&&(u.parent.children=u.parent.children||[],u.parent.children.push(u)),r&&r(u,d)}),{externalGetKey:c,childrenPropName:a,fieldNames:s}),o&&o(d),d}function Rz(e,t){var n=t.expandedKeys,r=t.selectedKeys,o=t.loadedKeys,i=t.loadingKeys,a=t.checkedKeys,s=t.halfCheckedKeys,u=t.dragOverNodeKey,c=t.dropPosition,l=t.keyEntities[e];return{eventKey:e,expanded:-1!==n.indexOf(e),selected:-1!==r.indexOf(e),loaded:-1!==o.indexOf(e),loading:-1!==i.indexOf(e),checked:-1!==a.indexOf(e),halfChecked:-1!==s.indexOf(e),pos:String(l?l.pos:""),dragOver:u===e&&0===c,dragOverGapTop:u===e&&-1===c,dragOverGapBottom:u===e&&1===c}}function Lz(e){var t=e.data,n=e.expanded,r=e.selected,o=e.checked,i=e.loaded,a=e.loading,s=e.halfChecked,u=e.dragOver,c=e.dragOverGapTop,l=e.dragOverGapBottom,f=e.pos,d=e.active,h=e.eventKey,p=Ee(Ee({},t),{},{expanded:n,selected:r,checked:o,loaded:i,loading:a,halfChecked:s,dragOver:u,dragOverGapTop:c,dragOverGapBottom:l,pos:f,active:d,key:h});return"props"in p||Object.defineProperty(p,"props",{get:function(){return Ek(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),p}function jz(e,t){var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n}function Fz(e){var t=e||{},n=t.disabled,r=t.disableCheckbox,o=t.checkable;return!(!n&&!r)||!1===o}function Bz(e,t,n,r){var o,i=[];o=r||Fz;var a,s=new Set(e.filter((function(e){var t=!!n[e];return t||i.push(e),t}))),u=new Map,c=0;return Object.keys(n).forEach((function(e){var t=n[e],r=t.level,o=u.get(r);o||(o=new Set,u.set(r,o)),o.add(t),c=Math.max(c,r)})),Ek(!i.length,"Tree missing follow keys: ".concat(i.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),a=!0===t?function(e,t,n,r){for(var o=new Set(e),i=new Set,a=0;a<=n;a+=1)(t.get(a)||new Set).forEach((function(e){var t=e.key,n=e.node,i=e.children,a=void 0===i?[]:i;o.has(t)&&!r(n)&&a.filter((function(e){return!r(e.node)})).forEach((function(e){o.add(e.key)}))}));for(var s=new Set,u=n;u>=0;u-=1)(t.get(u)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!r(n)&&e.parent&&!s.has(e.parent.key))if(r(e.parent.node))s.add(t.key);else{var a=!0,u=!1;(t.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var t=e.key,n=o.has(t);a&&!n&&(a=!1),u||!n&&!i.has(t)||(u=!0)})),a&&o.add(t.key),u&&i.add(t.key),s.add(t.key)}}));return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(jz(i,o))}}(s,u,c,o):function(e,t,n,r,o){for(var i=new Set(e),a=new Set(t),s=0;s<=r;s+=1)(n.get(s)||new Set).forEach((function(e){var t=e.key,n=e.node,r=e.children,s=void 0===r?[]:r;i.has(t)||a.has(t)||o(n)||s.filter((function(e){return!o(e.node)})).forEach((function(e){i.delete(e.key)}))}));a=new Set;for(var u=new Set,c=r;c>=0;c-=1)(n.get(c)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!o(n)&&e.parent&&!u.has(e.parent.key))if(o(e.parent.node))u.add(t.key);else{var r=!0,s=!1;(t.children||[]).filter((function(e){return!o(e.node)})).forEach((function(e){var t=e.key,n=i.has(t);r&&!n&&(r=!1),s||!n&&!a.has(t)||(s=!0)})),r||i.delete(t.key),s&&a.add(t.key),u.add(t.key)}}));return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(jz(a,i))}}(s,t.halfCheckedKeys,u,c,o),a}var zz=function(e){(0,C_.Z)(n,e);var t=(0,M_.Z)(n);function n(e){var r;(0,k_.Z)(this,n),(r=t.call(this,e)).handleChange=function(e){var t=r.props,n=t.disabled,o=t.onChange;n||("checked"in r.props||r.setState({checked:e.target.checked}),o&&o({target:Ee(Ee({},r.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},r.saveInput=function(e){r.input=e};var o="checked"in e?e.checked:e.defaultChecked;return r.state={checked:o},r}return(0,T_.Z)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,r=t.className,o=t.style,i=t.name,a=t.id,s=t.type,u=t.disabled,c=t.readOnly,l=t.tabIndex,f=t.onClick,d=t.onFocus,h=t.onBlur,p=t.onKeyDown,g=t.onKeyPress,v=t.onKeyUp,y=t.autoFocus,b=t.value,x=t.required,w=S_(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),E=Object.keys(w).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=w[t]),e}),{}),_=this.state.checked,S=__()(n,r,(e={},(0,xe.Z)(e,"".concat(n,"-checked"),_),(0,xe.Z)(e,"".concat(n,"-disabled"),u),e));return m.createElement("span",{className:S,style:o},m.createElement("input",vt({name:i,id:a,type:s,required:x,readOnly:c,disabled:u,tabIndex:l,className:"".concat(n,"-input"),checked:!!_,onClick:f,onFocus:d,onBlur:h,onKeyUp:v,onKeyDown:p,onKeyPress:g,onChange:this.handleChange,autoFocus:y,ref:this.saveInput,value:b},E)),m.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?Ee(Ee({},t),{},{checked:e.checked}):null}}]),n}(m.Component);zz.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var Gz=zz,Vz=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Uz=m.createContext(null),Wz=function(e,t){var n=e.defaultValue,r=e.children,o=e.options,i=void 0===o?[]:o,a=e.prefixCls,s=e.className,u=e.style,c=e.onChange,l=Vz(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),f=m.useContext(xT),d=f.getPrefixCls,h=f.direction,p=m.useState(l.value||n||[]),g=(0,gt.Z)(p,2),v=g[0],y=g[1],b=m.useState([]),x=(0,gt.Z)(b,2),w=x[0],E=x[1];m.useEffect((function(){"value"in l&&y(l.value||[])}),[l.value]);var _=function(){return i.map((function(e){return"string"===typeof e||"number"===typeof e?{label:e,value:e}:e}))},S=d("checkbox",a),k="".concat(S,"-group"),T=xN(l,["value","disabled"]);i&&i.length>0&&(r=_().map((function(e){return m.createElement(qz,{prefixCls:S,key:e.value.toString(),disabled:"disabled"in e?e.disabled:l.disabled,value:e.value,checked:-1!==v.indexOf(e.value),onChange:e.onChange,className:"".concat(k,"-item"),style:e.style},e.label)})));var C={toggleOption:function(e){var t=v.indexOf(e.value),n=(0,OS.Z)(v);-1===t?n.push(e.value):n.splice(t,1),"value"in l||y(n);var r=_();null===c||void 0===c||c(n.filter((function(e){return-1!==w.indexOf(e)})).sort((function(e,t){return r.findIndex((function(t){return t.value===e}))-r.findIndex((function(e){return e.value===t}))})))},value:v,disabled:l.disabled,name:l.name,registerValue:function(e){E((function(t){return[].concat((0,OS.Z)(t),[e])}))},cancelValue:function(e){E((function(t){return t.filter((function(t){return t!==e}))}))}},M=__()(k,(0,xe.Z)({},"".concat(k,"-rtl"),"rtl"===h),s);return m.createElement("div",vt({className:M,style:u},T,{ref:t}),m.createElement(Uz.Provider,{value:C},r))},Zz=m.forwardRef(Wz),Yz=m.memo(Zz),Hz=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Xz=function(e,t){var n,r=e.prefixCls,o=e.className,i=e.children,a=e.indeterminate,s=void 0!==a&&a,u=e.style,c=e.onMouseEnter,l=e.onMouseLeave,f=e.skipGroup,d=void 0!==f&&f,h=Hz(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),p=m.useContext(xT),g=p.getPrefixCls,v=p.direction,y=m.useContext(Uz),b=m.useRef(h.value);m.useEffect((function(){null===y||void 0===y||y.registerValue(h.value),QC("checked"in h||!!y||!("value"in h),"Checkbox","`value` is not a valid prop, do you mean `checked`?")}),[]),m.useEffect((function(){if(!d)return h.value!==b.current&&(null===y||void 0===y||y.cancelValue(b.current),null===y||void 0===y||y.registerValue(h.value),b.current=h.value),function(){return null===y||void 0===y?void 0:y.cancelValue(h.value)}}),[h.value]);var x=g("checkbox",r),w=vt({},h);y&&!d&&(w.onChange=function(){h.onChange&&h.onChange.apply(h,arguments),y.toggleOption&&y.toggleOption({label:i,value:h.value})},w.name=y.name,w.checked=-1!==y.value.indexOf(h.value),w.disabled=h.disabled||y.disabled);var E=__()((n={},(0,xe.Z)(n,"".concat(x,"-wrapper"),!0),(0,xe.Z)(n,"".concat(x,"-rtl"),"rtl"===v),(0,xe.Z)(n,"".concat(x,"-wrapper-checked"),w.checked),(0,xe.Z)(n,"".concat(x,"-wrapper-disabled"),w.disabled),n),o),_=__()((0,xe.Z)({},"".concat(x,"-indeterminate"),s));return m.createElement("label",{className:E,style:u,onMouseEnter:c,onMouseLeave:l},m.createElement(Gz,vt({},w,{prefixCls:x,className:_,ref:t})),void 0!==i&&m.createElement("span",null,i))},Kz=m.forwardRef(Xz);Kz.displayName="Checkbox";var qz=Kz,$z=qz;$z.Group=Yz,$z.__ANT_CHECKBOX=!0;var Jz=$z,Qz={adjustX:1,adjustY:1},eG=[0,0],tG={topLeft:{points:["bl","tl"],overflow:Qz,offset:[0,-4],targetOffset:eG},topCenter:{points:["bc","tc"],overflow:Qz,offset:[0,-4],targetOffset:eG},topRight:{points:["br","tr"],overflow:Qz,offset:[0,-4],targetOffset:eG},bottomLeft:{points:["tl","bl"],overflow:Qz,offset:[0,4],targetOffset:eG},bottomCenter:{points:["tc","bc"],overflow:Qz,offset:[0,4],targetOffset:eG},bottomRight:{points:["tr","br"],overflow:Qz,offset:[0,4],targetOffset:eG}},nG=cA.ESC,rG=cA.TAB;function oG(e){var t=e.visible,n=e.setTriggerVisible,r=e.triggerRef,o=e.menuRef,i=e.menuClassName,a=e.onVisibleChange,s=function(){t&&r.current&&(r.current.triggerRef.current&&r.current.triggerRef.current.focus(),n(!1),"function"===typeof a&&a(!1))},u=function(e){switch(e.keyCode){case nG:case rG:s()}};m.useEffect((function(){return t?(setTimeout((function(){!function(){if(o.current){var e,t,n,r=(null===(e=o.current.className)||void 0===e?void 0:e.includes(i))?o.current:null===(t=(n=o.current).querySelector)||void 0===t?void 0:t.call(n,i);r&&r.focus()}}(),window.addEventListener("keydown",u)}),100),function(){window.removeEventListener("keydown",u)}):function(){return null}}),[t]);return{returnFocus:function(){t&&r.current&&r.current.triggerRef.current&&setTimeout((function(){var e,t,n;null===(e=r.current)||void 0===e||null===(t=e.triggerRef)||void 0===t||null===(n=t.current)||void 0===n||n.focus()}),100)}}}var iG=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger"];function aG(e,t){var n=e.arrow,r=void 0!==n&&n,o=e.prefixCls,i=void 0===o?"rc-dropdown":o,a=e.transitionName,s=e.animation,u=e.align,c=e.placement,l=void 0===c?"bottomLeft":c,f=e.placements,d=void 0===f?tG:f,h=e.getPopupContainer,p=e.showAction,g=e.hideAction,v=e.overlayClassName,y=e.overlayStyle,b=e.visible,x=e.trigger,w=void 0===x?["hover"]:x,E=S_(e,iG),_=m.useState(),S=(0,gt.Z)(_,2),k=S[0],T=S[1],C="visible"in e?b:k,M=m.useRef(null);m.useImperativeHandle(t,(function(){return M.current}));var N=m.useRef(null),A="".concat(i,"-menu"),P=oG({visible:C,setTriggerVisible:T,triggerRef:M,menuRef:N,menuClassName:A,onVisibleChange:e.onVisibleChange}).returnFocus,O=function(){var t=e.overlay;return"function"===typeof t?t():t},I=function(t){var n=e.onOverlayClick,r=O().props;T(!1),n&&n(t),r.onClick&&r.onClick(t),P()},D=function(){var e=O(),t={prefixCls:A,onClick:I,ref:R_(e)?N:void 0};return"string"===typeof e.type&&delete t.prefixCls,m.createElement(m.Fragment,null,r&&m.createElement("div",{className:"".concat(i,"-arrow")}),m.cloneElement(e,t))},R=g;return R||-1===w.indexOf("contextMenu")||(R=["click"]),m.createElement(xI,Ee(Ee({builtinPlacements:d},E),{},{prefixCls:i,ref:M,popupClassName:__()(v,(0,xe.Z)({},"".concat(i,"-show-arrow"),r)),popupStyle:y,action:w,showAction:p,hideAction:R||[],popupPlacement:l,popupAlign:u,popupTransitionName:a,popupAnimation:s,popupVisible:C,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof e.overlay?D:D(),onPopupVisibleChange:function(t){var n=e.onVisibleChange;T(t),"function"===typeof n&&n(t)},getPopupContainer:h}),function(){var t=e.children,n=t.props?t.props:{},r=__()(n.className,function(){var t=e.openClassName;return void 0!==t?t:"".concat(i,"-open")}());return C&&t?m.cloneElement(t,{className:r}):t}())}var sG=m.forwardRef(aG),uG={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},cG=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:uG}))};cG.displayName="EllipsisOutlined";var lG=m.forwardRef(cG),fG=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},dG=WN.Group,hG=function(e){var t=m.useContext(xT),n=t.getPopupContainer,r=t.getPrefixCls,o=t.direction,i=e.prefixCls,a=e.type,s=void 0===a?"default":a,u=e.disabled,c=e.loading,l=e.onClick,f=e.htmlType,d=e.children,h=e.className,p=e.overlay,g=e.trigger,v=e.align,y=e.visible,b=e.onVisibleChange,x=e.placement,w=e.getPopupContainer,E=e.href,_=e.icon,S=void 0===_?m.createElement(lG,null):_,k=e.title,T=e.buttonsRender,C=void 0===T?function(e){return e}:T,M=e.mouseEnterDelay,N=e.mouseLeaveDelay,A=e.overlayClassName,P=e.overlayStyle,O=e.destroyPopupOnHide,I=fG(e,["prefixCls","type","disabled","loading","onClick","htmlType","children","className","overlay","trigger","align","visible","onVisibleChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide"]),D=r("dropdown-button",i),R={align:v,overlay:p,disabled:u,trigger:u?[]:g,onVisibleChange:b,getPopupContainer:w||n,mouseEnterDelay:M,mouseLeaveDelay:N,overlayClassName:A,overlayStyle:P,destroyPopupOnHide:O};"visible"in e&&(R.visible=y),R.placement="placement"in e?x:"rtl"===o?"bottomLeft":"bottomRight";var L=C([m.createElement(WN,{type:s,disabled:u,loading:c,onClick:l,htmlType:f,href:E,title:k},d),m.createElement(WN,{type:s,icon:S})]),j=(0,gt.Z)(L,2),F=j[0],B=j[1];return m.createElement(dG,vt({},I,{className:__()(D,h)}),F,m.createElement(SG,R,B))};hG.__ANT_BUTTON=!0;var pG=hG,gG={adjustX:1,adjustY:1},vG=[0,0],mG={left:{points:["cr","cl"],overflow:gG,offset:[-4,0],targetOffset:vG},right:{points:["cl","cr"],overflow:gG,offset:[4,0],targetOffset:vG},top:{points:["bc","tc"],overflow:gG,offset:[0,-4],targetOffset:vG},bottom:{points:["tc","bc"],overflow:gG,offset:[0,4],targetOffset:vG},topLeft:{points:["bl","tl"],overflow:gG,offset:[0,-4],targetOffset:vG},leftTop:{points:["tr","tl"],overflow:gG,offset:[-4,0],targetOffset:vG},topRight:{points:["br","tr"],overflow:gG,offset:[0,-4],targetOffset:vG},rightTop:{points:["tl","tr"],overflow:gG,offset:[4,0],targetOffset:vG},bottomRight:{points:["tr","br"],overflow:gG,offset:[0,4],targetOffset:vG},rightBottom:{points:["bl","br"],overflow:gG,offset:[4,0],targetOffset:vG},bottomLeft:{points:["tl","bl"],overflow:gG,offset:[0,4],targetOffset:vG},leftBottom:{points:["br","bl"],overflow:gG,offset:[-4,0],targetOffset:vG}},yG={adjustX:1,adjustY:1},bG={adjustX:0,adjustY:0},xG=[0,0];function wG(e){return"boolean"===typeof e?e?yG:bG:vt(vt({},bG),e)}function EG(e){var t=e.arrowWidth,n=void 0===t?4:t,r=e.horizontalArrowShift,o=void 0===r?16:r,i=e.verticalArrowShift,a=void 0===i?8:i,s=e.autoAdjustOverflow,u=e.arrowPointAtCenter,c={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(o+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(a+n)]},topRight:{points:["br","tc"],offset:[o+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(a+n)]},bottomRight:{points:["tr","bc"],offset:[o+n,4]},rightBottom:{points:["bl","cr"],offset:[4,a+n]},bottomLeft:{points:["tl","bc"],offset:[-(o+n),4]},leftBottom:{points:["br","cl"],offset:[-4,a+n]}};return Object.keys(c).forEach((function(e){c[e]=u?vt(vt({},c[e]),{overflow:wG(s),targetOffset:xG}):vt(vt({},mG[e]),{overflow:wG(s)}),c[e].ignoreShake=!0})),c}IN("topLeft","topCenter","topRight","bottomLeft","bottomCenter","bottomRight","top","bottom");var _G=function(e){var t,n=m.useContext(xT),r=n.getPopupContainer,o=n.getPrefixCls,i=n.direction,a=e.arrow,s=e.prefixCls,u=e.children,c=e.trigger,l=e.disabled,f=e.getPopupContainer,d=e.overlayClassName,h=o("dropdown",s),p=m.Children.only(u),g=NN(p,{className:__()("".concat(h,"-trigger"),(0,xe.Z)({},"".concat(h,"-rtl"),"rtl"===i),p.props.className),disabled:l}),v=__()(d,(0,xe.Z)({},"".concat(h,"-rtl"),"rtl"===i)),y=l?[]:c;y&&-1!==y.indexOf("contextMenu")&&(t=!0);var b=EG({arrowPointAtCenter:"object"===(0,N_.Z)(a)&&a.pointAtCenter,autoAdjustOverflow:!0});return m.createElement(sG,vt({alignPoint:t},e,{builtinPlacements:b,arrow:!!a,overlayClassName:v,prefixCls:h,getPopupContainer:f||r,transitionName:function(){var t=o(),n=e.placement,r=void 0===n?"":n,i=e.transitionName;return void 0!==i?i:r.indexOf("top")>=0?"".concat(t,"-slide-down"):"".concat(t,"-slide-up")}(),trigger:y,overlay:function(){return function(t){var n,r=e.overlay;n="function"===typeof r?r():r;var o=(n=m.Children.only("string"===typeof n?m.createElement("span",null,n):n)).props;QC(!o.mode||"vertical"===o.mode,"Dropdown",'mode="'.concat(o.mode,"\" is not supported for Dropdown's Menu."));var i=o.selectable,a=void 0!==i&&i,s=o.expandIcon,u="undefined"!==typeof s&&m.isValidElement(s)?s:m.createElement("span",{className:"".concat(t,"-menu-submenu-arrow")},m.createElement(HB,{className:"".concat(t,"-menu-submenu-arrow-icon")}));return"string"===typeof n.type?n:NN(n,{mode:"vertical",selectable:a,expandIcon:u})}(h)},placement:function(){var t=e.placement;if(!t)return"rtl"===i?"bottomRight":"bottomLeft";if(t.includes("Center")){var n=t.slice(0,t.indexOf("Center"));return QC(!t.includes("Center"),"Dropdown","You are using '".concat(t,"' placement in Dropdown, which is deprecated. Try to use '").concat(n,"' instead.")),n}return t}()}),g)};_G.Button=pG,_G.defaultProps={mouseEnterDelay:.15,mouseLeaveDelay:.1};var SG=_G,kG=SG,TG=["children","locked"],CG=m.createContext(null);function MG(e){var t=e.children,n=e.locked,r=S_(e,TG),o=m.useContext(CG),i=O_((function(){return function(e,t){var n=Ee({},e);return Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}(o,r)}),[o,r],(function(e,t){return!n&&(e[0]!==t[0]||!TI()(e[1],t[1]))}));return m.createElement(CG.Provider,{value:i},t)}function NG(e,t,n,r){var o=m.useContext(CG),i=o.activeKey,a=o.onActive,s=o.onInactive,u={active:i===e};return t||(u.onMouseEnter=function(t){null===n||void 0===n||n({key:e,domEvent:t}),a(e)},u.onMouseLeave=function(t){null===r||void 0===r||r({key:e,domEvent:t}),s(e)}),u}var AG=["item"];function PG(e){var t=e.item,n=S_(e,AG);return Object.defineProperty(n,"item",{get:function(){return Ek(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function OG(e){var t=e.icon,n=e.props,r=e.children;return("function"===typeof t?m.createElement(t,Ee({},n)):t)||r||null}function IG(e){var t=m.useContext(CG),n=t.mode,r=t.rtl,o=t.inlineIndent;if("inline"!==n)return null;return r?{paddingRight:e*o}:{paddingLeft:e*o}}var DG=[],RG=m.createContext(null);function LG(){return m.useContext(RG)}var jG=m.createContext(DG);function FG(e){var t=m.useContext(jG);return m.useMemo((function(){return void 0!==e?[].concat((0,OS.Z)(t),[e]):t}),[t,e])}var BG=m.createContext(null),zG=m.createContext(null);function GG(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function VG(e){return GG(m.useContext(zG),e)}var UG=m.createContext({}),WG=["title","attribute","elementRef"],ZG=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],YG=["active"],HG=function(e){(0,C_.Z)(n,e);var t=(0,M_.Z)(n);function n(){return(0,k_.Z)(this,n),t.apply(this,arguments)}return(0,T_.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,r=e.elementRef,o=xN(S_(e,WG),["eventKey"]);return Ek(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),m.createElement(UR.Item,vt({},n,{title:"string"===typeof t?t:void 0},o,{ref:r}))}}]),n}(m.Component),XG=function(e){var t,n=e.style,r=e.className,o=e.eventKey,i=(e.warnKey,e.disabled),a=e.itemIcon,s=e.children,u=e.role,c=e.onMouseEnter,l=e.onMouseLeave,f=e.onClick,d=e.onKeyDown,h=e.onFocus,p=S_(e,ZG),g=VG(o),v=m.useContext(CG),y=v.prefixCls,b=v.onItemClick,x=v.disabled,w=v.overflowDisabled,E=v.itemIcon,_=v.selectedKeys,S=v.onActive,k=m.useContext(UG)._internalRenderMenuItem,T="".concat(y,"-item"),C=m.useRef(),M=m.useRef(),N=x||i,A=FG(o);var P=function(e){return{key:o,keyPath:(0,OS.Z)(A).reverse(),item:C.current,domEvent:e}},O=a||E,I=NG(o,N,c,l),D=I.active,R=S_(I,YG),L=_.includes(o),j=IG(A.length),F={};"option"===e.role&&(F["aria-selected"]=L);var B=m.createElement(HG,vt({ref:C,elementRef:M,role:null===u?"none":u||"menuitem",tabIndex:i?null:-1,"data-menu-id":w&&g?null:g},p,R,F,{component:"li","aria-disabled":i,style:Ee(Ee({},j),n),className:__()(T,(t={},(0,xe.Z)(t,"".concat(T,"-active"),D),(0,xe.Z)(t,"".concat(T,"-selected"),L),(0,xe.Z)(t,"".concat(T,"-disabled"),N),t),r),onClick:function(e){if(!N){var t=P(e);null===f||void 0===f||f(PG(t)),b(t)}},onKeyDown:function(e){if(null===d||void 0===d||d(e),e.which===cA.ENTER){var t=P(e);null===f||void 0===f||f(PG(t)),b(t)}},onFocus:function(e){S(o),null===h||void 0===h||h(e)}}),s,m.createElement(OG,{props:Ee(Ee({},e),{},{isSelected:L}),icon:O}));return k&&(B=k(B,e,{selected:L})),B};var KG=function(e){var t=e.eventKey,n=LG(),r=FG(t);return m.useEffect((function(){if(n)return n.registerPath(t,r),function(){n.unregisterPath(t,r)}}),[r]),n?null:m.createElement(XG,e)};function qG(e,t){return _T(e).map((function(e,n){if(m.isValidElement(e)){var r,o,i=e.key,a=null!==(r=null===(o=e.props)||void 0===o?void 0:o.eventKey)&&void 0!==r?r:i;(null===a||void 0===a)&&(a="tmp_key-".concat([].concat((0,OS.Z)(t),[n]).join("-")));var s={key:a,eventKey:a};return m.cloneElement(e,s)}return e}))}function $G(e){var t=m.useRef(e);t.current=e;var n=m.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return e?n:void 0}var JG=["className","children"],QG=function(e,t){var n=e.className,r=e.children,o=S_(e,JG),i=m.useContext(CG),a=i.prefixCls,s=i.mode,u=i.rtl;return m.createElement("ul",vt({className:__()(a,u&&"".concat(a,"-rtl"),"".concat(a,"-sub"),"".concat(a,"-").concat("inline"===s?"inline":"vertical"),n)},o,{"data-menu-list":!0,ref:t}),r)},eV=m.forwardRef(QG);eV.displayName="SubMenuList";var tV=eV,nV={adjustX:1,adjustY:1},rV={topLeft:{points:["bl","tl"],overflow:nV,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:nV,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:nV,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:nV,offset:[4,0]}},oV={topLeft:{points:["bl","tl"],overflow:nV,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:nV,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:nV,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:nV,offset:[4,0]}};function iV(e,t,n){return t||(n?n[e]||n.other:void 0)}var aV={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function sV(e){var t=e.prefixCls,n=e.visible,r=e.children,o=e.popup,i=e.popupClassName,a=e.popupOffset,s=e.disabled,u=e.mode,c=e.onVisibleChange,l=m.useContext(CG),f=l.getPopupContainer,d=l.rtl,h=l.subMenuOpenDelay,p=l.subMenuCloseDelay,g=l.builtinPlacements,v=l.triggerSubMenuAction,y=l.forceSubMenuRender,b=l.motion,x=l.defaultMotions,w=m.useState(!1),E=(0,gt.Z)(w,2),_=E[0],S=E[1],k=Ee(Ee({},d?oV:rV),g),T=aV[u],C=Ee(Ee({},iV(u,b,x)),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),M=m.useRef();return m.useEffect((function(){return M.current=fS((function(){S(n)})),function(){fS.cancel(M.current)}}),[n]),m.createElement(xI,{prefixCls:t,popupClassName:__()("".concat(t,"-popup"),(0,xe.Z)({},"".concat(t,"-rtl"),d),i),stretch:"horizontal"===u?"minWidth":null,getPopupContainer:f,builtinPlacements:k,popupPlacement:T,popupVisible:_,popup:o,popupAlign:a&&{offset:a},action:s?[]:[v],mouseEnterDelay:h,mouseLeaveDelay:p,onPopupVisibleChange:c,forceRender:y,popupMotion:C},r)}function uV(e){var t=e.id,n=e.open,r=e.keyPath,o=e.children,i="inline",a=m.useContext(CG),s=a.prefixCls,u=a.forceSubMenuRender,c=a.motion,l=a.defaultMotions,f=a.mode,d=m.useRef(!1);d.current=f===i;var h=m.useState(!d.current),p=(0,gt.Z)(h,2),g=p[0],v=p[1],y=!!d.current&&n;m.useEffect((function(){d.current&&v(!1)}),[f]);var b=Ee({},iV(i,c,l));r.length>1&&(b.motionAppear=!1);var x=b.onVisibleChanged;return b.onVisibleChanged=function(e){return d.current||e||v(!0),null===x||void 0===x?void 0:x(e)},g?null:m.createElement(MG,{mode:i,locked:!d.current},m.createElement(AS,vt({visible:y},b,{forceRender:u,removeOnLeave:!1,leavedClassName:"".concat(s,"-hidden")}),(function(e){var n=e.className,r=e.style;return m.createElement(tV,{id:t,className:n,style:r},o)})))}var cV=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],lV=["active"],fV=function(e){var t,n=e.style,r=e.className,o=e.title,i=e.eventKey,a=(e.warnKey,e.disabled),s=e.internalPopupClose,u=e.children,c=e.itemIcon,l=e.expandIcon,f=e.popupClassName,d=e.popupOffset,h=e.onClick,p=e.onMouseEnter,g=e.onMouseLeave,v=e.onTitleClick,y=e.onTitleMouseEnter,b=e.onTitleMouseLeave,x=S_(e,cV),w=VG(i),E=m.useContext(CG),_=E.prefixCls,S=E.mode,k=E.openKeys,T=E.disabled,C=E.overflowDisabled,M=E.activeKey,N=E.selectedKeys,A=E.itemIcon,P=E.expandIcon,O=E.onItemClick,I=E.onOpenChange,D=E.onActive,R=m.useContext(UG)._internalRenderSubMenuItem,L=m.useContext(BG).isSubPathKey,j=FG(),F="".concat(_,"-submenu"),B=T||a,z=m.useRef(),G=m.useRef();var V=c||A,U=l||P,W=k.includes(i),Z=!C&&W,Y=L(N,i),H=NG(i,B,y,b),X=H.active,K=S_(H,lV),q=m.useState(!1),$=(0,gt.Z)(q,2),J=$[0],Q=$[1],ee=function(e){B||Q(e)},te=m.useMemo((function(){return X||"inline"!==S&&(J||L([M],i))}),[S,X,M,J,i,L]),ne=IG(j.length),re=$G((function(e){null===h||void 0===h||h(PG(e)),O(e)})),oe=w&&"".concat(w,"-popup"),ie=m.createElement("div",vt({role:"menuitem",style:ne,className:"".concat(F,"-title"),tabIndex:B?null:-1,ref:z,title:"string"===typeof o?o:null,"data-menu-id":C&&w?null:w,"aria-expanded":Z,"aria-haspopup":!0,"aria-controls":oe,"aria-disabled":B,onClick:function(e){B||(null===v||void 0===v||v({key:i,domEvent:e}),"inline"===S&&I(i,!W))},onFocus:function(){D(i)}},K),o,m.createElement(OG,{icon:"horizontal"!==S?U:null,props:Ee(Ee({},e),{},{isOpen:Z,isSubMenu:!0})},m.createElement("i",{className:"".concat(F,"-arrow")}))),ae=m.useRef(S);if("inline"!==S&&(ae.current=j.length>1?"vertical":S),!C){var se=ae.current;ie=m.createElement(sV,{mode:se,prefixCls:F,visible:!s&&Z&&"inline"!==S,popupClassName:f,popupOffset:d,popup:m.createElement(MG,{mode:"horizontal"===se?"vertical":se},m.createElement(tV,{id:oe,ref:G},u)),disabled:B,onVisibleChange:function(e){"inline"!==S&&I(i,e)}},ie)}var ue=m.createElement(UR.Item,vt({role:"none"},x,{component:"li",style:n,className:__()(F,"".concat(F,"-").concat(S),r,(t={},(0,xe.Z)(t,"".concat(F,"-open"),Z),(0,xe.Z)(t,"".concat(F,"-active"),te),(0,xe.Z)(t,"".concat(F,"-selected"),Y),(0,xe.Z)(t,"".concat(F,"-disabled"),B),t)),onMouseEnter:function(e){ee(!0),null===p||void 0===p||p({key:i,domEvent:e})},onMouseLeave:function(e){ee(!1),null===g||void 0===g||g({key:i,domEvent:e})}}),ie,!C&&m.createElement(uV,{id:oe,open:Z,keyPath:j},u));return R&&(ue=R(ue,e,{selected:Y,active:te,open:Z,disabled:B})),m.createElement(MG,{onItemClick:re,mode:"horizontal"===S?"vertical":S,itemIcon:V,expandIcon:U},ue)};function dV(e){var t,n=e.eventKey,r=e.children,o=FG(n),i=qG(r,o),a=LG();return m.useEffect((function(){if(a)return a.registerPath(n,o),function(){a.unregisterPath(n,o)}}),[o]),t=a?i:m.createElement(fV,e,i),m.createElement(jG.Provider,{value:o},t)}function hV(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(bA(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),o=e.getAttribute("tabindex"),i=Number(o),a=null;return o&&!Number.isNaN(i)?a=i:r&&null===a&&(a=0),r&&e.disabled&&(a=null),null!==a&&(a>=0||t&&a<0)}return!1}function pV(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,OS.Z)(e.querySelectorAll("*")).filter((function(e){return hV(e,t)}));return hV(e,t)&&n.unshift(e),n}var gV=cA.LEFT,vV=cA.RIGHT,mV=cA.UP,yV=cA.DOWN,bV=cA.ENTER,xV=cA.ESC,wV=cA.HOME,EV=cA.END,_V=[mV,yV,gV,vV];function SV(e,t){return pV(e,!0).filter((function(e){return t.has(e)}))}function kV(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var o=SV(e,t),i=o.length,a=o.findIndex((function(e){return n===e}));return r<0?-1===a?a=i-1:a-=1:r>0&&(a+=1),o[a=(a+i)%i]}function TV(e,t,n,r,o,i,a,s,u,c){var l=m.useRef(),f=m.useRef();f.current=t;var d=function(){fS.cancel(l.current)};return m.useEffect((function(){return function(){d()}}),[]),function(h){var p=h.which;if([].concat(_V,[bV,xV,wV,EV]).includes(p)){var g,v,m,y=function(){return g=new Set,v=new Map,m=new Map,i().forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(GG(r,e),"']"));t&&(g.add(t),m.set(t,e),v.set(e,t))})),g};y();var b=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(v.get(t),g),x=m.get(b),w=function(e,t,n,r){var o,i,a,s,u="prev",c="next",l="children",f="parent";if("inline"===e&&r===bV)return{inlineTrigger:!0};var d=(o={},(0,xe.Z)(o,mV,u),(0,xe.Z)(o,yV,c),o),h=(i={},(0,xe.Z)(i,gV,n?c:u),(0,xe.Z)(i,vV,n?u:c),(0,xe.Z)(i,yV,l),(0,xe.Z)(i,bV,l),i),p=(a={},(0,xe.Z)(a,mV,u),(0,xe.Z)(a,yV,c),(0,xe.Z)(a,bV,l),(0,xe.Z)(a,xV,f),(0,xe.Z)(a,gV,n?l:f),(0,xe.Z)(a,vV,n?f:l),a);switch(null===(s={inline:d,horizontal:h,vertical:p,inlineSub:d,horizontalSub:p,verticalSub:p}["".concat(e).concat(t?"":"Sub")])||void 0===s?void 0:s[r]){case u:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case f:return{offset:-1,sibling:!1};case l:return{offset:1,sibling:!1};default:return null}}(e,1===a(x,!0).length,n,p);if(!w&&p!==wV&&p!==EV)return;(_V.includes(p)||[wV,EV].includes(p))&&h.preventDefault();var E=function(e){if(e){var t=e,n=e.querySelector("a");(null===n||void 0===n?void 0:n.getAttribute("href"))&&(t=n);var r=m.get(e);s(r),d(),l.current=fS((function(){f.current===r&&t.focus()}))}};if([wV,EV].includes(p)||w.sibling||!b){var _,S,k=SV(_=b&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(b):o.current,g);S=p===wV?k[0]:p===EV?k[k.length-1]:kV(_,g,b,w.offset),E(S)}else if(w.inlineTrigger)u(x);else if(w.offset>0)u(x,!0),d(),l.current=fS((function(){y();var e=b.getAttribute("aria-controls"),t=kV(document.getElementById(e),g);E(t)}),5);else if(w.offset<0){var T=a(x,!0),C=T[T.length-2],M=v.get(C);u(C,!1),E(M)}}null===c||void 0===c||c(h)}}var CV=Math.random().toFixed(5).toString().slice(2),MV=0;var NV="__RC_UTIL_PATH_SPLIT__",AV=function(e){return e.join(NV)},PV="rc-menu-more";function OV(){var e=m.useState({}),t=(0,gt.Z)(e,2)[1],n=(0,m.useRef)(new Map),r=(0,m.useRef)(new Map),o=m.useState([]),i=(0,gt.Z)(o,2),a=i[0],s=i[1],u=(0,m.useRef)(0),c=(0,m.useRef)(!1),l=(0,m.useCallback)((function(e,o){var i=AV(o);r.current.set(i,e),n.current.set(e,i),u.current+=1;var a,s=u.current;a=function(){s===u.current&&(c.current||t({}))},Promise.resolve().then(a)}),[]),f=(0,m.useCallback)((function(e,t){var o=AV(t);r.current.delete(o),n.current.delete(e)}),[]),d=(0,m.useCallback)((function(e){s(e)}),[]),h=(0,m.useCallback)((function(e,t){var r=n.current.get(e)||"",o=r.split(NV);return t&&a.includes(o[0])&&o.unshift(PV),o}),[a]),p=(0,m.useCallback)((function(e,t){return e.some((function(e){return h(e,!0).includes(t)}))}),[h]),g=(0,m.useCallback)((function(e){var t="".concat(n.current.get(e)).concat(NV),o=new Set;return(0,OS.Z)(r.current.keys()).forEach((function(e){e.startsWith(t)&&o.add(r.current.get(e))})),o}),[]);return m.useEffect((function(){return function(){c.current=!0}}),[]),{registerPath:l,unregisterPath:f,refreshOverflowKeys:d,isSubPathKey:p,getKeyPath:h,getKeys:function(){var e=(0,OS.Z)(n.current.keys());return a.length&&e.push(PV),e},getSubPathKeys:g}}var IV=["prefixCls","style","className","tabIndex","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],DV=[],RV=m.forwardRef((function(e,t){var n,r,o=e.prefixCls,i=void 0===o?"rc-menu":o,a=e.style,s=e.className,u=e.tabIndex,c=void 0===u?0:u,l=e.children,f=e.direction,d=e.id,h=e.mode,p=void 0===h?"vertical":h,g=e.inlineCollapsed,v=e.disabled,y=e.disabledOverflow,b=e.subMenuOpenDelay,x=void 0===b?.1:b,w=e.subMenuCloseDelay,E=void 0===w?.1:w,_=e.forceSubMenuRender,S=e.defaultOpenKeys,k=e.openKeys,T=e.activeKey,C=e.defaultActiveFirst,M=e.selectable,N=void 0===M||M,A=e.multiple,P=void 0!==A&&A,O=e.defaultSelectedKeys,I=e.selectedKeys,D=e.onSelect,R=e.onDeselect,L=e.inlineIndent,j=void 0===L?24:L,F=e.motion,B=e.defaultMotions,z=e.triggerSubMenuAction,G=void 0===z?"hover":z,V=e.builtinPlacements,U=e.itemIcon,W=e.expandIcon,Z=e.overflowedIndicator,Y=void 0===Z?"...":Z,H=e.overflowedIndicatorPopupClassName,X=e.getPopupContainer,K=e.onClick,q=e.onOpenChange,$=e.onKeyDown,J=(e.openAnimation,e.openTransitionName,e._internalRenderMenuItem),Q=e._internalRenderSubMenuItem,ee=S_(e,IV),te=qG(l,DV),ne=m.useState(!1),re=(0,gt.Z)(ne,2),oe=re[0],ie=re[1],ae=m.useRef(),se=D_(ae,t),ue=function(e){var t=sA(e,{value:e}),n=(0,gt.Z)(t,2),r=n[0],o=n[1];return m.useEffect((function(){MV+=1;var e="".concat(CV,"-").concat(MV);o("rc-menu-uuid-".concat(e))}),[]),r}(d),ce="rtl"===f;var le=m.useMemo((function(){return"inline"!==p&&"vertical"!==p||!g?[p,!1]:["vertical",g]}),[p,g]),fe=(0,gt.Z)(le,2),de=fe[0],he=fe[1],pe=m.useState(0),ge=(0,gt.Z)(pe,2),ve=ge[0],me=ge[1],ye=ve>=te.length-1||"horizontal"!==de||y,be=sA(S,{value:k,postState:function(e){return e||DV}}),we=(0,gt.Z)(be,2),_e=we[0],Se=we[1],ke=function(e){Se(e),null===q||void 0===q||q(e)},Te=m.useState(_e),Ce=(0,gt.Z)(Te,2),Me=Ce[0],Ne=Ce[1],Ae="inline"===de,Pe=m.useRef(!1);m.useEffect((function(){Ae&&Ne(_e)}),[_e]),m.useEffect((function(){Pe.current?Ae?Se(Me):ke(DV):Pe.current=!0}),[Ae]);var Oe=OV(),Ie=Oe.registerPath,De=Oe.unregisterPath,Re=Oe.refreshOverflowKeys,Le=Oe.isSubPathKey,je=Oe.getKeyPath,Fe=Oe.getKeys,Be=Oe.getSubPathKeys,ze=m.useMemo((function(){return{registerPath:Ie,unregisterPath:De}}),[Ie,De]),Ge=m.useMemo((function(){return{isSubPathKey:Le}}),[Le]);m.useEffect((function(){Re(ye?DV:te.slice(ve+1).map((function(e){return e.key})))}),[ve,ye]);var Ve=sA(T||C&&(null===(n=te[0])||void 0===n?void 0:n.key),{value:T}),Ue=(0,gt.Z)(Ve,2),We=Ue[0],Ze=Ue[1],Ye=$G((function(e){Ze(e)})),He=$G((function(){Ze(void 0)})),Xe=sA(O||[],{value:I,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?DV:[e]}}),Ke=(0,gt.Z)(Xe,2),qe=Ke[0],$e=Ke[1],Je=$G((function(e){null===K||void 0===K||K(PG(e)),function(e){if(N){var t,n=e.key,r=qe.includes(n);t=P?r?qe.filter((function(e){return e!==n})):[].concat((0,OS.Z)(qe),[n]):[n],$e(t);var o=Ee(Ee({},e),{},{selectedKeys:t});r?null===R||void 0===R||R(o):null===D||void 0===D||D(o)}!P&&_e.length&&"inline"!==de&&ke(DV)}(e)})),Qe=$G((function(e,t){var n=_e.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==de){var r=Be(e);n=n.filter((function(e){return!r.has(e)}))}TI()(_e,n)||ke(n)})),et=$G(X),tt=TV(de,We,ce,ue,ae,Fe,je,Ze,(function(e,t){var n=null!==t&&void 0!==t?t:!_e.includes(e);Qe(e,n)}),$);m.useEffect((function(){ie(!0)}),[]);var nt=m.useMemo((function(){return{_internalRenderMenuItem:J,_internalRenderSubMenuItem:Q}}),[J,Q]),rt="horizontal"!==de||y?te:te.map((function(e,t){return m.createElement(MG,{key:e.key,overflowDisabled:t>ve},e)})),ot=m.createElement(UR,vt({id:d,ref:se,prefixCls:"".concat(i,"-overflow"),component:"ul",itemComponent:KG,className:__()(i,"".concat(i,"-root"),"".concat(i,"-").concat(de),s,(r={},(0,xe.Z)(r,"".concat(i,"-inline-collapsed"),he),(0,xe.Z)(r,"".concat(i,"-rtl"),ce),r)),dir:f,style:a,role:"menu",tabIndex:c,data:rt,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?te.slice(-t):null;return m.createElement(dV,{eventKey:PV,title:Y,disabled:ye,internalPopupClose:0===t,popupClassName:H},n)},maxCount:"horizontal"!==de||y?UR.INVALIDATE:UR.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){me(e)},onKeyDown:tt},ee));return m.createElement(UG.Provider,{value:nt},m.createElement(zG.Provider,{value:ue},m.createElement(MG,{prefixCls:i,mode:de,openKeys:_e,rtl:ce,disabled:v,motion:oe?F:null,defaultMotions:oe?B:null,activeKey:We,onActive:Ye,onInactive:He,selectedKeys:qe,inlineIndent:j,subMenuOpenDelay:x,subMenuCloseDelay:E,forceSubMenuRender:_,builtinPlacements:V,triggerSubMenuAction:G,getPopupContainer:et,itemIcon:U,expandIcon:W,onItemClick:Je,onOpenChange:Qe},m.createElement(BG.Provider,{value:Ge},ot),m.createElement("div",{style:{display:"none"},"aria-hidden":!0},m.createElement(RG.Provider,{value:ze},te)))))})),LV=["className","title","eventKey","children"],jV=["children"],FV=function(e){var t=e.className,n=e.title,r=(e.eventKey,e.children),o=S_(e,LV),i=m.useContext(CG).prefixCls,a="".concat(i,"-item-group");return m.createElement("li",vt({},o,{onClick:function(e){return e.stopPropagation()},className:__()(a,t)}),m.createElement("div",{className:"".concat(a,"-title"),title:"string"===typeof n?n:void 0},n),m.createElement("ul",{className:"".concat(a,"-list")},r))};function BV(e){var t=e.children,n=S_(e,jV),r=qG(t,FG(n.eventKey));return LG()?r:m.createElement(FV,xN(n,["warnKey"]),r)}function zV(e){var t=e.className,n=e.style,r=m.useContext(CG).prefixCls;return LG()?null:m.createElement("li",{className:__()("".concat(r,"-item-divider"),t),style:n})}var GV=FG,VV=RV;VV.Item=KG,VV.SubMenu=dV,VV.ItemGroup=BV,VV.Divider=zV;var UV=VV,WV=(0,m.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});var ZV=function(e){var t,n,r=e.popupClassName,o=e.icon,i=e.title,a=e.theme,s=m.useContext(WV),u=s.prefixCls,c=s.inlineCollapsed,l=s.antdMenuTheme,f=GV();if(o){var d=MN(i)&&"span"===i.type;n=m.createElement(m.Fragment,null,NN(o,{className:__()(MN(o)?null===(t=o.props)||void 0===t?void 0:t.className:"","".concat(u,"-item-icon"))}),d?i:m.createElement("span",{className:"".concat(u,"-title-content")},i))}else n=c&&!f.length&&i&&"string"===typeof i?m.createElement("div",{className:"".concat(u,"-inline-collapsed-noicon")},i.charAt(0)):m.createElement("span",{className:"".concat(u,"-title-content")},i);var h=m.useMemo((function(){return vt(vt({},s),{firstLevel:!1})}),[s]);return m.createElement(WV.Provider,{value:h},m.createElement(dV,vt({},xN(e,["icon"]),{title:n,popupClassName:__()(u,"".concat(u,"-").concat(a||l),r)})))},YV=function(e){var t=e.overlay,n=e.prefixCls,r=e.id,o=e.overlayInnerStyle;return m.createElement("div",{className:"".concat(n,"-inner"),id:r,role:"tooltip",style:o},"function"===typeof t?t():t)},HV=function(e,t){var n=e.overlayClassName,r=e.trigger,o=void 0===r?["hover"]:r,i=e.mouseEnterDelay,a=void 0===i?0:i,s=e.mouseLeaveDelay,u=void 0===s?.1:s,c=e.overlayStyle,l=e.prefixCls,f=void 0===l?"rc-tooltip":l,d=e.children,h=e.onVisibleChange,p=e.afterVisibleChange,g=e.transitionName,v=e.animation,y=e.motion,b=e.placement,x=void 0===b?"right":b,w=e.align,E=void 0===w?{}:w,_=e.destroyTooltipOnHide,S=void 0!==_&&_,k=e.defaultVisible,T=e.getTooltipContainer,C=e.overlayInnerStyle,M=S_(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),N=(0,m.useRef)(null);(0,m.useImperativeHandle)(t,(function(){return N.current}));var A=Ee({},M);"visible"in e&&(A.popupVisible=e.visible);var P=!1,O=!1;if("boolean"===typeof S)P=S;else if(S&&"object"===(0,N_.Z)(S)){var I=S.keepParent;P=!0===I,O=!1===I}return m.createElement(xI,vt({popupClassName:n,prefixCls:f,popup:function(){var t=e.arrowContent,n=void 0===t?null:t,r=e.overlay,o=e.id;return[m.createElement("div",{className:"".concat(f,"-arrow"),key:"arrow"},n),m.createElement(YV,{key:"content",prefixCls:f,id:o,overlay:r,overlayInnerStyle:C})]},action:o,builtinPlacements:mG,popupPlacement:x,ref:N,popupAlign:E,getPopupContainer:T,onPopupVisibleChange:h,afterPopupVisibleChange:p,popupTransitionName:g,popupAnimation:v,popupMotion:y,defaultPopupVisible:k,destroyPopupOnHide:P,autoDestroy:O,mouseLeaveDelay:u,popupStyle:c,mouseEnterDelay:a},A),d)},XV=(0,m.forwardRef)(HV),KV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},qV=new RegExp("^(".concat(XN.join("|"),")(-inverse)?$"));function $V(e,t){var n=e.type;if((!0===n.__ANT_BUTTON||"button"===e.type)&&e.props.disabled||!0===n.__ANT_SWITCH&&(e.props.disabled||e.props.loading)){var r=function(e,t){var n={},r=vt({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete r[t])})),{picked:n,omitted:r}}(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),o=r.picked,i=r.omitted,a=vt(vt({display:"inline-block"},o),{cursor:"not-allowed",width:e.props.block?"100%":null}),s=NN(e,{style:vt(vt({},i),{pointerEvents:"none"}),className:null});return m.createElement("span",{style:a,className:__()(e.props.className,"".concat(t,"-disabled-compatible-wrapper"))},s)}return e}var JV=m.forwardRef((function(e,t){var n,r=m.useContext(xT),o=r.getPopupContainer,i=r.getPrefixCls,a=r.direction,s=sA(!1,{value:e.visible,defaultValue:e.defaultVisible}),u=(0,gt.Z)(s,2),c=u[0],l=u[1],f=function(){var t=e.title,n=e.overlay;return!t&&!n&&0!==t},d=function(){var t=e.builtinPlacements,n=e.arrowPointAtCenter,r=e.autoAdjustOverflow;return t||EG({arrowPointAtCenter:n,autoAdjustOverflow:r})},h=e.getPopupContainer,p=KV(e,["getPopupContainer"]),g=e.prefixCls,v=e.openClassName,y=e.getTooltipContainer,b=e.overlayClassName,x=e.color,w=e.overlayInnerStyle,E=e.children,_=i("tooltip",g),S=i(),k=c;!("visible"in e)&&f()&&(k=!1);var T,C=$V(MN(E)?E:m.createElement("span",null,E),_),M=C.props,N=__()(M.className,(0,xe.Z)({},v||"".concat(_,"-open"),!0)),A=__()(b,(n={},(0,xe.Z)(n,"".concat(_,"-rtl"),"rtl"===a),(0,xe.Z)(n,"".concat(_,"-").concat(x),x&&qV.test(x)),n)),P=w;return x&&!qV.test(x)&&(P=vt(vt({},w),{background:x}),T={"--antd-arrow-background-color":x}),m.createElement(XV,vt({},p,{prefixCls:_,overlayClassName:A,getTooltipContainer:h||y||o,ref:t,builtinPlacements:d(),overlay:function(){var t=e.title,n=e.overlay;return 0===t?t:n||t||""}(),visible:k,onVisibleChange:function(t){var n;l(!f()&&t),f()||null===(n=e.onVisibleChange)||void 0===n||n.call(e,t)},onPopupAlign:function(e,t){var n=d(),r=Object.keys(n).find((function(e){return n[e].points[0]===t.points[0]&&n[e].points[1]===t.points[1]}));if(r){var o=e.getBoundingClientRect(),i={top:"50%",left:"50%"};r.indexOf("top")>=0||r.indexOf("Bottom")>=0?i.top="".concat(o.height-t.offset[1],"px"):(r.indexOf("Top")>=0||r.indexOf("bottom")>=0)&&(i.top="".concat(-t.offset[1],"px")),r.indexOf("left")>=0||r.indexOf("Right")>=0?i.left="".concat(o.width-t.offset[0],"px"):(r.indexOf("right")>=0||r.indexOf("Left")>=0)&&(i.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(i.left," ").concat(i.top)}},overlayInnerStyle:P,arrowContent:m.createElement("span",{className:"".concat(_,"-arrow-content"),style:T}),motion:{motionName:Oj(S,"zoom-big-fast",e.transitionName),motionDeadline:1e3}}),k?NN(C,{className:N}):C)}));JV.displayName="Tooltip",JV.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};var QV=JV,eU={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},tU=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:eU}))};tU.displayName="BarsOutlined";var nU=m.forwardRef(tU),rU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},oU=m.createContext({siderHook:{addSider:function(){return null},removeSider:function(){return null}}});function iU(e){var t=e.suffixCls,n=e.tagName,r=e.displayName;return function(e){var o=function(r){var o=m.useContext(xT).getPrefixCls,i=r.prefixCls,a=o(t,i);return m.createElement(e,vt({prefixCls:a,tagName:n},r))};return o.displayName=r,o}}var aU=function(e){var t=e.prefixCls,n=e.className,r=e.children,o=e.tagName,i=rU(e,["prefixCls","className","children","tagName"]),a=__()(t,n);return m.createElement(o,vt({className:a},i),r)},sU=iU({suffixCls:"layout",tagName:"section",displayName:"Layout"})((function(e){var t,n=m.useContext(xT).direction,r=m.useState([]),o=(0,gt.Z)(r,2),i=o[0],a=o[1],s=e.prefixCls,u=e.className,c=e.children,l=e.hasSider,f=e.tagName,d=rU(e,["prefixCls","className","children","hasSider","tagName"]),h=__()(s,(t={},(0,xe.Z)(t,"".concat(s,"-has-sider"),"boolean"===typeof l?l:i.length>0),(0,xe.Z)(t,"".concat(s,"-rtl"),"rtl"===n),t),u),p=m.useMemo((function(){return{siderHook:{addSider:function(e){a((function(t){return[].concat((0,OS.Z)(t),[e])}))},removeSider:function(e){a((function(t){return t.filter((function(t){return t!==e}))}))}}}}),[]);return m.createElement(oU.Provider,{value:p},m.createElement(f,vt({className:h},d),c))})),uU=iU({suffixCls:"layout-header",tagName:"header",displayName:"Header"})(aU),cU=iU({suffixCls:"layout-footer",tagName:"footer",displayName:"Footer"})(aU),lU=iU({suffixCls:"layout-content",tagName:"main",displayName:"Content"})(aU),fU=sU,dU=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},hU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},pU={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},gU=m.createContext({}),vU=function(){var e=0;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e+=1,"".concat(t).concat(e)}}(),mU=m.forwardRef((function(e,t){var n=e.prefixCls,r=e.className,o=e.trigger,i=e.children,a=e.defaultCollapsed,s=void 0!==a&&a,u=e.theme,c=void 0===u?"dark":u,l=e.style,f=void 0===l?{}:l,d=e.collapsible,h=void 0!==d&&d,p=e.reverseArrow,g=void 0!==p&&p,v=e.width,y=void 0===v?200:v,b=e.collapsedWidth,x=void 0===b?80:b,w=e.zeroWidthTriggerStyle,E=e.breakpoint,_=e.onCollapse,S=e.onBreakpoint,k=hU(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),T=(0,m.useContext)(oU).siderHook,C=(0,m.useState)("collapsed"in k?k.collapsed:s),M=(0,gt.Z)(C,2),N=M[0],A=M[1],P=(0,m.useState)(!1),O=(0,gt.Z)(P,2),I=O[0],D=O[1];(0,m.useEffect)((function(){"collapsed"in k&&A(k.collapsed)}),[k.collapsed]);var R=function(e,t){"collapsed"in k||A(e),null===_||void 0===_||_(e,t)},L=(0,m.useRef)();L.current=function(e){D(e.matches),null===S||void 0===S||S(e.matches),N!==e.matches&&R(e.matches,"responsive")},(0,m.useEffect)((function(){function e(e){return L.current(e)}var t;if("undefined"!==typeof window){var n=window.matchMedia;if(n&&E&&E in pU){t=n("(max-width: ".concat(pU[E],")"));try{t.addEventListener("change",e)}catch(r){t.addListener(e)}e(t)}}return function(){try{null===t||void 0===t||t.removeEventListener("change",e)}catch(r){null===t||void 0===t||t.removeListener(e)}}}),[E]),(0,m.useEffect)((function(){var e=vU("ant-sider-");return T.addSider(e),function(){return T.removeSider(e)}}),[]);var j=function(){R(!N,"clickTrigger")},F=(0,m.useContext)(xT).getPrefixCls,B=m.useMemo((function(){return{siderCollapsed:N}}),[N]);return m.createElement(gU.Provider,{value:B},function(){var e,a=F("layout-sider",n),s=xN(k,["collapsed"]),u=N?x:y,l=dU(u)?"".concat(u,"px"):String(u),d=0===parseFloat(String(x||0))?m.createElement("span",{onClick:j,className:__()("".concat(a,"-zero-width-trigger"),"".concat(a,"-zero-width-trigger-").concat(g?"right":"left")),style:w},o||m.createElement(nU,null)):null,p={expanded:g?m.createElement(HB,null):m.createElement(WB,null),collapsed:g?m.createElement(WB,null):m.createElement(HB,null)}[N?"collapsed":"expanded"],v=null!==o?d||m.createElement("div",{className:"".concat(a,"-trigger"),onClick:j,style:{width:l}},o||p):null,b=vt(vt({},f),{flex:"0 0 ".concat(l),maxWidth:l,minWidth:l,width:l}),E=__()(a,"".concat(a,"-").concat(c),(e={},(0,xe.Z)(e,"".concat(a,"-collapsed"),!!N),(0,xe.Z)(e,"".concat(a,"-has-trigger"),h&&null!==o&&!d),(0,xe.Z)(e,"".concat(a,"-below"),!!I),(0,xe.Z)(e,"".concat(a,"-zero-width"),0===parseFloat(l)),e),r);return m.createElement("aside",vt({className:E},s,{style:b,ref:t}),m.createElement("div",{className:"".concat(a,"-children")},i),h||I&&d?v:null)}())}));mU.displayName="Sider";var yU=mU,bU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},xU=function(e){(0,C_.Z)(n,e);var t=(0,M_.Z)(n);function n(){var e;return(0,k_.Z)(this,n),(e=t.apply(this,arguments)).renderItem=function(t){var n,r,o=t.siderCollapsed,i=e.context,a=i.prefixCls,s=i.firstLevel,u=i.inlineCollapsed,c=i.direction,l=i.disableMenuItemTitleTooltip,f=e.props,d=f.className,h=f.children,p=e.props,g=p.title,v=p.icon,y=p.danger,b=bU(p,["title","icon","danger"]),x=g;"undefined"===typeof g?x=s?h:"":!1===g&&(x="");var w={title:x};o||u||(w.title=null,w.visible=!1);var E=_T(h).length,_=m.createElement(KG,vt({},b,{className:__()((n={},(0,xe.Z)(n,"".concat(a,"-item-danger"),y),(0,xe.Z)(n,"".concat(a,"-item-only-child"),1===(v?E+1:E)),n),d),title:"string"===typeof g?g:void 0}),NN(v,{className:__()(MN(v)?null===(r=v.props)||void 0===r?void 0:r.className:"","".concat(a,"-item-icon"))}),e.renderItemChildren(u));return l||(_=m.createElement(QV,vt({},w,{placement:"rtl"===c?"left":"right",overlayClassName:"".concat(a,"-inline-collapsed-tooltip")}),_)),_},e}return(0,T_.Z)(n,[{key:"renderItemChildren",value:function(e){var t=this.context,n=t.prefixCls,r=t.firstLevel,o=this.props,i=o.icon,a=o.children,s=m.createElement("span",{className:"".concat(n,"-title-content")},a);return(!i||MN(a)&&"span"===a.type)&&a&&e&&r&&"string"===typeof a?m.createElement("div",{className:"".concat(n,"-inline-collapsed-noicon")},a.charAt(0)):s}},{key:"render",value:function(){return m.createElement(gU.Consumer,null,this.renderItem)}}]),n}(m.Component);xU.contextType=WV;var wU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},EU=function(e){var t=e.prefixCls,n=e.className,r=e.dashed,o=wU(e,["prefixCls","className","dashed"]),i=(0,m.useContext(xT).getPrefixCls)("menu",t),a=__()((0,xe.Z)({},"".concat(i,"-item-divider-dashed"),!!r),n);return m.createElement(zV,vt({className:a},o))},_U=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function SU(e){var t=m.useContext(xT),n=t.getPrefixCls,r=t.getPopupContainer,o=t.direction,i=n(),a=e.prefixCls,s=e.className,u=e.theme,c=void 0===u?"light":u,l=e.expandIcon,f=e._internalDisableMenuItemTitleTooltip,d=e.inlineCollapsed,h=e.siderCollapsed,p=xN(_U(e,["prefixCls","className","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed"]),["collapsedWidth"]);QC(!("inlineCollapsed"in e&&"inline"!==e.mode),"Menu","`inlineCollapsed` should only be used when `mode` is inline."),QC(!(void 0!==e.siderCollapsed&&"inlineCollapsed"in e),"Menu","`inlineCollapsed` not control Menu under Sider. Should set `collapsed` on Sider instead.");var g=m.useMemo((function(){return void 0!==h?h:d}),[d,h]),v={horizontal:{motionName:"".concat(i,"-slide-up")},inline:Ij,other:{motionName:"".concat(i,"-zoom-big")}},y=n("menu",a),b=__()("".concat(y,"-").concat(c),s),x=m.useMemo((function(){return{prefixCls:y,inlineCollapsed:g||!1,antdMenuTheme:c,direction:o,firstLevel:!0,disableMenuItemTitleTooltip:f}}),[y,g,c,o,f]);return m.createElement(WV.Provider,{value:x},m.createElement(UV,vt({getPopupContainer:r,overflowedIndicator:m.createElement(lG,null),overflowedIndicatorPopupClassName:"".concat(y,"-").concat(c)},p,{inlineCollapsed:g,className:b,prefixCls:y,direction:o,defaultMotions:v,expandIcon:NN(l,{className:"".concat(y,"-submenu-expand-icon")})})))}var kU=function(e){(0,C_.Z)(n,e);var t=(0,M_.Z)(n);function n(){return(0,k_.Z)(this,n),t.apply(this,arguments)}return(0,T_.Z)(n,[{key:"render",value:function(){var e=this;return m.createElement(gU.Consumer,null,(function(t){return m.createElement(SU,vt({},e.props,t))}))}}]),n}(m.Component);kU.Divider=EU,kU.Item=xU,kU.SubMenu=ZV,kU.ItemGroup=BV;var TU=kU,CU=m.createContext(null),MU=CU.Provider,NU=CU,AU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},PU=function(e,t){var n,r=m.useContext(NU),o=m.useContext(xT),i=o.getPrefixCls,a=o.direction,s=D_(t,m.useRef());m.useEffect((function(){QC(!("optionType"in e),"Radio","`optionType` is only support in Radio.Group.")}),[]);var u=e.prefixCls,c=e.className,l=e.children,f=e.style,d=AU(e,["prefixCls","className","children","style"]),h=i("radio",u),p=vt({},d);r&&(p.name=r.name,p.onChange=function(t){var n,o;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(o=null===r||void 0===r?void 0:r.onChange)||void 0===o||o.call(r,t)},p.checked=e.value===r.value,p.disabled=e.disabled||r.disabled);var g=__()("".concat(h,"-wrapper"),(n={},(0,xe.Z)(n,"".concat(h,"-wrapper-checked"),p.checked),(0,xe.Z)(n,"".concat(h,"-wrapper-disabled"),p.disabled),(0,xe.Z)(n,"".concat(h,"-wrapper-rtl"),"rtl"===a),n),c);return m.createElement("label",{className:g,style:f,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},m.createElement(Gz,vt({},p,{type:"radio",prefixCls:h,ref:s})),void 0!==l?m.createElement("span",null,l):null)},OU=m.forwardRef(PU);OU.displayName="Radio";var IU=OU;var DU=m.forwardRef((function(e,t){var n=m.useContext(xT),r=n.getPrefixCls,o=n.direction,i=m.useContext(aM),a=sA(e.defaultValue,{value:e.value}),s=(0,gt.Z)(a,2),u=s[0],c=s[1];return m.createElement(MU,{value:{onChange:function(t){var n=u,r=t.target.value;"value"in e||c(r);var o=e.onChange;o&&r!==n&&o(t)},value:u,disabled:e.disabled,name:e.name}},function(){var n,a=e.prefixCls,s=e.className,c=void 0===s?"":s,l=e.options,f=e.optionType,d=e.buttonStyle,h=void 0===d?"outline":d,p=e.disabled,g=e.children,v=e.size,y=e.style,b=e.id,x=e.onMouseEnter,w=e.onMouseLeave,E=r("radio",a),_="".concat(E,"-group"),S=g;if(l&&l.length>0){var k="button"===f?"".concat(E,"-button"):E;S=l.map((function(e){return"string"===typeof e||"number"===typeof e?m.createElement(IU,{key:e.toString(),prefixCls:k,disabled:p,value:e,checked:u===e},e):m.createElement(IU,{key:"radio-group-value-options-".concat(e.value),prefixCls:k,disabled:e.disabled||p,value:e.value,checked:u===e.value,style:e.style},e.label)}))}var T=v||i,C=__()(_,"".concat(_,"-").concat(h),(n={},(0,xe.Z)(n,"".concat(_,"-").concat(T),T),(0,xe.Z)(n,"".concat(_,"-rtl"),"rtl"===o),n),c);return m.createElement("div",vt({},function(e){return Object.keys(e).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||"data-__"===n.substr(0,7)||(t[n]=e[n]),t}),{})}(e),{className:C,style:y,onMouseEnter:x,onMouseLeave:w,id:b,ref:t}),S)}())})),RU=m.memo(DU),LU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},jU=function(e,t){var n=m.useContext(NU),r=m.useContext(xT).getPrefixCls,o=e.prefixCls,i=LU(e,["prefixCls"]),a=r("radio-button",o);return n&&(i.checked=e.value===n.value,i.disabled=e.disabled||n.disabled),m.createElement(IU,vt({prefixCls:a},i,{type:"radio",ref:t}))},FU=m.forwardRef(jU),BU=IU;BU.Button=FU,BU.Group=RU;var zU=BU,GU={},VU="SELECT_ALL",UU="SELECT_INVERT",WU="SELECT_NONE",ZU=[];function YU(e,t){var n=[];return(e||[]).forEach((function(e){n.push(e),e&&"object"===(0,N_.Z)(e)&&t in e&&(n=[].concat((0,OS.Z)(n),(0,OS.Z)(YU(e[t],t))))})),n}function HU(e,t){var n=e||{},r=n.preserveSelectedRowKeys,o=n.selectedRowKeys,i=n.defaultSelectedRowKeys,a=n.getCheckboxProps,s=n.onChange,u=n.onSelect,c=n.onSelectAll,l=n.onSelectInvert,f=n.onSelectNone,d=n.onSelectMultiple,h=n.columnWidth,p=n.type,g=n.selections,v=n.fixed,y=n.renderCell,b=n.hideSelectAll,x=n.checkStrictly,w=void 0===x||x,E=t.prefixCls,_=t.data,S=t.pageData,k=t.getRecordByKey,T=t.getRowKey,C=t.expandType,M=t.childrenColumnName,N=t.locale,A=t.getPopupContainer,P=sA(o||i||ZU,{value:o}),O=(0,gt.Z)(P,2),I=O[0],D=O[1],R=m.useRef(new Map),L=(0,m.useCallback)((function(e){if(r){var t=new Map;e.forEach((function(e){var n=k(e);!n&&R.current.has(e)&&(n=R.current.get(e)),t.set(e,n)})),R.current=t}}),[k,r]);m.useEffect((function(){L(I)}),[I]);var j=(0,m.useMemo)((function(){return w?{keyEntities:null}:Dz(_,{externalGetKey:T,childrenPropName:M})}),[_,T,w,M]).keyEntities,F=(0,m.useMemo)((function(){return YU(S,M)}),[S,M]),B=(0,m.useMemo)((function(){var e=new Map;return F.forEach((function(t,n){var r=T(t,n),o=(a?a(t):null)||{};e.set(r,o)})),e}),[F,T,a]),z=(0,m.useCallback)((function(e){var t;return!!(null===(t=B.get(T(e)))||void 0===t?void 0:t.disabled)}),[B,T]),G=(0,m.useMemo)((function(){if(w)return[I||[],[]];var e=Bz(I,!0,j,z);return[e.checkedKeys||[],e.halfCheckedKeys]}),[I,w,j,z]),V=(0,gt.Z)(G,2),U=V[0],W=V[1],Z=(0,m.useMemo)((function(){var e="radio"===p?U.slice(0,1):U;return new Set(e)}),[U,p]),Y=(0,m.useMemo)((function(){return"radio"===p?new Set:new Set(W)}),[W,p]),H=(0,m.useState)(null),X=(0,gt.Z)(H,2),K=X[0],q=X[1];m.useEffect((function(){e||D(ZU)}),[!!e]);var $=(0,m.useCallback)((function(e){var t,n;L(e),r?(t=e,n=e.map((function(e){return R.current.get(e)}))):(t=[],n=[],e.forEach((function(e){var r=k(e);void 0!==r&&(t.push(e),n.push(r))}))),D(t),null===s||void 0===s||s(t,n)}),[D,k,s,r]),J=(0,m.useCallback)((function(e,t,n,r){if(u){var o=n.map((function(e){return k(e)}));u(k(e),t,o,r)}$(n)}),[u,k,$]),Q=(0,m.useMemo)((function(){return!g||b?null:(!0===g?[VU,UU,WU]:g).map((function(e){return e===VU?{key:"all",text:N.selectionAll,onSelect:function(){$(_.map((function(e,t){return T(e,t)})).filter((function(e){var t=B.get(e);return!(null===t||void 0===t?void 0:t.disabled)||Z.has(e)})))}}:e===UU?{key:"invert",text:N.selectInvert,onSelect:function(){var e=new Set(Z);S.forEach((function(t,n){var r=T(t,n),o=B.get(r);(null===o||void 0===o?void 0:o.disabled)||(e.has(r)?e.delete(r):e.add(r))}));var t=Array.from(e);l&&(QC(!1,"Table","`onSelectInvert` will be removed in future. Please use `onChange` instead."),l(t)),$(t)}}:e===WU?{key:"none",text:N.selectNone,onSelect:function(){null===f||void 0===f||f(),$(Array.from(Z).filter((function(e){var t=B.get(e);return null===t||void 0===t?void 0:t.disabled})))}}:e}))}),[g,Z,S,T,l,$]),ee=(0,m.useCallback)((function(t){var n;if(!e)return t.filter((function(e){return e!==GU}));var r,o,i=(0,OS.Z)(t),a=new Set(Z),s=F.map(T).filter((function(e){return!B.get(e).disabled})),u=s.every((function(e){return a.has(e)})),l=s.some((function(e){return a.has(e)}));if("radio"!==p){var f;if(Q){var g=m.createElement(TU,{getPopupContainer:A},Q.map((function(e,t){var n=e.key,r=e.text,o=e.onSelect;return m.createElement(TU.Item,{key:n||t,onClick:function(){null===o||void 0===o||o(s)}},r)})));f=m.createElement("div",{className:"".concat(E,"-selection-extra")},m.createElement(kG,{overlay:g,getPopupContainer:A},m.createElement("span",null,m.createElement(_j,null))))}var x=F.map((function(e,t){var n=T(e,t),r=B.get(n)||{};return vt({checked:a.has(n)},r)})).filter((function(e){return e.disabled})),_=!!x.length&&x.length===F.length,S=_&&x.every((function(e){return e.checked})),M=_&&x.some((function(e){return e.checked}));r=!b&&m.createElement("div",{className:"".concat(E,"-selection")},m.createElement(Jz,{checked:_?S:!!F.length&&u,indeterminate:_?!S&&M:!u&&l,onChange:function(){var e=[];u?s.forEach((function(t){a.delete(t),e.push(t)})):s.forEach((function(t){a.has(t)||(a.add(t),e.push(t))}));var t=Array.from(a);null===c||void 0===c||c(!u,t.map((function(e){return k(e)})),e.map((function(e){return k(e)}))),$(t)},disabled:0===F.length||_,skipGroup:!0}),f)}o="radio"===p?function(e,t,n){var r=T(t,n),o=a.has(r);return{node:m.createElement(zU,vt({},B.get(r),{checked:o,onClick:function(e){return e.stopPropagation()},onChange:function(e){a.has(r)||J(r,!0,[r],e.nativeEvent)}})),checked:o}}:function(e,t,n){var r,o,i=T(t,n),u=a.has(i),c=Y.has(i),l=B.get(i);return"nest"===C?(o=c,QC("boolean"!==typeof(null===l||void 0===l?void 0:l.indeterminate),"Table","set `indeterminate` using `rowSelection.getCheckboxProps` is not allowed with tree structured dataSource.")):o=null!==(r=null===l||void 0===l?void 0:l.indeterminate)&&void 0!==r?r:c,{node:m.createElement(Jz,vt({},l,{indeterminate:o,checked:u,skipGroup:!0,onClick:function(e){return e.stopPropagation()},onChange:function(e){var t=e.nativeEvent,n=t.shiftKey,r=-1,o=-1;if(n&&w){var c=new Set([K,i]);s.some((function(e,t){if(c.has(e)){if(-1!==r)return o=t,!0;r=t}return!1}))}if(-1!==o&&r!==o&&w){var l=s.slice(r,o+1),f=[];u?l.forEach((function(e){a.has(e)&&(f.push(e),a.delete(e))})):l.forEach((function(e){a.has(e)||(f.push(e),a.add(e))}));var h=Array.from(a);null===d||void 0===d||d(!u,h.map((function(e){return k(e)})),f.map((function(e){return k(e)}))),$(h)}else{var p=U;if(w){var g=u?yz(p,i):bz(p,i);J(i,!u,g,t)}else{var v=Bz([].concat((0,OS.Z)(p),[i]),!0,j,z),m=v.checkedKeys,y=v.halfCheckedKeys,b=m;if(u){var x=new Set(m);x.delete(i),b=Bz(Array.from(x),{checked:!1,halfCheckedKeys:y},j,z).checkedKeys}J(i,!u,b,t)}}q(i)}})),checked:u}};if(!i.includes(GU))if(0===i.findIndex((function(e){var t;return"EXPAND_COLUMN"===(null===(t=e[HF])||void 0===t?void 0:t.columnType)}))){var N=uC(i),P=N[0],O=N.slice(1);i=[P,GU].concat((0,OS.Z)(O))}else i=[GU].concat((0,OS.Z)(i));var I=i.indexOf(GU);i=i.filter((function(e,t){return e!==GU||t===I}));var D=i[I-1],R=i[I+1],L=v;void 0===L&&(void 0!==(null===R||void 0===R?void 0:R.fixed)?L=R.fixed:void 0!==(null===D||void 0===D?void 0:D.fixed)&&(L=D.fixed)),L&&D&&"EXPAND_COLUMN"===(null===(n=D[HF])||void 0===n?void 0:n.columnType)&&void 0===D.fixed&&(D.fixed=L);var G=(0,xe.Z)({fixed:L,width:h,className:"".concat(E,"-selection-column"),title:e.columnTitle||r,render:function(e,t,n){var r=o(e,t,n),i=r.node,a=r.checked;return y?y(a,t,n,i):i}},HF,{className:"".concat(E,"-selection-col")});return i.map((function(e){return e===GU?G:e}))}),[T,F,e,U,Z,Y,h,Q,C,K,B,d,J,z]);return[ee,Z]}var XU={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},KU=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:XU}))};KU.displayName="CaretDownOutlined";var qU=m.forwardRef(KU),$U={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},JU=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:$U}))};JU.displayName="CaretUpOutlined";var QU=m.forwardRef(JU);function eW(e,t){return"key"in e&&void 0!==e.key&&null!==e.key?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t}function tW(e,t){return t?"".concat(t,"-").concat(e):"".concat(e)}function nW(e,t){return"function"===typeof e?e(t):e}var rW="ascend",oW="descend";function iW(e){return"object"===(0,N_.Z)(e.sorter)&&"number"===typeof e.sorter.multiple&&e.sorter.multiple}function aW(e){return"function"===typeof e?e:!(!e||"object"!==(0,N_.Z)(e)||!e.compare)&&e.compare}function sW(e,t,n){var r=[];function o(e,t){r.push({column:e,key:eW(e,t),multiplePriority:iW(e),sortOrder:e.sortOrder})}return(e||[]).forEach((function(e,i){var a=tW(i,n);e.children?("sortOrder"in e&&o(e,a),r=[].concat((0,OS.Z)(r),(0,OS.Z)(sW(e.children,t,a)))):e.sorter&&("sortOrder"in e?o(e,a):t&&e.defaultSortOrder&&r.push({column:e,key:eW(e,a),multiplePriority:iW(e),sortOrder:e.defaultSortOrder}))})),r}function uW(e,t,n,r,o,i,a,s){return(t||[]).map((function(t,u){var c=tW(u,s),l=t;if(l.sorter){var f=l.sortDirections||o,d=void 0===l.showSorterTooltip?a:l.showSorterTooltip,h=eW(l,c),p=n.find((function(e){return e.key===h})),g=p?p.sortOrder:null,v=function(e,t){return t?e[e.indexOf(t)+1]:e[0]}(f,g),y=f.includes(rW)&&m.createElement(QU,{className:__()("".concat(e,"-column-sorter-up"),{active:g===rW})}),b=f.includes(oW)&&m.createElement(qU,{className:__()("".concat(e,"-column-sorter-down"),{active:g===oW})}),x=i||{},w=x.cancelSort,E=x.triggerAsc,_=x.triggerDesc,S=w;v===oW?S=_:v===rW&&(S=E);var k="object"===(0,N_.Z)(d)?d:{title:S};l=vt(vt({},l),{className:__()(l.className,(0,xe.Z)({},"".concat(e,"-column-sort"),g)),title:function(n){var r=m.createElement("div",{className:"".concat(e,"-column-sorters")},m.createElement("span",{className:"".concat(e,"-column-title")},nW(t.title,n)),m.createElement("span",{className:__()("".concat(e,"-column-sorter"),(0,xe.Z)({},"".concat(e,"-column-sorter-full"),!(!y||!b)))},m.createElement("span",{className:"".concat(e,"-column-sorter-inner")},y,b)));return d?m.createElement(QV,k,r):r},onHeaderCell:function(n){var o=t.onHeaderCell&&t.onHeaderCell(n)||{},i=o.onClick;return o.onClick=function(e){r({column:t,key:h,sortOrder:v,multiplePriority:iW(t)}),i&&i(e)},g&&(o["aria-sort"]="ascend"===g?"ascending":"descending"),o.className=__()(o.className,"".concat(e,"-column-has-sorters")),o}})}return"children"in l&&(l=vt(vt({},l),{children:uW(e,l.children,n,r,o,i,a,c)})),l}))}function cW(e){var t=e.column;return{column:t,order:e.sortOrder,field:t.dataIndex,columnKey:t.key}}function lW(e){var t=e.filter((function(e){return e.sortOrder})).map(cW);return 0===t.length&&e.length?vt(vt({},cW(e[e.length-1])),{column:void 0}):t.length<=1?t[0]||{}:t}function fW(e,t,n){var r=t.slice().sort((function(e,t){return t.multiplePriority-e.multiplePriority})),o=e.slice(),i=r.filter((function(e){var t=e.column.sorter,n=e.sortOrder;return aW(t)&&n}));return i.length?o.sort((function(e,t){for(var n=0;n<i.length;n+=1){var r=i[n],o=r.column.sorter,a=r.sortOrder,s=aW(o);if(s&&a){var u=s(e,t,a);if(0!==u)return a===rW?u:-u}}return 0})).map((function(e){var r=e[n];return r?vt(vt({},e),(0,xe.Z)({},n,fW(r,t,n))):e})):o}function dW(e){var t=e.prefixCls,n=e.mergedColumns,r=e.onSorterChange,o=e.sortDirections,i=e.tableLocale,a=e.showSorterTooltip,s=m.useState(sW(n,!0)),u=(0,gt.Z)(s,2),c=u[0],l=u[1],f=m.useMemo((function(){var e=!0,t=sW(n,!1);if(!t.length)return c;var r=[];function o(t){e?r.push(t):r.push(vt(vt({},t),{sortOrder:null}))}var i=null;return t.forEach((function(t){null===i?(o(t),t.sortOrder&&(!1===t.multiplePriority?e=!1:i=!0)):(i&&!1!==t.multiplePriority||(e=!1),o(t))})),r}),[n,c]),d=m.useMemo((function(){var e=f.map((function(e){return{column:e.column,order:e.sortOrder}}));return{sortColumns:e,sortColumn:e[0]&&e[0].column,sortOrder:e[0]&&e[0].order}}),[f]);function h(e){var t;t=!1!==e.multiplePriority&&f.length&&!1!==f[0].multiplePriority?[].concat((0,OS.Z)(f.filter((function(t){return t.key!==e.key}))),[e]):[e],l(t),r(lW(t),t)}return[function(e){return uW(t,e,f,h,o,i,a)},f,d,function(){return lW(f)}]}var hW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},pW=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:hW}))};pW.displayName="FilterFilled";var gW=m.forwardRef(pW),vW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},mW=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:vW}))};mW.displayName="HolderOutlined";var yW=m.forwardRef(mW),bW=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],xW=function(e,t){var n=e.className,r=e.style,o=e.motion,i=e.motionNodes,a=e.motionType,s=e.onMotionStart,u=e.onMotionEnd,c=e.active,l=e.treeNodeRequiredProps,f=S_(e,bW),d=m.useState(!0),h=(0,gt.Z)(d,2),p=h[0],g=h[1],v=m.useContext(cz).prefixCls,y=m.useRef(!1),b=function(){y.current||u(),y.current=!0};return(0,m.useEffect)((function(){i&&"hide"===a&&p&&g(!1)}),[i]),(0,m.useEffect)((function(){return i&&s(),function(){i&&b()}}),[]),i?m.createElement(AS,vt({ref:t,visible:p},o,{motionAppear:"show"===a,onAppearEnd:b,onLeaveEnd:b}),(function(e,t){var n=e.className,r=e.style;return m.createElement("div",{ref:t,className:__()("".concat(v,"-treenode-motion"),n),style:r},i.map((function(e){var t=vt({},e.data),n=e.title,r=e.key,o=e.isStart,i=e.isEnd;delete t.children;var a=Rz(r,l);return m.createElement(mz,vt({},t,a,{title:n,active:c,data:e.data,key:r,isStart:o,isEnd:i}))})))})):m.createElement(mz,vt({domRef:t,className:n,style:r},f,{active:c}))};xW.displayName="MotionTreeNode";var wW=m.forwardRef(xW);function EW(e,t,n){var r=e.findIndex((function(e){return e.key===n})),o=e[r+1],i=t.findIndex((function(e){return e.key===n}));if(o){var a=t.findIndex((function(e){return e.key===o.key}));return t.slice(i+1,a)}return t.slice(i+1)}var _W=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],SW={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},kW=function(){},TW="RC_TREE_MOTION_".concat(Math.random()),CW={key:TW},MW={key:TW,level:0,index:0,pos:"0",node:CW,nodes:[CW]},NW={parent:null,children:[],pos:MW.pos,data:CW,title:null,key:TW,isStart:[],isEnd:[]};function AW(e,t,n,r){return!1!==t&&n?e.slice(0,Math.ceil(n/r)+1):e}function PW(e){return Nz(e.key,e.pos)}var OW=function(e,t){var n=e.prefixCls,r=e.data,o=(e.selectable,e.checkable,e.expandedKeys),i=e.selectedKeys,a=e.checkedKeys,s=e.loadedKeys,u=e.loadingKeys,c=e.halfCheckedKeys,l=e.keyEntities,f=e.disabled,d=e.dragging,h=e.dragOverNodeKey,p=e.dropPosition,g=e.motion,v=e.height,y=e.itemHeight,b=e.virtual,x=e.focusable,w=e.activeItem,E=e.focused,_=e.tabIndex,S=e.onKeyDown,k=e.onFocus,T=e.onBlur,C=e.onActiveChange,M=e.onListChangeStart,N=e.onListChangeEnd,A=S_(e,_W),P=m.useRef(null),O=m.useRef(null);m.useImperativeHandle(t,(function(){return{scrollTo:function(e){P.current.scrollTo(e)},getIndentWidth:function(){return O.current.offsetWidth}}}));var I=m.useState(o),D=(0,gt.Z)(I,2),R=D[0],L=D[1],j=m.useState(r),F=(0,gt.Z)(j,2),B=F[0],z=F[1],G=m.useState(r),V=(0,gt.Z)(G,2),U=V[0],W=V[1],Z=m.useState([]),Y=(0,gt.Z)(Z,2),H=Y[0],X=Y[1],K=m.useState(null),q=(0,gt.Z)(K,2),$=q[0],J=q[1];function Q(){z(r),W(r),X([]),J(null),N()}m.useEffect((function(){L(o);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,r=t.length;if(1!==Math.abs(n-r))return{add:!1,key:null};function o(e,t){var n=new Map;e.forEach((function(e){n.set(e,!0)}));var r=t.filter((function(e){return!n.has(e)}));return 1===r.length?r[0]:null}return n<r?{add:!0,key:o(e,t)}:{add:!1,key:o(t,e)}}(R,o);if(null!==e.key)if(e.add){var t=B.findIndex((function(t){return t.key===e.key})),n=AW(EW(B,r,e.key),b,v,y),i=B.slice();i.splice(t+1,0,NW),W(i),X(n),J("show")}else{var a=r.findIndex((function(t){return t.key===e.key})),s=AW(EW(r,B,e.key),b,v,y),u=r.slice();u.splice(a+1,0,NW),W(u),X(s),J("hide")}else B!==r&&(z(r),W(r))}),[o,r]),m.useEffect((function(){d||Q()}),[d]);var ee=g?U:r,te={expandedKeys:o,selectedKeys:i,loadedKeys:s,loadingKeys:u,checkedKeys:a,halfCheckedKeys:c,dragOverNodeKey:h,dropPosition:p,keyEntities:l};return m.createElement(m.Fragment,null,E&&w&&m.createElement("span",{style:SW,"aria-live":"assertive"},function(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}(w)),m.createElement("div",null,m.createElement("input",{style:SW,disabled:!1===x||f,tabIndex:!1!==x?_:null,onKeyDown:S,onFocus:k,onBlur:T,value:"",onChange:kW,"aria-label":"for screen reader"})),m.createElement("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},m.createElement("div",{className:"".concat(n,"-indent")},m.createElement("div",{ref:O,className:"".concat(n,"-indent-unit")}))),m.createElement(KL,vt({},A,{data:ee,itemKey:PW,height:v,fullHeight:!1,virtual:b,itemHeight:y,prefixCls:"".concat(n,"-list"),ref:P,onVisibleChange:function(e,t){var n=new Set(e),r=t.filter((function(e){return!n.has(e)}));r.some((function(e){return PW(e)===TW}))&&Q()}}),(function(e){var t=e.pos,n=vt({},e.data),r=e.title,o=e.key,i=e.isStart,a=e.isEnd,s=Nz(o,t);delete n.key,delete n.children;var u=Rz(s,te);return m.createElement(wW,vt({},n,u,{title:r,active:!!w&&o===w.key,pos:t,data:e.data,isStart:i,isEnd:a,motion:g,motionNodes:o===TW?H:null,motionType:$,onMotionStart:M,onMotionEnd:Q,treeNodeRequiredProps:te,onMouseMove:function(){C(null)}}))})))},IW=m.forwardRef(OW);IW.displayName="NodeList";var DW=IW;var RW=function(e){(0,C_.Z)(n,e);var t=(0,M_.Z)(n);function n(){var e;(0,k_.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:Az()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=m.createRef(),e.onNodeDragStart=function(t,n){var r=e.state,o=r.expandedKeys,i=r.keyEntities,a=e.props.onDragStart,s=n.props.eventKey;e.dragNode=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var u=yz(o,s);e.setState({draggingNodeKey:s,dragChildrenKeys:Ez(s,i),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(u),window.addEventListener("dragend",e.onWindowDragEnd),null===a||void 0===a||a({event:t,node:Lz(n.props)})},e.onNodeDragEnter=function(t,n){var r=e.state,o=r.expandedKeys,i=r.keyEntities,a=r.dragChildrenKeys,s=r.flattenNodes,u=r.indent,c=e.props,l=c.onDragEnter,f=c.onExpand,d=c.allowDrop,h=c.direction,p=n.props,g=p.pos,v=p.eventKey,m=(0,ET.Z)(e).dragNode;if(e.currentMouseOverDroppableNodeKey!==v&&(e.currentMouseOverDroppableNodeKey=v),m){var y=Sz(t,m,n,u,e.dragStartMousePosition,d,s,i,o,h),b=y.dropPosition,x=y.dropLevelOffset,w=y.dropTargetKey,E=y.dropContainerKey,_=y.dropTargetPos,S=y.dropAllowed,k=y.dragOverNodeKey;-1===a.indexOf(w)&&S?(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach((function(t){clearTimeout(e.delayedDragEnterLogic[t])})),m.props.eventKey!==n.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[g]=window.setTimeout((function(){if(null!==e.state.draggingNodeKey){var r=(0,OS.Z)(o),a=i[n.props.eventKey];a&&(a.children||[]).length&&(r=bz(o,n.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(r),null===f||void 0===f||f(r,{node:Lz(n.props),expanded:!0,nativeEvent:t.nativeEvent})}}),800)),m.props.eventKey!==w||0!==x?(e.setState({dragOverNodeKey:k,dropPosition:b,dropLevelOffset:x,dropTargetKey:w,dropContainerKey:E,dropTargetPos:_,dropAllowed:S}),null===l||void 0===l||l({event:t,node:Lz(n.props),expandedKeys:o})):e.resetDragState()):e.resetDragState()}else e.resetDragState()},e.onNodeDragOver=function(t,n){var r=e.state,o=r.dragChildrenKeys,i=r.flattenNodes,a=r.keyEntities,s=r.expandedKeys,u=r.indent,c=e.props,l=c.onDragOver,f=c.allowDrop,d=c.direction,h=(0,ET.Z)(e).dragNode;if(h){var p=Sz(t,h,n,u,e.dragStartMousePosition,f,i,a,s,d),g=p.dropPosition,v=p.dropLevelOffset,m=p.dropTargetKey,y=p.dropContainerKey,b=p.dropAllowed,x=p.dropTargetPos,w=p.dragOverNodeKey;-1===o.indexOf(m)&&b&&(h.props.eventKey===m&&0===v?null===e.state.dropPosition&&null===e.state.dropLevelOffset&&null===e.state.dropTargetKey&&null===e.state.dropContainerKey&&null===e.state.dropTargetPos&&!1===e.state.dropAllowed&&null===e.state.dragOverNodeKey||e.resetDragState():g===e.state.dropPosition&&v===e.state.dropLevelOffset&&m===e.state.dropTargetKey&&y===e.state.dropContainerKey&&x===e.state.dropTargetPos&&b===e.state.dropAllowed&&w===e.state.dragOverNodeKey||e.setState({dropPosition:g,dropLevelOffset:v,dropTargetKey:m,dropContainerKey:y,dropTargetPos:x,dropAllowed:b,dragOverNodeKey:w}),null===l||void 0===l||l({event:t,node:Lz(n.props)}))}},e.onNodeDragLeave=function(t,n){e.currentMouseOverDroppableNodeKey!==n.props.eventKey||t.currentTarget.contains(t.relatedTarget)||(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;null===r||void 0===r||r({event:t,node:Lz(n.props)})},e.onWindowDragEnd=function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(t,n){var r=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),null===r||void 0===r||r({event:t,node:Lz(n.props)}),e.dragNode=null},e.onNodeDrop=function(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.state,a=i.dragChildrenKeys,s=i.dropPosition,u=i.dropTargetKey,c=i.dropTargetPos,l=i.dropAllowed;if(l){var f=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),null!==u){var d=Ee(Ee({},Rz(u,e.getTreeNodeRequiredProps())),{},{active:(null===(r=e.getActiveItem())||void 0===r?void 0:r.data.key)===u,data:e.state.keyEntities[u].node}),h=-1!==a.indexOf(u);Ek(!h,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var p=xz(c),g={event:t,node:Lz(d),dragNode:e.dragNode?Lz(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(a),dropToGap:0!==s,dropPosition:s+Number(p[p.length-1])};o||null===f||void 0===f||f(g),e.dragNode=null}}},e.cleanDragState=function(){null!==e.state.draggingNodeKey&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.onNodeClick=function(t,n){var r=e.props.onClick;null===r||void 0===r||r(t,n)},e.onNodeDoubleClick=function(t,n){var r=e.props.onDoubleClick;null===r||void 0===r||r(t,n)},e.onNodeSelect=function(t,n){var r=e.state.selectedKeys,o=e.state,i=o.keyEntities,a=o.fieldNames,s=e.props,u=s.onSelect,c=s.multiple,l=n.selected,f=n[a.key],d=!l,h=(r=d?c?bz(r,f):[f]:yz(r,f)).map((function(e){var t=i[e];return t?t.node:null})).filter((function(e){return e}));e.setUncontrolledState({selectedKeys:r}),null===u||void 0===u||u(r,{event:"select",selected:d,node:n,selectedNodes:h,nativeEvent:t.nativeEvent})},e.onNodeCheck=function(t,n,r){var o,i=e.state,a=i.keyEntities,s=i.checkedKeys,u=i.halfCheckedKeys,c=e.props,l=c.checkStrictly,f=c.onCheck,d=n.key,h={event:"check",node:n,checked:r,nativeEvent:t.nativeEvent};if(l){var p=r?bz(s,d):yz(s,d);o={checked:p,halfChecked:yz(u,d)},h.checkedNodes=p.map((function(e){return a[e]})).filter((function(e){return e})).map((function(e){return e.node})),e.setUncontrolledState({checkedKeys:p})}else{var g=Bz([].concat((0,OS.Z)(s),[d]),!0,a),v=g.checkedKeys,m=g.halfCheckedKeys;if(!r){var y=new Set(v);y.delete(d);var b=Bz(Array.from(y),{checked:!1,halfCheckedKeys:m},a);v=b.checkedKeys,m=b.halfCheckedKeys}o=v,h.checkedNodes=[],h.checkedNodesPositions=[],h.halfCheckedKeys=m,v.forEach((function(e){var t=a[e];if(t){var n=t.node,r=t.pos;h.checkedNodes.push(n),h.checkedNodesPositions.push({node:n,pos:r})}})),e.setUncontrolledState({checkedKeys:v},!1,{halfCheckedKeys:m})}null===f||void 0===f||f(o,h)},e.onNodeLoad=function(t){var n=t.key,r=new Promise((function(r,o){e.setState((function(i){var a=i.loadedKeys,s=void 0===a?[]:a,u=i.loadingKeys,c=void 0===u?[]:u,l=e.props,f=l.loadData,d=l.onLoad;return f&&-1===s.indexOf(n)&&-1===c.indexOf(n)?(f(t).then((function(){var o=bz(e.state.loadedKeys,n);null===d||void 0===d||d(o,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:o}),e.setState((function(e){return{loadingKeys:yz(e.loadingKeys,n)}})),r()})).catch((function(t){if(e.setState((function(e){return{loadingKeys:yz(e.loadingKeys,n)}})),e.loadingRetryTimes[n]=(e.loadingRetryTimes[n]||0)+1,e.loadingRetryTimes[n]>=10){var i=e.state.loadedKeys;Ek(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:bz(i,n)}),r()}o(t)})),{loadingKeys:bz(c,n)}):null}))}));return r.catch((function(){})),r},e.onNodeMouseEnter=function(t,n){var r=e.props.onMouseEnter;null===r||void 0===r||r({event:t,node:n})},e.onNodeMouseLeave=function(t,n){var r=e.props.onMouseLeave;null===r||void 0===r||r({event:t,node:n})},e.onNodeContextMenu=function(t,n){var r=e.props.onRightClick;r&&(t.preventDefault(),r({event:t,node:n}))},e.onFocus=function(){var t=e.props.onFocus;e.setState({focused:!0});for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null===t||void 0===t||t.apply(void 0,r)},e.onBlur=function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null===t||void 0===t||t.apply(void 0,r)},e.getTreeNodeRequiredProps=function(){var t=e.state;return{expandedKeys:t.expandedKeys||[],selectedKeys:t.selectedKeys||[],loadedKeys:t.loadedKeys||[],loadingKeys:t.loadingKeys||[],checkedKeys:t.checkedKeys||[],halfCheckedKeys:t.halfCheckedKeys||[],dragOverNodeKey:t.dragOverNodeKey,dropPosition:t.dropPosition,keyEntities:t.keyEntities}},e.setExpandedKeys=function(t){var n=e.state,r=Oz(n.treeData,t,n.fieldNames);e.setUncontrolledState({expandedKeys:t,flattenNodes:r},!0)},e.onNodeExpand=function(t,n){var r=e.state.expandedKeys,o=e.state,i=o.listChanging,a=o.fieldNames,s=e.props,u=s.onExpand,c=s.loadData,l=n.expanded,f=n[a.key];if(!i){var d=r.indexOf(f),h=!l;if(Ek(l&&-1!==d||!l&&-1===d,"Expand state not sync with index check"),r=h?bz(r,f):yz(r,f),e.setExpandedKeys(r),null===u||void 0===u||u(r,{node:n,expanded:h,nativeEvent:t.nativeEvent}),h&&c){var p=e.onNodeLoad(n);p&&p.then((function(){var t=Oz(e.state.treeData,r,a);e.setUncontrolledState({flattenNodes:t})})).catch((function(){var t=yz(e.state.expandedKeys,f);e.setExpandedKeys(t)}))}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout((function(){e.setUncontrolledState({listChanging:!1})}))},e.onActiveChange=function(t){var n=e.state.activeKey,r=e.props.onActiveChange;n!==t&&(e.setState({activeKey:t}),null!==t&&e.scrollTo({key:t}),null===r||void 0===r||r(t))},e.getActiveItem=function(){var t=e.state,n=t.activeKey,r=t.flattenNodes;return null===n?null:r.find((function(e){return e.key===n}))||null},e.offsetActiveKey=function(t){var n=e.state,r=n.flattenNodes,o=n.activeKey,i=r.findIndex((function(e){return e.key===o}));-1===i&&t<0&&(i=r.length);var a=r[i=(i+t+r.length)%r.length];if(a){var s=a.key;e.onActiveChange(s)}else e.onActiveChange(null)},e.onKeyDown=function(t){var n=e.state,r=n.activeKey,o=n.expandedKeys,i=n.checkedKeys,a=e.props,s=a.onKeyDown,u=a.checkable,c=a.selectable;switch(t.which){case cA.UP:e.offsetActiveKey(-1),t.preventDefault();break;case cA.DOWN:e.offsetActiveKey(1),t.preventDefault()}var l=e.getActiveItem();if(l&&l.data){var f=e.getTreeNodeRequiredProps(),d=!1===l.data.isLeaf||!!(l.data.children||[]).length,h=Lz(Ee(Ee({},Rz(r,f)),{},{data:l.data,active:!0}));switch(t.which){case cA.LEFT:d&&o.includes(r)?e.onNodeExpand({},h):l.parent&&e.onActiveChange(l.parent.data.key),t.preventDefault();break;case cA.RIGHT:d&&!o.includes(r)?e.onNodeExpand({},h):l.children&&l.children.length&&e.onActiveChange(l.children[0].data.key),t.preventDefault();break;case cA.ENTER:case cA.SPACE:!u||h.disabled||!1===h.checkable||h.disableCheckbox?u||!c||h.disabled||!1===h.selectable||e.onNodeSelect({},h):e.onNodeCheck({},h,!i.includes(r))}}null===s||void 0===s||s(t)},e.setUncontrolledState=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e.destroyed){var o=!1,i=!0,a={};Object.keys(t).forEach((function(n){n in e.props?i=!1:(o=!0,a[n]=t[n])})),!o||n&&!i||e.setState(Ee(Ee({},a),r))}},e.scrollTo=function(t){e.listRef.current.scrollTo(t)},e}return(0,T_.Z)(n,[{key:"componentDidMount",value:function(){this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var e=this.props.activeKey;void 0!==e&&e!==this.state.activeKey&&(this.setState({activeKey:e}),null!==e&&this.scrollTo({key:e}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var e,t,n=this.state,r=n.focused,o=n.flattenNodes,i=n.keyEntities,a=n.draggingNodeKey,s=n.activeKey,u=n.dropLevelOffset,c=n.dropContainerKey,l=n.dropTargetKey,f=n.dropPosition,d=n.dragOverNodeKey,h=n.indent,p=this.props,g=p.prefixCls,v=p.className,y=p.style,b=p.showLine,x=p.focusable,w=p.tabIndex,E=void 0===w?0:w,_=p.selectable,S=p.showIcon,k=p.icon,T=p.switcherIcon,C=p.draggable,M=p.checkable,N=p.checkStrictly,A=p.disabled,P=p.motion,O=p.loadData,I=p.filterTreeNode,D=p.height,R=p.itemHeight,L=p.virtual,j=p.titleRender,F=p.dropIndicatorRender,B=p.onContextMenu,z=p.onScroll,G=p.direction,V=SR(this.props,{aria:!0,data:!0});return C&&(t="object"===(0,N_.Z)(C)?C:"function"===typeof C?{nodeDraggable:C}:{}),m.createElement(cz.Provider,{value:{prefixCls:g,selectable:_,showIcon:S,icon:k,switcherIcon:T,draggable:t,draggingNodeKey:a,checkable:M,checkStrictly:N,disabled:A,keyEntities:i,dropLevelOffset:u,dropContainerKey:c,dropTargetKey:l,dropPosition:f,dragOverNodeKey:d,indent:h,direction:G,dropIndicatorRender:F,loadData:O,filterTreeNode:I,titleRender:j,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},m.createElement("div",{role:"tree",className:__()(g,v,(e={},(0,xe.Z)(e,"".concat(g,"-show-line"),b),(0,xe.Z)(e,"".concat(g,"-focused"),r),(0,xe.Z)(e,"".concat(g,"-active-focused"),null!==s),e))},m.createElement(DW,vt({ref:this.listRef,prefixCls:g,style:y,data:o,disabled:A,selectable:_,checkable:!!M,motion:P,dragging:null!==a,height:D,itemHeight:R,virtual:L,focusable:x,focused:r,tabIndex:E,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:B,onScroll:z},this.getTreeNodeRequiredProps(),V))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,r=t.prevProps,o={prevProps:e};function i(t){return!r&&t in e||r&&r[t]!==e[t]}var a=t.fieldNames;if(i("fieldNames")&&(a=Az(e.fieldNames),o.fieldNames=a),i("treeData")?n=e.treeData:i("children")&&(Ek(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=Pz(e.children)),n){o.treeData=n;var s=Dz(n,{fieldNames:a});o.keyEntities=Ee((0,xe.Z)({},TW,MW),s.keyEntities)}var u,c=o.keyEntities||t.keyEntities;if(i("expandedKeys")||r&&i("autoExpandParent"))o.expandedKeys=e.autoExpandParent||!r&&e.defaultExpandParent?Cz(e.expandedKeys,c):e.expandedKeys;else if(!r&&e.defaultExpandAll){var l=Ee({},c);delete l[TW],o.expandedKeys=Object.keys(l).map((function(e){return l[e].key}))}else!r&&e.defaultExpandedKeys&&(o.expandedKeys=e.autoExpandParent||e.defaultExpandParent?Cz(e.defaultExpandedKeys,c):e.defaultExpandedKeys);if(o.expandedKeys||delete o.expandedKeys,n||o.expandedKeys){var f=Oz(n||t.treeData,o.expandedKeys||t.expandedKeys,a);o.flattenNodes=f}if((e.selectable&&(i("selectedKeys")?o.selectedKeys=kz(e.selectedKeys,e):!r&&e.defaultSelectedKeys&&(o.selectedKeys=kz(e.defaultSelectedKeys,e))),e.checkable)&&(i("checkedKeys")?u=Tz(e.checkedKeys)||{}:!r&&e.defaultCheckedKeys?u=Tz(e.defaultCheckedKeys)||{}:n&&(u=Tz(e.checkedKeys)||{checkedKeys:t.checkedKeys,halfCheckedKeys:t.halfCheckedKeys}),u)){var d=u,h=d.checkedKeys,p=void 0===h?[]:h,g=d.halfCheckedKeys,v=void 0===g?[]:g;if(!e.checkStrictly){var m=Bz(p,!0,c);p=m.checkedKeys,v=m.halfCheckedKeys}o.checkedKeys=p,o.halfCheckedKeys=v}return i("loadedKeys")&&(o.loadedKeys=e.loadedKeys),o}}]),n}(m.Component);RW.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){var t=e.dropPosition,n=e.dropLevelOffset,r=e.indent,o={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:o.top=0,o.left=-n*r;break;case 1:o.bottom=0,o.left=-n*r;break;case 0:o.bottom=0,o.left=r}return m.createElement("div",{style:o})},allowDrop:function(){return!0}},RW.TreeNode=mz;var LW=RW,jW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},FW=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:jW}))};FW.displayName="FileOutlined";var BW=m.forwardRef(FW),zW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},GW=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:zW}))};GW.displayName="FolderOpenOutlined";var VW=m.forwardRef(GW),UW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},WW=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:UW}))};WW.displayName="FolderOutlined";var ZW,YW=m.forwardRef(WW);function HW(e,t){e.forEach((function(e){var n=e.key,r=e.children;!1!==t(n,e)&&HW(r||[],t)}))}function XW(e){var t=e.treeData,n=e.expandedKeys,r=e.startKey,o=e.endKey,i=[],a=ZW.None;if(r&&r===o)return[r];if(!r||!o)return[];return HW(t,(function(e){if(a===ZW.End)return!1;if(function(e){return e===r||e===o}(e)){if(i.push(e),a===ZW.None)a=ZW.Start;else if(a===ZW.Start)return a=ZW.End,!1}else a===ZW.Start&&i.push(e);return-1!==n.indexOf(e)})),i}function KW(e,t){var n=(0,OS.Z)(t),r=[];return HW(e,(function(e,t){var o=n.indexOf(e);return-1!==o&&(r.push(t),n.splice(o,1)),!!n.length})),r}!function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.End=2]="End"}(ZW||(ZW={}));var qW=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function $W(e){var t=e.isLeaf,n=e.expanded;return t?m.createElement(BW,null):n?m.createElement(VW,null):m.createElement(YW,null)}function JW(e){var t=e.treeData,n=e.children;return t||Pz(n)}var QW=function(e,t){var n=e.defaultExpandAll,r=e.defaultExpandParent,o=e.defaultExpandedKeys,i=qW(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),a=m.useRef(),s=m.useRef(),u=m.createRef();m.useImperativeHandle(t,(function(){return u.current}));var c=m.useState(i.selectedKeys||i.defaultSelectedKeys||[]),l=(0,gt.Z)(c,2),f=l[0],d=l[1],h=m.useState(function(){var e=Dz(JW(i)).keyEntities;return n?Object.keys(e):r?Cz(i.expandedKeys||o||[],e):i.expandedKeys||o}()),p=(0,gt.Z)(h,2),g=p[0],v=p[1];m.useEffect((function(){"selectedKeys"in i&&d(i.selectedKeys)}),[i.selectedKeys]),m.useEffect((function(){"expandedKeys"in i&&v(i.expandedKeys)}),[i.expandedKeys]);var y=TB()((function(e,t){t.isLeaf||e.shiftKey||e.metaKey||e.ctrlKey||u.current.onNodeExpand(e,t)}),200,{leading:!0}),b=m.useContext(xT),x=b.getPrefixCls,w=b.direction,E=i.prefixCls,_=i.className,S=qW(i,["prefixCls","className"]),k=x("tree",E),T=__()("".concat(k,"-directory"),(0,xe.Z)({},"".concat(k,"-directory-rtl"),"rtl"===w),_);return m.createElement(hZ,vt({icon:$W,ref:u,blockNode:!0},S,{prefixCls:k,className:T,expandedKeys:g,selectedKeys:f,onSelect:function(e,t){var n,r,o=i.multiple,u=t.node,c=t.nativeEvent,l=u.key,f=void 0===l?"":l,h=JW(i),p=vt(vt({},t),{selected:!0}),v=(null===c||void 0===c?void 0:c.ctrlKey)||(null===c||void 0===c?void 0:c.metaKey),m=null===c||void 0===c?void 0:c.shiftKey;o&&v?(r=e,a.current=f,s.current=r,p.selectedNodes=KW(h,r)):o&&m?(r=Array.from(new Set([].concat((0,OS.Z)(s.current||[]),(0,OS.Z)(XW({treeData:h,expandedKeys:g,startKey:f,endKey:a.current}))))),p.selectedNodes=KW(h,r)):(r=[f],a.current=f,s.current=r,p.selectedNodes=KW(h,r)),null===(n=i.onSelect)||void 0===n||n.call(i,r,p),"selectedKeys"in i||d(r)},onClick:function(e,t){var n;"click"===i.expandAction&&y(e,t),null===(n=i.onClick)||void 0===n||n.call(i,e,t)},onDoubleClick:function(e,t){var n;"doubleClick"===i.expandAction&&y(e,t),null===(n=i.onDoubleClick)||void 0===n||n.call(i,e,t)},onExpand:function(e,t){var n;return"expandedKeys"in i||v(e),null===(n=i.onExpand)||void 0===n?void 0:n.call(i,e,t)}}))},eZ=m.forwardRef(QW);eZ.displayName="DirectoryTree",eZ.defaultProps={showIcon:!0,expandAction:"click"};var tZ=eZ,nZ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},rZ=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:nZ}))};rZ.displayName="MinusSquareOutlined";var oZ=m.forwardRef(rZ),iZ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},aZ=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:iZ}))};aZ.displayName="PlusSquareOutlined";var sZ=m.forwardRef(aZ),uZ={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},cZ=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:uZ}))};cZ.displayName="CaretDownFilled";var lZ=m.forwardRef(cZ);function fZ(e){var t,n=e.dropPosition,r=e.dropLevelOffset,o=e.prefixCls,i=e.indent,a=e.direction,s=void 0===a?"ltr":a,u="ltr"===s?"left":"right",c="ltr"===s?"right":"left",l=(t={},(0,xe.Z)(t,u,-r*i+4),(0,xe.Z)(t,c,0),t);switch(n){case-1:l.top=-3;break;case 1:l.bottom=-3;break;default:l.bottom=-3,l[u]=i+4}return m.createElement("div",{style:l,className:"".concat(o,"-drop-indicator")})}var dZ=m.forwardRef((function(e,t){var n,r=m.useContext(xT),o=r.getPrefixCls,i=r.direction,a=r.virtual,s=e.prefixCls,u=e.className,c=e.showIcon,l=e.showLine,f=e.switcherIcon,d=e.blockNode,h=e.children,p=e.checkable,g=e.selectable,v=e.draggable,y=o("tree",s),b=vt(vt({},e),{showLine:Boolean(l),dropIndicatorRender:fZ}),x=m.useMemo((function(){if(!v)return!1;var e={};switch((0,N_.Z)(v)){case"function":e.nodeDraggable=v;break;case"object":e=vt({},v)}return!1!==e.icon&&(e.icon=e.icon||m.createElement(yW,null)),e}),[v]);return m.createElement(LW,vt({itemHeight:20,ref:t,virtual:a},b,{prefixCls:y,className:__()((n={},(0,xe.Z)(n,"".concat(y,"-icon-hide"),!c),(0,xe.Z)(n,"".concat(y,"-block-node"),d),(0,xe.Z)(n,"".concat(y,"-unselectable"),!g),(0,xe.Z)(n,"".concat(y,"-rtl"),"rtl"===i),n),u),direction:i,checkable:p?m.createElement("span",{className:"".concat(y,"-checkbox-inner")}):p,selectable:g,switcherIcon:function(e){return function(e,t,n,r){var o,i=r.isLeaf,a=r.expanded;if(r.loading)return m.createElement(Zk,{className:"".concat(e,"-switcher-loading-icon")});if(n&&"object"===(0,N_.Z)(n)&&(o=n.showLeafIcon),i)return n?"object"!==(0,N_.Z)(n)||o?m.createElement(BW,{className:"".concat(e,"-switcher-line-icon")}):m.createElement("span",{className:"".concat(e,"-switcher-leaf-line")}):null;var s="".concat(e,"-switcher-icon");return MN(t)?NN(t,{className:__()(t.props.className||"",s)}):t||(n?a?m.createElement(oZ,{className:"".concat(e,"-switcher-line-icon")}):m.createElement(sZ,{className:"".concat(e,"-switcher-line-icon")}):m.createElement(lZ,{className:s}))}(y,f,l,e)},draggable:x}),h)}));dZ.TreeNode=mz,dZ.DirectoryTree=tZ,dZ.defaultProps={checkable:!1,selectable:!0,showIcon:!1,motion:vt(vt({},Ij),{motionAppear:!1}),blockNode:!1};var hZ=dZ,pZ=hZ,gZ=function(e){return m.createElement("div",{className:e.className,onClick:function(e){return e.stopPropagation()}},e.children)},vZ=function(e){var t=e.value,n=e.onChange,r=e.filterSearch,o=e.tablePrefixCls,i=e.locale;return r?m.createElement("div",{className:"".concat(o,"-filter-dropdown-search")},m.createElement(aR,{prefix:m.createElement(xD,null),placeholder:i.filterSearchPlaceholder,onChange:n,value:t,htmlSize:1,className:"".concat(o,"-filter-dropdown-search-input")})):null};function mZ(e,t){return("string"===typeof t||"number"===typeof t)&&(null===t||void 0===t?void 0:t.toString().toLowerCase().includes(e.trim().toLowerCase()))}function yZ(e){var t=e.filters,n=e.prefixCls,r=e.filteredKeys,o=e.filterMultiple,i=e.searchValue,a=e.filterSearch;return t.map((function(e,t){var s=String(e.value);if(e.children)return m.createElement(TU.SubMenu,{key:s||t,title:e.text,popupClassName:"".concat(n,"-dropdown-submenu")},yZ({filters:e.children,prefixCls:n,filteredKeys:r,filterMultiple:o,searchValue:i,filterSearch:a}));var u=o?Jz:zU,c=m.createElement(TU.Item,{key:void 0!==e.value?s:t},m.createElement(u,{checked:r.includes(s)}),m.createElement("span",null,e.text));return i.trim()?"function"===typeof a?a(i,e)?c:void 0:mZ(i,e.text)?c:void 0:c}))}var bZ=function(e){var t,n=e.tablePrefixCls,r=e.prefixCls,o=e.column,i=e.dropdownPrefixCls,a=e.columnKey,s=e.filterMultiple,u=e.filterMode,c=void 0===u?"menu":u,l=e.filterSearch,f=void 0!==l&&l,d=e.filterState,h=e.triggerFilter,p=e.locale,g=e.children,v=e.getPopupContainer,y=o.filterDropdownVisible,b=o.onFilterDropdownVisibleChange,x=m.useState(!1),w=(0,gt.Z)(x,2),E=w[0],_=w[1],S=!(!d||!(null===(t=d.filteredKeys)||void 0===t?void 0:t.length)&&!d.forceFiltered),k=function(e){_(e),null===b||void 0===b||b(e)},T="boolean"===typeof y?y:E,C=null===d||void 0===d?void 0:d.filteredKeys,M=function(e){var t=m.useRef(e),n=nz();return[function(){return t.current},function(e){t.current=e,n()}]}(C||[]),N=(0,gt.Z)(M,2),A=N[0],P=N[1],O=function(e){var t=e.selectedKeys;P(t)},I=function(e,t){var n=t.node,r=t.checked;O(s?{selectedKeys:e}:{selectedKeys:r&&n.key?[n.key]:[]})};m.useEffect((function(){E&&O({selectedKeys:C||[]})}),[C]);var D=m.useState([]),R=(0,gt.Z)(D,2),L=R[0],j=R[1],F=m.useRef(),B=function(e){F.current=window.setTimeout((function(){j(e)}))},z=function(){window.clearTimeout(F.current)};m.useEffect((function(){return function(){window.clearTimeout(F.current)}}),[]);var G=m.useState(""),V=(0,gt.Z)(G,2),U=V[0],W=V[1],Z=function(e){var t=e.target.value;W(t)};m.useEffect((function(){E||W("")}),[E]);var Y,H=function(e){var t=e&&e.length?e:null;return null!==t||d&&d.filteredKeys?OO()(t,null===d||void 0===d?void 0:d.filteredKeys)?null:void h({column:o,key:a,filteredKeys:t}):null},X=function(){k(!1),H(A())},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{confirm:!1,closeDropdown:!1},t=e.confirm,n=e.closeDropdown;t&&H([]),n&&k(!1),W(""),P([])},q=__()((0,xe.Z)({},"".concat(i,"-menu-without-submenu"),!(o.filters||[]).some((function(e){return e.children})))),$=function(e){if(e.target.checked){var t=EZ(null===o||void 0===o?void 0:o.filters).map((function(e){return String(e)}));P(t)}else P([])},J=function e(t){return(t.filters||[]).map((function(t,n){var r=String(t.value),o={title:t.text,key:void 0!==t.value?r:n};return t.children&&(o.children=e({filters:t.children})),o}))};if("function"===typeof o.filterDropdown)Y=o.filterDropdown({prefixCls:"".concat(i,"-custom"),setSelectedKeys:function(e){return O({selectedKeys:e})},selectedKeys:A(),confirm:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{closeDropdown:!0}).closeDropdown&&k(!1),H(A())},clearFilters:K,filters:o.filters,visible:T});else if(o.filterDropdown)Y=o.filterDropdown;else{var Q=A()||[];Y=m.createElement(m.Fragment,null,0===(o.filters||[]).length?m.createElement(yT,{image:yT.PRESENTED_IMAGE_SIMPLE,description:p.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}}):"tree"===c?m.createElement(m.Fragment,null,m.createElement(vZ,{filterSearch:f,value:U,onChange:Z,tablePrefixCls:n,locale:p}),m.createElement("div",{className:"".concat(n,"-filter-dropdown-tree")},s?m.createElement(Jz,{checked:Q.length===EZ(o.filters).length,indeterminate:Q.length>0&&Q.length<EZ(o.filters).length,className:"".concat(n,"-filter-dropdown-checkall"),onChange:$},p.filterCheckall):null,m.createElement(pZ,{checkable:!0,selectable:!1,blockNode:!0,multiple:s,checkStrictly:!s,className:"".concat(i,"-menu"),onCheck:I,checkedKeys:Q,selectedKeys:Q,showIcon:!1,treeData:J({filters:o.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:U.trim()?function(e){return mZ(U,e.title)}:void 0}))):m.createElement(m.Fragment,null,m.createElement(vZ,{filterSearch:f,value:U,onChange:Z,tablePrefixCls:n,locale:p}),m.createElement(TU,{multiple:s,prefixCls:"".concat(i,"-menu"),className:q,onClick:z,onSelect:O,onDeselect:O,selectedKeys:Q,getPopupContainer:v,openKeys:L,onOpenChange:B},yZ({filters:o.filters||[],filterSearch:f,prefixCls:r,filteredKeys:A(),filterMultiple:s,searchValue:U}))),m.createElement("div",{className:"".concat(r,"-dropdown-btns")},m.createElement(WN,{type:"link",size:"small",disabled:0===Q.length,onClick:function(){return K()}},p.filterReset),m.createElement(WN,{type:"primary",size:"small",onClick:X},p.filterConfirm)))}var ee,te=m.createElement(gZ,{className:"".concat(r,"-dropdown")},Y);ee="function"===typeof o.filterIcon?o.filterIcon(S):o.filterIcon?o.filterIcon:m.createElement(gW,null);var ne=m.useContext(xT).direction;return m.createElement("div",{className:"".concat(r,"-column")},m.createElement("span",{className:"".concat(n,"-column-title")},g),m.createElement(kG,{overlay:te,trigger:["click"],visible:T,onVisibleChange:function(e){e&&void 0!==C&&P(C||[]),k(e),e||o.filterDropdown||X()},getPopupContainer:v,placement:"rtl"===ne?"bottomLeft":"bottomRight"},m.createElement("span",{role:"button",tabIndex:-1,className:__()("".concat(r,"-trigger"),{active:S}),onClick:function(e){e.stopPropagation()}},ee)))};function xZ(e,t,n){var r=[];return(e||[]).forEach((function(e,o){var i,a=tW(o,n);if(e.filters||"filterDropdown"in e||"onFilter"in e)if("filteredValue"in e){var s=e.filteredValue;"filterDropdown"in e||(s=null!==(i=null===s||void 0===s?void 0:s.map(String))&&void 0!==i?i:s),r.push({column:e,key:eW(e,a),filteredKeys:s,forceFiltered:e.filtered})}else r.push({column:e,key:eW(e,a),filteredKeys:t&&e.defaultFilteredValue?e.defaultFilteredValue:void 0,forceFiltered:e.filtered});"children"in e&&(r=[].concat((0,OS.Z)(r),(0,OS.Z)(xZ(e.children,t,a))))})),r}function wZ(e,t,n,r,o,i,a,s){return n.map((function(n,u){var c=tW(u,s),l=n.filterMultiple,f=void 0===l||l,d=n.filterMode,h=n.filterSearch,p=n;if(p.filters||p.filterDropdown){var g=eW(p,c),v=r.find((function(e){var t=e.key;return g===t}));p=vt(vt({},p),{title:function(r){return m.createElement(bZ,{tablePrefixCls:e,prefixCls:"".concat(e,"-filter"),dropdownPrefixCls:t,column:p,columnKey:g,filterState:v,filterMultiple:f,filterMode:d,filterSearch:h,triggerFilter:o,locale:a,getPopupContainer:i},nW(n.title,r))}})}return"children"in p&&(p=vt(vt({},p),{children:wZ(e,t,p.children,r,o,i,a,c)})),p}))}function EZ(e){var t=[];return(e||[]).forEach((function(e){var n=e.value,r=e.children;t.push(n),r&&(t=[].concat((0,OS.Z)(t),(0,OS.Z)(EZ(r))))})),t}function _Z(e){var t={};return e.forEach((function(e){var n=e.key,r=e.filteredKeys,o=e.column,i=o.filters;if(o.filterDropdown)t[n]=r||null;else if(Array.isArray(r)){var a=EZ(i);t[n]=a.filter((function(e){return r.includes(String(e))}))}else t[n]=null})),t}function SZ(e,t){return t.reduce((function(e,t){var n=t.column,r=n.onFilter,o=n.filters,i=t.filteredKeys;return r&&i&&i.length?e.filter((function(e){return i.some((function(t){var n=EZ(o),i=n.findIndex((function(e){return String(e)===String(t)})),a=-1!==i?n[i]:t;return r(a,e)}))})):e}),e)}var kZ=function(e){var t=e.prefixCls,n=e.dropdownPrefixCls,r=e.mergedColumns,o=e.onFilterChange,i=e.getPopupContainer,a=e.locale,s=m.useState(xZ(r,!0)),u=(0,gt.Z)(s,2),c=u[0],l=u[1],f=m.useMemo((function(){var e=xZ(r,!1),t=e.every((function(e){return void 0===e.filteredKeys}));if(t)return c;var n=e.every((function(e){return void 0!==e.filteredKeys}));return QC(t||n,"Table","`FilteredKeys` should all be controlled or not controlled."),e}),[r,c]),d=m.useCallback((function(){return _Z(f)}),[f]),h=function(e){var t=f.filter((function(t){return t.key!==e.key}));t.push(e),l(t),o(_Z(t),t)};return[function(e){return wZ(t,n,e,f,h,i,a)},f,d]};function TZ(e,t){return e.map((function(e){var n=vt({},e);return n.title=nW(e.title,t),"children"in n&&(n.children=TZ(n.children,t)),n}))}function CZ(e){var t=m.useCallback((function(t){return TZ(t,e)}),[e]);return[t]}var MZ=function(e){return function(t){var n,r=t.prefixCls,o=t.onExpand,i=t.record,a=t.expanded,s=t.expandable,u="".concat(r,"-row-expand-icon");return m.createElement("button",{type:"button",onClick:function(e){o(i,e),e.stopPropagation()},className:__()(u,(n={},(0,xe.Z)(n,"".concat(u,"-spaced"),!s),(0,xe.Z)(n,"".concat(u,"-expanded"),s&&a),(0,xe.Z)(n,"".concat(u,"-collapsed"),s&&!a),n)),"aria-label":a?e.collapse:e.expand})}};function NZ(e){return null!==e&&void 0!==e&&e===e.window}function AZ(e,t){var n;if("undefined"===typeof window)return 0;var r=t?"scrollTop":"scrollLeft",o=0;return NZ(e)?o=e[t?"pageYOffset":"pageXOffset"]:e instanceof Document?o=e.documentElement[r]:e&&(o=e[r]),e&&!NZ(e)&&"number"!==typeof o&&(o=null===(n=(e.ownerDocument||e).documentElement)||void 0===n?void 0:n[r]),o}function PZ(e,t,n,r){var o=n-t;return(e/=r/2)<1?o/2*e*e*e+t:o/2*((e-=2)*e*e+2)+t}function OZ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getContainer,r=void 0===n?function(){return window}:n,o=t.callback,i=t.duration,a=void 0===i?450:i,s=r(),u=AZ(s,!0),c=Date.now(),l=function t(){var n=Date.now()-c,r=PZ(n>a?a:n,u,e,a);NZ(s)?s.scrollTo(window.pageXOffset,r):s instanceof HTMLDocument||"HTMLDocument"===s.constructor.name?s.documentElement.scrollTop=r:s.scrollTop=r,n<a?fS(t):"function"===typeof o&&o()};fS(l)}var IZ=uT;var DZ=function(e){return null};var RZ=function(e){return null},LZ=[];function jZ(e,t){var n,r=e.prefixCls,o=e.className,i=e.style,a=e.size,s=e.bordered,u=e.dropdownPrefixCls,c=e.dataSource,l=e.pagination,f=e.rowSelection,d=e.rowKey,h=e.rowClassName,p=e.columns,g=e.children,v=e.childrenColumnName,y=e.onChange,b=e.getPopupContainer,x=e.loading,w=e.expandIcon,E=e.expandable,_=e.expandedRowRender,S=e.expandIconColumnIndex,k=e.indentSize,T=e.scroll,C=e.sortDirections,M=e.locale,N=e.showSorterTooltip,A=void 0===N||N;QC(!("function"===typeof d&&d.length>1),"Table","`index` parameter of `rowKey` function is deprecated. There is no guarantee that it will work as expected.");var P=m.useMemo((function(){return p||$F(g)}),[p,g]),O=m.useMemo((function(){return P.some((function(e){return e.responsive}))}),[P]),I=rz(O),D=m.useMemo((function(){var e=new Set(Object.keys(I).filter((function(e){return I[e]})));return P.filter((function(t){return!t.responsive||t.responsive.some((function(t){return e.has(t)}))}))}),[P,I]),R=xN(e,["className","style","columns"]),L=m.useContext(aM),j=m.useContext(xT),F=j.locale,B=void 0===F?IZ:F,z=j.renderEmpty,G=j.direction,V=a||L,U=vt(vt({},B.Table),M),W=c||LZ,Z=m.useContext(xT).getPrefixCls,Y=Z("table",r),H=Z("dropdown",u),X=vt({childrenColumnName:v,expandIconColumnIndex:S},E),K=X.childrenColumnName,q=void 0===K?"children":K,$=m.useMemo((function(){return W.some((function(e){return null===e||void 0===e?void 0:e[q]}))?"nest":_||E&&E.expandedRowRender?"row":null}),[W]),J={body:m.useRef()},Q=m.useMemo((function(){return"function"===typeof d?d:function(e){return null===e||void 0===e?void 0:e[d]}}),[d]),ee=function(e,t,n){var r=m.useRef({});return[function(o){if(!r.current||r.current.data!==e||r.current.childrenColumnName!==t||r.current.getRowKey!==n){var i=new Map;!function e(r){r.forEach((function(r,o){var a=n(r,o);i.set(a,r),r&&"object"===(0,N_.Z)(r)&&t in r&&e(r[t]||[])}))}(e),r.current={data:e,childrenColumnName:t,kvMap:i,getRowKey:n}}return r.current.kvMap.get(o)}]}(W,q,Q),te=(0,gt.Z)(ee,1)[0],ne={},re=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=vt(vt({},ne),e);n&&(ne.resetPagination(),r.pagination.current&&(r.pagination.current=1),l&&l.onChange&&l.onChange(1,r.pagination.pageSize)),T&&!1!==T.scrollToFirstRowOnChange&&J.body.current&&OZ(0,{getContainer:function(){return J.body.current}}),null===y||void 0===y||y(r.pagination,r.filters,r.sorter,{currentDataSource:SZ(fW(W,r.sorterStates,q),r.filterStates),action:t})},oe=dW({prefixCls:Y,mergedColumns:D,onSorterChange:function(e,t){re({sorter:e,sorterStates:t},"sort",!1)},sortDirections:C||["ascend","descend"],tableLocale:U,showSorterTooltip:A}),ie=(0,gt.Z)(oe,4),ae=ie[0],se=ie[1],ue=ie[2],ce=ie[3],le=m.useMemo((function(){return fW(W,se,q)}),[W,se]);ne.sorter=ce(),ne.sorterStates=se;var fe=kZ({prefixCls:Y,locale:U,dropdownPrefixCls:H,mergedColumns:D,onFilterChange:function(e,t){re({filters:e,filterStates:t},"filter",!0)},getPopupContainer:b}),de=(0,gt.Z)(fe,3),he=de[0],pe=de[1],ge=de[2],ve=SZ(le,pe);ne.filters=ge(),ne.filterStates=pe;var me=CZ(m.useMemo((function(){return vt({},ue)}),[ue])),ye=(0,gt.Z)(me,1)[0],be=uz(ve.length,l,(function(e,t){re({pagination:vt(vt({},ne.pagination),{current:e,pageSize:t})},"paginate")})),we=(0,gt.Z)(be,2),Ee=we[0],_e=we[1];ne.pagination=!1===l?{}:function(e,t){var n={current:t.current,pageSize:t.pageSize},r=e&&"object"===(0,N_.Z)(e)?e:{};return Object.keys(r).forEach((function(e){var r=t[e];"function"!==typeof r&&(n[e]=r)})),n}(l,Ee),ne.resetPagination=_e;var Se=m.useMemo((function(){if(!1===l||!Ee.pageSize)return ve;var e=Ee.current,t=void 0===e?1:e,n=Ee.total,r=Ee.pageSize,o=void 0===r?10:r;return QC(t>0,"Table","`current` should be positive number."),ve.length<n?ve.length>o?(QC(!1,"Table","`dataSource` length is less than `pagination.total` but large than `pagination.pageSize`. Please make sure your config correct data with async mode."),ve.slice((t-1)*o,t*o)):ve:ve.slice((t-1)*o,t*o)}),[!!l,ve,Ee&&Ee.current,Ee&&Ee.pageSize,Ee&&Ee.total]),ke=HU(f,{prefixCls:Y,data:ve,pageData:Se,getRowKey:Q,getRecordByKey:te,expandType:$,childrenColumnName:q,locale:U,getPopupContainer:b}),Te=(0,gt.Z)(ke,2),Ce=Te[0],Me=Te[1];X.__PARENT_RENDER_ICON__=X.expandIcon,X.expandIcon=X.expandIcon||w||MZ(U),"nest"===$&&void 0===X.expandIconColumnIndex?X.expandIconColumnIndex=f?1:0:X.expandIconColumnIndex>0&&f&&(X.expandIconColumnIndex-=1),"number"!==typeof X.indentSize&&(X.indentSize="number"===typeof k?k:15);var Ne,Ae,Pe,Oe=m.useCallback((function(e){return ye(Ce(he(ae(e))))}),[ae,he,Ce]);if(!1!==l&&(null===Ee||void 0===Ee?void 0:Ee.total)){var Ie;Ie=Ee.size?Ee.size:"small"===V||"middle"===V?"small":void 0;var De=function(e){return m.createElement(az,vt({},Ee,{className:__()("".concat(Y,"-pagination ").concat(Y,"-pagination-").concat(e),Ee.className),size:Ie}))},Re="rtl"===G?"left":"right",Le=Ee.position;if(null!==Le&&Array.isArray(Le)){var je=Le.find((function(e){return-1!==e.indexOf("top")})),Fe=Le.find((function(e){return-1!==e.indexOf("bottom")})),Be=Le.every((function(e){return"none"==="".concat(e)}));je||Fe||Be||(Ae=De(Re)),je&&(Ne=De(je.toLowerCase().replace("top",""))),Fe&&(Ae=De(Fe.toLowerCase().replace("bottom","")))}else Ae=De(Re)}"boolean"===typeof x?Pe={spinning:x}:"object"===(0,N_.Z)(x)&&(Pe=vt({spinning:!0},x));var ze=__()("".concat(Y,"-wrapper"),(0,xe.Z)({},"".concat(Y,"-wrapper-rtl"),"rtl"===G),o);return m.createElement("div",{ref:t,className:ze,style:i},m.createElement(AB,vt({spinning:!1},Pe),Ne,m.createElement(SB,vt({},R,{columns:D,direction:G,expandable:X,prefixCls:Y,className:__()((n={},(0,xe.Z)(n,"".concat(Y,"-middle"),"middle"===V),(0,xe.Z)(n,"".concat(Y,"-small"),"small"===V),(0,xe.Z)(n,"".concat(Y,"-bordered"),s),(0,xe.Z)(n,"".concat(Y,"-empty"),0===W.length),n)),data:Se,rowKey:Q,rowClassName:function(e,t,n){var r;return r="function"===typeof h?__()(h(e,t,n)):__()(h),__()((0,xe.Z)({},"".concat(Y,"-row-selected"),Me.has(Q(e,t))),r)},emptyText:M&&M.emptyText||z("Table"),internalHooks:wB,internalRefs:J,transformColumns:Oe})),Ae))}var FZ=m.forwardRef(jZ);FZ.defaultProps={rowKey:"key"},FZ.SELECTION_COLUMN=GU,FZ.EXPAND_COLUMN=SB.EXPAND_COLUMN,FZ.SELECTION_ALL=VU,FZ.SELECTION_INVERT=UU,FZ.SELECTION_NONE=WU,FZ.Column=DZ,FZ.ColumnGroup=RZ,FZ.Summary=lB;var BZ=FZ,zZ=[{title:"Title",dataIndex:"Title",render:function(e,t){return(0,hN.jsx)("a",{href:t.url,target:"_blank",rel:"noreferrer",children:e})},key:"title"},{title:"Venue",dataIndex:"Venue",key:"venue"},{title:"Year",dataIndex:"Year",key:"year"},{title:"Authors",key:"authors",dataIndex:"Authors"}];var GZ=function(){var e=w_(),t=e.map((function(t){return Ee(Ee({},t),{},{key:e.indexOf(t),Authors:[t.Authors[0]+" et al."]})})).sort((function(e,t){var n=e.Year.localeCompare(t.Year);return 0===n&&(n=e.Venue.localeCompare(t.Venue)),0===n&&(n=e.Title.localeCompare(t.Title)),n}));return(0,hN.jsx)(BZ,{style:{marginTop:10},columns:zZ,dataSource:t,expandable:{expandedRowRender:function(e){return(0,hN.jsxs)(hN.Fragment,{children:[(0,hN.jsx)("a",{href:e.url,style:{margin:0},children:e.url}),(0,hN.jsx)(VZ,{TagData:e["Type of Data"],Color:"Magenta"}),(0,hN.jsx)(VZ,{TagData:e["Type of Problem"],Color:"Green"}),(0,hN.jsx)(VZ,{TagData:e["Type of Model to be Explained"],Color:"Blue"}),(0,hN.jsx)(VZ,{TagData:e["Type of Task"],Color:"Orange"}),(0,hN.jsx)(VZ,{TagData:e["Type of Explanation"],Color:"Red"}),(0,hN.jsx)(VZ,{TagData:e["Method used to explain"],Color:"Brown"})]})}}})};var VZ=function(e){var t=e.TagData,n=e.Color,r=t.map((function(e,t){return(0,hN.jsx)(eA,{color:n,children:e},t)}));return(0,hN.jsx)(hN.Fragment,{children:r})};var UZ=function(){var e=(0,qt.useAliveController)().refresh,t=m.useState(!0),n=(0,gt.Z)(t,2),r=n[0],o=n[1];return(0,hN.jsxs)($t(),{name:"papers",children:[(0,hN.jsx)(aF,{changeContent:function(t){o(t),e("papers")}}),r?(0,hN.jsx)(GZ,{}):(0,hN.jsx)(uF,{})]})},WZ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},ZZ=function(e){var t=e.prefixCls,n=e.className,r=e.hoverable,o=void 0===r||r,i=WZ(e,["prefixCls","className","hoverable"]);return m.createElement(wT,null,(function(e){var r=(0,e.getPrefixCls)("card",t),a=__()("".concat(r,"-grid"),n,(0,xe.Z)({},"".concat(r,"-grid-hoverable"),o));return m.createElement("div",vt({},i,{className:a}))}))},YZ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},HZ=function(e){return m.createElement(wT,null,(function(t){var n=t.getPrefixCls,r=e.prefixCls,o=e.className,i=e.avatar,a=e.title,s=e.description,u=YZ(e,["prefixCls","className","avatar","title","description"]),c=n("card",r),l=__()("".concat(c,"-meta"),o),f=i?m.createElement("div",{className:"".concat(c,"-meta-avatar")},i):null,d=a?m.createElement("div",{className:"".concat(c,"-meta-title")},a):null,h=s?m.createElement("div",{className:"".concat(c,"-meta-description")},s):null,p=d||h?m.createElement("div",{className:"".concat(c,"-meta-detail")},d,h):null;return m.createElement("div",vt({},u,{className:l}),f,p)}))};function XZ(e){var t=(0,m.useRef)(),n=(0,m.useRef)(!1);return(0,m.useEffect)((function(){return function(){n.current=!0,fS.cancel(t.current)}}),[]),function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];n.current||(fS.cancel(t.current),t.current=fS((function(){e.apply(void 0,o)})))}}function KZ(e,t){var n,r=e.prefixCls,o=e.id,i=e.active,a=e.tab,s=a.key,u=a.tab,c=a.disabled,l=a.closeIcon,f=e.closable,d=e.renderWrapper,h=e.removeAriaLabel,p=e.editable,g=e.onClick,v=e.onRemove,y=e.onFocus,b=e.style,x="".concat(r,"-tab");m.useEffect((function(){return v}),[]);var w=p&&!1!==f&&!c;function E(e){c||g(e)}var _=m.createElement("div",{key:s,ref:t,className:__()(x,(n={},(0,xe.Z)(n,"".concat(x,"-with-remove"),w),(0,xe.Z)(n,"".concat(x,"-active"),i),(0,xe.Z)(n,"".concat(x,"-disabled"),c),n)),style:b,onClick:E},m.createElement("div",{role:"tab","aria-selected":i,id:o&&"".concat(o,"-tab-").concat(s),className:"".concat(x,"-btn"),"aria-controls":o&&"".concat(o,"-panel-").concat(s),"aria-disabled":c,tabIndex:c?null:0,onClick:function(e){e.stopPropagation(),E(e)},onKeyDown:function(e){[cA.SPACE,cA.ENTER].includes(e.which)&&(e.preventDefault(),E(e))},onFocus:y},u),w&&m.createElement("button",{type:"button","aria-label":h||"remove",tabIndex:0,className:"".concat(x,"-remove"),onClick:function(e){var t;e.stopPropagation(),(t=e).preventDefault(),t.stopPropagation(),p.onEdit("remove",{key:s,event:t})}},l||p.removeIcon||"\xd7"));return d?d(_):_}var qZ=m.forwardRef(KZ),$Z={width:0,height:0,left:0,top:0};var JZ={width:0,height:0,left:0,top:0,right:0};function QZ(e,t){var n=e.prefixCls,r=e.editable,o=e.locale,i=e.style;return r&&!1!==r.showAdd?m.createElement("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:i,"aria-label":(null===o||void 0===o?void 0:o.addAriaLabel)||"Add tab",onClick:function(e){r.onEdit("add",{event:e})}},r.addIcon||"+"):null}var eY=m.forwardRef(QZ);function tY(e,t){var n=e.prefixCls,r=e.id,o=e.tabs,i=e.locale,a=e.mobile,s=e.moreIcon,u=void 0===s?"More":s,c=e.moreTransitionName,l=e.style,f=e.className,d=e.editable,h=e.tabBarGutter,p=e.rtl,g=e.removeAriaLabel,v=e.onTabClick,y=(0,m.useState)(!1),b=(0,gt.Z)(y,2),x=b[0],w=b[1],E=(0,m.useState)(null),_=(0,gt.Z)(E,2),S=_[0],k=_[1],T="".concat(r,"-more-popup"),C="".concat(n,"-dropdown"),M=null!==S?"".concat(T,"-").concat(S):null,N=null===i||void 0===i?void 0:i.dropdownAriaLabel;var A=m.createElement(UV,{onClick:function(e){var t=e.key,n=e.domEvent;v(t,n),w(!1)},id:T,tabIndex:-1,role:"listbox","aria-activedescendant":M,selectedKeys:[S],"aria-label":void 0!==N?N:"expanded dropdown"},o.map((function(e){var t=d&&!1!==e.closable&&!e.disabled;return m.createElement(KG,{key:e.key,id:"".concat(T,"-").concat(e.key),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(e.key),disabled:e.disabled},m.createElement("span",null,e.tab),t&&m.createElement("button",{type:"button","aria-label":g||"remove",tabIndex:0,className:"".concat(C,"-menu-item-remove"),onClick:function(t){t.stopPropagation(),function(e,t){e.preventDefault(),e.stopPropagation(),d.onEdit("remove",{key:t,event:e})}(t,e.key)}},e.closeIcon||d.removeIcon||"\xd7"))})));function P(e){for(var t=o.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===S}))||0,r=t.length,i=0;i<r;i+=1){var a=t[n=(n+e+r)%r];if(!a.disabled)return void k(a.key)}}(0,m.useEffect)((function(){var e=document.getElementById(M);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[S]),(0,m.useEffect)((function(){x||k(null)}),[x]);var O=(0,xe.Z)({},p?"marginRight":"marginLeft",h);o.length||(O.visibility="hidden",O.order=1);var I=__()((0,xe.Z)({},"".concat(C,"-rtl"),p)),D=a?null:m.createElement(sG,{prefixCls:C,overlay:A,trigger:["hover"],visible:x,transitionName:c,onVisibleChange:w,overlayClassName:I,mouseEnterDelay:.1,mouseLeaveDelay:.1},m.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:O,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":T,id:"".concat(r,"-more"),"aria-expanded":x,onKeyDown:function(e){var t=e.which;if(x)switch(t){case cA.UP:P(-1),e.preventDefault();break;case cA.DOWN:P(1),e.preventDefault();break;case cA.ESC:w(!1);break;case cA.SPACE:case cA.ENTER:null!==S&&v(S,e)}else[cA.DOWN,cA.SPACE,cA.ENTER].includes(t)&&(w(!0),e.preventDefault())}},u));return m.createElement("div",{className:__()("".concat(n,"-nav-operations"),f),style:l,ref:t},D,m.createElement(eY,{prefixCls:n,locale:i,editable:d}))}var nY=m.memo(m.forwardRef(tY),(function(e,t){return t.tabMoving})),rY=(0,m.createContext)(null),oY=Math.pow(.995,20);function iY(e,t){var n=m.useRef(e),r=m.useState({}),o=(0,gt.Z)(r,2)[1];return[n.current,function(e){var r="function"===typeof e?e(n.current):e;r!==n.current&&t(r,n.current),n.current=r,o({})}]}var aY=function(e){var t,n=e.position,r=e.prefixCls,o=e.extra;if(!o)return null;var i={};return o&&"object"===(0,N_.Z)(o)&&!m.isValidElement(o)?i=o:i.right=o,"right"===n&&(t=i.right),"left"===n&&(t=i.left),t?m.createElement("div",{className:"".concat(r,"-extra-content")},t):null};function sY(e,t){var n,r=m.useContext(rY),o=r.prefixCls,i=r.tabs,a=e.className,s=e.style,u=e.id,c=e.animated,l=e.activeKey,f=e.rtl,d=e.extra,h=e.editable,p=e.locale,g=e.tabPosition,v=e.tabBarGutter,y=e.children,b=e.onTabClick,x=e.onTabScroll,w=(0,m.useRef)(),E=(0,m.useRef)(),_=(0,m.useRef)(),S=(0,m.useRef)(),k=function(){var e=(0,m.useRef)(new Map);return[function(t){return e.current.has(t)||e.current.set(t,m.createRef()),e.current.get(t)},function(t){e.current.delete(t)}]}(),T=(0,gt.Z)(k,2),C=T[0],M=T[1],N="top"===g||"bottom"===g,A=iY(0,(function(e,t){N&&x&&x({direction:e>t?"left":"right"})})),P=(0,gt.Z)(A,2),O=P[0],I=P[1],D=iY(0,(function(e,t){!N&&x&&x({direction:e>t?"top":"bottom"})})),R=(0,gt.Z)(D,2),L=R[0],j=R[1],F=(0,m.useState)(0),B=(0,gt.Z)(F,2),z=B[0],G=B[1],V=(0,m.useState)(0),U=(0,gt.Z)(V,2),W=U[0],Z=U[1],Y=(0,m.useState)(null),H=(0,gt.Z)(Y,2),X=H[0],K=H[1],q=(0,m.useState)(null),$=(0,gt.Z)(q,2),J=$[0],Q=$[1],ee=(0,m.useState)(0),te=(0,gt.Z)(ee,2),ne=te[0],re=te[1],oe=(0,m.useState)(0),ie=(0,gt.Z)(oe,2),ae=ie[0],se=ie[1],ue=function(e){var t=(0,m.useRef)([]),n=(0,m.useState)({}),r=(0,gt.Z)(n,2)[1],o=(0,m.useRef)("function"===typeof e?e():e),i=XZ((function(){var e=o.current;t.current.forEach((function(t){e=t(e)})),t.current=[],o.current=e,r({})}));return[o.current,function(e){t.current.push(e),i()}]}(new Map),ce=(0,gt.Z)(ue,2),le=ce[0],fe=ce[1],de=function(e,t,n){return(0,m.useMemo)((function(){for(var n,r=new Map,o=t.get(null===(n=e[0])||void 0===n?void 0:n.key)||$Z,i=o.left+o.width,a=0;a<e.length;a+=1){var s,u=e[a].key,c=t.get(u);c||(c=t.get(null===(s=e[a-1])||void 0===s?void 0:s.key)||$Z);var l=r.get(u)||Ee({},c);l.right=i-l.left-l.width,r.set(u,l)}return r}),[e.map((function(e){return e.key})).join("_"),t,n])}(i,le,z),he="".concat(o,"-nav-operations-hidden"),pe=0,ge=0;function ve(e){return e<pe?pe:e>ge?ge:e}N?f?(pe=0,ge=Math.max(0,z-X)):(pe=Math.min(0,X-z),ge=0):(pe=Math.min(0,J-W),ge=0);var me=(0,m.useRef)(),ye=(0,m.useState)(),be=(0,gt.Z)(ye,2),we=be[0],_e=be[1];function Se(){_e(Date.now())}function ke(){window.clearTimeout(me.current)}function Te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=de.get(e)||{width:0,height:0,left:0,right:0,top:0};if(N){var n=O;f?t.right<O?n=t.right:t.right+t.width>O+X&&(n=t.right+t.width-X):t.left<-O?n=-t.left:t.left+t.width>-O+X&&(n=-(t.left+t.width-X)),j(0),I(ve(n))}else{var r=L;t.top<-L?r=-t.top:t.top+t.height>-L+J&&(r=-(t.top+t.height-J)),I(0),j(ve(r))}}!function(e,t){var n=(0,m.useState)(),r=(0,gt.Z)(n,2),o=r[0],i=r[1],a=(0,m.useState)(0),s=(0,gt.Z)(a,2),u=s[0],c=s[1],l=(0,m.useState)(0),f=(0,gt.Z)(l,2),d=f[0],h=f[1],p=(0,m.useState)(),g=(0,gt.Z)(p,2),v=g[0],y=g[1],b=(0,m.useRef)(),x=(0,m.useRef)(),w=(0,m.useRef)(null);w.current={onTouchStart:function(e){var t=e.touches[0],n=t.screenX,r=t.screenY;i({x:n,y:r}),window.clearInterval(b.current)},onTouchMove:function(e){if(o){e.preventDefault();var n=e.touches[0],r=n.screenX,a=n.screenY;i({x:r,y:a});var s=r-o.x,l=a-o.y;t(s,l);var f=Date.now();c(f),h(f-u),y({x:s,y:l})}},onTouchEnd:function(){if(o&&(i(null),y(null),v)){var e=v.x/d,n=v.y/d,r=Math.abs(e),a=Math.abs(n);if(Math.max(r,a)<.1)return;var s=e,u=n;b.current=window.setInterval((function(){Math.abs(s)<.01&&Math.abs(u)<.01?window.clearInterval(b.current):t(20*(s*=oY),20*(u*=oY))}),20)}},onWheel:function(e){var n=e.deltaX,r=e.deltaY,o=0,i=Math.abs(n),a=Math.abs(r);i===a?o="x"===x.current?n:r:i>a?(o=n,x.current="x"):(o=r,x.current="y"),t(-o,-o)&&e.preventDefault()}},m.useEffect((function(){function t(e){w.current.onTouchMove(e)}function n(e){w.current.onTouchEnd(e)}return document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchend",n,{passive:!1}),e.current.addEventListener("touchstart",(function(e){w.current.onTouchStart(e)}),{passive:!1}),e.current.addEventListener("wheel",(function(e){w.current.onWheel(e)})),function(){document.removeEventListener("touchmove",t),document.removeEventListener("touchend",n)}}),[])}(w,(function(e,t){function n(e,t){e((function(e){return ve(e+t)}))}if(N){if(X>=z)return!1;n(I,e)}else{if(J>=W)return!1;n(j,t)}return ke(),Se(),!0})),(0,m.useEffect)((function(){return ke(),we&&(me.current=window.setTimeout((function(){_e(0)}),100)),ke}),[we]);var Ce=function(e,t,n,r,o){var i,a,s,u=o.tabs,c=o.tabPosition,l=o.rtl;["top","bottom"].includes(c)?(i="width",a=l?"right":"left",s=Math.abs(t.left)):(i="height",a="top",s=-t.top);var f=t[i],d=n[i],h=r[i],p=f;return d+h>f&&d<f&&(p=f-h),(0,m.useMemo)((function(){if(!u.length)return[0,0];for(var t=u.length,n=t,r=0;r<t;r+=1){var o=e.get(u[r].key)||JZ;if(o[a]+o[i]>s+p){n=r-1;break}}for(var c=0,l=t-1;l>=0;l-=1)if((e.get(u[l].key)||JZ)[a]<s){c=l+1;break}return[c,n]}),[e,s,p,c,u.map((function(e){return e.key})).join("_"),l])}(de,{width:X,height:J,left:O,top:L},{width:z,height:W},{width:ne,height:ae},Ee(Ee({},e),{},{tabs:i})),Me=(0,gt.Z)(Ce,2),Ne=Me[0],Ae=Me[1],Pe={};"top"===g||"bottom"===g?Pe[f?"marginRight":"marginLeft"]=v:Pe.marginTop=v;var Oe=i.map((function(e,t){var n=e.key;return m.createElement(qZ,{id:u,prefixCls:o,key:n,tab:e,style:0===t?void 0:Pe,closable:e.closable,editable:h,active:n===l,renderWrapper:y,removeAriaLabel:null===p||void 0===p?void 0:p.removeAriaLabel,ref:C(n),onClick:function(e){b(n,e)},onRemove:function(){M(n)},onFocus:function(){Te(n),Se(),w.current&&(f||(w.current.scrollLeft=0),w.current.scrollTop=0)}})})),Ie=XZ((function(){var e,t,n,r,o,a,s=(null===(e=w.current)||void 0===e?void 0:e.offsetWidth)||0,u=(null===(t=w.current)||void 0===t?void 0:t.offsetHeight)||0,c=(null===(n=S.current)||void 0===n?void 0:n.offsetWidth)||0,l=(null===(r=S.current)||void 0===r?void 0:r.offsetHeight)||0;K(s),Q(u),re(c),se(l);var f=((null===(o=E.current)||void 0===o?void 0:o.offsetWidth)||0)-c,d=((null===(a=E.current)||void 0===a?void 0:a.offsetHeight)||0)-l;G(f),Z(d),fe((function(){var e=new Map;return i.forEach((function(t){var n=t.key,r=C(n).current;r&&e.set(n,{width:r.offsetWidth,height:r.offsetHeight,left:r.offsetLeft,top:r.offsetTop})})),e}))})),De=i.slice(0,Ne),Re=i.slice(Ae+1),Le=[].concat((0,OS.Z)(De),(0,OS.Z)(Re)),je=(0,m.useState)(),Fe=(0,gt.Z)(je,2),Be=Fe[0],ze=Fe[1],Ge=de.get(l),Ve=(0,m.useRef)();function Ue(){fS.cancel(Ve.current)}(0,m.useEffect)((function(){var e={};return Ge&&(N?(f?e.right=Ge.right:e.left=Ge.left,e.width=Ge.width):(e.top=Ge.top,e.height=Ge.height)),Ue(),Ve.current=fS((function(){ze(e)})),Ue}),[Ge,N,f]),(0,m.useEffect)((function(){Te()}),[l,Ge,de,N]),(0,m.useEffect)((function(){Ie()}),[f,v,l,i.map((function(e){return e.key})).join("_")]);var We,Ze,Ye,He,Xe=!!Le.length,Ke="".concat(o,"-nav-wrap");return N?f?(Ze=O>0,We=O+X<z):(We=O<0,Ze=-O+X<z):(Ye=L<0,He=-L+J<W),m.createElement("div",{ref:t,role:"tablist",className:__()("".concat(o,"-nav"),a),style:s,onKeyDown:function(){Se()}},m.createElement(aY,{position:"left",extra:d,prefixCls:o}),m.createElement(OD,{onResize:Ie},m.createElement("div",{className:__()(Ke,(n={},(0,xe.Z)(n,"".concat(Ke,"-ping-left"),We),(0,xe.Z)(n,"".concat(Ke,"-ping-right"),Ze),(0,xe.Z)(n,"".concat(Ke,"-ping-top"),Ye),(0,xe.Z)(n,"".concat(Ke,"-ping-bottom"),He),n)),ref:w},m.createElement(OD,{onResize:Ie},m.createElement("div",{ref:E,className:"".concat(o,"-nav-list"),style:{transform:"translate(".concat(O,"px, ").concat(L,"px)"),transition:we?"none":void 0}},Oe,m.createElement(eY,{ref:S,prefixCls:o,locale:p,editable:h,style:Ee(Ee({},0===Oe.length?void 0:Pe),{},{visibility:Xe?"hidden":null})}),m.createElement("div",{className:__()("".concat(o,"-ink-bar"),(0,xe.Z)({},"".concat(o,"-ink-bar-animated"),c.inkBar)),style:Be}))))),m.createElement(nY,vt({},e,{removeAriaLabel:null===p||void 0===p?void 0:p.removeAriaLabel,ref:_,prefixCls:o,tabs:Le,className:!Xe&&he,tabMoving:!!we})),m.createElement(aY,{position:"right",extra:d,prefixCls:o}))}var uY=m.forwardRef(sY);function cY(e){var t=e.id,n=e.activeKey,r=e.animated,o=e.tabPosition,i=e.rtl,a=e.destroyInactiveTabPane,s=m.useContext(rY),u=s.prefixCls,c=s.tabs,l=r.tabPane,f=c.findIndex((function(e){return e.key===n}));return m.createElement("div",{className:__()("".concat(u,"-content-holder"))},m.createElement("div",{className:__()("".concat(u,"-content"),"".concat(u,"-content-").concat(o),(0,xe.Z)({},"".concat(u,"-content-animated"),l)),style:f&&l?(0,xe.Z)({},i?"marginRight":"marginLeft","-".concat(f,"00%")):null},c.map((function(e){return m.cloneElement(e.node,{key:e.key,prefixCls:u,tabKey:e.key,id:t,animated:l,active:e.key===n,destroyInactiveTabPane:a})}))))}function lY(e){var t=e.prefixCls,n=e.forceRender,r=e.className,o=e.style,i=e.id,a=e.active,s=e.animated,u=e.destroyInactiveTabPane,c=e.tabKey,l=e.children,f=m.useState(n),d=(0,gt.Z)(f,2),h=d[0],p=d[1];m.useEffect((function(){a?p(!0):u&&p(!1)}),[a,u]);var g={};return a||(s?(g.visibility="hidden",g.height=0,g.overflowY="hidden"):g.display="none"),m.createElement("div",{id:i&&"".concat(i,"-panel-").concat(c),role:"tabpanel",tabIndex:a?0:-1,"aria-labelledby":i&&"".concat(i,"-tab-").concat(c),"aria-hidden":!a,style:Ee(Ee({},g),o),className:__()("".concat(t,"-tabpane"),a&&"".concat(t,"-tabpane-active"),r)},(a||h||n)&&l)}var fY=["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll"],dY=0;function hY(e,t){var n,r,o=e.id,i=e.prefixCls,a=void 0===i?"rc-tabs":i,s=e.className,u=e.children,c=e.direction,l=e.activeKey,f=e.defaultActiveKey,d=e.editable,h=e.animated,p=void 0===h?{inkBar:!0,tabPane:!1}:h,g=e.tabPosition,v=void 0===g?"top":g,y=e.tabBarGutter,b=e.tabBarStyle,x=e.tabBarExtraContent,w=e.locale,E=e.moreIcon,_=e.moreTransitionName,S=e.destroyInactiveTabPane,k=e.renderTabBar,T=e.onChange,C=e.onTabClick,M=e.onTabScroll,N=S_(e,fY),A=function(e){return _T(e).map((function(e){return m.isValidElement(e)?Ee(Ee({key:void 0!==e.key?String(e.key):void 0},e.props),{},{node:e}):null})).filter((function(e){return e}))}(u),P="rtl"===c;r=!1===p?{inkBar:!1,tabPane:!1}:!0===p?{inkBar:!0,tabPane:!0}:Ee({inkBar:!0,tabPane:!1},"object"===(0,N_.Z)(p)?p:{});var O=(0,m.useState)(!1),I=(0,gt.Z)(O,2),D=I[0],R=I[1];(0,m.useEffect)((function(){R(NP())}),[]);var L=sA((function(){var e;return null===(e=A[0])||void 0===e?void 0:e.key}),{value:l,defaultValue:f}),j=(0,gt.Z)(L,2),F=j[0],B=j[1],z=(0,m.useState)((function(){return A.findIndex((function(e){return e.key===F}))})),G=(0,gt.Z)(z,2),V=G[0],U=G[1];(0,m.useEffect)((function(){var e,t=A.findIndex((function(e){return e.key===F}));-1===t&&(t=Math.max(0,Math.min(V,A.length-1)),B(null===(e=A[t])||void 0===e?void 0:e.key));U(t)}),[A.map((function(e){return e.key})).join("_"),F,V]);var W=sA(null,{value:o}),Z=(0,gt.Z)(W,2),Y=Z[0],H=Z[1],X=v;D&&!["left","right"].includes(v)&&(X="top"),(0,m.useEffect)((function(){o||(H("rc-tabs-".concat(dY)),dY+=1)}),[]);var K,q={id:Y,activeKey:F,animated:r,tabPosition:X,rtl:P,mobile:D},$=Ee(Ee({},q),{},{editable:d,locale:w,moreIcon:E,moreTransitionName:_,tabBarGutter:y,onTabClick:function(e,t){null===C||void 0===C||C(e,t);var n=e!==F;B(e),n&&(null===T||void 0===T||T(e))},onTabScroll:M,extra:x,style:b,panes:u});return K=k?k($,uY):m.createElement(uY,$),m.createElement(rY.Provider,{value:{tabs:A,prefixCls:a}},m.createElement("div",vt({ref:t,id:o,className:__()(a,"".concat(a,"-").concat(X),(n={},(0,xe.Z)(n,"".concat(a,"-mobile"),D),(0,xe.Z)(n,"".concat(a,"-editable"),d),(0,xe.Z)(n,"".concat(a,"-rtl"),P),n),s)},N),K,m.createElement(cY,vt({destroyInactiveTabPane:S},q,{animated:r}))))}var pY=m.forwardRef(hY);pY.TabPane=lY;var gY=pY,vY={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},mY=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:vY}))};mY.displayName="PlusOutlined";var yY=m.forwardRef(mY),bY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function xY(e){var t,n=e.type,r=e.className,o=e.size,i=e.onEdit,a=e.hideAdd,s=e.centered,u=e.addIcon,c=bY(e,["type","className","size","onEdit","hideAdd","centered","addIcon"]),l=c.prefixCls,f=c.moreIcon,d=void 0===f?m.createElement(lG,null):f,h=m.useContext(xT),p=h.getPrefixCls,g=h.direction,v=p("tabs",l);"editable-card"===n&&(t={onEdit:function(e,t){var n=t.key,r=t.event;null===i||void 0===i||i("add"===e?r:n,e)},removeIcon:m.createElement(cM,null),addIcon:u||m.createElement(yY,null),showAdd:!0!==a});var y=p();return QC(!("onPrevClick"in c)&&!("onNextClick"in c),"Tabs","`onPrevClick` and `onNextClick` has been removed. Please use `onTabScroll` instead."),m.createElement(aM.Consumer,null,(function(e){var i,a=void 0!==o?o:e;return m.createElement(gY,vt({direction:g,moreTransitionName:"".concat(y,"-slide-up")},c,{className:__()((i={},(0,xe.Z)(i,"".concat(v,"-").concat(a),a),(0,xe.Z)(i,"".concat(v,"-card"),["card","editable-card"].includes(n)),(0,xe.Z)(i,"".concat(v,"-editable-card"),"editable-card"===n),(0,xe.Z)(i,"".concat(v,"-centered"),s),i),r),editable:t,moreIcon:d,prefixCls:v}))}))}xY.TabPane=lY;var wY=xY,EY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var _Y=m.forwardRef((function(e,t){var n,r,o,i=m.useContext(xT),a=i.getPrefixCls,s=i.direction,u=m.useContext(aM),c=e.prefixCls,l=e.className,f=e.extra,d=e.headStyle,h=void 0===d?{}:d,p=e.bodyStyle,g=void 0===p?{}:p,v=e.title,y=e.loading,b=e.bordered,x=void 0===b||b,w=e.size,E=e.type,_=e.cover,S=e.actions,k=e.tabList,T=e.children,C=e.activeTabKey,M=e.defaultActiveTabKey,N=e.tabBarExtraContent,A=e.hoverable,P=e.tabProps,O=void 0===P?{}:P,I=EY(e,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),D=a("card",c),R=0===g.padding||"0px"===g.padding?{padding:24}:void 0,L=m.createElement("div",{className:"".concat(D,"-loading-block")}),j=m.createElement("div",{className:"".concat(D,"-loading-content"),style:R},m.createElement($j,{gutter:8},m.createElement(fR,{span:22},L)),m.createElement($j,{gutter:8},m.createElement(fR,{span:8},L),m.createElement(fR,{span:15},L)),m.createElement($j,{gutter:8},m.createElement(fR,{span:6},L),m.createElement(fR,{span:18},L)),m.createElement($j,{gutter:8},m.createElement(fR,{span:13},L),m.createElement(fR,{span:9},L)),m.createElement($j,{gutter:8},m.createElement(fR,{span:4},L),m.createElement(fR,{span:3},L),m.createElement(fR,{span:16},L))),F=void 0!==C,B=vt(vt({},O),(n={},(0,xe.Z)(n,F?"activeKey":"defaultActiveKey",F?C:M),(0,xe.Z)(n,"tabBarExtraContent",N),n)),z=k&&k.length?m.createElement(wY,vt({size:"large"},B,{className:"".concat(D,"-head-tabs"),onChange:function(t){var n;null===(n=e.onTabChange)||void 0===n||n.call(e,t)}}),k.map((function(e){return m.createElement(wY.TabPane,{tab:e.tab,disabled:e.disabled,key:e.key})}))):null;(v||f||z)&&(o=m.createElement("div",{className:"".concat(D,"-head"),style:h},m.createElement("div",{className:"".concat(D,"-head-wrapper")},v&&m.createElement("div",{className:"".concat(D,"-head-title")},v),f&&m.createElement("div",{className:"".concat(D,"-extra")},f)),z));var G=_?m.createElement("div",{className:"".concat(D,"-cover")},_):null,V=m.createElement("div",{className:"".concat(D,"-body"),style:g},y?j:T),U=S&&S.length?m.createElement("ul",{className:"".concat(D,"-actions")},function(e){var t=e.map((function(t,n){return m.createElement("li",{style:{width:"".concat(100/e.length,"%")},key:"action-".concat(n)},m.createElement("span",null,t))}));return t}(S)):null,W=xN(I,["onTabChange"]),Z=w||u,Y=__()(D,(r={},(0,xe.Z)(r,"".concat(D,"-loading"),y),(0,xe.Z)(r,"".concat(D,"-bordered"),x),(0,xe.Z)(r,"".concat(D,"-hoverable"),A),(0,xe.Z)(r,"".concat(D,"-contain-grid"),function(){var t;return m.Children.forEach(e.children,(function(e){e&&e.type&&e.type===ZZ&&(t=!0)})),t}()),(0,xe.Z)(r,"".concat(D,"-contain-tabs"),k&&k.length),(0,xe.Z)(r,"".concat(D,"-").concat(Z),Z),(0,xe.Z)(r,"".concat(D,"-type-").concat(E),!!E),(0,xe.Z)(r,"".concat(D,"-rtl"),"rtl"===s),r),l);return m.createElement("div",vt({ref:t},W,{className:Y}),o,G,V,U)}));_Y.Grid=ZZ,_Y.Meta=HZ;var SY=_Y;var kY=function(){return(0,hN.jsxs)("div",{className:"about",children:[(0,hN.jsx)("div",{className:"container",children:(0,hN.jsxs)("div",{className:"row align-items-center my-5",children:[(0,hN.jsx)("div",{className:"col-lg-7"}),(0,hN.jsx)("h1",{children:" Purpose "}),(0,hN.jsx)("p",{children:"The researchers of the Data Management and Biometrics department at the University of Twente in collaboration with University of Duisburg-Essen conducted a large-scale literature review on Explainable Artificial intelligence. This website provides an interactive way to explore the dataset and results."}),(0,hN.jsx)("p",{}),(0,hN.jsxs)("div",{className:"col-lg-5",children:[(0,hN.jsx)("h1",{className:"font-weight-light",children:"Abstract"}),(0,hN.jsx)("p",{children:"The rising popularity of explainable artificial intelligence (XAI) to understand high-performing black boxes, also raised the question of how to evaluate explanations of machine learning (ML) models. While interpretability and explainability are often presented as a subjectively validated binary property, we consider it a multi-faceted concept. We identify 12 conceptual properties, such as Compactness and Correctness, that should be evaluated for comprehensively assessing the quality of an explanation. Our so-called Co-12 properties serve as categorization scheme for systematically reviewing the evaluation practice of more than 300 papers published in the last 7 years at major AI and ML conferences that introduce an XAI method. We find that 1 in 3 papers evaluate exclusively with anecdotal evidence, and 1 in 5 papers evaluate with users. We also contribute to the call for objective, quantifiable evaluation methods by presenting an extensive overview of quantitative XAI evaluation methods. This systematic collection of evaluation methods provides researchers and practitioners with concrete tools to thoroughly validate, benchmark and compare new and existing XAI methods. This also opens up opportunities to include quantitative metrics as optimization criteria during model training in order to optimize for accuracy and interpretability simultaneously."})]})]})}),(0,hN.jsx)("div",{className:"site-card-wrapper",children:(0,hN.jsxs)($j,{gutter:16,children:[(0,hN.jsx)(fR,{span:8,children:(0,hN.jsx)(SY,{title:"Card title",bordered:!0,children:"Card content"})}),(0,hN.jsx)(fR,{span:8,children:(0,hN.jsx)(SY,{title:"Card title",bordered:!0,children:"Get in Touch"})}),(0,hN.jsx)(fR,{span:8,children:(0,hN.jsx)(SY,{title:"Card title",bordered:!0,children:"Card content"})})]})})]})};var TY=function(){return(0,hN.jsx)(hN.Fragment,{children:"Add Paper"})},CY=fU;CY.Header=uU,CY.Footer=cU,CY.Content=lU,CY.Sider=yU;var MY=CY,NY={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},AY=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:NY}))};AY.displayName="ArrowLeftOutlined";var PY=m.forwardRef(AY),OY={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"},IY=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:OY}))};IY.displayName="ArrowRightOutlined";var DY=m.forwardRef(IY),RY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},LY=function(e){var t,n,r=e.prefixCls,o=e.separator,i=void 0===o?"/":o,a=e.children,s=e.overlay,u=e.dropdownProps,c=RY(e,["prefixCls","separator","children","overlay","dropdownProps"]),l=(0,m.useContext(xT).getPrefixCls)("breadcrumb",r);return t="href"in c?m.createElement("a",vt({className:"".concat(l,"-link")},c),a):m.createElement("span",vt({className:"".concat(l,"-link")},c),a),n=t,t=s?m.createElement(SG,vt({overlay:s,placement:"bottom"},u),m.createElement("span",{className:"".concat(l,"-overlay-link")},n,m.createElement(_j,null))):n,a?m.createElement("span",null,t,i&&m.createElement("span",{className:"".concat(l,"-separator")},i)):null};LY.__ANT_BREADCRUMB_ITEM=!0;var jY=LY,FY=function(e){var t=e.children,n=(0,m.useContext(xT).getPrefixCls)("breadcrumb");return m.createElement("span",{className:"".concat(n,"-separator")},t||"/")};FY.__ANT_BREADCRUMB_SEPARATOR=!0;var BY=FY,zY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function GY(e,t,n,r){var o=n.indexOf(e)===n.length-1,i=function(e,t){if(!e.breadcrumbName)return null;var n=Object.keys(t).join("|"),r=e.breadcrumbName.replace(new RegExp(":(".concat(n,")"),"g"),(function(e,n){return t[n]||e}));return r}(e,t);return o?m.createElement("span",null,i):m.createElement("a",{href:"#/".concat(r.join("/"))},i)}var VY=function(e,t){return e=(e||"").replace(/^\//,""),Object.keys(t).forEach((function(n){e=e.replace(":".concat(n),t[n])})),e},UY=function(e){var t,n=e.prefixCls,r=e.separator,o=void 0===r?"/":r,i=e.style,a=e.className,s=e.routes,u=e.children,c=e.itemRender,l=void 0===c?GY:c,f=e.params,d=void 0===f?{}:f,h=zY(e,["prefixCls","separator","style","className","routes","children","itemRender","params"]),p=m.useContext(xT),g=p.getPrefixCls,v=p.direction,y=g("breadcrumb",n);if(s&&s.length>0){var b=[];t=s.map((function(e){var t,n=VY(e.path,d);return n&&b.push(n),e.children&&e.children.length&&(t=m.createElement(TU,null,e.children.map((function(e){return m.createElement(TU.Item,{key:e.path||e.breadcrumbName},l(e,d,s,function(e,t,n){var r=(0,OS.Z)(e),o=VY(t||"",n);return o&&r.push(o),r}(b,e.path,d)))})))),m.createElement(jY,{overlay:t,separator:o,key:n||e.breadcrumbName},l(e,d,s,b))}))}else u&&(t=_T(u).map((function(e,t){return e?(QC(e.type&&(!0===e.type.__ANT_BREADCRUMB_ITEM||!0===e.type.__ANT_BREADCRUMB_SEPARATOR),"Breadcrumb","Only accepts Breadcrumb.Item and Breadcrumb.Separator as it's children"),NN(e,{separator:o,key:t})):e})));var x=__()(y,(0,xe.Z)({},"".concat(y,"-rtl"),"rtl"===v),a);return m.createElement("div",vt({className:x,style:i},h),t)};UY.Item=jY,UY.Separator=BY;var WY=UY,ZY=m.createContext("default"),YY=function(e){var t=e.children,n=e.size;return m.createElement(ZY.Consumer,null,(function(e){return m.createElement(ZY.Provider,{value:n||e},t)}))},HY=ZY,XY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},KY=function(e,t){var n,r,o=m.useContext(HY),i=m.useState(1),a=(0,gt.Z)(i,2),s=a[0],u=a[1],c=m.useState(!1),l=(0,gt.Z)(c,2),f=l[0],d=l[1],h=m.useState(!0),p=(0,gt.Z)(h,2),g=p[0],v=p[1],y=m.useRef(),b=m.useRef(),x=D_(t,y),w=m.useContext(xT).getPrefixCls,E=function(){if(b.current&&y.current){var t=b.current.offsetWidth,n=y.current.offsetWidth;if(0!==t&&0!==n){var r=e.gap,o=void 0===r?4:r;2*o<n&&u(n-2*o<t?(n-2*o)/t:1)}}};m.useEffect((function(){d(!0)}),[]),m.useEffect((function(){v(!0),u(1)}),[e.src]),m.useEffect((function(){E()}),[e.gap]);var _=e.prefixCls,S=e.shape,k=e.size,T=e.src,C=e.srcSet,M=e.icon,N=e.className,A=e.alt,P=e.draggable,O=e.children,I=e.crossOrigin,D=XY(e,["prefixCls","shape","size","src","srcSet","icon","className","alt","draggable","children","crossOrigin"]),R="default"===k?o:k,L=Object.keys("object"===(0,N_.Z)(R)&&R||{}).some((function(e){return["xs","sm","md","lg","xl","xxl"].includes(e)})),j=rz(L),F=m.useMemo((function(){if("object"!==(0,N_.Z)(R))return{};var e=zj.find((function(e){return j[e]})),t=R[e];return t?{width:t,height:t,lineHeight:"".concat(t,"px"),fontSize:M?t/2:18}:{}}),[j,R]);QC(!("string"===typeof M&&M.length>2),"Avatar","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(M,"` at https://ant.design/components/icon"));var B,z=w("avatar",_),G=__()((n={},(0,xe.Z)(n,"".concat(z,"-lg"),"large"===R),(0,xe.Z)(n,"".concat(z,"-sm"),"small"===R),n)),V=m.isValidElement(T),U=__()(z,G,(r={},(0,xe.Z)(r,"".concat(z,"-").concat(S),!!S),(0,xe.Z)(r,"".concat(z,"-image"),V||T&&g),(0,xe.Z)(r,"".concat(z,"-icon"),!!M),r),N),W="number"===typeof R?{width:R,height:R,lineHeight:"".concat(R,"px"),fontSize:M?R/2:18}:{};if("string"===typeof T&&g)B=m.createElement("img",{src:T,draggable:P,srcSet:C,onError:function(){var t=e.onError;!1!==(t?t():void 0)&&v(!1)},alt:A,crossOrigin:I});else if(V)B=T;else if(M)B=M;else if(f||1!==s){var Z="scale(".concat(s,") translateX(-50%)"),Y={msTransform:Z,WebkitTransform:Z,transform:Z},H="number"===typeof R?{lineHeight:"".concat(R,"px")}:{};B=m.createElement(OD,{onResize:E},m.createElement("span",{className:"".concat(z,"-string"),ref:function(e){b.current=e},style:vt(vt({},H),Y)},O))}else B=m.createElement("span",{className:"".concat(z,"-string"),style:{opacity:0},ref:function(e){b.current=e}},O);return delete D.onError,delete D.gap,m.createElement("span",vt({},D,{style:vt(vt(vt({},W),F),D.style),className:U,ref:x}),B)},qY=m.forwardRef(KY);qY.displayName="Avatar",qY.defaultProps={shape:"circle",size:"default"};var $Y=qY,JY=function(e){return e?"function"===typeof e?e():e:null},QY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},eH=m.forwardRef((function(e,t){var n=e.prefixCls,r=e.title,o=e.content,i=QY(e,["prefixCls","title","content"]),a=m.useContext(xT).getPrefixCls,s=a("popover",n),u=a();return m.createElement(QV,vt({},i,{prefixCls:s,ref:t,overlay:function(e){if(r||o)return m.createElement(m.Fragment,null,r&&m.createElement("div",{className:"".concat(e,"-title")},JY(r)),m.createElement("div",{className:"".concat(e,"-inner-content")},JY(o)))}(s),transitionName:Oj(u,"zoom-big",i.transitionName)}))}));eH.displayName="Popover",eH.defaultProps={placement:"top",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}};var tH=eH,nH=function(e){var t=m.useContext(xT),n=t.getPrefixCls,r=t.direction,o=e.prefixCls,i=e.className,a=void 0===i?"":i,s=e.maxCount,u=e.maxStyle,c=e.size,l=n("avatar-group",o),f=__()(l,(0,xe.Z)({},"".concat(l,"-rtl"),"rtl"===r),a),d=e.children,h=e.maxPopoverPlacement,p=void 0===h?"top":h,g=e.maxPopoverTrigger,v=void 0===g?"hover":g,y=_T(d).map((function(e,t){return NN(e,{key:"avatar-key-".concat(t)})})),b=y.length;if(s&&s<b){var x=y.slice(0,s),w=y.slice(s,b);return x.push(m.createElement(tH,{key:"avatar-popover-key",content:w,trigger:v,placement:p,overlayClassName:"".concat(l,"-popover")},m.createElement($Y,{style:u},"+".concat(b-s)))),m.createElement(YY,{size:c},m.createElement("div",{className:f,style:e.style},x))}return m.createElement(YY,{size:c},m.createElement("div",{className:f,style:e.style},y))},rH=$Y;rH.Group=nH;var oH=rH;function iH(e){var t=e.className,n=e.direction,r=e.index,o=e.marginDirection,i=e.children,a=e.split,s=e.wrap,u=m.useContext(sH),c=u.horizontalSize,l=u.verticalSize,f=u.latestIndex,d={};return u.supportFlexGap||("vertical"===n?r<f&&(d={marginBottom:c/(a?2:1)}):d=vt(vt({},r<f&&(0,xe.Z)({},o,c/(a?2:1))),s&&{paddingBottom:l})),null===i||void 0===i?null:m.createElement(m.Fragment,null,m.createElement("div",{className:t,style:d},i),r<f&&a&&m.createElement("span",{className:"".concat(t,"-split"),style:d},a))}var aH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},sH=m.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),uH={small:8,middle:16,large:24};var cH=function(e){var t,n=m.useContext(xT),r=n.getPrefixCls,o=n.space,i=n.direction,a=e.size,s=void 0===a?(null===o||void 0===o?void 0:o.size)||"small":a,u=e.align,c=e.className,l=e.children,f=e.direction,d=void 0===f?"horizontal":f,h=e.prefixCls,p=e.split,g=e.style,v=e.wrap,y=void 0!==v&&v,b=aH(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),x=Xj(),w=m.useMemo((function(){return(Array.isArray(s)?s:[s,s]).map((function(e){return function(e){return"string"===typeof e?uH[e]:e||0}(e)}))}),[s]),E=(0,gt.Z)(w,2),_=E[0],S=E[1],k=_T(l,{keepEmpty:!0}),T=void 0===u&&"horizontal"===d?"center":u,C=r("space",h),M=__()(C,"".concat(C,"-").concat(d),(t={},(0,xe.Z)(t,"".concat(C,"-rtl"),"rtl"===i),(0,xe.Z)(t,"".concat(C,"-align-").concat(T),T),t),c),N="".concat(C,"-item"),A="rtl"===i?"marginLeft":"marginRight",P=0,O=k.map((function(e,t){null!==e&&void 0!==e&&(P=t);var n=e&&e.key;return m.createElement(iH,{className:N,key:"".concat(N,"-").concat(n||t),direction:d,index:t,marginDirection:A,split:p,wrap:y},e)})),I=m.useMemo((function(){return{horizontalSize:_,verticalSize:S,latestIndex:P,supportFlexGap:x}}),[_,S,P,x]);if(0===k.length)return null;var D={};return y&&(D.flexWrap="wrap",x||(D.marginBottom=-S)),x&&(D.columnGap=_,D.rowGap=S),m.createElement("div",vt({className:M,style:vt(vt({},D),g)},b),m.createElement(sH.Provider,{value:I},O))},lH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},fH={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},dH=m.forwardRef((function(e,t){var n=e.style,r=e.noStyle,o=e.disabled,i=lH(e,["style","noStyle","disabled"]),a={};return r||(a=vt({},fH)),o&&(a.pointerEvents="none"),a=vt(vt({},a),n),m.createElement("div",vt({role:"button",tabIndex:0,ref:t},i,{onKeyDown:function(e){e.keyCode===cA.ENTER&&e.preventDefault()},onKeyUp:function(t){var n=t.keyCode,r=e.onClick;n===cA.ENTER&&r&&r()},style:a}))})),hH=dH,pH=function(e,t,n){return t&&n?m.createElement(fT,{componentName:"PageHeader"},(function(r){var o=r.back;return m.createElement("div",{className:"".concat(e,"-back")},m.createElement(hH,{onClick:function(e){null===n||void 0===n||n(e)},className:"".concat(e,"-back-button"),"aria-label":o},t))})):null},gH=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ltr";return void 0!==e.backIcon?e.backIcon:"rtl"===t?m.createElement(DY,null):m.createElement(PY,null)},vH=function(e){var t=oS(!1),n=(0,gt.Z)(t,2),r=n[0],o=n[1],i=function(e){var t=e.width;o(t<768,!0)};return m.createElement(wT,null,(function(t){var n,o,a=t.getPrefixCls,s=t.pageHeader,u=t.direction,c=e.prefixCls,l=e.style,f=e.footer,d=e.children,h=e.breadcrumb,p=e.breadcrumbRender,g=e.className,v=!0;"ghost"in e?v=e.ghost:s&&"ghost"in s&&(v=s.ghost);var y=a("page-header",c),b=(null===h||void 0===h?void 0:h.routes)?function(e){return m.createElement(WY,e)}(h):null,x=h&&"props"in h,w=null!==(o=null===p||void 0===p?void 0:p(e,b))&&void 0!==o?o:b,E=x?h:w,_=__()(y,g,(n={"has-breadcrumb":!!E,"has-footer":!!f},(0,xe.Z)(n,"".concat(y,"-ghost"),v),(0,xe.Z)(n,"".concat(y,"-rtl"),"rtl"===u),(0,xe.Z)(n,"".concat(y,"-compact"),r),n));return m.createElement(OD,{onResize:i},m.createElement("div",{className:_,style:l},E,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ltr",r=t.title,o=t.avatar,i=t.subTitle,a=t.tags,s=t.extra,u=t.onBack,c="".concat(e,"-heading"),l=r||i||a||s;if(!l)return null;var f=gH(t,n),d=pH(e,f,u),h=d||o||l;return m.createElement("div",{className:c},h&&m.createElement("div",{className:"".concat(c,"-left")},d,o&&m.createElement(oH,o),r&&m.createElement("span",{className:"".concat(c,"-title"),title:"string"===typeof r?r:void 0},r),i&&m.createElement("span",{className:"".concat(c,"-sub-title"),title:"string"===typeof i?i:void 0},i),a&&m.createElement("span",{className:"".concat(c,"-tags")},a)),s&&m.createElement("span",{className:"".concat(c,"-extra")},m.createElement(cH,null,s)))}(y,e,u),d&&function(e,t){return m.createElement("div",{className:"".concat(e,"-content")},t)}(y,d),function(e,t){return t?m.createElement("div",{className:"".concat(e,"-footer")},t):null}(y,f)))}))},mH={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"}}]},name:"menu-unfold",theme:"outlined"},yH=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:mH}))};yH.displayName="MenuUnfoldOutlined";var bH=m.forwardRef(yH),xH={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z"}}]},name:"menu-fold",theme:"outlined"},wH=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:xH}))};wH.displayName="MenuFoldOutlined";var EH=m.forwardRef(wH),_H={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"},SH=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:_H}))};SH.displayName="DotChartOutlined";var kH=m.forwardRef(SH),TH={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},CH=function(e,t){return m.createElement(Uk,Ee(Ee({},e),{},{ref:t,icon:TH}))};CH.displayName="PlusCircleOutlined";var MH=m.forwardRef(CH),NH=MY.Content,AH=MY.Sider,PH="/DMBLiteratureWebsite/";var OH=function(){var e=Dt(),t=(0,m.useState)(!0),n=(0,gt.Z)(t,2),r=n[0],o=n[1];return(0,hN.jsxs)(MY,{children:[(0,hN.jsx)(AH,{collapsible:!0,collapsed:r,onCollapse:function(e){o(e)},style:{overflow:"auto",height:"100vh",position:"sticky",top:0,left:0},trigger:r?(0,hN.jsx)(bH,{}):(0,hN.jsx)(EH,{}),children:(0,hN.jsxs)(TU,{mode:"inline",onClick:function(t){switch(t.key){case"papers":default:e("".concat(PH));break;case"add-paper":e("".concat(PH,"add-paper"));break;case"about":e("".concat(PH,"about"))}},children:[(0,hN.jsx)(TU.Item,{icon:(0,hN.jsx)(kH,{}),children:"Papers"},"papers"),(0,hN.jsx)(TU.Item,{icon:(0,hN.jsx)(MH,{}),children:"Add Paper"},"add-paper"),(0,hN.jsx)(TU.Item,{icon:(0,hN.jsx)(wM,{}),children:"About"},"about")]})}),(0,hN.jsxs)(MY,{children:[(0,hN.jsx)(vH,{style:{position:"sticky",top:0,width:"100%",zIndex:1},children:(0,hN.jsx)("div",{children:(0,hN.jsxs)("p",{children:["Dataset collected by Nauta et al. as described in",(0,hN.jsx)("br",{}),(0,hN.jsx)("a",{href:"https://arxiv.org/abs/2201.08164",target:"_blank",rel:"noreferrer",children:'"From Anecdotal Evidence to Quantitative Evaluation Methods: A Systematic Review on Evaluating Explainable AI"'}),(0,hN.jsx)("small",{children:"\u2002(preprint, 2022)"}),(0,hN.jsx)("br",{}),(0,hN.jsx)("small",{children:"This dataset contains papers on explainable AI published in 2014-202 at conferences AAAI, IJCAI, NeurIPS, ICML, ICLR, CVPR, ICCV, ACL, WWW, ICDM, KDD and SIGIR"})]})})}),(0,hN.jsx)(NH,{style:{padding:"0 50px",marginTop:20},children:(0,hN.jsxs)(Pt,{children:[(0,hN.jsx)(Nt,{path:"".concat(PH),element:(0,hN.jsx)(UZ,{})}),(0,hN.jsx)(Nt,{path:"".concat(PH,"add-paper"),element:(0,hN.jsx)(TY,{})}),(0,hN.jsx)(Nt,{path:"".concat(PH,"about"),element:(0,hN.jsx)(kY,{})})]})})]})]})},IH=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),i(e),a(e)}))};y.render((0,hN.jsx)(m.StrictMode,{children:(0,hN.jsx)(qt.AliveScope,{children:(0,hN.jsx)(on,{store:pt,children:(0,hN.jsx)(Kt,{children:(0,hN.jsx)(OH,{})})})})}),document.getElementById("root")),IH()}()}();
//# sourceMappingURL=main.96c59a5f.js.map