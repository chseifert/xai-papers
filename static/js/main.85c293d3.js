/*! For license information please see main.85c293d3.js.LICENSE.txt */
!function(){var e={7757:function(e,t,n){e.exports=n(9727)},3469:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){var n=e.nodes,r=e.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(e,t){o[e.id]=t;i.push([])})),r&&r.forEach((function(e){var n=e.source,r=e.target,a=o[n],s=o[r];!a&&0!==a||!s&&0!==s||(i[a][s]=1,t||(i[s][a]=1))})),i};t.default=n},9252:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GADDIAsync",{enumerable:!0,get:function(){return r.GADDIAsync}}),Object.defineProperty(t,"connectedComponentAsync",{enumerable:!0,get:function(){return r.connectedComponentAsync}}),t.default=void 0,Object.defineProperty(t,"detectAllCyclesAsync",{enumerable:!0,get:function(){return r.detectAllCyclesAsync}}),Object.defineProperty(t,"detectAllDirectedCycleAsync",{enumerable:!0,get:function(){return r.detectAllDirectedCycleAsync}}),Object.defineProperty(t,"detectAllUndirectedCycleAsync",{enumerable:!0,get:function(){return r.detectAllUndirectedCycleAsync}}),Object.defineProperty(t,"detectCycleAsync",{enumerable:!0,get:function(){return r.detectCycleAsync}}),t.detectDirectedCycleAsync=void 0,Object.defineProperty(t,"dijkstraAsync",{enumerable:!0,get:function(){return r.dijkstraAsync}}),Object.defineProperty(t,"findAllPathAsync",{enumerable:!0,get:function(){return r.findAllPathAsync}}),Object.defineProperty(t,"findShortestPathAsync",{enumerable:!0,get:function(){return r.findShortestPathAsync}}),Object.defineProperty(t,"floydWarshallAsync",{enumerable:!0,get:function(){return r.floydWarshallAsync}}),Object.defineProperty(t,"getAdjMatrixAsync",{enumerable:!0,get:function(){return r.getAdjMatrixAsync}}),Object.defineProperty(t,"getDegreeAsync",{enumerable:!0,get:function(){return r.getDegreeAsync}}),Object.defineProperty(t,"getInDegreeAsync",{enumerable:!0,get:function(){return r.getInDegreeAsync}}),Object.defineProperty(t,"getNeighborsAsync",{enumerable:!0,get:function(){return r.getNeighborsAsync}}),Object.defineProperty(t,"getOutDegreeAsync",{enumerable:!0,get:function(){return r.getOutDegreeAsync}}),Object.defineProperty(t,"labelPropagationAsync",{enumerable:!0,get:function(){return r.labelPropagationAsync}}),Object.defineProperty(t,"louvainAsync",{enumerable:!0,get:function(){return r.louvainAsync}}),Object.defineProperty(t,"minimumSpanningTreeAsync",{enumerable:!0,get:function(){return r.minimumSpanningTreeAsync}}),Object.defineProperty(t,"pageRankAsync",{enumerable:!0,get:function(){return r.pageRankAsync}});var r=n(7249),i=r.detectCycleAsync;t.detectDirectedCycleAsync=i;var o={getAdjMatrixAsync:r.getAdjMatrixAsync,connectedComponentAsync:r.connectedComponentAsync,getDegreeAsync:r.getDegreeAsync,getInDegreeAsync:r.getInDegreeAsync,getOutDegreeAsync:r.getOutDegreeAsync,detectCycleAsync:r.detectCycleAsync,detectDirectedCycleAsync:i,detectAllCyclesAsync:r.detectAllCyclesAsync,detectAllDirectedCycleAsync:r.detectAllDirectedCycleAsync,detectAllUndirectedCycleAsync:r.detectAllUndirectedCycleAsync,dijkstraAsync:r.dijkstraAsync,findAllPathAsync:r.findAllPathAsync,findShortestPathAsync:r.findShortestPathAsync,floydWarshallAsync:r.floydWarshallAsync,labelPropagationAsync:r.labelPropagationAsync,louvainAsync:r.louvainAsync,minimumSpanningTreeAsync:r.minimumSpanningTreeAsync,pageRankAsync:r.pageRankAsync,getNeighborsAsync:r.getNeighborsAsync,GADDIAsync:r.GADDIAsync};t.default=o},6299:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(9748))&&r.__esModule?r:{default:r},o=n(399);var a=function(e,t,n,r){void 0===r&&(r=!0);var a=function(e){void 0===e&&(e={});var t=e,n=function(){},r=function(){var e={};return function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||r,t.enter=e.enter||n,t.leave=e.leave||n,t}(n),s=new i.default,u=e.edges,l=void 0===u?[]:u;s.enqueue(t);for(var c="",f=function(){var e=s.dequeue();a.enter({current:e,previous:c}),(0,o.getNeighbors)(e,l,r?"target":void 0).forEach((function(t){a.allowTraversal({previous:c,current:e,next:t})&&s.enqueue(t)})),a.leave({current:e,previous:c}),c=e};!s.isEmpty();)f()};t.default=a},3265:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t?o(e):i(e)},t.detectStrongConnectComponents=t.detectConnectedComponents=void 0;var r=n(399),i=function(e){for(var t=e.nodes,n=void 0===t?[]:t,i=e.edges,o=void 0===i?[]:i,a=[],s={},u=[],l=function e(t){u.push(t),s[t.id]=!0;for(var i=(0,r.getNeighbors)(t.id,o),a=function(t){var r=i[t];if(!s[r]){var o=n.filter((function(e){return e.id===r}));o.length>0&&e(o[0])}},l=0;l<i.length;++l)a(l)},c=0;c<n.length;c++){var f=n[c];if(!s[f.id]){l(f);for(var d=[];u.length>0;)d.push(u.pop());a.push(d)}}return a};t.detectConnectedComponents=i;var o=function(e){for(var t=e.nodes,n=void 0===t?[]:t,i=e.edges,o=void 0===i?[]:i,a=[],s={},u={},l={},c=[],f=0,d=function e(t){u[t.id]=f,l[t.id]=f,f+=1,a.push(t),s[t.id]=!0;for(var i=(0,r.getNeighbors)(t.id,o,"target").filter((function(e){return n.map((function(e){return e.id})).indexOf(e)>-1})),d=function(r){var o=i[r];if(u[o]||0===u[o])s[o]&&(l[t.id]=Math.min(l[t.id],u[o]));else{var a=n.filter((function(e){return e.id===o}));a.length>0&&e(a[0]),l[t.id]=Math.min(l[t.id],l[o])}},h=0;h<i.length;h++)d(h);if(l[t.id]===u[t.id]){for(var p=[];a.length>0;){var g=a.pop();if(s[g.id]=!1,p.push(g),g===t)break}p.length>0&&c.push(p)}},h=0,p=n;h<p.length;h++){var g=p[h];u[g.id]||0===u[g.id]||d(g)}return c};t.detectStrongConnectComponents=o},834:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.secondReg=t.dateReg=void 0;t.secondReg=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/;t.dateReg=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/},9020:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOutDegree=t.getInDegree=t.default=void 0;var n=function(e){var t={},n=e.nodes,r=void 0===n?[]:n,i=e.edges,o=void 0===i?[]:i;return r.forEach((function(e){t[e.id]={degree:0,inDegree:0,outDegree:0}})),o.forEach((function(e){t[e.source].degree++,t[e.source].outDegree++,t[e.target].degree++,t[e.target].inDegree++})),t},r=n;t.default=r;t.getInDegree=function(e,t){return n(e)[t]?n(e)[t].inDegree:0};t.getOutDegree=function(e,t){return n(e)[t]?n(e)[t].outDegree:0}},1354:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.detectAllUndirectedCycle=t.detectAllDirectedCycle=t.detectAllCycles=t.default=void 0;var i,o=(i=n(5068))&&i.__esModule?i:{default:i},a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(3265)),s=n(399);function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var l=function(e,t,n){var r,i;void 0===n&&(n=!0);for(var o=[],u=0,l=(0,a.default)(e,!1);u<l.length;u++){var c=l[u];if(c.length)for(var f=c[0],d=f.id,h=[f],p=((r={})[d]=f,r),g=((i={})[d]=new Set,i);h.length>0;)for(var v=h.pop(),m=v.id,y=(0,s.getNeighbors)(m,e.edges),b=function(r){var i,a=y[r],s=e.nodes.find((function(e){return e.id===a}));if(a===m)o.push(((i={})[a]=v,i));else if(a in g){if(!g[m].has(s)){for(var u=!0,l=[s,v],c=p[m];g[a].size&&!g[a].has(c)&&(l.push(c),c!==p[c.id]);)c=p[c.id];if(l.push(c),t&&n?(u=!1,l.findIndex((function(e){return t.indexOf(e.id)>-1}))>-1&&(u=!0)):t&&!n&&l.findIndex((function(e){return t.indexOf(e.id)>-1}))>-1&&(u=!1),u){for(var f={},d=1;d<l.length;d+=1)f[l[d-1].id]=l[d];l.length&&(f[l[l.length-1].id]=l[0]),o.push(f)}g[a].add(v)}}else p[a]=v,h.push(s),g[a]=new Set([v])},x=0;x<y.length;x+=1)b(x)}return o};t.detectAllUndirectedCycle=l;var c=function(e,t,n){void 0===n&&(n=!0);for(var r=[],i=new Set,o=[],u=[],l={},c={},f=function e(a,s,c){var f=!1;if(t&&!1===n&&t.indexOf(a.id)>-1)return f;r.push(a),i.add(a);for(var d=c[a.id],h=0;h<d.length;h+=1){if((v=l[d[h]])===s){for(var p={},g=1;g<r.length;g+=1)p[r[g-1].id]=r[g];r.length&&(p[r[r.length-1].id]=r[0]),u.push(p),f=!0}else i.has(v)||e(v,s,c)&&(f=!0)}if(f)!function(e){for(var t=[e];t.length>0;){var n=t.pop();i.has(n)&&(i.delete(n),o[n.id].forEach((function(e){t.push(e)})),o[n.id].clear())}}(a);else for(h=0;h<d.length;h+=1){var v=l[d[h]];o[v.id].has(a)||o[v.id].add(a)}return r.pop(),f},d=e.nodes,h=void 0===d?[]:d,p=0;p<h.length;p+=1){var g=h[p],v=g.id;c[v]=p,l[p]=g}if(t&&n){var m=function(e){var n=t[e];c[h[e].id]=c[n],c[n]=0,l[0]=h.find((function(e){return e.id===n})),l[c[h[e].id]]=h[e]};for(p=0;p<t.length;p++)m(p)}for(var y=function(r){for(var i,o,a=1/0,l=0;l<r.length;l+=1)for(var f=r[l],d=0;d<f.length;d++){var h=c[f[d].id];h<a&&(a=h,o=l)}var p=r[o],g=[];for(l=0;l<p.length;l+=1){var v=p[l];g[v.id]=[];for(var m=0,y=(0,s.getNeighbors)(v.id,e.edges,"target").filter((function(e){return p.map((function(e){return e.id})).indexOf(e)>-1}));m<y.length;m++){var b=y[m];b!==v.id||!1===n&&t.indexOf(v.id)>-1?g[v.id].push(c[b]):u.push(((i={})[v.id]=v,i))}}return{component:p,adjList:g,minIdx:a}},b=0;b<h.length;){var x=h.filter((function(e){return c[e.id]>=b})),w=(0,a.detectStrongConnectComponents)({nodes:x,edges:e.edges}).filter((function(e){return e.length>1}));if(0===w.length)break;var E=y(w),S=E.minIdx,_=E.adjList,T=E.component;if(!(T.length>1))break;T.forEach((function(e){o[e.id]=new Set}));var k=l[S];if(t&&n&&-1===t.indexOf(k.id))return u;f(k,k,_),b=S+1}return u};t.detectAllDirectedCycle=c;t.detectAllCycles=function(e,t,n,r){return void 0===r&&(r=!0),t?c(e,n,r):l(e,n,r)};var f=function(e){var t=null,n=e.nodes,r={},i={},a={},s={};(void 0===n?[]:n).forEach((function(e){i[e.id]=e}));for(var u={enter:function(e){var n=e.current,o=e.previous;if(a[n]){t={};for(var s=n,u=o;u!==n;)t[s]=u,s=u,u=r[u];t[s]=u}else a[n]=n,delete i[n],r[n]=o},leave:function(e){var t=e.current;s[t]=t,delete a[t]},allowTraversal:function(e){var n=e.next;return!t&&!s[n]}};Object.keys(i).length;){var l=Object.keys(i)[0];(0,o.default)(e,l,u)}return t};t.default=f},5068:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){i(e,t,"",function(e){void 0===e&&(e={});var t=e,n=function(){},r=function(){var e={};return function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||r,t.enter=e.enter||n,t.leave=e.leave||n,t}(n))};var r=n(399);function i(e,t,n,o){o.enter({current:t,previous:n});var a=e.edges,s=void 0===a?[]:a;(0,r.getNeighbors)(t,s,"target").forEach((function(r){o.allowTraversal({previous:n,current:t,next:r})&&i(e,r,t,o)})),o.leave({current:t,previous:n})}},5581:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(9388),i=n(8092),o=n(399),a=function(e,t,n,r){var i=e.nodes,a=void 0===i?[]:i,u=e.edges,l=void 0===u?[]:u,c=[],f={},d={},h={};a.forEach((function(e,n){var r=e.id;c.push(r),d[r]=1/0,r===t&&(d[r]=0)}));for(var p=a.length,g=function(e){var t=function(e,t,n){for(var r,i=1/0,o=0;o<t.length;o++){var a=t[o].id;!n[a]&&e[a]<=i&&(i=e[a],r=t[o])}return r}(d,a,f),i=t.id;if(f[i]=!0,d[i]===1/0)return"continue";(n?(0,o.getOutEdgesNodeId)(i,l):(0,o.getEdgesByNodeId)(i,l)).forEach((function(e){var n=e.target,o=e.source,a=n===i?o:n,s=r&&e[r]?e[r]:1;d[a]>d[t.id]+s?(d[a]=d[t.id]+s,h[a]=[t.id]):d[a]===d[t.id]+s&&h[a].push(t.id)}))},v=0;v<p;v++)g();h[t]=[t];var m={};for(var y in d)d[y]!==1/0&&s(t,y,h,m);var b={};for(var y in m)b[y]=m[y][0];return{length:d,path:b,allPath:m}};function s(e,t,n,o){if(e===t)return[e];if(o[t])return o[t];for(var a=[],u=0,l=n[t];u<l.length;u++){var c=s(e,l[u],n,o);if(!c)return;for(var f=0,d=c;f<d.length;f++){var h=d[f];(0,i.isArray)(h)?a.push((0,r.__spreadArray)((0,r.__spreadArray)([],h,!0),[t],!1)):a.push([h,t])}}return o[t]=a,o[t]}t.default=a},6384:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findShortestPath=t.findAllPath=void 0;var r,i=(r=n(5581))&&r.__esModule?r:{default:r},o=n(399);t.findShortestPath=function(e,t,n,r,o){var a=(0,i.default)(e,t,r,o),s=a.length,u=a.path,l=a.allPath;return{length:s[n],path:u[n],allPath:l[n]}};t.findAllPath=function(e,t,n,r){var i;if(t===n)return[[t]];var a=e.edges,s=void 0===a?[]:a,u=[t],l=((i={})[t]=!0,i),c=[],f=[],d=r?(0,o.getNeighbors)(t,s,"target"):(0,o.getNeighbors)(t,s);for(c.push(d);u.length>0&&c.length>0;){var h=c[c.length-1];if(h.length){var p=h.shift();if(p&&(u.push(p),l[p]=!0,d=r?(0,o.getNeighbors)(p,s,"target"):(0,o.getNeighbors)(p,s),c.push(d.filter((function(e){return!l[e]})))),u[u.length-1]===n){var g=u.map((function(e){return e}));f.push(g);v=u.pop();l[v]=!1,c.pop()}}else{var v=u.pop();l[v]=!1,c.pop()}}return f}},9345:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(3469))&&r.__esModule?r:{default:r};var o=function(e,t){for(var n=(0,i.default)(e,t),r=[],o=n.length,a=0;a<o;a+=1){r[a]=[];for(var s=0;s<o;s+=1)a===s?r[a][s]=0:0!==n[a][s]&&n[a][s]?r[a][s]=n[a][s]:r[a][s]=1/0}for(var u=0;u<o;u+=1)for(a=0;a<o;a+=1)for(s=0;s<o;s+=1)r[a][s]>r[a][u]+r[u][s]&&(r[a][s]=r[a][u]+r[u][s]);return r};t.default=o},1225:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(8092),i=n(7468),o=function(){function e(e,t,n,r,o){this.fromNode=e,this.toNode=t,this.nodeEdgeNodeLabel={nodeLabel1:n||i.VACANT_NODE_LABEL,edgeLabel:r||i.VACANT_EDGE_LABEL,nodeLabel2:o||i.VACANT_NODE_LABEL}}return e.prototype.equalTo=function(e){return this.fromNode===e.formNode&&this.toNode===e.toNode&&this.nodeEdgeNodeLabel===e.nodeEdgeNodeLabel},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e}(),a=function(){function e(){this.rmpath=[],this.dfsEdgeList=[]}return e.prototype.equalTo=function(e){var t=this.dfsEdgeList.length;if(t!==e.length)return!1;for(var n=0;n<t;n++)if(this.dfsEdgeList[n]!==e[n])return!1;return!0},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e.prototype.pushBack=function(e,t,n,r,i){return this.dfsEdgeList.push(new o(e,t,n,r,i)),this.dfsEdgeList},e.prototype.toGraph=function(e,t){void 0===e&&(e=i.VACANT_GRAPH_ID),void 0===t&&(t=!1);var n=new i.Graph(e,!0,t);return this.dfsEdgeList.forEach((function(e){var t=e.fromNode,r=e.toNode,o=e.nodeEdgeNodeLabel,a=o.nodeLabel1,s=o.edgeLabel,u=o.nodeLabel2;a!==i.VACANT_NODE_LABEL&&n.addNode(t,a),u!==i.VACANT_NODE_LABEL&&n.addNode(r,u),a!==i.VACANT_NODE_LABEL&&u!==a&&n.addEdge(void 0,t,r,s)})),n},e.prototype.buildRmpath=function(){this.rmpath=[];for(var e=void 0,t=this.dfsEdgeList.length-1;t>=0;t--){var n=this.dfsEdgeList[t],r=n.fromNode,i=n.toNode;r<i&&(void 0===e||i===e)&&(this.rmpath.push(t),e=r)}return this.rmpath},e.prototype.getNodeNum=function(){var e={};return this.dfsEdgeList.forEach((function(t){e[t.fromNode]||(e[t.fromNode]=!0),e[t.toNode]||(e[t.toNode]=!0)})),Object.keys(e).length},e}(),s=function(){function e(e){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],e){for(;e;){var t=e.edge;this.edges.push(t),this.nodesUsed[t.from]=1,this.nodesUsed[t.to]=1,this.edgesUsed[t.id]=1,e=e.preNode}this.edges=this.edges.reverse()}}return e.prototype.hasNode=function(e){return 1===this.nodesUsed[e.id]},e.prototype.hasEdge=function(e){return 1===this.edgesUsed[e.id]},e}(),u=function(){function e(e){var t=e.graphs,n=e.minSupport,r=void 0===n?2:n,i=e.minNodeNum,o=void 0===i?1:i,s=e.maxNodeNum,u=void 0===s?4:s,l=e.top,c=void 0===l?10:l,f=e.directed,d=void 0!==f&&f,h=e.verbose,p=void 0!==h&&h;this.graphs=t,this.dfsCode=new a,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=r,this.top=c,this.directed=d,this.counter=0,this.maxNodeNum=u,this.minNodeNum=o,this.verbose=p,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return e.prototype.findForwardRootEdges=function(e,t){var n=this,r=[],i=e.nodeMap;return t.edges.forEach((function(e){(n.directed||t.label<=i[e.to].label)&&r.push(e)})),r},e.prototype.findBackwardEdge=function(e,t,n,r){if(!this.directed&&t===n)return null;for(var i=e.nodeMap,o=i[n.to].edges,a=o.length,s=0;s<a;s++){var u=o[s];if(!r.hasEdge(u)&&u.to===t.from)if(this.directed){if(i[t.from].label<i[n.to].label||i[t.from].label===i[n.to].label&&t.label<=u.label)return u}else if(t.label<u.label||t.label===u.label&&i[t.to].label<=i[n.to].label)return u}return null},e.prototype.findForwardPureEdges=function(e,t,n,r){for(var i=[],o=t.to,a=e.nodeMap[o].edges,s=a.length,u=0;u<s;u++){var l=a[u],c=e.nodeMap[l.to];n<=c.label&&!r.hasNode(c)&&i.push(l)}return i},e.prototype.findForwardRmpathEdges=function(e,t,n,r){for(var i=[],o=e.nodeMap,a=o[t.to].label,s=o[t.from].edges,u=s.length,l=0;l<u;l++){var c=s[l],f=o[c.to].label;t.to===c.to||n>f||r.hasNode(o[c.to])||(t.label<c.label||t.label===c.label&&a<=f)&&i.push(c)}return i},e.prototype.getSupport=function(e){var t={};return e.forEach((function(e){t[e.graphId]||(t[e.graphId]=!0)})),Object.keys(t).length},e.prototype.findMinLabel=function(e){var t=void 0;return Object.keys(e).forEach((function(n){var r=e[n],i=r.nodeLabel1,o=r.edgeLabel,a=r.nodeLabel2;t?(i<t.nodeLabel1||i===t.nodeLabel1&&o<t.edgeLabel||i===t.nodeLabel1&&o===t.edgeLabel&&a<t.nodeLabel2)&&(t={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}):t={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}})),t},e.prototype.isMin=function(){var e=this,t=this.dfsCode;if(this.verbose&&console.log("isMin checking",t),1===t.dfsEdgeList.length)return!0;var n=this.directed,r=t.toGraph(i.VACANT_GRAPH_ID,n),u=r.nodeMap,l=new a,c={};r.nodes.forEach((function(t){e.findForwardRootEdges(r,t).forEach((function(e){var n=u[e.to],i="".concat(t.label,"-").concat(e.label,"-").concat(n.label);c[i]||(c[i]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:n.label});var o={graphId:r.id,edge:e,preNode:null};c[i].projected.push(o)}))}));var f=this.findMinLabel(c);if(f){l.dfsEdgeList.push(new o(0,1,f.nodeLabel1,f.edgeLabel,f.nodeLabel2));var d="".concat(f.nodeLabel1,"-").concat(f.edgeLabel,"-").concat(f.nodeLabel2);return function a(c){for(var f=l.buildRmpath(),d=l.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,h=l.dfsEdgeList[f[0]].toNode,p={},g=!1,v=0,m=n?-1:0,y=function(t){if(g)return"break";c.forEach((function(n){var i=new s(n),o=e.findBackwardEdge(r,i.edges[f[t]],i.edges[f[0]],i);o&&(p[o.label]||(p[o.label]={projected:[],edgeLabel:o.label}),p[o.label].projected.push({graphId:r.id,edge:p,preNode:n}),v=l.dfsEdgeList[f[t]].fromNode,g=!0)}))},b=f.length-1;b>m;b--){if("break"===y(b))break}if(g){var x=e.findMinLabel(p);l.dfsEdgeList.push(new o(h,v,i.VACANT_NODE_LABEL,x.edgeLabel,i.VACANT_NODE_LABEL));var w=l.dfsEdgeList.length-1;return e.dfsCode.dfsEdgeList[w]===l.dfsEdgeList[w]&&a(p[x.edgeLabel].projected)}var E={};g=!1;var S=0;c.forEach((function(t){var n=new s(t),i=e.findForwardPureEdges(r,n.edges[f[0]],d,n);i.length>0&&(g=!0,S=h,i.forEach((function(e){var n="".concat(e.label,"-").concat(u[e.to].label);E[n]||(E[n]={projected:[],edgeLabel:e.label,nodeLabel2:u[e.to].label}),E[n].projected.push({graphId:r.id,edge:e,preNode:t})})))}));var _=f.length,T=function(t){if(g)return"break";var n=f[t];c.forEach((function(t){var i=new s(t),o=e.findForwardRmpathEdges(r,i.edges[n],d,i);o.length>0&&(g=!0,S=l.dfsEdgeList[n].fromNode,o.forEach((function(e){var n="".concat(e.label,"-").concat(u[e.to].label);E[n]||(E[n]={projected:[],edgeLabel:e.label,nodeLabel2:u[e.to].label}),E[n].projected.push({graphId:r.id,edge:e,preNode:t})})))}))};for(b=0;b<_;b++){if("break"===T(b))break}if(!g)return!0;var k=e.findMinLabel(E);l.dfsEdgeList.push(new o(S,h+1,i.VACANT_NODE_LABEL,k.edgeLabel,k.nodeLabel2));var C=l.dfsEdgeList.length-1;return t.dfsEdgeList[C]===l.dfsEdgeList[C]&&a(E["".concat(k.edgeLabel,"-").concat(k.nodeLabel2)].projected)}(c[d].projected)}},e.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var e=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,r.clone)(e))}},e.prototype.subGraphMining=function(e){var t=this;if(!(this.getSupport(e)<this.minSupport)&&this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),r=this.dfsCode.buildRmpath(),a=this.dfsCode.dfsEdgeList[r[0]].toNode,u=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,l={},c={};e.forEach((function(e){for(var i=t.graphs[e.graphId],o=i.nodeMap,f=new s(e),d=r.length-1;d>=0;d--){var h=t.findBackwardEdge(i,f.edges[r[d]],f.edges[r[0]],f);if(h){var p="".concat(t.dfsCode.dfsEdgeList[r[d]].fromNode,"-").concat(h.label);c[p]||(c[p]={projected:[],toNodeId:t.dfsCode.dfsEdgeList[r[d]].fromNode,edgeLabel:h.label}),c[p].projected.push({graphId:e.graphId,edge:h,preNode:e})}}if(!(n>=t.maxNodeNum)){t.findForwardPureEdges(i,f.edges[r[0]],u,f).forEach((function(t){var n="".concat(a,"-").concat(t.label,"-").concat(o[t.to].label);l[n]||(l[n]={projected:[],fromNodeId:a,edgeLabel:t.label,nodeLabel2:o[t.to].label}),l[n].projected.push({graphId:e.graphId,edge:t,preNode:e})}));var g=function(n){t.findForwardRmpathEdges(i,f.edges[r[n]],u,f).forEach((function(i){var a="".concat(t.dfsCode.dfsEdgeList[r[n]].fromNode,"-").concat(i.label,"-").concat(o[i.to].label);l[a]||(l[a]={projected:[],fromNodeId:t.dfsCode.dfsEdgeList[r[n]].fromNode,edgeLabel:i.label,nodeLabel2:o[i.to].label}),l[a].projected.push({graphId:e.graphId,edge:i,preNode:e})}))};for(d=0;d<r.length;d++)g(d)}})),Object.keys(c).forEach((function(e){var n=c[e],r=n.toNodeId,i=n.edgeLabel;t.dfsCode.dfsEdgeList.push(new o(a,r,"-1",i,"-1")),t.subGraphMining(c[e].projected),t.dfsCode.dfsEdgeList.pop()})),Object.keys(l).forEach((function(e){var n=l[e],r=n.fromNodeId,s=n.edgeLabel,u=n.nodeLabel2;t.dfsCode.dfsEdgeList.push(new o(r,a+1,i.VACANT_NODE_LABEL,s,u)),t.subGraphMining(l[e].projected),t.dfsCode.dfsEdgeList.pop()}))}},e.prototype.generate1EdgeFrequentSubGraphs=function(){var e=this.graphs,t=this.directed,n=this.minSupport,r=this.frequentSize1Subgraphs,i={},o={},a={},s={};return Object.keys(e).forEach((function(n){var r=e[n],u=r.nodeMap;r.nodes.forEach((function(e,r){var l=e.label,c="".concat(n,"-").concat(l);if(!a[c]){var f=i[l]||0;f++,i[l]=f}a[c]={graphKey:n,label:l},e.edges.forEach((function(e){var r=l,i=u[e.to].label;if(!t&&r>i){var a=i;i=r,r=a}var c=e.label,f="".concat(n,"-").concat(r,"-").concat(c,"-").concat(i),d="".concat(r,"-").concat(c,"-").concat(i);if(!o[d]){var h=o[d]||0;h++,o[d]=h}s[f]={graphId:n,nodeLabel1:r,edgeLabel:c,nodeLabel2:i}}))}))})),Object.keys(i).forEach((function(e){if(!(i[e]<n)){var t={nodes:[],edges:[]};t.nodes.push({id:"0",label:e}),r.push(t)}})),r},e.prototype.run=function(){var e=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var t=this.graphs,n=(this.directed,{});Object.keys(t).forEach((function(r){var i=t[r],o=i.nodeMap;i.nodes.forEach((function(t){e.findForwardRootEdges(i,t).forEach((function(e){var i=o[e.to],a="".concat(t.label,"-").concat(e.label,"-").concat(i.label);n[a]||(n[a]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:i.label});var s={graphId:r,edge:e,preNode:null};n[a].projected.push(s)}))}))})),Object.keys(n).forEach((function(t){var r=n[t],i=r.projected,a=r.nodeLabel1,s=r.edgeLabel,u=r.nodeLabel2;e.dfsCode.dfsEdgeList.push(new o(0,1,a,s,u)),e.subGraphMining(i),e.dfsCode.dfsEdgeList.pop()}))}},e}(),l="cluster",c=function(e){var t=e.graphs,n=e.directed,r=void 0!==n&&n,o=e.nodeLabelProp,a=void 0===o?l:o,s=e.edgeLabelProp,c=void 0===s?l:s,f=function(e,t,n,r){var o={};return Object.keys(e).forEach((function(a,s){var u=e[a],l=new i.Graph(s,!0,t),c={};u.nodes.forEach((function(e,t){l.addNode(t,e[n]),c[e.id]=t})),u.edges.forEach((function(e,t){var n=c[e.source],i=c[e.target];l.addEdge(-1,n,i,e[r])})),l&&l.getNodeNum()&&(o[l.id]=l)})),o}(t,r,a,c),d=e.minSupport,h=e.maxNodeNum,p=e.minNodeNum,g=e.verbose,v=e.top,m=new u({graphs:f,minSupport:d,maxNodeNum:h,minNodeNum:p,top:v,verbose:g,directed:r});m.run();var y=function(e,t,n){var r=[];return e.forEach((function(e){var i={nodes:[],edges:[]};e.nodes.forEach((function(e){var n;i.nodes.push(((n={id:"".concat(e.id)})[t]=e.label,n))})),e.edges.forEach((function(e){var t;i.edges.push(((t={source:"".concat(e.from),target:"".concat(e.to)})[n]=e.label,t))})),r.push(i)})),r}(m.frequentSubgraphs,a,c);return y};t.default=c},7468:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VACANT_NODE_LABEL=t.VACANT_NODE_ID=t.VACANT_GRAPH_ID=t.VACANT_EDGE_LABEL=t.VACANT_EDGE_ID=t.Node=t.Graph=t.Edge=t.AUTO_EDGE_ID=void 0;t.VACANT_EDGE_ID=-1;t.VACANT_NODE_ID=-1;t.VACANT_EDGE_LABEL="-1";t.VACANT_NODE_LABEL="-1";t.VACANT_GRAPH_ID=-1;t.AUTO_EDGE_ID="-1";var n=function(e,t,n,r){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===n&&(n=-1),void 0===r&&(r="-1"),this.id=e,this.from=t,this.to=n,this.label=r};t.Edge=n;var r=function(){function e(e,t){void 0===e&&(e=-1),void 0===t&&(t="-1"),this.id=e,this.label=t,this.edges=[],this.edgeMap={}}return e.prototype.addEdge=function(e){this.edges.push(e),this.edgeMap[e.id]=e},e}();t.Node=r;var i=function(){function e(e,t,n){void 0===e&&(e=-1),void 0===t&&(t=!0),void 0===n&&(n=!1),this.id=e,this.edgeIdAutoIncrease=t,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return e.prototype.getNodeNum=function(){return this.nodes.length},e.prototype.addNode=function(e,t){if(!this.nodeMap[e]){var n=new r(e,t);this.nodes.push(n),this.nodeMap[e]=n,this.nodeLabelMap[t]||(this.nodeLabelMap[t]=[]),this.nodeLabelMap[t].push(e)}},e.prototype.addEdge=function(e,t,r,i){if((this.edgeIdAutoIncrease||void 0===e)&&(e=this.counter++),!(this.nodeMap[t]&&this.nodeMap[r]&&this.nodeMap[r].edgeMap[e])){var o=new n(e,t,r,i);if(this.edges.push(o),this.edgeMap[e]=o,this.nodeMap[t].addEdge(o),this.edgeLabelMap[i]||(this.edgeLabelMap[i]=[]),this.edgeLabelMap[i].push(o),!this.directed){var a=new n(e,r,t,i);this.nodeMap[r].addEdge(a),this.edgeLabelMap[i].push(a)}}},e}();t.Graph=i},5472:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(9388),i=u(n(9345)),o=u(n(1225)),a=u(n(5581)),s=n(399);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t,n,r){void 0===n&&(n="cluster"),void 0===r&&(r=2);var i=[],o=e.nodes;return t.forEach((function(e,t){i.push(c(o,e,t,n,r))})),i},c=function(e,t,n,r,i){var o=[n],a=[],s={};return t.forEach((function(t,u){if(t<=i&&n!==u){o.push(u),a.push(e[u]);var l=e[u][r];s[l]?(s[l].count++,s[l].dists.push(t)):s[l]={count:1,dists:[t]}}})),Object.keys(s).forEach((function(e){s[e].dists=s[e].dists.sort((function(e,t){return e-t}))})),{nodeIdx:n,nodeId:e[n].id,nodeIdxs:o,neighbors:a,neighborNum:o.length-1,nodeLabelCountMap:s}},f=function(e,t,n,r){var i=n.nodes;return r||(r={}),Object.keys(e).forEach((function(o){var a,s;if(!r||!r[o]){r[o]={nodes:[],edges:[]};var u=e[o],l=null===(a=t[u.start])||void 0===a?void 0:a.nodeIdxs,c=null===(s=t[u.end])||void 0===s?void 0:s.nodeIdxs;if(l&&c){var f=new Set(c),d=l.filter((function(e){return f.has(e)}));if(d&&d.length){for(var h={},p=d.length,g=0;g<p;g++){var v=i[d[g]];r[o].nodes.push(v),h[v.id]=!0}n.edges.forEach((function(e){h[e.source]&&h[e.target]&&r[o].edges.push(e)}))}}}})),r},d=function(e,t,n,r){var i,o,a={};e.nodes.forEach((function(e){a[e.id]=e}));var s=0;return!(null===(i=null===t||void 0===t?void 0:t.edges)||void 0===i?void 0:i.length)||(null===(o=null===t||void 0===t?void 0:t.nodes)||void 0===o?void 0:o.length)<2?0:(e.edges.forEach((function(e){var i=a[e.source][n],o=a[e.target][n],u=null===t||void 0===t?void 0:t.nodes[0][n],l=null===t||void 0===t?void 0:t.nodes[1][n],c=null===t||void 0===t?void 0:t.edges[0][r];e[r]===c&&(i===u&&o===l||i===l&&o===u)&&s++})),s)},h=function(e,t){var n={},r={};return e.forEach((function(e,i){n[e.id]={idx:i,node:e,degree:0,inDegree:0,outDegree:0};var o=e[t];r[o]||(r[o]=[]),r[o].push(e)})),{nodeMap:n,nodeLabelMap:r}},p=function(e,t,n){var r={},i={};return e.forEach((function(e,o){r["".concat(s.uniqueId)]={idx:o,edge:e};var a=e[t];i[a]||(i[a]=[]),i[a].push(e);var u=n[e.source];u&&(u.degree++,u.outDegree++);var l=n[e.target];l&&(l.degree++,l.inDegree++)})),{edgeMap:r,edgeLabelMap:i}},g=function(e,t,n){var r=t.length,i={};return t.forEach((function(t,o){for(var a=n?0:o+1,s=e[o].id,u=a;u<r;u++)if(o!==u){var l=e[u].id,c=t[u];i["".concat(s,"-").concat(l)]=c,n||(i["".concat(l,"-").concat(s)]=c)}})),i},v=function(e,t,n,r,i,o,a,s,u,l,c){var h,p="".concat(t.id,"-").concat(n.id);if(l&&l[p])return l[p];var g=c?c[p]:void 0;if(!g){var v=((h={})[p]={start:r[t.id].idx,end:r[n.id].idx,distance:i},h);g=(c=f(v,o,e,c))[p]}return d(g,a,s,u)},m=function(e,t,n,r){var i,o,a,s=null===(i=e[t])||void 0===i?void 0:i.degree,u=null===(o=e[t])||void 0===o?void 0:o.inDegree,l=null===(a=e[t])||void 0===a?void 0:a.outDegree;return void 0===e[t]&&(s=1/0,u=1/0,l=1/0,r[t].forEach((function(e){var t=n[e.id].degree;s>t&&(s=t);var r=n[e.id].inDegree;u>r&&(u=r);var i=n[e.id].outDegree;l>i&&(l=i)})),e[t]={degree:s,inDegree:u,outDegree:l}),{minPatternNodeLabelDegree:s,minPatternNodeLabelInDegree:u,minPatternNodeLabelOutDegree:l}},y=function(e,t,n,s,u,y,b){var x;if(void 0===n&&(n=!1),void 0===y&&(y="cluster"),void 0===b&&(b="cluster"),e&&e.nodes){var w=e.nodes.length;if(w){var E=(0,i.default)(e,n),S=(0,i.default)(t,n),_=g(e.nodes,E,n),T=g(t.nodes,S,n),k=h(e.nodes,y),C=k.nodeMap,M=k.nodeLabelMap,A=h(t.nodes,y),N=A.nodeMap,P=A.nodeLabelMap;p(e.edges,b,C);var I=p(t.edges,b,N).edgeLabelMap,D=[];null===S||void 0===S||S.forEach((function(e){D=D.concat(e)})),u||(u=Math.max.apply(Math,(0,r.__spreadArray)((0,r.__spreadArray)([],D,!1),[2],!1))),s||(s=u);var O=l(e,E,y,s),R=l(t,S,y,s),L=function(e,t,n,r,i){var o=Math.ceil(n/t),a={},s=0;return r.forEach((function(e,r){for(var u=0,l=0,c=e.nodeIdxs,f=e.neighborNum-1;u<o;){for(var d=c[1+Math.floor(Math.random()*f)],h=0;(a["".concat(r,"-").concat(d)]||a["".concat(d,"-").concat(r)])&&(d=Math.floor(Math.random()*t),!(++h>2*t)););if(h<2*t&&(a["".concat(r,"-").concat(d)]={start:r,end:d,distance:i[r][d]},u++,++s>=n))return a;if(++l>2*t)break}u<o&&(o=(o+(o-u))/(t-r-1))})),a}(0,w,Math.min(100,w*(w-1)/2),O,E),j=f(L,O,e),B={graphs:j,nodeLabelProp:y,edgeLabelProp:b,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:n},F=(0,o.default)(B).slice(0,10),z=F.length,Y=[];F.forEach((function(e,t){Y[t]={},Object.keys(j).forEach((function(n){var r=j[n],i=d(r,e,y,b);Y[t][n]=i}))}));var G=function(e,t,n){for(var r=1/0,i=0,o=function(t){var n=e[t],o=Object.keys(n).sort((function(e,t){return n[e]-n[t]})),a=[];o.forEach((function(e,t){a[t%10]||(a[t%10]={graphs:[],totalCount:0,aveCount:0}),a[t%10].graphs.push(e),a[t%10].totalCount+=n[e]}));var s=0,u=[];a.forEach((function(e){var t=e.totalCount/e.graphs.length;e.aveCount=t,u.push(t);var r=0,i=e.length;e.graphs.forEach((function(t,i){var o=n[t];e.graphs.forEach((function(e,t){i!==t&&(r+=Math.abs(o-n[e]))}))})),s+=r/=i*(i-1)/2})),s/=a.length;var l=0;u.forEach((function(e,t){u.forEach((function(n,r){t!==r&&(l+=Math.abs(e-n))})),l/=u.length*(u.length-1)/2}));var c=l-s;r<c&&(r=c,i=t)},a=0;a<t;a++)o(a);return{structure:n[i],structureCountMap:e[i]}}(Y,z,F),V=G.structure,U=G.structureCountMap,W=t.nodes[0],Z=[],H=null===(x=t.nodes[0])||void 0===x?void 0:x[y],X=-1/0;t.nodes.forEach((function(e){var t=e[y],n=M[t];(null===n||void 0===n?void 0:n.length)>X&&(X=n.length,Z=n,H=t,W=e)}));var K={},q={},J={},$={},Q={},ee={};Object.keys(P).forEach((function(r,i){Q[r]=[],n&&(ee[r]=[]);var o=-1/0,a=P[r],s={};a.forEach((function(e){var t=T["".concat(W.id,"-").concat(e.id)];if(t&&Q[r].push(t),o<t&&(o=t),s["".concat(W.id,"-").concat(e.id)]={start:0,end:N[e.id].idx,distance:t},n){var i=T["".concat(e.id,"-").concat(W.id)];i&&ee[r].push(i)}})),Q[r]=Q[r].sort((function(e,t){return e-t})),n&&(ee[r]=ee[r].sort((function(e,t){return e-t}))),q=f(s,R,t,q);var u=[];if(Object.keys(s).forEach((function(e){if(J[e])u.push(J[e]);else{var t=q[e];J[e]=d(t,V,y,b),u.push(J[e])}})),u=u.sort((function(e,t){return t-e})),$["".concat(W.id,"-").concat(r)]=u,r!==H)for(var l=function(t){var n=Z[t],i=O[C[n.id].idx],o=i.nodeLabelCountMap[r],a=P[r].length;if(!o||o.count<a)return Z.splice(t,1),"continue";for(var s=!1,l=0;l<a;l++)if(o.dists[l]>Q[r][l]){s=!0;break}if(s)return Z.splice(t,1),"continue";var c={};i.neighbors.forEach((function(e){var t=_["".concat(n.id,"-").concat(e.id)];c["".concat(n.id,"-").concat(e.id)]={start:C[n.id].idx,end:C[e.id].idx,distance:t}})),j=f(c,O,e,j);var h=[];Object.keys(c).forEach((function(e){if(U[e])h.push(U[e]);else{var t=j[e];U[e]=d(t,V,y,b),h.push(U[e])}})),h=h.sort((function(e,t){return t-e}));var p=!1;for(l=0;l<a;l++)if(h[l]<u[l]){p=!0;break}return p?(Z.splice(t,1),"continue"):void 0},c=((null===Z||void 0===Z?void 0:Z.length)||0)-1;c>=0;c--)l(c)}));var te=[];null===Z||void 0===Z||Z.forEach((function(r){for(var i=C[r.id].idx,o=c(e.nodes,E[i],i,y,u).neighbors,a=!1,s=o.length-1;s>=0;s--){if(o.length+1<t.nodes.length)return void(a=!0);var l=o[s],f=l[y];if(P[f]&&P[f].length)if(Q[f]&&Q[f].length){var d="".concat(r.id,"-").concat(l.id),h=_[d],p=Q[f].length-1;if(h>Q[f][p])o.splice(s,1);else{if(n){var g="".concat(l.id,"-").concat(r.id),x=_[g];if(p=ee[f].length-1,x>ee[f][p]){o.splice(s,1);continue}}var w=U[d]?U[d]:v(e,r,l,C,h,O,V,y,b,U,j),S="".concat(W.id,"-").concat(f);if(w<$[S][$[S].length-1])o.splice(s,1);else{var T=m(K,f,N,P),k=T.minPatternNodeLabelDegree;T.minPatternNodeLabelInDegree,T.minPatternNodeLabelOutDegree;C[l.id].degree<k&&o.splice(s,1)}}}else o.splice(s,1);else o.splice(s,1)}a||te.push({nodes:[r].concat(o)})}));var ne=(0,a.default)(t,W.id,!1).length,re={};n?(Object.keys(ne).forEach((function(e){var t=N[e].node[y];re[t]?re[t].push(ne[e]):re[t]=[ne[e]]})),Object.keys(re).forEach((function(e){re[e].sort((function(e,t){return e-t}))}))):re=Q;for(var ie=function(r){var i=te[r],o=i.nodes[0],s={},u={};i.nodes.forEach((function(e,t){u[e.id]={idx:t,node:e,degree:0,inDegree:0,outDegree:0};var n=e[y];s[n]?s[n]++:s[n]=1}));var l=[],c={};e.edges.forEach((function(e){u[e.source]&&u[e.target]&&(l.push(e),c[e[b]]?c[e[b]]++:c[e[b]]=1,u[e.source].degree++,u[e.target].degree++,u[e.source].outDegree++,u[e.target].inDegree++)}));for(var f=Object.keys(I).length,d=!1,h=0;h<f;h++){var p=Object.keys(I)[h];if(!c[p]||c[p]<I[p].length){d=!0;break}}if(d)return te.splice(r,1),"continue";var g=l.length;if(g<t.edges.length)return te.splice(r,1),"break";var v=!1,x=function(e){var t=l[e],r=t[b],i=I[r];if(!i||!i.length)return c[r]--,i&&c[r]<i.length?(v=!0,"break"):(l.splice(e,1),u[t.source].degree--,u[t.target].degree--,u[t.source].outDegree--,u[t.target].inDegree--,"continue");var o=u[t.source].node[y],a=u[t.target].node[y],s=!1;return i.forEach((function(e){var t=N[e.source].node,r=N[e.target].node;t[y]===o&&r[y]===a&&(s=!0),n||t[y]!==a||r[y]!==o||(s=!0)})),s?void 0:(c[r]--,i&&c[r]<i.length?(v=!0,"break"):(l.splice(e,1),u[t.source].degree--,u[t.target].degree--,u[t.source].outDegree--,u[t.target].inDegree--,"continue"))};for(h=g-1;h>=0;h--){if("break"===x(h))break}if(v)return te.splice(r,1),"continue";i.edges=l;var w=(0,a.default)(i,i.nodes[0].id,!1).length;if(Object.keys(w).reverse().forEach((function(e){if(e!==i.nodes[0].id&&!v){if(w[e]===1/0){var t=u[e].node[y];if(s[t]--,s[t]<P[t].length)return void(v=!0);var n=i.nodes.indexOf(u[e].node);return i.nodes.splice(n,1),void(u[e]=void 0)}var r=C[e].node[y];if(!re[r]||!re[r].length||w[e]>re[r][re[r].length-1]){t=u[e].node[y];if(s[t]--,s[t]<P[t].length)return void(v=!0);n=i.nodes.indexOf(u[e].node);i.nodes.splice(n,1),u[e]=void 0}}})),v)return te.splice(r,1),"continue";for(var E=!0,S=0;E&&!v;){if(E=!1,n?u[o.id].degree<N[W.id].degree||u[o.id].inDegree<N[W.id].inDegree||u[o.id].outDegree<N[W.id].outDegree:u[o.id].degree<N[W.id].degree){v=!0;break}if(s[o[y]]<P[o[y]].length){v=!0;break}for(var _=i.nodes.length-1;_>=0;_--){var T=i.nodes[_],k=u[T.id].degree,M=u[T.id].inDegree,A=u[T.id].outDegree,D=T[y],O=m(K,D,N,P),R=O.minPatternNodeLabelDegree,L=O.minPatternNodeLabelInDegree,j=O.minPatternNodeLabelOutDegree;if(n?k<R||M<L||A<j:k<R){if(s[T[y]]--,s[T[y]]<P[T[y]].length){v=!0;break}i.nodes.splice(_,1),u[T.id]=void 0,E=!0}}if(v||!E&&0!==S)break;for(var B=(g=l.length)-1;B>=0;B--){var F=l[B];if(!u[F.source]||!u[F.target]){l.splice(B,1);var z=F[b];if(c[z]--,u[F.source]&&(u[F.source].degree--,u[F.source].outDegree--),u[F.target]&&(u[F.target].degree--,u[F.target].inDegree--),I[z]&&c[z]<I[z].length){v=!0;break}E=!0}}S++}return v||v||i.nodes.length<t.nodes.length||l.length<t.edges.length?(te.splice(r,1),"continue"):void 0},oe=te.length-1;oe>=0;oe--){if("break"===ie(oe))break}var ae=te.length,se=function(e){var t=te[e],n={};t.edges.forEach((function(e){var t="".concat(e.source,"-").concat(e.target,"-").concat(e.label);n[t]?n[t]++:n[t]=1}));for(var r=function(e){var t=te[e],r={};t.edges.forEach((function(e){var t="".concat(e.source,"-").concat(e.target,"-").concat(e.label);r[t]?r[t]++:r[t]=1}));var i=!0;Object.keys(r).length!==Object.keys(n).length?i=!1:Object.keys(n).forEach((function(e){r[e]!==n[e]&&(i=!1)})),i&&te.splice(e,1)},i=ae-1;i>e;i--)r(i);ae=te.length};for(oe=0;oe<=ae-1;oe++)se(oe);return te}}};t.default=y},2186:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(3469))&&r.__esModule?r:{default:r},o=n(399);var a=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e3);var a=e.nodes,s=void 0===a?[]:a,u=e.edges,l=void 0===u?[]:u,c={},f={};s.forEach((function(e,t){var n=(0,o.uniqueId)();e.clusterId=n,c[n]={id:n,nodes:[e]},f[e.id]={node:e,idx:t}}));var d=(0,i.default)(e,t),h=[],p={};d.forEach((function(e,t){var n=0,r=s[t].id;p[r]={},e.forEach((function(e,t){if(e){n+=e;var i=s[t].id;p[r][i]=e}})),h.push(n)}));for(var g=0,v=function(){var e=!1;if(s.forEach((function(t){var n={};Object.keys(p[t.id]).forEach((function(e){var r=p[t.id][e],i=f[e].node.clusterId;n[i]||(n[i]=0),n[i]+=r}));var r=-1/0,i=[];if(Object.keys(n).forEach((function(e){r<n[e]?(r=n[e],i=[e]):r===n[e]&&i.push(e)})),1!==i.length||i[0]!==t.clusterId){var o=i.indexOf(t.clusterId);if(o>=0&&i.splice(o,1),i&&i.length){e=!0;var a=c[t.clusterId],s=a.nodes.indexOf(t);a.nodes.splice(s,1);var u=Math.floor(Math.random()*i.length),l=c[i[u]];l.nodes.push(t),t.clusterId=l.id}}})),!e)return"break";g++};g<r;){if("break"===v())break}Object.keys(c).forEach((function(e){var t=c[e];t.nodes&&t.nodes.length||delete c[e]}));var m=[],y={};l.forEach((function(e){var t=e.source,r=e.target,i=e[n]||1,o=f[t].node.clusterId,a=f[r].node.clusterId,s="".concat(o,"---").concat(a);if(y[s])y[s].weight+=i,y[s].count++;else{var u={source:o,target:a,weight:i,count:1};y[s]=u,m.push(u)}}));var b=[];return Object.keys(c).forEach((function(e){b.push(c[e])})),{clusters:b,clusterEdges:m}};t.default=a},6977:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(8092),i=u(n(3469)),o=u(n(2210)),a=n(8831),s=n(3708);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t,n,r){for(var i=t.length,o=2*r,a=0,s=0;s<i;s++)for(var u=e[s].clusterId,l=0;l<i;l++){if(u===e[l].clusterId)a+=(t[s][l]||0)-(n[s]||0)*(n[l]||0)/o}return a*=1/o},c=function(e,t){void 0===e&&(e=[]);for(var n=e.length,r=new o.default([]),i=0;i<n;i++)r=r.add(new o.default(t[i]));var a=r.avg(n);a.normalize();var s=0;for(i=0;i<n;i++){s+=(l=new o.default(t[i])).squareEuclideanDistance(a)}var u=[];e.forEach((function(){u.push([])}));for(i=0;i<n;i++){var l=new o.default(t[i]);e[i].clusterInertial=0;for(var c=0;c<n;c++)if(i!==c){var f=new o.default(t[c]);u[i][c]=l.squareEuclideanDistance(f),e[i].clusterInertial+=u[i][c]}else u[i][c]=0}var d=0,h=2*n*s;for(i=0;i<n;i++){var p=e[i].clusterId;for(c=0;c<n;c++){var g=e[c].clusterId;if(i!==c&&p===g)d+=e[i].clusterInertial*e[c].clusterInertial/Math.pow(h,2)-u[i][c]/h}}return Number(d.toFixed(4))},f=function(e,t,n,o,u,f,d,h,p){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===o&&(o=1e-4),void 0===u&&(u=!1),void 0===f&&(f=void 0),void 0===d&&(d=[]),void 0===h&&(h=["id"]),void 0===p&&(p=1);var g=e.nodes,v=void 0===g?[]:g,m=e.edges,y=void 0===m?[]:m,b=[];if(u){v.forEach((function(e,t){e.properties=e.properties||{},e.originIndex=t}));var x=[];v.every((function(e){return e.hasOwnProperty("nodeType")}))&&(x=Array.from(new Set(v.map((function(e){return e.nodeType})))),v.forEach((function(e){e.properties.nodeType=x.findIndex((function(t){return t===e.nodeType}))})));var w=(0,a.getAllProperties)(v,f);b=(0,s.oneHot)(w,d,h)}var E=1,S={},_={};v.forEach((function(e,t){var n=String(E++);e.clusterId=n,S[n]={id:n,nodes:[e]},_[e.id]={node:e,idx:t}}));var T=(0,i.default)(e,t),k=[],C={},M=0;T.forEach((function(e,t){var n=0,r=v[t].id;C[r]={},e.forEach((function(e,t){if(e){n+=e;var i=v[t].id;C[r][i]=e,M+=e}})),k.push(n)})),M/=2;for(var A=1/0,N=1/0,P=0,I=[],D={};;){A=u&&v.every((function(e){return e.hasOwnProperty("properties")}))?l(v,T,k,M)+c(v,b)*p:l(v,T,k,M),0===P&&(N=A,I=v,D=S);var O=A>0&&A>N&&A-N<o;if(A>N&&(I=v.map((function(e){return{node:e,clusterId:e.clusterId}})),D=(0,r.clone)(S),N=A),O||P>100)break;P++,Object.keys(S).forEach((function(e){var t=0;y.forEach((function(r){var i=r.source,o=r.target,a=_[i].node.clusterId,s=_[o].node.clusterId;(a===e&&s!==e||s===e&&a!==e)&&(t+=r[n]||1)})),S[e].sumTot=t})),v.forEach((function(e,t){var r,i=S[e.clusterId],o=0,a=k[t]/(2*M),s=0,l=i.nodes;l.forEach((function(e){var n=_[e.id].idx;s+=T[t][n]||0}));var f=s-i.sumTot*a,d=l.filter((function(t){return t.id!==e.id})),h=[];d.forEach((function(e,t){h[t]=b[e.originIndex]}));var g=c(d,b)*p,v=C[e.id];if(Object.keys(v).forEach((function(n){var i=_[n].node.clusterId;if(i!==e.clusterId){var s=S[i],l=s.nodes;if(l&&l.length){var d=0;l.forEach((function(e){var n=_[e.id].idx;d+=T[t][n]||0}));var h=d-s.sumTot*a,v=l.concat([e]),m=[];v.forEach((function(e,t){m[t]=b[e.originIndex]}));var y=c(v,b)*p,x=h-f;u&&(x=h+y-(f+g)),x>o&&(o=x,r=s)}}})),o>0){r.nodes.push(e);var m=e.clusterId;e.clusterId=r.id;var x=i.nodes.indexOf(e);i.nodes.splice(x,1);var w=0,E=0;y.forEach((function(e){var t=e.source,i=e.target,o=_[t].node.clusterId,a=_[i].node.clusterId;(o===r.id&&a!==r.id||a===r.id&&o!==r.id)&&(w+=e[n]||1),(o===m&&a!==m||a===m&&o!==m)&&(E+=e[n]||1)})),r.sumTot=w,i.sumTot=E}}))}var R={},L=0;Object.keys(D).forEach((function(e){var t=D[e];if(t.nodes&&t.nodes.length){var n=String(L+1);n!==e&&(t.id=n,t.nodes=t.nodes.map((function(e){return{id:e.id,clusterId:n}})),D[n]=t,R[e]=n,delete D[e],L++)}else delete D[e]})),I.forEach((function(e){var t=e.node,n=e.clusterId;t.clusterId=n,t.clusterId&&R[t.clusterId]&&(t.clusterId=R[t.clusterId])}));var j=[],B={};y.forEach((function(e){var t=e.source,r=e.target,i=e[n]||1,o=_[t].node.clusterId,a=_[r].node.clusterId,s="".concat(o,"---").concat(a);if(B[s])B[s].weight+=i,B[s].count++;else{var u={source:o,target:a,weight:i,count:1};B[s]=u,j.push(u)}}));var F=[];return Object.keys(D).forEach((function(e){F.push(D[e])})),{clusters:F,clusterEdges:j}};t.default=f},8433:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(5997)),i=a(n(567)),o=n(399);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t){var n=[],r=e.nodes,a=void 0===r?[]:r,s=e.edges,u=void 0===s?[]:s;if(0===a.length)return n;var l=a[0],c=new Set;c.add(l);var f=new i.default((function(e,n){return t?e.weight-n.weight:0}));for((0,o.getEdgesByNodeId)(l.id,u).forEach((function(e){f.insert(e)}));!f.isEmpty();){var d=f.delMin(),h=d.source,p=d.target;c.has(h)&&c.has(p)||(n.push(d),c.has(h)||(c.add(h),(0,o.getEdgesByNodeId)(h,u).forEach((function(e){f.insert(e)}))),c.has(p)||(c.add(p),(0,o.getEdgesByNodeId)(p,u).forEach((function(e){f.insert(e)}))))}return n},u=function(e,t){var n=[],i=e.nodes,o=void 0===i?[]:i,a=e.edges,s=void 0===a?[]:a;if(0===o.length)return n;var u=s.map((function(e){return e}));t&&u.sort((function(e,t){return e.weight-t.weight}));for(var l=new r.default(o.map((function(e){return e.id})));u.length>0;){var c=u.shift(),f=c.source,d=c.target;l.connected(f,d)||(n.push(c),l.union(f,d))}return n},l=function(e,t,n){return n?{prim:s,kruskal:u}[n](e,t):u(e,t)};t.default=l},3962:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(9020))&&r.__esModule?r:{default:r},o=n(399);var a=function(e,t,n){"number"!==typeof t&&(t=1e-6),"number"!==typeof n&&(n=.85);for(var r,a=1,s=0,u=1e3,l=e.nodes,c=void 0===l?[]:l,f=e.edges,d=void 0===f?[]:f,h=c.length,p={},g={},v=0;v<h;++v){p[y=(S=c[v]).id]=1/h,g[y]=1/h}for(var m=(0,i.default)(e);u>0&&a>t;){s=0;for(v=0;v<h;++v){var y=(S=c[v]).id;if(r=0,0===m[S.id].inDegree)p[y]=0;else{for(var b=(0,o.getNeighbors)(y,d,"source"),x=0;x<b.length;++x){var w=b[x],E=m[w].outDegree;E>0&&(r+=g[w]/E)}p[y]=n*r,s+=p[y]}}s=(1-s)/h,a=0;for(v=0;v<h;++v){var S;r=p[y=(S=c[v]).id]+s,a+=Math.abs(r-g[y]),g[y]=r}u-=1}return g};t.default=a},567:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){return e-t},r=function(){function e(e){void 0===e&&(e=n),this.compareFn=e,this.list=[]}return e.prototype.getLeft=function(e){return 2*e+1},e.prototype.getRight=function(e){return 2*e+2},e.prototype.getParent=function(e){return 0===e?null:Math.floor((e-1)/2)},e.prototype.isEmpty=function(){return this.list.length<=0},e.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},e.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},e.prototype.insert=function(e){if(null!==e){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},e.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var n=this.list[t];this.list[t]=this.list[e],this.list[e]=n,e=t,t=this.getParent(e)}},e.prototype.moveDown=function(e){var t,n=e,r=this.getLeft(e),i=this.getRight(e),o=this.list.length;null!==r&&r<o&&this.compareFn(this.list[n],this.list[r])>0?n=r:null!==i&&i<o&&this.compareFn(this.list[n],this.list[i])>0&&(n=i),e!==n&&(t=[this.list[n],this.list[e]],this.list[e]=t[0],this.list[n]=t[1],this.moveDown(n))},e}();t.default=r},4182:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LinkedListNode=void 0;var n=function(e,t){return e===t},r=function(){function e(e,t){void 0===t&&(t=null),this.value=e,this.next=t}return e.prototype.toString=function(e){return e?e(this.value):"".concat(this.value)},e}();t.LinkedListNode=r;var i=function(){function e(e){void 0===e&&(e=n),this.head=null,this.tail=null,this.compare=e}return e.prototype.prepend=function(e){var t=new r(e,this.head);return this.head=t,this.tail||(this.tail=t),this},e.prototype.append=function(e){var t=new r(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},e.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,e)?(t=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,e)&&(this.tail=n),t},e.prototype.find=function(e){var t=e.value,n=void 0===t?void 0:t,r=e.callback,i=void 0===r?void 0:r;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value))return o;if(void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null},e.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},e.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},e.prototype.fromArray=function(e){var t=this;return e.forEach((function(e){return t.append(e)})),this},e.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},e.prototype.reverse=function(){for(var e=this.head,t=null,n=null;e;)n=e.next,e.next=t,t=e,e=n;this.tail=this.head,this.head=t},e.prototype.toString=function(e){return void 0===e&&(e=void 0),this.toArray().map((function(t){return t.toString(e)})).toString()},e}();t.default=i},9748:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(4182))&&r.__esModule?r:{default:r};var o=function(){function e(){this.linkedList=new i.default}return e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},e.prototype.enqueue=function(e){this.linkedList.append(e)},e.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},e.prototype.toString=function(e){return this.linkedList.toString(e)},e}();t.default=o},5997:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){function e(e){this.count=e.length,this.parent={};for(var t=0,n=e;t<n.length;t++){var r=n[t];this.parent[r]=r}}return e.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},e.prototype.union=function(e,t){var n=this.find(e),r=this.find(t);n!==r&&(n<r?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},e.prototype.connected=function(e,t){return this.find(e)===this.find(t)},e}();t.default=n},1391:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DistanceType=void 0,t.DistanceType=n,function(e){e.EuclideanDistance="euclideanDistance"}(n||(t.DistanceType=n={}))},399:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueId=t.getOutEdgesNodeId=t.getNeighbors=t.getEdgesByNodeId=void 0;t.getNeighbors=function(e,t,n){void 0===t&&(t=[]);var r=t.filter((function(t){return t.source===e||t.target===e}));if("target"===n){return r.filter((function(t){return t.source===e})).map((function(e){return e.target}))}if("source"===n){return r.filter((function(t){return t.target===e})).map((function(e){return e.source}))}return r.map((function(t){return t.source===e?t.target:t.source}))};t.getOutEdgesNodeId=function(e,t){return t.filter((function(t){return t.source===e}))};t.getEdgesByNodeId=function(e,t){return t.filter((function(t){return t.source===e||t.target===e}))};t.uniqueId=function(e){void 0===e&&(e=0);var t="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(e,"-").concat(t).concat(n)}},3708:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oneHot=t.getDistance=t.getAllKeyValueMap=t.default=void 0;var r,i=n(8092),o=n(1391),a=(r=n(2210))&&r.__esModule?r:{default:r};var s=function(e,t,n){var r=[];(null===t||void 0===t?void 0:t.length)?r=t:(e.forEach((function(e){r=r.concat(Object.keys(e))})),r=(0,i.uniq)(r));var o={};return r.forEach((function(t){var r=[];e.forEach((function(e){void 0!==e[t]&&""!==e[t]&&r.push(e[t])})),r.length&&!(null===n||void 0===n?void 0:n.includes(t))&&(o[t]=(0,i.uniq)(r))})),o};t.getAllKeyValueMap=s;var u=function(e,t,n){var r=s(e,t,n),i=[];return Object.keys(r).length?(e.forEach((function(e,t){var n=[];if(1===Object.keys(r).length){var o=Object.keys(r)[0];r[o].every((function(e){return!isNaN(Number(e))}))&&(n=[e[o]])}else Object.keys(r).forEach((function(t){for(var i=e[t],o=r[t],a=o.findIndex((function(e){return i===e})),s=[],u=0;u<o.length;u++)u===a?s.push(1):s.push(0);n=n.concat(s)}));i[t]=n})),i):i};t.oneHot=u;var l=function(e,t,n,r){void 0===n&&(n=o.DistanceType.EuclideanDistance);var i=0;if(n===o.DistanceType.EuclideanDistance)i=new a.default(e).euclideanDistance(new a.default(t));return i};t.getDistance=l;var c={getAllKeyValueMap:s,oneHot:u,getDistance:l};t.default=c},8831:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPropertyWeight=t.getAllSortProperties=t.getAllProperties=t.default=void 0;var r=n(834),i=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=100);var n={};e.forEach((function(e){e.properties&&Object.keys(e.properties).forEach((function(t){"id"===t||!"".concat(e.properties[t]).match(r.secondReg)&&!"".concat(e.properties[t]).match(r.dateReg)&&isNaN(Number(e.properties[t]))?n.hasOwnProperty(t)&&delete n[t]:n.hasOwnProperty(t)?n[t]+=1:n[t]=1}))}));var i=Object.keys(n).sort((function(e,t){return n[t]-n[e]}));return i.length<t?i:i.slice(0,t)};t.getAllSortProperties=i;var o=function(e,t){return t.map((function(t){if(e.hasOwnProperty(t)){if(!isNaN(Number(e[t])))return Number(e[t]);if(e[t].match(r.secondReg)||e[t].match(r.dateReg))return Number(Date.parse(new Date(e[t])))/1e3}return 0}))},a=function(e){for(var t=i(e),n=[],r=0;r<e.length;r++)n[r]=o(e[r].properties,t);return n};t.getPropertyWeight=a;var s=function(e,t){void 0===t&&(t=void 0);var n=[];return e.forEach((function(e){void 0===t&&n.push(e),void 0!==e[t]&&n.push(e[t])})),n};t.getAllProperties=s;var u={getAllSortProperties:i,getPropertyWeight:a,getAllProperties:s};t.default=u},2210:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(8092),i=function(){function e(e){this.arr=e}return e.prototype.getArr=function(){return this.arr||[]},e.prototype.add=function(t){var n,r=t.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new e(r);if(!(null===r||void 0===r?void 0:r.length))return new e(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]+r[o];return new e(i)}},e.prototype.subtract=function(t){var n,r=t.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new e(r);if(!(null===r||void 0===r?void 0:r.length))return new e(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]-r[o];return new e(i)}},e.prototype.avg=function(t){var n=[];if(0!==t)for(var r in this.arr)n[r]=this.arr[r]/t;return new e(n)},e.prototype.negate=function(){var t=[];for(var n in this.arr)t[n]=-this.arr[n];return new e(t)},e.prototype.squareEuclideanDistance=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-e.arr[i],2);return r}},e.prototype.euclideanDistance=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-e.arr[i],2);return Math.sqrt(r)}console.error("The two vectors are unequal in length.")},e.prototype.normalize=function(){var t=[],n=(0,r.clone)(this.arr);n.sort((function(e,t){return e-t}));var i=n[n.length-1],o=n[0];for(var a in this.arr)t[a]=(this.arr[a]-o)/(i-o);return new e(t)},e.prototype.norm2=function(){var e;if(!(null===(e=this.arr)||void 0===e?void 0:e.length))return 0;var t=0;for(var n in this.arr)t+=Math.pow(this.arr[n],2);return Math.sqrt(t)},e.prototype.dot=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=this.arr[i]*e.arr[i];return r}console.error("The two vectors are unequal in length.")},e.prototype.equal=function(e){var t,n=e.arr;if((null===(t=this.arr)||void 0===t?void 0:t.length)!==(null===n||void 0===n?void 0:n.length))return!1;for(var r in this.arr)if(this.arr[r]!==n[r])return!1;return!0},e}();t.default=i},3658:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GADDI",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"breadthFirstSearch",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"connectedComponent",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"depthFirstSearch",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"detectCycle",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"dijkstra",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"findAllPath",{enumerable:!0,get:function(){return f.findAllPath}}),Object.defineProperty(t,"findShortestPath",{enumerable:!0,get:function(){return f.findShortestPath}}),Object.defineProperty(t,"floydWarshall",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"getAdjMatrix",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"getDegree",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"getInDegree",{enumerable:!0,get:function(){return s.getInDegree}}),Object.defineProperty(t,"getNeighbors",{enumerable:!0,get:function(){return y.getNeighbors}}),Object.defineProperty(t,"getOutDegree",{enumerable:!0,get:function(){return s.getOutDegree}}),Object.defineProperty(t,"labelPropagation",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"louvain",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"minimumSpanningTree",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"pageRank",{enumerable:!0,get:function(){return v.default}});var i=x(n(3469)),o=x(n(6299)),a=x(n(3265)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(9020)),u=x(n(1354)),l=x(n(5068)),c=x(n(5581)),f=n(6384),d=x(n(9345)),h=x(n(2186)),p=x(n(6977)),g=x(n(8433)),v=x(n(3962)),m=x(n(5472)),y=n(399);function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function x(e){return e&&e.__esModule?e:{default:e}}},3857:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MESSAGE=t.ALGORITHM=void 0;t.ALGORITHM={pageRank:"pageRank",breadthFirstSearch:"breadthFirstSearch",connectedComponent:"connectedComponent",depthFirstSearch:"depthFirstSearch",detectCycle:"detectCycle",detectDirectedCycle:"detectDirectedCycle",detectAllCycles:"detectAllCycles",detectAllDirectedCycle:"detectAllDirectedCycle",detectAllUndirectedCycle:"detectAllUndirectedCycle",dijkstra:"dijkstra",findAllPath:"findAllPath",findShortestPath:"findShortestPath",floydWarshall:"floydWarshall",getAdjMatrix:"getAdjMatrix",getDegree:"getDegree",getInDegree:"getInDegree",getNeighbors:"getNeighbors",getOutDegree:"getOutDegree",labelPropagation:"labelPropagation",louvain:"louvain",GADDI:"GADDI",minimumSpanningTree:"minimumSpanningTree",SUCCESS:"SUCCESS",FAILURE:"FAILURE"};t.MESSAGE={SUCCESS:"SUCCESS",FAILURE:"FAILURE"}},2130:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(3857),o=(r=n(4524))&&r.__esModule?r:{default:r};var a=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new Promise((function(n,r){var a=new o.default;a.postMessage({_algorithmType:e,data:t}),a.onmessage=function(e){var t=e.data,o=t.data,s=t._algorithmType;i.MESSAGE.SUCCESS===s?n(o):r(),a.terminate()}}))}};t.default=a},7249:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pageRankAsync=t.minimumSpanningTreeAsync=t.louvainAsync=t.labelPropagationAsync=t.getOutDegreeAsync=t.getNeighborsAsync=t.getInDegreeAsync=t.getDegreeAsync=t.getAdjMatrixAsync=t.floydWarshallAsync=t.findShortestPathAsync=t.findAllPathAsync=t.dijkstraAsync=t.detectCycleAsync=t.detectAllUndirectedCycleAsync=t.detectAllDirectedCycleAsync=t.detectAllCyclesAsync=t.connectedComponentAsync=t.GADDIAsync=void 0;var r,i=(r=n(2130))&&r.__esModule?r:{default:r},o=n(3857);t.getAdjMatrixAsync=function(e,t){return(0,i.default)(o.ALGORITHM.getAdjMatrix).apply(void 0,[e,t])};t.connectedComponentAsync=function(e,t){return(0,i.default)(o.ALGORITHM.connectedComponent).apply(void 0,[e,t])};t.getDegreeAsync=function(e){return(0,i.default)(o.ALGORITHM.getDegree)(e)};t.getInDegreeAsync=function(e,t){return(0,i.default)(o.ALGORITHM.getInDegree)(e,t)};t.getOutDegreeAsync=function(e,t){return(0,i.default)(o.ALGORITHM.getOutDegree)(e,t)};t.detectCycleAsync=function(e){return(0,i.default)(o.ALGORITHM.detectCycle)(e)};t.detectAllCyclesAsync=function(e){return(0,i.default)(o.ALGORITHM.detectAllCycles)(e)};t.detectAllDirectedCycleAsync=function(e){return(0,i.default)(o.ALGORITHM.detectAllDirectedCycle)(e)};t.detectAllUndirectedCycleAsync=function(e){return(0,i.default)(o.ALGORITHM.detectAllUndirectedCycle)(e)};t.dijkstraAsync=function(e,t,n,r){return(0,i.default)(o.ALGORITHM.dijkstra).apply(void 0,[e,t,n,r])};t.findAllPathAsync=function(e,t,n,r){return(0,i.default)(o.ALGORITHM.findAllPath).apply(void 0,[e,t,n,r])};t.findShortestPathAsync=function(e,t,n,r,a){return(0,i.default)(o.ALGORITHM.findShortestPath).apply(void 0,[e,t,n,r,a])};t.floydWarshallAsync=function(e,t){return(0,i.default)(o.ALGORITHM.floydWarshall).apply(void 0,[e,t])};t.labelPropagationAsync=function(e,t,n,r){return void 0===r&&(r=1e3),(0,i.default)(o.ALGORITHM.labelPropagation)(e,t,n,r)};t.louvainAsync=function(e,t,n,r){return(0,i.default)(o.ALGORITHM.louvain)(e,t,n,r)};t.minimumSpanningTreeAsync=function(e,t,n){return(0,i.default)(o.ALGORITHM.minimumSpanningTree).apply(void 0,[e,t,n])};t.pageRankAsync=function(e,t,n){return(0,i.default)(o.ALGORITHM.pageRank).apply(void 0,[e,t,n])};t.getNeighborsAsync=function(e,t,n){return(0,i.default)(o.ALGORITHM.getNeighbors).apply(void 0,[e,t,n])};t.GADDIAsync=function(e,t,n,r,a,s,u){return void 0===n&&(n=!1),void 0===s&&(s="cluster"),void 0===u&&(u="cluster"),(0,i.default)(o.ALGORITHM.GADDI).apply(void 0,[e,t,n,r,a,s,u])}},4524:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(3658)),o=n(3857);function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var s="undefined"!==typeof self?self:{};s.onmessage=function(e){var t=e.data,n=t._algorithmType,r=t.data;if(n)if("function"!==typeof i[n])s.postMessage({_algorithmType:o.MESSAGE.FAILURE});else{var a=i[n].apply(i,r);s.postMessage({_algorithmType:o.MESSAGE.SUCCESS,data:a})}};t.default=null},3543:function(){},9102:function(){},736:function(){},4566:function(){},8783:function(){},2332:function(){},1326:function(){},1101:function(){},9:function(){},2929:function(){},5760:function(){},678:function(){},2288:function(e,t,n){"use strict";function r(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}n.r(t),n.d(t,{Camera:function(){return Qr},Geometry:function(){return ei},Kernel:function(){return eo},Material:function(){return to},Renderable:function(){return no},World:function(){return Iu}});var i=n(5671),o=n(3144);function a(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n(6121);var s=n(7757),u=n.n(s),l=n(5861),c=1;function f(){return c++}var d=function e(t){(0,i.Z)(this,e)},h=function(){function e(t){(0,i.Z)(this,e),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=t}return(0,o.Z)(e,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(e){return this.lookup[e]>-1}},{key:"create",value:function(e,t){this.lookup[e]=this.components.length;var n=new this.clazz(t||{});return this.components.push(n),this.entities.push(e),n}},{key:"remove",value:function(e){var t=this.lookup[e];t>-1&&t<this.components.length-1&&(this.components[t]=this.components[this.components.length-1],this.entities[t]=this.entities[this.entities.length-1],this.lookup[this.entities[t]]=t),this.components.pop(),this.entities.pop(),delete this.lookup[e]}},{key:"removeKeepSorted",value:function(e){var t=this.lookup[e];if(t>-1){var n=this.entities[t];if(t<this.components.length-1){for(var r=t+1;r<this.components.length;++r)this.components[r-1]=this.components[r];for(var i=t+1;i<this.entities.length;++i)this.entities[i-1]=this.entities[i],this.lookup[this.entities[i-1]]=i-1}this.components.pop(),this.entities.pop(),delete this.lookup[n]}}},{key:"moveItem",value:function(e,t){if(e!==t){for(var n=this.components[e],r=this.entities[e],i=e<t?1:-1,o=e;o!==t;o+=i){var a=o+i;this.components[o]=this.components[a],this.entities[o]=this.entities[a],this.lookup[this.entities[o]]=o}this.components[t]=n,this.entities[t]=r,this.lookup[r]=t}}},{key:"getEntity",value:function(e){return this.entities[e]}},{key:"getComponent",value:function(e){return this.components[e]}},{key:"getComponentByEntity",value:function(e){var t=this.lookup[e];return t>-1?this.components[t]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(e){for(var t=0,n=Object.keys(this.lookup);t<n.length;t++){var r=n[t],i=Number(r);if(this.lookup[i]===e)return i}return-1}},{key:"find",value:function(e){for(var t=0;t<this.getCount();t++){var n=this.getComponent(t);if(e(n,t))return n}return null}},{key:"findIndex",value:function(e){for(var t=0;t<this.getCount();t++){if(e(this.getComponent(t),t))return t}return-1}},{key:"forEach",value:function(e){for(var t=0,n=Object.keys(this.lookup);t<n.length;t++){var r=n[t],i=Number(r),o=this.lookup[i];e(i,this.getComponent(o))}}},{key:"forEachAsync",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n,r,i,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,r=Object.keys(this.lookup);case 1:if(!(n<r.length)){e.next=10;break}return i=r[n],o=Number(i),a=this.lookup[o],e.next=7,t(o,this.getComponent(a));case 7:n++,e.next=1;break;case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"map",value:function(e){for(var t=[],n=0,r=Object.keys(this.lookup);n<r.length;n++){var i=r[n],o=Number(i),a=this.lookup[o];t.push(e(o,this.getComponent(a)))}return t}}]),e}(),p=n(9439),g=n(6543),v={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),Geometry:Symbol("Geometry"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),Material:Symbol("Material"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")},m=function e(){(0,i.Z)(this,e),this.index=void 0},y=function e(){(0,i.Z)(this,e),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0},b=function(){function e(){(0,i.Z)(this,e),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}return(0,o.Z)(e,[{key:"read",value:function(e){return this.reads.find((function(t){return t.index===e.index}))||this.reads.push(e),e}},{key:"sample",value:function(e){return this.read(e),e}},{key:"write",value:function(e,t){if(this.writes.find((function(e){return e.index===t.index})))return t;var n=e.getResourceNode(t);n.resource.version++,n.resource.imported&&(this.hasSideEffect=!0);var r=e.createResourceNode(n.resource);return e.getResourceNode(r).writer=this,this.writes.push(r),r}}]),e}(),x=n(9340),w=n(2963),E=n(1120);function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var _,T,k,C,M,A,N=function(e){(0,x.Z)(n,e);var t=S(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).version=0,e.refs=0,e.name=void 0,e.imported=void 0,e.priority=void 0,e.discardStart=!0,e.discardEnd=!1,e.descriptor=void 0,e.resource=void 0,e}return(0,o.Z)(n,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){this.imported}}]),n}((function e(){(0,i.Z)(this,e),this.first=void 0,this.last=void 0})),P=function e(){(0,i.Z)(this,e),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0};function I(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=(_=(0,g.b2)(),T=(0,g.f3)(v.RenderEngine),_((A=function(){function e(){(0,i.Z)(this,e),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],r(this,"engine",M,this)}return(0,o.Z)(e,[{key:"execute",value:function(){var e=(0,l.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.compile(),e.next=3,this.executePassNodes(t);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.frameGraphPasses.forEach((function(e){e.tearDown&&e.tearDown()})),this.reset()}},{key:"addPass",value:function(e,t,n,r){var i=new y;i.execute=n,r&&(i.tearDown=r),i.name=e;var o=new b;return o.name=e,this.passNodes.push(o),this.frameGraphPasses.push(i),t(this,o,i),i}},{key:"getPass",value:function(e){return this.frameGraphPasses.find((function(t){return t.name===e}))}},{key:"compile",value:function(){var e,t=this,n=I(this.passNodes);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.refCount=r.writes.length+(r.hasSideEffect?1:0),r.reads.forEach((function(e){t.resourceNodes[e.index].readerCount++}))}}catch(P){n.e(P)}finally{n.f()}var i,o=[],a=I(this.resourceNodes);try{for(a.s();!(i=a.n()).done;){var s=i.value;0===s.readerCount&&o.push(s)}}catch(P){a.e(P)}finally{a.f()}for(;o.length;){var u=o.pop(),l=u&&u.writer;if(l&&0===--l.refCount){var c,f=I(l.reads);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=this.resourceNodes[d.index];0===--h.readerCount&&o.push(h)}}catch(P){f.e(P)}finally{f.f()}}}this.resourceNodes.forEach((function(e){e.resource.refs+=e.readerCount}));var p,g=I(this.passNodes);try{for(g.s();!(p=g.n()).done;){var v=p.value;if(v.refCount){var m,y=I(v.reads);try{for(y.s();!(m=y.n()).done;){var b=m.value,x=this.resourceNodes[b.index].resource;x.first=x.first?x.first:v,x.last=v}}catch(P){y.e(P)}finally{y.f()}var w,E=I(v.writes);try{for(E.s();!(w=E.n()).done;){var S=w.value,_=this.resourceNodes[S.index].resource;_.first=_.first?_.first:v,_.last=v}}catch(P){E.e(P)}finally{E.f()}}}}catch(P){g.e(P)}finally{g.f()}for(var T=0;T<2;T++){var k,C=I(this.resourceNodes);try{for(C.s();!(k=C.n()).done;){var M=k.value.resource;if(M.priority===T&&M.refs){var A=M.first,N=M.last;A&&N&&(A.devirtualize.push(M),N.destroy.push(M))}}}catch(P){C.e(P)}finally{C.f()}}}},{key:"executePassNodes",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n,r,i,o,a,s,l,c,f,d,h,g,v;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=I(this.passNodes.entries()),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=18;break}if(i=(0,p.Z)(r.value,2),o=i[0],!(a=i[1]).refCount){e.next=16;break}s=I(a.devirtualize);try{for(s.s();!(l=s.n()).done;)l.value.preExecuteDevirtualize(this.engine)}catch(u){s.e(u)}finally{s.f()}c=I(a.destroy);try{for(c.s();!(f=c.n()).done;)f.value.preExecuteDestroy(this.engine)}catch(u){c.e(u)}finally{c.f()}return e.next=12,this.frameGraphPasses[o].execute(this,this.frameGraphPasses[o],t);case 12:d=I(a.devirtualize);try{for(d.s();!(h=d.n()).done;)h.value.postExecuteDevirtualize(this.engine)}catch(u){d.e(u)}finally{d.f()}g=I(a.destroy);try{for(g.s();!(v=g.n()).done;)v.value.postExecuteDestroy(this.engine)}catch(u){g.e(u)}finally{g.f()}case 16:e.next=3;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),n.e(e.t0);case 23:return e.prev=23,n.f(),e.finish(23);case 26:this.reset();case 27:case"end":return e.stop()}}),e,this,[[1,20,23,26]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(e){return this.resourceNodes[e.index]}},{key:"createResourceNode",value:function(e){var t=new P;t.resource=e,t.version=e.version,this.resourceNodes.push(t);var n=new m;return n.index=this.resourceNodes.length-1,n}},{key:"createTexture",value:function(e,t,n){var r=new N;return r.name=t,r.descriptor=n,this.createResourceNode(r)}},{key:"createRenderTarget",value:function(e,t,n){var r=new N;return r.name=t,r.descriptor=n,this.createResourceNode(r)}},{key:"present",value:function(e){this.addPass("Present",(function(t,n){n.read(e),n.hasSideEffect=!0}),(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))))}}]),e}(),M=a((C=A).prototype,"engine",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=C))||k),R=n(4942),L=n(7326),j=n(907);function B(){var e=new j.WT(4);return j.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function F(e,t,n,r){var i=new j.WT(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function z(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}!function(){var e=B()}();var Y=n(5742),G=n(8679),V=n(1002),U=9007199254740991,W={};W["[object Float32Array]"]=W["[object Float64Array]"]=W["[object Int8Array]"]=W["[object Int16Array]"]=W["[object Int32Array]"]=W["[object Uint8Array]"]=W["[object Uint8ClampedArray]"]=W["[object Uint16Array]"]=W["[object Uint32Array]"]=!0,W["[object Arguments]"]=W["[object Array]"]=W["[object ArrayBuffer]"]=W["[object Boolean]"]=W["[object DataView]"]=W["[object Date]"]=W["[object Error]"]=W["[object Function]"]=W["[object Map]"]=W["[object Number]"]=W["[object Object]"]=W["[object RegExp]"]=W["[object Set]"]=W["[object String]"]=W["[object WeakMap]"]=!1;var Z=Object.prototype.toString;var H=function(e){return function(e){return!!e&&"object"===(0,V.Z)(e)}(e)&&function(e){return"number"===typeof e&&e>-1&&e%1===0&&e<=U}(e.length)&&!!W[Z.call(e)]};function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var J,$,Q,ee,te,ne,re,ie,oe,ae=function(e){(0,x.Z)(n,e);var t=q(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).dirty=!0,r.attributes=[],r.indices=void 0,r.indicesBuffer=void 0,r.vertexCount=0,r.maxInstancedCount=void 0,r.aabb=void 0,r.entity=void 0,Object.assign((0,L.Z)(r),e),r}return(0,o.Z)(n,[{key:"setAttribute",value:function(e,t,n,r){var i=this.attributes.find((function(t){return t.name===e}));return i?(i.data=t,i.dirty=!0):this.attributes.push(K(K({dirty:!0,name:e,data:t},n),{},{bufferGetter:r})),this.dirty=!0,this}},{key:"setIndex",value:function(e){return this.indices=new Uint32Array(e.buffer?e.buffer:e),this.dirty=!0,this}},{key:"applyMatrix",value:function(e){var t=this.attributes.find((function(e){return"position"===e.name})),n=this.attributes.find((function(e){return"normal"===e.name}));if(t&&(t.dirty=!0,t.data&&t.data.length))for(var r=0;r<t.data.length;r+=3){var i=F(t.data[r],t.data[r+1],t.data[r+2],1);z(i,i,e),H(t.data)?t.data.set([i[0],i[1],i[2]],r):(t.data[r]=i[0],t.data[r+1]=i[1],t.data[r+2]=i[2])}if(n){var o=Y.normalFromMat4(Y.create(),e);if(n.data&&n.data.length)for(var a=0;a<n.data.length;a+=3){var s=G.al(n.data[a],n.data[a+1],n.data[a+2]);G.kK(s,s,o),G.Fv(s,s),H(n.data)?n.data.set([s[0],s[1],s[2]],a):(n.data[a]=s[0],n.data[a+1]=s[1],n.data[a+2]=s[2])}}}}]),n}(d);!function(e){e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.FUNC_ADD=32774]="FUNC_ADD",e[e.BLEND_EQUATION=32777]="BLEND_EQUATION",e[e.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",e[e.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",e[e.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",e[e.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",e[e.MAX_EXT=32776]="MAX_EXT",e[e.MIN_EXT=32775]="MIN_EXT",e[e.BLEND_DST_RGB=32968]="BLEND_DST_RGB",e[e.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",e[e.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",e[e.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e.BLEND_COLOR=32773]="BLEND_COLOR",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",e[e.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.BUFFER_SIZE=34660]="BUFFER_SIZE",e[e.BUFFER_USAGE=34661]="BUFFER_USAGE",e[e.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK",e[e.CULL_FACE=2884]="CULL_FACE",e[e.BLEND=3042]="BLEND",e[e.DITHER=3024]="DITHER",e[e.STENCIL_TEST=2960]="STENCIL_TEST",e[e.DEPTH_TEST=2929]="DEPTH_TEST",e[e.SCISSOR_TEST=3089]="SCISSOR_TEST",e[e.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",e[e.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",e[e.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",e[e.NO_ERROR=0]="NO_ERROR",e[e.INVALID_ENUM=1280]="INVALID_ENUM",e[e.INVALID_VALUE=1281]="INVALID_VALUE",e[e.INVALID_OPERATION=1282]="INVALID_OPERATION",e[e.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",e[e.CW=2304]="CW",e[e.CCW=2305]="CCW",e[e.LINE_WIDTH=2849]="LINE_WIDTH",e[e.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",e[e.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",e[e.CULL_FACE_MODE=2885]="CULL_FACE_MODE",e[e.FRONT_FACE=2886]="FRONT_FACE",e[e.DEPTH_RANGE=2928]="DEPTH_RANGE",e[e.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",e[e.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",e[e.DEPTH_FUNC=2932]="DEPTH_FUNC",e[e.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",e[e.STENCIL_FUNC=2962]="STENCIL_FUNC",e[e.STENCIL_FAIL=2964]="STENCIL_FAIL",e[e.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",e[e.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",e[e.STENCIL_REF=2967]="STENCIL_REF",e[e.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",e[e.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",e[e.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",e[e.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",e[e.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",e[e.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",e[e.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",e[e.VIEWPORT=2978]="VIEWPORT",e[e.SCISSOR_BOX=3088]="SCISSOR_BOX",e[e.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",e[e.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",e[e.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",e[e.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",e[e.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",e[e.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",e[e.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",e[e.RED_BITS=3410]="RED_BITS",e[e.GREEN_BITS=3411]="GREEN_BITS",e[e.BLUE_BITS=3412]="BLUE_BITS",e[e.ALPHA_BITS=3413]="ALPHA_BITS",e[e.DEPTH_BITS=3414]="DEPTH_BITS",e[e.STENCIL_BITS=3415]="STENCIL_BITS",e[e.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",e[e.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",e[e.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",e[e.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",e[e.SAMPLES=32937]="SAMPLES",e[e.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",e[e.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",e[e.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",e[e.DONT_CARE=4352]="DONT_CARE",e[e.FASTEST=4353]="FASTEST",e[e.NICEST=4354]="NICEST",e[e.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER",e[e.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",e[e.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",e[e.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",e[e.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",e[e.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",e[e.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",e[e.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",e[e.SHADER_TYPE=35663]="SHADER_TYPE",e[e.DELETE_STATUS=35712]="DELETE_STATUS",e[e.LINK_STATUS=35714]="LINK_STATUS",e[e.VALIDATE_STATUS=35715]="VALIDATE_STATUS",e[e.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",e[e.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",e[e.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",e[e.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",e[e.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP",e[e.VENDOR=7936]="VENDOR",e[e.RENDERER=7937]="RENDERER",e[e.VERSION=7938]="VERSION",e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",e[e.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",e[e.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",e[e.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",e[e.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE=5890]="TEXTURE",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",e[e.TEXTURE0=33984]="TEXTURE0",e[e.TEXTURE1=33985]="TEXTURE1",e[e.TEXTURE2=33986]="TEXTURE2",e[e.TEXTURE3=33987]="TEXTURE3",e[e.TEXTURE4=33988]="TEXTURE4",e[e.TEXTURE5=33989]="TEXTURE5",e[e.TEXTURE6=33990]="TEXTURE6",e[e.TEXTURE7=33991]="TEXTURE7",e[e.TEXTURE8=33992]="TEXTURE8",e[e.TEXTURE9=33993]="TEXTURE9",e[e.TEXTURE10=33994]="TEXTURE10",e[e.TEXTURE11=33995]="TEXTURE11",e[e.TEXTURE12=33996]="TEXTURE12",e[e.TEXTURE13=33997]="TEXTURE13",e[e.TEXTURE14=33998]="TEXTURE14",e[e.TEXTURE15=33999]="TEXTURE15",e[e.TEXTURE16=34e3]="TEXTURE16",e[e.TEXTURE17=34001]="TEXTURE17",e[e.TEXTURE18=34002]="TEXTURE18",e[e.TEXTURE19=34003]="TEXTURE19",e[e.TEXTURE20=34004]="TEXTURE20",e[e.TEXTURE21=34005]="TEXTURE21",e[e.TEXTURE22=34006]="TEXTURE22",e[e.TEXTURE23=34007]="TEXTURE23",e[e.TEXTURE24=34008]="TEXTURE24",e[e.TEXTURE25=34009]="TEXTURE25",e[e.TEXTURE26=34010]="TEXTURE26",e[e.TEXTURE27=34011]="TEXTURE27",e[e.TEXTURE28=34012]="TEXTURE28",e[e.TEXTURE29=34013]="TEXTURE29",e[e.TEXTURE30=34014]="TEXTURE30",e[e.TEXTURE31=34015]="TEXTURE31",e[e.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",e[e.REPEAT=10497]="REPEAT",e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",e[e.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",e[e.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",e[e.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",e[e.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",e[e.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",e[e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",e[e.COMPILE_STATUS=35713]="COMPILE_STATUS",e[e.LOW_FLOAT=36336]="LOW_FLOAT",e[e.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",e[e.HIGH_FLOAT=36338]="HIGH_FLOAT",e[e.LOW_INT=36339]="LOW_INT",e[e.MEDIUM_INT=36340]="MEDIUM_INT",e[e.HIGH_INT=36341]="HIGH_INT",e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.RENDERBUFFER=36161]="RENDERBUFFER",e[e.RGBA4=32854]="RGBA4",e[e.RGB5_A1=32855]="RGB5_A1",e[e.RGB565=36194]="RGB565",e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX=6401]="STENCIL_INDEX",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",e[e.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",e[e.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",e[e.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",e[e.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",e[e.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",e[e.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",e[e.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",e[e.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",e[e.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",e[e.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",e[e.NONE=0]="NONE",e[e.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",e[e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",e[e.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",e[e.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",e[e.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",e[e.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",e[e.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",e[e.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",e[e.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",e[e.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",e[e.COPY_SRC=1]="COPY_SRC",e[e.COPY_DST=2]="COPY_DST",e[e.SAMPLED=4]="SAMPLED",e[e.STORAGE=8]="STORAGE",e[e.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"}(J||(J={}));var se=($=(0,g.b2)(),Q=(0,g.f3)(v.GeometryComponentManager),ee=(0,g.f3)(v.RenderEngine),$((oe=function(){function e(){(0,i.Z)(this,e),r(this,"geometry",re,this),r(this,"engine",ie,this)}return(0,o.Z)(e,[{key:"execute",value:function(){var e=(0,l.Z)(u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.geometry.forEach((function(e,n){n.dirty&&(n.attributes.forEach((function(e){if(e.dirty&&e.data){var n;if(e.buffer)null===(n=e.buffer)||void 0===n||n.subData({data:e.data,offset:0});else e.buffer=t.engine.createBuffer({data:e.data,type:J.FLOAT});e.dirty=!1}})),n.indices&&(n.indicesBuffer?n.indicesBuffer.subData({data:n.indices,offset:0}):n.indicesBuffer=t.engine.createElements({data:n.indices,count:n.indices.length,type:J.UNSIGNED_INT,usage:J.STATIC_DRAW})),n.dirty=!1)}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.geometry.forEach((function(e,t){t.indicesBuffer&&t.indicesBuffer.destroy(),t.attributes.forEach((function(e){e.buffer&&e.buffer.destroy()}))})),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{vertexCount:3},t=e.vertexCount,n=f();return this.geometry.create(n,{vertexCount:t})}},{key:"createInstancedBufferGeometry",value:function(e){var t=e.maxInstancedCount,n=e.vertexCount,r=f();return this.geometry.create(r,{maxInstancedCount:t,vertexCount:n})}}]),e}(),re=a((ne=oe).prototype,"geometry",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=a(ne.prototype,"engine",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=ne))||te);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var fe,de,he,pe,ge,ve,me,ye,be,xe,we=function(e){(0,x.Z)(n,e);var t=ce(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).vertexShaderGLSL=void 0,r.fragmentShaderGLSL=void 0,r.defines={},r.dirty=!0,r.uniforms=[],r.cull={enable:!0,face:J.BACK},r.depth={enable:!0},r.blend=void 0,r.entity=void 0,r.type=void 0,Object.assign((0,L.Z)(r),e),r}return(0,o.Z)(n,[{key:"setDefines",value:function(e){return this.defines=le(le({},this.defines),e),this}},{key:"setCull",value:function(e){return this.cull=e,this}},{key:"setDepth",value:function(e){return this.depth=e,this}},{key:"setBlend",value:function(e){return this.blend=e,this}},{key:"setUniform",value:function(e,t){var n=this;if("string"!==typeof e)return Object.keys(e).forEach((function(t){return n.setUniform(t,e[t])})),this;var r=this.uniforms.find((function(t){return t.name===e}));return r?(r.dirty=!0,r.data=t):this.uniforms.push({name:e,dirty:!0,data:t}),this.dirty=!0,this}}]),n}(d);function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e,Te=(fe=(0,g.b2)(),de=(0,g.f3)(v.MaterialComponentManager),he=(0,g.f3)(v.RenderEngine),pe=(0,g.f3)(v.ShaderModuleService),fe((xe=function(){function e(){(0,i.Z)(this,e),r(this,"material",me,this),r(this,"engine",ye,this),r(this,"shaderModule",be,this)}return(0,o.Z)(e,[{key:"execute",value:function(){var e=(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.material.clear()}},{key:"createShaderMaterial",value:function(e){var t=f(),n=e.vertexShader,r=e.fragmentShader,i=[];if(!this.engine.supportWebGPU){var o="material-".concat(t);this.shaderModule.registerModule(o,{vs:e.vertexShader,fs:e.fragmentShader});var a=this.shaderModule.getModule(o);n=a.vs,r=a.fs,a.uniforms&&(i=Object.keys(a.uniforms).map((function(e){return{dirty:!0,name:e,data:a.uniforms[e]}})))}return this.material.create(t,Se(Se({vertexShaderGLSL:n,fragmentShaderGLSL:r},e),{},{uniforms:i}))}}]),e}(),me=a((ve=xe).prototype,"material",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=a(ve.prototype,"engine",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=a(ve.prototype,"shaderModule",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=ve))||ge);function ke(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}!function(e){e[e.Standard=0]="Standard"}(_e||(_e={}));var Ce=function(e){(0,x.Z)(n,e);var t=ke(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).strategy=_e.Standard,r.visibilityPlaneMask=0,r.visible=!1,Object.assign((0,L.Z)(r),e),r}return n}(d),Me=function(){function e(t,n){(0,i.Z)(this,e),this.center=void 0,this.halfExtents=void 0,this.min=G.Ue(),this.max=G.Ue(),this.update(t,n)}return(0,o.Z)(e,[{key:"update",value:function(e,t){this.center=e||G.Ue(),this.halfExtents=t||G.al(.5,.5,.5),this.min=G.lu(this.min,this.center,this.halfExtents),this.max=G.IH(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(e,t){G.IH(this.center,t,e),G.bA(this.center,this.center,.5),G.lu(this.halfExtents,t,e),G.bA(this.halfExtents,this.halfExtents,.5),G.JG(this.min,e),G.JG(this.max,t)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(e){var t=this.center,n=t[0],r=t[1],i=t[2],o=this.halfExtents,a=o[0],s=o[1],u=o[2],l=n-a,c=n+a,f=r-s,d=r+s,h=i-u,p=i+u,g=e.center,v=g[0],m=g[1],y=g[2],b=e.halfExtents,x=b[0],w=b[1],E=b[2],S=v-x,_=v+x,T=m-w,k=m+w,C=y-E,M=y+E;S<l&&(l=S),_>c&&(c=_),T<f&&(f=T),k>d&&(d=k),C<h&&(h=C),M>p&&(p=M),t[0]=.5*(l+c),t[1]=.5*(f+d),t[2]=.5*(h+p),o[0]=.5*(c-l),o[1]=.5*(d-f),o[2]=.5*(p-h),this.min[0]=l,this.min[1]=f,this.min[2]=h,this.max[0]=c,this.max[1]=d,this.max[2]=p}},{key:"intersects",value:function(e){var t=this.getMax(),n=this.getMin(),r=e.getMax(),i=e.getMin();return n[0]<=r[0]&&t[0]>=i[0]&&n[1]<=r[1]&&t[1]>=i[1]&&n[2]<=r[2]&&t[2]>=i[2]}},{key:"containsPoint",value:function(e){var t=this.getMin(),n=this.getMax();return!(e[0]<t[0]||e[0]>n[0]||e[1]<t[1]||e[1]>n[1]||e[2]<t[2]||e[2]>n[2])}},{key:"getNegativeFarPoint",value:function(e){return 273===e.pnVertexFlag?G.JG(G.Ue(),this.min):272===e.pnVertexFlag?G.al(this.min[0],this.min[1],this.max[2]):257===e.pnVertexFlag?G.al(this.min[0],this.max[1],this.min[2]):256===e.pnVertexFlag?G.al(this.min[0],this.max[1],this.max[2]):17===e.pnVertexFlag?G.al(this.max[0],this.min[1],this.min[2]):16===e.pnVertexFlag?G.al(this.max[0],this.min[1],this.max[2]):1===e.pnVertexFlag?G.al(this.max[0],this.max[1],this.min[2]):G.al(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(e){return 273===e.pnVertexFlag?G.JG(G.Ue(),this.max):272===e.pnVertexFlag?G.al(this.max[0],this.max[1],this.min[2]):257===e.pnVertexFlag?G.al(this.max[0],this.min[1],this.max[2]):256===e.pnVertexFlag?G.al(this.max[0],this.min[1],this.min[2]):17===e.pnVertexFlag?G.al(this.min[0],this.max[1],this.max[2]):16===e.pnVertexFlag?G.al(this.min[0],this.max[1],this.min[2]):1===e.pnVertexFlag?G.al(this.min[0],this.min[1],this.max[2]):G.al(this.min[0],this.min[1],this.min[2])}}]),e}();function Ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Ne,Pe=function(e){(0,x.Z)(n,e);var t=Ae(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).material=void 0,r.geometry=void 0,r.aabb=new Me,r.aabbDirty=!0,r.model=void 0,r.visible=!0,r.children=[],Object.assign((0,L.Z)(r),e),r}return n}(d),Ie=function(){function e(t,n){(0,i.Z)(this,e),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=t||0,this.normal=n||G.al(0,1,0),this.updatePNVertexFlag()}return(0,o.Z)(e,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(e){return G.AK(e,this.normal)-this.distance}},{key:"normalize",value:function(){var e=1/G.Zh(this.normal);G.bA(this.normal,this.normal,e),this.distance*=e}},{key:"intersectsLine",value:function(e,t,n){var r=this.distanceToPoint(e),i=r/(r-this.distanceToPoint(t)),o=i>=0&&i<=1;return o&&n&&G.t7(n,e,t,i),o}}]),e}();!function(e){e[e.OUTSIDE=4294967295]="OUTSIDE",e[e.INSIDE=0]="INSIDE",e[e.INDETERMINATE=2147483647]="INDETERMINATE"}(Ne||(Ne={}));var De,Oe,Re,Le,je,Be,Fe,ze,Ye,Ge,Ve,Ue,We,Ze,He=function(){function e(t){if((0,i.Z)(this,e),this.planes=[],t)this.planes=t;else for(var n=0;n<6;n++)this.planes.push(new Ie)}return(0,o.Z)(e,[{key:"extractFromVPMatrix",value:function(e){var t=(0,p.Z)(e,16),n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],d=t[10],h=t[11],g=t[12],v=t[13],m=t[14],y=t[15];G.t8(this.planes[0].normal,o-n,l-a,h-c),this.planes[0].distance=-(y-g),G.t8(this.planes[1].normal,o+n,l+a,h+c),this.planes[1].distance=-(y+g),G.t8(this.planes[2].normal,o+r,l+s,h+f),this.planes[2].distance=-(y+v),G.t8(this.planes[3].normal,o-r,l-s,h-f),this.planes[3].distance=-(y-v),G.t8(this.planes[4].normal,o-i,l-u,h-d),this.planes[4].distance=-(y-m),G.t8(this.planes[5].normal,o+i,l+u,h+d),this.planes[5].distance=-(y+m),this.planes.forEach((function(e){e.normalize(),e.updatePNVertexFlag()}))}}]),e}();function Xe(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ke(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qe=(De=(0,g.b2)(),Oe=(0,g.f3)(v.MeshComponentManager),Re=(0,g.f3)(v.CullableComponentManager),Le=(0,g.f3)(v.GeometryComponentManager),je=(0,g.f3)(v.HierarchyComponentManager),Be=(0,g.f3)(v.TransformComponentManager),De((Ze=function(){function e(){(0,i.Z)(this,e),r(this,"mesh",Ye,this),r(this,"cullable",Ge,this),r(this,"geometry",Ve,this),r(this,"hierarchy",Ue,this),r(this,"transform",We,this),this.planes=void 0}return(0,o.Z)(e,[{key:"setFrustumPlanes",value:function(e){this.planes=e}},{key:"execute",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n,r,i,o,a,s,l,c,f,d,h,p,g,v,m,y,b,x,w,E,S;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Xe(t);try{for(n.s();!(r=n.n()).done;){i=r.value,o=i.getScene(),a=i.getCamera(),s=Xe(o.getEntities());try{for(s.s();!(l=s.n()).done;)c=l.value,(f=this.mesh.getComponentByEntity(c))&&(d=this.hierarchy.getComponentByEntity(c),h=this.cullable.getComponentByEntity(c),p=f.geometry,g=this.transform.getComponentByEntity(c),p&&p.aabb&&g&&f.aabbDirty&&(v=g.worldTransform,m=p.aabb,y=m.center,b=m.halfExtents,x=G.fF(G.Ue(),y,v),u=v,(_=Y.create())[0]=u[0],_[1]=u[1],_[2]=u[2],_[3]=u[4],_[4]=u[5],_[5]=u[6],_[6]=u[8],_[7]=u[9],_[8]=u[10],w=_,E=G.kK(G.Ue(),b,w),f.aabb.update(x,E),f.aabbDirty=!1),h&&p&&(S=this.cullable.getComponentByEntity((null===d||void 0===d?void 0:d.parentID)||-1),h.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(f.aabb,(null===S||void 0===S?void 0:S.visibilityPlaneMask)||Ne.INDETERMINATE,this.planes||a.getFrustum().planes),h.visible=h.visibilityPlaneMask!==Ne.OUTSIDE))}catch(T){s.e(T)}finally{s.f()}}}catch(T){n.e(T)}finally{n.f()}case 2:case"end":return e.stop()}var u,_}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(e,t,n){if(t===Ne.OUTSIDE||t===Ne.INSIDE)return t;for(var r=Ne.INSIDE,i=0,o=n.length;i<o;++i){var a=i<31?1<<i:0;if(!(i<31&&0===(t&a))){var s=n[i],u=s.normal,l=s.distance;if(G.AK(u,e.getNegativeFarPoint(n[i]))+l>0)return Ne.OUTSIDE;G.AK(u,e.getPositiveFarPoint(n[i]))+l>0&&(r|=a)}}return r}}]),e}(),Ye=a((ze=Ze).prototype,"mesh",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=a(ze.prototype,"cullable",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=a(ze.prototype,"geometry",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=a(ze.prototype,"hierarchy",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=a(ze.prototype,"transform",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=ze))||Fe);function Je(){var e=new j.WT(16);return j.WT!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function $e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Qe(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function et(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],d=t[10],h=t[11],p=t[12],g=t[13],v=t[14],m=t[15],y=n*s-r*a,b=n*u-i*a,x=n*l-o*a,w=r*u-i*s,E=r*l-o*s,S=i*l-o*u,_=c*g-f*p,T=c*v-d*p,k=c*m-h*p,C=f*v-d*g,M=f*m-h*g,A=d*m-h*v,N=y*A-b*M+x*C+w*k-E*T+S*_;return N?(N=1/N,e[0]=(s*A-u*M+l*C)*N,e[1]=(i*M-r*A-o*C)*N,e[2]=(g*S-v*E+m*w)*N,e[3]=(d*E-f*S-h*w)*N,e[4]=(u*k-a*A-l*T)*N,e[5]=(n*A-i*k+o*T)*N,e[6]=(v*x-p*S-m*b)*N,e[7]=(c*S-d*x+h*b)*N,e[8]=(a*M-s*k+l*_)*N,e[9]=(r*k-n*M-o*_)*N,e[10]=(p*E-g*x+m*y)*N,e[11]=(f*x-c*E-h*y)*N,e[12]=(s*T-a*C-u*_)*N,e[13]=(n*C-r*T+i*_)*N,e[14]=(g*b-p*w-v*y)*N,e[15]=(c*w-f*b+d*y)*N,e):null}function tt(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=t[9],h=t[10],p=t[11],g=t[12],v=t[13],m=t[14],y=t[15],b=n[0],x=n[1],w=n[2],E=n[3];return e[0]=b*r+x*s+w*f+E*g,e[1]=b*i+x*u+w*d+E*v,e[2]=b*o+x*l+w*h+E*m,e[3]=b*a+x*c+w*p+E*y,b=n[4],x=n[5],w=n[6],E=n[7],e[4]=b*r+x*s+w*f+E*g,e[5]=b*i+x*u+w*d+E*v,e[6]=b*o+x*l+w*h+E*m,e[7]=b*a+x*c+w*p+E*y,b=n[8],x=n[9],w=n[10],E=n[11],e[8]=b*r+x*s+w*f+E*g,e[9]=b*i+x*u+w*d+E*v,e[10]=b*o+x*l+w*h+E*m,e[11]=b*a+x*c+w*p+E*y,b=n[12],x=n[13],w=n[14],E=n[15],e[12]=b*r+x*s+w*f+E*g,e[13]=b*i+x*u+w*d+E*v,e[14]=b*o+x*l+w*h+E*m,e[15]=b*a+x*c+w*p+E*y,e}function nt(e,t,n){var r,i,o,a,s,u,l,c,f,d,h,p,g=n[0],v=n[1],m=n[2];return t===e?(e[12]=t[0]*g+t[4]*v+t[8]*m+t[12],e[13]=t[1]*g+t[5]*v+t[9]*m+t[13],e[14]=t[2]*g+t[6]*v+t[10]*m+t[14],e[15]=t[3]*g+t[7]*v+t[11]*m+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=t[9],h=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=f,e[9]=d,e[10]=h,e[11]=p,e[12]=r*g+s*v+f*m+t[12],e[13]=i*g+u*v+d*m+t[13],e[14]=o*g+l*v+h*m+t[14],e[15]=a*g+c*v+p*m+t[15]),e}function rt(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function it(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],a=t[5],s=t[6],u=t[8],l=t[9],c=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,a,s),e[2]=Math.hypot(u,l,c),e}function ot(e,t){var n=new j.WT(3);it(n,t);var r=1/n[0],i=1/n[1],o=1/n[2],a=t[0]*r,s=t[1]*i,u=t[2]*o,l=t[4]*r,c=t[5]*i,f=t[6]*o,d=t[8]*r,h=t[9]*i,p=t[10]*o,g=a+c+p,v=0;return g>0?(v=2*Math.sqrt(g+1),e[3]=.25*v,e[0]=(f-h)/v,e[1]=(d-u)/v,e[2]=(s-l)/v):a>c&&a>p?(v=2*Math.sqrt(1+a-c-p),e[3]=(f-h)/v,e[0]=.25*v,e[1]=(s+l)/v,e[2]=(d+u)/v):c>p?(v=2*Math.sqrt(1+c-a-p),e[3]=(d-u)/v,e[0]=(s+l)/v,e[1]=.25*v,e[2]=(f+h)/v):(v=2*Math.sqrt(1+p-a-c),e[3]=(s-l)/v,e[0]=(d+u)/v,e[1]=(f+h)/v,e[2]=.25*v),e}function at(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,f=r*s,d=i*a,h=i*s,p=i*u,g=o*a,v=o*s,m=o*u;return e[0]=1-f-p,e[1]=c+m,e[2]=d-v,e[3]=0,e[4]=c-m,e[5]=1-l-p,e[6]=h+g,e[7]=0,e[8]=d+v,e[9]=h-g,e[10]=1-l-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var st=function(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(r-i),e[10]=(i+r)*o,e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e};var ut=function(e,t,n,r,i,o,a){var s=1/(t-n),u=1/(r-i),l=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(a+o)*l,e[15]=1,e};var lt,ct,ft,dt,ht,pt,gt,vt,mt,yt,bt,xt,wt,Et,St,_t,Tt,kt,Ct,Mt,At,Nt,Pt,It;function Dt(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ot(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Rt,Lt,jt,Bt,Ft,zt,Yt,Gt,Vt,Ut,Wt,Zt,Ht,Xt=(lt=(0,g.b2)(),ct=(0,g.f3)(v.MeshComponentManager),ft=(0,g.f3)(v.GeometryComponentManager),dt=(0,g.f3)(v.MaterialComponentManager),ht=(0,g.f3)(v.CullableComponentManager),pt=(0,g.f3)(v.TransformComponentManager),gt=(0,g.f3)(v.HierarchyComponentManager),vt=(0,g.f3)(v.Systems),mt=(0,g.t6)(v.FrameGraphSystem),yt=(0,g.f3)(v.RenderEngine),bt=(0,g.f3)(v.ResourcePool),lt((It=Pt=function(){function e(){var t=this;(0,i.Z)(this,e),r(this,"mesh",Et,this),r(this,"geometry",St,this),r(this,"material",_t,this),r(this,"cullable",Tt,this),r(this,"transform",kt,this),r(this,"hierarchy",Ct,this),r(this,"frameGraphSystem",Mt,this),r(this,"engine",At,this),r(this,"resourcePool",Nt,this),this.modelCache={},this.setup=function(e,t,n){var r=e.createRenderTarget(t,"color buffer",{width:1,height:1,usage:J.RENDER_ATTACHMENT|J.SAMPLED|J.COPY_SRC});n.data={output:t.write(e,r)}},this.execute=function(){var e=(0,l.Z)(u().mark((function e(n,r,i){var o,a,s,l,c,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.getResourceNode(r.data.output),a=t.resourcePool.getOrCreateResource(o.resource),s=Dt(i),e.prev=3,s.s();case 5:if((l=s.n()).done){e.next=11;break}return c=l.value,e.next=9,t.initView(c);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),s.e(e.t0);case 16:return e.prev=16,s.f(),e.finish(16);case 19:f=t.engine.getCanvas(),a.resize({width:f.width,height:f.height}),t.engine.setScissor({enable:!1}),t.engine.clear({framebuffer:a,color:i[0].getClearColor(),depth:1}),t.engine.useFramebuffer(a,(function(){var e,n=Dt(i);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.renderView(r)}}catch(o){n.e(o)}finally{n.f()}}));case 24:case"end":return e.stop()}}),e,null,[[3,13,16,19]])})));return function(t,n,r){return e.apply(this,arguments)}}()}return(0,o.Z)(e,[{key:"renderView",value:function(e){var t=e.getScene(),n=e.getCamera(),r=n.getViewTransform(),i=tt(Je(),n.getPerspective(),r);n.getFrustum().extractFromVPMatrix(i);var o=e.getViewport(),a=o.x,s=o.y,u=o.width,l=o.height;this.engine.viewport({x:a,y:s,width:u,height:l});var c,f=Dt(t.getEntities());try{for(f.s();!(c=f.n()).done;){var d=c.value;this.renderMesh(d,{camera:n,view:e,viewMatrix:r})}}catch(h){f.e(h)}finally{f.f()}}},{key:"renderMesh",value:function(e,t){var n=t.camera,r=t.view,i=t.viewMatrix,o=this.mesh.getComponentByEntity(e);if(o&&o.visible){var a=o.material,s=o.geometry;if(s&&!s.dirty&&a){var u=this.transform.getComponentByEntity(e),l=tt(Je(),i,u.worldTransform),c=r.getViewport(),f=c.width,d=c.height;a.setUniform({projectionMatrix:n.getPerspective(),modelViewMatrix:l,modelMatrix:u.worldTransform,viewMatrix:i,cameraPosition:n.getPosition(),u_viewport:[f,d]}),o.model&&(o.model.draw({uniforms:a.uniforms.reduce((function(e,t){return e[t.name]=t.data,e}),{})}),a.uniforms.forEach((function(e){e.dirty=!1})),a.dirty=!1)}}}},{key:"initMesh",value:function(){var e=(0,l.Z)(u().mark((function e(t,n){var r,i,o,a,s,l,c,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.mesh.getComponentByEntity(t)){e.next=3;break}return e.abrupt("return");case 3:if(i=r.material,(o=r.geometry)&&!o.dirty&&i){e.next=7;break}return e.abrupt("return");case 7:if(r.model){e.next=24;break}if(a="m-".concat(i.entity,"-g-").concat(o.entity),!this.modelCache[a]){e.next=12;break}return r.model=this.modelCache[a],e.abrupt("return");case 12:return i.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),s=this.engine,l=s.createModel,c=s.createAttribute,f={vs:i.vertexShaderGLSL,fs:i.fragmentShaderGLSL,defines:i.defines,attributes:o.attributes.reduce((function(e,t){return t.data&&t.buffer&&(e[t.name]=c({buffer:t.buffer,attributes:t.attributes,arrayStride:t.arrayStride,stepMode:t.stepMode,divisor:"vertex"===t.stepMode?0:1})),e}),{}),uniforms:i.uniforms.reduce((function(e,t){return e[t.name]=t.data,e}),{}),scissor:{enable:!0,box:function(){return n.getViewport()}}},i.cull&&(f.cull=i.cull),i.depth&&(f.depth=i.depth),i.blend&&(f.blend=i.blend),o.indicesBuffer&&(f.elements=o.indicesBuffer),o.maxInstancedCount&&(f.instances=o.maxInstancedCount,f.count=o.vertexCount||3),e.next=22,l(f);case 22:r.model=e.sent,this.modelCache[a]=r.model;case 24:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"initView",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n,r,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.getScene(),r=Dt(n.getEntities()),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=10;break}return o=i.value,e.next=8,this.initMesh(o,t);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Pt.IDENTIFIER="Render Pass",Et=a((wt=It).prototype,"mesh",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=a(wt.prototype,"geometry",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_t=a(wt.prototype,"material",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=a(wt.prototype,"cullable",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=a(wt.prototype,"transform",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=a(wt.prototype,"hierarchy",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=a(wt.prototype,"frameGraphSystem",[vt,mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),At=a(wt.prototype,"engine",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=a(wt.prototype,"resourcePool",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=wt))||xt);function Kt(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jt,$t,Qt,en,tn,nn,rn,on,an,sn,un,ln,cn,fn,dn,hn,pn,gn,vn,mn,yn,bn,xn=1,wn=2,En=(Rt=(0,g.b2)(),Lt=(0,g.f3)(v.RenderEngine),jt=(0,g.f3)(v.ResourcePool),Bt=(0,g.f3)(v.RenderPassFactory),Ft=(0,g.f3)(v.MeshComponentManager),Rt((Ht=Zt=function(){function e(){var t=this;(0,i.Z)(this,e),r(this,"engine",Gt,this),r(this,"resourcePool",Vt,this),r(this,"renderPassFactory",Ut,this),r(this,"mesh",Wt,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(e,t,n){var r=e.createRenderTarget(t,"picking fbo",{width:1,height:1});n.data={output:t.write(e,r)},t.hasSideEffect=!0},this.execute=function(){var e=(0,l.Z)(u().mark((function e(n,r,i){var o,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.views=i,!t.alreadyInRendering){e.next=3;break}return e.abrupt("return");case 3:o=Kt(i);try{for(s=function(){var e=a.value,i=e.getViewport(),o=i.width,s=i.height;t.alreadyInRendering=!0;var u=n.getResourceNode(r.data.output);t.pickingFBO=t.resourcePool.getOrCreateResource(u.resource),t.pickingFBO.resize({width:o,height:s}),t.engine.useFramebuffer(t.pickingFBO,(function(){t.engine.clear({framebuffer:t.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var n,r=t.renderPassFactory(Xt.IDENTIFIER),i=[],o=Kt(e.getScene().getEntities());try{for(o.s();!(n=o.n()).done;){var a=n.value,s=t.mesh.getComponentByEntity(a);s.material.setUniform("u_PickingStage",xn),i.push(s)}}catch(u){o.e(u)}finally{o.f()}r.renderView(e),i.forEach((function(e){e.material.setUniform("u_PickingStage",wn)})),t.alreadyInRendering=!1}))},o.s();!(a=o.n()).done;)s()}catch(u){o.e(u)}finally{o.f()}case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),this.pick=function(e,n){var r,i,o=e.x,a=e.y,s=t.engine,u=s.readPixels,l=s.useFramebuffer,c=n.getViewport(),f=c.width,d=c.height,h=o*window.devicePixelRatio,g=a*window.devicePixelRatio;if(!(h>f||h<0||g>d||g<0))return l(t.pickingFBO,(function(){0===(r=u({x:Math.round(h),y:Math.round(d-(a+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(4),framebuffer:t.pickingFBO}))[0]&&0===r[1]&&0===r[2]||(i=function(e){var t=(0,p.Z)(e,3);return t[0]+256*t[1]+65536*t[2]-1}(r),t.highlightEnabled&&t.highlightPickedFeature(r,n))})),i}}return(0,o.Z)(e,[{key:"enableHighlight",value:function(e){this.highlightEnabled=e}},{key:"setHighlightColor",value:function(e){this.highlightColor=e}},{key:"highlightPickedFeature",value:function(e,t){if(e){var n,r=Kt(t.getScene().getEntities());try{for(r.s();!(n=r.n()).done;){var i=n.value,o=this.mesh.getComponentByEntity(i).material;o.setUniform("u_PickingStage",wn),o.setUniform("u_PickingColor",[e[0],e[1],e[2]]),o.setUniform("u_HighlightColor",this.highlightColor)}}catch(a){r.e(a)}finally{r.f()}}}}]),e}(),Zt.IDENTIFIER="PixelPicking Pass",Gt=a((Yt=Ht).prototype,"engine",[Lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vt=a(Yt.prototype,"resourcePool",[jt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ut=a(Yt.prototype,"renderPassFactory",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wt=a(Yt.prototype,"mesh",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zt=Yt))||zt),Sn=(Jt=(0,g.b2)(),$t=(0,g.f3)(v.RenderEngine),Qt=(0,g.f3)(v.ResourcePool),Jt((an=on=function e(){var t=this;(0,i.Z)(this,e),r(this,"engine",nn,this),r(this,"resourcePool",rn,this),this.model=void 0,this.setup=function(e,t,n){var r=e.getPass(Xt.IDENTIFIER);if(r){var i=e.createRenderTarget(t,"render to screen",{width:1,height:1});n.data={input:t.read(r.data.output),output:t.write(e,i)}}},this.execute=function(){var e=(0,l.Z)(u().mark((function e(n,r){var i,o,a,s,l,c,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.engine,o=i.createModel,a=i.createAttribute,s=i.createBuffer,t.model){e.next=6;break}return e.next=4,o({vs:t.engine.supportWebGPU?"layout(location = 0) in vec2 a_Position;\nlayout(location = 0) out vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}":"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:t.engine.supportWebGPU?"layout(set = 0, binding = 0) uniform sampler u_TextureSampler;\nlayout(set = 0, binding = 1) uniform texture2D u_Texture;\n\nlayout(location = 0) in vec2 v_UV;\nlayout(location = 0) out vec4 outColor;\n\nvoid main() {\n  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);\n}":"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}",attributes:{a_Position:a({buffer:s({data:[-4,-4,4,-4,0,4],type:J.FLOAT}),size:2,arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:l=e.sent,t.model=l;case 6:c=n.getResourceNode(r.data.input),f=t.resourcePool.getOrCreateResource(c.resource),t.engine.useFramebuffer(null,(function(){t.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),t.model.draw({uniforms:{u_Texture:f}})}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.tearDown=function(){t.model=void 0}},on.IDENTIFIER="Copy Pass",nn=a((tn=an).prototype,"engine",[$t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rn=a(tn.prototype,"resourcePool",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),en=tn))||en),_n=(sn=(0,g.b2)(),un=(0,g.f3)(v.Systems),ln=(0,g.t6)(v.FrameGraphSystem),cn=(0,g.f3)(v.RenderPassFactory),fn=(0,g.f3)(v.ConfigService),dn=(0,g.f3)(v.ResourcePool),sn((bn=function(){function e(){(0,i.Z)(this,e),r(this,"frameGraphSystem",gn,this),r(this,"renderPassFactory",vn,this),r(this,"configService",mn,this),r(this,"resourcePool",yn,this)}return(0,o.Z)(e,[{key:"execute",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n,r,i,o,a,s,l,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.renderPassFactory(Xt.IDENTIFIER),r=n.setup,i=n.execute,this.frameGraphSystem.addPass(Xt.IDENTIFIER,r,i),o=this.renderPassFactory(Sn.IDENTIFIER),a=o.setup,s=o.execute,l=o.tearDown,c=this.frameGraphSystem.addPass(Sn.IDENTIFIER,a,s,l),this.frameGraphSystem.present(c.data.output);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(e,t){return this.renderPassFactory(En.IDENTIFIER).pick(e,t)}}]),e}(),gn=a((pn=bn).prototype,"frameGraphSystem",[un,ln],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vn=a(pn.prototype,"renderPassFactory",[cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mn=a(pn.prototype,"configService",[fn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yn=a(pn.prototype,"resourcePool",[dn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hn=pn))||hn);function Tn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var kn,Cn,Mn,An,Nn,Pn,In,Dn,On,Rn,Ln=function(e){(0,x.Z)(n,e);var t=Tn(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).parentID=void 0,Object.assign((0,L.Z)(r),e),r}return n}(d),jn=(kn=(0,g.b2)(),Cn=(0,g.f3)(v.HierarchyComponentManager),Mn=(0,g.f3)(v.TransformComponentManager),An=(0,g.f3)(v.MeshComponentManager),kn((Rn=function(){function e(){(0,i.Z)(this,e),r(this,"hierarchy",In,this),r(this,"transform",Dn,this),r(this,"mesh",On,this)}return(0,o.Z)(e,[{key:"execute",value:function(){var e=(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var e=this;this.transform.forEach((function(t,n){(n.isDirty()||n.isLocalDirty())&&(e.setMeshAABBDirty(e.mesh.getComponentByEntity(t)),n.updateTransform())}))}},{key:"runHierarchyUpdateSystem",value:function(){var e=this;this.hierarchy.forEach((function(t,n){var r=e.transform.getComponentByEntity(t),i=e.transform.getComponentByEntity(n.parentID);null!==r&&null!==i&&r.updateTransformWithParent(i)}))}},{key:"attach",value:function(e,t,n){this.hierarchy.contains(e)&&this.detach(e),this.hierarchy.create(e,{parentID:t});var r=this.mesh.getComponentByEntity(t);if(this.setMeshAABBDirty(r),r&&-1===r.children.indexOf(e)&&r.children.push(e),this.hierarchy.getCount()>1)for(var i=this.hierarchy.getCount()-1;i>0;--i)for(var o=this.hierarchy.getEntity(i),a=0;a<i;++a){if(this.hierarchy.getComponent(a).parentID===o){this.hierarchy.moveItem(i,a),++i;break}}this.hierarchy.getComponentByEntity(e);var s=this.transform.getComponentByEntity(t);null===s&&(s=this.transform.create(t));var u=this.transform.getComponentByEntity(e);null===u&&(u=this.transform.create(e),s=this.transform.getComponentByEntity(t)),u.parent=s,!n&&s&&(u.matrixTransform(et(Je(),s.worldTransform)),u.updateTransform()),s&&u.updateTransformWithParent(s)}},{key:"detach",value:function(e){var t=this.hierarchy.getComponentByEntity(e);if(null!==t){var n=this.transform.getComponentByEntity(e);null!==n&&(n.parent=null,n.applyTransform()),this.hierarchy.removeKeepSorted(e);var r=this.mesh.getComponentByEntity(t.parentID);if(r){var i=r.children.indexOf(e);r.children.splice(i,1)}this.setMeshAABBDirty(r)}}},{key:"detachChildren",value:function(e){var t=this.mesh.getComponentByEntity(e);t&&(t.children=[]);for(var n=0;n<this.hierarchy.getCount();){var r;if((null===(r=this.hierarchy.getComponent(n))||void 0===r?void 0:r.parentID)===e){var i=this.hierarchy.getEntity(n);this.detach(i)}else++n}}},{key:"setMeshAABBDirty",value:function(e){e&&(e.aabbDirty=!0)}}]),e}(),In=a((Pn=Rn).prototype,"hierarchy",[Cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dn=a(Pn.prototype,"transform",[Mn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),On=a(Pn.prototype,"mesh",[An],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nn=Pn))||Nn);function Bn(){var e=new j.WT(4);return j.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Fn(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function zn(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],u=n[1],l=n[2],c=n[3];return e[0]=r*c+a*s+i*l-o*u,e[1]=i*c+a*u+o*s-r*l,e[2]=o*c+a*l+r*u-i*s,e[3]=a*c-r*s-i*u-o*l,e}function Yn(e,t,n,r){var i,o,a,s,u,l=t[0],c=t[1],f=t[2],d=t[3],h=n[0],p=n[1],g=n[2],v=n[3];return(o=l*h+c*p+f*g+d*v)<0&&(o=-o,h=-h,p=-p,g=-g,v=-v),1-o>j.Ib?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,u=Math.sin(r*i)/a):(s=1-r,u=r),e[0]=s*l+u*h,e[1]=s*c+u*p,e[2]=s*f+u*g,e[3]=s*d+u*v,e}function Gn(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=o*s,e}function Vn(e,t,n,r){var i=.5*Math.PI/180;t*=i,n*=i,r*=i;var o=Math.sin(t),a=Math.cos(t),s=Math.sin(n),u=Math.cos(n),l=Math.sin(r),c=Math.cos(r);return e[0]=o*u*c-a*s*l,e[1]=a*s*c+o*u*l,e[2]=a*u*l-o*s*c,e[3]=a*u*c+o*s*l,e}var Un=F,Wn=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},Zn=zn,Hn=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=r*a,e[2]=i*a,e[3]=o*a,e};(function(){var e=G.Ue(),t=G.al(1,0,0),n=G.al(0,1,0)})(),function(){var e=Bn(),t=Bn()}(),function(){var e=Y.create()}();function Xn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Kn=function(e){(0,x.Z)(n,e);var t=Xn(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).dirtyFlag=void 0,r.localDirtyFlag=void 0,r.parent=null,r.localPosition=G.al(0,0,0),r.localRotation=Un(0,0,0,1),r.localScale=G.al(1,1,1),r.localTransform=Je(),r.position=G.al(0,0,0),r.rotation=Un(0,0,0,1),r.scaling=G.al(1,1,1),r.worldTransform=Je(),r.matrixTransform=function(){var e=Je();return function(t){tt(e,r.getLocalTransform(),t),it(r.localScale,e),rt(r.localPosition,e),ot(r.localRotation,e)}}(),r.rotateRollPitchYaw=function(){var e=Bn(),t=Bn(),n=Bn();return function(i,o,a){r.setDirty(),Vn(e,i,0,0),Vn(t,0,o,0),Vn(n,0,0,a),zn(r.localRotation,e,r.localRotation),zn(r.localRotation,r.localRotation,t),zn(r.localRotation,n,r.localRotation),Hn(r.localRotation,r.localRotation)}}(),r.lerp=function(){var e=G.Ue(),t=Bn(),n=G.Ue(),i=G.Ue(),o=Bn(),a=G.Ue();return function(s,u,l){r.setDirty(),it(e,s.worldTransform),rt(n,s.worldTransform),ot(t,s.worldTransform),it(i,u.worldTransform),rt(a,u.worldTransform),ot(o,u.worldTransform),G.t7(r.localScale,e,i,l),Yn(r.localRotation,t,o,l),G.t7(r.localPosition,n,a,l)}}(),r.translate=function(){var e=G.Ue();return function(t){return G.IH(e,r.getPosition(),t),r.setPosition(e),r.setDirty(!0),(0,L.Z)(r)}}(),r.translateLocal=function(e){return G.VC(e,e,r.localRotation),G.IH(r.localPosition,r.localPosition,e),r.setLocalDirty(!0),(0,L.Z)(r)},r.setPosition=function(){var e=Je();return function(t){return r.position=t,r.setLocalDirty(!0),null===r.parent?G.JG(r.localPosition,t):($e(e,r.parent.worldTransform),et(e,e),G.fF(r.localPosition,t,e)),(0,L.Z)(r)}}(),r.rotate=function(){var e=Bn();return function(t){if(null===r.parent)zn(r.localRotation,r.localRotation,t),Hn(r.localRotation,r.localRotation);else{var n=r.getRotation(),i=r.parent.getRotation();Wn(e,i),Gn(e,e),zn(e,e,t),zn(r.localRotation,t,n),Hn(r.localRotation,r.localRotation)}return r.setLocalDirty(),(0,L.Z)(r)}}(),r.rotateLocal=function(e){return zn(r.localRotation,r.localRotation,e),Hn(r.localRotation,r.localRotation),r.setLocalDirty(!0),(0,L.Z)(r)},r.setRotation=function(){var e=Bn();return function(t){return null===r.parent?Wn(r.localRotation,t):(Wn(e,r.parent.getRotation()),Gn(e,e),Wn(r.localRotation,e),Zn(r.localRotation,r.localRotation,t)),r.setLocalDirty(!0),(0,L.Z)(r)}}(),r}return(0,o.Z)(n,[{key:"setLocalPosition",value:function(e){G.JG(this.localPosition,e),this.setLocalDirty(!0)}},{key:"setLocalScale",value:function(e){G.JG(this.localScale,e),this.setLocalDirty(!0)}},{key:"setLocalRotation",value:function(e){return Wn(this.localRotation,e),this.setLocalDirty(!0),this}},{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?this.dirtyFlag|=n.DIRTY:this.dirtyFlag&=~n.DIRTY}},{key:"isLocalDirty",value:function(){return this.localDirtyFlag}},{key:"setLocalDirty",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?(this.localDirtyFlag|=n.DIRTY,this.setDirty(!0)):this.localDirtyFlag&=~n.DIRTY}},{key:"updateTransform",value:function(){this.isLocalDirty()&&this.getLocalTransform(),this.isDirty()&&null===this.parent&&($e(this.worldTransform,this.getLocalTransform()),this.setDirty(!1))}},{key:"updateTransformWithParent",value:function(e){tt(this.worldTransform,e.worldTransform,this.getLocalTransform())}},{key:"applyTransform",value:function(){this.setDirty(),it(this.localScale,this.worldTransform),rt(this.localPosition,this.worldTransform),ot(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localPosition=G.al(0,0,0),this.localRotation=Un(0,0,0,1),this.localScale=G.al(1,1,1)}},{key:"scaleLocal",value:function(e){return this.setLocalDirty(),G.Jp(this.localScale,this.localScale,e),this}},{key:"getLocalPosition",value:function(){return this.localPosition}},{key:"getLocalRotation",value:function(){return this.localRotation}},{key:"getLocalScale",value:function(){return this.localScale}},{key:"getLocalTransform",value:function(){return this.localDirtyFlag&&(!function(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3],u=i+i,l=o+o,c=a+a,f=i*u,d=i*l,h=i*c,p=o*l,g=o*c,v=a*c,m=s*u,y=s*l,b=s*c,x=r[0],w=r[1],E=r[2];e[0]=(1-(p+v))*x,e[1]=(d+b)*x,e[2]=(h-y)*x,e[3]=0,e[4]=(d-b)*w,e[5]=(1-(f+v))*w,e[6]=(g+m)*w,e[7]=0,e[8]=(h+y)*E,e[9]=(g-m)*E,e[10]=(1-(f+p))*E,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1}(this.localTransform,this.localRotation,this.localPosition,this.localScale),this.setLocalDirty(!1)),this.localTransform}},{key:"getWorldTransform",value:function(){return this.isLocalDirty()||this.isDirty()?(this.parent&&this.parent.getWorldTransform(),this.updateTransform(),this.worldTransform):this.worldTransform}},{key:"getPosition",value:function(){return rt(this.position,this.worldTransform),this.position}},{key:"getRotation",value:function(){return ot(this.rotation,this.worldTransform),this.rotation}},{key:"getScale",value:function(){return it(this.scaling,this.worldTransform),this.scaling}}]),n}(d);Kn.DIRTY=1;var qn,Jn,$n,Qn,er,tr,nr=n(5696),rr=(qn=(0,g.b2)(),Jn=(0,g.f3)(v.RenderEngine),qn((tr=function(){function e(){(0,i.Z)(this,e),r(this,"engine",er,this),this.resourcePool={}}return(0,o.Z)(e,[{key:"getOrCreateResource",value:function(e){if(!this.resourcePool[e.name]){var t=e.descriptor,n=t.width,r=t.height,i=t.usage;this.resourcePool[e.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:n,height:r,wrapS:J.CLAMP_TO_EDGE,wrapT:J.CLAMP_TO_EDGE,usage:i})})}return this.resourcePool[e.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),e}(),er=a((Qn=tr).prototype,"engine",[Jn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$n=Qn))||$n);function ir(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var or,ar,sr,ur,lr=function(e){(0,x.Z)(n,e);var t=ir(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).name=void 0,r.name=e.name||"",r}return n}(d),cr=(0,g.b2)()((ar=function(){function e(){(0,i.Z)(this,e),this.config=void 0}return(0,o.Z)(e,[{key:"get",value:function(){return this.config}},{key:"set",value:function(e){this.config=e}}]),e}(),or=ar))||or;!function(e){e.PANSTART="PANSTART",e.PANEND="PANEND",e.PANMOVE="PANMOVE",e.PINCH="PINCH",e.KEYDOWN="KEYDOWN",e.KEYUP="KEYUP",e.HOVER="HOVER"}(ur||(ur={}));var fr=(0,g.b2)()(sr=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,[{key:"listen",value:function(e){}},{key:"on",value:function(e,t){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),e}())||sr;var dr,hr,pr=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function gr(e){var t={};return{content:e=e.replace(pr,(function(e,n,r){var i=r.split(":"),o=i[0].trim(),a="";switch(i.length>1&&(a=i[1].trim()),n){case"bool":a="true"===a;break;case"float":case"int":a=Number(a);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":a=a?a.replace("[","").replace("]","").split(",").reduce((function(e,t){return e.push(Number(t.trim())),e}),[]):new Array(function(e){var t=0;switch(e){case"vec2":case"ivec2":t=2;break;case"vec3":case"ivec3":t=3;break;case"vec4":case"ivec4":case"mat2":t=4;break;case"mat3":t=9;break;case"mat4":t=16}return t}(n)).fill(0)}return t[o]=a,"uniform ".concat(n," ").concat(o,";\n")})),uniforms:t}}function vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yr=/precision\s+(high|low|medium)p\s+float/,br=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,xr=(0,g.b2)()((hr=function(){function e(){(0,i.Z)(this,e),this.moduleCache={},this.rawContentCache={}}return(0,o.Z)(e,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:"attribute vec3 a_PickingColor;\nvarying vec4 v_PickingResult;\n\nuniform vec3 u_PickingColor : [0, 0, 0];\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\nuniform float u_PickingThreshold : 1.0;\nuniform float u_PickingBuffer: 0.0;\n\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&\n    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&\n    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;\n}\n\nvoid setPickingColor(vec3 pickingColor) {\n  // compares only in highlight stage\n  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));\n\n  // Stores the picking color so that the fragment shader can render it during picking\n  v_PickingResult.rgb = pickingColor * COLOR_SCALE;\n}\n\nfloat setPickingSize(float x) {\n   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;\n}",fs:"varying vec4 v_PickingResult;\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\n\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 filterHighlightColor(vec4 color) {\n  bool selected = bool(v_PickingResult.a);\n\n  if (selected) {\n    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;\n\n    float highLightAlpha = highLightColor.a;\n    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));\n\n    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\n    return vec4(resultRGB, color.a);\n  } else {\n    return color;\n  }\n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 filterPickingColor(vec4 color) {\n  vec3 pickingColor = v_PickingResult.rgb;\n  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {\n    discard;\n  }\n  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;\n}\n\n/*\n * Returns picking color if picking is enabled if not\n * highlight color if this item is selected, otherwise unmodified argument.\n */\nvec4 filterColor(vec4 color) {\n  return filterPickingColor(filterHighlightColor(color));\n}\n"}),this.registerModule("sdf2d",{vs:"",fs:"/**\n * 2D signed distance field functions\n * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm\n */\n\nfloat ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }\n\nfloat sdCircle(vec2 p, float r) {\n  return length(p) - r;\n}\n\nfloat sdEquilateralTriangle(vec2 p) {\n  float k = sqrt(3.0);\n  p.x = abs(p.x) - 1.0;\n  p.y = p.y + 1.0/k;\n  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\n  p.x -= clamp( p.x, -2.0, 0.0 );\n  return -length(p)*sign(p.y);\n}\n\nfloat sdBox(vec2 p, vec2 b) {\n  vec2 d = abs(p)-b;\n  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);\n}\n\nfloat sdPentagon(vec2 p, float r) {\n  vec3 k = vec3(0.809016994,0.587785252,0.726542528);\n  p.x = abs(p.x);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagon(vec2 p, float r) {\n  vec3 k = vec3(-0.866025404,0.5,0.577350269);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdOctogon(vec2 p, float r) {\n  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );\n  p = abs(p);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagram(vec2 p, float r) {\n  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;\n  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdRhombus(vec2 p, vec2 b) {\n  vec2 q = abs(p);\n  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);\n  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );\n  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );\n}\n\nfloat sdVesica(vec2 p, float r, float d) {\n  p = abs(p);\n  float b = sqrt(r*r-d*d); // can delay this sqrt\n  return ((p.y-b)*d>p.x*b)\n          ? length(p-vec2(0.0,b))\n          : length(p-vec2(-d,0.0))-r;\n}"})}},{key:"registerModule",value:function(e,t){if(!this.rawContentCache[e]){var n=t.vs,r=void 0===n?"":n,i=t.fs,o=void 0===i?"":i,a=t.uniforms,s=gr(r),u=s.content,l=s.uniforms,c=gr(o),f=c.content,d=c.uniforms;this.rawContentCache[e]={fs:f,uniforms:mr(mr(mr({},l),d),a),vs:u}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(e){var t=this;if(this.moduleCache[e])return this.moduleCache[e];var n,r=this.rawContentCache[e].vs||"",i=this.rawContentCache[e].fs||"",o=this.processModule(r,[],"vs"),a=o.content,s=o.includeList,u=this.processModule(i,[],"fs"),l=u.content,c=u.includeList,f=l,d=(n=s.concat(c).concat(e),n.filter((function(e,t,n){return n.indexOf(e)===t}))).reduce((function(e,n){return mr(mr({},e),t.rawContentCache[n].uniforms)}),{});return yr.test(l)||(f="#ifdef GL_FRAGMENT_PRECISION_HIGH\n precision highp float;\n #else\n precision mediump float;\n#endif\n"+l),this.moduleCache[e]={fs:f.trim(),uniforms:d,vs:a.trim()},this.moduleCache[e]}},{key:"processModule",value:function(e,t,n){var r=this;return{content:e.replace(br,(function(e,i){var o=i.split(" ")[0].replace(/"/g,"");if(t.indexOf(o)>-1)return"";var a=r.rawContentCache[o][n];return t.push(o),r.processModule(a||"",t,n).content})),includeList:t}}}]),e}(),dr=hr))||dr,wr=new g.W2;(0,nr.Z)(wr,!1);function Er(){var e=new g.W2;return e.parent=wr,e.bind(v.Systems).to(jn).inSingletonScope().whenTargetNamed(v.SceneGraphSystem),e.bind(v.Systems).to(O).inSingletonScope().whenTargetNamed(v.FrameGraphSystem),e.bind(v.Systems).to(qe).inSingletonScope().whenTargetNamed(v.MeshSystem),e.bind(v.Systems).to(se).inSingletonScope().whenTargetNamed(v.GeometrySystem),e.bind(v.Systems).to(Te).inSingletonScope().whenTargetNamed(v.MaterialSystem),e.bind(v.Systems).to(_n).inSingletonScope().whenTargetNamed(v.RendererSystem),e.bind(v.ResourcePool).to(rr).inSingletonScope(),e.bind(v.ConfigService).to(cr).inSingletonScope(),e.bind(v.InteractorService).to(fr).inSingletonScope(),e.bind(v.RenderPass).to(Xt).inSingletonScope().whenTargetNamed(Xt.IDENTIFIER),e.bind(v.RenderPass).to(Sn).inSingletonScope().whenTargetNamed(Sn.IDENTIFIER),e.bind(v.RenderPass).to(En).inSingletonScope().whenTargetNamed(En.IDENTIFIER),e.bind(v.RenderPassFactory).toFactory((function(e){return function(t){return e.container.getNamed(v.RenderPass,t)}})),e}function Sr(e){for(var t=new Me,n=G.al(e[0],e[1],e[2]),r=G.al(e[0],e[1],e[2]),i=3;i<e.length;){var o=e[i++],a=e[i++],s=e[i++];o<n[0]&&(n[0]=o),a<n[1]&&(n[1]=a),s<n[2]&&(n[2]=s),o>r[0]&&(r[0]=o),a>r[1]&&(r[1]=a),s>r[2]&&(r[2]=s)}return t.setMinMax(n,r),t}wr.bind(v.ShaderModuleService).to(xr).inSingletonScope(),wr.bind(v.NameComponentManager).toConstantValue(new h(lr)),wr.bind(v.HierarchyComponentManager).toConstantValue(new h(Ln)),wr.bind(v.TransformComponentManager).toConstantValue(new h(Kn)),wr.bind(v.MeshComponentManager).toConstantValue(new h(Pe)),wr.bind(v.CullableComponentManager).toConstantValue(new h(Ce)),wr.bind(v.GeometryComponentManager).toConstantValue(new h(ae)),wr.bind(v.MaterialComponentManager).toConstantValue(new h(we));var _r,Tr="undefined"!==typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);G.Ue(),G.Ue(),G.Ue(),G.Ue(),G.Ue(),G.Ue(),n(736),n(4566),n(8783),n(2332),n(1326),n(1101);!function(e){e.Normal="normal",e.PostProcessing="post-processing"}(_r||(_r={}));var kr,Cr,Mr,Ar;n(9),n(2929),n(5760),n(678),n(3543),n(9102);!function(e){e.Void="Void",e.Boolean="Boolean",e.Float="Float",e.Uint32="Uint32",e.Int32="Int32",e.Vector="Vector",e.Vector2Float="vec2<f32>",e.Vector3Float="vec3<f32>",e.Vector4Float="vec4<f32>",e.Vector2Boolean="vec2<bool>",e.Vector3Boolean="vec3<bool>",e.Vector4Boolean="vec4<bool>",e.Vector2Uint="vec2<u32>",e.Vector3Uint="vec3<u32>",e.Vector4Uint="vec4<u32>",e.Vector2Int="vec2<i32>",e.Vector3Int="vec3<i32>",e.Vector4Int="vec4<i32>",e.Matrix="Matrix",e.Matrix3x3Float="mat3x3<f32>",e.Matrix4x4Float="mat4x4<i32>",e.Struct="Struct",e.FloatArray="Float[]",e.Vector4FloatArray="vec4<f32>[]"}(kr||(kr={})),function(e){e.Program="Program",e.Identifier="Identifier",e.VariableDeclaration="VariableDeclaration",e.BlockStatement="BlockStatement",e.ReturnStatement="ReturnStatement",e.FunctionDeclaration="FunctionDeclaration",e.VariableDeclarator="VariableDeclarator",e.AssignmentExpression="AssignmentExpression",e.LogicalExpression="LogicalExpression",e.BinaryExpression="BinaryExpression",e.ArrayExpression="ArrayExpression",e.UnaryExpression="UnaryExpression",e.UpdateExpression="UpdateExpression",e.FunctionExpression="FunctionExpression",e.MemberExpression="MemberExpression",e.ConditionalExpression="ConditionalExpression",e.ExpressionStatement="ExpressionStatement",e.CallExpression="CallExpression",e.NumThreadStatement="NumThreadStatement",e.StorageStatement="StorageStatement",e.DoWhileStatement="DoWhileStatement",e.WhileStatement="WhileStatement",e.ForStatement="ForStatement",e.BreakStatement="BreakStatement",e.ContinueStatement="ContinueStatement",e.IfStatement="IfStatement",e.ImportedFunctionStatement="ImportedFunctionStatement"}(Cr||(Cr={})),function(e){e.Input="Input",e.Output="Output",e.Uniform="Uniform",e.Workgroup="Workgroup",e.UniformConstant="UniformConstant",e.Image="Image",e.StorageBuffer="StorageBuffer",e.Private="Private",e.Function="Function"}(Mr||(Mr={})),function(e){e.GLSL100="GLSL100",e.GLSL450="GLSL450",e.WGSL="WGSL"}(Ar||(Ar={}));function Nr(e){return"number"===typeof e}function Pr(e){return void 0===e?0:e>360||e<-360?e%360:e}function Ir(e,t,n){return Nr(e)?G.al(e,t,n):3===e.length?G.d9(e):G.al(e[0],e[1],e[2])}var Dr,Or,Rr,Lr,jr,Br,Fr,zr,Yr,Gr,Vr=function(){function e(t,n){(0,i.Z)(this,e),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=t,this.matrix=function(e){var t=new j.WT(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}(n.matrix),this.right=G.d9(n.right),this.up=G.d9(n.up),this.forward=G.d9(n.forward),this.position=G.d9(n.position),this.focalPoint=G.d9(n.focalPoint),this.distanceVector=G.d9(n.distanceVector),this.azimuth=n.azimuth,this.elevation=n.elevation,this.roll=n.roll,this.relAzimuth=n.relAzimuth,this.relElevation=n.relElevation,this.relRoll=n.relRoll,this.dollyingStep=n.dollyingStep,this.distance=n.distance}return(0,o.Z)(e,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(e){e.matrix=$e(e.matrix,this.matrix),e.right=G.JG(e.right,this.right),e.up=G.JG(e.up,this.up),e.forward=G.JG(e.forward,this.forward),e.position=G.JG(e.position,this.position),e.focalPoint=G.JG(e.focalPoint,this.focalPoint),e.distanceVector=G.JG(e.distanceVector,this.distanceVector),e.azimuth=this.azimuth,e.elevation=this.elevation,e.roll=this.roll,e.relAzimuth=this.relAzimuth,e.relElevation=this.relElevation,e.relRoll=this.relRoll,e.dollyingStep=this.dollyingStep,e.distance=this.distance}}]),e}();!function(e){e.ORBITING="ORBITING",e.EXPLORING="EXPLORING",e.TRACKING="TRACKING"}(zr||(zr={})),function(e){e.DEFAULT="DEFAULT",e.ROTATIONAL="ROTATIONAL",e.TRANSLATIONAL="TRANSLATIONAL",e.CINEMATIC="CINEMATIC"}(Yr||(Yr={})),function(e){e.ORTHOGRAPHIC="ORTHOGRAPHIC",e.PERSPECTIVE="PERSPECTIVE"}(Gr||(Gr={}));var Ur,Wr,Zr,Hr,Xr,Kr,qr,Jr=Math.PI/180,$r=180/Math.PI,Qr=(Dr=(0,g.b2)(),Or=(0,g.f3)(v.InteractorService),Dr((Fr=Br=function(){function e(){(0,i.Z)(this,e),this.matrix=Je(),this.right=G.al(1,0,0),this.up=G.al(0,1,0),this.forward=G.al(0,0,1),this.position=G.al(0,0,1),this.focalPoint=G.al(0,0,0),this.distanceVector=G.al(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.rotateWorld=!1,r(this,"interactor",jr,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=Je(),this.view=void 0,this.following=void 0,this.type=zr.EXPLORING,this.trackingMode=Yr.DEFAULT,this.projectionMode=Gr.PERSPECTIVE,this.frustum=new He,this.landmarks=[],this.landmarkAnimationID=void 0}return(0,o.Z)(e,[{key:"clone",value:function(){var t=new e;return t.setType(this.type,void 0),t.interactor=this.interactor,t}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(e,t){return this.type=e,this.type===zr.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===zr.TRACKING&&void 0!==t&&this.setTrackingMode(t),this}},{key:"setProjectionMode",value:function(e){return this.projectionMode=e,this}},{key:"setTrackingMode",value:function(e){if(this.type!==zr.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=e,this}},{key:"setWorldRotation",value:function(e){this.rotateWorld=e,this._getAngles()}},{key:"getViewTransform",value:function(){return et(Je(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"setMatrix",value:function(e){return this.matrix=e,this._update(),this}},{key:"setAspect",value:function(e){return this.setPerspective(this.near,this.far,this.fov,e),this}},{key:"setViewOffset",value:function(e,t,n,r,i,o){return this.aspect=e/t,void 0===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.projectionMode===Gr.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return void 0!==this.view&&(this.view.enabled=!1),this.projectionMode===Gr.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(e,t,n,r){return this.projectionMode=Gr.PERSPECTIVE,this.fov=n,this.near=e,this.far=t,this.aspect=r,st(this.perspective,this.fov*Jr,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(e,t,n,r,i,o){this.projectionMode=Gr.ORTHOGRAPHIC,this.rright=t,this.left=e,this.top=n,this.bottom=r,this.near=i,this.far=o;var a=(this.rright-this.left)/(2*this.zoom),s=(this.top-this.bottom)/(2*this.zoom),u=(this.rright+this.left)/2,l=(this.top+this.bottom)/2,c=u-a,f=u+a,d=l+s,h=l-s;if(void 0!==this.view&&this.view.enabled){var p=(this.rright-this.left)/this.view.fullWidth/this.zoom,g=(this.top-this.bottom)/this.view.fullHeight/this.zoom;f=(c+=p*this.view.offsetX)+p*this.view.width,h=(d-=g*this.view.offsetY)-g*this.view.height}return ut(this.perspective,c,f,d,h,i,o),this}},{key:"setPosition",value:function(e,t,n){return this._setPosition(e,t,n),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(e,t,n){var r=G.al(0,1,0);if(this.focalPoint=Ir(e,t,n),this.trackingMode===Yr.CINEMATIC){var i=G.$X(G.Ue(),this.focalPoint,this.position);e=i[0],t=i[1],n=i[2];var o=G.kE(i),a=Math.asin(t/o)*$r,s=90+Math.atan2(n,e)*$r,u=Je();!function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],l=t[8],c=t[9],f=t[10],d=t[11];t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-l*r,e[1]=a*i-c*r,e[2]=s*i-f*r,e[3]=u*i-d*r,e[8]=o*r+l*i,e[9]=a*r+c*i,e[10]=s*r+f*i,e[11]=u*r+d*i}(u,u,s*Jr),function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],f=t[10],d=t[11];t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+l*r,e[5]=a*i+c*r,e[6]=s*i+f*r,e[7]=u*i+d*r,e[8]=l*i-o*r,e[9]=c*i-a*r,e[10]=f*i-s*r,e[11]=d*i-u*r}(u,u,a*Jr),r=G.fF(G.Ue(),[0,1,0],u)}return et(this.matrix,function(e,t,n,r){var i,o,a,s,u,l,c,f,d,h,p=t[0],g=t[1],v=t[2],m=r[0],y=r[1],b=r[2],x=n[0],w=n[1],E=n[2];return Math.abs(p-x)<j.Ib&&Math.abs(g-w)<j.Ib&&Math.abs(v-E)<j.Ib?Qe(e):(c=p-x,f=g-w,d=v-E,i=y*(d*=h=1/Math.hypot(c,f,d))-b*(f*=h),o=b*(c*=h)-m*d,a=m*f-y*c,(h=Math.hypot(i,o,a))?(i*=h=1/h,o*=h,a*=h):(i=0,o=0,a=0),s=f*a-d*o,u=d*i-c*a,l=c*o-f*i,(h=Math.hypot(s,u,l))?(s*=h=1/h,u*=h,l*=h):(s=0,u=0,l=0),e[0]=i,e[1]=s,e[2]=c,e[3]=0,e[4]=o,e[5]=u,e[6]=f,e[7]=0,e[8]=a,e[9]=l,e[10]=d,e[11]=0,e[12]=-(i*p+o*g+a*v),e[13]=-(s*p+u*g+l*v),e[14]=-(c*p+f*g+d*v),e[15]=1,e)}(Je(),this.position,this.focalPoint,r)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(e){if(!(this.distance===e||e<0)){this.distance=e,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var t=G.Ue();e=this.distance;var n=this.forward,r=this.focalPoint;return t[0]=e*n[0]+r[0],t[1]=e*n[1]+r[1],t[2]=e*n[2]+r[2],this._setPosition(t),this}}},{key:"setMaxDistance",value:function(e){return this.maxDistance=e,this}},{key:"setMinDistance",value:function(e){return this.minDistance=e,this}},{key:"changeAzimuth",value:function(e){return this.setAzimuth(this.azimuth+e),this}},{key:"changeElevation",value:function(e){return this.setElevation(this.elevation+e),this}},{key:"changeRoll",value:function(e){return this.setRoll(this.roll+e),this}},{key:"setAzimuth",value:function(e){return this.azimuth=Pr(e),this.computeMatrix(),this._getAxes(),this.type===zr.ORBITING||this.type===zr.EXPLORING?this._getPosition():this.type===zr.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(e){return this.elevation=Pr(e),this.computeMatrix(),this._getAxes(),this.type===zr.ORBITING||this.type===zr.EXPLORING?this._getPosition():this.type===zr.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(e){return this.roll=Pr(e),this.computeMatrix(),this._getAxes(),this.type===zr.ORBITING||this.type===zr.EXPLORING?this._getPosition():this.type===zr.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(e,t,n){if(this.type===zr.EXPLORING){e=Pr(e),t=Pr(t),n=Pr(n);var r=Fn(Bn(),[1,0,0],(this.rotateWorld?1:-1)*t*Jr),i=Fn(Bn(),[0,1,0],(this.rotateWorld?1:-1)*e*Jr),o=Fn(Bn(),[0,0,1],n*Jr),a=zn(Bn(),i,r);a=zn(Bn(),a,o);var s=at(Je(),a);nt(this.matrix,this.matrix,[0,0,-this.distance]),tt(this.matrix,this.matrix,s),nt(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation+t)>90)return;this.relElevation=Pr(t),this.relAzimuth=Pr(e),this.relRoll=Pr(n),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===zr.ORBITING||this.type===zr.EXPLORING?this._getPosition():this.type===zr.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(e,t){var n=Ir(e,t,0),r=G.d9(this.position);return G.IH(r,r,G.bA(G.Ue(),this.right,n[0])),G.IH(r,r,G.bA(G.Ue(),this.up,n[1])),this._setPosition(r),this}},{key:"dolly",value:function(e){var t=this.forward,n=G.d9(this.position),r=this.dollyingStep,i=this.distance+e*this.dollyingStep;return r=Math.max(Math.min(i,this.maxDistance),this.minDistance)-this.distance,n[0]+=r*t[0],n[1]+=r*t[1],n[2]+=r*t[2],this._setPosition(n),this.type===zr.ORBITING||this.type===zr.EXPLORING?this._getDistance():this.type===zr.TRACKING&&G.IH(this.focalPoint,n,this.distanceVector),this}},{key:"createLandmark",value:function(e,t){var n=this.clone();n.setPosition(t.position),n.setFocalPoint(t.focalPoint),void 0!==t.roll&&n.setRoll(t.roll);var r=new Vr(e,n);return this.landmarks.push(r),r}},{key:"setLandmark",value:function(e){var t=new Vr(e,this);return this.landmarks.push(t),this}},{key:"gotoLandmark",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=this.landmarks.find((function(t){return t.name===e}));if(r){if(0===n)return void r.retrieve(this);void 0!==this.landmarkAnimationID&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect();var i,o=r.getPosition(),a=r.getFocalPoint(),s=r.getRoll(),u=function e(r){void 0===i&&(i=r);var u,l=r-i,c=(1-Math.cos(l/n*Math.PI))/2,f=G.Ue(),d=G.Ue();if(G.t7(f,t.focalPoint,a,c),G.t7(d,t.position,o,c),u=t.roll*(1-c)+s*c,t.setFocalPoint(f),t.setPosition(d),t.setRoll(u),t.computeMatrix(),!(G.TK(f,a)+G.TK(d,o)>.01))return t.setFocalPoint(f),t.setPosition(d),t.setRoll(u),t.computeMatrix(),void t.interactor.connect();l<n&&(t.landmarkAnimationID=window.requestAnimationFrame(e))};window.requestAnimationFrame(u)}}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var e,t,n=Fn(Bn(),[0,0,1],this.roll*Jr);Qe(this.matrix),e=Fn(Bn(),[1,0,0],(this.rotateWorld&&this.type!==zr.TRACKING||this.type===zr.TRACKING?1:-1)*this.elevation*Jr),t=Fn(Bn(),[0,1,0],(this.rotateWorld&&this.type!==zr.TRACKING||this.type===zr.TRACKING?1:-1)*this.azimuth*Jr);var r=zn(Bn(),t,e);r=zn(Bn(),r,n);var i=at(Je(),r);this.type===zr.ORBITING||this.type===zr.EXPLORING?(nt(this.matrix,this.matrix,this.focalPoint),tt(this.matrix,this.matrix,i),nt(this.matrix,this.matrix,[0,0,this.distance])):this.type===zr.TRACKING&&(nt(this.matrix,this.matrix,this.position),tt(this.matrix,this.matrix,i))}},{key:"_setPosition",value:function(e,t,n){this.position=Ir(e,t,n);var r=this.matrix;r[12]=this.position[0],r[13]=this.position[1],r[14]=this.position[2],r[15]=1}},{key:"_getAxes",value:function(){G.JG(this.right,Ir(z(B(),[1,0,0,0],this.matrix))),G.JG(this.up,Ir(z(B(),[0,1,0,0],this.matrix))),G.JG(this.forward,Ir(z(B(),[0,0,1,0],this.matrix))),G.Fv(this.right,this.right),G.Fv(this.up,this.up),G.Fv(this.forward,this.forward)}},{key:"_getAngles",value:function(){var e=this.distanceVector[0],t=this.distanceVector[1],n=this.distanceVector[2],r=G.kE(this.distanceVector);if(0===r)return this.elevation=0,void(this.azimuth=0);this.type===zr.TRACKING||this.rotateWorld?(this.elevation=Math.asin(t/r)*$r,this.azimuth=Math.atan2(-e,-n)*$r):(this.elevation=-Math.asin(t/r)*$r,this.azimuth=-Math.atan2(-e,-n)*$r)}},{key:"_getPosition",value:function(){G.JG(this.position,Ir(z(B(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){G.kK(this.distanceVector,[0,0,-this.distance],Y.fromMat4(Y.create(),this.matrix)),G.IH(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=G.$X(G.Ue(),this.focalPoint,this.position),this.distance=G.kE(this.distanceVector),this.dollyingStep=this.distance/100}}]),e}(),Br.ProjectionMode={ORTHOGRAPHIC:"ORTHOGRAPHIC",PERSPECTIVE:"PERSPECTIVE"},jr=a((Lr=Fr).prototype,"interactor",[Or],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rr=Lr))||Rr),ei=(Ur=(0,g.b2)(),Wr=(0,g.f3)(v.GeometryComponentManager),Ur((qr=Kr=function(){function e(){(0,i.Z)(this,e),this.config=void 0,r(this,"geometry",Xr,this),this.entity=void 0,this.component=void 0}return(0,o.Z)(e,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(e){this.config=e}},{key:"setEntity",value:function(e){this.entity=e,this.component=this.geometry.create(e),this.component.entity=e,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),e}(),Kr.BOX="box",Kr.SPHERE="sphere",Kr.PLANE="plane",Kr.MERGED="merged",Xr=a((Hr=qr).prototype,"geometry",[Wr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zr=Hr))||Zr),ti=n(5511);function ni(){if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}var ri={}.toString,ii=function(e,t){return ri.call(e)==="[object "+t+"]"},oi=9007199254740991,ai={};ai["[object Float32Array]"]=ai["[object Float64Array]"]=ai["[object Int8Array]"]=ai["[object Int16Array]"]=ai["[object Int32Array]"]=ai["[object Uint8Array]"]=ai["[object Uint8ClampedArray]"]=ai["[object Uint16Array]"]=ai["[object Uint32Array]"]=!0,ai["[object Arguments]"]=ai["[object Array]"]=ai["[object ArrayBuffer]"]=ai["[object Boolean]"]=ai["[object DataView]"]=ai["[object Date]"]=ai["[object Error]"]=ai["[object Function]"]=ai["[object Map]"]=ai["[object Number]"]=ai["[object Object]"]=ai["[object RegExp]"]=ai["[object Set]"]=ai["[object String]"]=ai["[object WeakMap]"]=!1;var si=Object.prototype.toString;var ui,li,ci,fi,di,hi,pi,gi,vi=function(e){return function(e){return!!e&&"object"===(0,V.Z)(e)}(e)&&function(e){return"number"===typeof e&&e>-1&&e%1===0&&e<=oi}(e.length)&&!!ai[si.call(e)]};function mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mi(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bi,xi,wi,Ei,Si,_i,Ti,ki,Ci,Mi,Ai,Ni,Pi,Ii,Di,Oi,Ri,Li,ji,Bi,Fi,zi,Yi,Gi,Vi,Ui,Wi,Zi,Hi,Xi,Ki,qi,Ji,$i,Qi,eo=(ui=(0,g.b2)(),li=(0,g.f3)(v.RenderEngine),ci=(0,g.f3)(v.ConfigService),ui((gi=function(){function e(){(0,i.Z)(this,e),r(this,"engine",hi,this),r(this,"configService",pi,this),this.entity=f(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return(0,o.Z)(e,[{key:"init",value:function(){var e=this.configService.get(),t=e.canvas,n=e.engineOptions;this.initPromise=this.engine.init(yi({canvas:t||ni(),swapChainFormat:ti.EV.BGRA8Unorm,antialiasing:!1},n))}},{key:"setBundle",value:function(e){this.compiledBundle=JSON.parse(JSON.stringify(e))}},{key:"setDispatch",value:function(e){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=e),this}},{key:"setMaxIteration",value:function(e){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=e),this}},{key:"setBinding",value:function(e,t){var n,r=this;if("string"===typeof e){var i=Nr(t)||vi(t)||(n=t,Array.isArray?Array.isArray(n):ii(n,"Array"));if(this.compiledBundle&&this.compiledBundle.context){var o=this.compiledBundle.context.defines.find((function(t){return t.name===e}));if(o)return o.value=t,this;var a=this.compiledBundle.context.uniforms.find((function(t){return t.name===e}));a&&(i?(a.data=t,a.isReferer=!1,a.storageClass===Mr.Uniform?this.model&&this.model.updateUniform(e,t):this.model&&this.model.updateBuffer(e,t)):(a.isReferer=!0,a.data=t))}}else Object.keys(e).forEach((function(t){r.setBinding(t,e[t])}));return this}},{key:"execute",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r=this,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:1,!this.dirty){e.next=6;break}return this.compiledBundle.context&&(t>1?this.compiledBundle.context.maxIteration=t:this.compiledBundle.context.maxIteration++),e.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter((function(e){return e.isReferer})).forEach((function(e){var t=e.data,n=e.name;r.model.confirmInput(t.model,n)})),n=0;n<t;n++)this.model.run();return this.engine.endFrame(),e.abrupt("return",this);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getOutput",value:function(){var e=(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.model.readData());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"compile",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:return t=yi({},this.compiledBundle.context),n=this.engine.supportWebGPU?this.engine.useWGSL?Ar.WGSL:Ar.GLSL450:Ar.GLSL100,r=this.compiledBundle.shaders[n],t.defines.filter((function(e){return e.runtime})).forEach((function(e){var t="".concat("__DefineValuePlaceholder__").concat(e.name);r=r.replace(t,"".concat(e.value))})),t.shader=r,t.uniforms.forEach((function(e){if(!e.data&&e.storageClass===Mr.StorageBuffer){var n=1;e.type===kr.FloatArray?n=1:e.type===kr.Vector4FloatArray&&(n=4),e.data=new Float32Array(t.output.length*n).fill(0)}})),this.compiledBundle.context=t,e.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=e.sent;case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),hi=a((di=gi).prototype,"engine",[li],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pi=a(di.prototype,"configService",[ci],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fi=di))||fi),to=(bi=(0,g.b2)(),xi=(0,g.f3)(v.MaterialComponentManager),bi((Ti=_i=function(){function e(){(0,i.Z)(this,e),this.config=void 0,r(this,"material",Si,this),this.entity=void 0,this.component=void 0}return(0,o.Z)(e,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(e){this.config=e}},{key:"setEntity",value:function(e,t){this.entity=e,this.component=this.material.create(e),this.component.entity=e,this.component.type=t,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),e}(),_i.BASIC="basic",Si=a((Ei=Ti).prototype,"material",[xi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wi=Ei))||wi),no=(ki=(0,g.b2)(),Ci=(0,g.f3)(v.MeshComponentManager),Mi=(0,g.f3)(v.CullableComponentManager),Ai=(0,g.f3)(v.TransformComponentManager),Ni=(0,g.f3)(v.Systems),Pi=(0,g.t6)(v.SceneGraphSystem),ki((Fi=Bi=function(){function e(){(0,i.Z)(this,e),this.attributes={},this.config=void 0,r(this,"mesh",Oi,this),r(this,"cullable",Ri,this),r(this,"transform",Li,this),r(this,"sceneGraphSystem",ji,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}return(0,o.Z)(e,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(e){this.config=e}},{key:"setEntity",value:function(e){this.entity=e,this.cullable.create(e),this.meshComponent=this.mesh.create(e),this.transformComponent=this.transform.create(e),this.onEntityCreated()}},{key:"setMaterial",value:function(e){return this.meshComponent.material=e,this}},{key:"setGeometry",value:function(e){return this.meshComponent.geometry=e,this}},{key:"setAttributes",value:function(e){var t=this;Object.keys(e).forEach((function(n){void 0!==e[n]&&e[n]!==t.attributes[n]&&(t.onAttributeChanged({name:n,data:e[n]}),t.attributes[n]=e[n])}))}},{key:"setVisible",value:function(e){var t=this;return this.meshComponent.visible=e,this.meshComponent.children.forEach((function(n){var r=t.mesh.getComponentByEntity(n);r&&(r.visible=e)})),this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(e){return this.sceneGraphSystem.attach(this.entity,e.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(t),n)}},{key:"convertAttributeName2UniformName",value:function(e){return e}}]),e}(),Bi.POINT="point",Bi.LINE="line",Bi.GRID="grid",Oi=a((Di=Fi).prototype,"mesh",[Ci],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ri=a(Di.prototype,"cullable",[Mi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Li=a(Di.prototype,"transform",[Ai],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ji=a(Di.prototype,"sceneGraphSystem",[Ni,Pi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ii=Di))||Ii),ro=n(9084),io=n.n(ro),oo=function(){function e(t,n){(0,i.Z)(this,e),this.attribute=void 0,this.buffer=void 0;var r=n.buffer,o=n.offset,a=n.stride,s=n.normalized,u=n.size,l=n.divisor;this.buffer=r,this.attribute={buffer:r.get(),offset:o||0,stride:a||0,normalized:s||!1,divisor:l||0},u&&(this.attribute.size=u)}return(0,o.Z)(e,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),ao=(zi={},(0,R.Z)(zi,J.POINTS,"points"),(0,R.Z)(zi,J.LINES,"lines"),(0,R.Z)(zi,J.LINE_LOOP,"line loop"),(0,R.Z)(zi,J.LINE_STRIP,"line strip"),(0,R.Z)(zi,J.TRIANGLES,"triangles"),(0,R.Z)(zi,J.TRIANGLE_FAN,"triangle fan"),(0,R.Z)(zi,J.TRIANGLE_STRIP,"triangle strip"),zi),so=(Yi={},(0,R.Z)(Yi,J.STATIC_DRAW,"static"),(0,R.Z)(Yi,J.DYNAMIC_DRAW,"dynamic"),(0,R.Z)(Yi,J.STREAM_DRAW,"stream"),Yi),uo=(Gi={},(0,R.Z)(Gi,J.BYTE,"int8"),(0,R.Z)(Gi,J.UNSIGNED_INT,"int16"),(0,R.Z)(Gi,J.INT,"int32"),(0,R.Z)(Gi,J.UNSIGNED_BYTE,"uint8"),(0,R.Z)(Gi,J.UNSIGNED_SHORT,"uint16"),(0,R.Z)(Gi,J.UNSIGNED_INT,"uint32"),(0,R.Z)(Gi,J.FLOAT,"float"),Gi),lo=(Vi={},(0,R.Z)(Vi,J.ALPHA,"alpha"),(0,R.Z)(Vi,J.LUMINANCE,"luminance"),(0,R.Z)(Vi,J.LUMINANCE_ALPHA,"luminance alpha"),(0,R.Z)(Vi,J.RGB,"rgb"),(0,R.Z)(Vi,J.RGBA,"rgba"),(0,R.Z)(Vi,J.RGBA4,"rgba4"),(0,R.Z)(Vi,J.RGB5_A1,"rgb5 a1"),(0,R.Z)(Vi,J.RGB565,"rgb565"),(0,R.Z)(Vi,J.DEPTH_COMPONENT,"depth"),(0,R.Z)(Vi,J.DEPTH_STENCIL,"depth stencil"),Vi),co=(Ui={},(0,R.Z)(Ui,J.DONT_CARE,"dont care"),(0,R.Z)(Ui,J.NICEST,"nice"),(0,R.Z)(Ui,J.FASTEST,"fast"),Ui),fo=(Wi={},(0,R.Z)(Wi,J.NEAREST,"nearest"),(0,R.Z)(Wi,J.LINEAR,"linear"),(0,R.Z)(Wi,J.LINEAR_MIPMAP_LINEAR,"mipmap"),(0,R.Z)(Wi,J.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),(0,R.Z)(Wi,J.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),(0,R.Z)(Wi,J.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),Wi),ho=(Zi={},(0,R.Z)(Zi,J.REPEAT,"repeat"),(0,R.Z)(Zi,J.CLAMP_TO_EDGE,"clamp"),(0,R.Z)(Zi,J.MIRRORED_REPEAT,"mirror"),Zi),po=(Hi={},(0,R.Z)(Hi,J.NONE,"none"),(0,R.Z)(Hi,J.BROWSER_DEFAULT_WEBGL,"browser"),Hi),go=(Xi={},(0,R.Z)(Xi,J.NEVER,"never"),(0,R.Z)(Xi,J.ALWAYS,"always"),(0,R.Z)(Xi,J.LESS,"less"),(0,R.Z)(Xi,J.LEQUAL,"lequal"),(0,R.Z)(Xi,J.GREATER,"greater"),(0,R.Z)(Xi,J.GEQUAL,"gequal"),(0,R.Z)(Xi,J.EQUAL,"equal"),(0,R.Z)(Xi,J.NOTEQUAL,"notequal"),Xi),vo=(Ki={},(0,R.Z)(Ki,J.FUNC_ADD,"add"),(0,R.Z)(Ki,J.MIN_EXT,"min"),(0,R.Z)(Ki,J.MAX_EXT,"max"),(0,R.Z)(Ki,J.FUNC_SUBTRACT,"subtract"),(0,R.Z)(Ki,J.FUNC_REVERSE_SUBTRACT,"reverse subtract"),Ki),mo=(qi={},(0,R.Z)(qi,J.ZERO,"zero"),(0,R.Z)(qi,J.ONE,"one"),(0,R.Z)(qi,J.SRC_COLOR,"src color"),(0,R.Z)(qi,J.ONE_MINUS_SRC_COLOR,"one minus src color"),(0,R.Z)(qi,J.SRC_ALPHA,"src alpha"),(0,R.Z)(qi,J.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),(0,R.Z)(qi,J.DST_COLOR,"dst color"),(0,R.Z)(qi,J.ONE_MINUS_DST_COLOR,"one minus dst color"),(0,R.Z)(qi,J.DST_ALPHA,"dst alpha"),(0,R.Z)(qi,J.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),(0,R.Z)(qi,J.CONSTANT_COLOR,"constant color"),(0,R.Z)(qi,J.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),(0,R.Z)(qi,J.CONSTANT_ALPHA,"constant alpha"),(0,R.Z)(qi,J.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),(0,R.Z)(qi,J.SRC_ALPHA_SATURATE,"src alpha saturate"),qi),yo=(Ji={},(0,R.Z)(Ji,J.NEVER,"never"),(0,R.Z)(Ji,J.ALWAYS,"always"),(0,R.Z)(Ji,J.LESS,"less"),(0,R.Z)(Ji,J.LEQUAL,"lequal"),(0,R.Z)(Ji,J.GREATER,"greater"),(0,R.Z)(Ji,J.GEQUAL,"gequal"),(0,R.Z)(Ji,J.EQUAL,"equal"),(0,R.Z)(Ji,J.NOTEQUAL,"notequal"),Ji),bo=($i={},(0,R.Z)($i,J.ZERO,"zero"),(0,R.Z)($i,J.KEEP,"keep"),(0,R.Z)($i,J.REPLACE,"replace"),(0,R.Z)($i,J.INVERT,"invert"),(0,R.Z)($i,J.INCR,"increment"),(0,R.Z)($i,J.DECR,"decrement"),(0,R.Z)($i,J.INCR_WRAP,"increment wrap"),(0,R.Z)($i,J.DECR_WRAP,"decrement wrap"),$i),xo=(Qi={},(0,R.Z)(Qi,J.FRONT,"front"),(0,R.Z)(Qi,J.BACK,"back"),Qi),wo=function(){function e(t,n){(0,i.Z)(this,e),this.buffer=void 0;var r=n.data,o=n.usage,a=n.type;this.buffer=t.buffer({data:r,usage:so[o||J.STATIC_DRAW],type:uo[a||J.UNSIGNED_BYTE]})}return(0,o.Z)(e,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(e){var t=e.data,n=e.offset;this.buffer.subdata(t,n)}}]),e}(),Eo=n(3433),So=9007199254740991,_o={};_o["[object Float32Array]"]=_o["[object Float64Array]"]=_o["[object Int8Array]"]=_o["[object Int16Array]"]=_o["[object Int32Array]"]=_o["[object Uint8Array]"]=_o["[object Uint8ClampedArray]"]=_o["[object Uint16Array]"]=_o["[object Uint32Array]"]=!0,_o["[object Arguments]"]=_o["[object Array]"]=_o["[object ArrayBuffer]"]=_o["[object Boolean]"]=_o["[object DataView]"]=_o["[object Date]"]=_o["[object Error]"]=_o["[object Function]"]=_o["[object Map]"]=_o["[object Number]"]=_o["[object Object]"]=_o["[object RegExp]"]=_o["[object Set]"]=_o["[object String]"]=_o["[object WeakMap]"]=!1;var To=Object.prototype.toString;var ko=function(e){return function(e){return!!e&&"object"===(0,V.Z)(e)}(e)&&function(e){return"number"===typeof e&&e>-1&&e%1===0&&e<=So}(e.length)&&!!_o[To.call(e)]};function Co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Co(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Co(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ao=0,No=function(){function e(t,n){var r=this;(0,i.Z)(this,e),this.reGl=t,this.context=n,this.entity=f(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var o={};this.context.uniforms.forEach((function(e){var t=e.name,n=e.type,i=e.data,a=e.isReferer,s=e.storageClass;if(s===Mr.StorageBuffer){if(a)r.textureCache[t]={data:void 0},o["".concat(t,"Size")]=function(){return i.compiledBundle.context.output.textureSize};else{r.textureCache[t]=r.calcDataTexture(t,n,i);var u=r.textureCache[t],l=u.textureWidth,c=u.isOutput;o["".concat(t,"Size")]=[l,l],c&&(r.outputTextureName=t,r.context.needPingpong&&(r.outputTextureName="".concat(t,"Output"),r.textureCache[r.outputTextureName]=r.calcDataTexture(t,n,i)))}o[t]=function(){return r.textureCache[t].texture}}else if(s===Mr.Uniform){if(i&&(Array.isArray(i)||ko(i))&&i.length>16)throw new Error("invalid data type ".concat(n));o[t]=function(){return e.data}}}));var a=this.getOuputDataTexture(),s=a.textureWidth,u=a.texelCount;o.u_OutputTextureSize=[s,s],o.u_OutputTexelCount=u,this.context.output.textureSize=[s,s];var l={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(this.context.shader),uniforms:o,vert:"attribute vec3 a_Position;\nattribute vec2 a_TexCoord;\n\nvarying vec2 v_TexCoord;\n\nvoid main() {\n  gl_Position = vec4(a_Position, 1.0);\n  v_TexCoord = a_TexCoord;\n}",primitive:"triangle strip",count:4};this.computeCommand=this.reGl(l)}return(0,o.Z)(e,[{key:"run",value:function(){var e=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use((function(){e.computeCommand()}))}},{key:"readData",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r,i,o,a,s,l,c=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.reGl({framebuffer:this.texFBO})((function(){t=c.reGl.read()})),!t){e.next=6;break}if(n=this.getOuputDataTexture(),r=n.originalDataLength,i=n.elementsPerTexel,o=n.typedArrayConstructor,a=void 0===o?Float32Array:o,s=[],4!==i)for(l=0;l<t.length;l+=4)1===i?s.push(t[l]):2===i?s.push(t[l],t[l+1]):s.push(t[l],t[l+1],t[l+2]);else s=t;return e.abrupt("return",new a(s.slice(0,r)));case 6:return e.abrupt("return",new Float32Array);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"confirmInput",value:function(e,t){var n;this.entity===e.entity?(this.dynamicPingpong=!0,n=this):n=e,this.textureCache[t].id=n.getOuputDataTexture().id,this.textureCache[t].texture=n.getOuputDataTexture().texture}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(e,t){var n=this.context.uniforms.find((function(t){return t.name===e}));if(n){var r=this.calcDataTexture(e,n.type,t),i=r.texture,o=r.data;this.textureCache[e].data=o,this.textureCache[e].texture=i}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var e=this.context.output.name;this.textureCache[e].id=this.getOuputDataTexture().id,this.textureCache[e].texture=this.getOuputDataTexture().texture}var t=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=t}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var e=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=e}},{key:"cloneDataTexture",value:function(e){var t=e.data,n=e.textureWidth;return Mo(Mo({},e),{},{id:Ao++,texture:this.reGl.texture({width:n,height:n,data:t,type:"float"})})}},{key:"calcDataTexture",value:function(e,t,n){var r=1;t===kr.Vector4FloatArray&&(r=4);for(var i=[],o=0;o<n.length;o+=r)1===r?i.push(n[o],0,0,0):2===r?i.push(n[o],n[o+1],0,0):3===r?i.push(n[o],n[o+1],n[o+2],0):4===r&&i.push(n[o],n[o+1],n[o+2],n[o+3]);var a=n.length,s=Math.ceil(a/r),u=Math.ceil(Math.sqrt(s)),l=u*u;s<l&&i.push.apply(i,(0,Eo.Z)(new Array(4*(l-s)).fill(0)));var c=this.reGl.texture({width:u,height:u,data:i,type:"float"});return{id:Ao++,data:i,originalDataLength:a,typedArrayConstructor:ko(n)?n.constructor:void 0,textureWidth:u,texture:c,texelCount:s,elementsPerTexel:r,isOutput:e===this.context.output.name}}}]),e}(),Po=function(){function e(t,n){(0,i.Z)(this,e),this.elements=void 0;var r=n.data,o=n.usage,a=n.type,s=n.count;this.elements=t.elements({data:r,usage:so[o||J.STATIC_DRAW],type:uo[a||J.UNSIGNED_BYTE],count:s})}return(0,o.Z)(e,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(e){var t=e.data;this.elements.subdata(t)}},{key:"destroy",value:function(){this.elements.destroy()}}]),e}(),Io=function(){function e(t,n){(0,i.Z)(this,e),this.framebuffer=void 0;var r=n.width,o=n.height,a=n.color,s=n.colors,u=(n.depth,n.stencil,{width:r,height:o});Array.isArray(s)&&(u.colors=s.map((function(e){return e.get()}))),a&&"boolean"!==typeof a&&(u.color=a.get()),this.framebuffer=t.framebuffer(u)}return(0,o.Z)(e,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.framebuffer.resize(t,n)}}]),e}();function Do(e){var t={};return Object.keys(e).forEach((function(n){Oo(n,e[n],t,"")})),t}function Oo(e,t,n,r){null===t||"number"===typeof t||"boolean"===typeof t||Array.isArray(t)&&"number"===typeof t[0]||ko(t)||""===t||void 0!==t.resize?n["".concat(r&&r+".").concat(e)]=t:(function(e){var t=(0,V.Z)(e);return null!=e&&("object"===t||"function"===t)}(t)&&Object.keys(t).forEach((function(i){Oo(i,t[i],n,"".concat(r&&r+".").concat(e))})),Array.isArray(t)&&t.forEach((function(t,i){Object.keys(t).forEach((function(o){Oo(o,t[o],n,"".concat(r&&r+".").concat(e,"[").concat(i,"]"))}))})))}function Ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jo,Bo,Fo,zo=function(){function e(t,n){(0,i.Z)(this,e),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=t;var r=n.vs,o=n.fs,a=n.defines,s=n.attributes,u=n.uniforms,l=n.primitive,c=n.count,f=n.elements,d=n.depth,h=n.blend,p=n.stencil,g=n.cull,v=n.instances,m=n.scissor,y=n.viewport,b={};u&&(this.uniforms=Do(u),Object.keys(u).forEach((function(e){b[e]=t.prop(e)})));var x={};Object.keys(s).forEach((function(e){x[e]=s[e].get()}));var w=a&&this.generateDefines(a)||"",E={attributes:x,frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(w,"\n").concat(o),uniforms:b,vert:"\n".concat(w,"\n").concat(r),primitive:ao[void 0===l?J.TRIANGLES:l]};v&&(E.instances=v),c&&(E.count=c),f&&(E.elements=f.get()),m&&(E.scissor=m),y&&(E.viewport=y),this.initDepthDrawParams({depth:d},E),this.initBlendDrawParams({blend:h},E),this.initStencilDrawParams({stencil:p},E),this.initCullDrawParams({cull:g},E),this.drawCommand=t(E)}return(0,o.Z)(e,[{key:"addUniforms",value:function(e){this.uniforms=Lo(Lo({},this.uniforms),Do(e))}},{key:"draw",value:function(e){var t=Lo(Lo({},this.uniforms),Do(e.uniforms||{})),n={};Object.keys(t).forEach((function(e){var r=(0,V.Z)(t[e]);"boolean"===r||"number"===r||Array.isArray(t[e])||t[e].BYTES_PER_ELEMENT?n[e]=t[e]:"string"===r||(n[e]=t[e].get())})),this.drawCommand(n)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(e,t){var n=e.depth;n&&(t.depth={enable:void 0===n.enable||!!n.enable,mask:void 0===n.mask||!!n.mask,func:go[n.func||J.LESS],range:n.range||[0,1]})}},{key:"initBlendDrawParams",value:function(e,t){var n=e.blend;if(n){var r=n.enable,i=n.func,o=n.equation,a=n.color,s=void 0===a?[0,0,0,0]:a;t.blend={enable:!!r,func:{srcRGB:mo[i&&i.srcRGB||J.SRC_ALPHA],srcAlpha:mo[i&&i.srcAlpha||J.SRC_ALPHA],dstRGB:mo[i&&i.dstRGB||J.ONE_MINUS_SRC_ALPHA],dstAlpha:mo[i&&i.dstAlpha||J.ONE_MINUS_SRC_ALPHA]},equation:{rgb:vo[o&&o.rgb||J.FUNC_ADD],alpha:vo[o&&o.alpha||J.FUNC_ADD]},color:s}}}},{key:"initStencilDrawParams",value:function(e,t){var n=e.stencil;if(n){var r=n.enable,i=n.mask,o=void 0===i?-1:i,a=n.func,s=void 0===a?{cmp:J.ALWAYS,ref:0,mask:-1}:a,u=n.opFront,l=void 0===u?{fail:J.KEEP,zfail:J.KEEP,zpass:J.KEEP}:u,c=n.opBack,f=void 0===c?{fail:J.KEEP,zfail:J.KEEP,zpass:J.KEEP}:c;t.stencil={enable:!!r,mask:o,func:Lo(Lo({},s),{},{cmp:yo[s.cmp]}),opFront:{fail:bo[l.fail],zfail:bo[l.zfail],zpass:bo[l.zpass]},opBack:{fail:bo[f.fail],zfail:bo[f.zfail],zpass:bo[f.zpass]}}}}},{key:"initCullDrawParams",value:function(e,t){var n=e.cull;if(n){var r=n.enable,i=n.face,o=void 0===i?J.BACK:i;t.cull={enable:!!r,face:xo[o]}}}},{key:"generateDefines",value:function(e){return Object.keys(e).map((function(t){return"#define ".concat(t," ").concat(Number(e[t]))})).join("\n")}}]),e}(),Yo=function(){function e(t,n){(0,i.Z)(this,e),this.texture=void 0,this.width=void 0,this.height=void 0;var r=n.data,o=n.type,a=void 0===o?J.UNSIGNED_BYTE:o,s=n.width,u=n.height,l=n.flipY,c=void 0!==l&&l,f=n.format,d=void 0===f?J.RGBA:f,h=n.mipmap,p=void 0!==h&&h,g=n.wrapS,v=void 0===g?J.CLAMP_TO_EDGE:g,m=n.wrapT,y=void 0===m?J.CLAMP_TO_EDGE:m,b=n.aniso,x=void 0===b?0:b,w=n.alignment,E=void 0===w?1:w,S=n.premultiplyAlpha,_=void 0!==S&&S,T=n.mag,k=void 0===T?J.NEAREST:T,C=n.min,M=void 0===C?J.NEAREST:C,A=n.colorSpace,N=void 0===A?J.BROWSER_DEFAULT_WEBGL:A;this.width=s,this.height=u;var P={width:s,height:u,type:uo[a],format:lo[d],wrapS:ho[v],wrapT:ho[y],mag:fo[k],min:fo[M],alignment:E,flipY:c,colorSpace:po[N],premultiplyAlpha:_,aniso:x};r&&(P.data=r),"number"===typeof p?P.mipmap=co[p]:"boolean"===typeof p&&(P.mipmap=p),this.texture=t.texture(P)}return(0,o.Z)(e,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.texture.resize(t,n),this.width=t,this.height=n}},{key:"destroy",value:function(){this.texture.destroy()}}]),e}(),Go=(0,g.b2)()((Bo=function(){function e(){var t=this;(0,i.Z)(this,e),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var e=(0,l.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.uniforms){e.next=3;break}return e.next=3,Promise.all(Object.keys(n.uniforms).map(function(){var e=(0,l.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.uniforms[t]||void 0===n.uniforms[t].load){e.next=5;break}return e.next=3,n.uniforms[t].load();case 3:r=e.sent,n.uniforms[t]=r;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",new zo(t.gl,n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createAttribute=function(e){return new oo(t.gl,e)},this.createBuffer=function(e){return new wo(t.gl,e)},this.createElements=function(e){return new Po(t.gl,e)},this.createTexture2D=function(e){return new Yo(t.gl,e)},this.createFramebuffer=function(e){return new Io(t.gl,e)},this.useFramebuffer=function(e,n){t.gl({framebuffer:e?e.get():null})(n)},this.createComputeModel=function(){var e=(0,l.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new No(t.gl,n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.clear=function(e){var n=e.color,r=e.depth,i=e.stencil,o=e.framebuffer,a=void 0===o?null:o,s={color:n,depth:r,stencil:i};s.framebuffer=null===a?a:a.get(),t.gl.clear(s)},this.setScissor=function(e){t.gl&&t.gl._gl&&(e.enable&&e.box?(t.gl._gl.enable(J.SCISSOR_TEST),t.gl._gl.scissor(e.box.x,e.box.y,e.box.width,e.box.height)):t.gl._gl.disable(J.SCISSOR_TEST),t.gl._refresh())},this.viewport=function(e){var n=e.x,r=e.y,i=e.width,o=e.height;t.gl&&t.gl._gl&&(t.gl._gl.viewport(n,r,i,o),t.gl._refresh())},this.readPixels=function(e){var n=e.framebuffer,r={x:e.x,y:e.y,width:e.width,height:e.height};return n&&(r.framebuffer=n.get()),t.gl.read(r)},this.getCanvas=function(){return t.$canvas},this.getGLContext=function(){return t.gl._gl},this.destroy=function(){t.gl&&(t.gl.destroy(),t.inited=!1)}}return(0,o.Z)(e,[{key:"init",value:function(){var e=(0,l.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.inited){e.next=2;break}return e.abrupt("return");case 2:return this.$canvas=t.canvas,e.next=5,new Promise((function(e,n){io()({canvas:t.canvas,attributes:{alpha:!0,antialias:t.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(t,r){!t&&r||n(t),e(r)}})}));case 5:this.gl=e.sent,this.inited=!0;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),e}(),jo=Bo))||jo;function Vo(e,t,n,r){if("undefined"!==typeof window){var i=document.getElementsByTagName("head")[0],o=document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("src",e),r&&(o.id=r),o.onload=function(){t&&t()},o.onerror=function(t){n&&n("Unable to load script '".concat(e,"'"),t)},i.appendChild(o)}}function Uo(e,t){return new Promise((function(t,n){Vo(e,(function(){t()}),(function(e,t){n(t)}))}))}function Wo(){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Fo){e.next=2;break}return e.abrupt("return",Fo);case 2:return e.next=4,Uo("https://preview.babylonjs.com/glslang/glslang.js");case 4:return Fo=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),e.abrupt("return",Fo);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ho=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.options=n,this.attribute=void 0,this.buffer=void 0;var r=n,o=r.buffer,a=r.offset,s=r.stride,u=r.normalized,l=r.size,c=r.divisor,f=r.arrayStride,d=r.attributes,h=r.stepMode;this.buffer=o,this.attribute={buffer:o.get(),offset:a||0,stride:s||0,normalized:u||!1,divisor:c||0,arrayStride:f||0,attributes:d,stepMode:h||"vertex"},l&&(this.attribute.size=l)}return(0,o.Z)(e,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),Xo=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.options=n,this.buffer=void 0;var r=n,o=r.data,a=r.usage;r.type;this.buffer=this.createBuffer(o instanceof Array?new Float32Array(o):o,a||ti.FB.Vertex|ti.FB.CopyDst)}return(0,o.Z)(e,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(e){var t=e.data,n=e.offset;this.setSubData(this.buffer,n,t instanceof Array?new Float32Array(t):t)}},{key:"createBuffer",value:function(e,t){var n=e.byteLength%4,r={size:e.byteLength+n,usage:t},i=this.engine.device.createBuffer(r);return this.setSubData(i,0,e),i}},{key:"setSubData",value:function(e,t,n){(Tr?this.engine.device.getQueue():this.engine.device.defaultQueue).writeBuffer(e,t,n)}}]),e}();var Ko,qo,Jo,$o,Qo,ea,ta,na=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.context=n,this.entity=f(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}return(0,o.Z)(e,[{key:"init",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r,i,o,a,s,l=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:t=e.sent,n=t.computeStage,r=this.context.uniforms.filter((function(e){return e.storageClass===Mr.StorageBuffer})),i=this.context.uniforms.filter((function(e){return e.storageClass===Mr.Uniform})),o=i.length?1:0,this.bindGroupEntries=[],o&&(a=0,s=[],i.forEach((function(e){if("number"===typeof e.data)l.uniformGPUBufferLayout.push({name:e.name,offset:a}),a+=4,s.push(e.data);else{var t,n=(null===(t=e.data)||void 0===t?void 0:t.length)||1;3===n&&(n=4,e.data.push(0));var r=a/4%4;if(r>0){var i=4-r;if(n>1&&n<=i)2===n&&(3===i&&(a+=4,s.push(0)),s.push.apply(s,(0,Eo.Z)(e.data)),l.uniformGPUBufferLayout.push({name:e.name,offset:a}));else{for(var o=0;o<i;o++)a+=4,s.push(0);s.push.apply(s,(0,Eo.Z)(e.data)),l.uniformGPUBufferLayout.push({name:e.name,offset:a})}}a+=4*n}})),this.uniformBuffer=new Xo(this.engine,{data:s instanceof Array?new Float32Array(s):s,usage:ti.FB.Uniform|ti.FB.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),r.forEach((function(e){var t;null!==e.data&&(e.type!==kr.Vector4FloatArray&&e.type!==kr.FloatArray||(e.name===l.context.output.name?(t=new Xo(l.engine,{data:isFinite(Number(e.data))?[e.data]:e.data,usage:ti.FB.Storage|ti.FB.CopyDst|ti.FB.CopySrc}),l.outputBuffer=t,l.context.output={name:e.name,length:isFinite(Number(e.data))?1:e.data.length,typedArrayConstructor:Float32Array,gpuBuffer:t.get()}):e.isReferer?e.data.model&&e.data.model.outputBuffer&&(t=e.data.model.outputBuffer):t=new Xo(l.engine,{data:isFinite(Number(e.data))?[e.data]:e.data,usage:ti.FB.Storage|ti.FB.CopyDst|ti.FB.CopySrc}),l.vertexBuffers[e.name]=t,l.bindGroupEntries.push({binding:o,resource:{name:e.name,refer:t?void 0:e.data,buffer:t?t.get():void 0}}),o++))})),this.computePipeline=this.engine.device.createComputePipeline({computeStage:n}),console.log(this.bindGroupEntries),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach((function(t){return e.vertexBuffers[t].destroy()}))}},{key:"readData",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r,i,o,a,s,l,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.context.output)){e.next=16;break}if(n=t.length,r=t.typedArrayConstructor,!(i=t.gpuBuffer)){e.next=16;break}return o=n*r.BYTES_PER_ELEMENT,a=this.engine.device.createBuffer({size:o,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),(s=this.engine.device.createCommandEncoder()).copyBufferToBuffer(i,0,a,0,o),(Tr?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([s.finish()]),e.next=12,a.mapAsync(ti.gc.Read);case 12:return l=a.getMappedRange(),c=new r(l.slice(0)),a.unmap(),e.abrupt("return",c);case 16:return e.abrupt("return",new Float32Array);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(){var e;this.engine.currentComputePass&&(this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(e=this.engine.currentComputePass).dispatch.apply(e,(0,Eo.Z)(this.context.dispatch)))}},{key:"updateBuffer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.vertexBuffers[e];r&&r.subData({data:t,offset:n})}},{key:"updateUniform",value:function(e,t){var n=this.uniformGPUBufferLayout.find((function(t){return t.name===e}));n&&this.uniformBuffer.subData({data:Number.isFinite(t)?new Float32Array([t]):new Float32Array(t),offset:n.offset})}},{key:"confirmInput",value:function(e,t){var n=this.vertexBuffers[t],r=e.outputBuffer;if(n&&r&&n!==r){var i=this.engine.device.createCommandEncoder(),o=e.context.output,a=o.length*o.typedArrayConstructor.BYTES_PER_ELEMENT;i.copyBufferToBuffer(r.get(),0,n.get(),0,a),(Tr?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([i.finish()])}}},{key:"compileShaderToSpirV",value:function(e,t,n){return this.compileRawShaderToSpirV(n+e,t)}},{key:"compileRawShaderToSpirV",value:function(e,t){return this.engine.glslang.compileGLSL(e,t)}},{key:"compileComputePipelineStageDescriptor",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,"#version 450\n",this.engine.options.useWGSL){e.next=6;break}return e.next=5,this.compileShaderToSpirV(t,"compute","#version 450\n");case 5:n=e.sent;case 6:return e.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:n,isWHLSL:Tr}),entryPoint:"main"}});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ra=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.options=n,this.indexCount=void 0,this.buffer=void 0;var r=n,o=r.data,a=(r.usage,r.type,r.count);this.indexCount=a||0,this.buffer=new Xo(t,{data:o instanceof Array?new Uint16Array(o):o,usage:ti.FB.Index|ti.FB.CopyDst})}return(0,o.Z)(e,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),ia=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.options=n,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;var r=n,o=(r.width,r.height,r.color),a=(r.colors,r.depth);r.stencil;o&&(this.colorTexture=o),a&&(this.depthTexture=a)}return(0,o.Z)(e,[{key:"get",value:function(){var e,t;return{color:null===(e=this.colorTexture)||void 0===e?void 0:e.get(),depth:null===(t=this.depthTexture)||void 0===t?void 0:t.get()}}},{key:"destroy",value:function(){var e,t;null===(e=this.colorTexture)||void 0===e||e.destroy(),null===(t=this.depthTexture)||void 0===t||t.destroy()}},{key:"resize",value:function(e){var t,n,r=e.width,i=e.height;r===this.width&&i===this.height||(null===(t=this.colorTexture)||void 0===t||t.resize({width:r,height:i}),null===(n=this.depthTexture)||void 0===n||n.resize({width:r,height:i}));this.width=r,this.height=i}}]),e}(),oa=(Ko={},(0,R.Z)(Ko,J.POINTS,ti.YV.PointList),(0,R.Z)(Ko,J.LINES,ti.YV.LineList),(0,R.Z)(Ko,J.LINE_LOOP,ti.YV.LineList),(0,R.Z)(Ko,J.LINE_STRIP,ti.YV.LineStrip),(0,R.Z)(Ko,J.TRIANGLES,ti.YV.TriangleList),(0,R.Z)(Ko,J.TRIANGLE_FAN,ti.YV.TriangleList),(0,R.Z)(Ko,J.TRIANGLE_STRIP,ti.YV.TriangleStrip),Ko),aa=(qo={},(0,R.Z)(qo,J.NEVER,ti.wb.Never),(0,R.Z)(qo,J.ALWAYS,ti.wb.Always),(0,R.Z)(qo,J.LESS,ti.wb.Less),(0,R.Z)(qo,J.LEQUAL,ti.wb.LessEqual),(0,R.Z)(qo,J.GREATER,ti.wb.Greater),(0,R.Z)(qo,J.GEQUAL,ti.wb.GreaterEqual),(0,R.Z)(qo,J.EQUAL,ti.wb.Equal),(0,R.Z)(qo,J.NOTEQUAL,ti.wb.NotEqual),qo),sa=(Jo={},(0,R.Z)(Jo,J.FUNC_ADD,ti.db.Add),(0,R.Z)(Jo,J.MIN_EXT,ti.db.Min),(0,R.Z)(Jo,J.MAX_EXT,ti.db.Max),(0,R.Z)(Jo,J.FUNC_SUBTRACT,ti.db.Subtract),(0,R.Z)(Jo,J.FUNC_REVERSE_SUBTRACT,ti.db.ReverseSubtract),Jo),ua=($o={},(0,R.Z)($o,J.ZERO,ti.zi.Zero),(0,R.Z)($o,J.ONE,ti.zi.One),(0,R.Z)($o,J.SRC_COLOR,ti.zi.SrcColor),(0,R.Z)($o,J.ONE_MINUS_SRC_COLOR,ti.zi.OneMinusSrcColor),(0,R.Z)($o,J.SRC_ALPHA,ti.zi.SrcAlpha),(0,R.Z)($o,J.ONE_MINUS_SRC_ALPHA,ti.zi.OneMinusSrcAlpha),(0,R.Z)($o,J.DST_COLOR,ti.zi.DstColor),(0,R.Z)($o,J.ONE_MINUS_DST_COLOR,ti.zi.OneMinusDstColor),(0,R.Z)($o,J.DST_ALPHA,ti.zi.DstAlpha),(0,R.Z)($o,J.ONE_MINUS_DST_ALPHA,ti.zi.OneMinusDstAlpha),(0,R.Z)($o,J.CONSTANT_COLOR,ti.zi.BlendColor),(0,R.Z)($o,J.ONE_MINUS_CONSTANT_COLOR,ti.zi.OneMinusBlendColor),(0,R.Z)($o,J.SRC_ALPHA_SATURATE,ti.zi.SrcAlphaSaturated),$o),la=(Qo={},(0,R.Z)(Qo,J.ALPHA,"r8unorm"),(0,R.Z)(Qo,J.RGBA,"rgba8unorm"),(0,R.Z)(Qo,J.DEPTH_COMPONENT,"depth32float"),(0,R.Z)(Qo,J.DEPTH_STENCIL,"depth24plus-stencil8"),Qo),ca=(ea={},(0,R.Z)(ea,J.NEAREST,"nearest"),(0,R.Z)(ea,J.LINEAR,"linear"),ea),fa=(ta={},(0,R.Z)(ta,J.REPEAT,"repeat"),(0,R.Z)(ta,J.CLAMP_TO_EDGE,"clamp-to-edge"),(0,R.Z)(ta,J.MIRRORED_REPEAT,"mirror-repeat"),ta);function da(e){var t=e.cull;return t&&t.enable?t.face?t.face===J.FRONT?ti.Wf.Front:ti.Wf.Back:void 0:ti.Wf.None}function ha(e){var t=e.depth,n=(e.stencil,{compare:ti.wb.Always,depthFailOp:ti.xS.Keep,failOp:ti.xS.Keep,passOp:ti.xS.Keep});return{depthWriteEnabled:t&&t.enable,depthCompare:aa[(null===t||void 0===t?void 0:t.func)||J.ALWAYS],format:ti.EV.Depth24PlusStencil8,stencilFront:n,stencilBack:n,stencilReadMask:4294967295,stencilWriteMask:4294967295}}function pa(e,t){var n=e.blend;return[{format:t,alphaBlend:{srcFactor:ua[n&&n.func&&n.func.srcAlpha||J.ONE],dstFactor:ua[n&&n.func&&n.func.dstAlpha||J.ZERO],operation:sa[n&&n.equation&&n.equation.alpha||J.FUNC_ADD]},colorBlend:{srcFactor:ua[n&&n.func&&n.func.srcRGB||J.ONE],dstFactor:ua[n&&n.func&&n.func.dstRGB||J.ZERO],operation:sa[n&&n.equation&&n.equation.rgb||J.FUNC_ADD]},writeMask:ti.Yw.All}]}function ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ma(e){for(var t=0,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o];t+=s.length}for(var u=new e(t),l=0,c=0,f=r;c<f.length;c++){var d=f[c];u.set(d,l),l+=d.length}return u}var ya,ba,xa,wa=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.options=n,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}return(0,o.Z)(e,[{key:"init",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r,i,o,a,s,l,c,f,d,h,p,g,v,m,y=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.options,n=t.vs,r=t.fs,i=t.attributes,o=t.uniforms,a=t.primitive,t.count,s=t.elements,l=t.depth,c=t.blend,f=t.stencil,d=t.cull,t.instances,e.next=3,this.compilePipelineStageDescriptor(n,r,null);case 3:h=e.sent,p=h.vertexStage,g=h.fragmentStage,o&&this.buildUniformBindGroup(o),s&&(this.indexBuffer=s.get(),this.indexCount=s.indexCount),v={vertexBuffers:Object.keys(i).map((function(e,t){var n=i[e],r=n.get(),o=r.arrayStride,a=r.stepMode,s=r.attributes;return y.attributeCache[e]=n,{arrayStride:o,stepMode:a,attributes:s}}))},m={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:oa[a||J.TRIANGLES],rasterizationState:va(va({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:da({cull:d})}),depthStencilState:ha({depth:l,stencil:f}),colorStates:pa({blend:c},this.engine.options.swapChainFormat),layout:this.pipelineLayout,vertexStage:p,fragmentStage:g,vertexState:v},this.renderPipeline=this.engine.device.createRenderPipeline(m);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addUniforms",value:function(e){this.uniforms=va(va({},this.uniforms),Do(e))}},{key:"draw",value:function(e){var t=this,n=this.engine.getCurrentRenderPass(),r=va(va({},this.uniforms),Do(e.uniforms||{})),i=[];Object.keys(r).forEach((function(e){var n=(0,V.Z)(r[e]);if("boolean"===n||"number"===n||Array.isArray(r[e])||r[e].BYTES_PER_ELEMENT){var o,a=null===(o=t.uniformGPUBufferLayout.find((function(t){return t.name===e})))||void 0===o?void 0:o.offset;null!==a&&t.uniformBuffer.subData({data:r[e],offset:a})}else{var s,u=null===(s=t.uniformGPUBufferLayout.find((function(t){return t.name===e})))||void 0===s?void 0:s.offset;if(null!==u){var l=r[e].get(),c=l.color||l,f=c.texture,d=c.sampler;d&&(i.push({binding:u,resource:d}),u++),i.push({binding:u,resource:f.createView()})}}})),this.uniformBuffer&&(i[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:i}),this.renderPipeline&&n.setPipeline(this.renderPipeline),n.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&n.setIndexBuffer(this.indexBuffer.get(),ti.iD.Uint32,0),Object.keys(this.attributeCache).forEach((function(e,r){n.setVertexBuffer(0+r,t.attributeCache[e].get().buffer,0)})),this.indexBuffer?n.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):n.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:function(){var e=(0,l.Z)(u().mark((function e(t,n,r){var i,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i="#version 450\n",o=t,a=n,this.engine.options.useWGSL){e.next=10;break}return e.next=6,this.compileShaderToSpirV(t,"vertex",i);case 6:return o=e.sent,e.next=9,this.compileShaderToSpirV(n,"fragment",i);case 9:a=e.sent;case 10:return e.abrupt("return",this.createPipelineStageDescriptor(o,a));case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"compileShaderToSpirV",value:function(e,t,n){return this.compileRawShaderToSpirV(n+e,t)}},{key:"compileRawShaderToSpirV",value:function(e,t){return this.engine.glslang.compileGLSL(e,t)}},{key:"createPipelineStageDescriptor",value:function(e,t){return{vertexStage:{module:this.engine.device.createShaderModule({code:e,isWHLSL:Tr}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:t,isWHLSL:Tr}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:ti.zX.CCW,cullMode:ti.Wf.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(e){var t=this,n=0,r=ma.apply(void 0,[Float32Array].concat((0,Eo.Z)(Object.keys(e).map((function(r){return e[r]?(t.uniformGPUBufferLayout.push({name:r,offset:n}),n+=4*(e[r].length||1),e[r]):[]}))))),i=[],o=!1;r.length&&(o=!0,i.push({binding:0,visibility:ti.$X.Fragment|ti.$X.Vertex,type:ti.$l.UniformBuffer})),Object.keys(e).filter((function(t){return null===e[t]})).forEach((function(e,n){t.uniformGPUBufferLayout.push({name:e,offset:2*n+(o?1:0)}),i.push({binding:2*n+(o?1:0),visibility:ti.$X.Fragment,type:ti.$l.Sampler},{binding:2*n+(o?1:0)+1,visibility:ti.$X.Fragment,type:ti.$l.SampledTexture})})),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:i}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),o&&(this.uniformBuffer=new Xo(this.engine,{data:r instanceof Array?new Float32Array(r):r,usage:ti.FB.Uniform|ti.FB.CopyDst}))}}]),e}(),Ea=function(){function e(t,n){(0,i.Z)(this,e),this.engine=t,this.options=n,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}return(0,o.Z)(e,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(e){var t=e.width,n=e.height;t===this.width&&n===this.height||(this.destroy(),this.createTexture()),this.width=t,this.height=n}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var e=this.options,t=(e.data,e.type),n=(void 0===t&&J.UNSIGNED_BYTE,e.width),r=e.height,i=(e.flipY,e.format),o=void 0===i?J.RGBA:i,a=(e.mipmap,e.wrapS),s=void 0===a?J.CLAMP_TO_EDGE:a,u=e.wrapT,l=void 0===u?J.CLAMP_TO_EDGE:u,c=e.aniso,f=void 0===c?0:c,d=(e.alignment,e.premultiplyAlpha,e.mag),h=void 0===d?J.NEAREST:d,p=e.min,g=void 0===p?J.NEAREST:p,v=e.colorSpace,m=(void 0===v&&J.BROWSER_DEFAULT_WEBGL,e.usage);this.width=n,this.height=r,this.texture=this.engine.device.createTexture({size:[n,r,1],mipLevelCount:1,sampleCount:1,dimension:ti.kd.E2d,format:la[o],usage:m||ti.v2.Sampled|ti.v2.CopyDst}),(!m||m&ti.v2.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:fa[s],addressModeV:fa[l],addressModeW:fa[s],magFilter:ca[h],minFilter:ca[g],maxAnisotropy:f}))}}]),e}(),Sa=(0,g.b2)()((ba=function(){function e(){var t=this;(0,i.Z)(this,e),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:1/0,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(e){e.framebuffer;var n=e.color,r=e.depth,i=e.stencil;t.options.supportCompute&&t.startComputePass(),t.currentRenderTarget?(t.currentRenderPass&&t.endRenderTargetRenderPass(),t.startRenderTargetRenderPass(t.currentRenderTarget,n||null,!!r,!!i)):(t.mainColorAttachments[0].loadValue=n||ti.Ws.Load,t.mainDepthAttachment.depthLoadValue=r||ti.Ws.Load,t.mainDepthAttachment.stencilLoadValue=i?t.clearStencilValue:ti.Ws.Load,t.mainRenderPass&&t.endMainRenderPass(),t.startMainRenderPass())},this.createModel=function(){var e=(0,l.Z)(u().mark((function e(n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new wa(t,n),e.next=3,r.init();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createAttribute=function(e){return new Ho(t,e)},this.createBuffer=function(e){return new Xo(t,e)},this.createElements=function(e){return new ra(t,e)},this.createTexture2D=function(e){return new Ea(t,e)},this.createFramebuffer=function(e){return new ia(t,e)},this.useFramebuffer=function(e,n){t.currentRenderTarget&&t.unbindFramebuffer(t.currentRenderTarget),t.currentRenderTarget=e,t.currentRenderTargetViewDescriptor={dimension:ti.p_.E2d,arrayLayerCount:1,aspect:ti.H7.All},t.currentRenderPass=null,n()},this.createComputeModel=function(){var e=(0,l.Z)(u().mark((function e(n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new na(t,n),e.next=3,r.init();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getCanvas=function(){return t.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(e){var n=e.x,r=e.y,i=e.width,o=e.height;if(t.currentRenderPass){if(t.transientViewport.x!==1/0){t.getCurrentRenderPass().setViewport(t.transientViewport.x,t.transientViewport.y,t.transientViewport.width,t.transientViewport.height,0,1)}else if(n!==t.cachedViewport.x||r!==t.cachedViewport.y||i!==t.cachedViewport.width||o!==t.cachedViewport.height){t.cachedViewport={x:n,y:r,width:i,height:o},t.getCurrentRenderPass().setViewport(n,r,i,o,0,1)}}else t.transientViewport={x:n,y:r,width:i,height:o}},this.readPixels=function(e){throw new Error("Method not implemented.")}}return(0,o.Z)(e,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:function(){var e=(0,l.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.canvas=t.canvas,this.options=t,this.useWGSL=!!t.useWGSL,this.mainPassSampleCount=t.antialiasing?this.defaultSampleCount:1,e.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setScissor",value:function(e){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach((function(e){return e.destroy()})),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),Tr?this.device.getQueue().submit(this.commandBuffers.filter((function(e){return e}))):this.device.defaultQueue.submit(this.commandBuffers.filter((function(e){return e})))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wo();case 2:return this.glslang=e.sent,e.next=5,null===(t=navigator)||void 0===t||null===(n=t.gpu)||void 0===n?void 0:n.requestAdapter();case 5:return this.adapter=e.sent,e.next=8,this.adapter.requestDevice();case 8:this.device=e.sent;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(Tr?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:ti.v2.OutputAttachment|ti.v2.CopySrc})}},{key:"initMainAttachments",value:function(){if(this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing){var e={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:ti.kd.E2d,format:ti.EV.BGRA8Unorm,usage:ti.v2.OutputAttachment};this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(e),this.mainColorAttachments=[{attachment:Tr?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:ti.EG.Store}]}else this.mainColorAttachments=[{attachment:Tr?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:ti.EG.Store}];var t={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:ti.kd.E2d,format:Tr?"depth32float-stencil8":ti.EV.Depth24PlusStencil8,usage:ti.v2.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(t),this.mainDepthAttachment={attachment:Tr?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:ti.EG.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:ti.EG.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=Tr?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=Tr?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(e,t,n){var r,i,o,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=null===(r=e.get().color)||void 0===r?void 0:r.texture;s&&(o=s.createView(this.currentRenderTargetViewDescriptor));var u,l=null===(i=e.get().depth)||void 0===i?void 0:i.texture;l&&(u=l.createView());var c=this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:o,loadValue:null!==t?t:ti.Ws.Load,storeOp:ti.EG.Store}],depthStencilAttachment:l&&u?{attachment:u,depthLoadValue:n?this.clearDepthValue:ti.Ws.Load,depthStoreOp:ti.EG.Store,stencilLoadValue:a?this.clearStencilValue:ti.Ws.Load,stencilStoreOp:ti.EG.Store}:void 0});this.currentRenderPass=c,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&null!==this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(e){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=1/0,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),e}(),ya=ba))||ya;function _a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Ta,ka=4/64,Ca=(0,g.b2)()(xa=function(e){(0,x.Z)(n,e);var t=_a(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"onEntityCreated",value:function(){var e=this.config,t=e.widthSegments,n=void 0===t?1:t,r=e.heightSegments,i=void 0===r?1:r,o=e.depthSegments,a=void 0===o?1:o,s=e.halfExtents,u=void 0===s?G.al(.5,.5,.5):s,l=n,c=i,f=a,d=(0,p.Z)(u,3),h=d[0],g=d[1],v=d[2],m=[G.al(-h,-g,v),G.al(h,-g,v),G.al(h,g,v),G.al(-h,g,v),G.al(h,-g,-v),G.al(-h,-g,-v),G.al(-h,g,-v),G.al(h,g,-v)],y=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],b=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],x=1,w=2,E=3,S=4,_=5,T=[],k=[],C=[],M=[],A=[],N=0,P=function(e,t,n){var r,i,o,a;for(o=0;o<=t;o++)for(a=0;a<=n;a++){var s=G.Ue(),u=G.Ue(),l=G.Ue(),c=G.Ue();G.t7(s,m[y[e][0]],m[y[e][1]],o/t),G.t7(u,m[y[e][0]],m[y[e][2]],a/n),G.lu(l,u,m[y[e][0]]),G.IH(c,s,l),r=o/t,i=a/n,T.push(c[0],c[1],c[2]),k.push(b[e][0],b[e][1],b[e][2]),C.push(r,i),r=.875*(r/=3)+ka,i=.875*(i/=3)+ka,r+=e%3/3,i+=Math.floor(e/3)/3,M.push(r,i),o<t&&a<n&&(A.push(N+n+1,N+1,N),A.push(N+n+1,N+n+2,N+1)),N++}};P(0,l,c),P(x,l,c),P(w,l,f),P(E,l,f),P(S,f,c),P(_,f,c);var I=Sr(T),D=this.getComponent();D.indices=Uint32Array.from(A),D.aabb=I,D.vertexCount=N,D.attributes=[{dirty:!0,name:"position",data:Float32Array.from(T),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(k),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(C),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(ei))||xa;function Ma(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Aa,Na=(0,g.b2)()(Ta=function(e){(0,x.Z)(n,e);var t=Ma(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"onEntityCreated",value:function(){var e=this.config.geometries,t=void 0===e?[]:e,n=this.getComponent();n.aabb=new Me;var r=[],i=[],o=0;t.forEach((function(e){var t=e.aabb,a=e.indices,s=e.vertexCount,u=e.attributes;n.aabb.add(t),n.vertexCount+=s,a&&i.push.apply(i,(0,Eo.Z)(a.map((function(e){return e+o})))),o+=s,u.forEach((function(e,t){r[t]?e.data&&(Nr(e.data)?r[t].push(e.data):vi(e.data)?r[t].data=function(e,t){if(!e&&!t)throw new Error("Please specify valid arguments for parameters a and b.");if(!t||0===t.length)return e;if(!e||0===e.length)return t;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(t))throw new Error("The types of the two arguments passed for parameters a and b do not match.");var n=new e.constructor(e.length+t.length);return n.set(e),n.set(t,e.length),n}(r[t].data,e.data):r[t].data=r[t].data.concat(e.data)):(r[t]=e,r[t].dirty=!0)}))})),n.attributes=r,n.indices=Uint32Array.from(i),n.dirty=!0}}]),n}(ei))||Ta;function Pa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Ia,Da=(0,g.b2)()(Aa=function(e){(0,x.Z)(n,e);var t=Pa(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"onEntityCreated",value:function(){for(var e=this.config,t=e.halfExtents,n=void 0===t?[.5,.5]:t,r=e.widthSegments,i=void 0===r?5:r,o=e.lengthSegments,a=void 0===o?5:o,s=[],u=[],l=[],c=[],f=0,d=0;d<=i;d++)for(var h=0;h<=a;h++){var p=-n[0]+2*n[0]*d/i,g=-(-n[1]+2*n[1]*h/a),v=d/i,m=h/a;s.push(p,0,g),u.push(0,1,0),l.push(v,m),d<i&&h<a&&(c.push(f+a+1,f+1,f),c.push(f+a+1,f+a+2,f+1)),f++}var y=Sr(s),b=this.getComponent();b.indices=Uint32Array.from(c),b.aabb=y,b.vertexCount=f,b.attributes=[{dirty:!0,name:"position",data:Float32Array.from(s),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(u),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(l),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(ei))||Aa;function Oa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Ra,La,ja,Ba,Fa,za,Ya,Ga,Va=(0,g.b2)()(Ia=function(e){(0,x.Z)(n,e);var t=Oa(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"onEntityCreated",value:function(){for(var e=this.config,t=e.radius,n=void 0===t?.5:t,r=e.latitudeBands,i=void 0===r?16:r,o=e.longitudeBands,a=void 0===o?16:o,s=[],u=[],l=[],c=[],f=0;f<=i;f++)for(var d=f*Math.PI/i,h=Math.sin(d),p=Math.cos(d),g=0;g<=a;g++){var v=2*g*Math.PI/a-Math.PI/2,m=Math.sin(v),y=Math.cos(v)*h,b=p,x=m*h,w=1-g/a,E=1-f/i;s.push(y*n,b*n,x*n),u.push(y,b,x),l.push(w,E)}for(var S=0;S<i;++S)for(var _=0;_<a;++_){var T=S*(a+1)+_,k=T+a+1;c.push(T+1,k,T),c.push(T+1,k+1,k)}var C=Sr(s),M=this.getComponent();M.indices=Uint32Array.from(c),M.aabb=C,M.vertexCount=s.length/3,M.attributes=[{dirty:!0,name:"position",data:Float32Array.from(s),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(u),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(l),arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),n}(ei))||Ia;function Ua(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Wa,Za,Ha,Xa,Ka,qa,Ja,$a,Qa,es,ts,ns,rs=(Ra=(0,g.b2)(),La=(0,g.f3)(v.RenderEngine),ja=(0,g.f3)(v.ShaderModuleService),Ra((Ga=function(e){(0,x.Z)(n,e);var t=Ua(n);function n(){var e;(0,i.Z)(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r(e=t.call.apply(t,[this].concat(a)),"engine",za,(0,L.Z)(e)),r(e,"shaderModuleService",Ya,(0,L.Z)(e)),e}return(0,o.Z)(n,[{key:"onEntityCreated",value:function(){var e=this.getComponent(),t=this.engine.supportWebGPU?"layout(set = 0, binding = 0) uniform Uniforms {\n  vec4 color;\n  mat4 projectionMatrix;\n  mat4 modelViewMatrix;\n} uniforms;\n\nlayout(location = 0) in vec3 position;\n// layout(location = 1) in vec3 barycentric;\n\nlayout(location = 0) out vec4 fragColor;\n// layout(location = 1) out vec3 v_Barycentric;\n\nvoid main() {\n  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);\n  fragColor = uniforms.color;\n  // v_Barycentric = barycentric;\n}":'attribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform vec4 color;\n\nvarying vec4 fragColor;\n\n#pragma include "uv.vert.declaration"\n\nvoid main() {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  fragColor = color;\n\n  #pragma include "uv.vert.main"\n}',n=this.engine.supportWebGPU?"// layout(set = 0, binding = 1) uniform WireframeUniforms {\n//   float lineWidth;\n//   vec4 lineColor;\n// } wireframe;\n\nlayout(location = 0) in vec4 fragColor;\n// layout(location = 1) in vec3 v_Barycentric;\n\nlayout(location = 0) out vec4 outColor;\n\n// wireframe\n// float edgeFactor() {\n//   vec3 d = fwidth(v_Barycentric);\n//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);\n//   return min(min(a3.x, a3.y), a3.z);\n// }\n\nvoid main() {\n  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));\n  outColor = fragColor;\n}":'varying vec4 fragColor;\n\n#pragma include "uv.frag.declaration"\n#pragma include "map.frag.declaration"\n\nvoid main() {\n  vec4 diffuseColor = fragColor;\n\n  #pragma include "map.frag.main"\n\n  gl_FragColor = diffuseColor;\n}';this.shaderModuleService.registerModule("material-basic",{vs:t,fs:n});var r=this.shaderModuleService.getModule("material-basic"),i=r.vs,o=r.fs,a=r.uniforms;e.vertexShaderGLSL=i,e.fragmentShaderGLSL=o,e.setUniform(a),this.config.map&&(e.setDefines({USE_UV:1,USE_MAP:1}),e.setUniform({map:this.config.map,uvTransform:Y.create()}))}}]),n}(to),za=a((Fa=Ga).prototype,"engine",[La],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ya=a(Fa.prototype,"shaderModuleService",[ja],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ba=Fa))||Ba);function is(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var os,as,ss,us,ls,cs,fs,ds,hs,ps,gs,vs,ms=(Wa=(0,g.b2)(),Za=(0,g.f3)(v.Systems),Ha=(0,g.t6)(v.MaterialSystem),Xa=(0,g.f3)(v.Systems),Ka=(0,g.t6)(v.GeometrySystem),qa=(0,g.f3)(v.ShaderModuleService),Wa((ns=function(e){(0,x.Z)(n,e);var t=is(n);function n(){var e;(0,i.Z)(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r(e=t.call.apply(t,[this].concat(a)),"materialSystem",Qa,(0,L.Z)(e)),r(e,"geometrySystem",es,(0,L.Z)(e)),r(e,"shaderModuleService",ts,(0,L.Z)(e)),e}return(0,o.Z)(n,[{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data,r=this.getMeshComponent();r&&r.material&&("gridColor"===t?(r.material.setUniform("u_GridColor",n),r.material.setUniform("u_GridColor2",n)):"gridSize"===t&&(r.material.setUniform("u_GridSize",n),r.material.setUniform("u_GridSize2",n)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:"attribute vec3 a_Position;\n\nvarying vec3 v_Position;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nvoid main() {\n  v_Position = a_Position;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);\n}",fs:"// generate grid, borrow from clay.gl viewer\n// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl\n#extension GL_OES_standard_derivatives : enable\n\nvarying vec3 v_Position;\n// varying vec3 v_Normal;\n\nuniform float u_GridSize : 5;\nuniform float u_GridSize2 : .5;\nuniform vec4 u_GridColor : [0, 0, 0, 1];\nuniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];\nuniform bool u_GridEnabled : true;\n\n// uniform vec3 u_LightDirection;\n// uniform vec3 u_LightColor;\n// uniform vec3 u_Camera;\n\nvoid main() {\n  // vec3 n = v_Normal;\n  // vec3 l = normalize(u_LightDirection);\n  // float NdotL = clamp(dot(n, l), 0.001, 1.0);\n\n  gl_FragColor = vec4(1.);\n\n  if (u_GridEnabled) {\n    float wx = v_Position.x;\n    float wz = v_Position.z;\n    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;\n    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;\n\n    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;\n    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;\n\n    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);\n    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);\n    // if (v0 > 0.1) {\n        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);\n    // }\n    // else {\n        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);\n    // }\n  }\n\n  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);\n  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;\n\n  // gl_FragColor.rgb *= diffuseColor;\n}"});var e=this.shaderModuleService.getModule("grid"),t=e.vs,n=e.fs,r=e.uniforms,i=this.materialSystem.createShaderMaterial({vertexShader:t,fragmentShader:n});this.setMaterial(i);var o=this.geometrySystem.createBufferGeometry({vertexCount:4});this.setGeometry(o),i.setCull({enable:!1,face:J.BACK}).setDepth({enable:!0,func:J.LESS}),i.setUniform(r),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),o.setIndex([0,3,2,2,1,0]),o.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),n}(no),Qa=a(($a=ns).prototype,"materialSystem",[Za,Ha],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),es=a($a.prototype,"geometrySystem",[Xa,Ka],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ts=a($a.prototype,"shaderModuleService",[qa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ja=$a))||Ja),ys=n(1583),bs=n(5687);function xs(e,t,n,r,i){ws(t,r,-i),ws(t,r,i),e.push(n),e.push(n)}function ws(e,t,n){e.push([[t[0],t[1]],n])}function Es(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Ss,_s,Ts,ks,Cs,Ms,As,Ns,Ps,Is,Ds,Os,Rs=(os=(0,g.b2)(),as=(0,g.f3)(v.Systems),ss=(0,g.t6)(v.MaterialSystem),us=(0,g.f3)(v.Systems),ls=(0,g.t6)(v.GeometrySystem),cs=(0,g.f3)(v.ShaderModuleService),os((vs=function(e){(0,x.Z)(n,e);var t=Es(n);function n(){var e;(0,i.Z)(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r(e=t.call.apply(t,[this].concat(a)),"materialSystem",hs,(0,L.Z)(e)),r(e,"geometrySystem",ps,(0,L.Z)(e)),r(e,"shaderModuleService",gs,(0,L.Z)(e)),e.vertexCount=void 0,e}return(0,o.Z)(n,[{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data,r=this.getMeshComponent();if(r&&r.material)switch(t){case"dashArray":r.material.setUniform("u_dash_array",n);break;case"dashOffset":r.material.setUniform("u_dash_offset",n);break;case"dashRatio":r.material.setUniform("u_dash_ratio",n);break;case"thickness":r.material.setUniform("u_thickness",n);break;case"color":var i=new Array(this.vertexCount).fill(void 0).map((function(){return n})).reduce((function(e,t){return[].concat((0,Eo.Z)(e),(0,Eo.Z)(t))}),[]);r.geometry.setAttribute("a_color",Float32Array.from(i),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]})}}},{key:"onEntityCreated",value:function(){var e=this;this.shaderModuleService.registerModule("line",{vs:"attribute vec2 a_pos;\nattribute vec4 a_color;\nattribute float a_line_miter;\nattribute vec2 a_line_normal;\nattribute float a_counters;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform float u_thickness : 0.02;\nuniform vec2 u_viewport;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_counters;\n\nvoid main() {\n  v_color = a_color;\n  v_counters = a_counters;\n\n  vec3 normal = normalize(vec3(a_line_normal, 0.0));\n\n  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);\n\n  v_normal = vec2(normal * sign(a_line_miter));\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;\n}\n",fs:"uniform float u_dash_array : 0.02;\nuniform float u_dash_offset : 0;\nuniform float u_dash_ratio : 0;\nuniform float u_thickness : 0.02;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_counters;\n\nvoid main() {\n    float blur = 1. - smoothstep(0.98, 1., length(v_normal));\n\n    gl_FragColor = v_color;\n    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));\n}"});var t=this.shaderModuleService.getModule("line"),n=t.vs,r=t.fs,i=t.uniforms,o=this.materialSystem.createShaderMaterial({vertexShader:n,fragmentShader:r}),a=function(e,t,n){var r=[0,0],i=[0,0],o=[0,0],a=[0,0],s=-1,u=!1,l=null,c=(0,ys.create)(),f=n||0,d=[],h=[],p=[],g=[0,0];t&&(e=e.slice()).push(e[0]);for(var v=e.length,m=1;m<v;m++){var y=f,b=e[m-1],x=e[m],w=m<e.length-1?e[m+1]:null;if(g.push(m/v,m/v),(0,bs.o7)(r,x,b),l||(l=[0,0],(0,bs.mJ)(l,r)),u||(u=!0,xs(h,d,b,l,1)),p.push([y+0,y+1,y+2]),w){(0,bs.o7)(i,w,x);var E=(0,bs.x7)(o,a,r,i,1),S=(0,ys.dot)(o,l)<0?-1:1,_=E>3;if(!isFinite(E)){(0,bs.mJ)(l,r),xs(h,d,x,l,1),p.push(1===s?[y,y+2,y+3]:[y+2,y+1,y+3]),f+=2,s=S;continue}_?(E=3,g.push(m/v),ws(d,l,-S),h.push(x),ws(d,a,E*S),h.push(x),p.push(s!==-S?[y,y+2,y+3]:[y+2,y+1,y+3]),p.push([y+2,y+3,y+4]),(0,bs.mJ)(c,i),(0,ys.copy)(l,c),ws(d,l,-S),h.push(x),f+=3):(xs(h,d,x,a,E),p.push(1===s?[y,y+2,y+3]:[y+2,y+1,y+3]),S=-1,(0,ys.copy)(l,a),f+=2),s=S}else(0,bs.mJ)(l,r),xs(h,d,x,l,1),p.push(1===s?[y,y+2,y+3]:[y+2,y+1,y+3]),f+=2}return{normals:d,attrIndex:p,attrPos:h,attrCounters:g}}(this.config.points,!1),s=a.normals,u=a.attrIndex,l=a.attrPos,c=a.attrCounters,f=l.length;this.vertexCount=f;var d=this.geometrySystem.createBufferGeometry({vertexCount:f});this.setMaterial(o),this.setGeometry(d),o.setCull({enable:!1,face:J.BACK}).setUniform(i),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness});var h=[],p=[];s.forEach((function(e){var t=e[0],n=e[1];h.push([t[0],t[1]]),p.push(n)})),d.setIndex(u.reduce((function(e,t){return[].concat((0,Eo.Z)(e),(0,Eo.Z)(t))}),[])),d.setAttribute("a_pos",Float32Array.from(l.reduce((function(e,t){return[].concat((0,Eo.Z)(e),(0,Eo.Z)(t))}),[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]});var g=new Array(f).fill(void 0).map((function(){return(0,Eo.Z)(e.config.color)})).reduce((function(e,t){return[].concat((0,Eo.Z)(e),(0,Eo.Z)(t))}),[]);d.setAttribute("a_color",Float32Array.from(g),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),d.setAttribute("a_line_miter",Float32Array.from(p),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),d.setAttribute("a_line_normal",Float32Array.from(h.reduce((function(e,t){return[].concat((0,Eo.Z)(e),(0,Eo.Z)(t))}),[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),d.setAttribute("a_counters",Float32Array.from(c),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),n}(no),hs=a((ds=vs).prototype,"materialSystem",[as,ss],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ps=a(ds.prototype,"geometrySystem",[us,ls],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gs=a(ds.prototype,"shaderModuleService",[cs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fs=ds))||fs);function Ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function js(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,E.Z)(e);if(t){var i=(0,E.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,w.Z)(this,n)}}var Bs,Fs,zs,Ys,Gs,Vs,Us,Ws,Zs,Hs,Xs=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],Ks=(Ss=(0,g.b2)(),_s=(0,g.f3)(v.Systems),Ts=(0,g.t6)(v.MaterialSystem),ks=(0,g.f3)(v.Systems),Cs=(0,g.t6)(v.GeometrySystem),Ms=(0,g.f3)(v.ShaderModuleService),Ss((Os=function(e){(0,x.Z)(n,e);var t=js(n);function n(){var e;(0,i.Z)(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r(e=t.call.apply(t,[this].concat(a)),"materialSystem",Ps,(0,L.Z)(e)),r(e,"geometrySystem",Is,(0,L.Z)(e)),r(e,"shaderModuleService",Ds,(0,L.Z)(e)),e}return(0,o.Z)(n,[{key:"onAttributeChanged",value:function(e){var t=e.name,n=e.data,r=this.getMeshComponent();r&&r.material&&("strokeWidth"===t?r.material.setUniform("u_stroke_width",n):"strokeColor"===t?r.material.setUniform("u_stroke_color",n):"strokeOpacity"===t?r.material.setUniform("u_stroke_opacity",n):"opacity"===t?r.material.setUniform("u_opacity",n):"blur"===t&&r.material.setUniform("u_blur",n))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:'attribute vec2 position;\nattribute vec4 color;\nattribute float shape;\nattribute vec2 offset;\nattribute float size;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nuniform float u_stroke_width : 0.01;\nuniform float u_device_pixel_ratio;\nuniform vec2 u_viewport;\n\nvarying vec4 v_color;\nvarying vec4 v_data;\nvarying float v_radius;\n\n#pragma include "picking"\n\nvoid main() {\n  v_color = color;\n  v_radius = size;\n\n  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);\n\n  // construct point coords\n  v_data = vec4(position, antialiasblur, shape);\n\n  gl_Position = projectionMatrix * modelViewMatrix\n    * vec4(position * size + offset, 0.0, 1.0);\n\n  setPickingColor(a_PickingColor);\n}',fs:"uniform float u_blur : 0.05;\nuniform float u_opacity : 0.7;\nuniform float u_stroke_width : 0.01;\nuniform vec4 u_stroke_color : [0, 0, 0, 0];\nuniform float u_stroke_opacity : 1;\n\nvarying vec4 v_color;\nvarying vec4 v_data;\nvarying float v_radius;\n\n#pragma include \"sdf2d\"\n#pragma include \"picking\"\n\nvoid main() {\n  int shape = int(floor(v_data.w + 0.5));\n\n  float antialiasblur = v_data.z;\n  float antialiased_blur = -max(u_blur, antialiasblur);\n  float r = v_radius / (v_radius + u_stroke_width);\n\n  float outer_df;\n  float inner_df;\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\n  // if (shape == 0) {\n    outer_df = sdCircle(v_data.xy, 1.0);\n    inner_df = sdCircle(v_data.xy, r);\n  // } else if (shape == 1) {\n  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\n  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\n  // } else if (shape == 2) {\n  //   outer_df = sdBox(v_data.xy, vec2(1.));\n  //   inner_df = sdBox(v_data.xy, vec2(r));\n  // } else if (shape == 3) {\n  //   outer_df = sdPentagon(v_data.xy, 0.8);\n  //   inner_df = sdPentagon(v_data.xy, r * 0.8);\n  // } else if (shape == 4) {\n  //   outer_df = sdHexagon(v_data.xy, 0.8);\n  //   inner_df = sdHexagon(v_data.xy, r * 0.8);\n  // } else if (shape == 5) {\n  //   outer_df = sdOctogon(v_data.xy, 1.0);\n  //   inner_df = sdOctogon(v_data.xy, r);\n  // } else if (shape == 6) {\n  //   outer_df = sdHexagram(v_data.xy, 0.52);\n  //   inner_df = sdHexagram(v_data.xy, r * 0.52);\n  // } else if (shape == 7) {\n  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));\n  //   inner_df = sdRhombus(v_data.xy, vec2(r));\n  // } else if (shape == 8) {\n  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);\n  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\n  // }\n\n  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);\n\n  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(\n    antialiased_blur,\n    0.0,\n    inner_df\n  );\n  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;\n\n  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);\n  gl_FragColor.a = gl_FragColor.a * opacity_t;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}"});var e=this.shaderModuleService.getModule("grid"),t=e.vs,n=e.fs,r=e.uniforms,i=this.materialSystem.createShaderMaterial({vertexShader:t,fragmentShader:n,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:J.SRC_ALPHA,dstRGB:J.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}});i.setUniform(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ls(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({u_device_pixel_ratio:window.devicePixelRatio},r));var o=this.buildAttributes(),a=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:o.instancedOffsets.length/2,vertexCount:6});a.setIndex([0,2,1,0,3,2]),a.setAttribute("position",Float32Array.from(o.positions),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),a.setAttribute("offset",Float32Array.from(o.instancedOffsets),{arrayStride:8,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),a.setAttribute("color",Float32Array.from(o.instancedColors),{arrayStride:16,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),a.setAttribute("size",Float32Array.from(o.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),a.setAttribute("shape",Float32Array.from(o.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),a.setAttribute("a_PickingColor",Float32Array.from(o.instancedPickingColors),{arrayStride:12,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(i),this.setGeometry(a)}},{key:"buildAttribute",value:function(e,t,n){var r,i,o,a,s;(r=t.instancedPickingColors).push.apply(r,(0,Eo.Z)([(s=e.id||n)+1&255,s+1>>8&255,s+1>>8>>8&255])),t.instancedShapes.push(Xs.indexOf(e.shape||"circle")),(i=t.instancedColors).push.apply(i,(0,Eo.Z)(e.color||[1,0,0,1])),(o=t.instancedOffsets).push.apply(o,(0,Eo.Z)(e.position||[0,0])),(a=t.instancedSizes).push.apply(a,(0,Eo.Z)(e.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var e=this,t={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach((function(n,r){e.buildAttribute(n,t,r)})):this.buildAttribute(this.config,t,0),t}}]),n}(no),Ps=a((Ns=Os).prototype,"materialSystem",[_s,Ts],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Is=a(Ns.prototype,"geometrySystem",[ks,Cs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ds=a(Ns.prototype,"shaderModuleService",[Ms],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),As=Ns))||As);function qs(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Js(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Js(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Js(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $s,Qs,eu,tu,nu,ru,iu,ou,au,su,uu,lu,cu=(Bs=(0,g.b2)(),Fs=(0,g.f3)(v.RenderEngine),zs=(0,g.f3)(v.ShaderModuleService),Ys=(0,g.f3)(v.ConfigService),Bs((Hs=function(){function e(){(0,i.Z)(this,e),this.container=void 0,r(this,"engine",Us,this),r(this,"shaderModule",Ws,this),r(this,"configService",Zs,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0}return(0,o.Z)(e,[{key:"init",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r,i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.shaderModule.registerBuiltinModules(),this.shaderModule.registerModule("uv.vert.declaration",{vs:"#ifdef USE_UV\n  attribute vec2 uv;\n\t#ifdef UVS_VERTEX_ONLY\n    vec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif"}),this.shaderModule.registerModule("uv.vert.main",{vs:"#ifdef USE_UV\n  vUv = (uvTransform * vec3(uv, 1)).xy;\n#endif"}),this.shaderModule.registerModule("uv.frag.declaration",{fs:"#if (defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ))\n  varying vec2 vUv;\n#endif"}),this.shaderModule.registerModule("map.frag.declaration",{fs:"#ifdef USE_MAP\n  uniform sampler2D map;\n#endif"}),this.shaderModule.registerModule("map.frag.main",{fs:"#ifdef USE_MAP\n  vec4 texelColor = texture2D(map, vUv);\n  // texelColor = mapTexelToLinear(texelColor);\n  diffuseColor *= texelColor;\n#endif"}),t=this.container.getAll(v.Systems),!(n=this.configService.get()).canvas){e.next=30;break}return e.next=11,this.engine.init({canvas:n.canvas,swapChainFormat:ti.EV.BGRA8Unorm,antialiasing:!1});case 11:r=qs(t),e.prev=12,r.s();case 14:if((i=r.n()).done){e.next=21;break}if(!(o=i.value).initialize){e.next=19;break}return e.next=19,o.initialize();case 19:e.next=14;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(12),r.e(e.t0);case 26:return e.prev=26,r.f(),e.finish(26);case 29:this.inited=!0;case 30:case"end":return e.stop()}}),e,this,[[12,23,26,29]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r,i,o,a,s,l=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.inited&&!this.rendering){e.next=2;break}return e.abrupt("return");case 2:for(this.pendings.length&&this.pendings.forEach((function(e){e()})),this.rendering=!0,this.engine.beginFrame(),t=this.container.getAll(v.Systems),n=l.length,r=new Array(n),i=0;i<n;i++)r[i]=l[i];o=qs(t),e.prev=8,o.s();case 10:if((a=o.n()).done){e.next=17;break}if(!(s=a.value).execute){e.next=15;break}return e.next=15,s.execute(r);case 15:e.next=10;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),o.e(e.t0);case 22:return e.prev=22,o.f(),e.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return e.stop()}}),e,this,[[8,19,22,25]])})));return function(){return e.apply(this,arguments)}}()},{key:"clear",value:function(e){var t=this;return this.inited?this.engine.clear(e):this.pendings.unshift((function(){t.engine.clear(e),t.pendings.shift()})),this}},{key:"setSize",value:function(e){var t=e.width,n=e.height,r=this.engine.getCanvas();return this.size={width:t,height:n},r.width=t,r.height=n,this}},{key:"getSize",value:function(){return this.size}}]),e}(),Us=a((Vs=Hs).prototype,"engine",[Fs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ws=a(Vs.prototype,"shaderModule",[zs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zs=a(Vs.prototype,"configService",[Ys],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gs=Vs))||Gs),fu=(0,g.b2)()((Qs=function(){function e(){(0,i.Z)(this,e),this.entities=[]}return(0,o.Z)(e,[{key:"getEntities",value:function(){return this.entities}},{key:"addRenderable",value:function(e){return this.addEntity(e.getEntity()),this}},{key:"removeRenderable",value:function(e){return this.removeEntity(e.getEntity()),this}},{key:"addLight",value:function(){}},{key:"addEntity",value:function(e){return-1===this.entities.indexOf(e)&&this.entities.push(e),this}},{key:"removeEntity",value:function(e){var t=this.entities.indexOf(e);return this.entities.splice(t,1),this}}]),e}(),$s=Qs))||$s,du=(0,g.b2)()((tu=function(){function e(){(0,i.Z)(this,e),this.cache={}}return(0,o.Z)(e,[{key:"get",value:function(e){return this.cache[e]}},{key:"set",value:function(e,t){this.cache[e]=t}}]),e}(),eu=tu))||eu;function hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hu(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gu,vu,mu,yu,bu,xu,wu,Eu,Su,_u,Tu,ku,Cu,Mu=(nu=(0,g.b2)(),ru=(0,g.f3)(du),iu=(0,g.f3)(v.RenderEngine),nu((lu=function(){function e(){(0,i.Z)(this,e),r(this,"textureCache",su,this),r(this,"engine",uu,this),this.config=void 0,this.loaded=!1,this.texture=void 0}return(0,o.Z)(e,[{key:"setConfig",value:function(e){this.config=e}},{key:"isLoaded",value:function(){return this.loaded}},{key:"load",value:function(){var e=(0,l.Z)(u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.config.url){e.next=4;break}return e.abrupt("return",new Promise((function(e,n){var r=t.textureCache.get(t.config.url);if(r)e(r);else{var i=new Image;i.crossOrigin="Anonymous",i.src=t.config.url,i.onload=function(){var n=t.engine.createTexture2D(pu(pu({},t.config),{},{data:i,width:i.width,height:i.height,flipY:!0}));t.textureCache.set(t.config.url,n),t.texture=n,t.loaded=!0,e(n)},i.onerror=function(){n()}}})));case 4:return this.loaded=!0,this.texture=this.engine.createTexture2D(this.config),e.abrupt("return",this.texture);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),su=a((au=lu).prototype,"textureCache",[ru],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uu=a(au.prototype,"engine",[iu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ou=au))||ou),Au=(gu=(0,g.b2)(),vu=(0,g.f3)(v.Systems),mu=(0,g.t6)(v.RendererSystem),gu((wu=function(){function e(){(0,i.Z)(this,e),r(this,"rendererSystem",xu,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}return(0,o.Z)(e,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(e){return this.camera=e,this}},{key:"setScene",value:function(e){return this.scene=e,this}},{key:"setViewport",value:function(e){return this.viewport=e,this}},{key:"setClearColor",value:function(e){return this.clearColor=e,this}},{key:"pick",value:function(e){return this.rendererSystem.pick(e,this)}}]),e}(),xu=a((bu=wu).prototype,"rendererSystem",[vu,mu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yu=bu))||yu);function Nu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nu(Object(n),!0).forEach((function(t){(0,R.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Iu=(Eu=(0,g.b2)(),Su=(0,g.f3)(v.ConfigService),Eu((Cu=function(){function e(){(0,i.Z)(this,e),r(this,"configService",ku,this),this.container=void 0}return(0,o.Z)(e,[{key:"getEngine",value:function(){var e=(0,l.Z)(u().mark((function e(){var t,n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.container.get(v.RenderEngine),n=this.configService.get(),r=n.canvas,i=n.engineOptions,e.next=4,t.init(Pu({canvas:r||ni(),swapChainFormat:ti.EV.BGRA8Unorm,antialiasing:!1},i));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTransformComponent",value:function(e){return this.container.get(v.TransformComponentManager).getComponentByEntity(e)}},{key:"getMeshComponent",value:function(e){return this.container.get(v.MeshComponentManager).getComponentByEntity(e)}},{key:"setConfig",value:function(e){this.configService.set(e)}},{key:"setContainer",value:function(e){this.container=e}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return f()}},{key:"createScene",value:function(){return this.container.get(fu)}},{key:"createCamera",value:function(){return this.container.get(Qr)}},{key:"createView",value:function(){return this.container.get(Au)}},{key:"createRenderable",value:function(e,t){var n=e?this.container.getNamed(v.Renderable,e):this.container.get(no),r=f();return n.setConfig(t||{}),n.setEntity(r),n}},{key:"createGeometry",value:function(e,t){var n=this.container.getNamed(v.Geometry,e),r=f();return n.setConfig(t||{}),n.setEntity(r),n.getComponent()}},{key:"createMaterial",value:function(e,t){var n=this.container.getNamed(v.Material,e),r=f();return n.setConfig(t||{}),n.setEntity(r,e),n.getComponent()}},{key:"createTexture2D",value:function(e){var t=this.container.get(Mu);return t.setConfig(e),t}},{key:"createBufferGeometry",value:function(e){return this.container.getNamed(v.Systems,v.GeometrySystem).createBufferGeometry(e)}},{key:"createInstancedBufferGeometry",value:function(e){return this.container.getNamed(v.Systems,v.GeometrySystem).createInstancedBufferGeometry(e)}},{key:"createShaderMaterial",value:function(e){return this.container.getNamed(v.Systems,v.MaterialSystem).createShaderMaterial(e)}},{key:"createKernel",value:function(e){var t=this.container.get(eo);return"string"===typeof e?t.setBundle(JSON.parse(e)):t.setBundle(e),t.init(),t}},{key:"createRenderer",value:function(){var e=this.container.get(cu);return e.container=this.container,e.init(),e}},{key:"destroy",value:function(){this.container.getAll(v.Systems).forEach((function(e){e.tearDown&&e.tearDown()})),this.container.get(v.RenderEngine).destroy(),this.container.get(v.InteractorService).destroy()}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Er(),r=navigator.gpu?Sa:Go;n.isBound(v.RenderEngine)||n.bind(v.RenderEngine).to(r).inSingletonScope(),n.bind(cu).toSelf(),n.bind(eo).toSelf(),n.bind(no).toSelf(),n.bind(Au).toSelf(),n.bind(Qr).toSelf(),n.bind(fu).toSelf(),n.bind(e).toSelf(),n.bind(du).toSelf(),n.bind(Mu).toSelf(),n.bind(v.Geometry).to(Ca).whenTargetNamed(ei.BOX),n.bind(v.Geometry).to(Va).whenTargetNamed(ei.SPHERE),n.bind(v.Geometry).to(Da).whenTargetNamed(ei.PLANE),n.bind(v.Geometry).to(Na).whenTargetNamed(ei.MERGED),n.bind(v.Material).to(rs).whenTargetNamed(to.BASIC),n.bind(v.Renderable).to(Ks).whenTargetNamed(no.POINT),n.bind(v.Renderable).to(Rs).whenTargetNamed(no.LINE),n.bind(v.Renderable).to(ms).whenTargetNamed(no.GRID);var i=n.get(e);return i.setContainer(n),i.setConfig(t),i}}]),e}(),ku=a((Tu=Cu).prototype,"configService",[Su],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_u=Tu))||_u)},3941:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}e=n.hmd(e);var i="__lodash_hash_undefined__",o=9007199254740991,a="[object Arguments]",s="[object Boolean]",u="[object Date]",l="[object Function]",c="[object GeneratorFunction]",f="[object Map]",d="[object Number]",h="[object Object]",p="[object Promise]",g="[object RegExp]",v="[object Set]",m="[object String]",y="[object Symbol]",b="[object WeakMap]",x="[object ArrayBuffer]",w="[object DataView]",E="[object Float32Array]",S="[object Float64Array]",_="[object Int8Array]",T="[object Int16Array]",k="[object Int32Array]",C="[object Uint8Array]",M="[object Uint8ClampedArray]",A="[object Uint16Array]",N="[object Uint32Array]",P=/\w*$/,I=/^\[object .+?Constructor\]$/,D=/^(?:0|[1-9]\d*)$/,O={};O[a]=O["[object Array]"]=O[x]=O[w]=O[s]=O[u]=O[E]=O[S]=O[_]=O[T]=O[k]=O[f]=O[d]=O[h]=O[g]=O[v]=O[m]=O[y]=O[C]=O[M]=O[A]=O[N]=!0,O["[object Error]"]=O[l]=O[b]=!1;var R="object"==("undefined"===typeof n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,L="object"==("undefined"===typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,j=R||L||Function("return this")(),B="object"==("undefined"===typeof exports?"undefined":r(exports))&&exports&&!exports.nodeType&&exports,F=B&&"object"==r(e)&&e&&!e.nodeType&&e,z=F&&F.exports===B;function Y(e,t){return e.set(t[0],t[1]),e}function G(e,t){return e.add(t),e}function V(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function U(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function W(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Z(e,t){return function(n){return e(t(n))}}function H(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var X=Array.prototype,K=Function.prototype,q=Object.prototype,J=j["__core-js_shared__"],$=function(){var e=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Q=K.toString,ee=q.hasOwnProperty,te=q.toString,ne=RegExp("^"+Q.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=z?j.Buffer:void 0,ie=j.Symbol,oe=j.Uint8Array,ae=Z(Object.getPrototypeOf,Object),se=Object.create,ue=q.propertyIsEnumerable,le=X.splice,ce=Object.getOwnPropertySymbols,fe=re?re.isBuffer:void 0,de=Z(Object.keys,Object),he=Be(j,"DataView"),pe=Be(j,"Map"),ge=Be(j,"Promise"),ve=Be(j,"Set"),me=Be(j,"WeakMap"),ye=Be(Object,"create"),be=Ve(he),xe=Ve(pe),we=Ve(ge),Ee=Ve(ve),Se=Ve(me),_e=ie?ie.prototype:void 0,Te=_e?_e.valueOf:void 0;function ke(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Me(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ae(e){this.__data__=new Ce(e)}function Ne(e,t){var n=We(e)||function(e){return function(e){return function(e){return!!e&&"object"==r(e)}(e)&&Ze(e)}(e)&&ee.call(e,"callee")&&(!ue.call(e,"callee")||te.call(e)==a)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],i=n.length,o=!!i;for(var s in e)!t&&!ee.call(e,s)||o&&("length"==s||Ye(s,i))||n.push(s);return n}function Pe(e,t,n){var r=e[t];ee.call(e,t)&&Ue(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Ie(e,t){for(var n=e.length;n--;)if(Ue(e[n][0],t))return n;return-1}function De(e,t,n,r,i,o,p){var b;if(r&&(b=o?r(e,i,o,p):r(e)),void 0!==b)return b;if(!Ke(e))return e;var I=We(e);if(I){if(b=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&ee.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,b)}else{var D=ze(e),R=D==l||D==c;if(He(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(D==h||D==a||R&&!o){if(U(e))return o?e:{};if(b=function(e){return"function"!=typeof e.constructor||Ge(e)?{}:(t=ae(e),Ke(t)?se(t):{});var t}(R?{}:e),!t)return function(e,t){return Le(e,Fe(e),t)}(e,function(e,t){return e&&Le(t,qe(t),e)}(b,e))}else{if(!O[D])return o?e:{};b=function(e,t,n,r){var i=e.constructor;switch(t){case x:return Re(e);case s:case u:return new i(+e);case w:return function(e,t){var n=t?Re(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case E:case S:case _:case T:case k:case C:case M:case A:case N:return function(e,t){var n=t?Re(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case f:return function(e,t,n){return V(t?n(W(e),!0):W(e),Y,new e.constructor)}(e,r,n);case d:case m:return new i(e);case g:return function(e){var t=new e.constructor(e.source,P.exec(e));return t.lastIndex=e.lastIndex,t}(e);case v:return function(e,t,n){return V(t?n(H(e),!0):H(e),G,new e.constructor)}(e,r,n);case y:return o=e,Te?Object(Te.call(o)):{}}var o}(e,D,De,t)}}p||(p=new Ae);var L=p.get(e);if(L)return L;if(p.set(e,b),!I)var j=n?function(e){return function(e,t,n){var r=t(e);return We(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,qe,Fe)}(e):qe(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(j||e,(function(i,o){j&&(i=e[o=i]),Pe(b,o,De(i,t,n,r,o,e,p))})),b}function Oe(e){return!(!Ke(e)||(t=e,$&&$ in t))&&(Xe(e)||U(e)?ne:I).test(Ve(e));var t}function Re(e){var t=new e.constructor(e.byteLength);return new oe(t).set(new oe(e)),t}function Le(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):void 0;Pe(n,a,void 0===s?e[a]:s)}return n}function je(e,t){var n=e.__data__;return function(e){var t=r(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Be(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Oe(n)?n:void 0}ke.prototype.clear=function(){this.__data__=ye?ye(null):{}},ke.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ke.prototype.get=function(e){var t=this.__data__;if(ye){var n=t[e];return n===i?void 0:n}return ee.call(t,e)?t[e]:void 0},ke.prototype.has=function(e){var t=this.__data__;return ye?void 0!==t[e]:ee.call(t,e)},ke.prototype.set=function(e,t){return this.__data__[e]=ye&&void 0===t?i:t,this},Ce.prototype.clear=function(){this.__data__=[]},Ce.prototype.delete=function(e){var t=this.__data__,n=Ie(t,e);return!(n<0)&&(n==t.length-1?t.pop():le.call(t,n,1),!0)},Ce.prototype.get=function(e){var t=this.__data__,n=Ie(t,e);return n<0?void 0:t[n][1]},Ce.prototype.has=function(e){return Ie(this.__data__,e)>-1},Ce.prototype.set=function(e,t){var n=this.__data__,r=Ie(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Me.prototype.clear=function(){this.__data__={hash:new ke,map:new(pe||Ce),string:new ke}},Me.prototype.delete=function(e){return je(this,e).delete(e)},Me.prototype.get=function(e){return je(this,e).get(e)},Me.prototype.has=function(e){return je(this,e).has(e)},Me.prototype.set=function(e,t){return je(this,e).set(e,t),this},Ae.prototype.clear=function(){this.__data__=new Ce},Ae.prototype.delete=function(e){return this.__data__.delete(e)},Ae.prototype.get=function(e){return this.__data__.get(e)},Ae.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ce){var r=n.__data__;if(!pe||r.length<199)return r.push([e,t]),this;n=this.__data__=new Me(r)}return n.set(e,t),this};var Fe=ce?Z(ce,Object):function(){return[]},ze=function(e){return te.call(e)};function Ye(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||D.test(e))&&e>-1&&e%1==0&&e<t}function Ge(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||q)}function Ve(e){if(null!=e){try{return Q.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ue(e,t){return e===t||e!==e&&t!==t}(he&&ze(new he(new ArrayBuffer(1)))!=w||pe&&ze(new pe)!=f||ge&&ze(ge.resolve())!=p||ve&&ze(new ve)!=v||me&&ze(new me)!=b)&&(ze=function(e){var t=te.call(e),n=t==h?e.constructor:void 0,r=n?Ve(n):void 0;if(r)switch(r){case be:return w;case xe:return f;case we:return p;case Ee:return v;case Se:return b}return t});var We=Array.isArray;function Ze(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}(e.length)&&!Xe(e)}var He=fe||function(){return!1};function Xe(e){var t=Ke(e)?te.call(e):"";return t==l||t==c}function Ke(e){var t=r(e);return!!e&&("object"==t||"function"==t)}function qe(e){return Ze(e)?Ne(e):function(e){if(!Ge(e))return de(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}t.Z=function(e){return De(e,!0,!0)}},7701:function(e){var t;"undefined"!==typeof self&&self,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=31)}([function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Array.isArray?Array.isArray(e):Object(r.a)(e,"Array")}},function(e,t,n){"use strict";t.a=function(e){return null!==e&&"function"!==typeof e&&isFinite(e.length)}},function(e,t,n){"use strict";var r=n(0),i=n(13);t.a=function(e,t){if(e)if(Object(r.a)(e))for(var n=0,o=e.length;n<o&&!1!==t(e[n],n);n++);else if(Object(i.a)(e))for(var a in e)if(e.hasOwnProperty(a)&&!1===t(e[a],a))break}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Function")}},function(e,t,n){"use strict";var r={}.toString;t.a=function(e,t){return r.call(e)==="[object "+t+"]"}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Number")}},function(e,t,n){"use strict";t.a=function(e){return null===e||void 0===e}},function(e,t,n){var r=n(33).mix;e.exports={assign:r}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"String")}},function(e,t,n){"use strict";var r=n(15),i=n(4);t.a=function(e){if(!Object(r.a)(e)||!Object(i.a)(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},function(e,t,n){"use strict";var r=n(6);t.a=function(e){return Object(r.a)(e)?"":e.toString()}},function(e,t,n){var r=n(18),i=function(){function e(e,t){void 0===t&&(t={}),this.options=t,this.rootNode=r(e,t)}return e.prototype.execute=function(){throw new Error("please override this method")},e}();e.exports=i},function(e,t,n){"use strict";var r=n(1);t.a=function(e,t){return!!Object(r.a)(e)&&e.indexOf(t)>-1}},function(e,t,n){"use strict";t.a=function(e){var t=typeof e;return null!==e&&"object"===t||"function"===t}},function(e,t,n){"use strict";var r=n(2),i=n(1);t.a=function(e,t){if(!Object(i.a)(e))return e;var n=[];return Object(r.a)(e,(function(e,r){t(e,r)&&n.push(e)})),n}},function(e,t,n){"use strict";t.a=function(e){return"object"===typeof e&&null!==e}},function(e,t,n){"use strict";function r(e,t){for(var n in t)t.hasOwnProperty(n)&&"constructor"!==n&&void 0!==t[n]&&(e[n]=t[n])}t.a=function(e,t,n,i){return t&&r(e,t),n&&r(e,n),i&&r(e,i),e}},function(e,t,n){var r=n(30),i=["LR","RL","TB","BT","H","V"],o=["LR","RL","H"],a=i[0];e.exports=function(e,t,n){var s=t.direction||a;if(t.isHorizontal=function(e){return o.indexOf(e)>-1}(s),s&&-1===i.indexOf(s))throw new TypeError("Invalid direction: "+s);if(s===i[0])n(e,t);else if(s===i[1])n(e,t),e.right2left();else if(s===i[2])n(e,t);else if(s===i[3])n(e,t),e.bottom2top();else if(s===i[4]||s===i[5]){var u=r(e,t),l=u.left,c=u.right;n(l,t),n(c,t),t.isHorizontal?l.right2left():l.bottom2top(),c.translate(l.x-c.x,l.y-c.y),e.x=l.x,e.y=c.y;var f=e.getBoundingBox();t.isHorizontal?f.top<0&&e.translate(0,-f.top):f.left<0&&e.translate(-f.left,0)}var d=t.fixedRoot;return void 0===d&&(d=!0),d&&e.translate(-(e.x+e.width/2+e.hgap),-(e.y+e.height/2+e.vgap)),e}},function(e,t,n){var r=n(7),i={getId:function(e){return e.id||e.name},getPreH:function(e){return e.preH||0},getPreV:function(e){return e.preV||0},getHGap:function(e){return e.hgap||18},getVGap:function(e){return e.vgap||18},getChildren:function(e){return e.children},getHeight:function(e){return e.height||36},getWidth:function(e){var t=e.label||" ";return e.width||18*t.split("").length}};function o(e,t){var n=this;if(n.vgap=n.hgap=0,e instanceof o)return e;n.data=e;var r=t.getHGap(e),i=t.getVGap(e);return n.preH=t.getPreH(e),n.preV=t.getPreV(e),n.width=t.getWidth(e),n.height=t.getHeight(e),n.width+=n.preH,n.height+=n.preV,n.id=t.getId(e),n.x=n.y=0,n.depth=0,n.children||(n.children=[]),n.addGap(r,i),n}r.assign(o.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(e,t){var n=this;n.hgap+=e,n.vgap+=t,n.width+=2*e,n.height+=2*t},eachNode:function(e){for(var t,n=[this];t=n.shift();)e(t),n=t.children.concat(n)},DFTraverse:function(e){this.eachNode(e)},BFTraverse:function(e){for(var t,n=[this];t=n.shift();)e(t),n=n.concat(t.children)},getBoundingBox:function(){var e={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode((function(t){e.left=Math.min(e.left,t.x),e.top=Math.min(e.top,t.y),e.width=Math.max(e.width,t.x+t.width),e.height=Math.max(e.height,t.y+t.height)})),e},translate:function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.eachNode((function(n){n.x+=e,n.y+=t,n.x+=n.preH,n.y+=n.preV}))},right2left:function(){var e=this,t=e.getBoundingBox();e.eachNode((function(e){e.x=e.x-2*(e.x-t.left)-e.width})),e.translate(t.width,0)},bottom2top:function(){var e=this,t=e.getBoundingBox();e.eachNode((function(e){e.y=e.y-2*(e.y-t.top)-e.height})),e.translate(0,t.height)}}),e.exports=function(e,t,n){void 0===t&&(t={});var a,s=new o(e,t=r.assign({},i,t)),u=[s];if(!n&&!e.collapsed)for(;a=u.shift();)if(!a.data.collapsed){var l=t.getChildren(a.data),c=l?l.length:0;if(a.children=new Array(c),l&&c)for(var f=0;f<c;f++){var d=new o(l[f],t);a.children[f]=d,u.push(d),d.parent=a,d.depth=a.depth+1}}return s}},function(e,t,n){"use strict";var r=n(6),i=n(20);t.a=function(e,t){var n=Object(i.a)(t),o=n.length;if(Object(r.a)(e))return!o;for(var a=0;a<o;a+=1){var s=n[a];if(t[s]!==e[s]||!(s in e))return!1}return!0}},function(e,t,n){"use strict";var r=n(2),i=n(3),o=Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];return Object(r.a)(e,(function(n,r){Object(i.a)(e)&&"prototype"===r||t.push(r)})),t};t.a=o},function(e,t,n){"use strict";var r=n(1),i=Array.prototype.splice;t.a=function(e,t){if(!Object(r.a)(e))return[];for(var n=e?t.length:0,o=n-1;n--;){var a=void 0,s=t[n];n!==o&&s===a||(a=s,i.call(e,s,1))}return e}},function(e,t,n){"use strict";var r=n(12),i=n(2);t.a=function(e){var t=[];return Object(i.a)(e,(function(e){Object(r.a)(t,e)||t.push(e)})),t}},function(e,t,n){"use strict";var r=n(0),i=n(3),o=n(24);t.a=function(e,t){if(!t)return{0:e};if(!Object(i.a)(t)){var n=Object(r.a)(t)?t:t.replace(/\s+/g,"").split("*");t=function(e){for(var t="_",r=0,i=n.length;r<i;r++)t+=e[n[r]]&&e[n[r]].toString();return t}}return Object(o.a)(e,t)}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(3),a=Object.prototype.hasOwnProperty;t.a=function(e,t){if(!t||!Object(i.a)(e))return{};var n,s={},u=Object(o.a)(t)?t:function(e){return e[t]};return Object(r.a)(e,(function(e){n=u(e),a.call(s,n)?s[n].push(e):s[n]=[e]})),s}},function(e,t,n){"use strict";t.a=function(e,t){return e.hasOwnProperty(t)}},function(e,t,n){"use strict";var r=n(2),i=n(3),o=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return Object(r.a)(e,(function(n,r){Object(i.a)(e)&&"prototype"===r||t.push(n)})),t};t.a=o},function(e,t,n){"use strict";var r={}.toString;t.a=function(e){return r.call(e).replace(/^\[object /,"").replace(/]$/,"")}},function(e,t,n){"use strict";var r=Object.prototype;t.a=function(e){var t=e&&e.constructor;return e===("function"===typeof t&&t.prototype||r)}},function(e,t,n){"use strict";var r=n(15),i=n(1),o=n(8);t.a=function e(t,n){if(t===n)return!0;if(!t||!n)return!1;if(Object(o.a)(t)||Object(o.a)(n))return!1;if(Object(i.a)(t)||Object(i.a)(n)){if(t.length!==n.length)return!1;for(var a=!0,s=0;s<t.length&&(a=e(t[s],n[s]));s++);return a}if(Object(r.a)(t)||Object(r.a)(n)){var u=Object.keys(t),l=Object.keys(n);if(u.length!==l.length)return!1;for(a=!0,s=0;s<u.length&&(a=e(t[u[s]],n[u[s]]));s++);return a}return!1}},function(e,t,n){var r=n(18);e.exports=function(e,t){for(var n=r(e.data,t,!0),i=r(e.data,t,!0),o=e.children.length,a=Math.round(o/2),s=t.getSide||function(e,t){return t<a?"right":"left"},u=0;u<o;u++){var l=e.children[u];"right"===s(l,u)?i.children.push(l):n.children.push(l)}return n.eachNode((function(e){e.isRoot()||(e.side="left")})),i.eachNode((function(e){e.isRoot()||(e.side="right")})),{left:n,right:i}}},function(e,t,n){var r={compactBox:n(32),dendrogram:n(114),indented:n(116),mindmap:n(118)};e.exports=r},function(e,t,n){var r=n(11),i=n(113),o=n(17),a=n(7),s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.execute=function(){return o(this.rootNode,this.options,i)},r}(r),u={};e.exports=function(e,t){return t=a.assign({},u,t),new s(e,t).execute()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12);n.d(t,"contains",(function(){return r.a})),n.d(t,"includes",(function(){return r.a}));var i=n(34);n.d(t,"difference",(function(){return i.a}));var o=n(35);n.d(t,"find",(function(){return o.a}));var a=n(36);n.d(t,"findIndex",(function(){return a.a}));var s=n(37);n.d(t,"firstValue",(function(){return s.a}));var u=n(38);n.d(t,"flatten",(function(){return u.a}));var l=n(39);n.d(t,"flattenDeep",(function(){return l.a}));var c=n(40);n.d(t,"getRange",(function(){return c.a}));var f=n(41);n.d(t,"pull",(function(){return f.a}));var d=n(21);n.d(t,"pullAt",(function(){return d.a}));var h=n(42);n.d(t,"reduce",(function(){return h.a}));var p=n(43);n.d(t,"remove",(function(){return p.a}));var g=n(44);n.d(t,"sortBy",(function(){return g.a}));var v=n(45);n.d(t,"union",(function(){return v.a}));var m=n(22);n.d(t,"uniq",(function(){return m.a}));var y=n(46);n.d(t,"valuesOfKey",(function(){return y.a}));var b=n(47);n.d(t,"head",(function(){return b.a}));var x=n(48);n.d(t,"last",(function(){return x.a}));var w=n(49);n.d(t,"startsWith",(function(){return w.a}));var E=n(50);n.d(t,"endsWith",(function(){return E.a}));var S=n(14);n.d(t,"filter",(function(){return S.a}));var _=n(51);n.d(t,"every",(function(){return _.a}));var T=n(52);n.d(t,"some",(function(){return T.a}));var k=n(53);n.d(t,"group",(function(){return k.a}));var C=n(24);n.d(t,"groupBy",(function(){return C.a}));var M=n(23);n.d(t,"groupToMap",(function(){return M.a}));var A=n(54);n.d(t,"getWrapBehavior",(function(){return A.a}));var N=n(55);n.d(t,"wrapBehavior",(function(){return N.a}));var P=n(56);n.d(t,"number2color",(function(){return P.a}));var I=n(57);n.d(t,"parseRadius",(function(){return I.a}));var D=n(58);n.d(t,"clamp",(function(){return D.a}));var O=n(59);n.d(t,"fixedBase",(function(){return O.a}));var R=n(60);n.d(t,"isDecimal",(function(){return R.a}));var L=n(61);n.d(t,"isEven",(function(){return L.a}));var j=n(62);n.d(t,"isInteger",(function(){return j.a}));var B=n(63);n.d(t,"isNegative",(function(){return B.a}));var F=n(64);n.d(t,"isNumberEqual",(function(){return F.a}));var z=n(65);n.d(t,"isOdd",(function(){return z.a}));var Y=n(66);n.d(t,"isPositive",(function(){return Y.a}));var G=n(67);n.d(t,"maxBy",(function(){return G.a}));var V=n(68);n.d(t,"minBy",(function(){return V.a}));var U=n(69);n.d(t,"mod",(function(){return U.a}));var W=n(70);n.d(t,"toDegree",(function(){return W.a}));var Z=n(71);n.d(t,"toInteger",(function(){return Z.a}));var H=n(72);n.d(t,"toRadian",(function(){return H.a}));var X=n(73);n.d(t,"forIn",(function(){return X.a}));var K=n(25);n.d(t,"has",(function(){return K.a}));var q=n(74);n.d(t,"hasKey",(function(){return q.a}));var J=n(75);n.d(t,"hasValue",(function(){return J.a}));var $=n(20);n.d(t,"keys",(function(){return $.a}));var Q=n(19);n.d(t,"isMatch",(function(){return Q.a}));var ee=n(26);n.d(t,"values",(function(){return ee.a}));var te=n(76);n.d(t,"lowerCase",(function(){return te.a}));var ne=n(77);n.d(t,"lowerFirst",(function(){return ne.a}));var re=n(78);n.d(t,"substitute",(function(){return re.a}));var ie=n(79);n.d(t,"upperCase",(function(){return ie.a}));var oe=n(80);n.d(t,"upperFirst",(function(){return oe.a}));var ae=n(27);n.d(t,"getType",(function(){return ae.a}));var se=n(81);n.d(t,"isArguments",(function(){return se.a}));var ue=n(0);n.d(t,"isArray",(function(){return ue.a}));var le=n(1);n.d(t,"isArrayLike",(function(){return le.a}));var ce=n(82);n.d(t,"isBoolean",(function(){return ce.a}));var fe=n(83);n.d(t,"isDate",(function(){return fe.a}));var de=n(84);n.d(t,"isError",(function(){return de.a}));var he=n(3);n.d(t,"isFunction",(function(){return he.a}));var pe=n(85);n.d(t,"isFinite",(function(){return pe.a}));var ge=n(6);n.d(t,"isNil",(function(){return ge.a}));var ve=n(86);n.d(t,"isNull",(function(){return ve.a}));var me=n(5);n.d(t,"isNumber",(function(){return me.a}));var ye=n(13);n.d(t,"isObject",(function(){return ye.a}));var be=n(15);n.d(t,"isObjectLike",(function(){return be.a}));var xe=n(9);n.d(t,"isPlainObject",(function(){return xe.a}));var we=n(28);n.d(t,"isPrototype",(function(){return we.a}));var Ee=n(87);n.d(t,"isRegExp",(function(){return Ee.a}));var Se=n(8);n.d(t,"isString",(function(){return Se.a}));var _e=n(4);n.d(t,"isType",(function(){return _e.a}));var Te=n(88);n.d(t,"isUndefined",(function(){return Te.a}));var ke=n(89);n.d(t,"isElement",(function(){return ke.a}));var Ce=n(90);n.d(t,"requestAnimationFrame",(function(){return Ce.a}));var Me=n(91);n.d(t,"clearAnimationFrame",(function(){return Me.a}));var Ae=n(92);n.d(t,"augment",(function(){return Ae.a}));var Ne=n(93);n.d(t,"clone",(function(){return Ne.a}));var Pe=n(94);n.d(t,"debounce",(function(){return Pe.a}));var Ie=n(95);n.d(t,"memoize",(function(){return Ie.a}));var De=n(96);n.d(t,"deepMix",(function(){return De.a}));var Oe=n(2);n.d(t,"each",(function(){return Oe.a}));var Re=n(97);n.d(t,"extend",(function(){return Re.a}));var Le=n(98);n.d(t,"indexOf",(function(){return Le.a}));var je=n(99);n.d(t,"isEmpty",(function(){return je.a}));var Be=n(29);n.d(t,"isEqual",(function(){return Be.a}));var Fe=n(100);n.d(t,"isEqualWith",(function(){return Fe.a}));var ze=n(101);n.d(t,"map",(function(){return ze.a}));var Ye=n(102);n.d(t,"mapValues",(function(){return Ye.a}));var Ge=n(16);n.d(t,"mix",(function(){return Ge.a})),n.d(t,"assign",(function(){return Ge.a}));var Ve=n(103);n.d(t,"get",(function(){return Ve.a}));var Ue=n(104);n.d(t,"set",(function(){return Ue.a}));var We=n(105);n.d(t,"pick",(function(){return We.a}));var Ze=n(106);n.d(t,"throttle",(function(){return Ze.a}));var He=n(107);n.d(t,"toArray",(function(){return He.a}));var Xe=n(10);n.d(t,"toString",(function(){return Xe.a}));var Ke=n(108);n.d(t,"uniqueId",(function(){return Ke.a}));var qe=n(109);n.d(t,"noop",(function(){return qe.a}));var Je=n(110);n.d(t,"identity",(function(){return Je.a}));var $e=n(111);n.d(t,"size",(function(){return $e.a}));var Qe=n(112);n.d(t,"Cache",(function(){return Qe.a}))},function(e,t,n){"use strict";var r=n(14),i=n(12);t.a=function(e,t){return void 0===t&&(t=[]),Object(r.a)(e,(function(e){return!Object(i.a)(t,e)}))}},function(e,t,n){"use strict";var r=n(3),i=n(19),o=n(0),a=n(9);t.a=function(e,t){if(!Object(o.a)(e))return null;var n;if(Object(r.a)(t)&&(n=t),Object(a.a)(t)&&(n=function(e){return Object(i.a)(e,t)}),n)for(var s=0;s<e.length;s+=1)if(n(e[s]))return e[s];return null}},function(e,t,n){"use strict";t.a=function(e,t,n){void 0===n&&(n=0);for(var r=n;r<e.length;r++)if(t(e[r],r))return r;return-1}},function(e,t,n){"use strict";var r=n(6),i=n(0);t.a=function(e,t){for(var n=null,o=0;o<e.length;o++){var a=e[o][t];if(!Object(r.a)(a)){n=Object(i.a)(a)?a[0]:a;break}}return n}},function(e,t,n){"use strict";var r=n(0);t.a=function(e){if(!Object(r.a)(e))return[];for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);return t}},function(e,t,n){"use strict";var r=n(0);t.a=function e(t,n){if(void 0===n&&(n=[]),Object(r.a)(t))for(var i=0;i<t.length;i+=1)e(t[i],n);else n.push(t);return n}},function(e,t,n){"use strict";var r=n(0),i=n(14);t.a=function(e){if(!(e=Object(i.a)(e,(function(e){return!isNaN(e)}))).length)return{min:0,max:0};if(Object(r.a)(e[0])){for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);e=t}var o=Math.max.apply(null,e);return{min:Math.min.apply(null,e),max:o}}},function(e,t,n){"use strict";var r=Array.prototype,i=r.splice,o=r.indexOf;t.a=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var a=t[r],s=-1;(s=o.call(e,a))>-1;)i.call(e,s,1);return e}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(9);t.a=function(e,t,n){if(!Object(i.a)(e)&&!Object(o.a)(e))return e;var a=n;return Object(r.a)(e,(function(e,n){a=t(a,e,n)})),a}},function(e,t,n){"use strict";var r=n(1),i=n(21);t.a=function(e,t){var n=[];if(!Object(r.a)(e))return n;for(var o=-1,a=[],s=e.length;++o<s;){var u=e[o];t(u,o,e)&&(n.push(u),a.push(o))}return Object(i.a)(e,a),n}},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(3);t.a=function(e,t){var n;if(Object(o.a)(t))n=function(e,n){return t(e)-t(n)};else{var a=[];Object(i.a)(t)?a.push(t):Object(r.a)(t)&&(a=t),n=function(e,t){for(var n=0;n<a.length;n+=1){var r=a[n];if(e[r]>t[r])return 1;if(e[r]<t[r])return-1}return 0}}return e.sort(n),e}},function(e,t,n){"use strict";var r=n(22);t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(r.a)([].concat.apply([],e))}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(6);t.a=function(e,t){var n=[],a={};return e.forEach((function(e){var s=e[t];Object(o.a)(s)||(Object(i.a)(s)||(s=[s]),Object(r.a)(s,(function(e){a[e]||(n.push(e),a[e]=!0)})))})),n}},function(e,t,n){"use strict";t.a=function(e){if(Object(r.a)(e))return e[0]};var r=n(1)},function(e,t,n){"use strict";t.a=function(e){if(Object(r.a)(e))return e[e.length-1]};var r=n(1)},function(e,t,n){"use strict";var r=n(0),i=n(8);t.a=function(e,t){return!(!Object(r.a)(e)&&!Object(i.a)(e))&&e[0]===t}},function(e,t,n){"use strict";var r=n(0),i=n(8);t.a=function(e,t){return!(!Object(r.a)(e)&&!Object(i.a)(e))&&e[e.length-1]===t}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n))return!0;return!1}},function(e,t,n){"use strict";var r=n(23);t.a=function(e,t){if(!t)return[e];var n=Object(r.a)(e,t),i=[];for(var o in n)i.push(n[o]);return i}},function(e,t,n){"use strict";t.a=function(e,t){return e["_wrap_"+t]}},function(e,t,n){"use strict";t.a=function(e,t){if(e["_wrap_"+t])return e["_wrap_"+t];var n=function(n){e[t](n)};return e["_wrap_"+t]=n,n}},function(e,t,n){"use strict";var r={};t.a=function(e){var t=r[e];if(!t){for(var n=e.toString(16),i=n.length;i<6;i++)n="0"+n;t="#"+n,r[e]=t}return t}},function(e,t,n){"use strict";var r=n(0);t.a=function(e){var t=0,n=0,i=0,o=0;return Object(r.a)(e)?1===e.length?t=n=i=o=e[0]:2===e.length?(t=i=e[0],n=o=e[1]):3===e.length?(t=e[0],n=o=e[1],i=e[2]):(t=e[0],n=e[1],i=e[2],o=e[3]):t=n=i=o=e,{r1:t,r2:n,r3:i,r4:o}}},function(e,t,n){"use strict";t.a=function(e,t,n){return e<t?t:e>n?n:e}},function(e,t,n){"use strict";t.a=function(e,t){var n=t.toString(),r=n.indexOf(".");if(-1===r)return Math.round(e);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(e.toFixed(i))}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e%1!==0}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e%2===0}},function(e,t,n){"use strict";var r=n(5),i=Number.isInteger?Number.isInteger:function(e){return Object(r.a)(e)&&e%1===0};t.a=i},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e<0}},function(e,t,n){"use strict";t.a=function(e,t,n){return void 0===n&&(n=1e-5),Math.abs(e-t)<n}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e%2!==0}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&e>0}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(3);t.a=function(e,t){if(Object(i.a)(e)){var n,a,s=e[0];return n=Object(o.a)(t)?t(e[0]):e[0][t],Object(r.a)(e,(function(e){(a=Object(o.a)(t)?t(e):e[t])>n&&(s=e,n=a)})),s}}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(3);t.a=function(e,t){if(Object(i.a)(e)){var n,a,s=e[0];return n=Object(o.a)(t)?t(e[0]):e[0][t],Object(r.a)(e,(function(e){(a=Object(o.a)(t)?t(e):e[t])<n&&(s=e,n=a)})),s}}},function(e,t,n){"use strict";t.a=function(e,t){return(e%t+t)%t}},function(e,t,n){"use strict";var r=180/Math.PI;t.a=function(e){return r*e}},function(e,t,n){"use strict";t.a=parseInt},function(e,t,n){"use strict";var r=Math.PI/180;t.a=function(e){return r*e}},function(e,t,n){"use strict";var r=n(2);t.a=r.a},function(e,t,n){"use strict";var r=n(25);t.a=r.a},function(e,t,n){"use strict";var r=n(12),i=n(26);t.a=function(e,t){return Object(r.a)(Object(i.a)(e),t)}},function(e,t,n){"use strict";var r=n(10);t.a=function(e){return Object(r.a)(e).toLowerCase()}},function(e,t,n){"use strict";var r=n(10);t.a=function(e){var t=Object(r.a)(e);return t.charAt(0).toLowerCase()+t.substring(1)}},function(e,t,n){"use strict";t.a=function(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,(function(e,n){return"\\"===e.charAt(0)?e.slice(1):void 0===t[n]?"":t[n]})):e}},function(e,t,n){"use strict";var r=n(10);t.a=function(e){return Object(r.a)(e).toUpperCase()}},function(e,t,n){"use strict";var r=n(10);t.a=function(e){var t=Object(r.a)(e);return t.charAt(0).toUpperCase()+t.substring(1)}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Arguments")}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Boolean")}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Date")}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"Error")}},function(e,t,n){"use strict";var r=n(5);t.a=function(e){return Object(r.a)(e)&&isFinite(e)}},function(e,t,n){"use strict";t.a=function(e){return null===e}},function(e,t,n){"use strict";var r=n(4);t.a=function(e){return Object(r.a)(e,"RegExp")}},function(e,t,n){"use strict";t.a=function(e){return void 0===e}},function(e,t,n){"use strict";t.a=function(e){return e instanceof Element||e instanceof HTMLDocument}},function(e,t,n){"use strict";t.a=function(e){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,16)})(e)}},function(e,t,n){"use strict";t.a=function(e){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(e)}},function(e,t,n){"use strict";var r=n(16),i=n(3);t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e[0],o=1;o<e.length;o++){var a=e[o];Object(i.a)(a)&&(a=a.prototype),Object(r.a)(n.prototype,a)}}},function(e,t,n){"use strict";var r=n(0);t.a=function e(t){if("object"!==typeof t||null===t)return t;var n;if(Object(r.a)(t)){n=[];for(var i=0,o=t.length;i<o;i++)"object"===typeof t[i]&&null!=t[i]?n[i]=e(t[i]):n[i]=t[i]}else for(var a in n={},t)"object"===typeof t[a]&&null!=t[a]?n[a]=e(t[a]):n[a]=t[a];return n}},function(e,t,n){"use strict";t.a=function(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i,o)}}},function(e,t,n){"use strict";var r=n(3);t.a=function(e,t){if(!Object(r.a)(e))throw new TypeError("Expected a function");var n=function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=e.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n}},function(e,t,n){"use strict";var r=n(0),i=n(9);function o(e,t,n,a){for(var s in n=n||0,a=a||5,t)if(t.hasOwnProperty(s)){var u=t[s];null!==u&&Object(i.a)(u)?(Object(i.a)(e[s])||(e[s]={}),n<a?o(e[s],u,n+1,a):e[s]=t[s]):Object(r.a)(u)?(e[s]=[],e[s]=e[s].concat(u)):void 0!==u&&(e[s]=u)}}t.a=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)o(e,t[r]);return e}},function(e,t,n){"use strict";var r=n(16),i=n(3);t.a=function(e,t,n,o){Object(i.a)(t)||(n=t,t=e,e=function(){});var a=Object.create?function(e,t){return Object.create(e,{constructor:{value:t}})}:function(e,t){function n(){}n.prototype=e;var r=new n;return r.constructor=t,r},s=a(t.prototype,e);return e.prototype=Object(r.a)(s,e.prototype),e.superclass=a(t.prototype,t),Object(r.a)(s,n),Object(r.a)(e,o),e}},function(e,t,n){"use strict";var r=n(1);t.a=function(e,t){if(!Object(r.a)(e))return-1;var n=Array.prototype.indexOf;if(n)return n.call(e,t);for(var i=-1,o=0;o<e.length;o++)if(e[o]===t){i=o;break}return i}},function(e,t,n){"use strict";var r=n(6),i=n(1),o=n(27),a=n(28),s=Object.prototype.hasOwnProperty;t.a=function(e){if(Object(r.a)(e))return!0;if(Object(i.a)(e))return!e.length;var t=Object(o.a)(e);if("Map"===t||"Set"===t)return!e.size;if(Object(a.a)(e))return!Object.keys(e).length;for(var n in e)if(s.call(e,n))return!1;return!0}},function(e,t,n){"use strict";var r=n(3),i=n(29);t.a=function(e,t,n){return Object(r.a)(n)?!!n(e,t):Object(i.a)(e,t)}},function(e,t,n){"use strict";var r=n(2),i=n(1);t.a=function(e,t){if(!Object(i.a)(e))return e;var n=[];return Object(r.a)(e,(function(e,r){n.push(t(e,r))})),n}},function(e,t,n){"use strict";var r=n(6),i=n(13),o=function(e){return e};t.a=function(e,t){void 0===t&&(t=o);var n={};return Object(i.a)(e)&&!Object(r.a)(e)&&Object.keys(e).forEach((function(r){n[r]=t(e[r],r)})),n}},function(e,t,n){"use strict";var r=n(8);t.a=function(e,t,n){for(var i=0,o=Object(r.a)(t)?t.split("."):t;e&&i<o.length;)e=e[o[i++]];return void 0===e||i<o.length?n:e}},function(e,t,n){"use strict";var r=n(13),i=n(8),o=n(5);t.a=function(e,t,n){var a=e,s=Object(i.a)(t)?t.split("."):t;return s.forEach((function(e,t){t<s.length-1?(Object(r.a)(a[e])||(a[e]=Object(o.a)(s[t+1])?[]:{}),a=a[e]):a[e]=n})),e}},function(e,t,n){"use strict";var r=n(2),i=n(9),o=Object.prototype.hasOwnProperty;t.a=function(e,t){if(null===e||!Object(i.a)(e))return{};var n={};return Object(r.a)(t,(function(t){o.call(e,t)&&(n[t]=e[t])})),n}},function(e,t,n){"use strict";t.a=function(e,t,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),r=null,a=e.apply(i,o),r||(i=o=null)},l=function(){var l=Date.now();s||!1!==n.leading||(s=l);var c=t-(l-s);return i=this,o=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),s=l,a=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,c)),a};return l.cancel=function(){clearTimeout(r),s=0,r=i=o=null},l}},function(e,t,n){"use strict";var r=n(1);t.a=function(e){return Object(r.a)(e)?Array.prototype.slice.call(e):[]}},function(e,t,n){"use strict";var r={};t.a=function(e){return r[e=e||"g"]?r[e]+=1:r[e]=1,e+r[e]}},function(e,t,n){"use strict";t.a=function(){}},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";t.a=function(e){return Object(r.a)(e)?0:Object(i.a)(e)?e.length:Object.keys(e).length};var r=n(6),i=n(1)},function(e,t,n){"use strict";var r=function(){function e(){this.map={}}return e.prototype.has=function(e){return void 0!==this.map[e]},e.prototype.get=function(e,t){var n=this.map[e];return void 0===n?t:n},e.prototype.set=function(e,t){this.map[e]=t},e.prototype.clear=function(){this.map={}},e.prototype.delete=function(e){delete this.map[e]},e.prototype.size=function(){return Object.keys(this.map).length},e}();t.a=r},function(e,t){function n(e,t,n,r){void 0===r&&(r=[]);var i=this;i.w=e||0,i.h=t||0,i.y=n||0,i.x=0,i.c=r||[],i.cs=r.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}function r(e,t,n){n?e.y+=t:e.x+=t,e.children.forEach((function(e){r(e,t,n)}))}function i(e,t){var n=t?e.y:e.x;return e.children.forEach((function(e){n=Math.min(i(e,t),n)})),n}function o(e,t){r(e,-i(e,t),t)}function a(e,t,n){n?t.y=e.x:t.x=e.x,e.c.forEach((function(e,r){a(e,t.children[r],n)}))}function s(e,t,n){void 0===n&&(n=0),t?(e.x=n,n+=e.width):(e.y=n,n+=e.height),e.children.forEach((function(e){s(e,t,n)}))}n.fromNode=function(e,t){if(!e)return null;var r=[];return e.children.forEach((function(e){r.push(n.fromNode(e,t))})),t?new n(e.height,e.width,e.x,r):new n(e.width,e.height,e.y,r)},e.exports=function(e,t){void 0===t&&(t={});var r=t.isHorizontal;function i(e){0===e.cs?(e.el=e,e.er=e,e.msel=e.mser=0):(e.el=e.c[0].el,e.msel=e.c[0].msel,e.er=e.c[e.cs-1].er,e.mser=e.c[e.cs-1].mser)}function u(e,t,n){for(var r=e.c[t-1],i=r.mod,o=e.c[t],a=o.mod;null!==r&&null!==o;){d(r)>n.low&&(n=n.nxt);var s=i+r.prelim+r.w-(a+o.prelim);s>0&&(a+=s,l(e,t,n.index,s));var u=d(r),h=d(o);u<=h&&null!==(r=f(r))&&(i+=r.mod),u>=h&&null!==(o=c(o))&&(a+=o.mod)}!r&&o?function(e,t,n,r){var i=e.c[0].el;i.tl=n;var o=r-n.mod-e.c[0].msel;i.mod+=o,i.prelim-=o,e.c[0].el=e.c[t].el,e.c[0].msel=e.c[t].msel}(e,t,o,a):r&&!o&&function(e,t,n,r){var i=e.c[t].er;i.tr=n;var o=r-n.mod-e.c[t].mser;i.mod+=o,i.prelim-=o,e.c[t].er=e.c[t-1].er,e.c[t].mser=e.c[t-1].mser}(e,t,r,i)}function l(e,t,n,r){e.c[t].mod+=r,e.c[t].msel+=r,e.c[t].mser+=r,function(e,t,n,r){if(n!==t-1){var i=t-n;e.c[n+1].shift+=r/i,e.c[t].shift-=r/i,e.c[t].change-=r-r/i}}(e,t,n,r)}function c(e){return 0===e.cs?e.tl:e.c[0]}function f(e){return 0===e.cs?e.tr:e.c[e.cs-1]}function d(e){return e.y+e.h}function h(e,t,n){for(;null!==n&&e>=n.low;)n=n.nxt;return{low:e,index:t,nxt:n}}s(e,r);var p=n.fromNode(e,r);return function e(t){if(0!==t.cs){e(t.c[0]);for(var n=h(d(t.c[0].el),0,null),r=1;r<t.cs;++r){e(t.c[r]);var o=d(t.c[r].er);u(t,r,n),n=h(o,r,n)}!function(e){e.prelim=(e.c[0].prelim+e.c[0].mod+e.c[e.cs-1].mod+e.c[e.cs-1].prelim+e.c[e.cs-1].w)/2-e.w/2}(t),i(t)}else i(t)}(p),function e(t,n){n+=t.mod,t.x=t.prelim+n,function(e){for(var t=0,n=0,r=0;r<e.cs;r++)n+=(t+=e.c[r].shift)+e.c[r].change,e.c[r].mod+=n}(t);for(var r=0;r<t.cs;r++)e(t.c[r],n)}(p,0),a(p,e,r),o(e,r),e}},function(e,t,n){var r=n(11),i=n(115),o=n(17),a=n(7),s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.execute=function(){var e=this;return e.rootNode.width=0,o(e.rootNode,e.options,i)},r}(r),u={};e.exports=function(e,t){return t=a.assign({},u,t),new s(e,t).execute()}},function(e,t,n){var r=n(7);function i(e,t){void 0===e&&(e=0),void 0===t&&(t=[]);var n=this;n.x=n.y=0,n.leftChild=n.rightChild=null,n.height=0,n.children=t}var o={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function a(e,t,n){n?(t.x=e.x,t.y=e.y):(t.x=e.y,t.y=e.x),e.children.forEach((function(e,r){a(e,t.children[r],n)}))}e.exports=function(e,t){void 0===t&&(t={}),t=r.assign({},o,t);var n,s=0,u=function e(t){if(!t)return null;t.width=0,t.depth&&t.depth>s&&(s=t.depth);var n=t.children,r=n.length,o=new i(t.height,[]);return n.forEach((function(t,n){var i=e(t);o.children.push(i),0===n&&(o.leftChild=i),n===r-1&&(o.rightChild=i)})),o.originNode=t,o.isLeaf=t.isLeaf(),o}(e);return function e(t){if(t.isLeaf||0===t.children.length)t.drawingDepth=s;else{var n=t.children.map((function(t){return e(t)})),r=Math.min.apply(null,n);t.drawingDepth=r-1}return t.drawingDepth}(u),function e(r){r.x=r.drawingDepth*t.rankSep,r.isLeaf?(r.y=0,n&&(r.y=n.y+n.height+t.nodeSep,r.originNode.parent!==n.originNode.parent&&(r.y+=t.subTreeSep)),n=r):(r.children.forEach((function(t){e(t)})),r.y=(r.leftChild.y+r.rightChild.y)/2)}(u),a(u,e,t.isHorizontal),e}},function(e,t,n){var r=n(11),i=n(117),o=n(30),a=n(7),s=["LR","RL","H"],u=s[0],l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.execute=function(){var e=this.options,t=this.rootNode;e.isHorizontal=!0;var n=e.indent,r=void 0===n?20:n,a=e.dropCap,l=void 0===a||a,c=e.direction||u;if(c&&-1===s.indexOf(c))throw new TypeError("Invalid direction: "+c);if(c===s[0])i(t,r,l);else if(c===s[1])i(t,r,l),t.right2left();else if(c===s[2]){var f=o(t,e),d=f.left,h=f.right;i(d,r,l),d.right2left(),i(h,r,l);var p=d.getBoundingBox();h.translate(p.width,0),t.x=h.x-t.width/2}return t},r}(r),c={};e.exports=function(e,t){return t=a.assign({},c,t),new l(e,t).execute()}},function(e,t){e.exports=function(e,t,n){var r=null;e.eachNode((function(e){!function(e,t,n,r){var i="function"===typeof n?n(e):n*e.depth;if(!r)try{if(e.id===e.parent.children[0].id)return e.x+=i,void(e.y=t?t.y:0)}catch(o){}e.x+=i,e.y=t?t.y+t.height:0}(e,r,t,n),r=e}))}},function(e,t,n){var r=n(11),i=n(119),o=n(17),a=n(7),s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.execute=function(){return o(this.rootNode,this.options,i)},r}(r),u={};e.exports=function(e,t){return t=a.assign({},u,t),new s(e,t).execute()}},function(e,t,n){var r=n(7);function i(e,t){var n=0;return e.children.length?e.children.forEach((function(e){n+=i(e,t)})):n=e.height,e._subTreeSep=t.getSubTreeSep(e.data),e.totalHeight=Math.max(e.height,n)+2*e._subTreeSep,e.totalHeight}function o(e){var t=e.children,n=t.length;if(n){t.forEach((function(e){o(e)}));var r=t[0],i=t[n-1],a=i.y-r.y+i.height,s=0;if(t.forEach((function(e){s+=e.totalHeight})),a>e.height)e.y=r.y+a/2-e.height/2;else if(1!==t.length||e.height>s){var u=e.y+(e.height-a)/2-r.y;t.forEach((function(e){e.translate(0,u)}))}else e.y=(r.y+r.height/2+i.y+i.height/2)/2-e.height/2}}var a={getSubTreeSep:function(){return 0}};e.exports=function(e,t){void 0===t&&(t={}),t=r.assign({},a,t),e.parent={x:0,width:0,height:0,y:0},e.BFTraverse((function(e){e.x=e.parent.x+e.parent.width})),e.parent=null,i(e,t),e.startY=0,e.y=e.totalHeight/2-e.height/2,e.eachNode((function(e){var t=e.children,n=t.length;if(n){var r=t[0];if(r.startY=e.startY+e._subTreeSep,1===n)r.y=e.y+e.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var i=1;i<n;i++){var o=t[i];o.startY=t[i-1].startY+t[i-1].totalHeight,o.y=o.startY+o.totalHeight/2-o.height/2}}}})),o(e)}}])},e.exports=t()},8253:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.getLayoutByName=t.unRegisterLayout=t.registerLayout=void 0;var o=n(8252);Object.defineProperty(t,"registerLayout",{enumerable:!0,get:function(){return o.registerLayout}}),Object.defineProperty(t,"unRegisterLayout",{enumerable:!0,get:function(){return o.unRegisterLayout}}),Object.defineProperty(t,"getLayoutByName",{enumerable:!0,get:function(){return o.getLayoutByName}}),i(n(6929),t)},4950:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Base=void 0;var n=function(){function e(){this.nodes=[],this.edges=[],this.combos=[],this.comboEdges=[],this.hiddenNodes=[],this.hiddenEdges=[],this.hiddenCombos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return e.prototype.layout=function(e){return this.init(e),this.execute(!0)},e.prototype.init=function(e){this.nodes=e.nodes||[],this.edges=e.edges||[],this.combos=e.combos||[],this.comboEdges=e.comboEdges||[],this.hiddenNodes=e.hiddenNodes||[],this.hiddenEdges=e.hiddenEdges||[],this.hiddenCombos=e.hiddenCombos||[]},e.prototype.execute=function(e){},e.prototype.executeWithWorker=function(){},e.prototype.getDefaultCfg=function(){return{}},e.prototype.updateCfg=function(e){e&&Object.assign(this,e)},e.prototype.getType=function(){return"base"},e.prototype.destroy=function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0},e}();t.Base=n},2893:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CircularLayout=void 0;var i=n(4950),o=n(1784);function a(e,t){var n=e.degree,r=t.degree;return n<r?-1:n>r?1:0}var s=function(e){function t(t){var n=e.call(this)||this;return n.radius=null,n.nodeSize=void 0,n.startRadius=null,n.endRadius=null,n.startAngle=0,n.endAngle=2*Math.PI,n.clockwise=!0,n.divisions=1,n.ordering=null,n.angleRatio=1,n.nodes=[],n.edges=[],n.nodeMap={},n.degrees=[],n.width=300,n.height=300,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},t.prototype.execute=function(){var e,t=this,n=t.nodes,r=t.edges,i=n.length;if(0!==i){t.width||"undefined"===typeof window||(t.width=window.innerWidth),t.height||"undefined"===typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);var a=t.center;if(1===i)return n[0].x=a[0],n[0].y=a[1],void(t.onLayoutEnd&&t.onLayoutEnd());var s=t.radius,u=t.startRadius,l=t.endRadius,c=t.divisions,f=t.startAngle,d=t.endAngle,h=t.angleRatio,p=t.ordering,g=t.clockwise,v=t.nodeSpacing,m=t.nodeSize,y=(d-f)/i,b={};n.forEach((function(e,t){b[e.id]=t})),t.nodeMap=b;var x=(0,o.getDegree)(n.length,b,r);if(t.degrees=x,v){var w=(0,o.getFuncByUnknownType)(10,v),E=(0,o.getFuncByUnknownType)(10,m),S=-1/0;n.forEach((function(e){var t=E(e);S<t&&(S=t)}));var _=0;n.forEach((function(e,t){_+=0===t?S||10:(w(e)||0)+(S||10)})),s=_/(2*Math.PI)}else s||u||l?!u&&l?u=l:u&&!l&&(l=u):s=t.height>t.width?t.width/2:t.height/2;var T=y*h,k=[];k="topology"===p?t.topologyOrdering():"topology-directed"===p?t.topologyOrdering(!0):"degree"===p?t.degreeOrdering():n;for(var C=Math.ceil(i/c),M=0;M<i;++M){var A=s;A||null===u||null===l||(A=u+M*(l-u)/(i-1)),A||(A=10+100*M/(i-1));var N=f+M%C*T+2*Math.PI/c*Math.floor(M/C);g||(N=d-M%C*T-2*Math.PI/c*Math.floor(M/C)),k[M].x=a[0]+Math.cos(N)*A,k[M].y=a[1]+Math.sin(N)*A,k[M].weight=x[M]}return null===(e=t.onLayoutEnd)||void 0===e||e.call(t),{nodes:k,edges:this.edges}}t.onLayoutEnd&&t.onLayoutEnd()},t.prototype.topologyOrdering=function(e){void 0===e&&(e=!1);var t=this,n=t.degrees,r=t.edges,i=t.nodes,a=(0,o.clone)(i),s=t.nodeMap,u=[a[0]],l=[i[0]],c=[],f=i.length;c[0]=!0,function(e,t,n,r){e.forEach((function(t,n){e[n].children=[],e[n].parent=[]})),r?t.forEach((function(t){var r=(0,o.getEdgeTerminal)(t,"source"),i=(0,o.getEdgeTerminal)(t,"target"),a=0;r&&(a=n[r]);var s=0;i&&(s=n[i]);var u=e[a].children,l=e[s].parent;u.push(e[s].id),l.push(e[a].id)})):t.forEach((function(t){var r=(0,o.getEdgeTerminal)(t,"source"),i=(0,o.getEdgeTerminal)(t,"target"),a=0;r&&(a=n[r]);var s=0;i&&(s=n[i]);var u=e[a].children,l=e[s].children;u.push(e[s].id),l.push(e[a].id)}))}(a,r,s,e);var d=0;return a.forEach((function(e,t){if(0!==t)if(t!==f-1&&n[t]===n[t+1]&&!function(e,t,n){for(var r=n.length,i=0;i<r;i++){var a=(0,o.getEdgeTerminal)(n[i],"source"),s=(0,o.getEdgeTerminal)(n[i],"target");if(e.id===a&&t.id===s||t.id===a&&e.id===s)return!0}return!1}(u[d],e,r)||c[t]){for(var h=u[d].children,p=!1,g=0;g<h.length;g++){var v=s[h[g]];if(n[v]===n[t]&&!c[v]){u.push(a[v]),l.push(i[s[a[v].id]]),c[v]=!0,p=!0;break}}for(var m=0;!p&&(c[m]||(u.push(a[m]),l.push(i[s[a[m].id]]),c[m]=!0,p=!0),++m!==f););}else u.push(e),l.push(i[s[e.id]]),c[t]=!0,d++})),l},t.prototype.degreeOrdering=function(){var e=this.nodes,t=[],n=this.degrees;return e.forEach((function(e,r){e.degree=n[r],t.push(e)})),t.sort(a),t},t.prototype.getType=function(){return"circular"},t}(i.Base);t.CircularLayout=s},3467:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ComboCombinedLayout=void 0;var o=n(3023),a=n(4950),s=n(1784),u=n(6929),l=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.nodes=[],n.edges=[],n.combos=[],n.comboEdges=[],n.comboPadding=10,n.comboTrees=[],n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=n[0],t[0].y=n[1],void(e.onLayoutEnd&&e.onLayoutEnd());e.initVals(),e.run(),e.onLayoutEnd&&e.onLayoutEnd()}else e.onLayoutEnd&&e.onLayoutEnd()},t.prototype.run=function(){var e,t=this,n=t.nodes,r=t.edges,i=t.combos,a=t.comboEdges,l=t.center,c=t.getInnerGraphs(),f={};n.forEach((function(e){f[e.id]=e}));var d={};i.forEach((function(e){d[e.id]=e}));var h=[],p=[],g={},v=!0;this.comboTrees.forEach((function(e){var t=c[e.id],n={id:e.id,x:t.x||d[e.id].x,y:t.y||d[e.id].y,fx:t.fx||d[e.id].fx,fy:t.fy||d[e.id].fy,mass:t.mass||d[e.id].mass,size:t.size};p.push(n),isNaN(n.x)||0===n.x||isNaN(n.y)||0===n.y?(n.x=100*Math.random(),n.y=100*Math.random()):v=!1,h.push(e.id),(0,s.traverseTreeUp)(e,(function(t){return t.id!==e.id&&(g[t.id]=e.id),!0}))})),n.forEach((function(e){if(!e.comboId||!d[e.comboId]){var t={id:e.id,x:e.x,y:e.y,fx:e.fx,fy:e.fy,mass:e.mass,size:e.size};p.push(t),isNaN(t.x)||0===t.x||isNaN(t.y)||0===t.y?(t.x=100*Math.random(),t.y=100*Math.random()):v=!1,h.push(e.id)}}));var m=[];if(r.concat(a).forEach((function(e){var t=g[e.source]||e.source,n=g[e.target]||e.target;t!==n&&h.includes(t)&&h.includes(n)&&m.push({source:t,target:n})})),null===p||void 0===p?void 0:p.length){if(1===p.length)p[0].x=l[0],p[0].y=l[1];else{var y={nodes:p,edges:m},b=this.outerLayout||new u.GForceLayout({gravity:1,factor:2,linkDistance:function(e,t,n){var r,i,o=(((null===(r=t.size)||void 0===r?void 0:r[0])||30)+((null===(i=n.size)||void 0===i?void 0:i[0])||30))/2;return Math.min(1.5*o,700)}}),x=null===(e=b.getType)||void 0===e?void 0:e.call(b);if(b.updateCfg({center:l,kg:5,preventOverlap:!0,animate:!1}),v&&o.FORCE_LAYOUT_TYPE_MAP[x])(p.length<100?new u.MDSLayout:new u.GridLayout).layout(y);b.layout(y)}p.forEach((function(e){var t=c[e.id];if(t)t.visited=!0,t.x=e.x,t.y=e.y,t.nodes.forEach((function(t){t.x+=e.x,t.y+=e.y}));else{var n=f[e.id];n&&(n.x=e.x,n.y=e.y)}}))}for(var w=Object.keys(c),E=function(e){var t=w[e],n=c[t];if(!n)return"continue";n.nodes.forEach((function(e){n.visited||(e.x+=n.x||0,e.y+=n.y||0),f[e.id]&&(f[e.id].x=e.x,f[e.id].y=e.y)})),d[t]&&(d[t].x=n.x,d[t].y=n.y)},S=w.length-1;S>=0;S--)E(S);return{nodes:n,edges:r,combos:i,comboEdges:a}},t.prototype.getInnerGraphs=function(){var e=this,t=e.comboTrees,n=e.nodeSize,r=e.edges,o=e.comboPadding,a=e.spacing,l={},c=this.innerLayout||new u.ConcentricLayout({sortBy:"id"});return c.center=[0,0],c.preventOverlap=!0,c.nodeSpacing=a,(t||[]).forEach((function(e){(0,s.traverseTreeUp)(e,(function(e){var t,a=(null===o||void 0===o?void 0:o(e))||10;if((0,s.isArray)(a)&&(a=Math.max.apply(Math,a)),null===(t=e.children)||void 0===t?void 0:t.length){var u=e.children.map((function(e){return"combo"===e.itemType?l[e.id]:i({},e)})),f=u.map((function(e){return e.id})),d={nodes:u,edges:r.filter((function(e){return f.includes(e.source)&&f.includes(e.target)}))},h=1/0;u.forEach((function(e){var t;e.size||(e.size=(null===(t=l[e.id])||void 0===t?void 0:t.size)||(null===n||void 0===n?void 0:n(e))||[30,30]),(0,s.isNumber)(e.size)&&(e.size=[e.size,e.size]),h>e.size[0]&&(h=e.size[0]),h>e.size[1]&&(h=e.size[1])})),c.layout(d);var p=(0,s.findMinMaxNodeXY)(u),g=p.minX,v=p.minY,m=p.maxX,y=p.maxY,b=Math.max(m-g,y-v,h)+2*a;l[e.id]={id:e.id,nodes:u,size:[b,b]}}else if("combo"===e.itemType){var x=a?[2*a,2*a]:[30,30];l[e.id]={id:e.id,nodes:[],size:x}}return!0}))})),l},t.prototype.initVals=function(){var e,t,n=this,r=n.nodeSize,i=n.spacing;if(t=(0,s.isNumber)(i)?function(){return i}:(0,s.isFunction)(i)?i:function(){return 0},this.spacing=t,r)if((0,s.isFunction)(r))e=function(e){var n=r(e),i=t(e);return(0,s.isArray)(e.size)?((e.size[0]>e.size[1]?e.size[0]:e.size[1])+i)/2:((n||10)+i)/2};else if((0,s.isArray)(r)){var o=(r[0]>r[1]?r[0]:r[1])/2;e=function(e){return o+t(e)/2}}else{var a=r/2;e=function(e){return a+t(e)/2}}else e=function(e){var n=t(e);return e.size?(0,s.isArray)(e.size)?((e.size[0]>e.size[1]?e.size[0]:e.size[1])+n)/2:(0,s.isObject)(e.size)?((e.size.width>e.size.height?e.size.width:e.size.height)+n)/2:(e.size+n)/2:10+n/2};this.nodeSize=e;var u,l=n.comboPadding;u=(0,s.isNumber)(l)?function(){return l}:(0,s.isArray)(l)?function(){return Math.max.apply(null,l)}:(0,s.isFunction)(l)?l:function(){return 0},this.comboPadding=u},t.prototype.getType=function(){return"comboCombined"},t}(a.Base);t.ComboCombinedLayout=l},7315:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ComboForceLayout=void 0;var i=n(4950),o=n(1784),a=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.maxIteration=100,n.gravity=10,n.comboGravity=10,n.linkDistance=10,n.alpha=1,n.alphaMin=.001,n.alphaDecay=1-Math.pow(n.alphaMin,1/300),n.alphaTarget=0,n.velocityDecay=.6,n.edgeStrength=.6,n.nodeStrength=30,n.preventOverlap=!1,n.preventNodeOverlap=!1,n.preventComboOverlap=!1,n.collideStrength=void 0,n.nodeCollideStrength=.5,n.comboCollideStrength=.5,n.comboSpacing=20,n.comboPadding=10,n.optimizeRangeFactor=1,n.onTick=function(){},n.onLayoutEnd=function(){},n.depthAttractiveForceScale=1,n.depthRepulsiveForceScale=2,n.nodes=[],n.edges=[],n.combos=[],n.comboTrees=[],n.width=300,n.height=300,n.bias=[],n.nodeMap={},n.oriComboMap={},n.indexMap={},n.comboMap={},n.previousLayouted=!1,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.center;if(e.comboTree={id:"comboTreeRoot",depth:-1,children:e.comboTrees},t&&0!==t.length){if(1===t.length)return t[0].x=n[0],t[0].y=n[1],void(e.onLayoutEnd&&e.onLayoutEnd());e.initVals(),e.run(),e.onLayoutEnd&&e.onLayoutEnd()}else e.onLayoutEnd&&e.onLayoutEnd()},t.prototype.run=function(){var e=this,t=e.nodes,n=e.previousLayouted?e.maxIteration/5:e.maxIteration;e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight);var r=e.center,i=e.velocityDecay,a=e.comboMap;e.previousLayouted||e.initPos(a);for(var s=function(n){var r=[];t.forEach((function(e,t){r[t]={x:0,y:0}})),e.applyCalculate(r),e.applyComboCenterForce(r),t.forEach((function(e,t){(0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)&&(e.x+=r[t].x*i,e.y+=r[t].y*i)})),e.alpha+=(e.alphaTarget-e.alpha)*e.alphaDecay,e.onTick()},u=0;u<n;u++)s();var l=[0,0];t.forEach((function(e){(0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)&&(l[0]+=e.x,l[1]+=e.y)})),l[0]/=t.length,l[1]/=t.length;var c=[r[0]-l[0],r[1]-l[1]];t.forEach((function(e,t){(0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)&&(e.x+=c[0],e.y+=c[1])})),e.combos.forEach((function(e){var t=a[e.id];t&&t.empty&&(e.x=t.cx||e.x,e.y=t.cy||e.y)})),e.previousLayouted=!0},t.prototype.initVals=function(){var e=this,t=e.edges,n=e.nodes,r=e.combos,i={},a={},s={};n.forEach((function(e,t){a[e.id]=e,s[e.id]=t})),e.nodeMap=a,e.indexMap=s;var u={};r.forEach((function(e){u[e.id]=e})),e.oriComboMap=u,e.comboMap=e.getComboMap();var l=e.preventOverlap;e.preventComboOverlap=e.preventComboOverlap||l,e.preventNodeOverlap=e.preventNodeOverlap||l;var c=e.collideStrength;c&&(e.comboCollideStrength=c,e.nodeCollideStrength=c),e.comboCollideStrength=e.comboCollideStrength?e.comboCollideStrength:0,e.nodeCollideStrength=e.nodeCollideStrength?e.nodeCollideStrength:0;for(var f=0;f<t.length;++f){var d=(0,o.getEdgeTerminal)(t[f],"source"),h=(0,o.getEdgeTerminal)(t[f],"target");i[d]?i[d]++:i[d]=1,i[h]?i[h]++:i[h]=1}var p=[];for(f=0;f<t.length;++f){d=(0,o.getEdgeTerminal)(t[f],"source"),h=(0,o.getEdgeTerminal)(t[f],"target");p[f]=i[d]/(i[d]+i[h])}this.bias=p;var g,v,m=e.nodeSize,y=e.nodeSpacing;if(v=(0,o.isNumber)(y)?function(){return y}:(0,o.isFunction)(y)?y:function(){return 0},this.nodeSpacing=v,m)if((0,o.isFunction)(m))g=function(e){return m(e)};else if((0,o.isArray)(m)){var b=(m[0]>m[1]?m[0]:m[1])/2;g=function(e){return b}}else{var x=m/2;g=function(e){return x}}else g=function(e){return e.size?(0,o.isArray)(e.size)?(e.size[0]>e.size[1]?e.size[0]:e.size[1])/2:(0,o.isObject)(e.size)?(e.size.width>e.size.height?e.size.width:e.size.height)/2:e.size/2:10};this.nodeSize=g;var w,E=e.comboSpacing;w=(0,o.isNumber)(E)?function(){return E}:(0,o.isFunction)(E)?E:function(){return 0},this.comboSpacing=w;var S,_=e.comboPadding;S=(0,o.isNumber)(_)?function(){return _}:(0,o.isArray)(_)?function(){return Math.max.apply(null,_)}:(0,o.isFunction)(_)?_:function(){return 0},this.comboPadding=S;var T,k=this.linkDistance;k||(k=10),T=(0,o.isNumber)(k)?function(e){return k}:k,this.linkDistance=T;var C,M=this.edgeStrength;M||(M=1),C=(0,o.isNumber)(M)?function(e){return M}:M,this.edgeStrength=C;var A,N=this.nodeStrength;N||(N=30),A=(0,o.isNumber)(N)?function(e){return N}:N,this.nodeStrength=A},t.prototype.initPos=function(e){this.nodes.forEach((function(t,n){var r=t.comboId,i=e[r];r&&i?(t.x=i.cx+100/(n+1),t.y=i.cy+100/(n+1)):(t.x=100/(n+1),t.y=100/(n+1))}))},t.prototype.getComboMap=function(){var e=this,t=e.nodeMap,n=e.comboTrees,r=e.oriComboMap,i={};return(n||[]).forEach((function(n){var a=[];(0,o.traverseTreeUp)(n,(function(n){if("node"===n.itemType)return!0;if(!r[n.id])return!0;if(void 0===i[n.id]){var s={id:n.id,name:n.id,cx:0,cy:0,count:0,depth:e.oriComboMap[n.id].depth||0,children:[]};i[n.id]=s}var u=n.children;u&&u.forEach((function(e){if(!i[e.id]&&!t[e.id])return!0;a.push(e)}));var l=i[n.id];if(l.cx=0,l.cy=0,0===a.length){l.empty=!0;var c=r[n.id];l.cx=c.x,l.cy=c.y}return a.forEach((function(e){if(l.count++,"node"!==e.itemType){var n=i[e.id];return(0,o.isNumber)(n.cx)&&(l.cx+=n.cx),void((0,o.isNumber)(n.cy)&&(l.cy+=n.cy))}var r=t[e.id];r&&((0,o.isNumber)(r.x)&&(l.cx+=r.x),(0,o.isNumber)(r.y)&&(l.cy+=r.y))})),l.cx/=l.count||1,l.cy/=l.count||1,l.children=a,!0}))})),i},t.prototype.applyComboCenterForce=function(e){var t=this,n=t.gravity,r=t.comboGravity||n,i=this.alpha,a=t.comboTrees,s=t.indexMap,u=t.nodeMap,l=t.comboMap;(a||[]).forEach((function(t){(0,o.traverseTreeUp)(t,(function(t){if("node"===t.itemType)return!0;if(!l[t.id])return!0;var n=l[t.id],a=(n.depth+1)/10*.5,c=n.cx,f=n.cy;return n.cx=0,n.cy=0,n.children.forEach((function(t){if("node"!==t.itemType){var d=l[t.id];return d&&(0,o.isNumber)(d.cx)&&(n.cx+=d.cx),void(d&&(0,o.isNumber)(d.cy)&&(n.cy+=d.cy))}var h=u[t.id],p=h.x-c||.005,g=h.y-f||.005,v=Math.sqrt(p*p+g*g),m=s[h.id],y=r*i/v*a;e[m].x-=p*y,e[m].y-=g*y,(0,o.isNumber)(h.x)&&(n.cx+=h.x),(0,o.isNumber)(h.y)&&(n.cy+=h.y)})),n.cx/=n.count||1,n.cy/=n.count||1,!0}))}))},t.prototype.applyCalculate=function(e){var t=this,n=t.comboMap,r=t.nodes,i={};r.forEach((function(e,t){r.forEach((function(n,r){if(!(t<r)){var o=e.x-n.x||.005,a=e.y-n.y||.005,s=o*o+a*a,u=Math.sqrt(s);s<1&&(s=u),i[e.id+"-"+n.id]={vx:o,vy:a,vl2:s,vl:u},i[n.id+"-"+e.id]={vl2:s,vl:u,vx:-o,vy:-a}}}))})),t.updateComboSizes(n),t.calRepulsive(e,i),t.calAttractive(e,i),t.preventComboOverlap&&t.comboNonOverlapping(e,n)},t.prototype.updateComboSizes=function(e){var t=this,n=t.comboTrees,r=t.nodeMap,i=t.nodeSize,a=t.comboSpacing,s=t.comboPadding;(n||[]).forEach((function(n){var u=[];(0,o.traverseTreeUp)(n,(function(n){if("node"===n.itemType)return!0;var l=e[n.id];if(!l)return!1;var c=n.children;c&&c.forEach((function(t){(e[t.id]||r[t.id])&&u.push(t)})),l.minX=1/0,l.minY=1/0,l.maxX=-1/0,l.maxY=-1/0,u.forEach((function(e){if("node"!==e.itemType)return!0;var t=r[e.id];if(!t)return!0;var n=i(t),o=t.x-n,a=t.y-n,s=t.x+n,u=t.y+n;l.minX>o&&(l.minX=o),l.minY>a&&(l.minY=a),l.maxX<s&&(l.maxX=s),l.maxY<u&&(l.maxY=u)}));var f=t.oriComboMap[n.id].size||10;(0,o.isArray)(f)&&(f=f[0]);var d=Math.max(l.maxX-l.minX,l.maxY-l.minY,f);return l.r=d/2+a(l)/2+s(l),!0}))}))},t.prototype.comboNonOverlapping=function(e,t){var n=this,r=n.comboTree,i=n.comboCollideStrength,a=n.indexMap,s=n.nodeMap;(0,o.traverseTreeUp)(r,(function(n){if(!t[n.id]&&!s[n.id]&&"comboTreeRoot"!==n.id)return!1;var r=n.children;return r&&r.length>1&&r.forEach((function(n,o){if("node"===n.itemType)return!1;var u=t[n.id];u&&r.forEach((function(r,l){if(o<=l)return!1;if("node"===r.itemType)return!1;var c=t[r.id];if(!c)return!1;var f=u.cx-c.cx||.005,d=u.cy-c.cy||.005,h=f*f+d*d,p=u.r||1,g=c.r||1,v=p+g,m=g*g,y=p*p;if(h<v*v){var b=n.children;if(!b||0===b.length)return!1;var x=r.children;if(!x||0===x.length)return!1;var w=Math.sqrt(h),E=(v-w)/w*i,S=f*E,_=d*E,T=m/(y+m),k=1-T;b.forEach((function(t){if("node"!==t.itemType)return!1;if(s[t.id]){var n=a[t.id];x.forEach((function(t){if("node"!==t.itemType)return!1;if(!s[t.id])return!1;var r=a[t.id];e[n].x+=S*T,e[n].y+=_*T,e[r].x-=S*k,e[r].y-=_*k}))}}))}}))})),!0}))},t.prototype.calRepulsive=function(e,t){var n=this,r=n.nodes,i=n.width*n.optimizeRangeFactor,o=n.nodeStrength,a=n.alpha,s=n.nodeCollideStrength,u=n.preventNodeOverlap,l=n.nodeSize,c=n.nodeSpacing,f=n.depthRepulsiveForceScale,d=n.center;r.forEach((function(h,p){if(h.x&&h.y){if(d){var g=n.gravity,v=h.x-d[0]||.005,m=h.y-d[1]||.005,y=Math.sqrt(v*v+m*m);e[p].x-=v*g*a/y,e[p].y-=m*g*a/y}r.forEach((function(n,r){if(p!==r&&n.x&&n.y){var d=t[h.id+"-"+n.id],g=d.vl2,v=d.vl;if(!(v>i)){var m=t[h.id+"-"+n.id],y=m.vx,b=m.vy,x=Math.log(Math.abs(n.depth-h.depth)/10)+1||1;x=x<1?1:x,n.comboId!==h.comboId&&(x+=1);var w=x?Math.pow(f,x):1,E=o(n)*a/g*w;if(e[p].x+=y*E,e[p].y+=b*E,p<r&&u){var S=l(h)+c(h)||1,_=l(n)+c(n)||1,T=S+_;if(g<T*T){var k=(T-v)/v*s,C=_*_,M=C/(S*S+C),A=y*k,N=b*k;e[p].x+=A*M,e[p].y+=N*M,M=1-M,e[r].x-=A*M,e[r].y-=N*M}}}}}))}}))},t.prototype.calAttractive=function(e,t){var n=this,r=n.edges,i=n.linkDistance,a=n.alpha,s=n.edgeStrength,u=n.bias,l=n.depthAttractiveForceScale;r.forEach((function(r,c){var f=(0,o.getEdgeTerminal)(r,"source"),d=(0,o.getEdgeTerminal)(r,"target");if(f&&d&&f!==d){var h=n.indexMap[f],p=n.indexMap[d],g=n.nodeMap[f],v=n.nodeMap[d];if(g&&v){var m=g.depth===v.depth?0:Math.log(Math.abs(g.depth-v.depth)/10);g.comboId===v.comboId&&(m/=2);var y=m?Math.pow(l,m):1;if(g.comboId!==v.comboId&&1===y?y=l/2:g.comboId===v.comboId&&(y=2),(0,o.isNumber)(v.x)&&(0,o.isNumber)(g.x)&&(0,o.isNumber)(v.y)&&(0,o.isNumber)(g.y)){var b=t[d+"-"+f],x=b.vl,w=b.vx,E=b.vy,S=(x-i(r))/x*a*s(r)*y,_=w*S,T=E*S,k=u[c];e[p].x-=_*k,e[p].y-=T*k,e[h].x+=_*(1-k),e[h].y+=T*(1-k)}}}}))},t.prototype.getType=function(){return"comboForce"},t}(i.Base);t.ComboForceLayout=a},1457:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ConcentricLayout=void 0;var i=n(1784),o=function(e){function t(t){var n=e.call(this)||this;return n.nodeSize=30,n.minNodeSpacing=10,n.nodeSpacing=10,n.preventOverlap=!1,n.equidistant=!1,n.startAngle=1.5*Math.PI,n.clockwise=!0,n.sortBy="degree",n.nodes=[],n.edges=[],n.width=300,n.height=300,n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{nodeSize:30,minNodeSpacing:10,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},t.prototype.execute=function(){var e,t,n=this,r=n.nodes,o=n.edges,a=r.length;if(0!==a){n.width||"undefined"===typeof window||(n.width=window.innerWidth),n.height||"undefined"===typeof window||(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);var s=n.center;if(1===a)return r[0].x=s[0],r[0].y=s[1],void(null===(t=n.onLayoutEnd)||void 0===t||t.call(n));var u,l=n.nodeSize,c=n.nodeSpacing,f=[],d=0;u=(0,i.isArray)(l)?Math.max(l[0],l[1]):l,(0,i.isArray)(c)?d=Math.max(c[0],c[1]):(0,i.isNumber)(c)&&(d=c),r.forEach((function(e){f.push(e);var t=u;(0,i.isArray)(e.size)?t=Math.max(e.size[0],e.size[1]):(0,i.isNumber)(e.size)?t=e.size:(0,i.isObject)(e.size)&&(t=Math.max(e.size.width,e.size.height)),u=Math.max(u,t),(0,i.isFunction)(c)&&(d=Math.max(c(e),d))})),n.clockwise=void 0!==n.counterclockwise?!n.counterclockwise:n.clockwise;var h={},p={};if(f.forEach((function(e,t){h[e.id]=e,p[e.id]=t})),("degree"===n.sortBy||!(0,i.isString)(n.sortBy)||void 0===f[0][n.sortBy])&&(n.sortBy="degree",!(0,i.isNumber)(r[0].degree))){var g=(0,i.getDegree)(r.length,p,o);f.forEach((function(e,t){e.degree=g[t]}))}f.sort((function(e,t){return t[n.sortBy]-e[n.sortBy]})),n.maxValueNode=f[0],n.maxLevelDiff=n.maxLevelDiff||n.maxValueNode[n.sortBy]/4;var v=[[]],m=v[0];f.forEach((function(e){if(m.length>0){var t=Math.abs(m[0][n.sortBy]-e[n.sortBy]);n.maxLevelDiff&&t>=n.maxLevelDiff&&(m=[],v.push(m))}m.push(e)}));var y=u+(d||n.minNodeSpacing);if(!n.preventOverlap){var b=v.length>0&&v[0].length>1,x=(Math.min(n.width,n.height)/2-y)/(v.length+(b?1:0));y=Math.min(y,x)}var w=0;if(v.forEach((function(e){var t=n.sweep;void 0===t&&(t=2*Math.PI-2*Math.PI/e.length);var r=e.dTheta=t/Math.max(1,e.length-1);if(e.length>1&&n.preventOverlap){var i=Math.cos(r)-Math.cos(0),o=Math.sin(r)-Math.sin(0),a=Math.sqrt(y*y/(i*i+o*o));w=Math.max(a,w)}e.r=w,w+=y})),n.equidistant){for(var E=0,S=0,_=0;_<v.length;_++){var T=v[_].r-S;E=Math.max(E,T)}S=0,v.forEach((function(e,t){0===t&&(S=e.r),e.r=S,S+=E}))}return v.forEach((function(e){var t=e.dTheta,r=e.r;e.forEach((function(e,i){var o=n.startAngle+(n.clockwise?1:-1)*t*i;e.x=s[0]+r*Math.cos(o),e.y=s[1]+r*Math.sin(o)}))})),n.onLayoutEnd&&n.onLayoutEnd(),{nodes:r,edges:o}}null===(e=n.onLayoutEnd)||void 0===e||e.call(n)},t.prototype.getType=function(){return"concentric"},t}(n(4950).Base);t.ConcentricLayout=o},3023:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FORCE_LAYOUT_TYPE_MAP=t.LAYOUT_MESSAGE=void 0,t.LAYOUT_MESSAGE={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"},t.FORCE_LAYOUT_TYPE_MAP={gForce:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0}},1893:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DagreLayout=void 0;var o=i(n(4199)),a=n(1784),s=function(e){function t(t){var n=e.call(this)||this;return n.rankdir="TB",n.nodesep=50,n.ranksep=50,n.controlPoints=!1,n.sortByCombo=!1,n.edgeLabelSpace=!0,n.radial=!1,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.layoutNode=function(e){var t=n.nodes.find((function(t){return t.id===e}));return!t||!1!==t.layout},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1,radial:!1,focusNode:null}},t.prototype.execute=function(){var e=this,t=this,n=t.nodes,r=t.nodeSize,i=t.rankdir,s=t.combos,u=t.begin,l=t.radial;if(n){var c,f=t.edges||[],d=new o.default.graphlib.Graph({multigraph:!0,compound:!0});c=r?(0,a.isArray)(r)?function(){return r}:function(){return[r,r]}:function(e){return e.size?(0,a.isArray)(e.size)?e.size:(0,a.isObject)(e.size)?[e.size.width||40,e.size.height||40]:[e.size,e.size]:[40,40]};var h=(0,a.getFunc)(t.ranksep,50,t.ranksepFunc),p=(0,a.getFunc)(t.nodesep,50,t.nodesepFunc),g=p,v=h;"LR"!==i&&"RL"!==i||(g=h,v=p),d.setDefaultEdgeLabel((function(){return{}})),d.setGraph(t);var m={};n.filter((function(e){return!1!==e.layout})).forEach((function(t){var n=c(t),r=v(t),i=g(t),o=n[0]+2*i,s=n[1]+2*r,u=t.layer;(0,a.isNumber)(u)?d.setNode(t.id,{width:o,height:s,layer:u}):d.setNode(t.id,{width:o,height:s}),e.sortByCombo&&t.comboId&&(m[t.comboId]||(m[t.comboId]=!0,d.setNode(t.comboId,{})),d.setParent(t.id,t.comboId))})),this.sortByCombo&&s&&s.forEach((function(e){e.parentId&&(m[e.parentId]||(m[e.parentId]=!0,d.setNode(e.parentId,{})),d.setParent(e.id,e.parentId))})),f.forEach((function(t){var n=(0,a.getEdgeTerminal)(t,"source"),r=(0,a.getEdgeTerminal)(t,"target");e.layoutNode(n)&&e.layoutNode(r)&&d.setEdge(n,r,{weight:t.weight||1})}));var y=void 0;t.preset&&(y=new o.default.graphlib.Graph({multigraph:!0,compound:!0}),t.preset.nodes.forEach((function(e){null===y||void 0===y||y.setNode(e.id,e)}))),o.default.layout(d,{prevGraph:y,edgeLabelSpace:t.edgeLabelSpace,keepNodeOrder:Boolean(!!t.nodeOrder),nodeOrder:t.nodeOrder});var b=[0,0];if(u){var x=1/0,w=1/0;d.nodes().forEach((function(e){var t=d.node(e);x>t.x&&(x=t.x),w>t.y&&(w=t.y)})),d.edges().forEach((function(e){d.edge(e).points.forEach((function(e){x>e.x&&(x=e.x),w>e.y&&(w=e.y)}))})),b[0]=u[0]-x,b[1]=u[1]-w}if(l){var E=this,S=E.focusNode,_=E.ranksep,T=E.getRadialPos,k=(0,a.isString)(S)?S:null===S||void 0===S?void 0:S.id,C=k?d.node(k)._rank:0,M=[],A="LR"===i||"RL"===i,N=A?"y":"x",P=A?"height":"width",I=1/0,D=-1/0;d.nodes().forEach((function(e){var t=d.node(e),r=n.findIndex((function(t){return t.id===e}));if(n[r]){var i=p(n[r]);if(0===C)M[t._rank]||(M[t._rank]={nodes:[],totalWidth:0,maxSize:-1/0}),M[t._rank].nodes.push(e),M[t._rank].totalWidth+=2*i+t[P],M[t._rank].maxSize<Math.max(t.width,t.height)&&(M[t._rank].maxSize=Math.max(t.width,t.height));else{var o=t._rank-C;if(0===o)M[o]||(M[o]={nodes:[],totalWidth:0,maxSize:-1/0}),M[o].nodes.push(e),M[o].totalWidth+=2*i+t[P],M[o].maxSize<Math.max(t.width,t.height)&&(M[o].maxSize=Math.max(t.width,t.height));else{var a=Math.abs(o);M[a]||(M[a]={left:[],right:[],totalWidth:0,maxSize:-1/0}),M[a].totalWidth+=2*i+t[P],M[a].maxSize<Math.max(t.width,t.height)&&(M[a].maxSize=Math.max(t.width,t.height)),o<0?M[a].left.push(e):M[a].right.push(e)}}var s=t[N]-t[P]/2-i,u=t[N]+t[P]/2+i;s<I&&(I=s),u>D&&(D=u)}}));var O=_||50,R={},L=(D-I)/.9,j=[.5*(I+D-L),.5*(I+D+L)],B=function(e,t,r,i){void 0===r&&(r=-1/0),void 0===i&&(i=[0,1]);var o=r;return e.forEach((function(e){var r=d.node(e);R[e]=t;var a=T(r[N],j,L,t,i),s=a.x,u=a.y,l=n.findIndex((function(t){return t.id===e}));if(n[l]){n[l].x=s+b[0],n[l].y=u+b[1],n[l]._order=r._order;var c=h(n[l]);o<c&&(o=c)}})),o},F=!0;M.forEach((function(e){var t,r,i,o,a,s,u;if((null===(t=null===e||void 0===e?void 0:e.nodes)||void 0===t?void 0:t.length)||(null===(r=null===e||void 0===e?void 0:e.left)||void 0===r?void 0:r.length)||(null===(i=null===e||void 0===e?void 0:e.right)||void 0===i?void 0:i.length)){if(F&&1===e.nodes.length){var l=n.findIndex((function(t){return t.id===e.nodes[0]}));return n[l].x=b[0],n[l].y=b[1],R[e.nodes[0]]=0,O=h(n[l]),void(F=!1)}O=Math.max(O,e.totalWidth/(2*Math.PI));var c=-1/0;if(0===C||(null===(o=e.nodes)||void 0===o?void 0:o.length))c=B(e.nodes,O,c,[0,1]);else{var f=(null===(a=e.left)||void 0===a?void 0:a.length)/((null===(s=e.left)||void 0===s?void 0:s.length)+(null===(u=e.right)||void 0===u?void 0:u.length));c=B(e.left,O,c,[0,f]),c=B(e.right,O,c,[f+.05,1])}O+=c,F=!1,e.maxSize}})),d.edges().forEach((function(e){var n,r,i=d.edge(e),o=f.findIndex((function(t){var n=(0,a.getEdgeTerminal)(t,"source"),r=(0,a.getEdgeTerminal)(t,"target");return n===e.v&&r===e.w}));if(t.edgeLabelSpace&&t.controlPoints&&"loop"!==f[o].type){var s="x"===N?"y":"x",u=i.points.slice(1,i.points.length-1),l=[],c=null===(n=d.node(e.v))||void 0===n?void 0:n[s],h=c-(null===(r=d.node(e.w))||void 0===r?void 0:r[s]),p=R[e.v],g=p-R[e.w];u.forEach((function(e){var t=(e[s]-c)/h*g+p,n=T(e[N],j,L,t);l.push({x:n.x+b[0],y:n.y+b[1]})})),f[o].controlPoints=l}}))}else d.nodes().forEach((function(e){var t=d.node(e),r=n.findIndex((function(t){return t.id===e}));n[r]&&(n[r].x=t.x+b[0],n[r].y=t.y+b[1],n[r]._order=t._order)})),d.edges().forEach((function(e){var n=d.edge(e),r=f.findIndex((function(t){var n=(0,a.getEdgeTerminal)(t,"source"),r=(0,a.getEdgeTerminal)(t,"target");return n===e.v&&r===e.w}));t.edgeLabelSpace&&t.controlPoints&&"loop"!==f[r].type&&(f[r].controlPoints=n.points.slice(1,n.points.length-1),f[r].controlPoints.forEach((function(e){e.x+=b[0],e.y+=b[1]})))}));return t.onLayoutEnd&&t.onLayoutEnd(),{nodes:n,edges:f}}},t.prototype.getRadialPos=function(e,t,n,r,i){void 0===i&&(i=[0,1]);var o=(e-t[0])/n,a=2*(o=o*(i[1]-i[0])+i[0])*Math.PI;return{x:Math.cos(a)*r,y:Math.sin(a)*r}},t.prototype.getType=function(){return"dagre"},t}(n(4950).Base);t.DagreLayout=s},4199:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(9770)),o=r(n(6908)),a=n(1724);t.default={graphlib:i.default,layout:o.default,util:{time:a.time,notime:a.notime}}},5831:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(5010)),o=function(e){var t=[],n={},r={};return e.nodes().forEach((function i(o){var a;r.hasOwnProperty(o)||(r[o]=!0,n[o]=!0,null===(a=e.outEdges(o))||void 0===a||a.forEach((function(e){n.hasOwnProperty(e.w)?t.push(e):i(e.w)})),delete n[o])})),t};t.default={run:function(e){var t="greedy"===e.graph().acyclicer?(0,i.default)(e,function(e){return function(t){return e.edge(t).weight}}(e)):o(e);null===t||void 0===t||t.forEach((function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,"rev-"+Math.random())}))},undo:function(e){e.edges().forEach((function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}}))}}},817:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1724)),o=function(e,t,n,r,o,a){var s={rank:a,width:0,height:0,borderType:t},u=o[t][a-1],l=i.default.addDummyNode(e,"border",s,n);o[t][a]=l,e.setParent(l,r),u&&e.setEdge(u,l,{weight:1})};t.default=function(e){var t,n=function t(n){var r=e.children(n),i=e.node(n);if((null===r||void 0===r?void 0:r.length)&&r.forEach((function(e){return t(e)})),i.hasOwnProperty("minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,s=i.maxRank+1;a<s;++a)o(e,"borderLeft","_bl",n,i,a),o(e,"borderRight","_br",n,i,a)}};null===(t=e.children())||void 0===t||t.forEach((function(e){return n(e)}))}},829:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){e.nodes().forEach((function(t){r(e.node(t))})),e.edges().forEach((function(t){r(e.edge(t))}))},r=function(e){var t=e.width;e.width=e.height,e.height=t},i=function(e){e.nodes().forEach((function(t){o(e.node(t))})),e.edges().forEach((function(t){var n,r=e.edge(t);null===(n=r.points)||void 0===n||n.forEach((function(e){return o(e)})),r.hasOwnProperty("y")&&o(r)}))},o=function(e){e.y=-e.y},a=function(e){e.nodes().forEach((function(t){s(e.node(t))})),e.edges().forEach((function(t){var n,r=e.edge(t);null===(n=r.points)||void 0===n||n.forEach((function(e){return s(e)})),r.hasOwnProperty("x")&&s(r)}))},s=function(e){var t=e.x;e.x=e.y,e.y=t};t.default={adjust:function(e){var t,r=null===(t=e.graph().rankdir)||void 0===t?void 0:t.toLowerCase();"lr"!==r&&"rl"!==r||n(e)},undo:function(e){var t,r=null===(t=e.graph().rankdir)||void 0===t?void 0:t.toLowerCase();"bt"!==r&&"rl"!==r||i(e),"lr"!==r&&"rl"!==r||(a(e),n(e))}}},1462:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev},r=function(e,t){if("_next"!==e&&"_prev"!==e)return t},i=function(){function e(){var e={};e._next=e._prev=e,this.isentinel=e}return e.prototype.dequeue=function(){var e=this.isentinel,t=e._prev;if(t!==e)return n(t),t},e.prototype.enqueue=function(){var e=this.isentinel,t=e._prev;if(t!==e)return n(t),t},e.prototype.toString=function(){for(var e=[],t=this.isentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,r)),n=n._prev;return"["+e.join(", ")+"]"},e}();t.default=i},9770:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(3915)).default;i||"undefined"===typeof window||(i=window.graphlib),Array.prototype.flat||(Array.prototype.flat=function(e){var t=e||1;if(isFinite(t)){var n=this.length,r=[];if(0===this.length)return this;for(;t--;){var i=[],o=!1;if(0===r.length){o=!0;for(var a=0;a<n;a++)this[a]instanceof Array?r.push.apply(r,this[a]):r.push(this[a])}else{for(a=0;a<r.length;a++)r[a]instanceof Array?(o=!0,i.push.apply(i,r[a])):i.push(r[a]);r=i}if(!o&&t===1/0)break}return r}}),t.default=i},5010:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(9770)),o=r(n(1462)),a=i.default.Graph,s=function(){return 1},u=function(e,t,n){for(var r,i=[],o=t[t.length-1],a=t[0];e.nodeCount();){for(;r=a.dequeue();)l(e,t,n,r);for(;r=o.dequeue();)l(e,t,n,r);if(e.nodeCount())for(var s=t.length-2;s>0;--s)if(r=t[s].dequeue()){i=i.concat(l(e,t,n,r,!0));break}}return i},l=function(e,t,n,r,i){var o,a,s=i?[]:void 0;return null===(o=e.inEdges(r.v))||void 0===o||o.forEach((function(r){var o=e.edge(r),a=e.node(r.v);i&&s.push({v:r.v,w:r.w}),void 0===a.out&&(a.out=0),a.out-=o,f(t,n,a)})),null===(a=e.outEdges(r.v))||void 0===a||a.forEach((function(r){var i=e.edge(r),o=r.w,a=e.node(o);void 0===a.in&&(a.in=0),a.in-=i,f(t,n,a)})),e.removeNode(r.v),s},c=function(e,t){var n=new a,r=0,i=0;e.nodes().forEach((function(e){n.setNode(e,{v:e,in:0,out:0})})),e.edges().forEach((function(e){var o=n.edge(e.v,e.w)||0,a=null===t||void 0===t?void 0:t(e),s=o+a;n.setEdge(e.v,e.w,s),i=Math.max(i,n.node(e.v).out+=a),r=Math.max(r,n.node(e.w).in+=a)}));for(var s=[],u=i+r+3,l=0;l<u;l++)s.push(new o.default);var c=r+1;return n.nodes().forEach((function(e){f(s,c,n.node(e))})),{buckets:s,zeroIdx:c,graph:n}},f=function(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)};t.default=function(e,t){var n;if(e.nodeCount()<=1)return[];var r=c(e,t||s);return null===(n=u(r.graph,r.buckets,r.zeroIdx).map((function(t){return e.outEdges(t.v,t.w)})))||void 0===n?void 0:n.flat()}},6908:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(5831)),u=a(n(6885)),l=a(n(7098)),c=o(n(1724)),f=a(n(5604)),d=a(n(2912)),h=a(n(817)),p=a(n(829)),g=a(n(2854)),v=a(n(7746)),m=a(n(9770)),y=a(n(7914)),b=m.default.Graph,x=function(e,t,n){t("    removeSelfEdges",(function(){Y(e)})),t("    acyclic",(function(){s.default.run(e)})),t("    nestingGraph.run",(function(){d.default.run(e)})),t("    rank",(function(){(0,l.default)(c.default.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){D(e)})),t("    removeEmptyRanks",(function(){(0,c.removeEmptyRanks)(e)})),t("    nestingGraph.cleanup",(function(){d.default.cleanup(e)})),t("    normalizeRanks",(function(){(0,c.normalizeRanks)(e)})),t("    assignRankMinMax",(function(){O(e)})),t("    removeEdgeLabelProxies",(function(){R(e)})),t("    normalize.run",(function(){u.default.run(e)})),t("    parentDummyChains",(function(){(0,f.default)(e)})),t("    addBorderSegments",(function(){(0,h.default)(e)})),n&&n.keepNodeOrder&&t("    initDataOrder",(function(){(0,y.default)(e,n.nodeOrder)})),t("    order",(function(){(0,g.default)(e)})),t("    insertSelfEdges",(function(){G(e)})),t("    adjustCoordinateSystem",(function(){p.default.adjust(e)})),t("    position",(function(){(0,v.default)(e)})),t("    positionSelfEdges",(function(){V(e)})),t("    removeBorderNodes",(function(){z(e)})),t("    normalize.undo",(function(){u.default.undo(e)})),t("    fixupEdgeLabelCoords",(function(){B(e)})),t("    undoCoordinateSystem",(function(){p.default.undo(e)})),t("    translateGraph",(function(){L(e)})),t("    assignNodeIntersects",(function(){j(e)})),t("    reversePoints",(function(){F(e)})),t("    acyclic.undo",(function(){s.default.undo(e)}))},w=function(e,t){var n=t._nodes||{};e.nodes().forEach((function(t){var r=e.node(t);void 0!==n[t]?(r.fixorder=n[t]._order,delete n[t]._order):delete r.fixorder}))},E=function(e,t){e.nodes().forEach((function(n){var r,i=e.node(n),o=t.node(n);i&&(i.x=o.x,i.y=o.y,i._order=o.order,i._rank=o.rank,(null===(r=t.children(n))||void 0===r?void 0:r.length)&&(i.width=o.width,i.height=o.height))})),e.edges().forEach((function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,i.hasOwnProperty("x")&&(r.x=i.x,r.y=i.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height},S=["nodesep","edgesep","ranksep","marginx","marginy"],_={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},T=["acyclicer","ranker","rankdir","align"],k=["width","height","layer","fixorder"],C={width:0,height:0},M=["minlen","weight","width","height","labeloffset"],A={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},N=["labelpos"],P=function(e){var t=new b({multigraph:!0,compound:!0}),n=W(e.graph()),r={};return null===T||void 0===T||T.forEach((function(e){void 0!==n[e]&&(r[e]=n[e])})),t.setGraph(Object.assign({},_,U(n,S),r)),e.nodes().forEach((function(n){var r=W(e.node(n)),i=U(r,k);Object.keys(C).forEach((function(e){void 0===i[e]&&(i[e]=C[e])})),t.setNode(n,i),t.setParent(n,e.parent(n))})),e.edges().forEach((function(n){var r=W(e.edge(n)),i={};null===N||void 0===N||N.forEach((function(e){void 0!==r[e]&&(i[e]=r[e])})),t.setEdge(n,Object.assign({},A,U(r,M),i))})),t},I=function(e){var t=e.graph();t.ranksep||(t.ranksep=0),t.ranksep/=2,e.nodes().forEach((function(t){var n=e.node(t);isNaN(n.layer)||(n.layer?n.layer*=2:n.layer=0)})),e.edges().forEach((function(n){var r,i=e.edge(n);i.minlen*=2,"c"!==(null===(r=i.labelpos)||void 0===r?void 0:r.toLowerCase())&&("TB"===t.rankdir||"BT"===t.rankdir?i.width+=i.labeloffset:i.height+=i.labeloffset)}))},D=function(e){e.edges().forEach((function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i={e:t,rank:(e.node(t.w).rank-r.rank)/2+r.rank};c.default.addDummyNode(e,"edge-proxy",i,"_ep")}}))},O=function(e){var t=0;e.nodes().forEach((function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=Math.max(t,r.maxRank||-1/0))})),e.graph().maxRank=t},R=function(e){e.nodes().forEach((function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))},L=function(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),a=o.marginx||0,s=o.marginy||0,u=function(e){if(e){var o=e.x,a=e.y,s=e.width,u=e.height;isNaN(o)||isNaN(s)||(t=Math.min(t,o-s/2),n=Math.max(n,o+s/2)),isNaN(a)||isNaN(u)||(r=Math.min(r,a-u/2),i=Math.max(i,a+u/2))}};e.nodes().forEach((function(t){u(e.node(t))})),e.edges().forEach((function(t){var n=e.edge(t);n.hasOwnProperty("x")&&u(n)})),t-=a,r-=s,e.nodes().forEach((function(n){var i=e.node(n);i.x-=t,i.y-=r})),e.edges().forEach((function(n){var i,o=e.edge(n);null===(i=o.points)||void 0===i||i.forEach((function(e){e.x-=t,e.y-=r})),o.hasOwnProperty("x")&&(o.x-=t),o.hasOwnProperty("y")&&(o.y-=r)})),o.width=n-t+a,o.height=i-r+s},j=function(e){e.edges().forEach((function(t){var n,r,i=e.edge(t),o=e.node(t.v),a=e.node(t.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(c.default.intersectRect(o,n)),i.points.push(c.default.intersectRect(a,r))}))},B=function(e){e.edges().forEach((function(t){var n=e.edge(t);if(n.hasOwnProperty("x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))},F=function(e){e.edges().forEach((function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))},z=function(e){e.nodes().forEach((function(t){var n,r,i;if(null===(n=e.children(t))||void 0===n?void 0:n.length){var o=e.node(t),a=e.node(o.borderTop),s=e.node(o.borderBottom),u=e.node(o.borderLeft[(null===(r=o.borderLeft)||void 0===r?void 0:r.length)-1]),l=e.node(o.borderRight[(null===(i=o.borderRight)||void 0===i?void 0:i.length)-1]);o.width=Math.abs((null===l||void 0===l?void 0:l.x)-(null===u||void 0===u?void 0:u.x))||10,o.height=Math.abs((null===s||void 0===s?void 0:s.y)-(null===a||void 0===a?void 0:a.y))||10,o.x=((null===u||void 0===u?void 0:u.x)||0)+o.width/2,o.y=((null===a||void 0===a?void 0:a.y)||0)+o.height/2}})),e.nodes().forEach((function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))},Y=function(e){e.edges().forEach((function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))},G=function(e){var t=c.default.buildLayerMatrix(e);null===t||void 0===t||t.forEach((function(t){var n=0;null===t||void 0===t||t.forEach((function(t,r){var i,o=e.node(t);o.order=r+n,null===(i=o.selfEdges)||void 0===i||i.forEach((function(t){c.default.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:o.rank,order:r+ ++n,e:t.e,label:t.label},"_se")})),delete o.selfEdges}))}))},V=function(e){e.nodes().forEach((function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{y:o,x:i+a},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}}))},U=function(e,t){var n={};return null===t||void 0===t||t.forEach((function(t){void 0!==e[t]&&(n[t]=+e[t])})),n},W=function(e){void 0===e&&(e={});var t={};return Object.keys(e).forEach((function(n){var r=e[n];t[n.toLowerCase()]=r})),t};t.default=function(e,t){var n=t&&t.debugTiming?c.default.time:c.default.notime;n("layout",(function(){t&&!t.keepNodeOrder&&t.prevGraph&&n("  inheritOrder",(function(){w(e,t.prevGraph)}));var r=n("  buildLayoutGraph",(function(){return P(e)}));t&&!1===t.edgeLabelSpace||n("  makeSpaceForEdgeLabels",(function(){I(r)}));try{n("  runLayout",(function(){x(r,n,t)}))}catch(i){if("Not possible to find intersection inside of the rectangle"===i.message)return void console.error("The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:\n",i);throw i}n("  updateInputGraph",(function(){E(e,r)}))}))}},2912:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1724)),o=function e(t,n,r,o,a,s,u){var l=t.children(u);if(null===l||void 0===l?void 0:l.length){var c=i.default.addBorderNode(t,"_bt"),f=i.default.addBorderNode(t,"_bb"),d=t.node(u);t.setParent(c,u),d.borderTop=c,t.setParent(f,u),d.borderBottom=f,null===l||void 0===l||l.forEach((function(i){e(t,n,r,o,a,s,i);var l=t.node(i),d=l.borderTop?l.borderTop:i,h=l.borderBottom?l.borderBottom:i,p=l.borderTop?o:2*o,g=d!==h?1:a-s[u]+1;t.setEdge(c,d,{minlen:g,weight:p,nestingEdge:!0}),t.setEdge(h,f,{minlen:g,weight:p,nestingEdge:!0})})),t.parent(u)||t.setEdge(n,c,{weight:0,minlen:a+s[u]})}else u!==n&&t.setEdge(n,u,{weight:0,minlen:r})},a=function(e){var t,n={},r=function t(r,i){var o=e.children(r);null===o||void 0===o||o.forEach((function(e){return t(e,i+1)})),n[r]=i};return null===(t=e.children())||void 0===t||t.forEach((function(e){return r(e,1)})),n},s=function(e){var t=0;return e.edges().forEach((function(n){t+=e.edge(n).weight})),t};t.default={run:function(e){var t,n=i.default.addDummyNode(e,"root",{},"_root"),r=a(e),u=Math.max.apply(Math,Object.values(r))-1,l=2*u+1;e.graph().nestingRoot=n,e.edges().forEach((function(t){e.edge(t).minlen*=l}));var c=s(e)+1;null===(t=e.children())||void 0===t||t.forEach((function(t){o(e,n,l,c,u,r,t)})),e.graph().nodeRankFactor=l},cleanup:function(e){var t=e.graph();t.nestingRoot&&e.removeNode(t.nestingRoot),delete t.nestingRoot,e.edges().forEach((function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))}}},6885:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1724)),o=function(e,t){var n,r,o=t.v,a=e.node(o).rank,s=t.w,u=e.node(s).rank,l=t.name,c=e.edge(t),f=c.labelRank;if(u!==a+1){var d,h,p;for(e.removeEdge(t),p=0,++a;a<u;++p,++a)c.points=[],h={edgeLabel:c,width:0,height:0,edgeObj:t,rank:a},d=i.default.addDummyNode(e,"edge",h,"_d"),a===f&&(h.width=c.width,h.height=c.height,h.dummy="edge-label",h.labelpos=c.labelpos),e.setEdge(o,d,{weight:c.weight},l),0===p&&(e.graph().dummyChains||(e.graph().dummyChains=[]),null===(r=null===(n=e.graph())||void 0===n?void 0:n.dummyChains)||void 0===r||r.push(d)),o=d;e.setEdge(o,s,{weight:c.weight},l)}};t.default={run:function(e){e.graph().dummyChains=[],e.edges().forEach((function(t){return o(e,t)}))},undo:function(e){var t;null===(t=e.graph().dummyChains)||void 0===t||t.forEach((function(t){var n,r,i=e.node(t),o=i.edgeLabel;i.edgeObj&&e.setEdge(i.edgeObj,o);for(var a=t;i.dummy;)r=null===(n=e.successors(a))||void 0===n?void 0:n[0],e.removeNode(a),o.points.push({x:i.x,y:i.y}),"edge-label"===i.dummy&&(o.x=i.x,o.y=i.y,o.width=i.width,o.height=i.height),a=r,i=e.node(a)}))}}},7070:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var r,i={};null===n||void 0===n||n.forEach((function(n){for(var o,a,s=e.parent(n);s;){if((o=e.parent(s))?(a=i[o],i[o]=s):(a=r,r=s),a&&a!==s)return void t.setEdge(a,s);s=o}}))}},4333:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return t.map((function(t){var n=e.inEdges(t);if(!(null===n||void 0===n?void 0:n.length))return{v:t};var r={sum:0,weight:0};return null===n||void 0===n||n.forEach((function(t){var n=e.edge(t),i=e.node(t.v);r.sum+=n.weight*i.order,r.weight+=n.weight})),{v:t,barycenter:r.sum/r.weight,weight:r.weight}}))}},862:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(9770)).default.Graph,o=function(e){for(var t;e.hasNode(t="_root"+Math.random()););return t};t.default=function(e,t,n){var r=o(e),a=new i({compound:!0}).setGraph({root:r}).setDefaultNodeLabel((function(t){return e.node(t)}));return e.nodes().forEach((function(i){var o=e.node(i),s=e.parent(i);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(a.setNode(i),a.setParent(i,s||r),e[n](i).forEach((function(t){var n=t.v===i?t.w:t.v,r=a.edge(n,i),o=void 0!==r?r.weight:0;a.setEdge(n,i,{weight:e.edge(t).weight+o})})),o.hasOwnProperty("minRank")&&a.setNode(i,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))})),a}},6778:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1724),i=function(e,t,n){for(var i=(0,r.zipObject)(n,n.map((function(e,t){return t}))),o=t.map((function(t){var n,r=null===(n=e.outEdges(t))||void 0===n?void 0:n.map((function(t){return{pos:i[t.w]||0,weight:e.edge(t).weight}}));return null===r||void 0===r?void 0:r.sort((function(e,t){return e.pos-t.pos}))})).flat().filter((function(e){return void 0!==e})),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var u=Array(s).fill(0,0,s),l=0;return null===o||void 0===o||o.forEach((function(e){var t=e.pos+a;u[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=u[t+1]),u[t=t-1>>1]+=e.weight;l+=e.weight*n})),l};t.default=function(e,t){for(var n=0,r=1;r<(null===t||void 0===t?void 0:t.length);++r)n+=i(e,t[r-1],t[r]);return n}},2854:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(9220)),o=r(n(6778)),a=r(n(862)),s=r(n(7070)),u=r(n(55)),l=r(n(9770)),c=r(n(1724)),f=n(1784),d=l.default.Graph,h=function(e,t,n){return t.map((function(t){return(0,a.default)(e,t,n)}))},p=function(e,t,n){var r=new d;null===e||void 0===e||e.forEach((function(e){for(var i,o=e.graph().root,a=(0,u.default)(e,o,r,t,n),l=0;l<(null===(i=a.vs)||void 0===i?void 0:i.length);l++)e.node(a.vs[l]).order=l;(0,s.default)(e,r,a.vs)}))},g=function(e,t){null===t||void 0===t||t.forEach((function(t){null===t||void 0===t||t.forEach((function(t,n){e.node(t).order=n}))}))};t.default=function(e){for(var t=c.default.maxRank(e),n=[],r=[],a=1;a<t+1;a++)n.push(a);for(a=t-1;a>-1;a--)r.push(a);var s=h(e,n,"inEdges"),u=h(e,r,"outEdges"),l=(0,i.default)(e);g(e,l);for(var d,v=Number.POSITIVE_INFINITY,m=(a=0,0);m<4;++a,++m){p(a%2?s:u,a%4>=2),l=c.default.buildLayerMatrix(e),(y=(0,o.default)(e,l))<v&&(m=0,d=(0,f.clone)(l),v=y)}l=(0,i.default)(e),g(e,l);for(a=0,m=0;m<4;++a,++m){var y;p(a%2?s:u,a%4>=2,!0),l=c.default.buildLayerMatrix(e),(y=(0,o.default)(e,l))<v&&(m=0,d=(0,f.clone)(l),v=y)}g(e,d)}},7914:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){for(var n=e.nodes().filter((function(t){var n;return!(null===(n=e.children(t))||void 0===n?void 0:n.length)})).map((function(t){return e.node(t).rank})),r=Math.max.apply(Math,n),i=[],o=0;o<r+1;o++)i.push([]);null===t||void 0===t||t.forEach((function(t){var n=e.node(t);n&&!n.dummy&&(isNaN(n.rank)||(n.fixorder=i[n.rank].length,i[n.rank].push(t)))}))}},9220:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t={},n=e.nodes().filter((function(t){var n;return!(null===(n=e.children(t))||void 0===n?void 0:n.length)})),r=n.map((function(t){return e.node(t).rank})),i=Math.max.apply(Math,r),o=[],a=0;a<i+1;a++)o.push([]);var s=n.sort((function(t,n){return e.node(t).rank-e.node(n).rank})),u=s.filter((function(t){return void 0!==e.node(t).fixorder})).sort((function(t,n){return e.node(t).fixorder-e.node(n).fixorder}));return null===u||void 0===u||u.forEach((function(n){isNaN(e.node(n).rank)||o[e.node(n).rank].push(n),t[n]=!0})),null===s||void 0===s||s.forEach((function n(r){var i;if(!t.hasOwnProperty(r)){t[r]=!0;var a=e.node(r);isNaN(a.rank)||o[a.rank].push(r),null===(i=e.successors(r))||void 0===i||i.forEach((function(e){return n(e)}))}})),o}},3896:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){for(var t,n,i=[],o=function(){var o=e.pop();i.push(o),null===(t=o.in.reverse())||void 0===t||t.forEach((function(e){return(t=o,function(e){e.merged||(void 0===e.barycenter||void 0===t.barycenter||e.barycenter>=t.barycenter)&&r(t,e)})(e);var t})),null===(n=o.out)||void 0===n||n.forEach((function(t){return(n=o,function(t){t.in.push(n),0===--t.indegree&&e.push(t)})(t);var n}))};null===e||void 0===e?void 0:e.length;)o();var a=i.filter((function(e){return!e.merged})),s=["vs","i","barycenter","weight"];return a.map((function(e){var t={};return null===s||void 0===s||s.forEach((function(n){void 0!==e[n]&&(t[n]=e[n])})),t}))},r=function(e,t){var n,r=0,i=0;e.weight&&(r+=e.barycenter*e.weight,i+=e.weight),t.weight&&(r+=t.barycenter*t.weight,i+=t.weight),e.vs=null===(n=t.vs)||void 0===n?void 0:n.concat(e.vs),e.barycenter=r/i,e.weight=i,e.i=Math.min(t.i,e.i),t.merged=!0};t.default=function(e,t){var r,i,o,a={};null===e||void 0===e||e.forEach((function(e,t){var n=a[e.v]={i:t,indegree:0,in:[],out:[],vs:[e.v]};void 0!==e.barycenter&&(n.barycenter=e.barycenter,n.weight=e.weight)})),null===(r=t.edges())||void 0===r||r.forEach((function(e){var t=a[e.v],n=a[e.w];void 0!==t&&void 0!==n&&(n.indegree++,t.out.push(a[e.w]))}));var s=null===(o=(i=Object.values(a)).filter)||void 0===o?void 0:o.call(i,(function(e){return!e.indegree}));return n(s)}},55:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(4333)),o=r(n(3896)),a=r(n(3267)),s=function(e,t){null===e||void 0===e||e.forEach((function(e){var n,r=null===(n=e.vs)||void 0===n?void 0:n.map((function(e){return t[e]?t[e].vs:e}));e.vs=r.flat()}))},u=function(e,t){void 0!==e.barycenter?(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight):(e.barycenter=t.barycenter,e.weight=t.weight)};t.default=function e(t,n,r,l,c){var f,d,h,p,g=t.children(n),v=t.node(n),m=v?v.borderLeft:void 0,y=v?v.borderRight:void 0,b={};m&&(g=null===g||void 0===g?void 0:g.filter((function(e){return e!==m&&e!==y})));var x=(0,i.default)(t,g||[]);null===x||void 0===x||x.forEach((function(n){var i;if(null===(i=t.children(n.v))||void 0===i?void 0:i.length){var o=e(t,n.v,r,l);b[n.v]=o,o.hasOwnProperty("barycenter")&&u(n,o)}}));var w=(0,o.default)(x,r);s(w,b),null===(f=w.filter((function(e){var t;return!!e.vs||(null===(t=e.vs)||void 0===t?void 0:t.length)>0})))||void 0===f||f.forEach((function(e){var n=t.node(e.vs[0]);e.fixorder=n.fixorder,e.order=n.order}));var E=(0,a.default)(w,l,c);if(m&&(E.vs=[m,E.vs,y].flat(),null===(d=t.predecessors(m))||void 0===d?void 0:d.length)){var S=t.node((null===(h=t.predecessors(m))||void 0===h?void 0:h[0])||{}),_=t.node((null===(p=t.predecessors(y))||void 0===p?void 0:p[0])||{});E.hasOwnProperty("barycenter")||(E.barycenter=0,E.weight=0),E.barycenter=(E.barycenter*E.weight+S.order+_.order)/(E.weight+2),E.weight+=2}return E}},3267:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1724)),o=function(e,t,n){for(var r,i=n;t.length&&(r=t[t.length-1]).i<=i;)t.pop(),null===e||void 0===e||e.push(r.vs),i++;return i},a=function(e,t){return function(n,r){if(void 0!==n.fixorder&&void 0!==r.fixorder)return n.fixorder-r.fixorder;if(n.barycenter<r.barycenter)return-1;if(n.barycenter>r.barycenter)return 1;if(t&&void 0!==n.order&&void 0!==r.order){if(n.order<r.order)return-1;if(n.order>r.order)return 1}return e?r.i-n.i:n.i-r.i}};t.default=function(e,t,n){var r=i.default.partition(e,(function(e){return e.hasOwnProperty("fixorder")&&!isNaN(e.fixorder)||e.hasOwnProperty("barycenter")})),s=r.lhs,u=r.rhs.sort((function(e,t){return-e.i- -t.i})),l=[],c=0,f=0,d=0;null===s||void 0===s||s.sort(a(!!t,!!n)),d=o(l,u,d),null===s||void 0===s||s.forEach((function(e){var t;d+=null===(t=e.vs)||void 0===t?void 0:t.length,l.push(e.vs),c+=e.barycenter*e.weight,f+=e.weight,d=o(l,u,d)}));var h={vs:l.flat()};return f&&(h.barycenter=c/f,h.weight=f),h}},5604:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n,r){var i,o,a=[],s=[],u=Math.min(t[n].low,t[r].low),l=Math.max(t[n].lim,t[r].lim);i=n;do{i=e.parent(i),a.push(i)}while(i&&(t[i].low>u||l>t[i].lim));for(o=i,i=r;(i=e.parent(i))!==o;)s.push(i);return{lca:o,path:a.concat(s.reverse())}},r=function(e){var t,n={},r=0;return null===(t=e.children())||void 0===t||t.forEach((function t(i){var o,a=r;null===(o=e.children(i))||void 0===o||o.forEach(t),n[i]={low:a,lim:r++}})),n};t.default=function(e){var t,i=r(e);null===(t=e.graph().dummyChains)||void 0===t||t.forEach((function(t){var r,o,a=e.node(t),s=a.edgeObj;if(s)for(var u=n(e,i,s.v,s.w),l=u.path,c=u.lca,f=0,d=l[f],h=!0;t!==s.w;){if(a=e.node(t),h){for(;(d=l[f])!==c&&e.node(d).maxRank<a.rank;)f++;d===c&&(h=!1)}if(!h){for(;f<l.length-1&&(null===(r=e.node(d=l[f+1]))||void 0===r?void 0:r.minRank)<=a.rank;)f++;d=l[f]}e.setParent(t,d),t=null===(o=e.successors(t))||void 0===o?void 0:o[0]}}))}},9864:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.balance=t.findSmallestWidthAlignment=t.alignCoordinates=t.horizontalCompaction=t.verticalAlignment=t.hasConflict=t.addConflict=t.findType2Conflicts=t.findType1Conflicts=t.positionX=void 0;var i=r(n(9770)),o=r(n(1724)),a=i.default.Graph,s=function(e,t){var n={};return(null===t||void 0===t?void 0:t.length)&&t.reduce((function(t,r){var i=0,o=0,a=t.length,s=null===r||void 0===r?void 0:r[(null===r||void 0===r?void 0:r.length)-1];return null===r||void 0===r||r.forEach((function(t,u){var f,d=l(e,t),h=d?e.node(d).order:a;(d||t===s)&&(null===(f=r.slice(o,u+1))||void 0===f||f.forEach((function(t){var r;null===(r=e.predecessors(t))||void 0===r||r.forEach((function(r){var o=e.node(r),a=o.order;!(a<i||h<a)||o.dummy&&e.node(t).dummy||c(n,r,t)}))})),o=u+1,i=h)})),r})),n};t.findType1Conflicts=s;var u=function(e,t){var n={},r=function(t,r,i,o,a){for(var s,u=[],l=r;l<i;l++)u.push(l);u.forEach((function(r){var i;s=t[r],e.node(s).dummy&&(null===(i=e.predecessors(s))||void 0===i||i.forEach((function(t){var r=e.node(t);r.dummy&&(r.order<o||r.order>a)&&c(n,t,s)})))}))};return(null===t||void 0===t?void 0:t.length)&&t.reduce((function(t,n){var i,o=-1,a=0;return null===n||void 0===n||n.forEach((function(s,u){if("border"===e.node(s).dummy){var l=e.predecessors(s)||[];l.length&&(i=e.node(l[0]).order,r(n,a,u,o,i),a=u,o=i)}r(n,a,n.length,i,t.length)})),n})),n};t.findType2Conflicts=u;var l=function(e,t){var n;if(e.node(t).dummy)return null===(n=e.predecessors(t))||void 0===n?void 0:n.find((function(t){return e.node(t).dummy}))},c=function(e,t,n){var r=t,i=n;if(r>i){var o=r;r=i,i=o}var a=e[r];a||(e[r]=a={}),a[i]=!0};t.addConflict=c;var f=function(e,t,n){var r=t,i=n;r>i&&(r=i,i=t);return e[r]&&e[r].hasOwnProperty(i)};t.hasConflict=f;var d=function(e,t,n,r){var i={},o={},a={};return null===t||void 0===t||t.forEach((function(e){null===e||void 0===e||e.forEach((function(e,t){i[e]=e,o[e]=e,a[e]=t}))})),null===t||void 0===t||t.forEach((function(e){var t=-1;null===e||void 0===e||e.forEach((function(e){var s=r(e);if(s.length)for(var u=((s=s.sort((function(e,t){return a[e]-a[t]}))).length-1)/2,l=Math.floor(u),c=Math.ceil(u);l<=c;++l){var d=s[l];o[e]===e&&t<a[d]&&!f(n,e,d)&&(o[d]=e,o[e]=i[e]=i[d],t=a[d])}}))})),{root:i,align:o}};t.verticalAlignment=d;var h=function(e,t,n,r,i){var o,a={},s=p(e,t,n,i),u=i?"borderLeft":"borderRight",l=function(e,t){for(var n=s.nodes(),r=n.pop(),i={};r;)i[r]?e(r):(i[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()};return l((function(e){a[e]=(s.inEdges(e)||[]).reduce((function(e,t){return Math.max(e,(a[t.v]||0)+s.edge(t))}),0)}),s.predecessors.bind(s)),l((function(t){var n=(s.outEdges(t)||[]).reduce((function(e,t){return Math.min(e,(a[t.w]||0)-s.edge(t))}),Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==u&&(a[t]=Math.max(a[t],n))}),s.successors.bind(s)),null===(o=Object.values(r))||void 0===o||o.forEach((function(e){a[e]=a[n[e]]})),a};t.horizontalCompaction=h;var p=function(e,t,n,r){var i=new a,o=e.graph(),s=b(o.nodesep,o.edgesep,r);return null===t||void 0===t||t.forEach((function(t){var r;null===t||void 0===t||t.forEach((function(t){var o=n[t];if(i.setNode(o),r){var a=n[r],u=i.edge(a,o);i.setEdge(a,o,Math.max(s(e,t,r),u||0))}r=t}))})),i},g=function(e,t){return o.default.minBy(Object.values(t),(function(t){var n,r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return null===(n=Object.keys(t))||void 0===n||n.forEach((function(n){var o=t[n],a=x(e,n)/2;r=Math.max(o+a,r),i=Math.min(o-a,i)})),r-i}))};function v(e,t){var n=Object.values(t),r=Math.min.apply(Math,n),i=Math.max.apply(Math,n);["u","d"].forEach((function(n){["l","r"].forEach((function(o){var a,s=n+o,u=e[s];if(u!==t){var l=Object.values(u);(a="l"===o?r-Math.min.apply(Math,l):i-Math.max.apply(Math,l))&&(e[s]={},Object.keys(u).forEach((function(t){e[s][t]=u[t]+a})))}}))}))}t.findSmallestWidthAlignment=g,t.alignCoordinates=v;var m=function(e,t){var n={};return Object.keys(e.ul).forEach((function(r){if(t)n[r]=e[t.toLowerCase()][r];else{var i=Object.values(e).map((function(e){return e[r]})).sort((function(e,t){return e-t}));n[r]=(i[1]+i[2])/2}})),n};t.balance=m;var y=function(e){var t,n=o.default.buildLayerMatrix(e),r=Object.assign(s(e,n),u(e,n)),i={};["u","d"].forEach((function(o){t="u"===o?n:Object.values(n).reverse(),["l","r"].forEach((function(n){"r"===n&&(t=t.map((function(e){return Object.values(e).reverse()})));var a=("u"===o?e.predecessors:e.successors).bind(e),s=d(0,t,r,a),u=h(e,t,s.root,s.align,"r"===n);"r"===n&&(u=Object.values(u).map((function(e){return-e}))),i[o+n]=u}))}));var a=g(e,i);return v(i,a),m(i,e.graph().align)};t.positionX=y;var b=function(e,t,n){return function(r,i,o){var a,s=r.node(i),u=r.node(o),l=0;if(l+=s.width/2,s.hasOwnProperty("labelpos"))switch((s.labelpos||"").toLowerCase()){case"l":a=-s.width/2;break;case"r":a=s.width/2}if(a&&(l+=n?a:-a),a=0,l+=(s.dummy?t:e)/2,l+=(u.dummy?t:e)/2,l+=u.width/2,u.hasOwnProperty("labelpos"))switch((u.labelpos||"").toLowerCase()){case"l":a=u.width/2;break;case"r":a=-u.width/2}return a&&(l+=n?a:-a),a=0,l}},x=function(e,t){var n;return(null===(n=e.node(t))||void 0===n?void 0:n.width)||0};t.default={positionX:y,findType1Conflicts:s,findType2Conflicts:u,addConflict:c,hasConflict:f,verticalAlignment:d,horizontalCompaction:h,alignCoordinates:v,findSmallestWidthAlignment:g,balance:m}},7746:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1724)),o=n(9864);t.default=function(e){var t;!function(e){var t=i.default.buildLayerMatrix(e),n=e.graph().ranksep,r=0;null===t||void 0===t||t.forEach((function(t){var i=t.map((function(t){return e.node(t).height})),o=Math.max.apply(Math,i);null===t||void 0===t||t.forEach((function(t){e.node(t).y=r+o/2})),r+=o+n}))}(e=i.default.asNonCompoundGraph(e));var n=function(e){var t,n=i.default.buildLayerMatrix(e),r=Object.assign((0,o.findType1Conflicts)(e,n),(0,o.findType2Conflicts)(e,n)),a={};["u","d"].forEach((function(i){t="u"===i?n:Object.values(n).reverse(),["l","r"].forEach((function(n){"r"===n&&(t=t.map((function(e){return Object.values(e).reverse()})));var s=("u"===i?e.predecessors:e.successors).bind(e),u=(0,o.verticalAlignment)(e,t,r,s),l=(0,o.horizontalCompaction)(e,t,u.root,u.align,"r"===n);"r"===n&&Object.keys(l).forEach((function(e){return l[e]=-l[e]})),a[i+n]=l}))}));var s=(0,o.findSmallestWidthAlignment)(e,a);return s&&(0,o.alignCoordinates)(a,s),(0,o.balance)(a,e.graph().align)}(e);null===(t=Object.keys(n))||void 0===t||t.forEach((function(t){e.node(t).x=n[t]}))}},358:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.feasibleTreeWithLayer=t.feasibleTree=void 0;var i=r(n(9770)),o=n(1850),a=n(1724),s=i.default.Graph,u=function(e){var t,n,r=new s({directed:!1}),i=e.nodes()[0],a=e.nodeCount();for(r.setNode(i,{});l(r,e)<a;)t=d(r,e),n=r.hasNode(t.v)?(0,o.slack)(e,t):-(0,o.slack)(e,t),h(r,e,n);return r};t.feasibleTree=u;var l=function(e,t){return e.nodes().forEach((function n(r){t.nodeEdges(r).forEach((function(i){var a=i.v,s=r===a?i.w:a;e.hasNode(s)||(0,o.slack)(t,i)||(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))}))})),e.nodeCount()},c=function(e){var t,n,r=new s({directed:!1}),i=e.nodes()[0],a=e.nodeCount();for(r.setNode(i,{});f(r,e)<a;)t=d(r,e),n=r.hasNode(t.v)?(0,o.slack)(e,t):-(0,o.slack)(e,t),h(r,e,n);return r};t.feasibleTreeWithLayer=c;var f=function(e,t){return e.nodes().forEach((function n(r){var i;null===(i=t.nodeEdges(r))||void 0===i||i.forEach((function(i){var a=i.v,s=r===a?i.w:a;e.hasNode(s)||void 0===t.node(s).layer&&(0,o.slack)(t,i)||(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))}))})),e.nodeCount()},d=function(e,t){return(0,a.minBy)(t.edges(),(function(n){return e.hasNode(n.v)!==e.hasNode(n.w)?(0,o.slack)(t,n):1/0}))},h=function(e,t,n){e.nodes().forEach((function(e){t.node(e).rank||(t.node(e).rank=0),t.node(e).rank+=n}))};t.default={feasibleTree:u,feasibleTreeWithLayer:c}},7098:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1850),o=n(358),a=r(n(7922)),s=i.longestPath,u=function(e){(0,i.longestPathWithLayer)(e),(0,o.feasibleTreeWithLayer)(e)},l=function(e){(0,a.default)(e)};t.default=function(e){switch(e.graph().ranker){case"network-simplex":l(e);break;case"tight-tree":default:u(e);break;case"longest-path":s(e)}}},7922:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(358),o=n(1850),a=n(1724),s=r(n(9770)).default.alg,u=s.preorder,l=s.postorder,c=function(e){e=(0,a.simplify)(e),(0,o.longestPath)(e);var t,n,r=(0,i.feasibleTree)(e);for(p(r),f(r,e);t=v(r);)n=m(r,e,t),y(r,e,t,n)},f=function(e,t){var n=l(e,e.nodes());null===(n=null===n||void 0===n?void 0:n.slice(0,(null===n||void 0===n?void 0:n.length)-1))||void 0===n||n.forEach((function(n){d(e,t,n)}))},d=function(e,t,n){var r=e.node(n).parent;e.edge(n,r).cutvalue=h(e,t,n)},h=function(e,t,n){var r,i=e.node(n).parent,o=!0,a=t.edge(n,i),s=0;return a||(o=!1,a=t.edge(i,n)),s=a.weight,null===(r=t.nodeEdges(n))||void 0===r||r.forEach((function(r){var a=r.v===n,u=a?r.w:r.v;if(u!==i){var l=a===o,c=t.edge(r).weight;if(s+=l?c:-c,x(e,n,u)){var f=e.edge(n,u).cutvalue;s+=l?-f:f}}})),s},p=function(e,t){void 0!==t&&(t=e.nodes()[0]),g(e,{},1,t)},g=function e(t,n,r,i,o){var a,s=r,u=r,l=t.node(i);return n[i]=!0,null===(a=t.neighbors(i))||void 0===a||a.forEach((function(r){n.hasOwnProperty(r)||(u=e(t,n,u,r,i))})),l.low=s,l.lim=u++,o?l.parent=o:delete l.parent,u},v=function(e){return e.edges().find((function(t){return e.edge(t).cutvalue<0}))},m=function(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var s=e.node(r),u=e.node(i),l=s,c=!1;s.lim>u.lim&&(l=u,c=!0);var f=t.edges().filter((function(t){return c===w(e,e.node(t.v),l)&&c!==w(e,e.node(t.w),l)}));return(0,a.minBy)(f,(function(e){return(0,o.slack)(t,e)}))},y=function(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),p(e),f(e,t),b(e,t)},b=function(e,t){var n=e.nodes().find((function(e){return!t.node(e).parent})),r=u(e,n);null===(r=null===r||void 0===r?void 0:r.slice(1))||void 0===r||r.forEach((function(n){var r=e.node(n).parent,i=t.edge(n,r),o=!1;i||(i=t.edge(r,n),o=!0),t.node(n).rank=t.node(r).rank+(o?i.minlen:-i.minlen)}))},x=function(e,t,n){return e.hasEdge(t,n)},w=function(e,t,n){return n.low<=t.lim&&t.lim<=n.lim};c.initLowLimValues=p,c.initCutValues=f,c.calcCutValue=h,c.leaveEdge=v,c.enterEdge=m,c.exchangeEdges=y,t.default=c},1850:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.slack=t.longestPathWithLayer=t.longestPath=void 0;var n=function(e){var t,n={},r=function t(r){var i,o=e.node(r);if(n.hasOwnProperty(r))return o.rank;n[r]=!0;var a=null===(i=e.outEdges(r))||void 0===i?void 0:i.map((function(n){return t(n.w)-e.edge(n).minlen||1/0})),s=Math.min.apply(Math,a);return s!==Number.POSITIVE_INFINITY&&void 0!==s&&null!==s||(s=0),o.rank=s,s};null===(t=e.sources())||void 0===t||t.forEach((function(e){return r(e)}))};t.longestPath=n;var r=function(e){var t,n={},r=0,i=function t(i){var o,a=e.node(i);if(n.hasOwnProperty(i))return a.rank;n[i]=!0;var s=null===(o=e.outEdges(i))||void 0===o?void 0:o.map((function(n){return t(n.w)-e.edge(n).minlen||1/0})),u=Math.min.apply(Math,s);return u!==Number.POSITIVE_INFINITY&&void 0!==u&&null!==u||(u=0),a.rank=u,r=Math.min(a.rank,r),a.rank};null===(t=e.sources())||void 0===t||t.forEach((function(e){return i(e)})),r+=1;var o=function t(n,r){var i,o=e.node(n),a=isNaN(o.layer)?r:o.layer;(void 0===o.rank||o.rank<a)&&(o.rank=a),null===(i=e.outEdges(n))||void 0===i||i.map((function(n){t(n.w,a+e.edge(n).minlen)}))};e.nodes().forEach((function(t){var n=e.node(t);isNaN(n.layer)?n.rank-=r:o(t,n.layer)}))};t.longestPathWithLayer=r;var i=function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen};t.slack=i,t.default={longestPath:n,longestPathWithLayer:r,slack:i}},1724:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.minBy=t.zipObject=t.notime=t.time=t.partition=t.maxRank=t.addBorderNode=t.removeEmptyRanks=t.normalizeRanks=t.buildLayerMatrix=t.intersectRect=t.predecessorWeights=t.successorWeights=t.asNonCompoundGraph=t.simplify=t.addDummyNode=void 0;var i=n(1784),o=r(n(9770)).default.Graph,a=function(e,t,n,r){var i;do{i=""+r+Math.random()}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i};t.addDummyNode=a;var s=function(e){var t=(new o).setGraph(e.graph());return e.nodes().forEach((function(n){t.setNode(n,e.node(n))})),e.edges().forEach((function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})})),t};t.simplify=s;var u=function(e){var t=new o({multigraph:e.isMultigraph()}).setGraph(e.graph());return e.nodes().forEach((function(n){var r;(null===(r=e.children(n))||void 0===r?void 0:r.length)||t.setNode(n,e.node(n))})),e.edges().forEach((function(n){return t.setEdge(n,e.edge(n))})),t};t.asNonCompoundGraph=u;var l=function(e,t){var n={};return null===e||void 0===e||e.forEach((function(e,r){n[e]=t[r]})),n};t.zipObject=l;var c=function(e){var t=e.nodes().map((function(t){var n,r={};return null===(n=e.outEdges(t))||void 0===n||n.forEach((function(t){r[t.w]=(r[t.w]||0)+e.edge(t).weight})),r}));return l(e.nodes(),t)};t.successorWeights=c;var f=function(e){var t=e.nodes().map((function(t){var n,r={};return null===(n=e.inEdges(t))||void 0===n||n.forEach((function(t){r[t.v]=(r[t.v]||0)+e.edge(t).weight})),r}));return l(e.nodes(),t)};t.predecessorWeights=f;var d=function(e,t){var n,r,i=e.x,o=e.y,a=t.x-i,s=t.y-o,u=e.width/2,l=e.height/2;return a||s?(Math.abs(s)*u>Math.abs(a)*l?(s<0&&(l=-l),n=l*a/s,r=l):(a<0&&(u=-u),n=u,r=u*s/a),{x:i+n,y:o+r}):{x:0,y:0}};t.intersectRect=d;var h=function(e){for(var t=[],n=[],r=m(e)+1,i=0;i<r;i++)t.push([]),n.push([]);return e.nodes().forEach((function(r){var i=e.node(r).rank;void 0!==i&&t[i]&&n[i].push(r)})),null===n||void 0===n||n.forEach((function(n,r){null===n||void 0===n||n.sort((function(t,n){var r,i;return(null===(r=e.node(t))||void 0===r?void 0:r.order)-(null===(i=e.node(n))||void 0===i?void 0:i.order)})),n.forEach((function(e){t[r].push(e)}))})),t};t.buildLayerMatrix=h;var p=function(e){var t=e.nodes().filter((function(t){return void 0!==e.node(t).rank})).map((function(t){return e.node(t).rank})),n=Math.min.apply(Math,t);e.nodes().forEach((function(t){var r=e.node(t);r.hasOwnProperty("rank")&&(r.rank||(r.rank=0),r.rank-=n)}))};t.normalizeRanks=p;var g=function(e){var t=e.nodes().filter((function(t){return void 0!==e.node(t).rank})).map((function(t){return e.node(t).rank})),n=Math.min.apply(Math,t),r=[];e.nodes().forEach((function(t){var i,o=((null===(i=e.node(t))||void 0===i?void 0:i.rank)||0)-n;r[o]||(r[o]=[]),r[o].push(t)}));for(var i=0,o=e.graph().nodeRankFactor||0,a=0;a<r.length;a++){var s=r[a];void 0===s&&a%o!==0?--i:i&&(null===s||void 0===s||s.forEach((function(t){e.node(t).rank||(e.node(t).rank=0),e.node(t).rank+=i})))}};t.removeEmptyRanks=g;var v=function(e,t,n,r){var o={width:0,height:0};return(0,i.isNumber)(n)&&(0,i.isNumber)(r)&&(o.rank=n,o.order=r),a(e,"border",o,t)};t.addBorderNode=v;var m=function(e){var t=e.nodes().map((function(t){var n=e.node(t).rank;return void 0!==n?n:-1/0}));return Math.max.apply(Math,t)};t.maxRank=m;var y=function(e,t){var n={lhs:[],rhs:[]};return null===e||void 0===e||e.forEach((function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n};t.partition=y;var b=function(e,t){var n=Date.now();try{return t()}finally{console.log(e+" time: "+(Date.now()-n)+"ms")}};t.time=b;var x=function(e,t){return t()};t.notime=x;var w=function(e,t){var n,r=1/0;return null===e||void 0===e||e.forEach((function(e){var i=t(e);r>i&&(r=i,n=e)})),n};t.minBy=w,t.default={addDummyNode:a,simplify:s,asNonCompoundGraph:u,successorWeights:c,predecessorWeights:f,intersectRect:d,buildLayerMatrix:h,normalizeRanks:p,removeEmptyRanks:g,addBorderNode:v,maxRank:m,partition:y,time:b,notime:x,zipObject:l,minBy:w}},7530:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.DagreCompoundLayout=void 0;var a=n(4950),s=n(9457),u=n(1784),l=function(e){function t(t){var n=e.call(this)||this;return n.rankdir="TB",n.nodesep=50,n.edgesep=5,n.ranksep=50,n.controlPoints=!0,n.anchorPoint=!0,n.nodes=[],n.edges=[],n.combos=[],n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,begin:void 0,nodeSize:void 0,nodesep:50,ranksep:50,controlPoints:!0,anchorPoint:!0}},t.prototype.init=function(e){var t=e.hiddenNodes||[],n=e.hiddenEdges||[],r=e.hiddenCombos||[];this.nodes=this.getDataByOrder((e.nodes||[]).concat(t)),this.edges=this.getDataByOrder((e.edges||[]).concat(n)),this.combos=(e.combos||[]).concat(r.map((function(e){return i(i({},e),{collapsed:!0})})))},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges;if(t){var r=e.getLayoutConfig(),i=r.graphDef,o=r.graphOption,a=r.graphSettings,u=(0,s.buildGraph)(i,o,a),l=(0,s.flatGraph)(u,!0);return this.updatePosition(l),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n}}},t.prototype.getNodePath=function(e){var t=this.nodes,n=this.combos,r=t.find((function(t){return t.id===e}));return r&&r.comboId?function e(t,r){void 0===r&&(r=[]);var i=n.find((function(e){return e.id===t}));return i?(r.unshift(t),i.parentId?e(i.parentId,r):r):r}(r.comboId,[e]):[e]},t.prototype.getLayoutConfig=function(){var e,t,n,r,a=this,l=a.nodes,c=a.edges,f=a.combos,d=a.nodeSize,h=a.rankdir,p=a.align,g=a.edgesep,v=a.nodesep,m=a.ranksep,y=a.settings,b=(f||[]).reduce((function(e,t){var n=l.filter((function(e){return e.comboId===t.id})).map((function(e){return e.id})),r=(f||[]).filter((function(e){return e.parentId===t.id})).map((function(e){return e.id}));return(n.length||r.length)&&(e[t.id]=o(o([],n,!0),r,!0)),e}),{});r=d?(0,u.isArray)(d)?function(){return d}:function(){return[d,d]}:function(e){return e&&e.size?(0,u.isArray)(e.size)?e.size:(0,u.isObject)(e.size)?[e.size.width||40,e.size.height||40]:[e.size,e.size]:[40,40]};var x,w=(x=null===f||void 0===f?void 0:f[0])&&x.size?(0,u.isArray)(x.size)?x.size:[x.size,x.size]:[80,40],E=w[0],S=w[1],_=null===(t=null===(e=a.graphSettings)||void 0===e?void 0:e.subScene)||void 0===t?void 0:t.meta,T=(null===(n=f.find((function(e){return!e.collapsed})))||void 0===n?void 0:n.padding)||[20,20,20,20],k=T[0],C=T[1],M=T[2],A=T[3],N={compound:b,nodes:o([],(l||[]).map((function(e){var t=r(e),n=t[0],o=t[1];return i(i({},e),{width:n,height:o})})),!0),edges:o([],(c||[]).map((function(e){return i(i({},e),{v:e.source,w:e.target})})),!0)},P={expanded:(f||[]).filter((function(e){return!e.collapsed})).map((function(e){return e.id}))},I={graph:{meta:{align:p,rankDir:h,nodeSep:v,edgeSep:g,rankSep:m}},subScene:{meta:{paddingTop:k||(null===_||void 0===_?void 0:_.paddingTop)||20,paddingRight:C||(null===_||void 0===_?void 0:_.paddingRight)||20,paddingBottom:M||(null===_||void 0===_?void 0:_.paddingBottom)||20,paddingLeft:A||(null===_||void 0===_?void 0:_.paddingLeft)||20,labelHeight:0}},nodeSize:{meta:{width:E,height:S}}},D=(0,s.mergeConfig)(y,i({},(0,s.mergeConfig)(I,s.LAYOUT_CONFIG)));return a.graphSettings=D,{graphDef:N,graphOption:P,graphSettings:D}},t.prototype.updatePosition=function(e){var t=e.nodes,n=e.edges;this.updateNodePosition(t,n),this.updateEdgePosition(t,n)},t.prototype.getBegin=function(e,t){var n=this.begin,r=[0,0];if(n){var i=1/0,o=1/0;e.forEach((function(e){i>e.x&&(i=e.x),o>e.y&&(o=e.y)})),t.forEach((function(e){e.points.forEach((function(e){i>e.x&&(i=e.x),o>e.y&&(o=e.y)}))})),r[0]=n[0]-i,r[1]=n[1]-o}return r},t.prototype.updateNodePosition=function(e,t){var n=this,r=n.combos,i=n.nodes,o=n.edges,a=n.anchorPoint,u=n.graphSettings,l=this.getBegin(e,t);e.forEach((function(e){var n,c=e.x,f=e.y,d=e.id,h=e.type,p=e.coreBox;if(h===s.HierarchyNodeType.META&&d!==s.ROOT_NAME){var g=r.findIndex((function(e){return e.id===d})),v=null===(n=null===u||void 0===u?void 0:u.subScene)||void 0===n?void 0:n.meta;r[g].offsetX=c+l[0],r[g].offsetY=f+l[1],r[g].fixSize=[p.width,p.height],r[g].fixCollapseSize=[p.width,p.height],e.expanded?r[g].padding=[null===v||void 0===v?void 0:v.paddingTop,null===v||void 0===v?void 0:v.paddingRight,null===v||void 0===v?void 0:v.paddingBottom,null===v||void 0===v?void 0:v.paddingLeft]:r[g].padding=[0,0,0,0]}else if(h===s.HierarchyNodeType.OP){g=i.findIndex((function(e){return e.id===d}));if(i[g].x=c+l[0],i[g].y=f+l[1],a){var m=[],y=t.filter((function(e){return e.v===d})),b=t.filter((function(e){return e.w===d}));y.length>0&&y.forEach((function(t){var n=t.points[0],r=(n.x-c)/e.width+.5,i=(n.y-f)/e.height+.5;m.push([r,i]),t.baseEdgeList.forEach((function(e){var t=o.find((function(t){return t.source===e.v&&t.target===e.w}));t&&(t.sourceAnchor=m.length-1)}))})),b.length>0&&b.forEach((function(t){var n=t.points[t.points.length-1],r=(n.x-c)/e.width+.5,i=(n.y-f)/e.height+.5;m.push([r,i]),t.baseEdgeList.forEach((function(e){var t=o.find((function(t){return t.source===e.v&&t.target===e.w}));t&&(t.targetAnchor=m.length-1)}))})),i[g].anchorPoints=m.length>0?m:i[g].anchorPoints||[]}}}))},t.prototype.updateEdgePosition=function(e,t){var n=this,r=n.combos,a=n.edges,u=n.controlPoints,l=this.getBegin(e,t);u&&(r.forEach((function(e){e.inEdges=[],e.outEdges=[]})),a.forEach((function(t){var a,u,c,f,d=e.find((function(e){return e.id===t.source})),h=e.find((function(e){return e.id===t.target})),p=[],g=[];if(d&&h)g=(0,s.getEdges)(null===d||void 0===d?void 0:d.id,null===h||void 0===h?void 0:h.id,e);else if(!d||!h){var v=n.getNodePath(t.source),m=n.getNodePath(t.target),y=v.reverse().slice(d?0:1).find((function(t){return e.find((function(e){return e.id===t}))})),b=m.reverse().slice(h?0:1).find((function(t){return e.find((function(e){return e.id===t}))}));d=e.find((function(e){return e.id===y})),h=e.find((function(e){return e.id===b})),g=(0,s.getEdges)(null===d||void 0===d?void 0:d.id,null===h||void 0===h?void 0:h.id,e,{v:t.source,w:t.target})}if(p=(p=g.reduce((function(e,t){return o(o([],e,!0),t.points.map((function(e){return i(i({},e),{x:e.x+l[0],y:e.y+l[1]})})),!0)}),[])).slice(1,-1),t.controlPoints=p,(null===h||void 0===h?void 0:h.type)===s.NodeType.META){var x=r.findIndex((function(e){return e.id===(null===h||void 0===h?void 0:h.id)}));if(!r[x]||(null===(a=r[x].inEdges)||void 0===a?void 0:a.some((function(e){return e.source===d.id&&e.target===h.id}))))return;null===(u=r[x].inEdges)||void 0===u||u.push({source:d.id,target:h.id,controlPoints:p})}if((null===d||void 0===d?void 0:d.type)===s.NodeType.META){x=r.findIndex((function(e){return e.id===(null===d||void 0===d?void 0:d.id)}));if(!r[x]||(null===(c=r[x].outEdges)||void 0===c?void 0:c.some((function(e){return e.source===d.id&&e.target===h.id}))))return;null===(f=r[x].outEdges)||void 0===f||f.push({source:d.id,target:h.id,controlPoints:p})}})))},t.prototype.getType=function(){return"dagreCompound"},t.prototype.getDataByOrder=function(e){return e.every((function(e){return void 0!==e.layoutOrder}))||e.forEach((function(e,t){e.layoutOrder=t})),e.sort((function(e,t){return e.layoutOrder-t.layoutOrder}))},t}(a.Base);t.DagreCompoundLayout=l},9150:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(n(8878)),l=s(n(9523)),c=s(n(3529)),f=n(1893);t.default=function(e,t){var n=e.nodes,i=e.edges,o=t.width,a=t.height;if(!(null===n||void 0===n?void 0:n.length))return Promise.resolve();var s=[];n.forEach((function(e){if(i.filter((function(t){return t.source===e.id||t.target===e.id})).length>1){var t=r({},e);delete t.size,s.push(t)}}));var d=[];i.forEach((function(e){var t=s.find((function(t){return t.id===e.source})),n=s.find((function(t){return t.id===e.target}));t&&n&&d.push(e)}));var h=new f.DagreLayout({type:"dagre",ranksep:t.nodeMinGap,nodesep:t.nodeMinGap}).layout({nodes:s,edges:d}).nodes;n.forEach((function(e){var t=(h||[]).find((function(t){return t.id===e.id}));e.x=(null===t||void 0===t?void 0:t.x)||o/2,e.y=(null===t||void 0===t?void 0:t.y)||a/2}));var p=JSON.parse(JSON.stringify(n)),g=JSON.parse(JSON.stringify(i)),v=u.forceSimulation().nodes(p).force("link",u.forceLink(g).id((function(e){return e.id})).distance((function(e){return d.find((function(t){return t.source===e.source&&t.target===e.target}))?30:20}))).force("charge",u.forceManyBody()).force("center",u.forceCenter(o/2,a/2)).force("x",u.forceX(o/2)).force("y",u.forceY(a/2)).alpha(.3).alphaDecay(.08).alphaMin(.001);return new Promise((function(e){v.on("end",(function(){n.forEach((function(e){var t=p.find((function(t){return t.id===e.id}));t&&(e.x=t.x,e.y=t.y)}));var r=Math.min.apply(Math,n.map((function(e){return e.x}))),s=Math.max.apply(Math,n.map((function(e){return e.x}))),u=Math.min.apply(Math,n.map((function(e){return e.y}))),f=Math.max.apply(Math,n.map((function(e){return e.y}))),d=o/(s-r),h=a/(f-u);n.forEach((function(e){void 0!==e.x&&d<1&&(e.x=(e.x-r)*d),void 0!==e.y&&h<1&&(e.y=(e.y-u)*h)})),n.forEach((function(e){e.sizeTemp=e.size,e.size=[10,10]})),(0,c.default)(n,i),n.forEach((function(e){e.size=e.sizeTemp||[],delete e.sizeTemp})),(0,l.default)({nodes:n,edges:i},t),e()}))}))}},9523:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(8048));t.default=function(e,t){if(!e.nodes||0===e.nodes.length)return e;var n=t.width,r=t.height,o=t.nodeMinGap,a=1e4,s=1e4;e.nodes.forEach((function(e){var t=e.size[0]||50,n=e.size[1]||50;a=Math.min(t,a),s=Math.min(n,s)}));var u=new i.default;u.init(n,r,{CELL_H:s,CELL_W:a}),e.nodes.forEach((function(e){var t=u.occupyNearest(e);t&&(t.node={id:e.id,size:e.size},e.x=t.x,e.y=t.y,e.dx=t.dx,e.dy=t.dy)}));for(var l=0;l<e.nodes.length;l++){var c=e.nodes[l],f=u.findGridByNodeId(c.id);if(!f)throw new Error("can not find node cell");var d=f.column,h=f.row;if(c.size[0]+o>a){for(var p=v=Math.ceil((c.size[0]+o)/a)-1,g=0;g<v;g++){if(!(u.additionColumn.indexOf(d+g+1)>-1)||u.cells[d+g+1][h].node)break;p--}u.insertColumn(d,p)}if(c.size[1]+o>s){var v;for(p=v=Math.ceil((c.size[1]+o)/s)-1,g=0;g<v;g++){if(!(u.additionRow.indexOf(h+g+1)>-1)||u.cells[d][h+g+1].node)break;p--}u.insertRow(h,p)}}for(l=0;l<u.columnNum;l++){var m=function(t){var n=u.cells[l][t];if(n.node){var r=e.nodes.find((function(e){var t;return e.id===(null===(t=null===n||void 0===n?void 0:n.node)||void 0===t?void 0:t.id)}));r&&(r.x=n.x+r.size[0]/2,r.y=n.y+r.size[1]/2)}};for(g=0;g<u.rowNum;g++)m(g)}}},8048:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[]}return e.prototype.init=function(t,n,r){this.cells=[],this.CELL_W=r.CELL_W||e.DEFAULT_CELL_W,this.CELL_H=r.CELL_H||e.DEFAULT_CELL_H,this.columnNum=Math.ceil(t/this.CELL_W),this.rowNum=Math.ceil(n/this.CELL_H),e.MIN_DIST=Math.pow(t,2)+Math.pow(n,2);for(var i=0;i<this.columnNum;i++){for(var o=[],a=0;a<this.rowNum;a++){var s={dx:i,dy:a,x:i*this.CELL_W,y:a*this.CELL_H,occupied:!1};o.push(s)}this.cells.push(o)}},e.prototype.findGridByNodeId=function(e){for(var t,n,r=0;r<this.columnNum;r++)for(var i=0;i<this.rowNum;i++)if(this.cells[r][i].node&&(null===(n=null===(t=this.cells[r][i])||void 0===t?void 0:t.node)||void 0===n?void 0:n.id)===e)return{column:r,row:i};return null},e.prototype.sqdist=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},e.prototype.occupyNearest=function(t){for(var n,r=e.MIN_DIST,i=null,o=0;o<this.columnNum;o++)for(var a=0;a<this.rowNum;a++)!this.cells[o][a].occupied&&(n=this.sqdist(t,this.cells[o][a]))<r&&(r=n,i=this.cells[o][a]);return i&&(i.occupied=!0),i},e.prototype.insertColumn=function(e,t){if(!(t<=0)){for(var r=0;r<t;r++){this.cells[r+this.columnNum]=[];for(var i=0;i<this.rowNum;i++)this.cells[r+this.columnNum][i]={dx:r,dy:i,x:r*this.CELL_W,y:i*this.CELL_H,occupied:!1,node:null}}for(r=this.columnNum-1;r>e;r--)for(i=0;i<this.rowNum;i++)this.cells[r+t][i]=n(n({},this.cells[r][i]),{x:(r+t)*this.CELL_W,y:i*this.CELL_H}),this.cells[r][i]={x:r*this.CELL_W,y:i*this.CELL_H,occupied:!0,node:null};for(i=0;i<this.additionColumn.length;i++)this.additionColumn[i]>=e&&(this.additionColumn[i]+=t);for(r=0;r<t;r++)this.additionColumn.push(e+r+1);this.columnNum+=t}},e.prototype.insertRow=function(e,t){if(!(t<=0)){for(var r=0;r<t;r++)for(var i=0;i<this.columnNum;i++)this.cells[i][r+this.rowNum]={dx:i,dy:r,x:i*this.CELL_W,y:r*this.CELL_H,occupied:!1,node:null};for(i=0;i<this.columnNum;i++)for(r=this.rowNum-1;r>e;r--)this.cells[i][r+t]=n(n({},this.cells[i][r]),{dx:i,dy:r+t,x:i*this.CELL_W,y:(r+t)*this.CELL_H}),this.cells[i][r]={dx:i,dy:r,x:i*this.CELL_W,y:r*this.CELL_H,occupied:!1,node:null};for(r=0;r<this.additionRow.length;r++)this.additionRow[r]>=e&&(this.additionRow[r]+=t);for(i=0;i<t;i++)this.additionRow.push(e+i+1);this.rowNum+=t}},e.prototype.getNodes=function(){for(var e=[],t=0;t<this.columnNum;t++)for(var n=0;n<this.rowNum;n++)this.cells[t][n].node&&e.push(this.cells[t][n]);return e},e.MIN_DIST=50,e.DEFAULT_CELL_W=80,e.DEFAULT_CELL_H=80,e}();t.default=r},8698:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ERLayout=void 0;var o=n(4950),a=i(n(9150)),s=function(e){function t(t){var n=e.call(this)||this;return n.width=300,n.height=300,n.nodeMinGap=50,n.onLayoutEnd=function(){},t&&n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{width:300,height:300,nodeMinGap:50}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges;return null===t||void 0===t||t.forEach((function(e){e.size||(e.size=[50,50])})),(0,a.default)({nodes:t,edges:n},{width:this.width,height:this.height,nodeMinGap:this.nodeMinGap}).then((function(){e.onLayoutEnd&&e.onLayoutEnd()}))},t.prototype.getType=function(){return"er"},t}(o.Base);t.ERLayout=s},3529:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=1e7,r=1.5707963267948966,i=new Map,o=.8;function a(e,t){var o=(i.get(e.id)||[]).find((function(e){return e.source===t.id||e.target===t.id})),a=e.size[0]*e.size[1],s=t.size[0]*t.size[1],u=a>s?t:e,l=a>s?e:t,c=u.x-u.size[0]/2,f=u.y-u.size[1]/2,d=u.x+u.size[0]/2,h=u.y+u.size[1]/2,p=l.x-l.size[0]/2,g=l.y-l.size[1]/2,v=l.x+l.size[0]/2,m=l.y+l.size[1]/2,y=u.x,b=u.y,x=l.x,w=l.y,E=0,S=0;if(d>=p&&v>=c&&h>=g&&m>=f){0===(S=Math.sqrt(Math.pow(x-y,2)+Math.pow(w-b,2)))&&(S=1e-7),E=10/S*100+((d<v?d:v)-(c>p?c:p))*((h<m?h:m)-(f>g?f:g)),E*=n}else{var _=!1,T=function(e,t,n){var i=e.x-e.size[0]/2,o=e.y-e.size[1]/2,a=e.x+e.size[0]/2,s=e.y+e.size[1]/2,u=t.x-t.size[0]/2,l=t.y-t.size[1]/2,c=t.x+t.size[0]/2,f=t.y+t.size[1]/2,d=e.x,h=e.y,p=t.x,g=t.y,v=p-d,m=Math.atan2(v,g-h),y=0,b=0,x=0,w=0;m>r?(b=o-f,y=u-a,x=parseFloat(b?(b/Math.cos(m)).toFixed(2):y.toFixed(2)),w=parseFloat(y?(y/Math.sin(m)).toFixed(2):b.toFixed(2))):x=w=0<m&&m<=r?(b=l-s)>(y=u-a)?parseFloat(b?(b/Math.cos(m)).toFixed(2):y.toFixed(2)):parseFloat(y?(y/Math.sin(m)).toFixed(2):b.toFixed(2)):m<-r?(b=o-f)>(y=-(c-i))?parseFloat(b?(b/Math.cos(m)).toFixed(2):y.toFixed(2)):parseFloat(y?(y/Math.sin(m)).toFixed(2):b.toFixed(2)):(b=l-s)>(y=Math.abs(v)>(a-i)/2?i-c:v)?parseFloat(b?(b/Math.cos(m)).toFixed(2):y.toFixed(2)):parseFloat(y&&0!==m?(y/Math.sin(m)).toFixed(2):b.toFixed(2));var E=parseFloat(m.toFixed(2)),S=n;return n&&(S=1.1780972450961724<E&&E<1.9634954084936207),{distance:Math.abs(x<w?x:w),isHoriz:S}}(u,l,_);S=T.distance,_=T.isHoriz,S<=10?E+=0!==S?o?10+1e7/S:10+1e8/S:n:(E+=S,o&&(E+=S*S))}return E}function s(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];(r.x<0||r.y<0||r.x>1200||r.y>800)&&(t+=1e12);for(var i=n+1;i<e.length;i++)t+=a(r,e[i])}return t}function u(e,t,n,r){var i=new Map;n.forEach((function(e,t){i.set(e.id,e)}));var o=r.filter((function(t){return t.source===e.id||t.target===e.id}))||[],a=[];o.forEach((function(t){var n=t.source===e.id?t.target:t.source,r=i.get(n);r&&a.push(r)}));for(var s=!0,u=0;u<a.length;u++){var l=a[u],c=180*Math.atan((e.y-l.y)/(l.x-e.y)),f=180*Math.atan((t.y-l.y)/(l.x-t.y)),d=c>70&&c<110,h=f>70&&f<110;if((c<30||c>150)&&!(f<30||f>150)||c*f<0){s=!1;break}if(d&&!h||c*f<0){s=!1;break}if((l.x-e.x)*(l.x-t.x)<0){s=!1;break}if((l.y-e.y)*(l.y-t.y)<0){s=!1;break}}return s}function l(e,t){for(var n=!1,r=[10,-10,0,0],i=[0,0,10,-10],a=0;a<e.length;++a)for(var l=e[a],f=c(l,e),d=0;d<r.length;d++){if(u(l,{x:l.x+r[d],y:l.y+i[d]},e,t)){l.x+=r[d],l.y+=i[d];var h=c(l,e),p=Math.random();h<f||p<o&&p>.1?(f=h,n=!0):(l.x-=r[d],l.y-=i[d])}}return o>.1&&(o*=.5),n?s(e):0}function c(e,t){var n=0;(e.x<0||e.y<0||e.x+e.size[0]+20>1200||e.y+e.size[1]+20>800)&&(n+=1e12);for(var r=0;r<t.length;++r)e.id!==t[r].id&&(n+=a(e,t[r]));return n}t.default=function(e,t){if(0===e.length)return{nodes:e,edges:t};e.forEach((function(e){var n=t.filter((function(t){return t.source===e.id||t.target===e.id}));i.set(e,n)})),e.sort((function(e,t){var n,r;return(null===(n=i.get(e.id))||void 0===n?void 0:n.length)-(null===(r=i.get(t.id))||void 0===r?void 0:r.length)}));for(var n=s(e),r=20,o=1,a=0,u=0;r>0&&!(++u>=50);){var c=l(e,t);0!==c&&(a=c),o=a-n,n=a,0===o?--r:r=20}return e.forEach((function(e){e.x=e.x-e.size[0]/2,e.y=e.y-e.size[1]/2})),{nodes:e,edges:t}}},9662:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(8878)),s=n(1784);t.default=function(){function e(e){return function(){return e}}var t,n=function(e){return e.cluster},r=e(1),i=e(-1),o=e(100),u=e(.1),l=[0,0],c=[],f={},d=[],h=100,p=100,g={none:{x:0,y:0}},v=[],m="force",y=!0,b=.1;function x(e){if(!y)return x;t.tick(),E();for(var r=0,i=c.length,o=void 0,a=e*b;r<i;++r)(o=c[r]).vx+=(g[n(o)].x-o.x)*a,o.vy+=(g[n(o)].y-o.y)*a}function w(){c&&function(){if(!c||!c.length)return;if(void 0===n(c[0]))throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var e=function(){var e=[],t=[],i={},o={},a=[];return o=function(e){var t={};return e.forEach((function(e){var r=n(e);t[r]||(t[r]={count:0,sumforceNodeSize:0})})),e.forEach((function(e){var i=n(e),o=r(e),a=t[i];a.count=a.count+1,a.sumforceNodeSize=a.sumforceNodeSize+Math.PI*(o*o)*1.3,t[i]=a})),t}(c),a=function(e){var t={},r=[];return e.forEach((function(e){var r=function(e){var t=(0,s.getEdgeTerminal)(e,"source"),r=(0,s.getEdgeTerminal)(e,"target"),i=n(f[t]),o=n(f[r]);return i<=o?i+"~"+o:o+"~"+i}(e),i=0;void 0!==t[r]&&(i=t[r]),i+=1,t[r]=i})),Object.entries(t).forEach((function(e){var t=e[0],n=e[1],i=t.split("~")[0],o=t.split("~")[1];void 0!==i&&void 0!==o&&r.push({source:i,target:o,count:n})})),r}(d),Object.keys(o).forEach((function(t,n){var r=o[t];e.push({id:t,size:r.count,r:Math.sqrt(r.sumforceNodeSize/Math.PI)}),i[t]=n})),a.forEach((function(e){var n=(0,s.getEdgeTerminal)(e,"source"),r=(0,s.getEdgeTerminal)(e,"target"),o=i[n],a=i[r];void 0!==o&&void 0!==a&&t.push({source:o,target:a,count:e.count})})),{nodes:e,links:t}}();t=a.forceSimulation(e.nodes).force("x",a.forceX(h).strength(.1)).force("y",a.forceY(p).strength(.1)).force("collide",a.forceCollide((function(e){return e.r})).iterations(4)).force("charge",a.forceManyBody().strength(i)).force("links",a.forceLink(e.nodes.length?e.links:[]).distance(o).strength(u)),v=t.nodes(),E()}()}function E(){return g={none:{x:0,y:0}},v.forEach((function(e){g[e.id]={x:e.x-l[0],y:e.y-l[1]}})),g}function S(e){f={},e.forEach((function(e){f[e.id]=e}))}return x.initialize=function(e){c=e,w()},x.template=function(e){return arguments.length?(m=e,w(),x):m},x.groupBy=function(e){return arguments.length?"string"===typeof e?(n=function(t){return t[e]},x):(n=e,x):n},x.enableGrouping=function(e){return arguments.length?(y=e,x):y},x.strength=function(e){return arguments.length?(b=e,x):b},x.centerX=function(e){return arguments.length?(h=e,x):h},x.centerY=function(e){return arguments.length?(p=e,x):p},x.nodes=function(e){return arguments.length?(S(e||[]),c=e||[],x):c},x.links=function(e){return arguments.length?(d=e||[],w(),x):d},x.forceNodeSize=function(t){return arguments.length?(r="function"===typeof t?t:e(+t),w(),x):r},x.nodeSize=x.forceNodeSize,x.forceCharge=function(t){return arguments.length?(i="function"===typeof t?t:e(+t),w(),x):i},x.forceLinkDistance=function(t){return arguments.length?(o="function"===typeof t?t:e(+t),w(),x):o},x.forceLinkStrength=function(t){return arguments.length?(u="function"===typeof t?t:e(+t),w(),x):u},x.offset=function(e){return arguments.length?(l=e,x):l},x.getFocis=E,x}},9902:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ForceLayout=void 0;var u=a(n(8878)),l=s(n(9662)),c=n(1784),f=n(4950),d=n(3023),h=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.nodeStrength=null,n.edgeStrength=null,n.preventOverlap=!1,n.clusterNodeStrength=null,n.clusterEdgeStrength=null,n.clusterEdgeDistance=null,n.clusterNodeSize=null,n.clusterFociStrength=null,n.linkDistance=50,n.alphaDecay=.028,n.alphaMin=.001,n.alpha=.3,n.collideStrength=1,n.workerEnabled=!1,n.tick=function(){},n.onLayoutEnd=function(){},n.ticking=void 0,t&&n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}},t.prototype.init=function(e){var t=this;t.nodes=e.nodes||[];var n=e.edges||[];t.edges=n.map((function(e){var t={},n=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(e).forEach((function(r){n.indexOf(r)>-1||(t[r]=e[r])})),t})),t.ticking=!1},t.prototype.execute=function(e){var t=this,n=t.nodes,r=t.edges;if(!t.ticking){var i=t.forceSimulation,o=t.alphaMin,a=t.alphaDecay,s=t.alpha;if(i){if(e)if(t.clustering&&t.clusterForce&&(t.clusterForce.nodes(n),t.clusterForce.links(r)),i.nodes(n),r&&t.edgeForce)t.edgeForce.links(r);else if(r&&!t.edgeForce){h=u.forceLink().id((function(e){return e.id})).links(r);t.edgeStrength&&h.strength(t.edgeStrength),t.linkDistance&&h.distance(t.linkDistance),t.edgeForce=h,i.force("link",h)}t.preventOverlap&&t.overlapProcess(i),i.alpha(s).restart(),this.ticking=!0}else try{var c=u.forceManyBody();if(t.nodeStrength&&c.strength(t.nodeStrength),i=u.forceSimulation().nodes(n),t.clustering){var f=(0,l.default)();f.centerX(t.center[0]).centerY(t.center[1]).template("force").strength(t.clusterFociStrength),r&&f.links(r),n&&f.nodes(n),f.forceLinkDistance(t.clusterEdgeDistance).forceLinkStrength(t.clusterEdgeStrength).forceCharge(t.clusterNodeStrength).forceNodeSize(t.clusterNodeSize),t.clusterForce=f,i.force("group",f)}if(i.force("center",u.forceCenter(t.center[0],t.center[1])).force("charge",c).alpha(s).alphaDecay(a).alphaMin(o),t.preventOverlap&&t.overlapProcess(i),r){var h=u.forceLink().id((function(e){return e.id})).links(r);t.edgeStrength&&h.strength(t.edgeStrength),t.linkDistance&&h.distance(t.linkDistance),t.edgeForce=h,i.force("link",h)}if(t.workerEnabled&&!p()&&(t.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),t.workerEnabled){i.stop();for(var g=function(e){var t=e.alphaMin(),n=e.alphaTarget(),r=e.alpha(),i=Math.log((t-n)/(r-n))/Math.log(1-e.alphaDecay());return Math.ceil(i)}(i),v=1;v<=g;v++)i.tick(),postMessage({nodes:n,currentTick:v,totalTicks:g,type:d.LAYOUT_MESSAGE.TICK},void 0);t.ticking=!1}else i.on("tick",(function(){t.tick()})).on("end",(function(){t.ticking=!1,t.onLayoutEnd&&t.onLayoutEnd()})),t.ticking=!0;t.forceSimulation=i,t.ticking=!0}catch(m){t.ticking=!1,console.warn(m)}}},t.prototype.overlapProcess=function(e){var t,n,r=this,i=r.nodeSize,o=r.nodeSpacing,a=r.collideStrength;if(n=(0,c.isNumber)(o)?function(){return o}:(0,c.isFunction)(o)?o:function(){return 0},i)if((0,c.isFunction)(i))t=function(e){return i(e)+n(e)};else if((0,c.isArray)(i)){var s=(i[0]>i[1]?i[0]:i[1])/2;t=function(e){return s+n(e)}}else if((0,c.isNumber)(i)){var l=i/2;t=function(e){return l+n(e)}}else t=function(){return 10};else t=function(e){return e.size?(0,c.isArray)(e.size)?(e.size[0]>e.size[1]?e.size[0]:e.size[1])/2+n(e):(0,c.isObject)(e.size)?(e.size.width>e.size.height?e.size.width:e.size.height)/2+n(e):e.size/2+n(e):10+n(e)};e.force("collisionForce",u.forceCollide(t).strength(a))},t.prototype.updateCfg=function(e){var t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.forceSimulation=null,Object.assign(t,e)},t.prototype.destroy=function(){var e=this;e.ticking&&(e.forceSimulation.stop(),e.ticking=!1),e.nodes=null,e.edges=null,e.destroyed=!0},t}(f.Base);function p(){return"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}t.ForceLayout=h},2283:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(9902),t)},7941:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.id=e.id||0,this.rx=e.rx,this.ry=e.ry,this.fx=0,this.fy=0,this.mass=e.mass,this.degree=e.degree,this.g=e.g||0}return e.prototype.distanceTo=function(e){var t=this.rx-e.rx,n=this.ry-e.ry;return Math.hypot(t,n)},e.prototype.setPos=function(e,t){this.rx=e,this.ry=t},e.prototype.resetForce=function(){this.fx=0,this.fy=0},e.prototype.addForce=function(e){var t=e.rx-this.rx,n=e.ry-this.ry,r=Math.hypot(t,n);r=r<1e-4?1e-4:r;var i=this.g*(this.degree+1)*(e.degree+1)/r;this.fx+=i*t/r,this.fy+=i*n/r},e.prototype.in=function(e){return e.contains(this.rx,this.ry)},e.prototype.add=function(t){var n=this.mass+t.mass;return new e({rx:(this.rx*this.mass+t.rx*t.mass)/n,ry:(this.ry*this.mass+t.ry*t.mass)/n,mass:n,degree:this.degree+t.degree})},e}();t.default=n},3299:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ForceAtlas2Layout=void 0;var o=n(4950),a=n(1784),s=i(n(7941)),u=i(n(9171)),l=i(n(612)),c=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.width=300,n.height=300,n.nodes=[],n.edges=[],n.kr=5,n.kg=1,n.mode="normal",n.preventOverlap=!1,n.dissuadeHubs=!1,n.barnesHut=void 0,n.maxIteration=0,n.ks=.1,n.ksmax=10,n.tao=.1,n.onLayoutEnd=function(){},n.prune=void 0,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.onLayoutEnd,r=e.prune,i=e.maxIteration;e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight);for(var o=[],s=t.length,u=0;u<s;u+=1){var l=t[u],c=10,f=10;(0,a.isNumber)(l.size)&&(c=l.size,f=l.size),(0,a.isArray)(l.size)?(isNaN(l.size[0])||(c=l.size[0]),isNaN(l.size[1])||(f=l.size[1])):(0,a.isObject)(l.size)&&(c=l.size.width,f=l.size.height),e.getWidth&&!isNaN(e.getWidth(l))&&(f=e.getWidth(l)),e.getHeight&&!isNaN(e.getHeight(l))&&(c=e.getHeight(l));var d=Math.max(c,f);o.push(d)}void 0===e.barnesHut&&s>250&&(e.barnesHut=!0),void 0===e.prune&&s>100&&(e.prune=!0),0!==this.maxIteration||e.prune?0===this.maxIteration&&r&&(i=100,s<=200&&s>100?i=500:s>200&&(i=950),this.maxIteration=i):(i=250,s<=200&&s>100?i=1e3:s>200&&(i=1200),this.maxIteration=i),e.kr||(e.kr=50,s>100&&s<=500?e.kr=20:s>500&&(e.kr=1)),e.kg||(e.kg=20,s>100&&s<=500?e.kg=10:s>500&&(e.kg=1)),this.nodes=e.updateNodesByForces(o),n()},t.prototype.updateNodesByForces=function(e){for(var t=this,n=t.edges,r=t.maxIteration,i=t.nodes,o=n.filter((function(e){return(0,a.getEdgeTerminal)(e,"source")!==(0,a.getEdgeTerminal)(e,"target")})),s=i.length,u=o.length,l=[],c={},f={},d=[],h=0;h<s;h+=1)c[i[h].id]=h,l[h]=0,(void 0===i[h].x||isNaN(i[h].x))&&(i[h].x=1e3*Math.random()),(void 0===i[h].y||isNaN(i[h].y))&&(i[h].y=1e3*Math.random()),d.push({x:i[h].x,y:i[h].y});for(h=0;h<u;h+=1){for(var p=void 0,g=void 0,v=0,m=0,y=0;y<s;y+=1){var b=(0,a.getEdgeTerminal)(o[h],"source"),x=(0,a.getEdgeTerminal)(o[h],"target");i[y].id===b?(p=i[y],v=y):i[y].id===x&&(g=i[y],m=y),f[h]={sourceIdx:v,targetIdx:m}}p&&(l[c[p.id]]+=1),g&&(l[c[g.id]]+=1)}var w=r;if(i=this.iterate(w,c,f,u,l,e),t.prune){for(y=0;y<u;y+=1)l[f[y].sourceIdx]<=1?(i[f[y].sourceIdx].x=i[f[y].targetIdx].x,i[f[y].sourceIdx].y=i[f[y].targetIdx].y):l[f[y].targetIdx]<=1&&(i[f[y].targetIdx].x=i[f[y].sourceIdx].x,i[f[y].targetIdx].y=i[f[y].sourceIdx].y);t.prune=!1,t.barnesHut=!1,w=100,i=this.iterate(w,c,f,u,l,e)}return i},t.prototype.iterate=function(e,t,n,r,i,o){for(var a=this,u=a.nodes,l=a.kr,c=a.preventOverlap,f=a.barnesHut,d=u.length,h=0,p=e,g=[],v=[],m=[],y=0;y<d;y+=1)if(g[2*y]=0,g[2*y+1]=0,f){var b={id:y,rx:u[y].x,ry:u[y].y,mass:1,g:l,degree:i[y]};m[y]=new s.default(b)}for(;p>0;){for(y=0;y<d;y+=1)v[2*y]=g[2*y],v[2*y+1]=g[2*y+1],g[2*y]=0,g[2*y+1]=0;g=this.getAttrForces(p,50,r,t,n,i,o,g),g=f&&(c&&p>50||!c)?this.getOptRepGraForces(g,m,i):this.getRepGraForces(p,50,g,100,o,i);var x=this.updatePos(g,v,h,i);u=x.nodes,h=x.sg,p--,a.tick&&a.tick()}return u},t.prototype.getAttrForces=function(e,t,n,r,i,o,a,s){for(var u=this,l=u.nodes,c=u.preventOverlap,f=u.dissuadeHubs,d=u.mode,h=u.prune,p=0;p<n;p+=1){var g=l[i[p].sourceIdx],v=i[p].sourceIdx,m=l[i[p].targetIdx],y=i[p].targetIdx;if(!h||!(o[v]<=1||o[y]<=1)){var b=[m.x-g.x,m.y-g.y],x=Math.hypot(b[0],b[1]);x=x<1e-4?1e-4:x,b[0]=b[0]/x,b[1]=b[1]/x,c&&e<t&&(x=x-a[v]-a[y]);var w=x,E=w;"linlog"===d&&(E=w=Math.log(1+x)),f&&(w=x/o[v],E=x/o[y]),c&&e<t&&x<=0?(w=0,E=0):c&&e<t&&x>0&&(w=x,E=x),s[2*r[g.id]]+=w*b[0],s[2*r[m.id]]-=E*b[0],s[2*r[g.id]+1]+=w*b[1],s[2*r[m.id]+1]-=E*b[1]}}return s},t.prototype.getRepGraForces=function(e,t,n,r,i,o){for(var a=this,s=a.nodes,u=a.preventOverlap,l=a.kr,c=a.kg,f=a.center,d=a.prune,h=s.length,p=0;p<h;p+=1){for(var g=p+1;g<h;g+=1)if(!d||!(o[p]<=1||o[g]<=1)){var v=[s[g].x-s[p].x,s[g].y-s[p].y],m=Math.hypot(v[0],v[1]);m=m<1e-4?1e-4:m,v[0]=v[0]/m,v[1]=v[1]/m,u&&e<t&&(m=m-i[p]-i[g]);var y=l*(o[p]+1)*(o[g]+1)/m;u&&e<t&&m<0?y=r*(o[p]+1)*(o[g]+1):u&&e<t&&0===m?y=0:u&&e<t&&m>0&&(y=l*(o[p]+1)*(o[g]+1)/m),n[2*p]-=y*v[0],n[2*g]+=y*v[0],n[2*p+1]-=y*v[1],n[2*g+1]+=y*v[1]}var b=[s[p].x-f[0],s[p].y-f[1]],x=Math.hypot(b[0],b[1]);b[0]=b[0]/x,b[1]=b[1]/x;var w=c*(o[p]+1);n[2*p]-=w*b[0],n[2*p+1]-=w*b[1]}return n},t.prototype.getOptRepGraForces=function(e,t,n){for(var r=this,i=r.nodes,o=r.kg,a=r.center,s=r.prune,c=i.length,f=9e10,d=-9e10,h=9e10,p=-9e10,g=0;g<c;g+=1)s&&n[g]<=1||(t[g].setPos(i[g].x,i[g].y),i[g].x>=d&&(d=i[g].x),i[g].x<=f&&(f=i[g].x),i[g].y>=p&&(p=i[g].y),i[g].y<=h&&(h=i[g].y));var v={xmid:(d+f)/2,ymid:(p+h)/2,length:Math.max(d-f,p-h),massCenter:a,mass:c},m=new u.default(v),y=new l.default(m);for(g=0;g<c;g+=1)s&&n[g]<=1||t[g].in(m)&&y.insert(t[g]);for(g=0;g<c;g+=1)if(!(s&&n[g]<=1)){t[g].resetForce(),y.updateForce(t[g]),e[2*g]-=t[g].fx,e[2*g+1]-=t[g].fy;var b=[i[g].x-a[0],i[g].y-a[1]],x=Math.hypot(b[0],b[1]);x=x<1e-4?1e-4:x,b[0]=b[0]/x,b[1]=b[1]/x;var w=o*(n[g]+1);e[2*g]-=w*b[0],e[2*g+1]-=w*b[1]}return e},t.prototype.updatePos=function(e,t,n,r){for(var i=this,o=i.nodes,a=i.ks,s=i.tao,u=i.prune,l=i.ksmax,c=o.length,f=[],d=[],h=0,p=0,g=0;g<c;g+=1)if(!(u&&r[g]<=1)){var v=[e[2*g]-t[2*g],e[2*g+1]-t[2*g+1]],m=Math.hypot(v[0],v[1]),y=[e[2*g]+t[2*g],e[2*g+1]+t[2*g+1]],b=Math.hypot(y[0],y[1]);f[g]=m,d[g]=b/2,h+=(r[g]+1)*f[g],p+=(r[g]+1)*d[g]}var x=n;n=s*p/h,0!==x&&(n=n>1.5*x?1.5*x:n);for(g=0;g<c;g+=1)if(!(u&&r[g]<=1)){var w=a*n/(1+n*Math.sqrt(f[g])),E=Math.hypot(e[2*g],e[2*g+1]),S=l/(E=E<1e-4?1e-4:E),_=(w=w>S?S:w)*e[2*g],T=w*e[2*g+1];o[g].x+=_,o[g].y+=T}return{nodes:o,sg:n}},t}(o.Base);t.ForceAtlas2Layout=c},9171:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.xmid=e.xmid,this.ymid=e.ymid,this.length=e.length,this.massCenter=e.massCenter||[0,0],this.mass=e.mass||1}return e.prototype.getLength=function(){return this.length},e.prototype.contains=function(e,t){var n=this.length/2;return e<=this.xmid+n&&e>=this.xmid-n&&t<=this.ymid+n&&t>=this.ymid-n},e.prototype.NW=function(){return new e({xmid:this.xmid-this.length/4,ymid:this.ymid+this.length/4,length:this.length/2})},e.prototype.NE=function(){return new e({xmid:this.xmid+this.length/4,ymid:this.ymid+this.length/4,length:this.length/2})},e.prototype.SW=function(){return new e({xmid:this.xmid-this.length/4,ymid:this.ymid-this.length/4,length:this.length/2})},e.prototype.SE=function(){return new e({xmid:this.xmid+this.length/4,ymid:this.ymid-this.length/4,length:this.length/2})},e}();t.default=n},612:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,null!=e&&(this.quad=e)}return e.prototype.insert=function(t){null!=this.body?this._isExternal()?(this.quad&&(this.NW=new e(this.quad.NW()),this.NE=new e(this.quad.NE()),this.SW=new e(this.quad.SW()),this.SE=new e(this.quad.SE())),this._putBody(this.body),this._putBody(t),this.body=this.body.add(t)):(this.body=this.body.add(t),this._putBody(t)):this.body=t},e.prototype._putBody=function(e){this.quad&&(e.in(this.quad.NW())&&this.NW?this.NW.insert(e):e.in(this.quad.NE())&&this.NE?this.NE.insert(e):e.in(this.quad.SW())&&this.SW?this.SW.insert(e):e.in(this.quad.SE())&&this.SE&&this.SE.insert(e))},e.prototype._isExternal=function(){return null==this.NW&&null==this.NE&&null==this.SW&&null==this.SE},e.prototype.updateForce=function(e){null!=this.body&&e!==this.body&&(this._isExternal()||(this.quad?this.quad.getLength():0)/this.body.distanceTo(e)<this.theta?e.addForce(this.body):(this.NW&&this.NW.updateForce(e),this.NE&&this.NE.updateForce(e),this.SW&&this.SW.updateForce(e),this.SE&&this.SE.updateForce(e)))},e}();t.default=n},4328:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.FruchtermanLayout=void 0;var i=n(4950),o=n(1784),a=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=1e3,n.workerEnabled=!1,n.gravity=10,n.speed=5,n.clustering=!1,n.clusterGravity=10,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.onLayoutEnd=function(){},n.tick=function(){},n.animate=!0,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10,animate:!0}},t.prototype.execute=function(){var e,t,n=this,r=this,i=r.nodes;if(void 0!==r.timeInterval&&"undefined"!==typeof window&&window.clearInterval(r.timeInterval),i&&0!==i.length){r.width||"undefined"===typeof window||(r.width=window.innerWidth),r.height||"undefined"===typeof window||(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var a=r.center;if(1===i.length)return i[0].x=a[0],i[0].y=a[1],void(null===(t=r.onLayoutEnd)||void 0===t||t.call(r));var s={},u={};return i.forEach((function(e,t){(0,o.isNumber)(e.x)||(e.x=Math.random()*n.width),(0,o.isNumber)(e.y)||(e.y=Math.random()*n.height),s[e.id]=e,u[e.id]=t})),r.nodeMap=s,r.nodeIdxMap=u,r.run()}null===(e=r.onLayoutEnd)||void 0===e||e.call(r)},t.prototype.run=function(){var e,t=this,n=t.nodes;if(n){var r=t.edges,i=t.maxIteration,o=t.workerEnabled,a=t.clustering,s=t.animate,u={};if(a&&n.forEach((function(e){void 0===u[e.cluster]&&(u[e.cluster]={name:e.cluster,cx:0,cy:0,count:0})})),o||!s){for(var l=0;l<i;l++)t.runOneStep(u);null===(e=t.onLayoutEnd)||void 0===e||e.call(t)}else{if("undefined"===typeof window)return;var c=0;this.timeInterval=window.setInterval((function(){var e;t.runOneStep(u),++c>=i&&(null===(e=t.onLayoutEnd)||void 0===e||e.call(t),window.clearInterval(t.timeInterval))}),0)}return{nodes:n,edges:r}}},t.prototype.runOneStep=function(e){var t,n=this,r=n.nodes;if(r){var i=n.edges,a=n.center,s=n.gravity,u=n.speed,l=n.clustering,c=n.height*n.width,f=Math.sqrt(c)/10,d=c/(r.length+1),h=Math.sqrt(d),p=[];if(r.forEach((function(e,t){p[t]={x:0,y:0}})),n.applyCalculate(r,i,p,h,d),l){for(var g in e)e[g].cx=0,e[g].cy=0,e[g].count=0;for(var g in r.forEach((function(t){var n=e[t.cluster];(0,o.isNumber)(t.x)&&(n.cx+=t.x),(0,o.isNumber)(t.y)&&(n.cy+=t.y),n.count++})),e)e[g].cx/=e[g].count,e[g].cy/=e[g].count;var v=n.clusterGravity||s;r.forEach((function(t,n){if((0,o.isNumber)(t.x)&&(0,o.isNumber)(t.y)){var r=e[t.cluster],i=Math.sqrt((t.x-r.cx)*(t.x-r.cx)+(t.y-r.cy)*(t.y-r.cy)),a=h*v;p[n].x-=a*(t.x-r.cx)/i,p[n].y-=a*(t.y-r.cy)/i}}))}r.forEach((function(e,t){if((0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)){var n=.01*h*s;p[t].x-=n*(e.x-a[0]),p[t].y-=n*(e.y-a[1])}})),r.forEach((function(e,t){if((0,o.isNumber)(e.fx)&&(0,o.isNumber)(e.fy))return e.x=e.fx,void(e.y=e.fy);if((0,o.isNumber)(e.x)&&(0,o.isNumber)(e.y)){var n=Math.sqrt(p[t].x*p[t].x+p[t].y*p[t].y);if(n>0){var r=Math.min(f*(u/800),n);e.x+=p[t].x/n*r,e.y+=p[t].y/n*r}}})),null===(t=n.tick)||void 0===t||t.call(n)}},t.prototype.applyCalculate=function(e,t,n,r,i){this.calRepulsive(e,n,i),t&&this.calAttractive(t,n,r)},t.prototype.calRepulsive=function(e,t,n){e.forEach((function(r,i){t[i]={x:0,y:0},e.forEach((function(e,a){if(i!==a&&(0,o.isNumber)(r.x)&&(0,o.isNumber)(e.x)&&(0,o.isNumber)(r.y)&&(0,o.isNumber)(e.y)){var s=r.x-e.x,u=r.y-e.y,l=s*s+u*u;if(0===l){l=1;var c=i>a?1:-1;s=.01*c,u=.01*c}var f=n/l;t[i].x+=s*f,t[i].y+=u*f}}))}))},t.prototype.calAttractive=function(e,t,n){var r=this;e.forEach((function(e){var i=(0,o.getEdgeTerminal)(e,"source"),a=(0,o.getEdgeTerminal)(e,"target");if(i&&a){var s=r.nodeIdxMap[i],u=r.nodeIdxMap[a];if(s!==u){var l=r.nodeMap[i],c=r.nodeMap[a];if((0,o.isNumber)(c.x)&&(0,o.isNumber)(l.x)&&(0,o.isNumber)(c.y)&&(0,o.isNumber)(l.y)){var f=c.x-l.x,d=c.y-l.y,h=Math.sqrt(f*f+d*d),p=h*h/n;t[u].x-=f/h*p,t[u].y-=d/h*p,t[s].x+=f/h*p,t[s].y+=d/h*p}}}}))},t.prototype.stop=function(){this.timeInterval&&"undefined"!==typeof window&&window.clearInterval(this.timeInterval)},t.prototype.destroy=function(){var e=this;e.stop(),e.tick=null,e.nodes=null,e.edges=null,e.destroyed=!0},t.prototype.getType=function(){return"fruchterman"},t}(i.Base);t.FruchtermanLayout=a},4461:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.GForceLayout=void 0;var i=n(4950),o=n(1784),a=function(e,t){return e?(0,o.isNumber)(e)?function(t){return e}:e:function(e){return t||1}},s=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=500,n.workerEnabled=!1,n.edgeStrength=200,n.nodeStrength=1e3,n.coulombDisScale=.005,n.damping=.9,n.maxSpeed=1e3,n.minMovement=.5,n.interval=.02,n.factor=1,n.linkDistance=1,n.gravity=10,n.preventOverlap=!0,n.collideStrength=1,n.tick=function(){},n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.animate=!0,n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},t.prototype.execute=function(){var e,t,n=this,r=n.nodes;if(void 0!==n.timeInterval&&"undefined"!==typeof window&&window.clearInterval(n.timeInterval),r&&0!==r.length){n.width||"undefined"===typeof window||(n.width=window.innerWidth),n.height||"undefined"===typeof window||(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);var i=n.center;if(1===r.length)return r[0].x=i[0],r[0].y=i[1],void(null===(t=n.onLayoutEnd)||void 0===t||t.call(n));var s={},u={};r.forEach((function(e,t){(0,o.isNumber)(e.x)||(e.x=Math.random()*n.width),(0,o.isNumber)(e.y)||(e.y=Math.random()*n.height),s[e.id]=e,u[e.id]=t})),n.nodeMap=s,n.nodeIdxMap=u,n.linkDistance=a(n.linkDistance,1),n.nodeStrength=a(n.nodeStrength,1),n.edgeStrength=a(n.edgeStrength,1);var l,c=n.nodeSize;if(n.preventOverlap){var f,d=n.nodeSpacing;f=(0,o.isNumber)(d)?function(){return d}:(0,o.isFunction)(d)?d:function(){return 0},l=c?(0,o.isArray)(c)?function(e){return Math.max(c[0],c[1])+f(e)}:function(e){return c+f(e)}:function(e){return e.size?(0,o.isArray)(e.size)?Math.max(e.size[0],e.size[1])+f(e):(0,o.isObject)(e.size)?Math.max(e.size.width,e.size.height)+f(e):e.size+f(e):10+f(e)}}n.nodeSize=l;var h=n.edges;n.degrees=(0,o.getDegree)(r.length,n.nodeIdxMap,h),n.getMass||(n.getMass=function(e){return e.mass||n.degrees[n.nodeIdxMap[e.id]]||1}),n.run()}else null===(e=n.onLayoutEnd)||void 0===e||e.call(n)},t.prototype.run=function(){var e,t=this,n=t.maxIteration,r=t.nodes,i=t.workerEnabled,o=t.minMovement,a=t.animate;if(r)if(i||!a){for(var s=0;s<n;s++){var u=t.runOneStep(s);if(t.reachMoveThreshold(r,u,o))break}null===(e=t.onLayoutEnd)||void 0===e||e.call(t)}else{if("undefined"===typeof window)return;var l=0;this.timeInterval=window.setInterval((function(){var e,i;if(r){var a=t.runOneStep(l)||[];t.reachMoveThreshold(r,a,o)&&(null===(e=t.onLayoutEnd)||void 0===e||e.call(t),window.clearInterval(t.timeInterval)),++l>=n&&(null===(i=t.onLayoutEnd)||void 0===i||i.call(t),window.clearInterval(t.timeInterval))}}),0)}},t.prototype.reachMoveThreshold=function(e,t,n){var r=0;return e.forEach((function(e,n){var i=e.x-t[n].x,o=e.y-t[n].y;r+=Math.sqrt(i*i+o*o)})),(r/=e.length)<n},t.prototype.runOneStep=function(e){var t,n=this,r=n.nodes,i=n.edges,o=[],a=[];if(r){r.forEach((function(e,t){o[2*t]=0,o[2*t+1]=0,a[2*t]=0,a[2*t+1]=0})),n.calRepulsive(o,r),i&&n.calAttractive(o,i),n.calGravity(o,r);var s=Math.max(.02,n.interval-.002*e);n.updateVelocity(o,a,s,r);var u=[];return r.forEach((function(e){u.push({x:e.x,y:e.y})})),n.updatePosition(a,s,r),null===(t=n.tick)||void 0===t||t.call(n),u}},t.prototype.calRepulsive=function(e,t){var n=this,r=n.getMass,i=n.factor,o=n.coulombDisScale,a=n.preventOverlap,s=n.collideStrength,u=void 0===s?1:s,l=n.nodeStrength,c=n.nodeSize;t.forEach((function(n,s){var f=r?r(n):1;t.forEach((function(t,d){if(!(s>=d)){var h=n.x-t.x,p=n.y-t.y,g=h*h+p*p+.01,v=Math.sqrt(g),m=(v+.1)*o,y=h/v,b=p/v,x=.5*(l(n)+l(t))*i/(m*m),w=r?r(t):1;if(e[2*s]+=y*x,e[2*s+1]+=b*x,e[2*d]-=y*x,e[2*d+1]-=b*x,a&&(c(n)+c(t))/2>v){var E=u*(l(n)+l(t))*.5/g;e[2*s]+=y*E/f,e[2*s+1]+=b*E/f,e[2*d]-=y*E/w,e[2*d+1]-=b*E/w}}}))}))},t.prototype.calAttractive=function(e,t){var n=this,r=n.nodeMap,i=n.nodeIdxMap,a=n.linkDistance,s=n.edgeStrength,u=n.nodeSize,l=n.getMass;t.forEach((function(t,n){var c=(0,o.getEdgeTerminal)(t,"source"),f=(0,o.getEdgeTerminal)(t,"target"),d=r[c],h=r[f],p=h.x-d.x,g=h.y-d.y,v=Math.sqrt(p*p+g*g)+.01,m=p/v,y=g/v,b=((a(t,d,h)||1+(u(d)+u(d)||0)/2)-v)*s(t),x=i[c],w=i[f],E=l?l(d):1,S=l?l(h):1;e[2*x]-=m*b/E,e[2*x+1]-=y*b/E,e[2*w]+=m*b/S,e[2*w+1]+=y*b/S}))},t.prototype.calGravity=function(e,t){for(var n=this,r=n.center,i=n.gravity,a=n.degrees,s=t.length,u=0;u<s;u++){var l=t[u],c=l.x-r[0],f=l.y-r[1],d=i;if(n.getCenter){var h=n.getCenter(l,a[u]);h&&(0,o.isNumber)(h[0])&&(0,o.isNumber)(h[1])&&(0,o.isNumber)(h[2])&&(c=l.x-h[0],f=l.y-h[1],d=h[2])}d&&(e[2*u]-=d*c,e[2*u+1]-=d*f)}},t.prototype.updateVelocity=function(e,t,n,r){var i=this,o=n*i.damping;r.forEach((function(n,r){var a=e[2*r]*o||.01,s=e[2*r+1]*o||.01,u=Math.sqrt(a*a+s*s);if(u>i.maxSpeed){var l=i.maxSpeed/u;a*=l,s*=l}t[2*r]=a,t[2*r+1]=s}))},t.prototype.updatePosition=function(e,t,n){n.forEach((function(n,r){if((0,o.isNumber)(n.fx)&&(0,o.isNumber)(n.fy))return n.x=n.fx,void(n.y=n.fy);var i=e[2*r]*t,a=e[2*r+1]*t;n.x+=i,n.y+=a}))},t.prototype.stop=function(){this.timeInterval&&"undefined"!==typeof window&&window.clearInterval(this.timeInterval)},t.prototype.destroy=function(){var e=this;e.stop(),e.tick=null,e.nodes=null,e.edges=null,e.destroyed=!0},t.prototype.getType=function(){return"gForce"},t}(i.Base);t.GForceLayout=s},8584:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.FruchtermanGPULayout=void 0;var a=n(4950),s=n(1784),u=n(2288),l=n(7471),c=n(2100),f=n(3023),d=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=1e3,n.gravity=10,n.speed=1,n.clustering=!1,n.clusterField="cluster",n.clusterGravity=10,n.workerEnabled=!1,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}},t.prototype.execute=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,i,a=this;return o(this,(function(o){switch(o.label){case 0:return(t=(e=this).nodes)&&0!==t.length?(e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]),n=e.center,1===t.length?(t[0].x=n[0],t[0].y=n[1],e.onLayoutEnd&&e.onLayoutEnd(),[2]):(r={},i={},t.forEach((function(e,t){(0,s.isNumber)(e.x)||(e.x=Math.random()*a.width),(0,s.isNumber)(e.y)||(e.y=Math.random()*a.height),r[e.id]=e,i[e.id]=t})),e.nodeMap=r,e.nodeIdxMap=i,[4,e.run()])):(e.onLayoutEnd&&e.onLayoutEnd(),[2]);case 1:return o.sent(),[2]}}))}))},t.prototype.executeWithWorker=function(e,t){return i(this,void 0,void 0,(function(){var n,r,i,a,u,l=this;return o(this,(function(o){switch(o.label){case 0:return r=(n=this).nodes,i=n.center,r&&0!==r.length?1===r.length?(r[0].x=i[0],r[0].y=i[1],[2]):(a={},u={},r.forEach((function(e,t){(0,s.isNumber)(e.x)||(e.x=Math.random()*l.width),(0,s.isNumber)(e.y)||(e.y=Math.random()*l.height),a[e.id]=e,u[e.id]=t})),n.nodeMap=a,n.nodeIdxMap=u,[4,n.run(e,t)]):[2];case 1:return o.sent(),[2]}}))}))},t.prototype.run=function(e,t){return i(this,void 0,void 0,(function(){var n,r,a,d,h,p,g,v,m,y,b,x,w,E,S,_,T,k,C,M,A,N,P,I,D,O,R=this;return o(this,(function(L){switch(L.label){case 0:for(r=(n=this).nodes,a=n.edges,d=n.maxIteration,h=n.center,p=n.height*n.width,g=Math.sqrt(p)/10,v=p/(r.length+1),m=Math.sqrt(v),y=n.speed,b=n.clustering,x=(0,l.attributesToTextureData)([n.clusterField],r),w=x.array,E=x.count,r.forEach((function(e,t){var n=0,r=0;(0,s.isNumber)(e.fx)&&(0,s.isNumber)(e.fy)&&(n=e.fx||.001,r=e.fy||.001),w[4*t+1]=n,w[4*t+2]=r})),S=r.length,_=(0,l.buildTextureData)(r,a),T=_.maxEdgePerVetex,k=_.array,C=n.workerEnabled,M=C?u.World.create({canvas:e,engineOptions:{supportCompute:!0}}):u.World.create({engineOptions:{supportCompute:!0}}),A=n.onLayoutEnd,N=[],P=0;P<E;P++)N.push(0,0,0,0);return I=M.createKernel(c.fruchtermanBundle).setDispatch([S,1,1]).setBinding({u_Data:k,u_K:m,u_K2:v,u_Gravity:n.gravity,u_ClusterGravity:n.clusterGravity||n.gravity||1,u_Speed:y,u_MaxDisplace:g,u_Clustering:b?1:0,u_Center:h,u_AttributeArray:w,u_ClusterCenters:N,MAX_EDGE_PER_VERTEX:T,VERTEX_COUNT:S}),b&&(D=M.createKernel(c.clusterBundle).setDispatch([E,1,1]).setBinding({u_Data:k,u_NodeAttributes:w,u_ClusterCenters:N,VERTEX_COUNT:S,CLUSTER_COUNT:E})),O=function(){return i(R,void 0,void 0,(function(){var n,i;return o(this,(function(o){switch(o.label){case 0:n=0,o.label=1;case 1:return n<d?[4,I.execute()]:[3,6];case 2:return o.sent(),b?(D.setBinding({u_Data:I}),[4,D.execute()]):[3,4];case 3:o.sent(),I.setBinding({u_ClusterCenters:D}),o.label=4;case 4:I.setBinding({u_MaxDisplace:g*=.99}),o.label=5;case 5:return n++,[3,1];case 6:return[4,I.getOutput()];case 7:return i=o.sent(),e?t.postMessage({type:f.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:i}):r.forEach((function(e,t){var n=i[4*t],r=i[4*t+1];e.x=n,e.y=r})),A&&A(),[2]}}))}))},[4,O()];case 1:return L.sent(),[2]}}))}))},t.prototype.getType=function(){return"fruchterman-gpu"},t}(a.Base);t.FruchtermanGPULayout=d},2100:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clusterBundle=t.clusterCode=t.fruchtermanBundle=t.fruchtermanCode=void 0,t.fruchtermanCode="\nimport { globalInvocationID } from 'g-webgpu';\nconst MAX_EDGE_PER_VERTEX;\nconst VERTEX_COUNT;\n@numthreads(1, 1, 1)\nclass Fruchterman {\n  @in @out\n  u_Data: vec4[];\n  @in\n  u_K: float;\n  @in\n  u_K2: float;\n  \n  @in\n  u_Center: vec2;\n  @in\n  u_Gravity: float;\n  @in\n  u_ClusterGravity: float;\n  @in\n  u_Speed: float;\n  @in\n  u_MaxDisplace: float;\n  @in\n  u_Clustering: float;\n  @in\n  u_AttributeArray: vec4[];\n  @in\n  u_ClusterCenters: vec4[];\n  calcRepulsive(i: int, currentNode: vec4): vec2 {\n    let dx = 0, dy = 0;\n    for (let j = 0; j < VERTEX_COUNT; j++) {\n      if (i != j) {\n        const nextNode = this.u_Data[j];\n        const xDist = currentNode[0] - nextNode[0];\n        const yDist = currentNode[1] - nextNode[1];\n        const dist = (xDist * xDist + yDist * yDist) + 0.01;\n        let param = this.u_K2 / dist;\n        \n        if (dist > 0.0) {\n          dx += param * xDist;\n          dy += param * yDist;\n          if (xDist == 0 && yDist == 0) {\n            const sign = i < j ? 1 : -1;\n            dx += param * sign;\n            dy += param * sign;\n          }\n        }\n      }\n    }\n    return [dx, dy];\n  }\n  calcGravity(currentNode: vec4, nodeAttributes: vec4): vec2 { // \n    let dx = 0, dy = 0;\n    const vx = currentNode[0] - this.u_Center[0];\n    const vy = currentNode[1] - this.u_Center[1];\n    const gf = 0.01 * this.u_K * this.u_Gravity;\n    dx = gf * vx;\n    dy = gf * vy;\n    if (this.u_Clustering == 1) {\n      const clusterIdx = int(nodeAttributes[0]);\n      const center = this.u_ClusterCenters[clusterIdx];\n      const cvx = currentNode[0] - center[0];\n      const cvy = currentNode[1] - center[1];\n      const dist = sqrt(cvx * cvx + cvy * cvy) + 0.01;\n      const parma = this.u_K * this.u_ClusterGravity / dist;\n      dx += parma * cvx;\n      dy += parma * cvy;\n    }\n    return [dx, dy];\n  }\n  calcAttractive(i: int, currentNode: vec4): vec2 {\n    let dx = 0, dy = 0;\n    const arr_offset = int(floor(currentNode[2] + 0.5));\n    const length = int(floor(currentNode[3] + 0.5));\n    const node_buffer: vec4;\n    for (let p = 0; p < MAX_EDGE_PER_VERTEX; p++) {\n      if (p >= length) break;\n      const arr_idx = arr_offset + p;\n      // when arr_idx % 4 == 0 update currentNodedx_buffer\n      const buf_offset = arr_idx - arr_idx / 4 * 4;\n      if (p == 0 || buf_offset == 0) {\n        node_buffer = this.u_Data[int(arr_idx / 4)];\n      }\n      const float_j = buf_offset == 0 ? node_buffer[0] :\n                      buf_offset == 1 ? node_buffer[1] :\n                      buf_offset == 2 ? node_buffer[2] :\n                                        node_buffer[3];\n      const nextNode = this.u_Data[int(float_j)];\n      const xDist = currentNode[0] - nextNode[0];\n      const yDist = currentNode[1] - nextNode[1];\n      const dist = sqrt(xDist * xDist + yDist * yDist) + 0.01;\n      let attractiveF = dist / this.u_K;\n    \n      if (dist > 0.0) {\n        dx -= xDist * attractiveF;\n        dy -= yDist * attractiveF;\n        if (xDist == 0 && yDist == 0) {\n          const sign = i < int(float_j) ? 1 : -1;\n          dx -= sign * attractiveF;\n          dy -= sign * attractiveF;\n        }\n      }\n    }\n    return [dx, dy];\n  }\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const currentNode = this.u_Data[i];\n    let dx = 0, dy = 0;\n    if (i >= VERTEX_COUNT) {\n      this.u_Data[i] = currentNode;\n      return;\n    }\n\n    // [gravity, fx, fy, 0]\n    const nodeAttributes = this.u_AttributeArray[i];\n\n    if (nodeAttributes[1] != 0 && nodeAttributes[2] != 0) {\n      // the node is fixed\n      this.u_Data[i] = [\n        nodeAttributes[1],\n        nodeAttributes[2],\n        currentNode[2],\n        currentNode[3]\n      ];\n      return;\n    }\n\n    // repulsive\n    const repulsive = this.calcRepulsive(i, currentNode);\n    dx += repulsive[0];\n    dy += repulsive[1];\n    // attractive\n    const attractive = this.calcAttractive(i, currentNode);\n    dx += attractive[0];\n    dy += attractive[1];\n    // gravity\n    const gravity = this.calcGravity(currentNode, nodeAttributes);\n    dx -= gravity[0];\n    dy -= gravity[1];\n    // speed\n    dx *= this.u_Speed;\n    dy *= this.u_Speed;\n\n    // move\n    const distLength = sqrt(dx * dx + dy * dy);\n    if (distLength > 0.0) {\n      const limitedDist = min(this.u_MaxDisplace * this.u_Speed, distLength);\n      this.u_Data[i] = [\n        currentNode[0] + dx / distLength * limitedDist,\n        currentNode[1] + dy / distLength * limitedDist,\n        currentNode[2],\n        currentNode[3]\n      ];\n    }\n  }\n}\n",t.fruchtermanBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_K : f32;\\n  [[offset 4]] u_K2 : f32;\\n  [[offset 8]] u_Center : vec2<f32>;\\n  [[offset 16]] u_Gravity : f32;\\n  [[offset 20]] u_ClusterGravity : f32;\\n  [[offset 24]] u_Speed : f32;\\n  [[offset 28]] u_MaxDisplace : f32;\\n  [[offset 32]] u_Clustering : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AttributeArray : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar param : f32 = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx = dx + param * xDist;\\ndy = dy + param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < j);\\ndx = dx + param * std::sign;\\ndy = dy + param * std::sign;}}}}\\nreturn vec2<f32>(dx, dy);}\\nfn calcGravity(currentNode : vec4<f32>, nodeAttributes : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar vx : f32 = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nvar vy : f32 = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nvar gf : f32 = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {var clusterIdx : i32 = i32(nodeAttributes.x);\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nvar cvx : f32 = currentNode.x - center.x;\\nvar cvy : f32 = currentNode.y - center.y;\\nvar dist : f32 = std::sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nvar parma : f32 = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx = dx + parma * cvx;\\ndy = dy + parma * cvy;}\\nreturn vec2<f32>(dx, dy);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar arr_offset : i32 = i32(std::floor(currentNode.z + 0.5));\\nvar length : i32 = i32(std::floor(currentNode.w + 0.5));\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + i32(p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = select(node_buffer.x, select(node_buffer.y, select(node_buffer.z, node_buffer.w, buf_offset == 2), buf_offset == 1), buf_offset == 0);\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar attractiveF : f32 = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx = dx - xDist * attractiveF;\\ndy = dy - yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < i32(float_j));\\ndx = dx - std::sign * attractiveF;\\ndy = dy - std::sign * attractiveF;}}}\\nreturn vec2<f32>(dx, dy);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nif (i >= __DefineValuePlaceholder__VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes : vec4<f32> = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\ndx = dx + repulsive.x;\\ndy = dy + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode);\\ndx = dx + attractive.x;\\ndy = dy + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(currentNode, nodeAttributes);\\ndx = dx - gravity.x;\\ndy = dy - gravity.y;\\ndx = dx * gWebGPUUniformParams.u_Speed;\\ndy = dy * gWebGPUUniformParams.u_Speed;\\nvar distLength : f32 = std::sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {var limitedDist : f32 = std::min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_K;\\n  float u_K2;\\n  vec2 u_Center;\\n  float u_Gravity;\\n  float u_ClusterGravity;\\n  float u_Speed;\\n  float u_MaxDisplace;\\n  float u_Clustering;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AttributeArray[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvec2 calcRepulsive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {float dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nfloat vy = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nfloat gf = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= gWebGPUUniformParams.u_Speed;\\ndy *= gWebGPUUniformParams.u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',t.clusterCode="\nimport { globalInvocationID } from 'g-webgpu';\nconst VERTEX_COUNT;\nconst CLUSTER_COUNT;\n@numthreads(1, 1, 1)\nclass CalcCenter {\n  @in\n  u_Data: vec4[];\n  @in\n  u_NodeAttributes: vec4[]; // [[clusterIdx, 0, 0, 0], ...]\n  @in @out\n  u_ClusterCenters: vec4[]; // [[cx, cy, nodeCount, clusterIdx], ...]\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const center = this.u_ClusterCenters[i];\n    let sumx = 0;\n    let sumy = 0;\n    let count = 0;\n    for (let j = 0; j < VERTEX_COUNT; j++) {\n      const attributes = this.u_NodeAttributes[j];\n      const clusterIdx = int(attributes[0]);\n      const vertex = this.u_Data[j];\n      if (clusterIdx == i) {\n        sumx += vertex.x;\n        sumy += vertex.y;\n        count += 1;\n      }\n    }\n    this.u_ClusterCenters[i] = [\n      sumx / count,\n      sumy / count,\n      count,\n      i\n    ];\n  }\n}\n",t.clusterBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\n\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 0, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributes : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[i];\\nvar sumx : f32 = 0.0;\\nvar sumy : f32 = 0.0;\\nvar count : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var attributes : vec4<f32> = gWebGPUBuffer1.u_NodeAttributes[j];\\nvar clusterIdx : i32 = i32(attributes.x);\\nvar vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx = sumx + vertex.x;\\nsumy = sumy + vertex.y;\\ncount = count + 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4<f32>(sumx / count, sumy / count, count, i);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\n\\nlayout(std430, set = 0, binding = 0) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_NodeAttributes[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {int i = globalInvocationID.x;\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[i];\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = gWebGPUBuffer1.u_NodeAttributes[j];\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4(sumx / count, sumy / count, count, i);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}'},7042:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.GForceGPULayout=void 0;var a=n(4950),s=n(1784),u=n(2288),l=n(7471),c=n(930),f=n(5193),d=n(3023),h=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=1e3,n.edgeStrength=200,n.nodeStrength=1e3,n.coulombDisScale=.005,n.damping=.9,n.maxSpeed=1e3,n.minMovement=.5,n.interval=.02,n.factor=1,n.linkDistance=1,n.gravity=10,n.workerEnabled=!1,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}},t.prototype.execute=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,i;return o(this,(function(o){switch(o.label){case 0:return(t=(e=this).nodes)&&0!==t.length?(e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]),n=e.center,1===t.length?(t[0].x=n[0],t[0].y=n[1],e.onLayoutEnd&&e.onLayoutEnd(),[2]):(r={},i={},t.forEach((function(t,n){(0,s.isNumber)(t.x)||(t.x=Math.random()*e.width),(0,s.isNumber)(t.y)||(t.y=Math.random()*e.height),r[t.id]=t,i[t.id]=n})),e.nodeMap=r,e.nodeIdxMap=i,e.nodeStrength=(0,l.proccessToFunc)(e.nodeStrength,1),e.edgeStrength=(0,l.proccessToFunc)(e.edgeStrength,1),[4,e.run()])):(e.onLayoutEnd&&e.onLayoutEnd(),[2]);case 1:return o.sent(),[2]}}))}))},t.prototype.executeWithWorker=function(e,t){var n=this,r=n.nodes,i=n.center;if(r&&0!==r.length){if(1===r.length)return r[0].x=i[0],void(r[0].y=i[1]);var o={},a={};r.forEach((function(e,t){(0,s.isNumber)(e.x)||(e.x=Math.random()*n.width),(0,s.isNumber)(e.y)||(e.y=Math.random()*n.height),o[e.id]=e,a[e.id]=t})),n.nodeMap=o,n.nodeIdxMap=a,n.nodeStrength=(0,l.proccessToFunc)(n.nodeStrength,1),n.edgeStrength=(0,l.proccessToFunc)(n.edgeStrength,1),n.run(e,t)}},t.prototype.run=function(e,t){return i(this,void 0,void 0,(function(){var n,r,a,h,p,g,v,m,y,b,x,w,E,S,_,T,k,C,M,A,N,P,I,D,O,R,L,j=this;return o(this,(function(B){switch(B.label){case 0:for(r=(n=this).nodes,a=n.edges,h=n.maxIteration,n.width||"undefined"===typeof window||(n.width=window.innerWidth),n.height||"undefined"===typeof window||(n.height=window.innerHeight),p=r.length,n.linkDistance=(0,l.proccessToFunc)(n.linkDistance),n.edgeStrength=(0,l.proccessToFunc)(n.edgeStrength),g=(0,l.buildTextureDataWithTwoEdgeAttr)(r,a,n.linkDistance,n.edgeStrength),v=g.maxEdgePerVetex,m=g.array,n.degrees=(0,c.getDegree)(r.length,n.nodeIdxMap,a),y=[],b=[],x=[],w=[],E=[],S=[],_=[],n.getMass||(n.getMass=function(e){return n.degrees[n.nodeIdxMap[e.id]]||1}),T=n.gravity,k=n.center,r.forEach((function(e,t){y.push(n.getMass(e)),b.push(n.nodeStrength(e)),n.degrees[t]||(n.degrees[t]=0);var r=[k[0],k[1],T];if(n.getCenter){var i=n.getCenter(e,n.degrees[t]);i&&(0,s.isNumber)(i[0])&&(0,s.isNumber)(i[1])&&(0,s.isNumber)(i[2])&&(r=i)}x.push(r[0]),w.push(r[1]),E.push(r[2]),(0,s.isNumber)(e.fx)&&(0,s.isNumber)(e.fy)?(S.push(e.fx||.001),_.push(e.fy||.001)):(S.push(0),_.push(0))})),C=(0,l.arrayToTextureData)([y,n.degrees,b,S]),M=(0,l.arrayToTextureData)([x,w,E,_]),A=n.workerEnabled,N=A?u.World.create({canvas:e,engineOptions:{supportCompute:!0}}):u.World.create({engineOptions:{supportCompute:!0}}),P=n.onLayoutEnd,I=[],m.forEach((function(e){I.push(e)})),D=0;D<4;D++)I.push(0);return O=N.createKernel(f.gForceBundle).setDispatch([p,1,1]).setBinding({u_Data:m,u_damping:n.damping,u_maxSpeed:n.maxSpeed,u_minMovement:n.minMovement,u_coulombDisScale:n.coulombDisScale,u_factor:n.factor,u_NodeAttributeArray1:C,u_NodeAttributeArray2:M,MAX_EDGE_PER_VERTEX:v,VERTEX_COUNT:p,u_AveMovement:I,u_interval:n.interval}),R=N.createKernel(f.aveMovementBundle).setDispatch([1,1,1]).setBinding({u_Data:m,VERTEX_COUNT:p,u_AveMovement:[0,0,0,0]}),L=function(){return i(j,void 0,void 0,(function(){var i,a,s;return o(this,(function(o){switch(o.label){case 0:i=0,o.label=1;case 1:return i<h?[4,O.execute()]:[3,5];case 2:return o.sent(),R.setBinding({u_Data:O}),[4,R.execute()];case 3:o.sent(),a=Math.max(.02,n.interval-.002*i),O.setBinding({u_interval:a,u_AveMovement:R}),o.label=4;case 4:return i++,[3,1];case 5:return[4,O.getOutput()];case 6:return s=o.sent(),e?t.postMessage({type:d.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:s}):r.forEach((function(e,t){var n=s[4*t],r=s[4*t+1];e.x=n,e.y=r})),P&&P(),[2]}}))}))},[4,L()];case 1:return B.sent(),[2]}}))}))},t.prototype.getType=function(){return"gForce-gpu"},t}(a.Base);t.GForceGPULayout=h},5193:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aveMovementBundle=t.aveMovementCode=t.gForceBundle=t.gForceCode=void 0,t.gForceCode="\nimport { globalInvocationID } from 'g-webgpu';\n\nconst MAX_EDGE_PER_VERTEX;\nconst VERTEX_COUNT;\nconst SHIFT_20 = 1048576;\n\n@numthreads(1, 1, 1)\nclass GGForce {\n  @in @out\n  u_Data: vec4[];\n\n  @in\n  u_damping: float;\n  \n  @in\n  u_maxSpeed: float;\n\n  @in\n  u_minMovement: float;\n\n  @in\n  u_AveMovement: vec4[];\n\n  @in\n  u_coulombDisScale: float;\n\n  @in\n  u_factor: float;\n\n  @in\n  u_NodeAttributeArray1: vec4[];\n\n  @in\n  u_NodeAttributeArray2: vec4[];\n\n  @in\n  u_interval: float;\n\n  unpack_float(packedValue: float): ivec2 {\n    const packedIntValue = int(packedValue);\n    const v0 = packedIntValue / SHIFT_20;\n    return [v0, packedIntValue - v0 * SHIFT_20];\n  }\n\n  calcRepulsive(i: int, currentNode: vec4): vec2 {\n    let ax = 0, ay = 0;\n    for (let j: int = 0; j < VERTEX_COUNT; j++) {\n      if (i != j) {\n        const nextNode = this.u_Data[j];\n        const vx = currentNode[0] - nextNode[0];\n        const vy = currentNode[1] - nextNode[1];\n        const dist = sqrt(vx * vx + vy * vy) + 0.01;\n        const n_dist = (dist + 0.1) * this.u_coulombDisScale;\n        const direx = vx / dist;\n        const direy = vy / dist;\n        const attributesi = this.u_NodeAttributeArray1[i];\n        const attributesj = this.u_NodeAttributeArray1[j];\n        const massi = attributesi[0];\n        const nodeStrengthi = attributesi[2];\n        const nodeStrengthj = attributesj[2];\n        const nodeStrength = (nodeStrengthi + nodeStrengthj) / 2;\n        // const param = nodeStrength * this.u_factor / (n_dist * n_dist * massi);\n        const param = nodeStrength * this.u_factor / (n_dist * n_dist);\n        ax += direx * param;\n        ay += direy * param;\n      }\n    }\n    return [ax, ay];\n  }\n\n  calcGravity(i: int, currentNode: vec4, attributes2: vec4): vec2 {\n    // note: attributes2 = [centerX, centerY, gravity, 0]\n\n    const vx = currentNode[0] - attributes2[0];\n    const vy = currentNode[1] - attributes2[1];\n    \n    const ax = vx * attributes2[2];\n    const ay = vy * attributes2[2];\n    \n    return [ax, ay];\n  }\n\n  calcAttractive(i: int, currentNode: vec4, attributes1: vec4): vec2 {\n    // note: attributes1 = [mass, degree, nodeSterngth, 0]\n\n    const mass = attributes1[0];\n    let ax = 0, ay = 0;\n    // const arr_offset = int(floor(currentNode[2] + 0.5));\n    // const length = int(floor(currentNode[3] + 0.5));\n\n    const compressed = this.unpack_float(currentNode[2]);\n    const length = compressed[0];\n    const arr_offset = compressed[1];\n\n    const node_buffer: vec4;\n    for (let p: int = 0; p < MAX_EDGE_PER_VERTEX; p++) {\n      if (p >= length) break;\n      const arr_idx = arr_offset + 4 * p; // i \u8282\u70b9\u7684\u7b2c p \u6761\u8fb9\u5f00\u59cb\u7684\u5c0f\u683c\u5b50\u4f4d\u7f6e\n      const buf_offset = arr_idx - arr_idx / 4 * 4;\n      if (p == 0 || buf_offset == 0) {\n        node_buffer = this.u_Data[int(arr_idx / 4)]; // \u5927\u683c\u5b50\uff0c\u5927\u683c\u5b50\u4f4d\u7f6e=\u5c0f\u4e2a\u5b50\u4f4d\u7f6e / 4\uff0c\n      }\n\n      let float_j: float = node_buffer[0];\n\n      const nextNode = this.u_Data[int(float_j)];\n      const vx = nextNode[0] - currentNode[0];\n      const vy = nextNode[1] - currentNode[1];\n      const dist = sqrt(vx * vx + vy * vy) + 0.01;\n      const direx = vx / dist;\n      const direy = vy / dist;\n      const edgeLength = node_buffer[1];\n      const edgeStrength = node_buffer[2];\n      const diff: float = edgeLength - dist;//edgeLength\n      // const param = diff * this.u_stiffness / mass; //\n      const param = diff * edgeStrength / mass; // \n      ax -= direx * param;\n      ay -= direy * param;\n    }\n    return [ax, ay];\n  }\n\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const currentNode = this.u_Data[i];\n    const movement = u_AveMovement[0];\n    let ax = 0, ay = 0;\n\n    if (i >= VERTEX_COUNT || movement.x < u_minMovement) {\n      this.u_Data[i] = currentNode;\n      return;\n    }\n\n    // \u6bcf\u4e2a\u8282\u70b9\u5c5e\u6027\u5360\u4e24\u4e2a\u6570\u7ec4\u4e2d\u5404\u4e00\u683c\n    // [mass, degree, nodeStrength, fx]\n    const nodeAttributes1 = this.u_NodeAttributeArray1[i];\n    // [centerX, centerY, centerGravity, fy]\n    const nodeAttributes2 = this.u_NodeAttributeArray2[i];\n\n    // repulsive\n    const repulsive = this.calcRepulsive(i, currentNode);\n    ax += repulsive[0];\n    ay += repulsive[1];\n\n    // attractive\n    const attractive = this.calcAttractive(i, currentNode, nodeAttributes1);\n    ax += attractive[0];\n    ay += attractive[1];\n\n    // gravity\n    const gravity = this.calcGravity(i, currentNode, nodeAttributes2);\n    ax -= gravity[0];\n    ay -= gravity[1];\n\n    // speed\n    const param = this.u_interval * this.u_damping;\n    let vx = ax * param;\n    let vy = ay * param;\n    const vlength = sqrt(vx * vx + vy * vy) + 0.0001;\n    if (vlength > this.u_maxSpeed) {\n      const param2 = this.u_maxSpeed / vlength;\n      vx = param2 * vx;\n      vy = param2 * vy;\n    }\n\n    // move\n    if (nodeAttributes1[3] != 0 && nodeAttributes2[3] != 0) {\n      this.u_Data[i] = [\n        nodeAttributes1[3],\n        nodeAttributes2[3],\n        currentNode[2],\n        0\n      ];\n    } else {\n      const distx = vx * this.u_interval;\n      const disty = vy * this.u_interval;\n      const distLength = sqrt(distx * distx + disty * disty);\n      this.u_Data[i] = [\n        currentNode[0] + distx,\n        currentNode[1] + disty,\n        currentNode[2],\n        distLength\n      ];\n    }\n    \n    // the avarage move distance\n    // need to share memory\n    \n  }\n}\n",t.gForceBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_damping : f32;\\n  [[offset 4]] u_maxSpeed : f32;\\n  [[offset 8]] u_minMovement : f32;\\n  \\n  [[offset 12]] u_coulombDisScale : f32;\\n  [[offset 16]] u_factor : f32;\\n  \\n  \\n  [[offset 20]] u_interval : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray1 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\ntype GWebGPUBuffer3 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray2 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 4, set 0]] var<storage_buffer> gWebGPUBuffer3 : GWebGPUBuffer3;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn unpack_float(packedValue : f32) -> vec2<i32> {var packedIntValue : i32 = i32(packedValue);\\nvar v0 : i32 = packedIntValue / 1048576;\\nreturn vec2<i32>(v0, packedIntValue - (v0 * 1048576));}\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar vx : f32 = currentNode.x - nextNode.x;\\nvar vy : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar n_dist : f32 = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar attributesi : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar attributesj : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nvar massi : f32 = attributesi.x;\\nvar nodeStrengthi : f32 = attributesi.z;\\nvar nodeStrengthj : f32 = attributesj.z;\\nvar nodeStrength : f32 = (nodeStrengthi + nodeStrengthj) / 2.0;\\nvar param : f32 = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax = ax + direx * param;\\nay = ay + direy * param;}}\\nreturn vec2<f32>(ax, ay);}\\nfn calcGravity(i : i32, currentNode : vec4<f32>, attributes2 : vec4<f32>) -> vec2<f32> {var vx : f32 = currentNode.x - attributes2.x;\\nvar vy : f32 = currentNode.y - attributes2.y;\\nvar ax : f32 = vx * attributes2.z;\\nvar ay : f32 = vy * attributes2.z;\\nreturn vec2<f32>(ax, ay);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>, attributes1 : vec4<f32>) -> vec2<f32> {var mass : f32 = attributes1.x;\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nvar compressed : vec2<i32> = unpack_float(currentNode.z);\\nvar length : i32 = compressed.x;\\nvar arr_offset : i32 = compressed.y;\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + (4 * p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = node_buffer.x;\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar vx : f32 = nextNode.x - currentNode.x;\\nvar vy : f32 = nextNode.y - currentNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar edgeLength : f32 = node_buffer.y;\\nvar edgeStrength : f32 = node_buffer.z;\\nvar diff : f32 = edgeLength - dist;\\nvar param : f32 = (diff * edgeStrength) / mass;\\nax = ax - direx * param;\\nay = ay - direy * param;}\\nreturn vec2<f32>(ax, ay);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar movement : vec4<f32> = gWebGPUBuffer1.u_AveMovement[0];\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nif ((i >= __DefineValuePlaceholder__VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes1 : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar nodeAttributes2 : vec4<f32> = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\nax = ax + repulsive.x;\\nay = ay + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode, nodeAttributes1);\\nax = ax + attractive.x;\\nay = ay + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(i, currentNode, nodeAttributes2);\\nax = ax - gravity.x;\\nay = ay - gravity.y;\\nvar param : f32 = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nvar vx : f32 = ax * param;\\nvar vy : f32 = ay * param;\\nvar vlength : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {var param2 : f32 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nvar distx : f32 = vx * gWebGPUUniformParams.u_interval;\\nvar disty : f32 = vy * gWebGPUUniformParams.u_interval;\\nvar distLength : f32 = std::sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_damping;\\n  float u_maxSpeed;\\n  float u_minMovement;\\n  \\n  float u_coulombDisScale;\\n  float u_factor;\\n  \\n  \\n  float u_interval;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_NodeAttributeArray1[];\\n} gWebGPUBuffer2;\\n\\nlayout(std430, set = 0, binding = 4) buffer readonly  GWebGPUBuffer3 {\\n  vec4 u_NodeAttributeArray2[];\\n} gWebGPUBuffer3;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nivec2 unpack_float(float packedValue) {int packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {float ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 attributesj = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {float vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {float mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nvec4 movement = gWebGPUBuffer1.u_AveMovement[0];\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes1 = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 nodeAttributes2 = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {float param2 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * gWebGPUUniformParams.u_interval;\\nfloat disty = vy * gWebGPUUniformParams.u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {gl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',t.aveMovementCode="\nconst VERTEX_COUNT;\n@numthreads(1, 1, 1)\nclass CalcAveMovement {\n  @in\n  u_Data: vec4[];\n  @in\n  u_iter: float;\n  @in @out\n  u_AveMovement: vec4[];\n  @main\n  compute() {\n    let movement = 0;\n    for (let j: int = 0; j < VERTEX_COUNT; j++) {\n      const vertex = this.u_Data[j];\n      movement += vertex[3];\n    }\n    movement = movement / float(VERTEX_COUNT);\n    this.u_AveMovement[0] = [movement, 0, 0, 0];\n  }\n}\n",t.aveMovementBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_iter : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var movement : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nmovement = movement + vertex.w;}\\nmovement = movement / f32(__DefineValuePlaceholder__VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4<f32>(movement, 0.0, 0.0, 0.0);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_iter;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {float movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = gWebGPUBuffer0.u_Data[j];\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4(movement, 0.0, 0.0, 0.0);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}'},8609:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.GridLayout=void 0;var i=n(1784),o=function(e){function t(t){var n=e.call(this)||this;return n.begin=[0,0],n.preventOverlap=!0,n.preventOverlapPadding=10,n.condense=!1,n.sortBy="degree",n.nodes=[],n.edges=[],n.width=300,n.height=300,n.row=0,n.col=0,n.cellWidth=0,n.cellHeight=0,n.cellUsed={},n.id2manPos={},n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges,r=e.begin,o=t.length;if(0===o)return e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n};if(1===o)return t[0].x=r[0],t[0].y=r[1],e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n};var a=e.sortBy,s=e.width,u=e.height,l=e.condense,c=e.preventOverlapPadding,f=e.preventOverlap,d=e.nodeSpacing,h=e.nodeSize,p=[];t.forEach((function(e){p.push(e)}));var g={};if(p.forEach((function(e,t){g[e.id]=t})),("degree"===a||!(0,i.isString)(a)||void 0===p[0][a])&&(a="degree",(0,i.isNaN)(t[0].degree))){var v=(0,i.getDegree)(p.length,g,n);p.forEach((function(e,t){e.degree=v[t]}))}p.sort((function(e,t){return t[a]-e[a]})),s||"undefined"===typeof window||(s=window.innerWidth),u||"undefined"===typeof window||(u=window.innerHeight);var m=e.rows,y=null!=e.cols?e.cols:e.columns;if(e.cells=o,null!=m&&null!=y?(e.rows=m,e.cols=y):null!=m&&null==y?(e.rows=m,e.cols=Math.ceil(e.cells/e.rows)):null==m&&null!=y?(e.cols=y,e.rows=Math.ceil(e.cells/e.cols)):(e.splits=Math.sqrt(e.cells*e.height/e.width),e.rows=Math.round(e.splits),e.cols=Math.round(e.width/e.height*e.splits)),e.cols*e.rows>e.cells)((x=e.small())-1)*(b=e.large())>=e.cells?e.small(x-1):(b-1)*x>=e.cells&&e.large(b-1);else for(;e.cols*e.rows<e.cells;){var b,x=e.small();((b=e.large())+1)*x>=e.cells?e.large(b+1):e.small(x+1)}if(e.cellWidth=s/e.cols,e.cellHeight=u/e.rows,l&&(e.cellWidth=0,e.cellHeight=0),f||d){var w=(0,i.getFuncByUnknownType)(10,d),E=(0,i.getFuncByUnknownType)(30,h,!1);p.forEach((function(t){t.x&&t.y||(t.x=0,t.y=0);var n=E(t),r=n[0],i=void 0===r?30:r,o=n[1],a=void 0===o?30:o,s=void 0!==w?w(t):c,u=i+s,l=a+s;e.cellWidth=Math.max(e.cellWidth,u),e.cellHeight=Math.max(e.cellHeight,l)}))}e.cellUsed={},e.row=0,e.col=0,e.id2manPos={};for(var S=0;S<p.length;S++){var _=p[S],T=void 0;if(e.position&&(T=e.position(_)),T&&(void 0!==T.row||void 0!==T.col)){var k={row:T.row,col:T.col};if(void 0===k.col)for(k.col=0;e.used(k.row,k.col);)k.col++;else if(void 0===k.row)for(k.row=0;e.used(k.row,k.col);)k.row++;e.id2manPos[_.id]=k,e.use(k.row,k.col)}e.getPos(_)}return e.onLayoutEnd&&e.onLayoutEnd(),{edges:n,nodes:p}},t.prototype.small=function(e){var t,n=this,r=n.rows||5,i=n.cols||5;null==e?t=Math.min(r,i):Math.min(r,i)===n.rows?n.rows=e:n.cols=e;return t},t.prototype.large=function(e){var t,n=this,r=n.rows||5,i=n.cols||5;null==e?t=Math.max(r,i):Math.max(r,i)===n.rows?n.rows=e:n.cols=e;return t},t.prototype.used=function(e,t){return this.cellUsed["c-"+e+"-"+t]||!1},t.prototype.use=function(e,t){this.cellUsed["c-"+e+"-"+t]=!0},t.prototype.moveToNextCell=function(){var e=this,t=e.cols||5;e.col++,e.col>=t&&(e.col=0,e.row++)},t.prototype.getPos=function(e){var t,n,r=this,i=r.begin,o=r.cellWidth,a=r.cellHeight,s=r.id2manPos[e.id];if(s)t=s.col*o+o/2+i[0],n=s.row*a+a/2+i[1];else{for(;r.used(r.row,r.col);)r.moveToNextCell();t=r.col*o+o/2+i[0],n=r.row*a+a/2+i[1],r.use(r.row,r.col),r.moveToNextCell()}e.x=t,e.y=n},t.prototype.getType=function(){return"grid"},t}(n(4950).Base);t.GridLayout=o},6929:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.ERLayout=t.ForceAtlas2Layout=t.ComboCombinedLayout=t.ComboForceLayout=t.GForceGPULayout=t.FruchtermanGPULayout=t.FruchtermanLayout=t.MDSLayout=t.ConcentricLayout=t.RadialLayout=t.DagreCompoundLayout=t.DagreLayout=t.CircularLayout=t.ForceLayout=t.GForceLayout=t.RandomLayout=t.GridLayout=t.Layouts=t.Layout=void 0;var o=n(8609);Object.defineProperty(t,"GridLayout",{enumerable:!0,get:function(){return o.GridLayout}});var a=n(1831);Object.defineProperty(t,"RandomLayout",{enumerable:!0,get:function(){return a.RandomLayout}});var s=n(4461);Object.defineProperty(t,"GForceLayout",{enumerable:!0,get:function(){return s.GForceLayout}});var u=n(2283);Object.defineProperty(t,"ForceLayout",{enumerable:!0,get:function(){return u.ForceLayout}});var l=n(2893);Object.defineProperty(t,"CircularLayout",{enumerable:!0,get:function(){return l.CircularLayout}});var c=n(1893);Object.defineProperty(t,"DagreLayout",{enumerable:!0,get:function(){return c.DagreLayout}});var f=n(7530);Object.defineProperty(t,"DagreCompoundLayout",{enumerable:!0,get:function(){return f.DagreCompoundLayout}});var d=n(5374);Object.defineProperty(t,"RadialLayout",{enumerable:!0,get:function(){return d.RadialLayout}});var h=n(1457);Object.defineProperty(t,"ConcentricLayout",{enumerable:!0,get:function(){return h.ConcentricLayout}});var p=n(6647);Object.defineProperty(t,"MDSLayout",{enumerable:!0,get:function(){return p.MDSLayout}});var g=n(4328);Object.defineProperty(t,"FruchtermanLayout",{enumerable:!0,get:function(){return g.FruchtermanLayout}});var v=n(8584);Object.defineProperty(t,"FruchtermanGPULayout",{enumerable:!0,get:function(){return v.FruchtermanGPULayout}});var m=n(7042);Object.defineProperty(t,"GForceGPULayout",{enumerable:!0,get:function(){return m.GForceGPULayout}});var y=n(7315);Object.defineProperty(t,"ComboForceLayout",{enumerable:!0,get:function(){return y.ComboForceLayout}});var b=n(3467);Object.defineProperty(t,"ComboCombinedLayout",{enumerable:!0,get:function(){return b.ComboCombinedLayout}});var x=n(3299);Object.defineProperty(t,"ForceAtlas2Layout",{enumerable:!0,get:function(){return x.ForceAtlas2Layout}});var w=n(8698);Object.defineProperty(t,"ERLayout",{enumerable:!0,get:function(){return w.ERLayout}});var E=n(4060);Object.defineProperty(t,"Layout",{enumerable:!0,get:function(){return E.Layout}}),Object.defineProperty(t,"Layouts",{enumerable:!0,get:function(){return E.Layouts}}),i(n(2514),t)},4060:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Layouts=t.Layout=void 0;var r=n(8252),i=n(8609),o=n(1831),a=n(4461),s=n(2283),u=n(2893),l=n(1893),c=n(5374),f=n(1457),d=n(6647),h=n(4328),p=n(8584),g=n(7042),v=n(7315),m=n(3467),y=n(3299),b=n(8698),x=n(7530),w=function(){function e(e){var t=(0,r.getLayoutByName)(e.type);this.layoutInstance=new t(e)}return e.prototype.layout=function(e){return this.layoutInstance.layout(e)},e.prototype.updateCfg=function(e){this.layoutInstance.updateCfg(e)},e.prototype.init=function(e){this.layoutInstance.init(e)},e.prototype.execute=function(){this.layoutInstance.execute()},e.prototype.getDefaultCfg=function(){return this.layoutInstance.getDefaultCfg()},e.prototype.destroy=function(){return this.layoutInstance.destroy()},e}();t.Layout=w,t.Layouts={force:s.ForceLayout,fruchterman:h.FruchtermanLayout,forceAtlas2:y.ForceAtlas2Layout,gForce:a.GForceLayout,dagre:l.DagreLayout,dagreCompound:x.DagreCompoundLayout,circular:u.CircularLayout,radial:c.RadialLayout,concentric:f.ConcentricLayout,grid:i.GridLayout,mds:d.MDSLayout,comboForce:v.ComboForceLayout,comboCombined:m.ComboCombinedLayout,random:o.RandomLayout,"gForce-gpu":g.GForceGPULayout,"fruchterman-gpu":p.FruchtermanGPULayout,er:b.ERLayout}},6647:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.MDSLayout=void 0;var i=n(1132),o=n(1784),a=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.linkDistance=50,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges,r=void 0===n?[]:n,i=e.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=i[0],t[0].y=i[1],void(e.onLayoutEnd&&e.onLayoutEnd());var a=e.linkDistance,s=(0,o.getAdjMatrix)({nodes:t,edges:r},!1),u=(0,o.floydWarshall)(s);e.handleInfinity(u);var l=(0,o.scaleMatrix)(u,a);e.scaledDistances=l;var c=e.runMDS();return e.positions=c,c.forEach((function(e,n){t[n].x=e[0]+i[0],t[n].y=e[1]+i[1]})),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:r}}e.onLayoutEnd&&e.onLayoutEnd()},t.prototype.runMDS=function(){var e=this.scaledDistances,t=i.Matrix.mul(i.Matrix.pow(e,2),-.5),n=t.mean("row"),r=t.mean("column"),o=t.mean();t.add(o).subRowVector(n).subColumnVector(r);var a=new i.SingularValueDecomposition(t),s=i.Matrix.sqrt(a.diagonalMatrix).diagonal();return a.leftSingularVectors.toJSON().map((function(e){return i.Matrix.mul([e],[s]).toJSON()[0].splice(0,2)}))},t.prototype.handleInfinity=function(e){var t=-999999;e.forEach((function(e){e.forEach((function(e){e!==1/0&&t<e&&(t=e)}))})),e.forEach((function(n,r){n.forEach((function(n,i){n===1/0&&(e[r][i]=t)}))}))},t.prototype.getType=function(){return"mds"},t}(n(4950).Base);t.MDSLayout=a},5374:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(9164),t)},6058:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1132),i=function(){function e(e){this.distances=e.distances,this.dimension=e.dimension||2,this.linkDistance=e.linkDistance}return e.prototype.layout=function(){var e=this,t=e.dimension,n=e.distances,i=e.linkDistance;try{var o=r.Matrix.mul(r.Matrix.pow(n,2),-.5),a=o.mean("row"),s=o.mean("column"),u=o.mean();o.add(u).subRowVector(a).subColumnVector(s);var l=new r.SingularValueDecomposition(o),c=r.Matrix.sqrt(l.diagonalMatrix).diagonal();return l.leftSingularVectors.toJSON().map((function(e){return r.Matrix.mul([e],[c]).toJSON()[0].splice(0,t)}))}catch(g){for(var f=[],d=0;d<n.length;d++){var h=Math.random()*i,p=Math.random()*i;f.push([h,p])}return f}},e}();t.default=i},9164:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RadialLayout=void 0;var o=n(1784),a=n(4950),s=i(n(6058)),u=i(n(7113));function l(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var c=function(e){function t(t){var n=e.call(this)||this;return n.maxIteration=1e3,n.focusNode=null,n.unitRadius=null,n.linkDistance=50,n.preventOverlap=!1,n.strictRadial=!0,n.maxPreventOverlapIteration=200,n.sortStrength=10,n.nodes=[],n.edges=[],n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.edges||[];if(t&&0!==t.length){e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]);var r=e.center;if(1===t.length)return t[0].x=r[0],t[0].y=r[1],void(e.onLayoutEnd&&e.onLayoutEnd());var i=e.linkDistance,a=null;if((0,o.isString)(e.focusNode)){for(var l=!1,c=0;c<t.length;c++)t[c].id===e.focusNode&&(a=t[c],e.focusNode=a,l=!0,c=t.length);l||(a=null)}else a=e.focusNode;a||(a=t[0],e.focusNode=a);var f=function(e,t){var n=-1;return e.forEach((function(e,r){e.id===t&&(n=r)})),n}(t,a.id);f<0&&(f=0),e.focusIndex=f;var d=(0,o.getAdjMatrix)({nodes:t,edges:n},!1),h=(0,o.floydWarshall)(d),p=e.maxToFocus(h,f);e.handleInfinity(h,f,p+1),e.distances=h;var g=h[f],v=e.width||500,m=e.height||500,y=v-r[0]>r[0]?r[0]:v-r[0],b=m-r[1]>r[1]?r[1]:m-r[1];0===y&&(y=v/2),0===b&&(b=m/2);var x=b>y?y:b,w=Math.max.apply(Math,g),E=[];g.forEach((function(t,n){e.unitRadius||(e.unitRadius=x/w),E[n]=t*e.unitRadius})),e.radii=E;var S=e.eIdealDisMatrix();e.eIdealDistances=S;var _=function(e){for(var t=e.length,n=e[0].length,r=[],i=0;i<t;i++){for(var o=[],a=0;a<n;a++)0!==e[i][a]?o.push(1/(e[i][a]*e[i][a])):o.push(0);r.push(o)}return r}(S);e.weights=_;var T=new s.default({linkDistance:i,distances:S}).layout();T.forEach((function(e){(0,o.isNaN)(e[0])&&(e[0]=Math.random()*i),(0,o.isNaN)(e[1])&&(e[1]=Math.random()*i)})),e.positions=T,T.forEach((function(e,n){t[n].x=e[0]+r[0],t[n].y=e[1]+r[1]})),T.forEach((function(e){e[0]-=T[f][0],e[1]-=T[f][1]})),e.run();var k,C=e.preventOverlap,M=e.nodeSize,A=e.strictRadial;if(C){var N,P=e.nodeSpacing;N=(0,o.isNumber)(P)?function(){return P}:(0,o.isFunction)(P)?P:function(){return 0},k=M?(0,o.isArray)(M)?function(e){return(M[0]>M[1]?M[0]:M[1])+N(e)}:function(e){return M+N(e)}:function(e){return e.size?(0,o.isArray)(e.size)?(e.size[0]>e.size[1]?e.size[0]:e.size[1])+N(e):(0,o.isObject)(e.size)?(e.size.width>e.size.height?e.size.width:e.size.height)+N(e):e.size+N(e):10+N(e)};var I={nodes:t,nodeSizeFunc:k,adjMatrix:d,positions:T,radii:E,height:m,width:v,strictRadial:A,focusID:f,iterations:e.maxPreventOverlapIteration||200,k:T.length/4.5},D=new u.default(I);T=D.layout()}return T.forEach((function(e,n){t[n].x=e[0]+r[0],t[n].y=e[1]+r[1]})),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:n}}e.onLayoutEnd&&e.onLayoutEnd()},t.prototype.run=function(){for(var e=this,t=e.maxIteration,n=e.positions||[],r=e.weights||[],i=e.eIdealDistances||[],o=e.radii||[],a=0;a<=t;a++){var s=a/t;e.oneIteration(s,n,o,i,r)}},t.prototype.oneIteration=function(e,t,n,r,i){var o=1-e,a=this.focusIndex;t.forEach((function(s,u){var c=l(s,[0,0]),f=0===c?0:1/c;if(u!==a){var d=0,h=0,p=0;t.forEach((function(e,t){if(u!==t){var n=l(s,e),o=0===n?0:1/n,a=r[t][u];p+=i[u][t],d+=i[u][t]*(e[0]+a*(s[0]-e[0])*o),h+=i[u][t]*(e[1]+a*(s[1]-e[1])*o)}}));var g=0===n[u]?0:1/n[u];p*=o,p+=e*g*g,d*=o,d+=e*g*s[0]*f,s[0]=d/p,h*=o,h+=e*g*s[1]*f,s[1]=h/p}}))},t.prototype.eIdealDisMatrix=function(){var e=this,t=e.nodes;if(!t)return[];var n=e.distances,r=e.linkDistance,i=e.radii||[],a=e.unitRadius||50,s=[];return n&&n.forEach((function(n,u){var l=[];n.forEach((function(n,s){if(u===s)l.push(0);else if(i[u]===i[s])if("data"===e.sortBy)l.push(n*(Math.abs(u-s)*e.sortStrength)/(i[u]/a));else if(e.sortBy){var c=t[u][e.sortBy]||0,f=t[s][e.sortBy]||0;(0,o.isString)(c)&&(c=c.charCodeAt(0)),(0,o.isString)(f)&&(f=f.charCodeAt(0)),l.push(n*(Math.abs(c-f)*e.sortStrength)/(i[u]/a))}else l.push(n*r/(i[u]/a));else{var d=(r+a)/2;l.push(n*d)}})),s.push(l)})),s},t.prototype.handleInfinity=function(e,t,n){for(var r=e.length,i=0;i<r;i++)if(e[t][i]===1/0){e[t][i]=n,e[i][t]=n;for(var o=0;o<r;o++)e[i][o]!==1/0&&e[t][o]===1/0&&(e[t][o]=n+e[i][o],e[o][t]=n+e[i][o])}for(i=0;i<r;i++)if(i!==t)for(o=0;o<r;o++)if(e[i][o]===1/0){var a=Math.abs(e[t][i]-e[t][o]);a=0===a?1:a,e[i][o]=a}},t.prototype.maxToFocus=function(e,t){for(var n=0,r=0;r<e[t].length;r++)e[t][r]!==1/0&&(n=e[t][r]>n?e[t][r]:n);return n},t.prototype.getType=function(){return"radial"},t}(a.Base);t.RadialLayout=c},7113:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.disp=[],this.positions=e.positions,this.adjMatrix=e.adjMatrix,this.focusID=e.focusID,this.radii=e.radii,this.iterations=e.iterations||10,this.height=e.height||10,this.width=e.width||10,this.speed=e.speed||100,this.gravity=e.gravity||10,this.nodeSizeFunc=e.nodeSizeFunc,this.k=e.k||5,this.strictRadial=e.strictRadial,this.nodes=e.nodes}return e.prototype.layout=function(){var e=this,t=e.positions,n=[],r=e.iterations,i=e.width/10;e.maxDisplace=i,e.disp=n;for(var o=0;o<r;o++)t.forEach((function(e,t){n[t]={x:0,y:0}})),e.getRepulsion(),e.updatePositions();return t},e.prototype.getRepulsion=function(){var e=this,t=e.positions,n=e.nodes,r=e.disp,i=e.k,o=e.radii||[];t.forEach((function(a,s){r[s]={x:0,y:0},t.forEach((function(t,u){if(s!==u&&o[s]===o[u]){var l=a[0]-t[0],c=a[1]-t[1],f=Math.sqrt(l*l+c*c);if(0===f){f=1;var d=s>u?1:-1;l=.01*d,c=.01*d}if(f<e.nodeSizeFunc(n[s])/2+e.nodeSizeFunc(n[u])/2){var h=i*i/f;r[s].x+=l/f*h,r[s].y+=c/f*h}}}))}))},e.prototype.updatePositions=function(){var e=this,t=e.positions,n=e.disp,r=e.speed,i=e.strictRadial,o=e.focusID,a=e.maxDisplace||e.width/10;i&&n.forEach((function(e,n){var r=t[n][0]-t[o][0],i=t[n][1]-t[o][1],a=Math.sqrt(r*r+i*i),s=i/a,u=-r/a,l=Math.sqrt(e.x*e.x+e.y*e.y),c=Math.acos((s*e.x+u*e.y)/l);c>Math.PI/2&&(c-=Math.PI/2,s*=-1,u*=-1);var f=Math.cos(c)*l;e.x=s*f,e.y=u*f}));var s=e.radii;t.forEach((function(e,u){if(u!==o){var l=Math.sqrt(n[u].x*n[u].x+n[u].y*n[u].y);if(l>0&&u!==o){var c=Math.min(a*(r/800),l);if(e[0]+=n[u].x/l*c,e[1]+=n[u].y/l*c,i){var f=e[0]-t[o][0],d=e[1]-t[o][1],h=Math.sqrt(f*f+d*d);f=f/h*s[u],d=d/h*s[u],e[0]=t[o][0]+f,e[1]=t[o][1]+d}}}}))},e}();t.default=n},1831:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.RandomLayout=void 0;var i=function(e){function t(t){var n=e.call(this)||this;return n.center=[0,0],n.width=300,n.height=300,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.updateCfg(t),n}return r(t,e),t.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},t.prototype.execute=function(){var e=this,t=e.nodes,n=e.center;return e.width||"undefined"===typeof window||(e.width=window.innerWidth),e.height||"undefined"===typeof window||(e.height=window.innerHeight),t&&t.forEach((function(t){t.x=.9*(Math.random()-.5)*e.width+n[0],t.y=.9*(Math.random()-.5)*e.height+n[1]})),e.onLayoutEnd&&e.onLayoutEnd(),{nodes:t,edges:this.edges}},t.prototype.getType=function(){return"random"},t}(n(4950).Base);t.RandomLayout=i},2514:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8252:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.getLayoutByName=t.unRegisterLayout=t.registerLayout=void 0;var i=n(4950),o=n(1784),a=new Map;t.registerLayout=function(e,t){if(a.get(e)&&console.warn("The layout with the name "+e+" exists already, it will be overridden"),(0,o.isObject)(t)){var n=function(e){function n(n){var r=e.call(this)||this,i=r,o={},a=i.getDefaultCfg();return Object.assign(o,a,t,n),Object.keys(o).forEach((function(e){var t=o[e];i[e]=t})),r}return r(n,e),n}(i.Base);a.set(e,n)}else a.set(e,t);return a.get(e)};t.unRegisterLayout=function(e){a.has(e)&&a.delete(e)};t.getLayoutByName=function(e){return a.has(e)?a.get(e):null}},4229:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isArray=void 0,t.isArray=Array.isArray},3479:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFuncByUnknownType=t.getFunc=t.isFunction=void 0;var r=n(1784),i=n(6162);t.isFunction=function(e){return"function"===typeof e};t.getFunc=function(e,t,n){return n||((0,i.isNumber)(e)?function(){return e}:function(){return t})};t.getFuncByUnknownType=function(e,n,o){return void 0===o&&(o=!0),n||0===n?(0,t.isFunction)(n)?n:(0,i.isNumber)(n)?function(){return n}:(0,r.isArray)(n)?function(){if(o){var t=Math.max.apply(Math,n);return isNaN(t)?e:t}return n}:(0,r.isObject)(n)?function(){if(o){var t=Math.max(n.width,n.height);return isNaN(t)?e:t}return[n.width,n.height]}:function(){return e}:function(t){return t.size?(0,r.isArray)(t.size)?t.size[0]>t.size[1]?t.size[0]:t.size[1]:(0,r.isObject)(t.size)?t.size.width>t.size.height?t.size.width:t.size.height:t.size:e}}},7471:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayToTextureData=t.attributesToTextureData=t.buildTextureDataWithTwoEdgeAttr=t.buildTextureData=t.proccessToFunc=void 0;var r=n(1784),i=n(930);t.proccessToFunc=function(e,t){return e?(0,r.isNumber)(e)?function(){return e}:e:function(){return t||1}};t.buildTextureData=function(e,t){var n=[],r=[],o={},a=0;for(a=0;a<e.length;a++){var s=e[a];o[s.id]=a,n.push(s.x),n.push(s.y),n.push(0),n.push(0),r.push([])}for(a=0;a<t.length;a++){var u=t[a],l=(0,i.getEdgeTerminal)(u,"source"),c=(0,i.getEdgeTerminal)(u,"target");r[o[l]].push(o[c]),r[o[c]].push(o[l])}var f=0;for(a=0;a<e.length;a++){var d=n.length,h=r[a],p=h.length;n[4*a+2]=d,n[4*a+3]=h.length,f=Math.max(f,h.length);for(var g=0;g<p;++g){var v=h[g];n.push(+v)}}for(;n.length%4!==0;)n.push(0);return{maxEdgePerVetex:f,array:new Float32Array(n)}};t.buildTextureDataWithTwoEdgeAttr=function(e,t,n,r){var o=[],a=[],s={},u=0;for(u=0;u<e.length;u++){var l=e[u];s[l.id]=u,o.push(l.x),o.push(l.y),o.push(0),o.push(0),a.push([])}for(u=0;u<t.length;u++){var c=t[u],f=(0,i.getEdgeTerminal)(c,"source"),d=(0,i.getEdgeTerminal)(c,"target");a[s[f]].push(s[d]),a[s[f]].push(n(c)),a[s[f]].push(r(c)),a[s[f]].push(0),a[s[d]].push(s[f]),a[s[d]].push(n(c)),a[s[d]].push(r(c)),a[s[d]].push(0)}var h=0;for(u=0;u<e.length;u++){var p=o.length,g=a[u],v=g.length;o[4*u+2]=p+1048576*v/4,o[4*u+3]=0,h=Math.max(h,v/4);for(var m=0;m<v;++m){var y=g[m];o.push(+y)}}for(;o.length%4!==0;)o.push(0);return{maxEdgePerVetex:h,array:new Float32Array(o)}};t.attributesToTextureData=function(e,t){var n=[],r=e.length,i={};return t.forEach((function(t){e.forEach((function(e,o){if(void 0===i[t[e]]&&(i[t[e]]=Object.keys(i).length),n.push(i[t[e]]),o===r-1)for(;n.length%4!==0;)n.push(0)}))})),{array:new Float32Array(n),count:Object.keys(i).length}};t.arrayToTextureData=function(e){for(var t=[],n=e.length,r=e[0].length,i=function(r){e.forEach((function(e,i){if(t.push(e[r]),i===n-1)for(;t.length%4!==0;)t.push(0)}))},o=0;o<r;o++)i(o);return new Float32Array(t)}},1784:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(4426),t),i(n(4229),t),i(n(6162),t),i(n(930),t),i(n(3040),t),i(n(3479),t)},930:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findMinMaxNodeXY=t.traverseTreeUp=t.scaleMatrix=t.getAdjMatrix=t.floydWarshall=t.getDegree=t.getEdgeTerminal=void 0;var r=n(3040);t.getEdgeTerminal=function(e,t){var n=e[t];return(0,r.isObject)(n)?n.cell:n};t.getDegree=function(e,n,r){for(var i=[],o=0;o<e;o++)i[o]=0;return r?(r.forEach((function(e){var r=(0,t.getEdgeTerminal)(e,"source"),o=(0,t.getEdgeTerminal)(e,"target");r&&(i[n[r]]+=1),o&&(i[n[o]]+=1)})),i):i};t.floydWarshall=function(e){for(var t=[],n=e.length,r=0;r<n;r+=1){t[r]=[];for(var i=0;i<n;i+=1)r===i?t[r][i]=0:0!==e[r][i]&&e[r][i]?t[r][i]=e[r][i]:t[r][i]=1/0}for(var o=0;o<n;o+=1)for(r=0;r<n;r+=1)for(i=0;i<n;i+=1)t[r][i]>t[r][o]+t[o][i]&&(t[r][i]=t[r][o]+t[o][i]);return t};t.getAdjMatrix=function(e,n){var r=e.nodes,i=e.edges,o=[],a={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach((function(e,t){a[e.id]=t;o.push([])})),i&&i.forEach((function(e){var r=(0,t.getEdgeTerminal)(e,"source"),i=(0,t.getEdgeTerminal)(e,"target"),s=a[r],u=a[i];o[s][u]=1,n||(o[u][s]=1)})),o};t.scaleMatrix=function(e,t){var n=[];return e.forEach((function(e){var r=[];e.forEach((function(e){r.push(e*t)})),n.push(r)})),n};var i=function e(t,n){if(t&&t.children)for(var r=t.children.length-1;r>=0;r--)if(!e(t.children[r],n))return;return!!n(t)};t.traverseTreeUp=function(e,t){"function"===typeof t&&i(e,t)};t.findMinMaxNodeXY=function(e){var t=1/0,n=1/0,r=-1/0,i=-1/0;return e.forEach((function(e){t>e.x&&(t=e.x),n>e.y&&(n=e.y),r<e.x&&(r=e.x),i<e.y&&(i=e.y)})),{minX:t,minY:n,maxX:r,maxY:i}}},6162:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toNumber=t.isNaN=t.isNumber=void 0;t.isNumber=function(e){return"number"===typeof e};t.isNaN=function(e){return Number.isNaN(Number(e))};t.toNumber=function(e){var n=parseFloat(e);return(0,t.isNaN)(n)?e:n}},3040:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.clone=t.isObject=void 0;t.isObject=function(e){return null!==e&&"object"===typeof e};t.clone=function(e){if(null===e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof Array){var r=[];return e.forEach((function(e){r.push(e)})),r.map((function(e){return(0,t.clone)(e)}))}if("object"===typeof e&&e!=={}){var i=n({},e);return Object.keys(i).forEach((function(e){i[e]=(0,t.clone)(i[e])})),i}return e}},4426:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelize=t.isString=void 0;t.isString=function(e){return"string"===typeof e};var n=/-(\w)/g;t.camelize=function(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}((function(e){return e.replace(n,(function(e,t){return t?t.toUpperCase():""}))}))},8092:function(e,t,n){"use strict";n.r(t),n.d(t,{Cache:function(){return St},assign:function(){return We},augment:function(){return Ze},clamp:function(){return ee},clearAnimationFrame:function(){return Ve},clone:function(){return He},contains:function(){return i},debounce:function(){return Xe},deepMix:function(){return Je},difference:function(){return a},each:function(){return h},endsWith:function(){return G},every:function(){return V},extend:function(){return $e},filter:function(){return o},find:function(){return y},findIndex:function(){return b},firstValue:function(){return x},fixedBase:function(){return te},flatten:function(){return w},flattenDeep:function(){return E},forIn:function(){return ye},get:function(){return st},getEllipsisText:function(){return Et},getRange:function(){return T},getType:function(){return Ne},getWrapBehavior:function(){return K},group:function(){return X},groupBy:function(){return Z},groupToMap:function(){return H},has:function(){return be},hasKey:function(){return xe},hasValue:function(){return Ee},head:function(){return F},identity:function(){return mt},includes:function(){return i},indexOf:function(){return Qe},isArguments:function(){return Pe},isArray:function(){return f},isArrayLike:function(){return r},isBoolean:function(){return Ie},isDate:function(){return De},isDecimal:function(){return re},isElement:function(){return Ye},isEmpty:function(){return tt},isEqual:function(){return nt},isEqualWith:function(){return rt},isError:function(){return Oe},isEven:function(){return ie},isFinite:function(){return Re},isFunction:function(){return l},isInteger:function(){return oe},isMatch:function(){return g},isNegative:function(){return ae},isNil:function(){return c},isNull:function(){return Le},isNumber:function(){return ne},isNumberEqual:function(){return se},isObject:function(){return d},isObjectLike:function(){return v},isOdd:function(){return ue},isPlainObject:function(){return m},isPositive:function(){return le},isPrototype:function(){return Be},isRegExp:function(){return Fe},isString:function(){return O},isType:function(){return u},isUndefined:function(){return ze},keys:function(){return p},last:function(){return z},lowerCase:function(){return _e},lowerFirst:function(){return Te},map:function(){return it},mapValues:function(){return at},max:function(){return S},maxBy:function(){return ce},measureTextWidth:function(){return wt},memoize:function(){return Ke},min:function(){return _},minBy:function(){return fe},mix:function(){return We},mod:function(){return de},noop:function(){return vt},number2color:function(){return $},omit:function(){return ft},parseRadius:function(){return Q},pick:function(){return ct},pull:function(){return A},pullAt:function(){return P},reduce:function(){return I},remove:function(){return D},requestAnimationFrame:function(){return Ge},set:function(){return ut},size:function(){return yt},some:function(){return U},sortBy:function(){return R},startsWith:function(){return Y},substitute:function(){return ke},throttle:function(){return dt},toArray:function(){return ht},toDegree:function(){return pe},toInteger:function(){return ge},toRadian:function(){return me},toString:function(){return Se},union:function(){return j},uniq:function(){return L},uniqueId:function(){return gt},upperCase:function(){return Ce},upperFirst:function(){return Me},values:function(){return we},valuesOfKey:function(){return B},wrapBehavior:function(){return q}});var r=function(e){return null!==e&&"function"!==typeof e&&isFinite(e.length)},i=function(e,t){return!!r(e)&&e.indexOf(t)>-1},o=function(e,t){if(!r(e))return e;for(var n=[],i=0;i<e.length;i++){var o=e[i];t(o,i)&&n.push(o)}return n},a=function(e,t){return void 0===t&&(t=[]),o(e,(function(e){return!i(t,e)}))},s={}.toString,u=function(e,t){return s.call(e)==="[object "+t+"]"},l=function(e){return u(e,"Function")},c=function(e){return null===e||void 0===e},f=function(e){return Array.isArray?Array.isArray(e):u(e,"Array")},d=function(e){var t=typeof e;return null!==e&&"object"===t||"function"===t};var h=function(e,t){if(e)if(f(e))for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);else if(d(e))for(var i in e)if(e.hasOwnProperty(i)&&!1===t(e[i],i))break},p=Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];return h(e,(function(n,r){l(e)&&"prototype"===r||t.push(r)})),t};var g=function(e,t){var n=p(t),r=n.length;if(c(e))return!r;for(var i=0;i<r;i+=1){var o=n[i];if(t[o]!==e[o]||!(o in e))return!1}return!0},v=function(e){return"object"===typeof e&&null!==e},m=function(e){if(!v(e)||!u(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};var y=function(e,t){if(!f(e))return null;var n;if(l(t)&&(n=t),m(t)&&(n=function(e){return g(e,t)}),n)for(var r=0;r<e.length;r+=1)if(n(e[r]))return e[r];return null};var b=function(e,t,n){void 0===n&&(n=0);for(var r=n;r<e.length;r++)if(t(e[r],r))return r;return-1},x=function(e,t){for(var n=null,r=0;r<e.length;r++){var i=e[r][t];if(!c(i)){n=f(i)?i[0]:i;break}}return n},w=function(e){if(!f(e))return[];for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);return t},E=function e(t,n){if(void 0===n&&(n=[]),f(t))for(var r=0;r<t.length;r+=1)e(t[r],n);else n.push(t);return n},S=function(e){if(f(e))return e.reduce((function(e,t){return Math.max(e,t)}),e[0])},_=function(e){if(f(e))return e.reduce((function(e,t){return Math.min(e,t)}),e[0])},T=function(e){var t=e.filter((function(e){return!isNaN(e)}));if(!t.length)return{min:0,max:0};if(f(e[0])){for(var n=[],r=0;r<e.length;r++)n=n.concat(e[r]);t=n}var i=S(t);return{min:_(t),max:i}},k=Array.prototype,C=k.splice,M=k.indexOf,A=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var i=t[r],o=-1;(o=M.call(e,i))>-1;)C.call(e,o,1);return e},N=Array.prototype.splice,P=function(e,t){if(!r(e))return[];for(var n=e?t.length:0,i=n-1;n--;){var o=void 0,a=t[n];n!==i&&a===o||(o=a,N.call(e,a,1))}return e},I=function(e,t,n){if(!f(e)&&!m(e))return e;var r=n;return h(e,(function(e,n){r=t(r,e,n)})),r},D=function(e,t){var n=[];if(!r(e))return n;for(var i=-1,o=[],a=e.length;++i<a;){var s=e[i];t(s,i,e)&&(n.push(s),o.push(i))}return P(e,o),n},O=function(e){return u(e,"String")};var R=function(e,t){var n;if(l(t))n=function(e,n){return t(e)-t(n)};else{var r=[];O(t)?r.push(t):f(t)&&(r=t),n=function(e,t){for(var n=0;n<r.length;n+=1){var i=r[n];if(e[i]>t[i])return 1;if(e[i]<t[i])return-1}return 0}}return e.sort(n),e};function L(e,t){void 0===t&&(t=new Map);var n=[];if(Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var o=e[r];t.has(o)||(n.push(o),t.set(o,!0))}return n}var j=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return L([].concat.apply([],e))},B=function(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i][t];if(!c(o)){f(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];r[s]||(n.push(s),r[s]=!0)}}}return n};function F(e){if(r(e))return e[0]}function z(e){if(r(e)){return e[e.length-1]}}var Y=function(e,t){return!(!f(e)&&!O(e))&&e[0]===t};var G=function(e,t){return!(!f(e)&&!O(e))&&e[e.length-1]===t},V=function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0},U=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n))return!0;return!1},W=Object.prototype.hasOwnProperty;var Z=function(e,t){if(!t||!f(e))return{};for(var n,r={},i=l(t)?t:function(e){return e[t]},o=0;o<e.length;o++){var a=e[o];n=i(a),W.call(r,n)?r[n].push(a):r[n]=[a]}return r};function H(e,t){if(!t)return{0:e};if(!l(t)){var n=f(t)?t:t.replace(/\s+/g,"").split("*");t=function(e){for(var t="_",r=0,i=n.length;r<i;r++)t+=e[n[r]]&&e[n[r]].toString();return t}}return Z(e,t)}var X=function(e,t){if(!t)return[e];var n=H(e,t),r=[];for(var i in n)r.push(n[i]);return r};var K=function(e,t){return e["_wrap_"+t]};var q=function(e,t){if(e["_wrap_"+t])return e["_wrap_"+t];var n=function(n){e[t](n)};return e["_wrap_"+t]=n,n},J={};var $=function(e){var t=J[e];if(!t){for(var n=e.toString(16),r=n.length;r<6;r++)n="0"+n;t="#"+n,J[e]=t}return t};var Q=function(e){var t=0,n=0,r=0,i=0;return f(e)?1===e.length?t=n=r=i=e[0]:2===e.length?(t=r=e[0],n=i=e[1]):3===e.length?(t=e[0],n=i=e[1],r=e[2]):(t=e[0],n=e[1],r=e[2],i=e[3]):t=n=r=i=e,{r1:t,r2:n,r3:r,r4:i}},ee=function(e,t,n){return e<t?t:e>n?n:e},te=function(e,t){var n=t.toString(),r=n.indexOf(".");if(-1===r)return Math.round(e);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(e.toFixed(i))},ne=function(e){return u(e,"Number")},re=function(e){return ne(e)&&e%1!==0},ie=function(e){return ne(e)&&e%2===0},oe=Number.isInteger?Number.isInteger:function(e){return ne(e)&&e%1===0},ae=function(e){return ne(e)&&e<0};function se(e,t,n){return void 0===n&&(n=1e-5),Math.abs(e-t)<n}var ue=function(e){return ne(e)&&e%2!==0},le=function(e){return ne(e)&&e>0},ce=function(e,t){if(f(e)){for(var n,r=-1/0,i=0;i<e.length;i++){var o=e[i],a=l(t)?t(o):o[t];a>r&&(n=o,r=a)}return n}},fe=function(e,t){if(f(e)){for(var n,r=1/0,i=0;i<e.length;i++){var o=e[i],a=l(t)?t(o):o[t];a<r&&(n=o,r=a)}return n}},de=function(e,t){return(e%t+t)%t},he=180/Math.PI,pe=function(e){return he*e},ge=parseInt,ve=Math.PI/180,me=function(e){return ve*e},ye=h,be=function(e,t){return e.hasOwnProperty(t)},xe=be,we=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return h(e,(function(n,r){l(e)&&"prototype"===r||t.push(n)})),t},Ee=function(e,t){return i(we(e),t)},Se=function(e){return c(e)?"":e.toString()},_e=function(e){return Se(e).toLowerCase()},Te=function(e){var t=Se(e);return t.charAt(0).toLowerCase()+t.substring(1)};var ke=function(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,(function(e,n){return"\\"===e.charAt(0)?e.slice(1):void 0===t[n]?"":t[n]})):e},Ce=function(e){return Se(e).toUpperCase()},Me=function(e){var t=Se(e);return t.charAt(0).toUpperCase()+t.substring(1)},Ae={}.toString,Ne=function(e){return Ae.call(e).replace(/^\[object /,"").replace(/]$/,"")},Pe=function(e){return u(e,"Arguments")},Ie=function(e){return u(e,"Boolean")},De=function(e){return u(e,"Date")},Oe=function(e){return u(e,"Error")};function Re(e){return ne(e)&&isFinite(e)}var Le=function(e){return null===e},je=Object.prototype,Be=function(e){var t=e&&e.constructor;return e===("function"===typeof t&&t.prototype||je)},Fe=function(e){return u(e,"RegExp")},ze=function(e){return void 0===e},Ye=function(e){return e instanceof Element||e instanceof HTMLDocument};function Ge(e){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,16)})(e)}function Ve(e){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(e)}function Ue(e,t){for(var n in t)t.hasOwnProperty(n)&&"constructor"!==n&&void 0!==t[n]&&(e[n]=t[n])}function We(e,t,n,r){return t&&Ue(e,t),n&&Ue(e,n),r&&Ue(e,r),e}var Ze=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e[0],r=1;r<e.length;r++){var i=e[r];l(i)&&(i=i.prototype),We(n.prototype,i)}},He=function e(t){if("object"!==typeof t||null===t)return t;var n;if(f(t)){n=[];for(var r=0,i=t.length;r<i;r++)"object"===typeof t[r]&&null!=t[r]?n[r]=e(t[r]):n[r]=t[r]}else for(var o in n={},t)"object"===typeof t[o]&&null!=t[o]?n[o]=e(t[o]):n[o]=t[o];return n};var Xe=function(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i,o)}},Ke=function(e,t){if(!l(e))throw new TypeError("Expected a function");var n=function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=e.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n};function qe(e,t,n,r){for(var i in n=n||0,r=r||5,t)if(t.hasOwnProperty(i)){var o=t[i];null!==o&&m(o)?(m(e[i])||(e[i]={}),n<r?qe(e[i],o,n+1,r):e[i]=t[i]):f(o)?(e[i]=[],e[i]=e[i].concat(o)):void 0!==o&&(e[i]=o)}}var Je=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)qe(e,t[r]);return e},$e=function(e,t,n,r){l(t)||(n=t,t=e,e=function(){});var i=Object.create?function(e,t){return Object.create(e,{constructor:{value:t}})}:function(e,t){function n(){}n.prototype=e;var r=new n;return r.constructor=t,r},o=i(t.prototype,e);return e.prototype=We(o,e.prototype),e.superclass=i(t.prototype,t),We(o,n),We(e,r),e},Qe=function(e,t){if(!r(e))return-1;var n=Array.prototype.indexOf;if(n)return n.call(e,t);for(var i=-1,o=0;o<e.length;o++)if(e[o]===t){i=o;break}return i},et=Object.prototype.hasOwnProperty;var tt=function(e){if(c(e))return!0;if(r(e))return!e.length;var t=Ne(e);if("Map"===t||"Set"===t)return!e.size;if(Be(e))return!Object.keys(e).length;for(var n in e)if(et.call(e,n))return!1;return!0},nt=function e(t,n){if(t===n)return!0;if(!t||!n)return!1;if(O(t)||O(n))return!1;if(r(t)||r(n)){if(t.length!==n.length)return!1;for(var i=!0,o=0;o<t.length&&(i=e(t[o],n[o]));o++);return i}if(v(t)||v(n)){var a=Object.keys(t),s=Object.keys(n);if(a.length!==s.length)return!1;for(i=!0,o=0;o<a.length&&(i=e(t[a[o]],n[a[o]]));o++);return i}return!1},rt=function(e,t,n){return l(n)?!!n(e,t):nt(e,t)},it=function(e,t){if(!r(e))return e;for(var n=[],i=0;i<e.length;i++){var o=e[i];n.push(t(o,i))}return n},ot=function(e){return e},at=function(e,t){void 0===t&&(t=ot);var n={};return d(e)&&!c(e)&&Object.keys(e).forEach((function(r){n[r]=t(e[r],r)})),n},st=function(e,t,n){for(var r=0,i=O(t)?t.split("."):t;e&&r<i.length;)e=e[i[r++]];return void 0===e||r<i.length?n:e},ut=function(e,t,n){var r=e,i=O(t)?t.split("."):t;return i.forEach((function(e,t){t<i.length-1?(d(r[e])||(r[e]=ne(i[t+1])?[]:{}),r=r[e]):r[e]=n})),e},lt=Object.prototype.hasOwnProperty,ct=function(e,t){if(null===e||!m(e))return{};var n={};return h(t,(function(t){lt.call(e,t)&&(n[t]=e[t])})),n},ft=function(e,t){return I(e,(function(e,n,r){return t.includes(r)||(e[r]=n),e}),{})},dt=function(e,t,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),r=null,a=e.apply(i,o),r||(i=o=null)},l=function(){var l=Date.now();s||!1!==n.leading||(s=l);var c=t-(l-s);return i=this,o=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),s=l,a=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,c)),a};return l.cancel=function(){clearTimeout(r),s=0,r=i=o=null},l},ht=function(e){return r(e)?Array.prototype.slice.call(e):[]},pt={},gt=function(e){return pt[e=e||"g"]?pt[e]+=1:pt[e]=1,e+pt[e]},vt=function(){},mt=function(e){return e};function yt(e){return c(e)?0:r(e)?e.length:Object.keys(e).length}var bt,xt=n(9388),wt=Ke((function(e,t){void 0===t&&(t={});var n=t.fontSize,r=t.fontFamily,i=t.fontWeight,o=t.fontStyle,a=t.fontVariant;return bt||(bt=document.createElement("canvas").getContext("2d")),bt.font=[o,a,i,n+"px",r].join(" "),bt.measureText(O(e)?e:"").width}),(function(e,t){return void 0===t&&(t={}),(0,xt.__spreadArrays)([e],we(t)).join("")})),Et=function(e,t,n,r){void 0===r&&(r="...");var i,o,a=wt(r,n),s=O(e)?e:Se(e),u=t,l=[];if(wt(e,n)<=t)return e;for(;i=s.substr(0,16),!((o=wt(i,n))+a>u&&o>u);)if(l.push(i),u-=o,!(s=s.substr(16)))return l.join("");for(;i=s.substr(0,1),!((o=wt(i,n))+a>u);)if(l.push(i),u-=o,!(s=s.substr(1)))return l.join("");return""+l.join("")+r},St=function(){function e(){this.map={}}return e.prototype.has=function(e){return void 0!==this.map[e]},e.prototype.get=function(e,t){var n=this.map[e];return void 0===n?t:n},e.prototype.set=function(e,t){this.map[e]=t},e.prototype.clear=function(){this.map={}},e.prototype.delete=function(e){delete this.map[e]},e.prototype.size=function(){return Object.keys(this.map).length},e}()},3915:function(e,t,n){var r=n(6149);e.exports={Graph:r.Graph,json:n(9071),alg:n(3959),version:r.version}},2936:function(e,t,n){var r=n(2783);e.exports=function(e){var t,n={},i=[];function o(i){r.has(n,i)||(n[i]=!0,t.push(i),r.each(e.successors(i),o),r.each(e.predecessors(i),o))}return r.each(e.nodes(),(function(e){t=[],o(e),t.length&&i.push(t)})),i}},4270:function(e,t,n){var r=n(2783);function i(e,t,n,o,a,s){r.has(o,t)||(o[t]=!0,n||s.push(t),r.each(a(t),(function(t){i(e,t,n,o,a,s)})),n&&s.push(t))}e.exports=function(e,t,n){r.isArray(t)||(t=[t]);var o=(e.isDirected()?e.successors:e.neighbors).bind(e),a=[],s={};return r.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);i(e,t,"post"===n,s,o,a)})),a}},8869:function(e,t,n){var r=n(1787),i=n(2783);e.exports=function(e,t,n){return i.transform(e.nodes(),(function(i,o){i[o]=r(e,o,t,n)}),{})}},1787:function(e,t,n){var r=n(2783),i=n(148);e.exports=function(e,t,n,r){return function(e,t,n,r){var o,a,s={},u=new i,l=function(e){var t=e.v!==o?e.v:e.w,r=s[t],i=n(e),l=a.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+i);l<r.distance&&(r.distance=l,r.predecessor=o,u.decrease(t,l))};e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;s[e]={distance:n},u.add(e,n)}));for(;u.size()>0&&(o=u.removeMin(),(a=s[o]).distance!==Number.POSITIVE_INFINITY);)r(o).forEach(l);return s}(e,String(t),n||o,r||function(t){return e.outEdges(t)})};var o=r.constant(1)},2219:function(e,t,n){var r=n(2783),i=n(7181);e.exports=function(e){return r.filter(i(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))}},4035:function(e,t,n){var r=n(2783);e.exports=function(e,t,n){return function(e,t,n){var r={},i=e.nodes();return i.forEach((function(e){r[e]={},r[e][e]={distance:0},i.forEach((function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var i=n.v===e?n.w:n.v,o=t(n);r[e][i]={distance:o,predecessor:e}}))})),i.forEach((function(e){var t=r[e];i.forEach((function(n){var o=r[n];i.forEach((function(n){var r=o[e],i=t[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)}))}))})),r}(e,t||i,n||function(t){return e.outEdges(t)})};var i=r.constant(1)},3959:function(e,t,n){e.exports={components:n(2936),dijkstra:n(1787),dijkstraAll:n(8869),findCycles:n(2219),floydWarshall:n(4035),isAcyclic:n(3714),postorder:n(4945),preorder:n(3098),prim:n(5074),tarjan:n(7181),topsort:n(2980)}},3714:function(e,t,n){var r=n(2980);e.exports=function(e){try{r(e)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},4945:function(e,t,n){var r=n(4270);e.exports=function(e,t){return r(e,t,"post")}},3098:function(e,t,n){var r=n(4270);e.exports=function(e,t){return r(e,t,"pre")}},5074:function(e,t,n){var r=n(2783),i=n(317),o=n(148);e.exports=function(e,t){var n,a=new i,s={},u=new o;function l(e){var r=e.v===n?e.w:e.v,i=u.priority(r);if(void 0!==i){var o=t(e);o<i&&(s[r]=n,u.decrease(r,o))}}if(0===e.nodeCount())return a;r.each(e.nodes(),(function(e){u.add(e,Number.POSITIVE_INFINITY),a.setNode(e)})),u.decrease(e.nodes()[0],0);var c=!1;for(;u.size()>0;){if(n=u.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else{if(c)throw new Error("Input graph is not connected: "+e);c=!0}e.nodeEdges(n).forEach(l)}return a}},7181:function(e,t,n){var r=n(2783);e.exports=function(e){var t=0,n=[],i={},o=[];function a(s){var u=i[s]={onStack:!0,lowlink:t,index:t++};if(n.push(s),e.successors(s).forEach((function(e){r.has(i,e)?i[e].onStack&&(u.lowlink=Math.min(u.lowlink,i[e].index)):(a(e),u.lowlink=Math.min(u.lowlink,i[e].lowlink))})),u.lowlink===u.index){var l,c=[];do{l=n.pop(),i[l].onStack=!1,c.push(l)}while(s!==l);o.push(c)}}return e.nodes().forEach((function(e){r.has(i,e)||a(e)})),o}},2980:function(e,t,n){var r=n(2783);function i(e){var t={},n={},i=[];if(r.each(e.sinks(),(function a(s){if(r.has(n,s))throw new o;r.has(t,s)||(n[s]=!0,t[s]=!0,r.each(e.predecessors(s),a),delete n[s],i.push(s))})),r.size(t)!==e.nodeCount())throw new o;return i}function o(){}e.exports=i,i.CycleException=o},148:function(e,t,n){var r=n(2783);function i(){this._arr=[],this._keyIndices={}}e.exports=i,i.prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},i.prototype.has=function(e){return r.has(this._keyIndices,e)},i.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},i.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},i.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!r.has(n,e)){var i=this._arr,o=i.length;return n[e]=o,i.push({key:e,priority:t}),this._decrease(o),!0}return!1},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},i.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},i.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,i=e;n<t.length&&(i=t[n].priority<t[i].priority?n:i,r<t.length&&(i=t[r].priority<t[i].priority?r:i),i!==e&&(this._swap(e,i),this._heapify(i)))},i.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},i.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,i=n[e],o=n[t];n[e]=o,n[t]=i,r[o.key]=e,r[i.key]=t}},317:function(e,t,n){"use strict";var r=n(2783);e.exports=o;var i="\0";function o(e){this._isDirected=!r.has(e,"directed")||e.directed,this._isMultigraph=!!r.has(e,"multigraph")&&e.multigraph,this._isCompound=!!r.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(e,t){e[t]?e[t]++:e[t]=1}function s(e,t){--e[t]||delete e[t]}function u(e,t,n,i){var o=""+t,a=""+n;if(!e&&o>a){var s=o;o=a,a=s}return o+"\x01"+a+"\x01"+(r.isUndefined(i)?"\0":i)}function l(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return r&&(s.name=r),s}function c(e,t){return u(e,t.v,t.w,t.name)}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(e){return this._label=e,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultNodeLabelFn=e,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return r.keys(this._nodes)},o.prototype.sources=function(){return r.filter(this.nodes(),r.bind((function(e){return r.isEmpty(this._in[e])}),this))},o.prototype.sinks=function(){return r.filter(this.nodes(),r.bind((function(e){return r.isEmpty(this._out[e])}),this))},o.prototype.setNodes=function(e,t){var n=arguments;return r.each(e,r.bind((function(e){n.length>1?this.setNode(e,t):this.setNode(e)}),this)),this},o.prototype.setNode=function(e,t){return r.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=i,this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},o.prototype.node=function(e){return this._nodes[e]},o.prototype.hasNode=function(e){return r.has(this._nodes,e)},o.prototype.removeNode=function(e){var t=this;if(r.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],r.each(this.children(e),r.bind((function(e){this.setParent(e)}),this)),delete this._children[e]),r.each(r.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],r.each(r.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},o.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(t))t=i;else{for(var n=t+="";!r.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},o.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},o.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==i)return t}},o.prototype.children=function(e){if(r.isUndefined(e)&&(e=i),this._isCompound){var t=this._children[e];if(t)return r.keys(t)}else{if(e===i)return this.nodes();if(this.hasNode(e))return[]}},o.prototype.predecessors=function(e){var t=this._preds[e];if(t)return r.keys(t)},o.prototype.successors=function(e){var t=this._sucs[e];if(t)return r.keys(t)},o.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return r.union(t,this.successors(e))},o.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},o.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph()),r.each(this._nodes,r.bind((function(n,r){e(r)&&t.setNode(r,n)}),this)),r.each(this._edgeObjs,r.bind((function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,this.edge(e))}),this));var n=this,i={};function o(e){var r=n.parent(e);return void 0===r||t.hasNode(r)?(i[e]=r,r):r in i?i[r]:o(r)}return this._isCompound&&r.each(t.nodes(),(function(e){t.setParent(e,o(e))})),t},o.prototype.setDefaultEdgeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultEdgeLabelFn=e,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return r.values(this._edgeObjs)},o.prototype.setPath=function(e,t){var n=this,i=arguments;return r.reduce(e,(function(e,r){return i.length>1?n.setEdge(e,r,t):n.setEdge(e,r),r})),this},o.prototype.setEdge=function(){var e,t,n,i,o=!1,s=arguments[0];"object"===typeof s&&null!==s&&"v"in s?(e=s.v,t=s.w,n=s.name,2===arguments.length&&(i=arguments[1],o=!0)):(e=s,t=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),e=""+e,t=""+t,r.isUndefined(n)||(n=""+n);var c=u(this._isDirected,e,t,n);if(r.has(this._edgeLabels,c))return o&&(this._edgeLabels[c]=i),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[c]=o?i:this._defaultEdgeLabelFn(e,t,n);var f=l(this._isDirected,e,t,n);return e=f.v,t=f.w,Object.freeze(f),this._edgeObjs[c]=f,a(this._preds[t],e),a(this._sucs[e],t),this._in[t][c]=f,this._out[e][c]=f,this._edgeCount++,this},o.prototype.edge=function(e,t,n){var r=1===arguments.length?c(this._isDirected,arguments[0]):u(this._isDirected,e,t,n);return this._edgeLabels[r]},o.prototype.hasEdge=function(e,t,n){var i=1===arguments.length?c(this._isDirected,arguments[0]):u(this._isDirected,e,t,n);return r.has(this._edgeLabels,i)},o.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?c(this._isDirected,arguments[0]):u(this._isDirected,e,t,n),i=this._edgeObjs[r];return i&&(e=i.v,t=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],s(this._preds[t],e),s(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},o.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var i=r.values(n);return t?r.filter(i,(function(e){return e.v===t})):i}},o.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var i=r.values(n);return t?r.filter(i,(function(e){return e.w===t})):i}},o.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},6149:function(e,t,n){e.exports={Graph:n(317),version:n(8931)}},9071:function(e,t,n){var r=n(2783),i=n(317);function o(e){return r.map(e.nodes(),(function(t){var n=e.node(t),i=e.parent(t),o={v:t};return r.isUndefined(n)||(o.value=n),r.isUndefined(i)||(o.parent=i),o}))}function a(e){return r.map(e.edges(),(function(t){var n=e.edge(t),i={v:t.v,w:t.w};return r.isUndefined(t.name)||(i.name=t.name),r.isUndefined(n)||(i.value=n),i}))}e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:o(e),edges:a(e)};r.isUndefined(e.graph())||(t.value=r.clone(e.graph()));return t},read:function(e){var t=new i(e.options).setGraph(e.value);return r.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),r.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}}},2783:function(e,t,n){var r;try{r=n(763)}catch(i){}r||(r=window._),e.exports=r},8931:function(e){e.exports="2.1.4"},5511:function(e,t){"use strict";(function(e){e.TextureCompressionBC="texture-compression-bc"})(t.UX||(t.UX={})),function(e){e.ClampToEdge="clamp-to-edge",e.Repeat="repeat",e.MirrorRepeat="mirror-repeat"}(t.OB||(t.OB={})),function(e){e.UniformBuffer="uniform-buffer",e.StorageBuffer="storage-buffer",e.ReadonlyStorageBuffer="readonly-storage-buffer",e.Sampler="sampler",e.ComparisonSampler="comparison-sampler",e.SampledTexture="sampled-texture",e.ReadonlyStorageTexture="readonly-storage-texture",e.WriteonlyStorageTexture="writeonly-storage-texture"}(t.$l||(t.$l={})),function(e){e.Zero="zero",e.One="one",e.SrcColor="src-color",e.OneMinusSrcColor="one-minus-src-color",e.SrcAlpha="src-alpha",e.OneMinusSrcAlpha="one-minus-src-alpha",e.DstColor="dst-color",e.OneMinusDstColor="one-minus-dst-color",e.DstAlpha="dst-alpha",e.OneMinusDstAlpha="one-minus-dst-alpha",e.SrcAlphaSaturated="src-alpha-saturated",e.BlendColor="blend-color",e.OneMinusBlendColor="one-minus-blend-color"}(t.zi||(t.zi={})),function(e){e.Add="add",e.Subtract="subtract",e.ReverseSubtract="reverse-subtract",e.Min="min",e.Max="max"}(t.db||(t.db={})),function(e){e.Never="never",e.Less="less",e.Equal="equal",e.LessEqual="less-equal",e.Greater="greater",e.NotEqual="not-equal",e.GreaterEqual="greater-equal",e.Always="always"}(t.wb||(t.wb={})),function(e){e.None="none",e.Front="front",e.Back="back"}(t.Wf||(t.Wf={})),function(e){e.Nearest="nearest",e.Linear="linear"}(t.X9||(t.X9={})),function(e){e.CCW="ccw",e.CW="cw"}(t.zX||(t.zX={})),function(e){e.Uint16="uint16",e.Uint32="uint32"}(t.iD||(t.iD={})),function(e){e.Vertex="vertex",e.Instance="instance"}(t.V||(t.V={})),function(e){e.Load="load"}(t.Ws||(t.Ws={})),function(e){e.PointList="point-list",e.LineList="line-list",e.LineStrip="line-strip",e.TriangleList="triangle-list",e.TriangleStrip="triangle-strip"}(t.YV||(t.YV={})),function(e){e.Keep="keep",e.Zero="zero",e.Replace="replace",e.Invert="invert",e.IncrementClamp="increment-clamp",e.DecrementClamp="decrement-clamp",e.IncrementWrap="increment-wrap",e.DecrementWrap="decrement-wrap"}(t.xS||(t.xS={})),function(e){e.Store="store",e.Clear="clear"}(t.EG||(t.EG={})),function(e){e.E1d="1d",e.E2d="2d",e.E3d="3d"}(t.kd||(t.kd={})),function(e){e.R8Unorm="r8unorm",e.R8Snorm="r8snorm",e.R8Uint="r8uint",e.R8Sint="r8sint",e.R16Uint="r16uint",e.R16Sint="r16sint",e.R16Float="r16float",e.RG8Unorm="rg8unorm",e.RG8Snorm="rg8snorm",e.RG8Uint="rg8uint",e.RG8Sint="rg8sint",e.R32Uint="r32uint",e.R32Sint="r32sint",e.R32Float="r32float",e.RG16Uint="rg16uint",e.RG16Sint="rg16sint",e.RG16Float="rg16float",e.RGBA8Unorm="rgba8unorm",e.RGBA8UnormSRGB="rgba8unorm-srgb",e.RGBA8Snorm="rgba8snorm",e.RGBA8Uint="rgba8uint",e.RGBA8Sint="rgba8sint",e.BGRA8Unorm="bgra8unorm",e.BGRA8UnormSRGB="bgra8unorm-srgb",e.RGB10A2Unorm="rgb10a2unorm",e.RG11B10Float="rg11b10float",e.RG32Uint="rg32uint",e.RG32Sint="rg32sint",e.RG32Float="rg32float",e.RGBA16Uint="rgba16uint",e.RGBA16Sint="rgba16sint",e.RGBA16Float="rgba16float",e.RGBA32Uint="rgba32uint",e.RGBA32Sint="rgba32sint",e.RGBA32Float="rgba32float",e.Depth32Float="depth32float",e.Depth24Plus="depth24plus",e.Depth24PlusStencil8="depth24plus-stencil8"}(t.EV||(t.EV={})),function(e){e.Float="float",e.Sint="sint",e.Uint="uint"}(t.Ek||(t.Ek={})),function(e){e.E1d="1d",e.E2d="2d",e.E2dArray="2d-array",e.Cube="cube",e.CubeArray="cube-array",e.E3d="3d"}(t.p_||(t.p_={})),function(e){e.Uchar2="uchar2",e.Uchar4="uchar4",e.Char2="char2",e.Char4="char4",e.Uchar2Norm="uchar2norm",e.Uchar4Norm="uchar4norm",e.Char2Norm="char2norm",e.Char4Norm="char4norm",e.Ushort2="ushort2",e.Ushort4="ushort4",e.Short2="short2",e.Short4="short4",e.Ushort2Norm="ushort2norm",e.Ushort4Norm="ushort4norm",e.Short2Norm="short2norm",e.Short4Norm="short4norm",e.Half2="half2",e.Half4="half4",e.Float="float",e.Float2="float2",e.Float3="float3",e.Float4="float4",e.Uint="uint",e.Uint2="uint2",e.Uint3="uint3",e.Uint4="uint4",e.Int="int",e.Int2="int2",e.Int3="int3",e.Int4="int4"}(t.gB||(t.gB={})),function(e){e.All="all",e.StencilOnly="stencil-only",e.DepthOnly="depth-only"}(t.H7||(t.H7={})),function(e){e.Error="error",e.Warning="warning",e.Info="info"}(t.mj||(t.mj={})),function(e){e.Occlusion="occlusion"}(t.xL||(t.xL={})),function(e){e[e.MapRead=1]="MapRead",e[e.MapWrite=2]="MapWrite",e[e.CopySrc=4]="CopySrc",e[e.CopyDst=8]="CopyDst",e[e.Index=16]="Index",e[e.Vertex=32]="Vertex",e[e.Uniform=64]="Uniform",e[e.Storage=128]="Storage",e[e.Indirect=256]="Indirect",e[e.QueryResolve=512]="QueryResolve"}(t.FB||(t.FB={})),function(e){e[e.Red=1]="Red",e[e.Green=2]="Green",e[e.Blue=4]="Blue",e[e.Alpha=8]="Alpha",e[e.All=15]="All"}(t.Yw||(t.Yw={})),function(e){e[e.Vertex=1]="Vertex",e[e.Fragment=2]="Fragment",e[e.Compute=4]="Compute"}(t.$X||(t.$X={})),function(e){e[e.CopySrc=1]="CopySrc",e[e.CopyDst=2]="CopyDst",e[e.Sampled=4]="Sampled",e[e.Storage=8]="Storage",e[e.OutputAttachment=16]="OutputAttachment"}(t.v2||(t.v2={})),function(e){e[e.Read=1]="Read",e[e.Write=2]="Write"}(t.gc||(t.gc={}))},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},7049:function(e,t,n){var r=n(7910),i={};for(var o in r)r.hasOwnProperty(o)&&(i[r[o]]=o);var a=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in a)if(a.hasOwnProperty(s)){if(!("channels"in a[s]))throw new Error("missing channels property: "+s);if(!("labels"in a[s]))throw new Error("missing channel labels property: "+s);if(a[s].labels.length!==a[s].channels)throw new Error("channel and label counts mismatch: "+s);var u=a[s].channels,l=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],"channels",{value:u}),Object.defineProperty(a[s],"labels",{value:l})}a.rgb.hsl=function(e){var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),u=s-a;return s===a?t=0:r===s?t=(i-o)/u:i===s?t=2+(o-r)/u:o===s&&(t=4+(r-i)/u),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+s)/2,[t,100*(s===a?0:n<=.5?u/(s+a):u/(2-s-a)),100*n]},a.rgb.hsv=function(e){var t,n,r,i,o,a=e[0]/255,s=e[1]/255,u=e[2]/255,l=Math.max(a,s,u),c=l-Math.min(a,s,u),f=function(e){return(l-e)/6/c+.5};return 0===c?i=o=0:(o=c/l,t=f(a),n=f(s),r=f(u),a===l?i=r-n:s===l?i=1/3+t-r:u===l&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*l]},a.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2];return[a.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(r=1-1/255*Math.max(t,Math.max(n,r)))]},a.rgb.cmyk=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-r,1-i)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},a.rgb.keyword=function(e){var t=i[e];if(t)return t;var n,o,a,s=1/0;for(var u in r)if(r.hasOwnProperty(u)){var l=r[u],c=(o=e,a=l,Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)+Math.pow(o[2]-a[2],2));c<s&&(s=c,n=u)}return n},a.keyword.rgb=function(e){return r[e]},a.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},a.rgb.lab=function(e){var t=a.rgb.xyz(e),n=t[0],r=t[1],i=t[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},a.hsl.rgb=function(e){var t,n,r,i,o,a=e[0]/360,s=e[1]/100,u=e[2]/100;if(0===s)return[o=255*u,o,o];t=2*u-(n=u<.5?u*(1+s):u+s-u*s),i=[0,0,0];for(var l=0;l<3;l++)(r=a+1/3*-(l-1))<0&&r++,r>1&&r--,o=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[l]=255*o;return i},a.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,i=n,o=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,i*=o<=1?o:2-o,[t,100*(0===r?2*i/(o+i):2*n/(r+n)),100*((r+n)/2)]},a.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),a=255*r*(1-n),s=255*r*(1-n*o),u=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,u,a];case 1:return[s,r,a];case 2:return[a,r,u];case 3:return[a,s,r];case 4:return[u,a,r];case 5:return[r,a,s]}},a.hsv.hsl=function(e){var t,n,r,i=e[0],o=e[1]/100,a=e[2]/100,s=Math.max(a,.01);return r=(2-o)*a,n=o*s,[i,100*(n=(n/=(t=(2-o)*s)<=1?t:2-t)||0),100*(r/=2)]},a.hwb.rgb=function(e){var t,n,r,i,o,a,s,u=e[0]/360,l=e[1]/100,c=e[2]/100,f=l+c;switch(f>1&&(l/=f,c/=f),r=6*u-(t=Math.floor(6*u)),0!==(1&t)&&(r=1-r),i=l+r*((n=1-c)-l),t){default:case 6:case 0:o=n,a=i,s=l;break;case 1:o=i,a=n,s=l;break;case 2:o=l,a=n,s=i;break;case 3:o=l,a=i,s=n;break;case 4:o=i,a=l,s=n;break;case 5:o=n,a=l,s=i}return[255*o,255*a,255*s]},a.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},a.xyz.rgb=function(e){var t,n,r,i=e[0]/100,o=e[1]/100,a=e[2]/100;return n=-.9689*i+1.8758*o+.0415*a,r=.0557*i+-.204*o+1.057*a,t=(t=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},a.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},a.lab.xyz=function(e){var t,n,r,i=e[0];t=e[1]/500+(n=(i+16)/116),r=n-e[2]/200;var o=Math.pow(n,3),a=Math.pow(t,3),s=Math.pow(r,3);return n=o>.008856?o:(n-16/116)/7.787,t=a>.008856?a:(t-16/116)/7.787,r=s>.008856?s:(r-16/116)/7.787,[t*=95.047,n*=100,r*=108.883]},a.lab.lch=function(e){var t,n=e[0],r=e[1],i=e[2];return(t=360*Math.atan2(i,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+i*i),t]},a.lch.lab=function(e){var t,n=e[0],r=e[1];return t=e[2]/360*2*Math.PI,[n,r*Math.cos(t),r*Math.sin(t)]},a.rgb.ansi16=function(e){var t=e[0],n=e[1],r=e[2],i=1 in arguments?arguments[1]:a.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===i&&(o+=60),o},a.hsv.ansi16=function(e){return a.rgb.ansi16(a.hsv.rgb(e),e[2])},a.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},a.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},a.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},a.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},a.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},a.rgb.hcg=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255,o=Math.max(Math.max(n,r),i),a=Math.min(Math.min(n,r),i),s=o-a;return t=s<=0?0:o===n?(r-i)/s%6:o===r?2+(i-n)/s:4+(n-r)/s+4,t/=6,[360*(t%=1),100*s,100*(s<1?a/(1-s):0)]},a.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=1,i=0;return(r=n<.5?2*t*n:2*t*(1-n))<1&&(i=(n-.5*r)/(1-r)),[e[0],100*r,100*i]},a.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=t*n,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},a.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];var i,o=[0,0,0],a=t%1*6,s=a%1,u=1-s;switch(Math.floor(a)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=u,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=u,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=u}return i=(1-n)*r,[255*(n*o[0]+i),255*(n*o[1]+i),255*(n*o[2]+i)]},a.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},a.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},a.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},a.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,r=n-t,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},a.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},a.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},a.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},a.gray.hsl=a.gray.hsv=function(e){return[0,0,e[0]]},a.gray.hwb=function(e){return[0,100,e[0]]},a.gray.cmyk=function(e){return[0,0,0,e[0]]},a.gray.lab=function(e){return[e[0],0,0]},a.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},a.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},7287:function(e,t,n){var r=n(7049),i=n(9672),o={};Object.keys(r).forEach((function(e){o[e]={},Object.defineProperty(o[e],"channels",{value:r[e].channels}),Object.defineProperty(o[e],"labels",{value:r[e].labels});var t=i(e);Object.keys(t).forEach((function(n){var r=t[n];o[e][n]=function(e){var t=function(t){if(void 0===t||null===t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"===typeof n)for(var r=n.length,i=0;i<r;i++)n[i]=Math.round(n[i]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(r),o[e][n].raw=function(e){var t=function(t){return void 0===t||null===t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)}))})),e.exports=o},9672:function(e,t,n){var r=n(7049);function i(e){var t=function(){for(var e={},t=Object.keys(r),n=t.length,i=0;i<n;i++)e[t[i]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var i=n.pop(),o=Object.keys(r[i]),a=o.length,s=0;s<a;s++){var u=o[s],l=t[u];-1===l.distance&&(l.distance=t[i].distance+1,l.parent=i,n.unshift(u))}return t}function o(e,t){return function(n){return t(e(n))}}function a(e,t){for(var n=[t[e].parent,e],i=r[t[e].parent][e],a=t[e].parent;t[a].parent;)n.unshift(t[a].parent),i=o(r[t[a].parent][a],i),a=t[a].parent;return i.conversion=n,i}e.exports=function(e){for(var t=i(e),n={},r=Object.keys(t),o=r.length,s=0;s<o;s++){var u=r[s];null!==t[u].parent&&(n[u]=a(u,t))}return n}},7910:function(e){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},9194:function(e,t,n){var r=n(7910),i=n(5114),o=Object.hasOwnProperty,a={};for(var s in r)o.call(r,s)&&(a[r[s]]=s);var u=e.exports={to:{},get:{}};function l(e,t,n){return Math.min(Math.max(t,e),n)}function c(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}u.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=u.get.hsl(e),n="hsl";break;case"hwb":t=u.get.hwb(e),n="hwb";break;default:t=u.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},u.get.rgb=function(e){if(!e)return null;var t,n,i,a=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=t[2],t=t[1],n=0;n<3;n++){var s=2*n;a[n]=parseInt(t.slice(s,s+2),16)}i&&(a[3]=parseInt(i,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(t=t[1])[3],n=0;n<3;n++)a[n]=parseInt(t[n]+t[n],16);i&&(a[3]=parseInt(i+i,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)a[n]=parseInt(t[n+1],0);t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:o.call(r,t[1])?((a=r[t[1]])[3]=1,a):null:null;for(n=0;n<3;n++)a[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}for(n=0;n<3;n++)a[n]=l(a[n],0,255);return a[3]=l(a[3],0,1),a},u.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,l(parseFloat(t[2]),0,100),l(parseFloat(t[3]),0,100),l(isNaN(n)?1:n,0,1)]}return null},u.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,l(parseFloat(t[2]),0,100),l(parseFloat(t[3]),0,100),l(isNaN(n)?1:n,0,1)]}return null},u.to.hex=function(){var e=i(arguments);return"#"+c(e[0])+c(e[1])+c(e[2])+(e[3]<1?c(Math.round(255*e[3])):"")},u.to.rgb=function(){var e=i(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},u.to.rgb.percent=function(){var e=i(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},u.to.hsl=function(){var e=i(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},u.to.hwb=function(){var e=i(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},u.to.keyword=function(e){return a[e.slice(0,3)]}},3861:function(e,t,n){"use strict";var r=n(9194),i=n(7287),o=[].slice,a=["keyword","gray","hex"],s={};Object.keys(i).forEach((function(e){s[o.call(i[e].labels).sort().join("")]=e}));var u={};function l(e,t){if(!(this instanceof l))return new l(e,t);if(t&&t in a&&(t=null),t&&!(t in i))throw new Error("Unknown model: "+t);var n,c;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof l)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"===typeof e){var f=r.get(e);if(null===f)throw new Error("Unable to parse color from string: "+e);this.model=f.model,c=i[this.model].channels,this.color=f.value.slice(0,c),this.valpha="number"===typeof f.value[c]?f.value[c]:1}else if(e.length){this.model=t||"rgb",c=i[this.model].channels;var d=o.call(e,0,c);this.color=h(d,c),this.valpha="number"===typeof e[c]?e[c]:1}else if("number"===typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var p=Object.keys(e);"alpha"in e&&(p.splice(p.indexOf("alpha"),1),this.valpha="number"===typeof e.alpha?e.alpha:0);var g=p.sort().join("");if(!(g in s))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=s[g];var v=i[this.model].labels,m=[];for(n=0;n<v.length;n++)m.push(e[v[n]]);this.color=h(m)}if(u[this.model])for(c=i[this.model].channels,n=0;n<c;n++){var y=u[this.model][n];y&&(this.color[n]=y(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function c(e,t,n){return(e=Array.isArray(e)?e:[e]).forEach((function(e){(u[e]||(u[e]=[]))[t]=n})),e=e[0],function(r){var i;return arguments.length?(n&&(r=n(r)),(i=this[e]()).color[t]=r,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function f(e){return function(t){return Math.max(0,Math.min(e,t))}}function d(e){return Array.isArray(e)?e:[e]}function h(e,t){for(var n=0;n<t;n++)"number"!==typeof e[n]&&(e[n]=0);return e}l.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in r.to?this:this.rgb(),n=1===(t=t.round("number"===typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return r.to[t.model](n)},percentString:function(e){var t=this.rgb().round("number"===typeof e?e:1),n=1===t.valpha?t.color:t.color.concat(this.valpha);return r.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=i[this.model].channels,n=i[this.model].labels,r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new l(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new l(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:c("rgb",0,f(255)),green:c("rgb",1,f(255)),blue:c("rgb",2,f(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:c("hsl",1,f(100)),lightness:c("hsl",2,f(100)),saturationv:c("hsv",1,f(100)),value:c("hsv",2,f(100)),chroma:c("hcg",1,f(100)),gray:c("hcg",2,f(100)),white:c("hwb",1,f(100)),wblack:c("hwb",2,f(100)),cyan:c("cmyk",0,f(100)),magenta:c("cmyk",1,f(100)),yellow:c("cmyk",2,f(100)),black:c("cmyk",3,f(100)),x:c("xyz",0,f(100)),y:c("xyz",1,f(100)),z:c("xyz",2,f(100)),l:c("lab",0,f(100)),a:c("lab",1),b:c("lab",2),keyword:function(e){return arguments.length?new l(e):i[this.model].keyword(this.color)},hex:function(e){return arguments.length?new l(e):r.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return l.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),n=t.color[0];return n=(n=(n+e)%360)<0?360+n:n,t.color[0]=n,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);var n=e.rgb(),r=this.rgb(),i=void 0===t?.5:t,o=2*i-1,a=n.alpha()-r.alpha(),s=((o*a===-1?o:(o+a)/(1+o*a))+1)/2,u=1-s;return l.rgb(s*n.red()+u*r.red(),s*n.green()+u*r.green(),s*n.blue()+u*r.blue(),n.alpha()*i+r.alpha()*(1-i))}},Object.keys(i).forEach((function(e){if(-1===a.indexOf(e)){var t=i[e].channels;l.prototype[e]=function(){if(this.model===e)return new l(this);if(arguments.length)return new l(arguments,e);var n="number"===typeof arguments[t]?t:this.valpha;return new l(d(i[this.model][e].raw(this.color)).concat(n),e)},l[e]=function(n){return"number"===typeof n&&(n=h(o.call(arguments),t)),new l(n,e)}}})),e.exports=l},8878:function(e,t,n){"use strict";function r(e,t){var n,r=1;function i(){var i,o,a=n.length,s=0,u=0;for(i=0;i<a;++i)s+=(o=n[i]).x,u+=o.y;for(s=(s/a-e)*r,u=(u/a-t)*r,i=0;i<a;++i)(o=n[i]).x-=s,o.y-=u}return null==e&&(e=0),null==t&&(t=0),i.initialize=function(e){n=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i.strength=function(e){return arguments.length?(r=+e,i):r},i}function i(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,u,l,c,f,d,h=e._root,p={data:r},g=e._x0,v=e._y0,m=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((l=t>=(o=(g+m)/2))?g=o:m=o,(c=n>=(a=(v+y)/2))?v=a:y=a,i=h,!(h=h[f=c<<1|l]))return i[f]=p,e;if(s=+e._x.call(null,h.data),u=+e._y.call(null,h.data),t===s&&n===u)return p.next=h,i?i[f]=p:e._root=p,e;do{i=i?i[f]=new Array(4):e._root=new Array(4),(l=t>=(o=(g+m)/2))?g=o:m=o,(c=n>=(a=(v+y)/2))?v=a:y=a}while((f=c<<1|l)===(d=(u>=a)<<1|s>=o));return i[d]=h,i[f]=p,e}function o(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function a(e){return e[0]}function s(e){return e[1]}function u(e,t,n){var r=new l(null==t?a:t,null==n?s:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function l(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function c(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}n.r(t),n.d(t,{forceCenter:function(){return r},forceCollide:function(){return v},forceLink:function(){return b},forceManyBody:function(){return D},forceRadial:function(){return O},forceSimulation:function(){return I},forceX:function(){return R},forceY:function(){return L}});var f=u.prototype=l.prototype;function d(e){return function(){return e}}function h(e){return 1e-6*(e()-.5)}function p(e){return e.x+e.vx}function g(e){return e.y+e.vy}function v(e){var t,n,r,i=1,o=1;function a(){for(var e,a,l,c,f,d,v,m=t.length,y=0;y<o;++y)for(a=u(t,p,g).visitAfter(s),e=0;e<m;++e)l=t[e],d=n[l.index],v=d*d,c=l.x+l.vx,f=l.y+l.vy,a.visit(b);function b(e,t,n,o,a){var s=e.data,u=e.r,p=d+u;if(!s)return t>c+p||o<c-p||n>f+p||a<f-p;if(s.index>l.index){var g=c-s.x-s.vx,m=f-s.y-s.vy,y=g*g+m*m;y<p*p&&(0===g&&(y+=(g=h(r))*g),0===m&&(y+=(m=h(r))*m),y=(p-(y=Math.sqrt(y)))/y*i,l.vx+=(g*=y)*(p=(u*=u)/(v+u)),l.vy+=(m*=y)*p,s.vx-=g*(p=1-p),s.vy-=m*p)}}}function s(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function l(){if(t){var r,i,o=t.length;for(n=new Array(o),r=0;r<o;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!==typeof e&&(e=d(null==e?1:+e)),a.initialize=function(e,n){t=e,r=n,l()},a.iterations=function(e){return arguments.length?(o=+e,a):o},a.strength=function(e){return arguments.length?(i=+e,a):i},a.radius=function(t){return arguments.length?(e="function"===typeof t?t:d(+t),l(),a):e},a}function m(e){return e.index}function y(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function b(e){var t,n,r,i,o,a,s=m,u=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},l=d(30),c=1;function f(r){for(var i=0,s=e.length;i<c;++i)for(var u,l,f,d,p,g,v,m=0;m<s;++m)l=(u=e[m]).source,d=(f=u.target).x+f.vx-l.x-l.vx||h(a),p=f.y+f.vy-l.y-l.vy||h(a),d*=g=((g=Math.sqrt(d*d+p*p))-n[m])/g*r*t[m],p*=g,f.vx-=d*(v=o[m]),f.vy-=p*v,l.vx+=d*(v=1-v),l.vy+=p*v}function p(){if(r){var a,u,l=r.length,c=e.length,f=new Map(r.map((function(e,t){return[s(e,t,r),e]})));for(a=0,i=new Array(l);a<c;++a)(u=e[a]).index=a,"object"!==typeof u.source&&(u.source=y(f,u.source)),"object"!==typeof u.target&&(u.target=y(f,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(a=0,o=new Array(c);a<c;++a)u=e[a],o[a]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);t=new Array(c),g(),n=new Array(c),v()}}function g(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+u(e[n],n,e)}function v(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+l(e[t],t,e)}return null==e&&(e=[]),f.initialize=function(e,t){r=e,a=t,p()},f.links=function(t){return arguments.length?(e=t,p(),f):e},f.id=function(e){return arguments.length?(s=e,f):s},f.iterations=function(e){return arguments.length?(c=+e,f):c},f.strength=function(e){return arguments.length?(u="function"===typeof e?e:d(+e),g(),f):u},f.distance=function(e){return arguments.length?(l="function"===typeof e?e:d(+e),v(),f):l},f}f.copy=function(){var e,t,n=new l(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=c(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=c(t));return n},f.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return i(this.cover(t,n),t,n,e)},f.addAll=function(e){var t,n,r,o,a=e.length,s=new Array(a),u=new Array(a),l=1/0,c=1/0,f=-1/0,d=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=r,u[n]=o,r<l&&(l=r),r>f&&(f=r),o<c&&(c=o),o>d&&(d=o));if(l>f||c>d)return this;for(this.cover(l,c).cover(f,d),n=0;n<a;++n)i(this,s[n],u[n],e[n]);return this},f.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a,s,u=i-n||1,l=this._root;n>e||e>=i||r>t||t>=o;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=l,l=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},f.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},f.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},f.find=function(e,t,n){var r,i,a,s,u,l,c,f=this._x0,d=this._y0,h=this._x1,p=this._y1,g=[],v=this._root;for(v&&g.push(new o(v,f,d,h,p)),null==n?n=1/0:(f=e-n,d=t-n,h=e+n,p=t+n,n*=n);l=g.pop();)if(!(!(v=l.node)||(i=l.x0)>h||(a=l.y0)>p||(s=l.x1)<f||(u=l.y1)<d))if(v.length){var m=(i+s)/2,y=(a+u)/2;g.push(new o(v[3],m,y,s,u),new o(v[2],i,y,m,u),new o(v[1],m,a,s,y),new o(v[0],i,a,m,y)),(c=(t>=y)<<1|e>=m)&&(l=g[g.length-1],g[g.length-1]=g[g.length-1-c],g[g.length-1-c]=l)}else{var b=e-+this._x.call(null,v.data),x=t-+this._y.call(null,v.data),w=b*b+x*x;if(w<n){var E=Math.sqrt(n=w);f=e-E,d=t-E,h=e+E,p=t+E,r=v.data}}return r},f.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,u,l,c,f,d,h=this._root,p=this._x0,g=this._y0,v=this._x1,m=this._y1;if(!h)return this;if(h.length)for(;;){if((l=o>=(s=(p+v)/2))?p=s:v=s,(c=a>=(u=(g+m)/2))?g=u:m=u,t=h,!(h=h[f=c<<1|l]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=i,this)},f.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},f.root=function(){return this._root},f.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},f.visit=function(e){var t,n,r,i,a,s,u=[],l=this._root;for(l&&u.push(new o(l,this._x0,this._y0,this._x1,this._y1));t=u.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,a=t.x1,s=t.y1)&&l.length){var c=(r+a)/2,f=(i+s)/2;(n=l[3])&&u.push(new o(n,c,f,a,s)),(n=l[2])&&u.push(new o(n,r,f,c,s)),(n=l[1])&&u.push(new o(n,c,i,a,f)),(n=l[0])&&u.push(new o(n,r,i,c,f))}return this},f.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new o(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,s=t.x0,u=t.y0,l=t.x1,c=t.y1,f=(s+l)/2,d=(u+c)/2;(a=i[0])&&n.push(new o(a,s,u,f,d)),(a=i[1])&&n.push(new o(a,f,u,l,d)),(a=i[2])&&n.push(new o(a,s,d,f,c)),(a=i[3])&&n.push(new o(a,f,d,l,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},f.x=function(e){return arguments.length?(this._x=e,this):this._x},f.y=function(e){return arguments.length?(this._y=e,this):this._y};var x={value:function(){}};function w(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new E(r)}function E(e){this._=e}function S(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function _(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function T(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=x,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}E.prototype=w.prototype={constructor:E,on:function(e,t){var n,r=this._,i=S(e+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=i[o]).type)r[n]=T(r[n],e.name,t);else if(null==t)for(n in r)r[n]=T(r[n],e.name,null);return this}for(;++o<a;)if((n=(e=i[o]).type)&&(n=_(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new E(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var k=w,C=n(6212),M=4294967296;function A(e){return e.x}function N(e){return e.y}var P=Math.PI*(3-Math.sqrt(5));function I(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,u=(0,C.HT)(f),l=k("tick","end"),c=function(){var e=1;return function(){return(e=(1664525*e+1013904223)%M)/M}}();function f(){d(),l.call("tick",t),n<r&&(u.stop(),l.call("end",t))}function d(r){var u,l,c=e.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(o-n)*i,s.forEach((function(e){e(n)})),u=0;u<c;++u)null==(l=e[u]).fx?l.x+=l.vx*=a:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=a:(l.y=l.fy,l.vy=0);return t}function h(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(.5+n),o=n*P;t.x=i*Math.cos(o),t.y=i*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,c),t}return null==e&&(e=[]),h(),t={tick:d,restart:function(){return u.restart(f),t},stop:function(){return u.stop(),t},nodes:function(n){return arguments.length?(e=n,h(),s.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(o=+e,t):o},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},randomSource:function(e){return arguments.length?(c=e,s.forEach(p),t):c},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,p(n)),t):s.get(e)},find:function(t,n,r){var i,o,a,s,u,l=0,c=e.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(a=(i=t-(s=e[l]).x)*i+(o=n-s.y)*o)<r&&(u=s,r=a);return u},on:function(e,n){return arguments.length>1?(l.on(e,n),t):l.on(e)}}}function D(){var e,t,n,r,i,o=d(-30),a=1,s=1/0,l=.81;function c(n){var i,o=e.length,a=u(e,A,N).visitAfter(p);for(r=n,i=0;i<o;++i)t=e[i],a.visit(g)}function f(){if(e){var t,n,r=e.length;for(i=new Array(r),t=0;t<r;++t)n=e[t],i[n.index]=+o(n,t,e)}}function p(e){var t,n,r,o,a,s=0,u=0;if(e.length){for(r=o=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(s+=t.value,u+=n,r+=n*t.x,o+=n*t.y);e.x=r/u,e.y=o/u}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=i[t.data.index]}while(t=t.next)}e.value=s}function g(e,o,u,c){if(!e.value)return!0;var f=e.x-t.x,d=e.y-t.y,p=c-o,g=f*f+d*d;if(p*p/l<g)return g<s&&(0===f&&(g+=(f=h(n))*f),0===d&&(g+=(d=h(n))*d),g<a&&(g=Math.sqrt(a*g)),t.vx+=f*e.value*r/g,t.vy+=d*e.value*r/g),!0;if(!(e.length||g>=s)){(e.data!==t||e.next)&&(0===f&&(g+=(f=h(n))*f),0===d&&(g+=(d=h(n))*d),g<a&&(g=Math.sqrt(a*g)));do{e.data!==t&&(p=i[e.data.index]*r/g,t.vx+=f*p,t.vy+=d*p)}while(e=e.next)}}return c.initialize=function(t,r){e=t,n=r,f()},c.strength=function(e){return arguments.length?(o="function"===typeof e?e:d(+e),f(),c):o},c.distanceMin=function(e){return arguments.length?(a=e*e,c):Math.sqrt(a)},c.distanceMax=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c.theta=function(e){return arguments.length?(l=e*e,c):Math.sqrt(l)},c}function O(e,t,n){var r,i,o,a=d(.1);function s(e){for(var a=0,s=r.length;a<s;++a){var u=r[a],l=u.x-t||1e-6,c=u.y-n||1e-6,f=Math.sqrt(l*l+c*c),d=(o[a]-f)*i[a]*e/f;u.vx+=l*d,u.vy+=c*d}}function u(){if(r){var t,n=r.length;for(i=new Array(n),o=new Array(n),t=0;t<n;++t)o[t]=+e(r[t],t,r),i[t]=isNaN(o[t])?0:+a(r[t],t,r)}}return"function"!==typeof e&&(e=d(+e)),null==t&&(t=0),null==n&&(n=0),s.initialize=function(e){r=e,u()},s.strength=function(e){return arguments.length?(a="function"===typeof e?e:d(+e),u(),s):a},s.radius=function(t){return arguments.length?(e="function"===typeof t?t:d(+t),u(),s):e},s.x=function(e){return arguments.length?(t=+e,s):t},s.y=function(e){return arguments.length?(n=+e,s):n},s}function R(e){var t,n,r,i=d(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vx+=(r[o]-i.x)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!==typeof e&&(e=d(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"===typeof e?e:d(+e),a(),o):i},o.x=function(t){return arguments.length?(e="function"===typeof t?t:d(+t),a(),o):e},o}function L(e){var t,n,r,i=d(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vy+=(r[o]-i.y)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!==typeof e&&(e=d(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"===typeof e?e:d(+e),a(),o):i},o.y=function(t){return arguments.length?(e="function"===typeof t?t:d(+t),a(),o):e},o}},6212:function(e,t,n){"use strict";n.d(t,{HT:function(){return v}});var r,i,o=0,a=0,s=0,u=0,l=0,c=0,f="object"===typeof performance&&performance.now?performance:Date,d="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function h(){return l||(d(p),l=f.now()+c)}function p(){l=0}function g(){this._call=this._time=this._next=null}function v(e,t,n){var r=new g;return r.restart(e,t,n),r}function m(){l=(u=f.now())+c,o=a=0;try{!function(){h(),++o;for(var e,t=r;t;)(e=l-t._time)>=0&&t._call.call(null,e),t=t._next;--o}()}finally{o=0,function(){var e,t,n=r,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:r=t);i=e,b(o)}(),l=0}}function y(){var e=f.now(),t=e-u;t>1e3&&(c-=t,u=e)}function b(e){o||(a&&(a=clearTimeout(a)),e-l>24?(e<1/0&&(a=setTimeout(m,e-f.now()-c)),s&&(s=clearInterval(s))):(s||(u=f.now(),s=setInterval(y,1e3)),o=1,d(m)))}g.prototype=v.prototype={constructor:g,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?h():+n)+(null==t?0:+t),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=e,this._time=n,b()},stop:function(){this._call&&(this._call=null,this._time=1/0,b())}}},9457:function(e,t,n){"use strict";n.r(t),n.d(t,{BRIDGE_GRAPH_NAME:function(){return y},GraphType:function(){return g},HierarchyNodeType:function(){return v},InclusionType:function(){return p},LAYOUT_CONFIG:function(){return c},NodeType:function(){return h},ROOT_NAME:function(){return m},buildGraph:function(){return wa},flatGraph:function(){return Ea},getEdges:function(){return Sa},mergeConfig:function(){return f}});var r=n(7762),i=n(3433),o=n(9340),a=n(4062),s=n(9439),u=n(3144),l=n(5671),c={graph:{meta:{rankDir:"TB",nodeSep:50,rankSep:50,edgeSep:5,align:void 0}},subScene:{meta:{paddingTop:20,paddingBottom:20,paddingLeft:20,paddingRight:20,labelHeight:20}},nodeSize:{meta:{width:100,maxLabelWidth:0,height:20},node:{width:80,height:20,labelOffset:10,maxLabelWidth:40},bridge:{width:5,height:5,radius:2,labelOffset:0}}};function f(){var e,t,n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,a=JSON.parse(JSON.stringify(o)),s=(null===(e=null==i?void 0:i.graph)||void 0===e?void 0:e.meta)||{},u=(null===(t=null==i?void 0:i.subScene)||void 0===t?void 0:t.meta)||{},l=(null===(n=null==i?void 0:i.nodeSize)||void 0===n?void 0:n.meta)||{},f=(null===(r=null==i?void 0:i.nodeSize)||void 0===r?void 0:r.node)||{},d=a.nodeSize.bridge;return{graph:{meta:Object.assign(a.graph.meta,s)},subScene:{meta:Object.assign(a.subScene.meta,u)},nodeSize:{meta:Object.assign(a.nodeSize.meta,l),node:Object.assign(a.nodeSize.node,f),bridge:d}}}function d(e){return"\u25ec".concat(e,"\u25ec")}var h,p,g,v,m=d("ROOT"),y=d("BRIDGE_GRAPH");!function(e){e[e.META=0]="META",e[e.NODE=1]="NODE",e[e.BRIDGE=2]="BRIDGE"}(h||(h={})),function(e){e[e.INCLUDE=0]="INCLUDE",e[e.EXCLUDE=1]="EXCLUDE",e[e.UNSPECIFIED=2]="UNSPECIFIED"}(p||(p={})),function(e){e[e.META=0]="META",e[e.CORE=1]="CORE",e[e.BRIDGE=2]="BRIDGE"}(g||(g={})),function(e){e[e.META=0]="META",e[e.OP=1]="OP",e[e.SERIES=2]="SERIES"}(v||(v={}));var b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};function x(e,t){return e(t={exports:{}},t.exports),t.exports}var w=function(e,t){return e===t||e!=e&&t!=t},E=function(e,t){for(var n=e.length;n--;)if(w(e[n][0],t))return n;return-1},S=Array.prototype.splice;function _(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_.prototype.clear=function(){this.__data__=[],this.size=0},_.prototype.delete=function(e){var t=this.__data__,n=E(t,e);return!(n<0)&&(n==t.length-1?t.pop():S.call(t,n,1),--this.size,!0)},_.prototype.get=function(e){var t=this.__data__,n=E(t,e);return n<0?void 0:t[n][1]},_.prototype.has=function(e){return E(this.__data__,e)>-1},_.prototype.set=function(e,t){var n=this.__data__,r=E(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var T,k=_,C="object"==typeof b&&b&&b.Object===Object&&b,M="object"==typeof self&&self&&self.Object===Object&&self,A=C||M||Function("return this")(),N=A.Symbol,P=Object.prototype,I=P.hasOwnProperty,D=P.toString,O=N?N.toStringTag:void 0,R=Object.prototype.toString,L=N?N.toStringTag:void 0,j=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":L&&L in Object(e)?function(e){var t=I.call(e,O),n=e[O];try{e[O]=void 0;var r=!0}catch(e){}var i=D.call(e);return r&&(t?e[O]=n:delete e[O]),i}(e):function(e){return R.call(e)}(e)},B=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},F=function(e){if(!B(e))return!1;var t=j(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},z=A["__core-js_shared__"],Y=(T=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"",G=Function.prototype.toString,V=function(e){if(null!=e){try{return G.call(e)}catch(e){}try{return e+""}catch(e){}}return""},U=/^\[object .+?Constructor\]$/,W=Function.prototype,Z=Object.prototype,H=W.toString,X=Z.hasOwnProperty,K=RegExp("^"+H.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),q=function(e){return!(!B(e)||function(e){return!!Y&&Y in e}(e))&&(F(e)?K:U).test(V(e))},J=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return q(n)?n:void 0},$=J(A,"Map"),Q=J(Object,"create"),ee=Object.prototype.hasOwnProperty,te=Object.prototype.hasOwnProperty;function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ne.prototype.clear=function(){this.__data__=Q?Q(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(Q){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ee.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return Q?void 0!==t[e]:te.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Q&&void 0===t?"__lodash_hash_undefined__":t,this};var re=ne,ie=function(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}oe.prototype.clear=function(){this.size=0,this.__data__={hash:new re,map:new($||k),string:new re}},oe.prototype.delete=function(e){var t=ie(this,e).delete(e);return this.size-=t?1:0,t},oe.prototype.get=function(e){return ie(this,e).get(e)},oe.prototype.has=function(e){return ie(this,e).has(e)},oe.prototype.set=function(e,t){var n=ie(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var ae=oe;function se(e){var t=this.__data__=new k(e);this.size=t.size}se.prototype.clear=function(){this.__data__=new k,this.size=0},se.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},se.prototype.get=function(e){return this.__data__.get(e)},se.prototype.has=function(e){return this.__data__.has(e)},se.prototype.set=function(e,t){var n=this.__data__;if(n instanceof k){var r=n.__data__;if(!$||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ae(r)}return n.set(e,t),this.size=n.size,this};var ue=se,le=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},ce=function(){try{var e=J(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),fe=function(e,t,n){"__proto__"==t&&ce?ce(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},de=Object.prototype.hasOwnProperty,he=function(e,t,n){var r=e[t];de.call(e,t)&&w(r,n)&&(void 0!==n||t in e)||fe(e,t,n)},pe=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?fe(n,s,u):he(n,s,u)}return n},ge=function(e){return null!=e&&"object"==typeof e},ve=function(e){return ge(e)&&"[object Arguments]"==j(e)},me=Object.prototype,ye=me.hasOwnProperty,be=me.propertyIsEnumerable,xe=ve(function(){return arguments}())?ve:function(e){return ge(e)&&ye.call(e,"callee")&&!be.call(e,"callee")},we=Array.isArray,Ee=function(){return!1},Se=x((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?A.Buffer:void 0,o=(i?i.isBuffer:void 0)||Ee;e.exports=o})),_e=/^(?:0|[1-9]\d*)$/,Te=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&_e.test(e))&&e>-1&&e%1==0&&e<t},ke=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Ce={};Ce["[object Float32Array]"]=Ce["[object Float64Array]"]=Ce["[object Int8Array]"]=Ce["[object Int16Array]"]=Ce["[object Int32Array]"]=Ce["[object Uint8Array]"]=Ce["[object Uint8ClampedArray]"]=Ce["[object Uint16Array]"]=Ce["[object Uint32Array]"]=!0,Ce["[object Arguments]"]=Ce["[object Array]"]=Ce["[object ArrayBuffer]"]=Ce["[object Boolean]"]=Ce["[object DataView]"]=Ce["[object Date]"]=Ce["[object Error]"]=Ce["[object Function]"]=Ce["[object Map]"]=Ce["[object Number]"]=Ce["[object Object]"]=Ce["[object RegExp]"]=Ce["[object Set]"]=Ce["[object String]"]=Ce["[object WeakMap]"]=!1;var Me=function(e){return function(t){return e(t)}},Ae=x((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&C.process,o=function(){try{return r&&r.require&&r.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o})),Ne=Ae&&Ae.isTypedArray,Pe=Ne?Me(Ne):function(e){return ge(e)&&ke(e.length)&&!!Ce[j(e)]},Ie=Object.prototype.hasOwnProperty,De=function(e,t){var n=we(e),r=!n&&xe(e),i=!n&&!r&&Se(e),o=!n&&!r&&!i&&Pe(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var l in e)!t&&!Ie.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Te(l,u))||s.push(l);return s},Oe=Object.prototype,Re=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Oe)},Le=function(e,t){return function(n){return e(t(n))}},je=Le(Object.keys,Object),Be=Object.prototype.hasOwnProperty,Fe=function(e){if(!Re(e))return je(e);var t=[];for(var n in Object(e))Be.call(e,n)&&"constructor"!=n&&t.push(n);return t},ze=function(e){return null!=e&&ke(e.length)&&!F(e)},Ye=function(e){return ze(e)?De(e):Fe(e)},Ge=Object.prototype.hasOwnProperty,Ve=function(e){if(!B(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Re(e),n=[];for(var r in e)("constructor"!=r||!t&&Ge.call(e,r))&&n.push(r);return n},Ue=function(e){return ze(e)?De(e,!0):Ve(e)},We=x((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?A.Buffer:void 0,o=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=o?o(n):new e.constructor(n);return e.copy(r),r}})),Ze=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},He=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o},Xe=function(){return[]},Ke=Object.prototype.propertyIsEnumerable,qe=Object.getOwnPropertySymbols,Je=qe?function(e){return null==e?[]:(e=Object(e),He(qe(e),(function(t){return Ke.call(e,t)})))}:Xe,$e=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Qe=Le(Object.getPrototypeOf,Object),et=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)$e(t,Je(e)),e=Qe(e);return t}:Xe,tt=function(e,t,n){var r=t(e);return we(e)?r:$e(r,n(e))},nt=function(e){return tt(e,Ye,Je)},rt=function(e){return tt(e,Ue,et)},it=J(A,"DataView"),ot=J(A,"Promise"),at=J(A,"Set"),st=J(A,"WeakMap"),ut=V(it),lt=V($),ct=V(ot),ft=V(at),dt=V(st),ht=j;(it&&"[object DataView]"!=ht(new it(new ArrayBuffer(1)))||$&&"[object Map]"!=ht(new $)||ot&&"[object Promise]"!=ht(ot.resolve())||at&&"[object Set]"!=ht(new at)||st&&"[object WeakMap]"!=ht(new st))&&(ht=function(e){var t=j(e),n="[object Object]"==t?e.constructor:void 0,r=n?V(n):"";if(r)switch(r){case ut:return"[object DataView]";case lt:return"[object Map]";case ct:return"[object Promise]";case ft:return"[object Set]";case dt:return"[object WeakMap]"}return t});var pt=ht,gt=Object.prototype.hasOwnProperty,vt=A.Uint8Array,mt=function(e){var t=new e.constructor(e.byteLength);return new vt(t).set(new vt(e)),t},yt=/\w*$/,bt=N?N.prototype:void 0,xt=bt?bt.valueOf:void 0,wt=function(e,t){var n=t?mt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Et=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return mt(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return function(e,t){var n=t?mt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return wt(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,yt.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Symbol]":return function(e){return xt?Object(xt.call(e)):{}}(e)}},St=Object.create,_t=function(){function e(){}return function(t){if(!B(t))return{};if(St)return St(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Tt=function(e){return"function"!=typeof e.constructor||Re(e)?{}:_t(Qe(e))},kt=Ae&&Ae.isMap,Ct=kt?Me(kt):function(e){return ge(e)&&"[object Map]"==pt(e)},Mt=Ae&&Ae.isSet,At=Mt?Me(Mt):function(e){return ge(e)&&"[object Set]"==pt(e)},Nt={};Nt["[object Arguments]"]=Nt["[object Array]"]=Nt["[object ArrayBuffer]"]=Nt["[object DataView]"]=Nt["[object Boolean]"]=Nt["[object Date]"]=Nt["[object Float32Array]"]=Nt["[object Float64Array]"]=Nt["[object Int8Array]"]=Nt["[object Int16Array]"]=Nt["[object Int32Array]"]=Nt["[object Map]"]=Nt["[object Number]"]=Nt["[object Object]"]=Nt["[object RegExp]"]=Nt["[object Set]"]=Nt["[object String]"]=Nt["[object Symbol]"]=Nt["[object Uint8Array]"]=Nt["[object Uint8ClampedArray]"]=Nt["[object Uint16Array]"]=Nt["[object Uint32Array]"]=!0,Nt["[object Error]"]=Nt["[object Function]"]=Nt["[object WeakMap]"]=!1;var Pt=function e(t,n,r,i,o,a){var s,u=1&n,l=2&n,c=4&n;if(r&&(s=o?r(t,i,o,a):r(t)),void 0!==s)return s;if(!B(t))return t;var f=we(t);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&gt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!u)return Ze(t,s)}else{var d=pt(t),h="[object Function]"==d||"[object GeneratorFunction]"==d;if(Se(t))return We(t,u);if("[object Object]"==d||"[object Arguments]"==d||h&&!o){if(s=l||h?{}:Tt(t),!u)return l?function(e,t){return pe(e,et(e),t)}(t,function(e,t){return e&&pe(t,Ue(t),e)}(s,t)):function(e,t){return pe(e,Je(e),t)}(t,function(e,t){return e&&pe(t,Ye(t),e)}(s,t))}else{if(!Nt[d])return o?t:{};s=Et(t,d,u)}}a||(a=new ue);var p=a.get(t);if(p)return p;a.set(t,s),At(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,a))})):Ct(t)&&t.forEach((function(i,o){s.set(o,e(i,n,r,o,t,a))}));var g=f?void 0:(c?l?rt:nt:l?Ue:Ye)(t);return le(g||t,(function(i,o){g&&(i=t[o=i]),he(s,o,e(i,n,r,o,t,a))})),s},It=function(e){return function(){return e}},Dt=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[++r];if(!1===t(i[s],s,i))break}return e},Ot=function(e,t){return e&&Dt(e,t,Ye)},Rt=function(e,t){return function(t,n){if(null==t)return t;if(!ze(t))return e(t,n);for(var r=t.length,i=-1,o=Object(t);++i<r&&!1!==n(o[i],i,o););return t}}(Ot),Lt=function(e){return e},jt=function(e){return"function"==typeof e?e:Lt},Bt=function(e,t){return(we(e)?le:Rt)(e,jt(t))},Ft=Bt,zt=function(e,t){var n=[];return Rt(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n};function Yt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ae;++t<n;)this.add(e[t])}Yt.prototype.add=Yt.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Yt.prototype.has=function(e){return this.__data__.has(e)};var Gt=Yt,Vt=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Ut=function(e,t){return e.has(t)},Wt=function(e,t,n,r,i,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(e),c=o.get(t);if(l&&c)return l==t&&c==e;var f=-1,d=!0,h=2&n?new Gt:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var p=e[f],g=t[f];if(r)var v=a?r(g,p,f,t,e,o):r(p,g,f,e,t,o);if(void 0!==v){if(v)continue;d=!1;break}if(h){if(!Vt(t,(function(e,t){if(!Ut(h,t)&&(p===e||i(p,e,n,r,o)))return h.push(t)}))){d=!1;break}}else if(p!==g&&!i(p,g,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d},Zt=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},Ht=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Xt=N?N.prototype:void 0,Kt=Xt?Xt.valueOf:void 0,qt=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new vt(e),new vt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return w(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Zt;case"[object Set]":var u=1&r;if(s||(s=Ht),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var c=Wt(s(e),s(t),r,i,o,a);return a.delete(e),c;case"[object Symbol]":if(Kt)return Kt.call(e)==Kt.call(t)}return!1},Jt=Object.prototype.hasOwnProperty,$t=Object.prototype.hasOwnProperty,Qt=function(e,t,n,r,i,o){var a=we(e),s=we(t),u=a?"[object Array]":pt(e),l=s?"[object Array]":pt(t),c="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),f="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),d=u==l;if(d&&Se(e)){if(!Se(t))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new ue),a||Pe(e)?Wt(e,t,n,r,i,o):qt(e,t,u,n,r,i,o);if(!(1&n)){var h=c&&$t.call(e,"__wrapped__"),p=f&&$t.call(t,"__wrapped__");if(h||p){var g=h?e.value():e,v=p?t.value():t;return o||(o=new ue),i(g,v,n,r,o)}}return!!d&&(o||(o=new ue),function(e,t,n,r,i,o){var a=1&n,s=nt(e),u=s.length;if(u!=nt(t).length&&!a)return!1;for(var l=u;l--;){var c=s[l];if(!(a?c in t:Jt.call(t,c)))return!1}var f=o.get(e),d=o.get(t);if(f&&d)return f==t&&d==e;var h=!0;o.set(e,t),o.set(t,e);for(var p=a;++l<u;){var g=e[c=s[l]],v=t[c];if(r)var m=a?r(v,g,c,t,e,o):r(g,v,c,e,t,o);if(!(void 0===m?g===v||i(g,v,n,r,o):m)){h=!1;break}p||(p="constructor"==c)}if(h&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,r,i,o))},en=function e(t,n,r,i,o){return t===n||(null==t||null==n||!ge(t)&&!ge(n)?t!=t&&n!=n:Qt(t,n,r,i,e,o))},tn=function(e){return e==e&&!B(e)},nn=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},rn=function(e){var t=function(e){for(var t=Ye(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,tn(i)]}return t}(e);return 1==t.length&&t[0][2]?nn(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],l=e[u],c=s[1];if(a&&s[2]){if(void 0===l&&!(u in e))return!1}else{var f=new ue;if(r)var d=r(l,c,u,e,t,f);if(!(void 0===d?en(c,l,3,r,f):d))return!1}}return!0}(n,e,t)}},on=function(e){return"symbol"==typeof e||ge(e)&&"[object Symbol]"==j(e)},an=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sn=/^\w*$/,un=function(e,t){if(we(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!on(e))||sn.test(e)||!an.test(e)||null!=t&&e in Object(t)};function ln(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ln.Cache||ae),n}ln.Cache=ae;var cn,fn=ln,dn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hn=/\\(\\)?/g,pn=function(e){var t=fn((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(dn,(function(e,n,r,i){t.push(r?i.replace(hn,"$1"):n||e)})),t}),(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}(),gn=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},vn=N?N.prototype:void 0,mn=vn?vn.toString:void 0,yn=function e(t){if("string"==typeof t)return t;if(we(t))return gn(t,e)+"";if(on(t))return mn?mn.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},bn=function(e){return null==e?"":yn(e)},xn=function(e,t){return we(e)?e:un(e,t)?[e]:pn(bn(e))},wn=function(e){if("string"==typeof e||on(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},En=function(e,t){for(var n=0,r=(t=xn(t,e)).length;null!=e&&n<r;)e=e[wn(t[n++])];return n&&n==r?e:void 0},Sn=function(e,t){return null!=e&&t in Object(e)},_n=function(e,t,n){for(var r=-1,i=(t=xn(t,e)).length,o=!1;++r<i;){var a=wn(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ke(i)&&Te(a,i)&&(we(e)||xe(e))},Tn=function(e,t){return null!=e&&_n(e,t,Sn)},kn=function(e,t){return un(e)&&tn(t)?nn(wn(e),t):function(n){var r=function(e,t,n){var r=null==e?void 0:En(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?Tn(n,e):en(t,r,3)}},Cn=function(e){return function(t){return null==t?void 0:t[e]}},Mn=function(e){return un(e)?Cn(wn(e)):function(e){return function(t){return En(t,e)}}(e)},An=function(e){return"function"==typeof e?e:null==e?Lt:"object"==typeof e?we(e)?kn(e[0],e[1]):rn(e):Mn(e)},Nn=function(e,t){return(we(e)?He:zt)(e,An(t))},Pn=Object.prototype.hasOwnProperty,In=function(e,t){return null!=e&&Pn.call(e,t)},Dn=function(e,t){return null!=e&&_n(e,t,In)},On=Object.prototype.hasOwnProperty,Rn=function(e){return void 0===e},Ln=function(e,t){var n=-1,r=ze(e)?Array(e.length):[];return Rt(e,(function(e,i,o){r[++n]=t(e,i,o)})),r},jn=function(e,t){return(we(e)?gn:Ln)(e,An(t))},Bn=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n},Fn=function(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n},zn=function(e,t,n){var r=we(e)?Bn:Fn,i=arguments.length<3;return r(e,An(t),n,i,Rt)},Yn=Cn("length"),Gn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Vn="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Un="\\ud83c[\\udffb-\\udfff]",Wn="[^\\ud800-\\udfff]",Zn="(?:\\ud83c[\\udde6-\\uddff]){2}",Hn="[\\ud800-\\udbff][\\udc00-\\udfff]",Xn="(?:"+Vn+"|"+Un+")?",Kn="[\\ufe0e\\ufe0f]?"+Xn+"(?:\\u200d(?:"+[Wn,Zn,Hn].join("|")+")[\\ufe0e\\ufe0f]?"+Xn+")*",qn="(?:"+[Wn+Vn+"?",Vn,Zn,Hn,"[\\ud800-\\udfff]"].join("|")+")",Jn=RegExp(Un+"(?="+Un+")|"+qn+Kn,"g"),$n=function(e){return function(e){return Gn.test(e)}(e)?function(e){for(var t=Jn.lastIndex=0;Jn.test(e);)++t;return t}(e):Yn(e)},Qn=N?N.isConcatSpreadable:void 0,er=function(e){return we(e)||xe(e)||!!(Qn&&e&&e[Qn])},tr=function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=er),o||(o=[]);++a<s;){var u=t[a];n>0&&r(u)?n>1?e(u,n-1,r,i,o):$e(o,u):i||(o[o.length]=u)}return o},nr=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},rr=Math.max,ir=function(e,t,n){return t=rr(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=rr(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),nr(e,this,s)}},or=ce?function(e,t){return ce(e,"toString",{configurable:!0,enumerable:!1,value:It(t),writable:!0})}:Lt,ar=Date.now,sr=function(e){var t=0,n=0;return function(){var r=ar(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(or),ur=function(e,t){return sr(ir(e,t,Lt),e+"")},lr=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1},cr=function(e){return e!=e},fr=function(e,t){return!(null==e||!e.length)&&function(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):lr(e,cr,n)}(e,t,0)>-1},dr=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1},hr=at&&1/Ht(new at([,-0]))[1]==1/0?function(e){return new at(e)}:function(){},pr=function(e){return ge(e)&&ze(e)},gr=ur((function(e){return function(e,t,n){var r=-1,i=fr,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=dr;else if(o>=200){var l=t?null:hr(e);if(l)return Ht(l);a=!1,i=Ut,u=new Gt}else u=t?[]:s;e:for(;++r<o;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,a&&f==f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),s.push(c)}else i(u,f,n)||(u!==s&&u.push(f),s.push(c))}return s}(tr(e,1,pr,!0))})),vr=function(e){return null==e?[]:function(e,t){return gn(t,(function(t){return e[t]}))}(e,Ye(e))};try{cn={clone:function(e){return Pt(e,4)},constant:It,each:Ft,filter:Nn,has:Dn,isArray:we,isEmpty:function(e){if(null==e)return!0;if(ze(e)&&(we(e)||"string"==typeof e||"function"==typeof e.splice||Se(e)||Pe(e)||xe(e)))return!e.length;var t=pt(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Re(e))return!Fe(e).length;for(var n in e)if(On.call(e,n))return!1;return!0},isFunction:F,isUndefined:Rn,keys:Ye,map:jn,reduce:zn,size:function(e){if(null==e)return 0;if(ze(e))return function(e){return"string"==typeof e||!we(e)&&ge(e)&&"[object String]"==j(e)}(e)?$n(e):e.length;var t=pt(e);return"[object Map]"==t||"[object Set]"==t?e.size:Fe(e).length},transform:function(e,t,n){var r=we(e),i=r||Se(e)||Pe(e);if(t=An(t),null==n){var o=e&&e.constructor;n=i?r?new o:[]:B(e)&&F(o)?_t(Qe(e)):{}}return(i?le:Ot)(e,(function(e,r,i){return t(n,e,r,i)})),n},union:gr,values:vr}}catch(c){}cn||(cn=window._);var mr=cn,yr=br;function br(e){this._isDirected=!mr.has(e,"directed")||e.directed,this._isMultigraph=!!mr.has(e,"multigraph")&&e.multigraph,this._isCompound=!!mr.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=mr.constant(void 0),this._defaultEdgeLabelFn=mr.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function xr(e,t){e[t]?e[t]++:e[t]=1}function wr(e,t){--e[t]||delete e[t]}function Er(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}return i+"\x01"+o+"\x01"+(mr.isUndefined(r)?"\0":r)}function Sr(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return r&&(s.name=r),s}function _r(e,t){return Er(e,t.v,t.w,t.name)}br.prototype._nodeCount=0,br.prototype._edgeCount=0,br.prototype.isDirected=function(){return this._isDirected},br.prototype.isMultigraph=function(){return this._isMultigraph},br.prototype.isCompound=function(){return this._isCompound},br.prototype.setGraph=function(e){return this._label=e,this},br.prototype.graph=function(){return this._label},br.prototype.setDefaultNodeLabel=function(e){return mr.isFunction(e)||(e=mr.constant(e)),this._defaultNodeLabelFn=e,this},br.prototype.nodeCount=function(){return this._nodeCount},br.prototype.nodes=function(){return mr.keys(this._nodes)},br.prototype.sources=function(){var e=this;return mr.filter(this.nodes(),(function(t){return mr.isEmpty(e._in[t])}))},br.prototype.sinks=function(){var e=this;return mr.filter(this.nodes(),(function(t){return mr.isEmpty(e._out[t])}))},br.prototype.setNodes=function(e,t){var n=arguments,r=this;return mr.each(e,(function(e){n.length>1?r.setNode(e,t):r.setNode(e)})),this},br.prototype.setNode=function(e,t){return mr.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]="\0",this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},br.prototype.node=function(e){return this._nodes[e]},br.prototype.hasNode=function(e){return mr.has(this._nodes,e)},br.prototype.removeNode=function(e){var t=this;if(mr.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],mr.each(this.children(e),(function(e){t.setParent(e)})),delete this._children[e]),mr.each(mr.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],mr.each(mr.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},br.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(mr.isUndefined(t))t="\0";else{for(var n=t+="";!mr.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},br.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},br.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if("\0"!==t)return t}},br.prototype.children=function(e){if(mr.isUndefined(e)&&(e="\0"),this._isCompound){var t=this._children[e];if(t)return mr.keys(t)}else{if("\0"===e)return this.nodes();if(this.hasNode(e))return[]}},br.prototype.predecessors=function(e){var t=this._preds[e];if(t)return mr.keys(t)},br.prototype.successors=function(e){var t=this._sucs[e];if(t)return mr.keys(t)},br.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return mr.union(t,this.successors(e))},br.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},br.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;mr.each(this._nodes,(function(n,r){e(r)&&t.setNode(r,n)})),mr.each(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))}));var r={};function i(e){var o=n.parent(e);return void 0===o||t.hasNode(o)?(r[e]=o,o):o in r?r[o]:i(o)}return this._isCompound&&mr.each(t.nodes(),(function(e){t.setParent(e,i(e))})),t},br.prototype.setDefaultEdgeLabel=function(e){return mr.isFunction(e)||(e=mr.constant(e)),this._defaultEdgeLabelFn=e,this},br.prototype.edgeCount=function(){return this._edgeCount},br.prototype.edges=function(){return mr.values(this._edgeObjs)},br.prototype.setPath=function(e,t){var n=this,r=arguments;return mr.reduce(e,(function(e,i){return r.length>1?n.setEdge(e,i,t):n.setEdge(e,i),i})),this},br.prototype.setEdge=function(){var e,t,n,r,i=!1,o=arguments[0];"object"==typeof o&&null!==o&&"v"in o?(e=o.v,t=o.w,n=o.name,2===arguments.length&&(r=arguments[1],i=!0)):(e=o,t=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),e=""+e,t=""+t,mr.isUndefined(n)||(n=""+n);var a=Er(this._isDirected,e,t,n);if(mr.has(this._edgeLabels,a))return i&&(this._edgeLabels[a]=r),this;if(!mr.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[a]=i?r:this._defaultEdgeLabelFn(e,t,n);var s=Sr(this._isDirected,e,t,n);return e=s.v,t=s.w,Object.freeze(s),this._edgeObjs[a]=s,xr(this._preds[t],e),xr(this._sucs[e],t),this._in[t][a]=s,this._out[e][a]=s,this._edgeCount++,this},br.prototype.edge=function(e,t,n){var r=1===arguments.length?_r(this._isDirected,arguments[0]):Er(this._isDirected,e,t,n);return this._edgeLabels[r]},br.prototype.hasEdge=function(e,t,n){var r=1===arguments.length?_r(this._isDirected,arguments[0]):Er(this._isDirected,e,t,n);return mr.has(this._edgeLabels,r)},br.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?_r(this._isDirected,arguments[0]):Er(this._isDirected,e,t,n),i=this._edgeObjs[r];return i&&(e=i.v,t=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],wr(this._preds[t],e),wr(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},br.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var r=mr.values(n);return t?mr.filter(r,(function(e){return e.v===t})):r}},br.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var r=mr.values(n);return t?mr.filter(r,(function(e){return e.w===t})):r}},br.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))};var Tr={Graph:yr,version:"2.1.8"},kr={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:Cr(e),edges:Mr(e)};return mr.isUndefined(e.graph())||(t.value=mr.clone(e.graph())),t},read:function(e){var t=new yr(e.options).setGraph(e.value);return mr.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),mr.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}};function Cr(e){return mr.map(e.nodes(),(function(t){var n=e.node(t),r=e.parent(t),i={v:t};return mr.isUndefined(n)||(i.value=n),mr.isUndefined(r)||(i.parent=r),i}))}function Mr(e){return mr.map(e.edges(),(function(t){var n=e.edge(t),r={v:t.v,w:t.w};return mr.isUndefined(t.name)||(r.name=t.name),mr.isUndefined(n)||(r.value=n),r}))}var Ar=Nr;function Nr(){this._arr=[],this._keyIndices={}}Nr.prototype.size=function(){return this._arr.length},Nr.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},Nr.prototype.has=function(e){return mr.has(this._keyIndices,e)},Nr.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},Nr.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},Nr.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!mr.has(n,e)){var r=this._arr,i=r.length;return n[e]=i,r.push({key:e,priority:t}),this._decrease(i),!0}return!1},Nr.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},Nr.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},Nr.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,i=e;n<t.length&&(i=t[n].priority<t[i].priority?n:i,r<t.length&&(i=t[r].priority<t[i].priority?r:i),i!==e&&(this._swap(e,i),this._heapify(i)))},Nr.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},Nr.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,i=n[e],o=n[t];n[e]=o,n[t]=i,r[o.key]=e,r[i.key]=t};var Pr=function(e,t,n,r){return function(e,t,n,r){var i,o,a={},s=new Ar,u=function(e){var t=e.v!==i?e.v:e.w,r=a[t],u=n(e),l=o.distance+u;if(u<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+u);l<r.distance&&(r.distance=l,r.predecessor=i,s.decrease(t,l))};for(e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;a[e]={distance:n},s.add(e,n)}));s.size()>0&&(i=s.removeMin(),(o=a[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(u);return a}(e,String(t),n||Ir,r||function(t){return e.outEdges(t)})},Ir=mr.constant(1),Dr=function(e){var t=0,n=[],r={},i=[];function o(a){var s=r[a]={onStack:!0,lowlink:t,index:t++};if(n.push(a),e.successors(a).forEach((function(e){mr.has(r,e)?r[e].onStack&&(s.lowlink=Math.min(s.lowlink,r[e].index)):(o(e),s.lowlink=Math.min(s.lowlink,r[e].lowlink))})),s.lowlink===s.index){var u,l=[];do{u=n.pop(),r[u].onStack=!1,l.push(u)}while(a!==u);i.push(l)}}return e.nodes().forEach((function(e){mr.has(r,e)||o(e)})),i},Or=mr.constant(1),Rr=Lr;function Lr(e){var t={},n={},r=[];if(mr.each(e.sinks(),(function i(o){if(mr.has(n,o))throw new jr;mr.has(t,o)||(n[o]=!0,t[o]=!0,mr.each(e.predecessors(o),i),delete n[o],r.push(o))})),mr.size(t)!==e.nodeCount())throw new jr;return r}function jr(){}Lr.CycleException=jr,jr.prototype=new Error;var Br=function(e,t,n){mr.isArray(t)||(t=[t]);var r=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],o={};return mr.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);Fr(e,t,"post"===n,o,r,i)})),i};function Fr(e,t,n,r,i,o){mr.has(r,t)||(r[t]=!0,n||o.push(t),mr.each(i(t),(function(t){Fr(e,t,n,r,i,o)})),n&&o.push(t))}var zr,Yr={Graph:Tr.Graph,json:kr,alg:{components:function(e){var t,n={},r=[];function i(r){mr.has(n,r)||(n[r]=!0,t.push(r),mr.each(e.successors(r),i),mr.each(e.predecessors(r),i))}return mr.each(e.nodes(),(function(e){t=[],i(e),t.length&&r.push(t)})),r},dijkstra:Pr,dijkstraAll:function(e,t,n){return mr.transform(e.nodes(),(function(r,i){r[i]=Pr(e,i,t,n)}),{})},findCycles:function(e){return mr.filter(Dr(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))},floydWarshall:function(e,t,n){return function(e,t,n){var r={},i=e.nodes();return i.forEach((function(e){r[e]={},r[e][e]={distance:0},i.forEach((function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var i=n.v===e?n.w:n.v,o=t(n);r[e][i]={distance:o,predecessor:e}}))})),i.forEach((function(e){var t=r[e];i.forEach((function(n){var o=r[n];i.forEach((function(n){var r=o[e],i=t[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)}))}))})),r}(e,t||Or,n||function(t){return e.outEdges(t)})},isAcyclic:function(e){try{Rr(e)}catch(e){if(e instanceof Rr.CycleException)return!1;throw e}return!0},postorder:function(e,t){return Br(e,t,"post")},preorder:function(e,t){return Br(e,t,"pre")},prim:function(e,t){var n,r=new yr,i={},o=new Ar;function a(e){var r=e.v===n?e.w:e.v,a=o.priority(r);if(void 0!==a){var s=t(e);s<a&&(i[r]=n,o.decrease(r,s))}}if(0===e.nodeCount())return r;mr.each(e.nodes(),(function(e){o.add(e,Number.POSITIVE_INFINITY),r.setNode(e)})),o.decrease(e.nodes()[0],0);for(var s=!1;o.size()>0;){if(n=o.removeMin(),mr.has(i,n))r.setEdge(n,i[n]);else{if(s)throw new Error("Input graph is not connected: "+e);s=!0}e.nodeEdges(n).forEach(a)}return r},tarjan:Dr,topsort:Rr},version:Tr.version};try{zr=Yr}catch(c){}zr||(zr=window.graphlib);var Gr,Vr=zr,Ur=function(e,t,n){if(!B(n))return!1;var r=typeof t;return!!("number"==r?ze(n)&&Te(t,n.length):"string"==r&&t in n)&&w(n[t],e)},Wr=Object.prototype,Zr=Wr.hasOwnProperty,Hr=ur((function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&Ur(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=Ue(o),s=-1,u=a.length;++s<u;){var l=a[s],c=e[l];(void 0===c||w(c,Wr[l])&&!Zr.call(e,l))&&(e[l]=o[l])}return e})),Xr=/^\s+|\s+$/g,Kr=/^[-+]0x[0-9a-f]+$/i,qr=/^0b[01]+$/i,Jr=/^0o[0-7]+$/i,$r=parseInt,Qr=function(e){return e?1/0===(e=function(e){if("number"==typeof e)return e;if(on(e))return NaN;if(B(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=B(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Xr,"");var n=qr.test(e);return n||Jr.test(e)?$r(e.slice(2),n?2:8):Kr.test(e)?NaN:+e}(e))||-1/0===e?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},ei=Math.max,ti=function(e){return function(t,n,r){var i=Object(t);if(!ze(t)){var o=An(n);t=Ye(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}((function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:function(e){var t=Qr(e),n=t%1;return t==t?n?t-n:t:0}(n);return i<0&&(i=ei(r+i,0)),lr(e,An(t),i)})),ni=function(e){return null!=e&&e.length?tr(e,1):[]},ri=function(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a==a&&!on(a):n(a,s)))var s=a,u=o}return u},ii=function(e,t){return e>t},oi=function(e,t,n){(void 0!==n&&!w(e[t],n)||void 0===n&&!(t in e))&&fe(e,t,n)},ai=Function.prototype,si=Object.prototype,ui=ai.toString,li=si.hasOwnProperty,ci=ui.call(Object),fi=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},di=function(e,t,n,r,i,o,a){var s=fi(e,n),u=fi(t,n),l=a.get(u);if(l)oi(e,n,l);else{var c=o?o(s,u,n+"",e,t,a):void 0,f=void 0===c;if(f){var d=we(u),h=!d&&Se(u),p=!d&&!h&&Pe(u);c=u,d||h||p?we(s)?c=s:pr(s)?c=Ze(s):h?(f=!1,c=We(u,!0)):p?(f=!1,c=wt(u,!0)):c=[]:function(e){if(!ge(e)||"[object Object]"!=j(e))return!1;var t=Qe(e);if(null===t)return!0;var n=li.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ui.call(n)==ci}(u)||xe(u)?(c=s,xe(s)?c=function(e){return pe(e,Ue(e))}(s):B(s)&&!F(s)||(c=Tt(u))):f=!1}f&&(a.set(u,c),i(c,u,r,o,a),a.delete(u)),oi(e,n,c)}},hi=function e(t,n,r,i,o){t!==n&&Dt(n,(function(a,s){if(o||(o=new ue),B(a))di(t,n,s,r,e,i,o);else{var u=i?i(fi(t,s),a,s+"",t,n,o):void 0;void 0===u&&(u=a),oi(t,s,u)}}),Ue)},pi=function(e){return ur((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&Ur(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r)}return t}))}((function(e,t,n){hi(e,t,n)})),gi=function(e,t){return e<t},vi=function(e,t,n,r){if(!B(e))return e;for(var i=-1,o=(t=xn(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var u=wn(t[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=a){var c=s[u];void 0===(l=r?r(c,u,s):void 0)&&(l=B(c)?c:Te(t[i+1])?[]:{})}he(s,u,l),s=s[u]}return e},mi=function(e,t){return function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=En(e,a);n(s,a)&&vi(o,xn(a,e),s)}return o}(e,t,(function(t,n){return Tn(e,n)}))},yi=function(e){return sr(ir(e,void 0,ni),e+"")}((function(e,t){return null==e?{}:mi(e,t)})),bi=Math.ceil,xi=Math.max,wi=function(e,t,n){return n&&"number"!=typeof n&&Ur(e,t,n)&&(t=n=void 0),e=Qr(e),void 0===t?(t=e,e=0):t=Qr(t),function(e,t,n,r){for(var i=-1,o=xi(bi((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}(e,t,n=void 0===n?e<t?1:-1:Qr(n),void 0)},Ei=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=on(e),a=void 0!==t,s=null===t,u=t==t,l=on(t);if(!s&&!l&&!o&&e>t||o&&a&&u&&!s&&!l||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&e<t||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0},Si=function(e,t,n){t=t.length?gn(t,(function(e){return we(e)?function(t){return En(t,1===e.length?e[0]:e)}:e})):[Lt];var r=-1;t=gn(t,Me(An));var i=Ln(e,(function(e,n,i){return{criteria:gn(t,(function(t){return t(e)})),index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var u=Ei(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))},_i=ur((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Ur(e,t[0],t[1])?t=[]:n>2&&Ur(t[0],t[1],t[2])&&(t=[t[0]]),Si(e,tr(t,1),[])})),Ti=0;try{Gr={cloneDeep:function(e){return Pt(e,5)},constant:It,defaults:Hr,each:Ft,filter:Nn,find:ti,flatten:ni,forEach:Bt,forIn:function(e,t){return null==e?e:Dt(e,jt(t),Ue)},has:Dn,isUndefined:Rn,last:function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},map:jn,mapValues:function(e,t){var n={};return t=An(t),Ot(e,(function(e,r,i){fe(n,r,t(e,r,i))})),n},max:function(e){return e&&e.length?ri(e,Lt,ii):void 0},merge:pi,min:function(e){return e&&e.length?ri(e,Lt,gi):void 0},minBy:function(e,t){return e&&e.length?ri(e,An(t),gi):void 0},now:function(){return A.Date.now()},pick:yi,range:wi,reduce:zn,sortBy:_i,uniqueId:function(e){var t=++Ti;return bn(e)+t},values:vr,zipObject:function(e,t){return function(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:void 0;n(a,e[r],s)}return a}(e||[],t||[],he)}}}catch(c){}Gr||(Gr=window._);var ki=Gr,Ci=Mi;function Mi(){var e={};e._next=e._prev=e,this._sentinel=e}function Ai(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function Ni(e,t){if("_next"!==e&&"_prev"!==e)return t}Mi.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return Ai(t),t},Mi.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&Ai(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},Mi.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,Ni)),n=n._prev;return"["+e.join(", ")+"]"};var Pi=Vr.Graph,Ii=ki.constant(1);function Di(e,t,n,r,i){var o=i?[]:void 0;return ki.forEach(e.inEdges(r.v),(function(r){var a=e.edge(r),s=e.node(r.v);i&&o.push({v:r.v,w:r.w}),s.out-=a,Oi(t,n,s)})),ki.forEach(e.outEdges(r.v),(function(r){var i=e.edge(r),o=r.w,a=e.node(o);a.in-=i,Oi(t,n,a)})),e.removeNode(r.v),o}function Oi(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var Ri=function(e){var t="greedy"===e.graph().acyclicer?function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new Pi,r=0,i=0;ki.forEach(e.nodes(),(function(e){n.setNode(e,{v:e,in:0,out:0})})),ki.forEach(e.edges(),(function(e){var o=n.edge(e.v,e.w)||0,a=t(e),s=o+a;n.setEdge(e.v,e.w,s),i=Math.max(i,n.node(e.v).out+=a),r=Math.max(r,n.node(e.w).in+=a)}));var o=ki.range(i+r+3).map((function(){return new Ci})),a=r+1;return ki.forEach(n.nodes(),(function(e){Oi(o,a,n.node(e))})),{graph:n,buckets:o,zeroIdx:a}}(e,t||Ii),r=function(e,t,n){for(var r,i=[],o=t[t.length-1],a=t[0];e.nodeCount();){for(;r=a.dequeue();)Di(e,t,n,r);for(;r=o.dequeue();)Di(e,t,n,r);if(e.nodeCount())for(var s=t.length-2;s>0;--s)if(r=t[s].dequeue()){i=i.concat(Di(e,t,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return ki.flatten(ki.map(r,(function(t){return e.outEdges(t.v,t.w)})),!0)}(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},r={};return ki.forEach(e.nodes(),(function i(o){ki.has(r,o)||(r[o]=!0,n[o]=!0,ki.forEach(e.outEdges(o),(function(e){ki.has(n,e.w)?t.push(e):i(e.w)})),delete n[o])})),t}(e);ki.forEach(t,(function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,ki.uniqueId("rev"))}))},Li=function(e){ki.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}}))},ji=Vr.Graph,Bi={addDummyNode:Fi,simplify:function(e){var t=(new ji).setGraph(e.graph());return ki.forEach(e.nodes(),(function(n){t.setNode(n,e.node(n))})),ki.forEach(e.edges(),(function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})})),t},asNonCompoundGraph:function(e){var t=new ji({multigraph:e.isMultigraph()}).setGraph(e.graph());return ki.forEach(e.nodes(),(function(n){e.children(n).length||t.setNode(n,e.node(n))})),ki.forEach(e.edges(),(function(n){t.setEdge(n,e.edge(n))})),t},successorWeights:function(e){var t=ki.map(e.nodes(),(function(t){var n={};return ki.forEach(e.outEdges(t),(function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight})),n}));return ki.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=ki.map(e.nodes(),(function(t){var n={};return ki.forEach(e.inEdges(t),(function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight})),n}));return ki.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,r,i=e.x,o=e.y,a=t.x-i,s=t.y-o,u=e.width/2,l=e.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*u>Math.abs(a)*l?(s<0&&(l=-l),n=l*a/s,r=l):(a<0&&(u=-u),n=u,r=u*s/a),{x:i+n,y:o+r}},buildLayerMatrix:function(e){var t=ki.map(ki.range(zi(e)+1),(function(){return[]}));return ki.forEach(e.nodes(),(function(n){var r=e.node(n),i=r.rank;ki.isUndefined(i)||(t[i][r.order]=n)})),t},normalizeRanks:function(e){var t=ki.min(ki.map(e.nodes(),(function(t){return e.node(t).rank})));ki.forEach(e.nodes(),(function(n){var r=e.node(n);ki.has(r,"rank")&&(r.rank-=t)}))},removeEmptyRanks:function(e){var t=ki.min(ki.map(e.nodes(),(function(t){return e.node(t).rank}))),n=[];ki.forEach(e.nodes(),(function(r){var i=e.node(r).rank-t;n[i]||(n[i]=[]),n[i].push(r)}));var r=0,i=e.graph().nodeRankFactor;ki.forEach(n,(function(t,n){ki.isUndefined(t)&&n%i!=0?--r:r&&ki.forEach(t,(function(t){e.node(t).rank+=r}))}))},addBorderNode:function(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),Fi(e,"border",i,t)},maxRank:zi,partition:function(e,t){var n={lhs:[],rhs:[]};return ki.forEach(e,(function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n},time:function(e,t){var n=ki.now();try{return t()}finally{console.log(e+" time: "+(ki.now()-n)+"ms")}},notime:function(e,t){return t()}};function Fi(e,t,n,r){var i;do{i=ki.uniqueId(r)}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function zi(e){return ki.max(ki.map(e.nodes(),(function(t){var n=e.node(t).rank;if(!ki.isUndefined(n))return n})))}var Yi=function(e){e.graph().dummyChains=[],ki.forEach(e.edges(),(function(t){!function(e,t){var n,r,i,o=t.v,a=e.node(o).rank,s=t.w,u=e.node(s).rank,l=t.name,c=e.edge(t),f=c.labelRank;if(u!==a+1){for(e.removeEdge(t),i=0,++a;a<u;++i,++a)c.points=[],r={width:0,height:0,edgeLabel:c,edgeObj:t,rank:a},n=Bi.addDummyNode(e,"edge",r,"_d"),a===f&&(r.width=c.width,r.height=c.height,r.dummy="edge-label",r.labelpos=c.labelpos),e.setEdge(o,n,{weight:c.weight},l),0===i&&e.graph().dummyChains.push(n),o=n;e.setEdge(o,s,{weight:c.weight},l)}}(e,t)}))},Gi=function(e){ki.forEach(e.graph().dummyChains,(function(t){var n,r=e.node(t),i=r.edgeLabel;for(e.setEdge(r.edgeObj,i);r.dummy;)n=e.successors(t)[0],e.removeNode(t),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),t=n,r=e.node(t)}))},Vi=function(e){var t={};ki.forEach(e.sources(),(function n(r){var i=e.node(r);if(ki.has(t,r))return i.rank;t[r]=!0;var o=ki.min(ki.map(e.outEdges(r),(function(t){return n(t.w)-e.edge(t).minlen})));return o!==Number.POSITIVE_INFINITY&&null!=o||(o=0),i.rank=o}))},Ui=function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen},Wi=Vr.Graph,Zi=Ui,Hi=function(e){var t,n,r=new Wi({directed:!1}),i=e.nodes()[0],o=e.nodeCount();for(r.setNode(i,{});Xi(r,e)<o;)t=Ki(r,e),n=r.hasNode(t.v)?Zi(e,t):-Zi(e,t),qi(r,e,n);return r};function Xi(e,t){return ki.forEach(e.nodes(),(function n(r){ki.forEach(t.nodeEdges(r),(function(i){var o=i.v,a=r===o?i.w:o;e.hasNode(a)||Zi(t,i)||(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))}))})),e.nodeCount()}function Ki(e,t){return ki.minBy(t.edges(),(function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Zi(t,n)}))}function qi(e,t,n){ki.forEach(e.nodes(),(function(e){t.node(e).rank+=n}))}var Ji=Ui,$i=Vi,Qi=Vr.alg.preorder,eo=Vr.alg.postorder,to=Bi.simplify,no=ro;function ro(e){e=to(e),$i(e);var t,n=Hi(e);for(ao(n),io(n,e);t=uo(n);)co(n,e,t,lo(n,e,t))}function io(e,t){var n=eo(e,e.nodes());n=n.slice(0,n.length-1),ki.forEach(n,(function(n){!function(e,t,n){var r=e.node(n).parent;e.edge(n,r).cutvalue=oo(e,t,n)}(e,t,n)}))}function oo(e,t,n){var r=e.node(n).parent,i=!0,o=t.edge(n,r),a=0;return o||(i=!1,o=t.edge(r,n)),a=o.weight,ki.forEach(t.nodeEdges(n),(function(o){var s,u,l=o.v===n,c=l?o.w:o.v;if(c!==r){var f=l===i,d=t.edge(o).weight;if(a+=f?d:-d,s=n,u=c,e.hasEdge(s,u)){var h=e.edge(n,c).cutvalue;a+=f?-h:h}}})),a}function ao(e,t){arguments.length<2&&(t=e.nodes()[0]),so(e,{},1,t)}function so(e,t,n,r,i){var o=n,a=e.node(r);return t[r]=!0,ki.forEach(e.neighbors(r),(function(i){ki.has(t,i)||(n=so(e,t,n,i,r))})),a.low=o,a.lim=n++,i?a.parent=i:delete a.parent,n}function uo(e){return ki.find(e.edges(),(function(t){return e.edge(t).cutvalue<0}))}function lo(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),a=e.node(i),s=o,u=!1;o.lim>a.lim&&(s=a,u=!0);var l=ki.filter(t.edges(),(function(t){return u===fo(e,e.node(t.v),s)&&u!==fo(e,e.node(t.w),s)}));return ki.minBy(l,(function(e){return Ji(t,e)}))}function co(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),ao(e),io(e,t),function(e,t){var n=ki.find(e.nodes(),(function(e){return!t.node(e).parent})),r=Qi(e,n);r=r.slice(1),ki.forEach(r,(function(n){var r=e.node(n).parent,i=t.edge(n,r),o=!1;i||(i=t.edge(r,n),o=!0),t.node(n).rank=t.node(r).rank+(o?i.minlen:-i.minlen)}))}(e,t)}function fo(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}ro.initLowLimValues=ao,ro.initCutValues=io,ro.calcCutValue=oo,ro.leaveEdge=uo,ro.enterEdge=lo,ro.exchangeEdges=co;var ho=Vi,po=ho;function go(e){no(e)}var vo=function(e){var t=Bi.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&ki.forEach(o,(function(e){n(e,i+1)})),t[r]=i}return ki.forEach(e.children(),(function(e){n(e,1)})),t}(e),r=ki.max(ki.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,ki.forEach(e.edges(),(function(t){e.edge(t).minlen*=i}));var o=function(e){return ki.reduce(e.edges(),(function(t,n){return t+e.edge(n).weight}),0)}(e)+1;ki.forEach(e.children(),(function(a){yo(e,t,i,o,r,n,a)})),e.graph().nodeRankFactor=i},mo=function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,ki.forEach(e.edges(),(function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))};function yo(e,t,n,r,i,o,a){var s=e.children(a);if(s.length){var u=Bi.addBorderNode(e,"_bt"),l=Bi.addBorderNode(e,"_bb"),c=e.node(a);e.setParent(u,a),c.borderTop=u,e.setParent(l,a),c.borderBottom=l,ki.forEach(s,(function(s){yo(e,t,n,r,i,o,s);var c=e.node(s),f=c.borderTop?c.borderTop:s,d=c.borderBottom?c.borderBottom:s,h=c.borderTop?r:2*r,p=f!==d?1:i-o[a]+1;e.setEdge(u,f,{weight:h,minlen:p,nestingEdge:!0}),e.setEdge(d,l,{weight:h,minlen:p,nestingEdge:!0})})),e.parent(a)||e.setEdge(t,u,{weight:0,minlen:i+o[a]})}else a!==t&&e.setEdge(t,a,{weight:0,minlen:n})}function bo(e,t,n,r,i,o){var a={width:0,height:0,rank:o,borderType:t},s=i[t][o-1],u=Bi.addDummyNode(e,"border",a,n);i[t][o]=u,e.setParent(u,r),s&&e.setEdge(s,u,{weight:1})}var xo=function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||Eo(e)},wo=function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){ki.forEach(e.nodes(),(function(t){_o(e.node(t))})),ki.forEach(e.edges(),(function(t){var n=e.edge(t);ki.forEach(n.points,_o),ki.has(n,"y")&&_o(n)}))}(e),"lr"!==t&&"rl"!==t||(function(e){ki.forEach(e.nodes(),(function(t){To(e.node(t))})),ki.forEach(e.edges(),(function(t){var n=e.edge(t);ki.forEach(n.points,To),ki.has(n,"x")&&To(n)}))}(e),Eo(e))};function Eo(e){ki.forEach(e.nodes(),(function(t){So(e.node(t))})),ki.forEach(e.edges(),(function(t){So(e.edge(t))}))}function So(e){var t=e.width;e.width=e.height,e.height=t}function _o(e){e.y=-e.y}function To(e){var t=e.x;e.x=e.y,e.y=t}var ko=function(e,t){for(var n=0,r=1;r<t.length;++r)n+=Co(e,t[r-1],t[r]);return n};function Co(e,t,n){for(var r=ki.zipObject(n,ki.map(n,(function(e,t){return t}))),i=ki.flatten(ki.map(t,(function(t){return ki.sortBy(ki.map(e.outEdges(t),(function(t){return{pos:r[t.w],weight:e.edge(t).weight}})),"pos")})),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=ki.map(new Array(a),(function(){return 0})),u=0;return ki.forEach(i.forEach((function(e){var t=e.pos+o;s[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=s[t+1]),s[t=t-1>>1]+=e.weight;u+=e.weight*n}))),u}function Mo(e,t,n){for(var r;t.length&&(r=ki.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}var Ao=function e(t,n,r,i){var o=t.children(n),a=t.node(n),s=a?a.borderLeft:void 0,u=a?a.borderRight:void 0,l={};s&&(o=ki.filter(o,(function(e){return e!==s&&e!==u})));var c=function(e,t){return ki.map(t,(function(t){var n=e.inEdges(t);if(n.length){var r=ki.reduce(n,(function(t,n){var r=e.edge(n),i=e.node(n.v);return{sum:t.sum+r.weight*i.order,weight:t.weight+r.weight}}),{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}}))}(t,o);ki.forEach(c,(function(n){if(t.children(n.v).length){var o=e(t,n.v,r,i);l[n.v]=o,ki.has(o,"barycenter")&&(a=n,s=o,ki.isUndefined(a.barycenter)?(a.barycenter=s.barycenter,a.weight=s.weight):(a.barycenter=(a.barycenter*a.weight+s.barycenter*s.weight)/(a.weight+s.weight),a.weight+=s.weight))}var a,s}));var f=function(e,t){var n={};return ki.forEach(e,(function(e,t){var r=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};ki.isUndefined(e.barycenter)||(r.barycenter=e.barycenter,r.weight=e.weight)})),ki.forEach(t.edges(),(function(e){var t=n[e.v],r=n[e.w];ki.isUndefined(t)||ki.isUndefined(r)||(r.indegree++,t.out.push(n[e.w]))})),function(e){var t=[];function n(e){return function(t){t.merged||(ki.isUndefined(t.barycenter)||ki.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function r(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}for(;e.length;){var i=e.pop();t.push(i),ki.forEach(i.in.reverse(),n(i)),ki.forEach(i.out,r(i))}return ki.map(ki.filter(t,(function(e){return!e.merged})),(function(e){return ki.pick(e,["vs","i","barycenter","weight"])}))}(ki.filter(n,(function(e){return!e.indegree})))}(c,r);!function(e,t){ki.forEach(e,(function(e){e.vs=ki.flatten(e.vs.map((function(e){return t[e]?t[e].vs:e})),!0)}))}(f,l);var d=function(e,t){var n,r=Bi.partition(e,(function(e){return ki.has(e,"barycenter")})),i=r.lhs,o=ki.sortBy(r.rhs,(function(e){return-e.i})),a=[],s=0,u=0,l=0;i.sort((n=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:n?t.i-e.i:e.i-t.i})),l=Mo(a,o,l),ki.forEach(i,(function(e){l+=e.vs.length,a.push(e.vs),s+=e.barycenter*e.weight,u+=e.weight,l=Mo(a,o,l)}));var c={vs:ki.flatten(a,!0)};return u&&(c.barycenter=s/u,c.weight=u),c}(f,i);if(s&&(d.vs=ki.flatten([s,d.vs,u],!0),t.predecessors(s).length)){var h=t.node(t.predecessors(s)[0]),p=t.node(t.predecessors(u)[0]);ki.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+h.order+p.order)/(d.weight+2),d.weight+=2}return d},No=Vr.Graph,Po=Vr.Graph,Io=function(e){var t=Bi.maxRank(e),n=Do(e,ki.range(1,t+1),"inEdges"),r=Do(e,ki.range(t-1,-1,-1),"outEdges"),i=function(e){var t={},n=ki.filter(e.nodes(),(function(t){return!e.children(t).length})),r=ki.max(ki.map(n,(function(t){return e.node(t).rank}))),i=ki.map(ki.range(r+1),(function(){return[]})),o=ki.sortBy(n,(function(t){return e.node(t).rank}));return ki.forEach(o,(function n(r){if(!ki.has(t,r)){t[r]=!0;var o=e.node(r);i[o.rank].push(r),ki.forEach(e.successors(r),n)}})),i}(e);Ro(e,i);for(var o,a=Number.POSITIVE_INFINITY,s=0,u=0;u<4;++s,++u){Oo(s%2?n:r,s%4>=2),i=Bi.buildLayerMatrix(e);var l=ko(e,i);l<a&&(u=0,o=ki.cloneDeep(i),a=l)}Ro(e,o)};function Do(e,t,n){return ki.map(t,(function(t){return function(e,t,n){var r=function(e){for(var t;e.hasNode(t=ki.uniqueId("_root")););return t}(e),i=new No({compound:!0}).setGraph({root:r}).setDefaultNodeLabel((function(t){return e.node(t)}));return ki.forEach(e.nodes(),(function(o){var a=e.node(o),s=e.parent(o);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),ki.forEach(e[n](o),(function(t){var n=t.v===o?t.w:t.v,r=i.edge(n,o),a=ki.isUndefined(r)?0:r.weight;i.setEdge(n,o,{weight:e.edge(t).weight+a})})),ki.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))})),i}(e,t,n)}))}function Oo(e,t){var n=new Po;ki.forEach(e,(function(e){var r=e.graph().root,i=Ao(e,r,n,t);ki.forEach(i.vs,(function(t,n){e.node(t).order=n})),function(e,t,n){var r,i={};ki.forEach(n,(function(n){for(var o,a,s=e.parent(n);s;){if((o=e.parent(s))?(a=i[o],i[o]=s):(a=r,r=s),a&&a!==s)return void t.setEdge(a,s);s=o}}))}(e,n,i.vs)}))}function Ro(e,t){ki.forEach(t,(function(t){ki.forEach(t,(function(t,n){e.node(t).order=n}))}))}var Lo=Vr.Graph;function jo(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function Bo(e,t,n){if(t>n){var r=t;t=n,n=r}return ki.has(e[t],n)}var Fo=function(e){var t,n=Bi.buildLayerMatrix(e),r=ki.merge(function(e,t){var n={};return ki.reduce(t,(function(t,r){var i=0,o=0,a=t.length,s=ki.last(r);return ki.forEach(r,(function(t,u){var l=function(e,t){if(e.node(t).dummy)return ki.find(e.predecessors(t),(function(t){return e.node(t).dummy}))}(e,t),c=l?e.node(l).order:a;(l||t===s)&&(ki.forEach(r.slice(o,u+1),(function(t){ki.forEach(e.predecessors(t),(function(r){var o=e.node(r),a=o.order;!(a<i||c<a)||o.dummy&&e.node(t).dummy||jo(n,r,t)}))})),o=u+1,i=c)})),r})),n}(e,n),function(e,t){var n={};function r(t,r,i,o,a){var s;ki.forEach(ki.range(r,i),(function(r){s=t[r],e.node(s).dummy&&ki.forEach(e.predecessors(s),(function(t){var r=e.node(t);r.dummy&&(r.order<o||r.order>a)&&jo(n,t,s)}))}))}return ki.reduce(t,(function(t,n){var i,o=-1,a=0;return ki.forEach(n,(function(s,u){if("border"===e.node(s).dummy){var l=e.predecessors(s);l.length&&(i=e.node(l[0]).order,r(n,a,u,o,i),a=u,o=i)}r(n,a,n.length,i,t.length)})),n})),n}(e,n)),i={};ki.forEach(["u","d"],(function(o){t="u"===o?n:ki.values(n).reverse(),ki.forEach(["l","r"],(function(n){"r"===n&&(t=ki.map(t,(function(e){return ki.values(e).reverse()})));var a=("u"===o?e.predecessors:e.successors).bind(e),s=function(e,t,n,r){var i={},o={},a={};return ki.forEach(t,(function(e){ki.forEach(e,(function(e,t){i[e]=e,o[e]=e,a[e]=t}))})),ki.forEach(t,(function(e){var t=-1;ki.forEach(e,(function(e){var s=r(e);if(s.length)for(var u=((s=ki.sortBy(s,(function(e){return a[e]}))).length-1)/2,l=Math.floor(u),c=Math.ceil(u);l<=c;++l){var f=s[l];o[e]===e&&t<a[f]&&!Bo(n,e,f)&&(o[f]=e,o[e]=i[e]=i[f],t=a[f])}}))})),{root:i,align:o}}(0,t,r,a),u=function(e,t,n,r,i){var o={},a=function(e,t,n,r){var i=new Lo,o=e.graph(),a=function(e,t,n){return function(r,i,o){var a,s=r.node(i),u=r.node(o),l=0;if(l+=s.width/2,ki.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":a=-s.width/2;break;case"r":a=s.width/2}if(a&&(l+=n?a:-a),a=0,l+=(s.dummy?t:e)/2,l+=(u.dummy?t:e)/2,l+=u.width/2,ki.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":a=u.width/2;break;case"r":a=-u.width/2}return a&&(l+=n?a:-a),a=0,l}}(o.nodesep,o.edgesep,r);return ki.forEach(t,(function(t){var r;ki.forEach(t,(function(t){var o=n[t];if(i.setNode(o),r){var s=n[r],u=i.edge(s,o);i.setEdge(s,o,Math.max(a(e,t,r),u||0))}r=t}))})),i}(e,t,n,i),s=i?"borderLeft":"borderRight";function u(e,t){for(var n=a.nodes(),r=n.pop(),i={};r;)i[r]?e(r):(i[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return u((function(e){o[e]=a.inEdges(e).reduce((function(e,t){return Math.max(e,o[t.v]+a.edge(t))}),0)}),a.predecessors.bind(a)),u((function(t){var n=a.outEdges(t).reduce((function(e,t){return Math.min(e,o[t.w]-a.edge(t))}),Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==s&&(o[t]=Math.max(o[t],n))}),a.successors.bind(a)),ki.forEach(r,(function(e){o[e]=o[n[e]]})),o}(e,t,s.root,s.align,"r"===n);"r"===n&&(u=ki.mapValues(u,(function(e){return-e}))),i[o+n]=u}))}));var o=function(e,t){return ki.minBy(ki.values(t),(function(t){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return ki.forIn(t,(function(t,i){var o=function(e,t){return e.node(t).width}(e,i)/2;n=Math.max(t+o,n),r=Math.min(t-o,r)})),n-r}))}(e,i);return function(e,t){var n=ki.values(t),r=ki.min(n),i=ki.max(n);ki.forEach(["u","d"],(function(n){ki.forEach(["l","r"],(function(o){var a,s=n+o,u=e[s];if(u!==t){var l=ki.values(u);(a="l"===o?r-ki.min(l):i-ki.max(l))&&(e[s]=ki.mapValues(u,(function(e){return e+a})))}}))}))}(i,o),function(e,t){return ki.mapValues(e.ul,(function(n,r){if(t)return e[t.toLowerCase()][r];var i=ki.sortBy(ki.map(e,r));return(i[1]+i[2])/2}))}(i,e.graph().align)},zo=Bi.normalizeRanks,Yo=Bi.removeEmptyRanks,Go=Bi,Vo=Vr.Graph,Uo=["nodesep","edgesep","ranksep","marginx","marginy"],Wo={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Zo=["acyclicer","ranker","rankdir","align"],Ho=["width","height"],Xo={width:0,height:0},Ko=["minlen","weight","width","height","labeloffset"],qo={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Jo=["labelpos"];function $o(e,t){return ki.mapValues(ki.pick(e,t),Number)}function Qo(e){var t={};return ki.forEach(e,(function(e,n){t[n.toLowerCase()]=e})),t}var ea=Vr.Graph,ta={graphlib:Vr,layout:function(e,t){var n=t&&t.debugTiming?Go.time:Go.notime;n("layout",(function(){var t=n("  buildLayoutGraph",(function(){return function(e){var t=new Vo({multigraph:!0,compound:!0}),n=Qo(e.graph());return t.setGraph(ki.merge({},Wo,$o(n,Uo),ki.pick(n,Zo))),ki.forEach(e.nodes(),(function(n){var r=Qo(e.node(n));t.setNode(n,ki.defaults($o(r,Ho),Xo)),t.setParent(n,e.parent(n))})),ki.forEach(e.edges(),(function(n){var r=Qo(e.edge(n));t.setEdge(n,ki.merge({},qo,$o(r,Ko),ki.pick(r,Jo)))})),t}(e)}));n("  runLayout",(function(){!function(e,t){t("    makeSpaceForEdgeLabels",(function(){!function(e){var t=e.graph();t.ranksep/=2,ki.forEach(e.edges(),(function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(e)})),t("    removeSelfEdges",(function(){!function(e){ki.forEach(e.edges(),(function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))}(e)})),t("    acyclic",(function(){Ri(e)})),t("    nestingGraph.run",(function(){vo(e)})),t("    rank",(function(){!function(e){switch(e.graph().ranker){case"network-simplex":default:go(e);break;case"tight-tree":!function(e){ho(e),Hi(e)}(e);break;case"longest-path":po(e)}}(Go.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){!function(e){ki.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};Go.addDummyNode(e,"edge-proxy",i,"_ep")}}))}(e)})),t("    removeEmptyRanks",(function(){Yo(e)})),t("    nestingGraph.cleanup",(function(){mo(e)})),t("    normalizeRanks",(function(){zo(e)})),t("    assignRankMinMax",(function(){!function(e){var t=0;ki.forEach(e.nodes(),(function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=ki.max(t,r.maxRank))})),e.graph().maxRank=t}(e)})),t("    removeEdgeLabelProxies",(function(){!function(e){ki.forEach(e.nodes(),(function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))}(e)})),t("    normalize.run",(function(){Yi(e)})),t("    parentDummyChains",(function(){!function(e){var t=function(e){var t={},n=0;return ki.forEach(e.children(),(function r(i){var o=n;ki.forEach(e.children(i),r),t[i]={low:o,lim:n++}})),t}(e);ki.forEach(e.graph().dummyChains,(function(n){for(var r=e.node(n),i=r.edgeObj,o=function(e,t,n,r){var i,o,a=[],s=[],u=Math.min(t[n].low,t[r].low),l=Math.max(t[n].lim,t[r].lim);i=n;do{i=e.parent(i),a.push(i)}while(i&&(t[i].low>u||l>t[i].lim));for(o=i,i=r;(i=e.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(e,t,i.v,i.w),a=o.path,s=o.lca,u=0,l=a[u],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(l=a[u])!==s&&e.node(l).maxRank<r.rank;)u++;l===s&&(c=!1)}if(!c){for(;u<a.length-1&&e.node(l=a[u+1]).minRank<=r.rank;)u++;l=a[u]}e.setParent(n,l),n=e.successors(n)[0]}}))}(e)})),t("    addBorderSegments",(function(){!function(e){ki.forEach(e.children(),(function t(n){var r=e.children(n),i=e.node(n);if(r.length&&ki.forEach(r,t),ki.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)bo(e,"borderLeft","_bl",n,i,o),bo(e,"borderRight","_br",n,i,o)}}))}(e)})),t("    order",(function(){Io(e)})),t("    insertSelfEdges",(function(){!function(e){var t=Go.buildLayerMatrix(e);ki.forEach(t,(function(t){var n=0;ki.forEach(t,(function(t,r){var i=e.node(t);i.order=r+n,ki.forEach(i.selfEdges,(function(t){Go.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:r+ ++n,e:t.e,label:t.label},"_se")})),delete i.selfEdges}))}))}(e)})),t("    adjustCoordinateSystem",(function(){xo(e)})),t("    position",(function(){!function(e){(function(e){var t=Bi.buildLayerMatrix(e),n=e.graph().ranksep,r=0;ki.forEach(t,(function(t){var i=ki.max(ki.map(t,(function(t){return e.node(t).height})));ki.forEach(t,(function(t){e.node(t).y=r+i/2})),r+=i+n}))})(e=Bi.asNonCompoundGraph(e)),ki.forEach(Fo(e),(function(t,n){e.node(n).x=t}))}(e)})),t("    positionSelfEdges",(function(){!function(e){ki.forEach(e.nodes(),(function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}}))}(e)})),t("    removeBorderNodes",(function(){!function(e){ki.forEach(e.nodes(),(function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(ki.last(n.borderLeft)),a=e.node(ki.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}})),ki.forEach(e.nodes(),(function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))}(e)})),t("    normalize.undo",(function(){Gi(e)})),t("    fixupEdgeLabelCoords",(function(){!function(e){ki.forEach(e.edges(),(function(t){var n=e.edge(t);if(ki.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(e)})),t("    undoCoordinateSystem",(function(){wo(e)})),t("    translateGraph",(function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),a=o.marginx||0,s=o.marginy||0;function u(e){var o=e.x,a=e.y,s=e.width,u=e.height;t=Math.min(t,o-s/2),n=Math.max(n,o+s/2),r=Math.min(r,a-u/2),i=Math.max(i,a+u/2)}ki.forEach(e.nodes(),(function(t){u(e.node(t))})),ki.forEach(e.edges(),(function(t){var n=e.edge(t);ki.has(n,"x")&&u(n)})),t-=a,r-=s,ki.forEach(e.nodes(),(function(n){var i=e.node(n);i.x-=t,i.y-=r})),ki.forEach(e.edges(),(function(n){var i=e.edge(n);ki.forEach(i.points,(function(e){e.x-=t,e.y-=r})),ki.has(i,"x")&&(i.x-=t),ki.has(i,"y")&&(i.y-=r)})),o.width=n-t+a,o.height=i-r+s}(e)})),t("    assignNodeIntersects",(function(){!function(e){ki.forEach(e.edges(),(function(t){var n,r,i=e.edge(t),o=e.node(t.v),a=e.node(t.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(Go.intersectRect(o,n)),i.points.push(Go.intersectRect(a,r))}))}(e)})),t("    reversePoints",(function(){!function(e){ki.forEach(e.edges(),(function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))}(e)})),t("    acyclic.undo",(function(){Li(e)}))}(t,n)})),n("  updateInputGraph",(function(){!function(e,t){ki.forEach(e.nodes(),(function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))})),ki.forEach(e.edges(),(function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,ki.has(i,"x")&&(r.x=i.x,r.y=i.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)}))}))},debug:{debugOrdering:function(e){var t=Bi.buildLayerMatrix(e),n=new ea({compound:!0,multigraph:!0}).setGraph({});return ki.forEach(e.nodes(),(function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)})),ki.forEach(e.edges(),(function(e){n.setEdge(e.v,e.w,{},e.name)})),ki.forEach(t,(function(e,t){var r="layer"+t;n.setNode(r,{rank:"same"}),ki.reduce(e,(function(e,t){return n.setEdge(e,t,{style:"invis"}),t}))})),n}},util:{time:Bi.time,notime:Bi.notime},version:"0.8.5"},na=ta.graphlib,ra=ta.layout,ia=(0,u.Z)((function e(t){(0,l.Z)(this,e),this.cardinality=1,this.include=p.UNSPECIFIED,this.isGroupNode=!1,this.parentNode=null,this.type=h.NODE,this.name=t.name,this.attr=t.attr||{},this.inputs=t.inputs,this.path=t.path||[],this.width=t.width,this.height=t.height})),oa=(0,u.Z)((function e(){(0,l.Z)(this,e),this.nodes={},this.edges=[],this.nodes={},this.edges=[]}));var aa=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,l.Z)(this,e),this.attr=null,this.bridgeGraph=null,this.cardinality=0,this.depth=1,this.include=p.UNSPECIFIED,this.isGroupNode=!0,this.parentNode=null,this.type=h.META,this.path=[],this.name=t,this.metaGraph=ca(t,g.META,n)}return(0,u.Z)(e,[{key:"getFirstChild",value:function(){return this.metaGraph.node(this.metaGraph.nodes()[0])}},{key:"getChildren",value:function(){var e=this;return this.metaGraph.nodes().map((function(t){return e.metaGraph.node(t)}))}},{key:"leaves",value:function(){for(var e,t=[],n=[this];n.length;){var r=n.shift();r.isGroupNode?(e=r.metaGraph).nodes().forEach((function(t){return n.push(e.node(t))})):t.push(r.name)}return t}}]),e}(),sa=function(){function e(t,n){(0,l.Z)(this,e),this.v=t,this.w=n,this.baseEdgeList=[],this.inbound=null,this.name=null}return(0,u.Z)(e,[{key:"addBaseEdge",value:function(e,t){this.baseEdgeList.push(e)}}]),e}();function ua(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new aa(e,t)}function la(e,t){return new sa(e,t)}function ca(e,t,n){var r=n||{},i=new na.Graph(r);return i.setGraph({name:e,rankdir:r.rankdir,type:t,align:r.align}),i}var fa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.Z)(this,e),this.graphOptions=t,this.index={},this.graphOptions.compound=!0,this.root=ua(m,this.graphOptions),this.index[m]=this.root}return(0,u.Z)(e,[{key:"getNodeMap",value:function(){return this.index}},{key:"node",value:function(e){return this.index[e]}},{key:"setNode",value:function(e,t){this.index[e]=t}},{key:"getBridgeGraph",value:function(e){var t=this,n=this.index[e];if(!n)throw Error("Could not find node in hierarchy: "+e);if(!("metaGraph"in n))return null;var r=n;if(r.bridgeGraph)return r.bridgeGraph;var i=ca(y,g.BRIDGE,this.graphOptions);if(r.bridgeGraph=i,!n.parentNode||!("metaGraph"in n.parentNode))return i;var o=n.parentNode;return[o.metaGraph,this.getBridgeGraph(o.name)].forEach((function(n){n.edges().filter((function(t){return t.v===e||t.w===e})).forEach((function(r){var o=r.w===e;n.edge(r).baseEdgeList.forEach((function(n){var a=o?[n.w,r.v]:[n.v,r.w],u=(0,s.Z)(a,2),l=u[0],c=u[1],f=t.getChildName(e,l),d={v:o?c:f,w:o?f:c},h=i.edge(d);h||((h=la(d.v,d.w)).inbound=o,i.setEdge(d.v,d.w,h)),h.addBaseEdge(n,t)}))}))})),i}},{key:"getChildName",value:function(e,t){for(var n=this.index[t];n;){if(n.parentNode&&n.parentNode.name===e)return n.name;n=n.parentNode}throw Error("Could not find immediate child for descendant: "+t)}},{key:"getPredecessors",value:function(e){var t=this.index[e];if(!t)throw Error("Could not find node with name: "+e);return this.getOneWayEdges(t,!0)}},{key:"getSuccessors",value:function(e){var t=this.index[e];if(!t)throw Error("Could not find node with name: "+e);return this.getOneWayEdges(t,!1)}},{key:"getOneWayEdges",value:function(e,t){var n=[];if(!e.parentNode||!e.parentNode.isGroupNode)return n;var r=e.parentNode,i=r.metaGraph,o=this.getBridgeGraph(r.name);return da(i,e,t,n),da(o,e,t,n),n}}]),e}();function da(e,t,n,r){(n?e.inEdges(t.name):e.outEdges(t.name)).forEach((function(t){var n=e.edge(t);r.push(n)}))}var ha=function(){function e(t){(0,l.Z)(this,e),this.hierarchy=t,this.index={},this.hasSubHierarchy={},this.root=new va(this.hierarchy.root,this.hierarchy.graphOptions),this.index[t.root.name]=this.root,this.buildSubHierarchy(t.root.name),this.root.expanded=!0}return(0,u.Z)(e,[{key:"getRenderInfoNodes",value:function(){return Object.values(this.index)}},{key:"getSubHierarchy",value:function(){return this.hasSubHierarchy}},{key:"buildSubHierarchy",value:function(e){var t=this;if(!(e in this.hasSubHierarchy)){this.hasSubHierarchy[e]=!0;var n=this.index[e];if(n.node.type===h.META){var r=n,i=r.node.metaGraph,o=r.coreGraph;i.nodes().forEach((function(e){var n=t.getOrCreateRenderNodeByName(e);o.setNode(e,n)})),i.edges().forEach((function(e){var t=i.edge(e),n=new ga(t);o.setEdge(e.v,e.w,n)}));var a=r.node.parentNode;if(a){var u=this.getRenderNodeByName(a.name),l=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.concat([e?"IN":"OUT"]).join("~~")},c=this.hierarchy.getBridgeGraph(e);c.edges().forEach((function(n){var r=c.edge(n),f=!!i.node(n.w),d=f?[n.w,n.v]:[n.v,n.w],g=(0,s.Z)(d,2),v=g[0],m=g[1],y=function(t){var n=f?{v:t,w:e}:{v:e,w:t};return u.coreGraph.edge(n)},b=y(m);b||(b=y(l(f,m,a.name)));var x=l(f,e),w=l(f,m,e),E=o.node(w);if(!E){var S=o.node(x);if(!S){var _={name:x,type:h.BRIDGE,isGroupNode:!1,cardinality:0,parentNode:null,include:p.UNSPECIFIED,inbound:f,attr:{}};S=new pa(_),t.index[x]=S,o.setNode(x,S)}var T={name:w,type:h.BRIDGE,isGroupNode:!1,cardinality:1,parentNode:null,include:p.UNSPECIFIED,inbound:f,attr:{}};E=new pa(T),t.index[w]=E,o.setNode(w,E),o.setParent(w,x),S.node.cardinality++}var k=new ga(r);k.adjoiningMetaEdge=b,f?o.setEdge(w,v,k):o.setEdge(v,w,k)}))}}}}},{key:"getOrCreateRenderNodeByName",value:function(e){if(!e)return null;if(e in this.index)return this.index[e];var t=this.getNodeByName(e);return t?(this.index[e]=t.isGroupNode?new va(t,this.hierarchy.graphOptions):new pa(t),this.index[e]):null}},{key:"getRenderNodeByName",value:function(e){return this.index[e]}},{key:"getNodeByName",value:function(e){return this.hierarchy.node(e)}}]),e}(),pa=(0,u.Z)((function e(t){(0,l.Z)(this,e),this.node=t,this.expanded=!1,this.x=0,this.y=0,this.coreBox={width:0,height:0},this.outboxWidth=0,this.labelOffset=0,this.radius=0,this.labelHeight=0,this.paddingTop=0,this.paddingLeft=0,this.paddingRight=0,this.paddingBottom=0,this.width=t.width||0,this.height=t.height||0,this.displayName=t.name,this.attr=t.attr})),ga=(0,u.Z)((function e(t){(0,l.Z)(this,e),this.metaEdge=t,this.adjoiningMetaEdge=null,this.weight=1,this.points=[]})),va=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;(0,l.Z)(this,n),i=t.call(this,e);var o=e.metaGraph.graph();return r.compound=!0,i.coreGraph=ca(o.name,g.CORE,r),i}return(0,u.Z)(n)}(pa);function ma(e,t){e.node.isGroupNode&&function(e,t){var n=f(t);e.coreGraph.nodes().map((function(t){return e.coreGraph.node(t)})).forEach((function(e){var r,i,o,a,s,u,l=e.height,c=e.width;switch(e.node.type){case h.NODE:Object.assign(e,n.nodeSize.node),e.height=l||n.nodeSize.node.height,e.width=c||n.nodeSize.node.width;break;case h.BRIDGE:Object.assign(e,n.nodeSize.bridge);break;case h.META:e.expanded?ma(e,t):(Object.assign(e,n.nodeSize.meta),e.height=n.nodeSize.meta.height,e.width=n.nodeSize.meta.width);break;default:throw Error("Unrecognized node type: "+e.node.type)}if(!e.expanded){var f=e.attr;!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.coreBox.width=e.width,e.coreBox.height=e.height,!t){var n="".concat(e.displayName).length,r=3;e.width=Math.max(e.coreBox.width,n*r)}}(e,t&&(0===e.node.type&&!!(null===(i=null===(r=null==t?void 0:t.nodeSize)||void 0===r?void 0:r.meta)||void 0===i?void 0:i.width)||1===e.node.type&&(!!(null===(a=null===(o=null==t?void 0:t.nodeSize)||void 0===o?void 0:o.node)||void 0===a?void 0:a.width)||!!f.width)||2===e.node.type&&!!(null===(u=null===(s=null==t?void 0:t.nodeSize)||void 0===s?void 0:s.bridge)||void 0===u?void 0:u.width)))}}))}(e,t),e.node.type===h.META&&function(e,t){var n=f(t),r=n.subScene.meta;Object.assign(e,r);var i=n.graph.meta,o={nodesep:i.nodeSep,ranksep:i.rankSep,edgesep:i.edgeSep,align:i.align};Object.assign(e.coreBox,function(e,t){var n=t.ranksep,r=t.nodesep,i=t.edgesep,o=t.align;Object.assign(e.graph(),{ranksep:n,nodesep:r,edgesep:i,align:o});var a=[];if(e.nodes().forEach((function(t){e.node(t).node.type!==h.BRIDGE&&a.push(t)})),!a.length)return{width:0,height:0};ra(e);var s=1/0,u=1/0,l=-1/0,c=-1/0;return a.forEach((function(t){var n=e.node(t),r=.5*n.width,i=n.x-r,o=n.x+r;s=i<s?i:s,l=o>l?o:l;var a=.5*n.height,f=n.y-a,d=n.y+a;u=f<u?f:u,c=d>c?d:c})),e.edges().forEach((function(t){var n=e.edge(t),r=e.node(n.metaEdge.v),i=e.node(n.metaEdge.w);if(3===n.points.length&&function(e){for(var t=ya(e[0],e[1]),n=1;n<e.length-1;n++){var r=ya(e[n],e[n+1]);if(Math.abs(r-t)>1)return!1;t=r}return!0}(n.points)){if(null!=r){var o=r.expanded?r.x:ba(r);n.points[0].x=o}if(null!=i){var a=i.expanded?i.x:ba(i);n.points[2].x=a}n.points=[n.points[0],n.points[1]]}var f=n.points[n.points.length-2];null!=i&&(n.points[n.points.length-1]=xa(f,i));var d=n.points[1];null!=r&&(n.points[0]=xa(d,r)),n.points.forEach((function(e){s=e.x<s?e.x:s,l=e.x>l?e.x:l,u=e.y<u?e.y:u,c=e.y>c?e.y:c}))})),e.nodes().forEach((function(t){var n=e.node(t);n.x-=s,n.y-=u})),e.edges().forEach((function(t){e.edge(t).points.forEach((function(e){e.x-=s,e.y-=u}))})),{width:l-s,height:c-u}}(e.coreGraph,o));var a=0;e.coreGraph.nodeCount()>0&&a++;var s=a<=1?0:a;e.coreBox.width+=s+s,e.coreBox.height=r.labelHeight+e.coreBox.height,e.width=e.coreBox.width+r.paddingLeft+r.paddingRight,e.height=e.paddingTop+e.coreBox.height+e.paddingBottom}(e,t)}function ya(e,t){var n=t.x-e.x,r=t.y-e.y;return 180*Math.atan(r/n)/Math.PI}function ba(e){return e.expanded?e.x:e.x-e.width/2+0+e.coreBox.width/2}function xa(e,t){var n,r,i=t.expanded?t.x:ba(t),o=t.y,a=e.x-i,s=e.y-o,u=t.expanded?t.width:t.coreBox.width,l=t.expanded?t.height:t.coreBox.height;return Math.abs(s)*u/2>Math.abs(a)*l/2?(s<0&&(l=-l),n=0===s?0:l/2*a/s,r=l/2):(a<0&&(u=-u),n=u/2,r=0===a?0:u/2*s/a),{x:i+n,y:o+r}}function wa(e,t,n){var o,a,u,l,f=e.nodes.filter((function(e,t,n){return n.findIndex((function(t){return t.id===e.id}))!==t})).map((function(e){return e.id}));if(f.length)throw new Error("Duplicated ids found: ".concat(f.join(", ")));var d=function(e){var t={nodes:[]},n=e.compound,r=Object.keys(n||{}),o=new Map,a=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(o.has(t))return o.get(t);for(var a=0;a<r.length;a++){var s=r[a];if(n&&-1!==n[s].indexOf(t))return i.unshift(s),e(s,i)}return 0===i.length&&o.set(t,i),i},s=function(t){return e.edges.filter((function(e){return e.w===t})).map((function(e){return{name:e.v}}))};return e.nodes.forEach((function(e){var n=e.id,r=[].concat((0,i.Z)(a(n)),[n]),o=s(n);t.nodes.push({name:n,path:r,inputs:o,width:e.width,height:e.height,attr:Object.assign({},e)})})),t}(e),h=function(e,t){var n=function(e,t){var n,i=(0,r.Z)(t.values());try{for(i.s();!(n=i.n()).done;){if(n.value.includes(e))return!0}}catch(o){i.e(o)}finally{i.f()}return!1};return function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===Object.keys(t).length)return(0,i.Z)(new Set(o));var a,u=new Map(Object.keys(t).map((function(e){return[e,t[e]]}))),l={},c=(0,r.Z)(u);try{for(c.s();!(a=c.n()).done;){var f=(0,s.Z)(a.value,2),d=f[0],h=f[1];n(d,u)?l[d]=h:o=o.concat(d,h)}}catch(p){c.e(p)}finally{c.f()}return e(l,o)}(e).filter((function(e){return t.includes(e)}))}(e.compound||{},(null==t?void 0:t.expanded)||[]),p=function(e,t){return function(e){return new ha(e)}(function(e,t){var n=t.rankDirection,r=t.align,i=new fa({rankdir:n,align:r});return function(e,t){Object.keys(t.nodes).forEach((function(n){var r=t.nodes[n],i=r.path,o=e.root;o.depth=Math.max(i.length,o.depth);for(var a=0;a<i.length&&(o.depth=Math.max(o.depth,i.length-a),o.cardinality+=r.cardinality,a!==i.length-1);a++){var s=i[a],u=e.node(s);u||((u=ua(s,e.graphOptions)).path=r.path.slice(0,a+1),u.parentNode=o,e.setNode(s,u),o.metaGraph.setNode(s,u)),o=u}e.setNode(r.name,r),r.parentNode=o,o.metaGraph.setNode(r.name,r)}))}(i,e),function(e,t){var n=e.getNodeMap(),r=[],i=[],o=function(e,t){for(var n=0;e;)t[n++]=e.name,e=e.parentNode;return n-1};t.edges.forEach((function(a){r=[],i=[];for(var s=o(t.nodes[a.v],r),u=o(t.nodes[a.w],i);r[s]===i[u];)if(u--,--s<0||u<0)throw Error("No difference found between ancestor paths.");var l=n[r[s+1]],c=r[s],f=i[u],d=l.metaGraph.edge(c,f);d||(d=la(c,f),l.metaGraph.setEdge(c,f,d)),d.addBaseEdge(a,e)}))}(i,e),i}(function(e){var t=new oa;return e.nodes.map((function(e){return new ia(e)})).forEach((function(e){t.nodes[e.name]=e,e.inputs.forEach((function(n){!function(e,t,n){n.name!==t.name&&e.edges.push(Object.assign(Object.assign({},n.attr),{v:n.name,w:t.name}))}(t,e,n)}))})),t}(e),t))}(d,{rankDirection:(null===(a=null===(o=null==n?void 0:n.graph)||void 0===o?void 0:o.meta)||void 0===a?void 0:a.rankDir)||(null==t?void 0:t.rankDirection)||c.graph.meta.rankDir,align:(null===(l=null===(u=null==n?void 0:n.graph)||void 0===u?void 0:u.meta)||void 0===l?void 0:l.align)||c.graph.meta.align});return function(e,t){t.forEach((function(t){var n=e.getRenderInfoNodes().find((function(e){return e.displayName===t})),r=n&&n.node&&n.node.name||"",i=e.getRenderNodeByName(r);if(!i)throw new Error("No nodes found: ".concat(r));i.expanded=!0,e.buildSubHierarchy(r)}))}(p,h),ma(p.root,n),_a(p.root)}function Ea(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=JSON.parse(JSON.stringify(e)),r={nodes:[n],edges:(0,i.Z)(n.edges)};return n.nodes.forEach((function e(t){(0===t.type||1===t.type)&&r.nodes.push(t),0===t.type&&(r.edges=r.edges.concat(t.edges)),Array.isArray(t.nodes)&&t.nodes.forEach(e)})),t&&r.nodes.forEach((function(e){var t=r.nodes.find((function(t){return t.id===e.parentNodeName}));if(t){var n=t.x-t.width/2+t.paddingLeft,i=t.y-t.height/2+t.labelHeight+t.paddingTop;t.id!==m&&(e.x+=n,e.y+=i),0===e.type&&e.edges.forEach((function(t){t.points.forEach((function(t){t.x+=e.x-e.width/2+e.paddingLeft,t.y+=e.y-e.height/2+e.labelHeight+e.paddingTop}))}))}})),r}function Sa(e,t,n,r){var o,a,s=[],u=(null===(o=n.find((function(t){return t.id===e})))||void 0===o?void 0:o.path)||[],l=(null===(a=n.find((function(e){return e.id===t})))||void 0===a?void 0:a.path)||[],c=[m].concat((0,i.Z)(u)).slice(0,u.length).reverse(),f=[m].concat((0,i.Z)(l)).slice(0,l.length);return c.forEach((function(i){var o=n.find((function(e){return e.id===i}));s=s.concat(o.edges.filter((function(n){return n.baseEdgeList.some((function(n){return n.v===((null==r?void 0:r.v)||e)&&n.w===((null==r?void 0:r.w)||t)}))})))})),f.filter((function(e){return!c.includes(e)})).forEach((function(i){var o=n.find((function(e){return e.id===i}));s=s.concat(o.edges.filter((function(n){return n.baseEdgeList.some((function(n){return n.v===((null==r?void 0:r.v)||e)&&n.w===((null==r?void 0:r.w)||t)}))})))})),s}function _a(e){var t,n=e.coreGraph.nodes().map((function(t){return e.coreGraph.node(t)}));return Object.assign(Object.assign({},Ta(e)),{expanded:e.expanded,nodes:e.expanded?(t=n,t.map((function(e){return e.node.type===h.META?_a(e):Ta(e)}))):[],edges:e.expanded?ka(e):[]})}function Ta(e){return{id:e.node.name,name:e.node.name,type:e.node.type,cardinality:e.node.cardinality,attr:e.attr,parentNodeName:e.node.parentNode?e.node.parentNode.name:null,coreBox:Object.assign({},e.coreBox),x:e.x,y:e.y,width:e.width,height:e.height,radius:e.radius,labelHeight:e.labelHeight,labelOffset:e.labelOffset,outboxWidth:e.outboxWidth,paddingLeft:e.paddingLeft,paddingTop:e.paddingTop,paddingRight:e.paddingRight,paddingBottom:e.paddingBottom,path:e.node.path}}function ka(e){return e.coreGraph.edges().map((function(t){return{renderInfoEdge:e.coreGraph.edge(t),edge:t}})).filter((function(e){return e.renderInfoEdge.metaEdge})).map((function(t){var n=t.edge,r=t.renderInfoEdge,i=function(e,t){var n=t.points.map((function(e){return Object.assign({},e)}));if(t.adjoiningMetaEdge){var r=t.adjoiningMetaEdge.points,i=t.metaEdge.inbound,o=i?r[r.length-1]:r[0],a=n[i?0:n.length-1],s=e.x-e.width/2,u=e.y-e.height/2,l=o.x-s,c=o.y-u,f=-e.paddingLeft,d=-(e.paddingTop+e.labelHeight);a.x=l+f,a.y=c+d}return n}(e,r);return{adjoiningEdge:r.adjoiningMetaEdge?{w:r.adjoiningMetaEdge.metaEdge.w,v:r.adjoiningMetaEdge.metaEdge.v}:null,inbound:r.metaEdge.inbound,w:n.w,v:n.v,points:i,weight:r.weight,baseEdgeList:r.metaEdge.baseEdgeList,parentNodeName:e.node.name}}))}},907:function(e,t,n){"use strict";n.d(t,{Ib:function(){return r},WT:function(){return i}});var r=1e-6,i="undefined"!==typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},5742:function(e,t,n){"use strict";n.r(t),n.d(t,{add:function(){return M},adjoint:function(){return h},clone:function(){return a},copy:function(){return s},create:function(){return i},determinant:function(){return p},equals:function(){return D},exactEquals:function(){return I},frob:function(){return C},fromMat2d:function(){return E},fromMat4:function(){return o},fromQuat:function(){return S},fromRotation:function(){return x},fromScaling:function(){return w},fromTranslation:function(){return b},fromValues:function(){return u},identity:function(){return c},invert:function(){return d},mul:function(){return O},multiply:function(){return g},multiplyScalar:function(){return N},multiplyScalarAndAdd:function(){return P},normalFromMat4:function(){return _},projection:function(){return T},rotate:function(){return m},scale:function(){return y},set:function(){return l},str:function(){return k},sub:function(){return R},subtract:function(){return A},translate:function(){return v},transpose:function(){return f}});var r=n(907);function i(){var e=new r.WT(9);return r.WT!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function a(e){var t=new r.WT(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function u(e,t,n,i,o,a,s,u,l){var c=new r.WT(9);return c[0]=e,c[1]=t,c[2]=n,c[3]=i,c[4]=o,c[5]=a,c[6]=s,c[7]=u,c[8]=l,c}function l(e,t,n,r,i,o,a,s,u,l){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=u,e[8]=l,e}function c(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function f(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function d(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=c*a-s*l,d=-c*o+s*u,h=l*o-a*u,p=n*f+r*d+i*h;return p?(p=1/p,e[0]=f*p,e[1]=(-c*r+i*l)*p,e[2]=(s*r-i*a)*p,e[3]=d*p,e[4]=(c*n-i*u)*p,e[5]=(-s*n+i*o)*p,e[6]=h*p,e[7]=(-l*n+r*u)*p,e[8]=(a*n-r*o)*p,e):null}function h(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8];return e[0]=a*c-s*l,e[1]=i*l-r*c,e[2]=r*s-i*a,e[3]=s*u-o*c,e[4]=n*c-i*u,e[5]=i*o-n*s,e[6]=o*l-a*u,e[7]=r*u-n*l,e[8]=n*a-r*o,e}function p(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8];return t*(l*o-a*u)+n*(-l*i+a*s)+r*(u*i-o*s)}function g(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=n[0],h=n[1],p=n[2],g=n[3],v=n[4],m=n[5],y=n[6],b=n[7],x=n[8];return e[0]=d*r+h*a+p*l,e[1]=d*i+h*s+p*c,e[2]=d*o+h*u+p*f,e[3]=g*r+v*a+m*l,e[4]=g*i+v*s+m*c,e[5]=g*o+v*u+m*f,e[6]=y*r+b*a+x*l,e[7]=y*i+b*s+x*c,e[8]=y*o+b*u+x*f,e}function v(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=n[0],h=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=d*r+h*a+l,e[7]=d*i+h*s+c,e[8]=d*o+h*u+f,e}function m(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],d=Math.sin(n),h=Math.cos(n);return e[0]=h*r+d*a,e[1]=h*i+d*s,e[2]=h*o+d*u,e[3]=h*a-d*r,e[4]=h*s-d*i,e[5]=h*u-d*o,e[6]=l,e[7]=c,e[8]=f,e}function y(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function b(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function x(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function w(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function E(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function S(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,f=r*s,d=i*a,h=i*s,p=i*u,g=o*a,v=o*s,m=o*u;return e[0]=1-f-p,e[3]=c-m,e[6]=d+v,e[1]=c+m,e[4]=1-l-p,e[7]=h-g,e[2]=d-v,e[5]=h+g,e[8]=1-l-f,e}function _(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],d=t[10],h=t[11],p=t[12],g=t[13],v=t[14],m=t[15],y=n*s-r*a,b=n*u-i*a,x=n*l-o*a,w=r*u-i*s,E=r*l-o*s,S=i*l-o*u,_=c*g-f*p,T=c*v-d*p,k=c*m-h*p,C=f*v-d*g,M=f*m-h*g,A=d*m-h*v,N=y*A-b*M+x*C+w*k-E*T+S*_;return N?(N=1/N,e[0]=(s*A-u*M+l*C)*N,e[1]=(u*k-a*A-l*T)*N,e[2]=(a*M-s*k+l*_)*N,e[3]=(i*M-r*A-o*C)*N,e[4]=(n*A-i*k+o*T)*N,e[5]=(r*k-n*M-o*_)*N,e[6]=(g*S-v*E+m*w)*N,e[7]=(v*x-p*S-m*b)*N,e[8]=(p*E-g*x+m*y)*N,e):null}function T(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function k(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function C(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function M(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function A(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function N(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function P(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e}function I(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function D(e,t){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],d=t[0],h=t[1],p=t[2],g=t[3],v=t[4],m=t[5],y=t[6],b=t[7],x=t[8];return Math.abs(n-d)<=r.Ib*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(i-h)<=r.Ib*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(o-p)<=r.Ib*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=r.Ib*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=r.Ib*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-m)<=r.Ib*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(l-y)<=r.Ib*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(c-b)<=r.Ib*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(f-x)<=r.Ib*Math.max(1,Math.abs(f),Math.abs(x))}var O=g,R=A},8679:function(e,t,n){"use strict";n.d(t,{$X:function(){return f},AK:function(){return g},Fv:function(){return p},IH:function(){return c},JG:function(){return u},Jp:function(){return d},TK:function(){return E},Ue:function(){return i},VC:function(){return x},Zh:function(){return S},al:function(){return s},bA:function(){return h},d9:function(){return o},fF:function(){return y},kC:function(){return v},kE:function(){return a},kK:function(){return b},lu:function(){return w},t7:function(){return m},t8:function(){return l}});var r=n(907);function i(){var e=new r.WT(3);return r.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function o(e){var t=new r.WT(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function a(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function s(e,t,n){var i=new r.WT(3);return i[0]=e,i[1]=t,i[2]=n,i}function u(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function l(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function c(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function f(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function d(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function h(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function p(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function g(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function v(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2];return e[0]=i*u-o*s,e[1]=o*a-r*u,e[2]=r*s-i*a,e}function m(e,t,n,r){var i=t[0],o=t[1],a=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e}function y(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e}function b(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e}function x(e,t,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=t[0],u=t[1],l=t[2],c=i*l-o*u,f=o*s-r*l,d=r*u-i*s,h=i*d-o*f,p=o*c-r*d,g=r*f-i*c,v=2*a;return c*=v,f*=v,d*=v,h*=2,p*=2,g*=2,e[0]=s+c+h,e[1]=u+f+p,e[2]=l+d+g,e}var w=f,E=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.hypot(n,r,i)},S=a;!function(){var e=i()}()},1989:function(e){e.exports=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}},6250:function(e){e.exports=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}},9573:function(e){e.exports=function(e){var t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}},1523:function(e){e.exports=function(e,t){return e[0]=t[0],e[1]=t[1],e}},7684:function(e){e.exports=function(){var e=new Float32Array(2);return e[0]=0,e[1]=0,e}},1023:function(e){e.exports=function(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}},6219:function(e,t,n){e.exports=n(857)},857:function(e){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}},8785:function(e,t,n){e.exports=n(4967)},4967:function(e){e.exports=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}},847:function(e){e.exports=function(e,t){return e[0]*t[0]+e[1]*t[1]}},1446:function(e){e.exports=1e-6},3348:function(e,t,n){e.exports=function(e,t){var n=e[0],i=e[1],o=t[0],a=t[1];return Math.abs(n-o)<=r*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r*Math.max(1,Math.abs(i),Math.abs(a))};var r=n(1446)},2239:function(e){e.exports=function(e,t){return e[0]===t[0]&&e[1]===t[1]}},5497:function(e){e.exports=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}},4330:function(e,t,n){e.exports=function(e,t,n,i,o,a){var s,u;t||(t=2);n||(n=0);u=i?Math.min(i*t+n,e.length):e.length;for(s=n;s<u;s+=t)r[0]=e[s],r[1]=e[s+1],o(r,r,a),e[s]=r[0],e[s+1]=r[1];return e};var r=n(7684)()},9347:function(e){e.exports=function(e,t){var n=new Float32Array(2);return n[0]=e,n[1]=t,n}},1583:function(e,t,n){e.exports={EPSILON:n(1446),create:n(7684),clone:n(9573),fromValues:n(9347),copy:n(1523),set:n(5713),equals:n(3348),exactEquals:n(2239),add:n(1989),subtract:n(8828),sub:n(1756),multiply:n(3533),mul:n(3749),divide:n(4967),div:n(8785),inverse:n(8937),min:n(7539),max:n(6912),rotate:n(631),floor:n(5497),ceil:n(6250),round:n(190),scale:n(8362),scaleAndAdd:n(5685),distance:n(857),dist:n(6219),squaredDistance:n(5773),sqrDist:n(3039),length:n(11),len:n(5007),squaredLength:n(6915),sqrLen:n(4269),negate:n(9582),normalize:n(6845),dot:n(847),cross:n(1023),lerp:n(5358),random:n(2970),transformMat2:n(9519),transformMat2d:n(300),transformMat3:n(492),transformMat4:n(8823),forEach:n(4330),limit:n(1407)}},8937:function(e){e.exports=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}},5007:function(e,t,n){e.exports=n(11)},11:function(e){e.exports=function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}},5358:function(e){e.exports=function(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e}},1407:function(e){e.exports=function(e,t,n){var r=t[0]*t[0]+t[1]*t[1];if(r>n*n){var i=Math.sqrt(r);e[0]=t[0]/i*n,e[1]=t[1]/i*n}else e[0]=t[0],e[1]=t[1];return e}},6912:function(e){e.exports=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}},7539:function(e){e.exports=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}},3749:function(e,t,n){e.exports=n(3533)},3533:function(e){e.exports=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}},9582:function(e){e.exports=function(e,t){return e[0]=-t[0],e[1]=-t[1],e}},6845:function(e){e.exports=function(e,t){var n=t[0],r=t[1],i=n*n+r*r;i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i);return e}},2970:function(e){e.exports=function(e,t){t=t||1;var n=2*Math.random()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}},631:function(e){e.exports=function(e,t,n){var r=Math.cos(n),i=Math.sin(n),o=t[0],a=t[1];return e[0]=o*r-a*i,e[1]=o*i+a*r,e}},190:function(e){e.exports=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}},8362:function(e){e.exports=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}},5685:function(e){e.exports=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}},5713:function(e){e.exports=function(e,t,n){return e[0]=t,e[1]=n,e}},3039:function(e,t,n){e.exports=n(5773)},4269:function(e,t,n){e.exports=n(6915)},5773:function(e){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}},6915:function(e){e.exports=function(e){var t=e[0],n=e[1];return t*t+n*n}},1756:function(e,t,n){e.exports=n(8828)},8828:function(e){e.exports=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}},9519:function(e){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}},300:function(e){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}},492:function(e){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e}},8823:function(e){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var a=c(n);f&&(a=a.concat(f(n)));for(var s=u(t),g=u(n),v=0;v<a.length;++v){var m=a[v];if(!o[m]&&(!r||!r[m])&&(!g||!g[m])&&(!s||!s[m])){var y=d(n,m);try{l(t,m,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case f:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case l:case d:case v:case g:case u:return e;default:return t}}case i:return t}}}function E(e){return w(e)===f}t.AsyncMode=c,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=v,t.Memo=g,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return E(e)||w(e)===c},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===s||e===a||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===u||e.$$typeof===l||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===m)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},5929:function(e){var t=[],n=[];function r(e,r){if(r=r||{},void 0===e)throw new Error("insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).");var i,o=!0===r.prepend?"prepend":"append",a=void 0!==r.container?r.container:document.querySelector("head"),s=t.indexOf(a);return-1===s&&(s=t.push(a)-1,n[s]={}),void 0!==n[s]&&void 0!==n[s][o]?i=n[s][o]:(i=n[s][o]=function(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}(),"prepend"===o?a.insertBefore(i,a.childNodes[0]):a.appendChild(i)),65279===e.charCodeAt(0)&&(e=e.substr(1,e.length)),i.styleSheet?i.styleSheet.cssText+=e:i.textContent+=e,i}e.exports=r,e.exports.insertCss=r},722:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Symbol.for("INJECTION");function r(e,t,r,i){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return i&&!Reflect.hasMetadata(n,this,t)&&Reflect.defineMetadata(n,r(),this,t),Reflect.hasMetadata(n,this,t)?Reflect.getMetadata(n,this,t):r()},set:function(e){Reflect.defineMetadata(n,e,this,t)}})}t.makePropertyInjectDecorator=function(e,t){return function(n){return function(i,o){r(i,o,(function(){return e.get(n)}),t)}}},t.makePropertyInjectNamedDecorator=function(e,t){return function(n,i){return function(o,a){r(o,a,(function(){return e.getNamed(n,i)}),t)}}},t.makePropertyInjectTaggedDecorator=function(e,t){return function(n,i,o){return function(a,s){r(a,s,(function(){return e.getTagged(n,i,o)}),t)}}},t.makePropertyMultiInjectDecorator=function(e,t){return function(n){return function(i,o){r(i,o,(function(){return e.getAll(n)}),t)}}}},5696:function(e,t,n){"use strict";var r=n(722);t.Z=function(e,t){return void 0===t&&(t=!0),{lazyInject:r.makePropertyInjectDecorator(e,t),lazyInjectNamed:r.makePropertyInjectNamedDecorator(e,t),lazyInjectTagged:r.makePropertyInjectTaggedDecorator(e,t),lazyMultiInject:r.makePropertyMultiInjectDecorator(e,t)}}},3893:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagProperty=t.tagParameter=t.decorate=void 0;var r=n(9e3),i=n(7909);function o(e,t,n,i,o){var a={},s="number"===typeof o,u=void 0!==o&&s?o.toString():n;if(s&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(a=Reflect.getMetadata(e,t));var l=a[u];if(Array.isArray(l))for(var c=0,f=l;c<f.length;c++){var d=f[c];if(d.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+d.key.toString())}else l=[];l.push(i),a[u]=l,Reflect.defineMetadata(e,a,t)}function a(e,t){Reflect.decorate(e,t)}function s(e,t){return function(n,r){t(n,r,e)}}t.tagParameter=function(e,t,n,r){o(i.TAGGED,e,t,r,n)},t.tagProperty=function(e,t,n){o(i.TAGGED_PROP,e.constructor,t,n)},t.decorate=function(e,t,n){"number"===typeof n?a([s(n,e)],t):"string"===typeof n?Reflect.decorate([e],t,n):a([e],t)}},1412:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=t.LazyServiceIdentifer=void 0;var r=n(9e3),i=n(7909),o=n(4706),a=n(3893),s=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();t.LazyServiceIdentifer=s,t.inject=function(e){return function(t,n,s){if(void 0===e)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(t.name));var u=new o.Metadata(i.INJECT_TAG,e);"number"===typeof s?a.tagParameter(t,n,s,u):a.tagProperty(t,n,u)}}},9369:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var r=n(9e3),i=n(7909);t.injectable=function(){return function(e){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,e))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(i.PARAM_TYPES,t,e),e}}},5030:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiInject=void 0;var r=n(7909),i=n(4706),o=n(3893);t.multiInject=function(e){return function(t,n,a){var s=new i.Metadata(r.MULTI_INJECT_TAG,e);"number"===typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},8130:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.named=void 0;var r=n(7909),i=n(4706),o=n(3893);t.named=function(e){return function(t,n,a){var s=new i.Metadata(r.NAMED_TAG,e);"number"===typeof a?o.tagParameter(t,n,a,s):o.tagProperty(t,n,s)}}},4841:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optional=void 0;var r=n(7909),i=n(4706),o=n(3893);t.optional=function(){return function(e,t,n){var a=new i.Metadata(r.OPTIONAL_TAG,!0);"number"===typeof n?o.tagParameter(e,t,n,a):o.tagProperty(e,t,a)}}},4793:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var r=n(9e3),i=n(7909),o=n(4706);t.postConstruct=function(){return function(e,t,n){var a=new o.Metadata(i.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,e.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,a,e.constructor)}}},4460:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagged=void 0;var r=n(4706),i=n(3893);t.tagged=function(e,t){return function(n,o,a){var s=new r.Metadata(e,t);"number"===typeof a?i.tagParameter(n,o,a,s):i.tagProperty(n,o,s)}}},802:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.targetName=void 0;var r=n(7909),i=n(4706),o=n(3893);t.targetName=function(e){return function(t,n,a){var s=new i.Metadata(r.NAME_TAG,e);o.tagParameter(t,n,a,s)}}},6906:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unmanaged=void 0;var r=n(7909),i=n(4706),o=n(3893);t.unmanaged=function(){return function(e,t,n){var a=new i.Metadata(r.UNMANAGED_TAG,!0);o.tagParameter(e,t,n,a)}}},8522:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Binding=void 0;var r=n(1664),i=n(9825),o=function(){function e(e,t){this.id=i.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===r.BindingScopeEnum.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=o},1770:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingCount=void 0;t.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},9e3:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STACK_OVERFLOW=t.CIRCULAR_DEPENDENCY_IN_FACTORY=t.POST_CONSTRUCT_ERROR=t.MULTIPLE_POST_CONSTRUCT_METHODS=t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=t.ARGUMENTS_LENGTH_MISMATCH=t.INVALID_DECORATOR_OPERATION=t.INVALID_TO_SELF_VALUE=t.INVALID_FUNCTION_BINDING=t.INVALID_MIDDLEWARE_RETURN=t.NO_MORE_SNAPSHOTS_AVAILABLE=t.INVALID_BINDING_TYPE=t.NOT_IMPLEMENTED=t.CIRCULAR_DEPENDENCY=t.UNDEFINED_INJECT_ANNOTATION=t.MISSING_INJECT_ANNOTATION=t.MISSING_INJECTABLE_ANNOTATION=t.NOT_REGISTERED=t.CANNOT_UNBIND=t.AMBIGUOUS_MATCH=t.KEY_NOT_FOUND=t.NULL_ARGUMENT=t.DUPLICATED_METADATA=t.DUPLICATED_INJECTABLE_DECORATOR=void 0,t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";t.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";t.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";t.POST_CONSTRUCT_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]};t.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."},t.STACK_OVERFLOW="Maximum call stack size exceeded"},1664:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=void 0;t.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};t.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};t.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},7909:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NON_CUSTOM_TAG_KEYS=t.POST_CONSTRUCT=t.DESIGN_PARAM_TYPES=t.PARAM_TYPES=t.TAGGED_PROP=t.TAGGED=t.MULTI_INJECT_TAG=t.INJECT_TAG=t.OPTIONAL_TAG=t.UNMANAGED_TAG=t.NAME_TAG=t.NAMED_TAG=void 0,t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct",t.NON_CUSTOM_TAG_KEYS=[t.INJECT_TAG,t.MULTI_INJECT_TAG,t.NAME_TAG,t.UNMANAGED_TAG,t.NAMED_TAG,t.OPTIONAL_TAG]},3918:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var a=n(8522),s=n(9e3),u=n(1664),l=n(7909),c=n(4658),f=n(7206),d=n(1801),h=n(4310),p=n(9825),g=n(4362),v=n(5628),m=n(9847),y=function(){function e(e){this._appliedMiddleware=[];var t=e||{};if("object"!==typeof t)throw new Error(""+s.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=u.BindingScopeEnum.Transient;else if(t.defaultScope!==u.BindingScopeEnum.Singleton&&t.defaultScope!==u.BindingScopeEnum.Transient&&t.defaultScope!==u.BindingScopeEnum.Request)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!==typeof t.autoBindInjectable)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!==typeof t.skipBaseClassChecks)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=p.id(),this._bindingDictionary=new m.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new c.MetadataReader}return e.merge=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=new e,s=o([t,n],r).map((function(e){return f.getBindingDictionary(e)})),u=f.getBindingDictionary(a);function l(e,t){e.traverse((function(e,n){n.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))}return s.forEach((function(e){l(e,u)})),a},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=e;r<i.length;r++){var o=i[r],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,(function(){var t,n,r,o,a;return i(this,(function(i){switch(i.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,i.label=1;case 1:return n<r.length?(o=r[n],a=t(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(e){return function(t){return t.moduleId===e}};t.forEach((function(t){var n=r(t.id);e._bindingDictionary.removeByCondition(n)}))},e.prototype.bind=function(e){var t=this.options.defaultScope||u.BindingScopeEnum.Transient,n=new a.Binding(e,t);return this._bindingDictionary.add(e,n),new h.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(s.CANNOT_UNBIND+" "+g.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new m.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,l.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),o=f.createMockRequest(this,e,t,n);r=i.some((function(e){return e.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(v.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(s.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._appliedMiddleware=this._appliedMiddleware.concat(e);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,u.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,n){return this._get(!1,!1,u.TargetTypeEnum.Variable,e,t,n)},e.prototype.getNamed=function(e,t){return this.getTagged(e,l.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,u.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,u.TargetTypeEnum.Variable,e,t,n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,l.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),this._appliedMiddleware.forEach((function(e){t.applyMiddleware(e)})),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var i=e.rebind.bind(e)(r);return t(i,n),i}};return function(r){return{bindFunction:(i=r,function(n){var r=e.bind.bind(e)(n);return t(r,i),r}),isboundFunction:function(t){return e.isBound.bind(e)(t)},rebindFunction:n(r),unbindFunction:function(t){e.unbind.bind(e)(t)}};var i}},e.prototype._get=function(e,t,n,r,i,o){var a=null,u={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:i,serviceIdentifier:r,targetType:n,value:o};if(this._middleware){if(void 0===(a=this._middleware(u))||null===a)throw new Error(s.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(u);return a},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=f.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return n=t.contextInterceptor(n),d.resolve(n)}},e}();t.Container=y},7837:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncContainerModule=t.ContainerModule=void 0;var r=n(9825),i=function(e){this.id=r.id(),this.registry=e};t.ContainerModule=i;var o=function(e){this.id=r.id(),this.registry=e};t.AsyncContainerModule=o},5628:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerSnapshot=void 0;var n=function(){function e(){}return e.of=function(t,n){var r=new e;return r.bindings=t,r.middleware=n,r},e}();t.ContainerSnapshot=n},9847:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lookup=void 0;var r=n(9e3),i=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},e.prototype.get=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(r.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(r.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach((function(n,r){var i=n.filter((function(t){return!e(t)}));i.length>0?t._map.set(r,i):t._map.delete(r)}))},e.prototype.hasKey=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){e.forEach((function(e){return t.add(n,e.clone())}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,n){e(n,t)}))},e}();t.Lookup=i},6543:function(e,t,n){"use strict";t.f3=t.t6=t.b2=t.W2=void 0,n(7909);var r=n(3918);Object.defineProperty(t,"W2",{enumerable:!0,get:function(){return r.Container}});var i=n(1664);var o=n(7837);var a=n(9369);Object.defineProperty(t,"b2",{enumerable:!0,get:function(){return a.injectable}});var s=n(4460);var u=n(8130);Object.defineProperty(t,"t6",{enumerable:!0,get:function(){return u.named}});var l=n(1412);Object.defineProperty(t,"f3",{enumerable:!0,get:function(){return l.inject}});var c=n(4841);var f=n(6906);var d=n(5030);var h=n(802);var p=n(4793);var g=n(4658);var v=n(9825);var m=n(3893);var y=n(371);var b=n(4362);var x=n(6747)},3065:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var r=n(9825),i=function(){function e(e){this.id=r.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=i},4706:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(7909),i=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=i},4658:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataReader=void 0;var r=n(7909),i=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(r.TAGGED_PROP,e)||[]},e}();t.MetadataReader=i},343:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plan=void 0;var n=function(e,t){this.parentContext=e,this.rootRequest=t};t.Plan=n},7206:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBindingDictionary=t.createMockRequest=t.plan=void 0;var r=n(1770),i=n(9e3),o=n(1664),a=n(7909),s=n(6016),u=n(4362),l=n(3065),c=n(4706),f=n(343),d=n(2440),h=n(3668),p=n(697);function g(e){return e._bindingDictionary}function v(e,t,n,o,a){var s=y(n.container,a.serviceIdentifier),l=[];return s.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"===typeof a.serviceIdentifier&&e.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(a.serviceIdentifier).toSelf(),s=y(n.container,a.serviceIdentifier)),l=t?s:s.filter((function(e){var t=new h.Request(e.serviceIdentifier,n,o,e,a);return e.constraint(t)})),function(e,t,n,o){switch(t.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var a=u.getServiceIdentifierAsString(e),s=i.NOT_REGISTERED;throw s+=u.listMetadataForTarget(a,n),s+=u.listRegisteredBindingsForServiceIdentifier(o,a,y),new Error(s);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;a=u.getServiceIdentifierAsString(e),s=i.AMBIGUOUS_MATCH+" "+a;throw s+=u.listRegisteredBindingsForServiceIdentifier(o,a,y),new Error(s)}}(a.serviceIdentifier,l,a,n.container),l}function m(e,t,n,r,a,s){var u,l;if(null===a){u=v(e,t,r,null,s),l=new h.Request(n,r,null,u,s);var c=new f.Plan(r,l);r.addPlan(c)}else u=v(e,t,r,a,s),l=a.addChildRequest(s.serviceIdentifier,u,s);u.forEach((function(t){var n=null;if(s.isArray())n=l.addChildRequest(t.serviceIdentifier,t,s);else{if(t.cache)return;n=l}if(t.type===o.BindingTypeEnum.Instance&&null!==t.implementationType){var a=d.getDependencies(e,t.implementationType);if(!r.container.options.skipBaseClassChecks){var u=d.getBaseClassDependencyCount(e,t.implementationType);if(a.length<u){var c=i.ARGUMENTS_LENGTH_MISMATCH(d.getFunctionName(t.implementationType));throw new Error(c)}}a.forEach((function(t){m(e,!1,t.serviceIdentifier,r,n,t)}))}}))}function y(e,t){var n=[],r=g(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=y(e.parent,t)),n}t.getBindingDictionary=g,t.plan=function(e,t,n,r,i,o,f,d){void 0===d&&(d=!1);var h=new l.Context(t),g=function(e,t,n,r,i,o){var s=e?a.MULTI_INJECT_TAG:a.INJECT_TAG,u=new c.Metadata(s,n),l=new p.Target(t,r,n,u);if(void 0!==i){var f=new c.Metadata(i,o);l.metadata.push(f)}return l}(n,r,i,"",o,f);try{return m(e,d,i,h,null,g),h}catch(v){throw s.isStackOverflowExeption(v)&&h.plan&&u.circularDependencyToException(h.plan.rootRequest),v}},t.createMockRequest=function(e,t,n,r){var i=new p.Target(o.TargetTypeEnum.Variable,"",t,new c.Metadata(n,r)),a=new l.Context(e);return new h.Request(t,a,null,[],i)}},3970:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryableString=void 0;var n=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=n},2440:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=t.getBaseClassDependencyCount=t.getDependencies=void 0;var i=n(1412),o=n(9e3),a=n(1664),s=n(7909),u=n(4362);Object.defineProperty(t,"getFunctionName",{enumerable:!0,get:function(){return u.getFunctionName}});var l=n(697);function c(e,t,n,i){var a=e.getConstructorMetadata(n),s=a.compilerGeneratedMetadata;if(void 0===s){var u=o.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(u)}var l=a.userGeneratedMetadata,c=Object.keys(l),h=0===n.length&&c.length>0,p=c.length>n.length,g=function(e,t,n,r,i){for(var o=[],a=0;a<i;a++){var s=f(a,e,t,n,r);null!==s&&o.push(s)}return o}(i,t,s,l,h||p?c.length:n.length),v=d(e,n);return r(r([],g),v)}function f(e,t,n,r,s){var u=s[e.toString()]||[],c=h(u),f=!0!==c.unmanaged,d=r[e],p=c.inject||c.multiInject;if((d=p||d)instanceof i.LazyServiceIdentifer&&(d=d.unwrap()),f){if(!t&&(d===Object||d===Function||void 0===d)){var g=o.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(g)}var v=new l.Target(a.TargetTypeEnum.ConstructorArgument,c.targetName,d);return v.metadata=u,v}return null}function d(e,t){for(var n=e.getPropertiesMetadata(t),i=[],o=0,s=Object.keys(n);o<s.length;o++){var u=s[o],c=n[u],f=h(n[u]),p=f.targetName||u,g=f.inject||f.multiInject,v=new l.Target(a.TargetTypeEnum.ClassProperty,p,g);v.metadata=c,i.push(v)}var m=Object.getPrototypeOf(t.prototype).constructor;if(m!==Object){var y=d(e,m);i=r(r([],i),y)}return i}function h(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[s.INJECT_TAG],multiInject:t[s.MULTI_INJECT_TAG],targetName:t[s.NAME_TAG],unmanaged:t[s.UNMANAGED_TAG]}}t.getDependencies=function(e,t){return c(e,u.getFunctionName(t),t,!1)},t.getBaseClassDependencyCount=function e(t,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var i=c(t,u.getFunctionName(r),r,!0),o=i.map((function(e){return e.metadata.filter((function(e){return e.key===s.UNMANAGED_TAG}))})),a=[].concat.apply([],o).length,l=i.length-a;return l>0?l:e(t,r)}return 0}},3668:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var r=n(9825),i=function(){function e(e,t,n,i,o){this.id=r.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var i=new e(t,this.parentContext,this,n,r);return this.childRequests.push(i),i},e}();t.Request=i},697:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Target=void 0;var r=n(7909),i=n(9825),o=n(4706),a=n(3970),s=function(){function e(e,t,n,s){this.id=i.id(),this.type=e,this.serviceIdentifier=n,this.name=new a.QueryableString(t||""),this.metadata=new Array;var u=null;"string"===typeof s?u=new o.Metadata(r.NAMED_TAG,s):s instanceof o.Metadata&&(u=s),null!==u&&this.metadata.push(u)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){if(n[t].key===e)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(r.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))}))},e.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===r.NAMED_TAG}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(r.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,i=t.metadata;r<i.length;r++){var o=i[r];if(o.key===e&&o.value===n)return!0}return!1}},e}();t.Target=s},1265:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveInstance=void 0;var i=n(9e3),o=n(1664),a=n(7909);t.resolveInstance=function(e,t,n){var s,u,l=null;if(t.length>0){var c=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ConstructorArgument})).map(n);u=c,l=function(e,t,n){var r=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ClassProperty})),i=r.map(n);return r.forEach((function(t,n){var r;r=t.target.name.value();var o=i[n];e[r]=o})),e}(l=new((s=e).bind.apply(s,r([void 0],u))),t,n)}else l=new e;return function(e,t){if(Reflect.hasMetadata(a.POST_CONSTRUCT,e)){var n=Reflect.getMetadata(a.POST_CONSTRUCT,e);try{t[n.value]()}catch(r){throw new Error(i.POST_CONSTRUCT_ERROR(e.name,r.message))}}}(e,l),l}},1801:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=void 0;var r=n(9e3),i=n(1664),o=n(6016),a=n(4362),s=n(1265),u=function(e,t,n){try{return n()}catch(i){throw o.isStackOverflowExeption(i)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):i}},l=function e(t){return function(n){n.parentContext.setCurrentRequest(n);var o=n.bindings,l=n.childRequests,c=n.target&&n.target.isArray(),f=!n.parentRequest||!n.parentRequest.target||!n.target||!n.parentRequest.target.matchesArray(n.target.serviceIdentifier);if(c&&f)return l.map((function(n){return e(t)(n)}));var d=null;if(!n.target.isOptional()||0!==o.length){var h=o[0],p=h.scope===i.BindingScopeEnum.Singleton,g=h.scope===i.BindingScopeEnum.Request;if(p&&h.activated)return h.cache;if(g&&null!==t&&t.has(h.id))return t.get(h.id);if(h.type===i.BindingTypeEnum.ConstantValue)d=h.cache,h.activated=!0;else if(h.type===i.BindingTypeEnum.Function)d=h.cache,h.activated=!0;else if(h.type===i.BindingTypeEnum.Constructor)d=h.implementationType;else if(h.type===i.BindingTypeEnum.DynamicValue&&null!==h.dynamicValue)d=u("toDynamicValue",h.serviceIdentifier,(function(){return h.dynamicValue(n.parentContext)}));else if(h.type===i.BindingTypeEnum.Factory&&null!==h.factory)d=u("toFactory",h.serviceIdentifier,(function(){return h.factory(n.parentContext)}));else if(h.type===i.BindingTypeEnum.Provider&&null!==h.provider)d=u("toProvider",h.serviceIdentifier,(function(){return h.provider(n.parentContext)}));else{if(h.type!==i.BindingTypeEnum.Instance||null===h.implementationType){var v=a.getServiceIdentifierAsString(n.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+v)}d=s.resolveInstance(h.implementationType,l,e(t))}return"function"===typeof h.onActivation&&(d=h.onActivation(n.parentContext,d)),p&&(h.cache=d,h.activated=!0),g&&null!==t&&!t.has(h.id)&&t.set(h.id,d),d}}};t.resolve=function(e){return l(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}},6120:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInSyntax=void 0;var r=n(1664),i=n(56),o=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=o},8109:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInWhenOnSyntax=void 0;var r=n(6120),i=n(8262),o=n(3505),a=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=a},8262:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingOnSyntax=void 0;var r=n(3505),i=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new r.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=i},4310:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingToSyntax=void 0;var r=n(9e3),i=n(1664),o=n(8109),a=n(56),s=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=e,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!==typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!==typeof e)throw new Error(r.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=i.BindingTypeEnum.Function,this._binding.scope=i.BindingScopeEnum.Singleton,t},e.prototype.toAutoFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}();t.BindingToSyntax=s},56:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenOnSyntax=void 0;var r=n(8262),i=n(3505),o=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=o},3505:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenSyntax=void 0;var r=n(8262),i=n(371),o=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=i.namedConstraint(e),new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=i.taggedConstraint(e)(t),new r.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return i.typeConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return i.namedConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return i.taggedConstraint(e)(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=o},371:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=void 0;var r=n(7909),i=n(4706);t.traverseAncerstors=function e(t,n){var r=t.parentRequest;return null!==r&&(!!n(r)||e(r,n))};var o=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new i.Metadata(e,t),n}};t.taggedConstraint=o;var a=o(r.NAMED_TAG);t.namedConstraint=a;t.typeConstraint=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"===typeof e)return n.serviceIdentifier===e;var r=t.bindings[0].implementationType;return e===r}return!1}}},6747:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=void 0;t.multiBindToService=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return e.bind(n).toService(t)}))}}}},6016:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStackOverflowExeption=void 0;var r=n(9e3);t.isStackOverflowExeption=function(e){return e instanceof RangeError||e.message===r.STACK_OVERFLOW}},9825:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id=void 0;var n=0;t.id=function(){return n++}},4362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.circularDependencyToException=t.listMetadataForTarget=t.listRegisteredBindingsForServiceIdentifier=t.getServiceIdentifierAsString=t.getFunctionName=void 0;var r=n(9e3);function i(e){return"function"===typeof e?e.name:"symbol"===typeof e?e.toString():e}function o(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||o(e.parentRequest,t))}function a(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=i,t.listRegisteredBindingsForServiceIdentifier=function(e,t,n){var r="",i=n(e,t);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(e){var t="Object";null!==e.implementationType&&(t=a(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)}))),r},t.circularDependencyToException=function e(t){t.childRequests.forEach((function(t){if(o(t,t.serviceIdentifier)){var n=function(e){return function e(t,n){void 0===n&&(n=[]);var r=i(t.serviceIdentifier);return n.push(r),null!==t.parentRequest?e(t.parentRequest,n):n}(e).reverse().join(" --\x3e ")}(t);throw new Error(r.CIRCULAR_DEPENDENCY+" "+n)}e(t)}))},t.listMetadataForTarget=function(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach((function(e){n+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+n}return" "+e},t.getFunctionName=a},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),o=n(6037),a=n(4154),s=n(7728);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},8384:function(e,t,n){var r=n(3894),i=n(8699),o=n(4957),a=n(7184),s=n(7109);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),o=n(9186),a=n(3423),s=n(3739);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),o=n(1596);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},9424:function(e,t,n){var r=n(8384),i=n(511),o=n(835),a=n(707),s=n(8832),u=n(5077);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,e.exports=l},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},4497:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},7538:function(e,t,n){var r=n(6478),i=n(4963),o=n(3629),a=n(5174),s=n(6800),u=n(6899),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),f=!n&&!c&&a(e),d=!n&&!c&&!f&&u(e),h=n||c||f||d,p=h?r(e.length,String):[],g=p.length;for(var v in e)!t&&!l.call(e,v)||h&&("length"==v||f&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||p.push(v);return p}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),o=n(3581),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},3355:function(e,t,n){var r=n(9424),i=n(5305),o=n(2206),a=n(8078),s=n(8383),u=n(3629),l=n(5174),c=n(6899),f="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,v,m){var y=u(e),b=u(t),x=y?d:s(e),w=b?d:s(t),E=(x=x==f?h:x)==h,S=(w=w==f?h:w)==h,_=x==w;if(_&&l(e)){if(!l(t))return!1;y=!0,E=!1}if(_&&!E)return m||(m=new r),y||c(e)?i(e,t,n,g,v,m):o(e,t,x,n,g,v,m);if(!(1&n)){var T=E&&p.call(e,"__wrapped__"),k=S&&p.call(t,"__wrapped__");if(T||k){var C=T?e.value():e,M=k?t.value():t;return m||(m=new r),v(C,M,n,g,m)}}return!!_&&(m||(m=new r),a(e,t,n,g,v,m))}},6703:function(e,t,n){var r=n(4786),i=n(257),o=n(5418),a=n(7907),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,f=l.hasOwnProperty,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),o=n(3141),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},3654:function(e,t,n){var r=n(2169),i=n(8836),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},821:function(e,t,n){var r=n(6050),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},5305:function(e,t,n){var r=n(692),i=n(7897),o=n(75);e.exports=function(e,t,n,a,s,u){var l=1&n,c=e.length,f=t.length;if(c!=f&&!(l&&f>c))return!1;var d=u.get(e),h=u.get(t);if(d&&h)return d==t&&h==e;var p=-1,g=!0,v=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<c;){var m=e[p],y=t[p];if(a)var b=l?a(y,m,p,t,e,u):a(m,y,p,e,t,u);if(void 0!==b){if(b)continue;g=!1;break}if(v){if(!i(t,(function(e,t){if(!o(v,t)&&(m===e||s(m,e,n,a,u)))return v.push(t)}))){g=!1;break}}else if(m!==y&&!s(m,y,n,a,u)){g=!1;break}}return u.delete(e),u.delete(t),g}},2206:function(e,t,n){var r=n(7197),i=n(4497),o=n(9231),a=n(5305),s=n(234),u=n(2230),l=r?r.prototype:void 0,c=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=u),e.size!=t.size&&!p)return!1;var g=d.get(e);if(g)return g==t;r|=2,d.set(e,t);var v=a(h(e),h(t),r,l,f,d);return d.delete(e),v;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var u=1&n,l=r(e),c=l.length;if(c!=r(t).length&&!u)return!1;for(var f=c;f--;){var d=l[f];if(!(u?d in t:i.call(t,d)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var v=u;++f<c;){var m=e[d=l[f]],y=t[d];if(o)var b=u?o(y,m,d,t,e,s):o(m,y,d,e,t,s);if(!(void 0===b?m===y||a(m,y,n,o,s):b)){g=!1;break}v||(v="constructor"==d)}if(g&&!v){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(g=!1)}return s.delete(e),s.delete(t),g}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),o=n(2742);e.exports=function(e){return r(e,o,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},8383:function(e,t,n){var r=n(908),i=n(5797),o=n(8319),a=n(3924),s=n(7091),u=n(9066),l=n(7907),c="[object Map]",f="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",g=l(r),v=l(i),m=l(o),y=l(a),b=l(s),x=u;(r&&x(new r(new ArrayBuffer(1)))!=p||i&&x(new i)!=c||o&&x(o.resolve())!=f||a&&x(new a)!=d||s&&x(new s)!=h)&&(x=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case g:return p;case v:return c;case m:return f;case y:return d;case b:return h}return t}),e.exports=x},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2169:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),o=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),o=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},6050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},8573:function(e,t,n){var r=n(5418),i=n(72),o=n(2582),a=Math.max,s=Math.min;e.exports=function(e,t,n){var u,l,c,f,d,h,p=0,g=!1,v=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=u,r=l;return u=l=void 0,p=t,f=e.apply(r,n)}function b(e){return p=e,d=setTimeout(w,t),g?y(e):f}function x(e){var n=e-h;return void 0===h||n>=t||n<0||v&&e-p>=c}function w(){var e=i();if(x(e))return E(e);d=setTimeout(w,function(e){var n=t-(e-h);return v?s(n,c-(e-p)):n}(e))}function E(e){return d=void 0,m&&u?y(e):(u=l=void 0,f)}function S(){var e=i(),n=x(e);if(u=arguments,l=this,h=e,n){if(void 0===d)return b(h);if(v)return clearTimeout(d),d=setTimeout(w,t),y(h)}return void 0===d&&(d=setTimeout(w,t)),f}return t=o(t)||0,r(n)&&(g=!!n.leading,c=(v="maxWait"in n)?a(o(n.maxWait)||0,t):c,m="trailing"in n?!!n.trailing:m),S.cancel=function(){void 0!==d&&clearTimeout(d),p=0,u=h=l=d=void 0},S.flush=function(){return void 0===d?f:E(i())},S}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},4963:function(e,t,n){var r=n(4906),i=n(3141),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},8111:function(e,t,n){var r=n(1848);e.exports=function(e,t){return r(e,t)}},4786:function(e,t,n){var r=n(9066),i=n(5418);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},5418:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},6899:function(e,t,n){var r=n(8150),i=n(6194),o=n(9494),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},2742:function(e,t,n){var r=n(7538),i=n(3654),o=n(1473);e.exports=function(e){return o(e)?r(e):i(e)}},763:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,l=32,c=64,f=128,d=256,h=1/0,p=9007199254740991,g=NaN,v=4294967295,m=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",l],["partialRight",c],["rearg",d]],y="[object Arguments]",b="[object Array]",x="[object Boolean]",w="[object Date]",E="[object Error]",S="[object Function]",_="[object GeneratorFunction]",T="[object Map]",k="[object Number]",C="[object Object]",M="[object Promise]",A="[object RegExp]",N="[object Set]",P="[object String]",I="[object Symbol]",D="[object WeakMap]",O="[object ArrayBuffer]",R="[object DataView]",L="[object Float32Array]",j="[object Float64Array]",B="[object Int8Array]",F="[object Int16Array]",z="[object Int32Array]",Y="[object Uint8Array]",G="[object Uint8ClampedArray]",V="[object Uint16Array]",U="[object Uint32Array]",W=/\b__p \+= '';/g,Z=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,q=RegExp(X.source),J=RegExp(K.source),$=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ae=/^\s+/,se=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ge=/\w*$/,ve=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,xe=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ee=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,_e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Te="\\u2700-\\u27bf",ke="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Me="\\ufe0e\\ufe0f",Ae="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ne="['\u2019]",Pe="[\\ud800-\\udfff]",Ie="["+Ae+"]",De="["+_e+"]",Oe="\\d+",Re="[\\u2700-\\u27bf]",Le="["+ke+"]",je="[^\\ud800-\\udfff"+Ae+Oe+Te+ke+Ce+"]",Be="\\ud83c[\\udffb-\\udfff]",Fe="[^\\ud800-\\udfff]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Ye="[\\ud800-\\udbff][\\udc00-\\udfff]",Ge="["+Ce+"]",Ve="(?:"+Le+"|"+je+")",Ue="(?:"+Ge+"|"+je+")",We="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ze="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",He="(?:"+De+"|"+Be+")"+"?",Xe="[\\ufe0e\\ufe0f]?",Ke=Xe+He+("(?:\\u200d(?:"+[Fe,ze,Ye].join("|")+")"+Xe+He+")*"),qe="(?:"+[Re,ze,Ye].join("|")+")"+Ke,Je="(?:"+[Fe+De+"?",De,ze,Ye,Pe].join("|")+")",$e=RegExp(Ne,"g"),Qe=RegExp(De,"g"),et=RegExp(Be+"(?="+Be+")|"+Je+Ke,"g"),tt=RegExp([Ge+"?"+Le+"+"+We+"(?="+[Ie,Ge,"$"].join("|")+")",Ue+"+"+Ze+"(?="+[Ie,Ge+Ve,"$"].join("|")+")",Ge+"?"+Ve+"+"+We,Ge+"+"+Ze,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Oe,qe].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+_e+Me+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,at={};at[L]=at[j]=at[B]=at[F]=at[z]=at[Y]=at[G]=at[V]=at[U]=!0,at[y]=at[b]=at[O]=at[x]=at[R]=at[w]=at[E]=at[S]=at[T]=at[k]=at[C]=at[A]=at[N]=at[P]=at[D]=!1;var st={};st[y]=st[b]=st[O]=st[R]=st[x]=st[w]=st[L]=st[j]=st[B]=st[F]=st[z]=st[T]=st[k]=st[C]=st[A]=st[N]=st[P]=st[I]=st[Y]=st[G]=st[V]=st[U]=!0,st[E]=st[S]=st[D]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,ct=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,dt="object"==typeof self&&self&&self.Object===Object&&self,ht=ft||dt||Function("return this")(),pt=t&&!t.nodeType&&t,gt=pt&&e&&!e.nodeType&&e,vt=gt&&gt.exports===pt,mt=vt&&ft.process,yt=function(){try{var e=gt&&gt.require&&gt.require("util").types;return e||mt&&mt.binding&&mt.binding("util")}catch(t){}}(),bt=yt&&yt.isArrayBuffer,xt=yt&&yt.isDate,wt=yt&&yt.isMap,Et=yt&&yt.isRegExp,St=yt&&yt.isSet,_t=yt&&yt.isTypedArray;function Tt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function kt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Mt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Nt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Pt(e,t){return!!(null==e?0:e.length)&&Yt(e,t,0)>-1}function It(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Dt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Ot(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Rt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Lt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Bt=Wt("length");function Ft(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function zt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Yt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):zt(e,Vt,n)}function Gt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Vt(e){return e!==e}function Ut(e,t){var n=null==e?0:e.length;return n?Xt(e,t)/n:g}function Wt(e){return function(t){return null==t?i:t[e]}}function Zt(e){return function(t){return null==e?i:e[t]}}function Ht(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Xt(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function Kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function qt(e){return e?e.slice(0,gn(e)+1).replace(ae,""):e}function Jt(e){return function(t){return e(t)}}function $t(e,t){return Dt(t,(function(t){return e[t]}))}function Qt(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&Yt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Yt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=Zt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Zt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ut[e]}function sn(e){return nt.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function cn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function hn(e){return sn(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Bt(e)}function pn(e){return sn(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function gn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var vn=Zt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mn=function e(t){var n=(t=null==t?ht:mn.defaults(ht.Object(),t,mn.pick(ht,it))).Array,r=t.Date,se=t.Error,_e=t.Function,Te=t.Math,ke=t.Object,Ce=t.RegExp,Me=t.String,Ae=t.TypeError,Ne=n.prototype,Pe=_e.prototype,Ie=ke.prototype,De=t["__core-js_shared__"],Oe=Pe.toString,Re=Ie.hasOwnProperty,Le=0,je=function(){var e=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Be=Ie.toString,Fe=Oe.call(ke),ze=ht._,Ye=Ce("^"+Oe.call(Re).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ge=vt?t.Buffer:i,Ve=t.Symbol,Ue=t.Uint8Array,We=Ge?Ge.allocUnsafe:i,Ze=ln(ke.getPrototypeOf,ke),He=ke.create,Xe=Ie.propertyIsEnumerable,Ke=Ne.splice,qe=Ve?Ve.isConcatSpreadable:i,Je=Ve?Ve.iterator:i,et=Ve?Ve.toStringTag:i,nt=function(){try{var e=ho(ke,"defineProperty");return e({},"",{}),e}catch(t){}}(),ut=t.clearTimeout!==ht.clearTimeout&&t.clearTimeout,ft=r&&r.now!==ht.Date.now&&r.now,dt=t.setTimeout!==ht.setTimeout&&t.setTimeout,pt=Te.ceil,gt=Te.floor,mt=ke.getOwnPropertySymbols,yt=Ge?Ge.isBuffer:i,Bt=t.isFinite,Zt=Ne.join,yn=ln(ke.keys,ke),bn=Te.max,xn=Te.min,wn=r.now,En=t.parseInt,Sn=Te.random,_n=Ne.reverse,Tn=ho(t,"DataView"),kn=ho(t,"Map"),Cn=ho(t,"Promise"),Mn=ho(t,"Set"),An=ho(t,"WeakMap"),Nn=ho(ke,"create"),Pn=An&&new An,In={},Dn=zo(Tn),On=zo(kn),Rn=zo(Cn),Ln=zo(Mn),jn=zo(An),Bn=Ve?Ve.prototype:i,Fn=Bn?Bn.valueOf:i,zn=Bn?Bn.toString:i;function Yn(e){if(rs(e)&&!Za(e)&&!(e instanceof Wn)){if(e instanceof Un)return e;if(Re.call(e,"__wrapped__"))return Yo(e)}return new Un(e)}var Gn=function(){function e(){}return function(t){if(!ns(t))return{};if(He)return He(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Vn(){}function Un(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=v,this.__views__=[]}function Zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Xn;++t<n;)this.add(e[t])}function qn(e){var t=this.__data__=new Hn(e);this.size=t.size}function Jn(e,t){var n=Za(e),r=!n&&Wa(e),i=!n&&!r&&qa(e),o=!n&&!r&&!i&&fs(e),a=n||r||i||o,s=a?Kt(e.length,Me):[],u=s.length;for(var l in e)!t&&!Re.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||xo(l,u))||s.push(l);return s}function $n(e){var t=e.length;return t?e[Kr(0,t-1)]:i}function Qn(e,t){return jo(Ni(e),ur(t,0,e.length))}function er(e){return jo(Ni(e))}function tr(e,t,n){(n!==i&&!Ga(e[t],n)||n===i&&!(t in e))&&ar(e,t,n)}function nr(e,t,n){var r=e[t];Re.call(e,t)&&Ga(r,n)&&(n!==i||t in e)||ar(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Ga(e[n][0],t))return n;return-1}function ir(e,t,n,r){return hr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function or(e,t){return e&&Pi(t,Ds(t),e)}function ar(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,o=t.length,a=n(o),s=null==e;++r<o;)a[r]=s?i:Ms(e,t[r]);return a}function ur(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function lr(e,t,n,r,o,a){var s,u=1&t,l=2&t,c=4&t;if(n&&(s=o?n(e,r,o,a):n(e)),s!==i)return s;if(!ns(e))return e;var f=Za(e);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Re.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return Ni(e,s)}else{var d=vo(e),h=d==S||d==_;if(qa(e))return _i(e,u);if(d==C||d==y||h&&!o){if(s=l||h?{}:yo(e),!u)return l?function(e,t){return Pi(e,go(e),t)}(e,function(e,t){return e&&Pi(t,Os(t),e)}(s,e)):function(e,t){return Pi(e,po(e),t)}(e,or(s,e))}else{if(!st[d])return o?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case O:return Ti(e);case x:case w:return new r(+e);case R:return function(e,t){var n=t?Ti(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case j:case B:case F:case z:case Y:case G:case V:case U:return ki(e,n);case T:return new r;case k:case P:return new r(e);case A:return function(e){var t=new e.constructor(e.source,ge.exec(e));return t.lastIndex=e.lastIndex,t}(e);case N:return new r;case I:return i=e,Fn?ke(Fn.call(i)):{}}var i}(e,d,u)}}a||(a=new qn);var p=a.get(e);if(p)return p;a.set(e,s),us(e)?e.forEach((function(r){s.add(lr(r,t,n,r,e,a))})):is(e)&&e.forEach((function(r,i){s.set(i,lr(r,t,n,i,e,a))}));var g=f?i:(c?l?oo:io:l?Os:Ds)(e);return Ct(g||e,(function(r,i){g&&(r=e[i=r]),nr(s,i,lr(r,t,n,i,e,a))})),s}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=ke(e);r--;){var o=n[r],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function fr(e,t,n){if("function"!=typeof e)throw new Ae(o);return Do((function(){e.apply(i,n)}),t)}function dr(e,t,n,r){var i=-1,o=Pt,a=!0,s=e.length,u=[],l=t.length;if(!s)return u;n&&(t=Dt(t,Jt(n))),r?(o=It,a=!1):t.length>=200&&(o=Qt,a=!1,t=new Kn(t));e:for(;++i<s;){var c=e[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f===f){for(var d=l;d--;)if(t[d]===f)continue e;u.push(c)}else o(t,f,r)||u.push(c)}return u}Yn.templateSettings={escape:$,evaluate:Q,interpolate:ee,variable:"",imports:{_:Yn}},Yn.prototype=Vn.prototype,Yn.prototype.constructor=Yn,Un.prototype=Gn(Vn.prototype),Un.prototype.constructor=Un,Wn.prototype=Gn(Vn.prototype),Wn.prototype.constructor=Wn,Zn.prototype.clear=function(){this.__data__=Nn?Nn(null):{},this.size=0},Zn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Zn.prototype.get=function(e){var t=this.__data__;if(Nn){var n=t[e];return n===a?i:n}return Re.call(t,e)?t[e]:i},Zn.prototype.has=function(e){var t=this.__data__;return Nn?t[e]!==i:Re.call(t,e)},Zn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Nn&&t===i?a:t,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,!0)},Hn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Hn.prototype.has=function(e){return rr(this.__data__,e)>-1},Hn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Xn.prototype.clear=function(){this.size=0,this.__data__={hash:new Zn,map:new(kn||Hn),string:new Zn}},Xn.prototype.delete=function(e){var t=co(this,e).delete(e);return this.size-=t?1:0,t},Xn.prototype.get=function(e){return co(this,e).get(e)},Xn.prototype.has=function(e){return co(this,e).has(e)},Xn.prototype.set=function(e,t){var n=co(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(e){return this.__data__.set(e,a),this},Kn.prototype.has=function(e){return this.__data__.has(e)},qn.prototype.clear=function(){this.__data__=new Hn,this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},qn.prototype.get=function(e){return this.__data__.get(e)},qn.prototype.has=function(e){return this.__data__.has(e)},qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Hn){var r=n.__data__;if(!kn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Xn(r)}return n.set(e,t),this.size=n.size,this};var hr=Oi(wr),pr=Oi(Er,!0);function gr(e,t){var n=!0;return hr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function vr(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(u===i?s===s&&!cs(s):n(s,u)))var u=s,l=a}return l}function mr(e,t){var n=[];return hr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function yr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=bo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?yr(s,t-1,n,r,i):Ot(i,s):r||(i[i.length]=s)}return i}var br=Ri(),xr=Ri(!0);function wr(e,t){return e&&br(e,t,Ds)}function Er(e,t){return e&&xr(e,t,Ds)}function Sr(e,t){return Nt(t,(function(t){return Qa(e[t])}))}function _r(e,t){for(var n=0,r=(t=xi(t,e)).length;null!=e&&n<r;)e=e[Fo(t[n++])];return n&&n==r?e:i}function Tr(e,t,n){var r=t(e);return Za(e)?r:Ot(r,n(e))}function kr(e){return null==e?e===i?"[object Undefined]":"[object Null]":et&&et in ke(e)?function(e){var t=Re.call(e,et),n=e[et];try{e[et]=i;var r=!0}catch(a){}var o=Be.call(e);r&&(t?e[et]=n:delete e[et]);return o}(e):function(e){return Be.call(e)}(e)}function Cr(e,t){return e>t}function Mr(e,t){return null!=e&&Re.call(e,t)}function Ar(e,t){return null!=e&&t in ke(e)}function Nr(e,t,r){for(var o=r?It:Pt,a=e[0].length,s=e.length,u=s,l=n(s),c=1/0,f=[];u--;){var d=e[u];u&&t&&(d=Dt(d,Jt(t))),c=xn(d.length,c),l[u]=!r&&(t||a>=120&&d.length>=120)?new Kn(u&&d):i}d=e[0];var h=-1,p=l[0];e:for(;++h<a&&f.length<c;){var g=d[h],v=t?t(g):g;if(g=r||0!==g?g:0,!(p?Qt(p,v):o(f,v,r))){for(u=s;--u;){var m=l[u];if(!(m?Qt(m,v):o(e[u],v,r)))continue e}p&&p.push(v),f.push(g)}}return f}function Pr(e,t,n){var r=null==(e=Ao(e,t=xi(t,e)))?e:e[Fo($o(t))];return null==r?i:Tt(r,e,n)}function Ir(e){return rs(e)&&kr(e)==y}function Dr(e,t,n,r,o){return e===t||(null==e||null==t||!rs(e)&&!rs(t)?e!==e&&t!==t:function(e,t,n,r,o,a){var s=Za(e),u=Za(t),l=s?b:vo(e),c=u?b:vo(t),f=(l=l==y?C:l)==C,d=(c=c==y?C:c)==C,h=l==c;if(h&&qa(e)){if(!qa(t))return!1;s=!0,f=!1}if(h&&!f)return a||(a=new qn),s||fs(e)?no(e,t,n,r,o,a):function(e,t,n,r,i,o,a){switch(n){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O:return!(e.byteLength!=t.byteLength||!o(new Ue(e),new Ue(t)));case x:case w:case k:return Ga(+e,+t);case E:return e.name==t.name&&e.message==t.message;case A:case P:return e==t+"";case T:var s=un;case N:var u=1&r;if(s||(s=fn),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var c=no(s(e),s(t),r,i,o,a);return a.delete(e),c;case I:if(Fn)return Fn.call(e)==Fn.call(t)}return!1}(e,t,l,n,r,o,a);if(!(1&n)){var p=f&&Re.call(e,"__wrapped__"),g=d&&Re.call(t,"__wrapped__");if(p||g){var v=p?e.value():e,m=g?t.value():t;return a||(a=new qn),o(v,m,n,r,a)}}if(!h)return!1;return a||(a=new qn),function(e,t,n,r,o,a){var s=1&n,u=io(e),l=u.length,c=io(t).length;if(l!=c&&!s)return!1;var f=l;for(;f--;){var d=u[f];if(!(s?d in t:Re.call(t,d)))return!1}var h=a.get(e),p=a.get(t);if(h&&p)return h==t&&p==e;var g=!0;a.set(e,t),a.set(t,e);var v=s;for(;++f<l;){var m=e[d=u[f]],y=t[d];if(r)var b=s?r(y,m,d,t,e,a):r(m,y,d,e,t,a);if(!(b===i?m===y||o(m,y,n,r,a):b)){g=!1;break}v||(v="constructor"==d)}if(g&&!v){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(g=!1)}return a.delete(e),a.delete(t),g}(e,t,n,r,o,a)}(e,t,n,r,Dr,o))}function Or(e,t,n,r){var o=n.length,a=o,s=!r;if(null==e)return!a;for(e=ke(e);o--;){var u=n[o];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var l=(u=n[o])[0],c=e[l],f=u[1];if(s&&u[2]){if(c===i&&!(l in e))return!1}else{var d=new qn;if(r)var h=r(c,f,l,e,t,d);if(!(h===i?Dr(f,c,3,r,d):h))return!1}}return!0}function Rr(e){return!(!ns(e)||(t=e,je&&je in t))&&(Qa(e)?Ye:ye).test(zo(e));var t}function Lr(e){return"function"==typeof e?e:null==e?ou:"object"==typeof e?Za(e)?Gr(e[0],e[1]):Yr(e):pu(e)}function jr(e){if(!To(e))return yn(e);var t=[];for(var n in ke(e))Re.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Br(e){if(!ns(e))return function(e){var t=[];if(null!=e)for(var n in ke(e))t.push(n);return t}(e);var t=To(e),n=[];for(var r in e)("constructor"!=r||!t&&Re.call(e,r))&&n.push(r);return n}function Fr(e,t){return e<t}function zr(e,t){var r=-1,i=Xa(e)?n(e.length):[];return hr(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function Yr(e){var t=fo(e);return 1==t.length&&t[0][2]?Co(t[0][0],t[0][1]):function(n){return n===e||Or(n,e,t)}}function Gr(e,t){return Eo(e)&&ko(t)?Co(Fo(e),t):function(n){var r=Ms(n,e);return r===i&&r===t?As(n,e):Dr(t,r,3)}}function Vr(e,t,n,r,o){e!==t&&br(t,(function(a,s){if(o||(o=new qn),ns(a))!function(e,t,n,r,o,a,s){var u=Po(e,n),l=Po(t,n),c=s.get(l);if(c)return void tr(e,n,c);var f=a?a(u,l,n+"",e,t,s):i,d=f===i;if(d){var h=Za(l),p=!h&&qa(l),g=!h&&!p&&fs(l);f=l,h||p||g?Za(u)?f=u:Ka(u)?f=Ni(u):p?(d=!1,f=_i(l,!0)):g?(d=!1,f=ki(l,!0)):f=[]:as(l)||Wa(l)?(f=u,Wa(u)?f=bs(u):ns(u)&&!Qa(u)||(f=yo(l))):d=!1}d&&(s.set(l,f),o(f,l,r,a,s),s.delete(l));tr(e,n,f)}(e,t,s,n,Vr,r,o);else{var u=r?r(Po(e,s),a,s+"",e,t,o):i;u===i&&(u=a),tr(e,s,u)}}),Os)}function Ur(e,t){var n=e.length;if(n)return xo(t+=t<0?n:0,n)?e[t]:i}function Wr(e,t,n){t=t.length?Dt(t,(function(e){return Za(e)?function(t){return _r(t,1===e.length?e[0]:e)}:e})):[ou];var r=-1;t=Dt(t,Jt(lo()));var i=zr(e,(function(e,n,i){var o=Dt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var u=Ci(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Zr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=_r(e,a);n(s,a)&&ei(o,xi(a,e),s)}return o}function Hr(e,t,n,r){var i=r?Gt:Yt,o=-1,a=t.length,s=e;for(e===t&&(t=Ni(t)),n&&(s=Dt(e,Jt(n)));++o<a;)for(var u=0,l=t[o],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==e&&Ke.call(s,u,1),Ke.call(e,u,1);return e}function Xr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;xo(i)?Ke.call(e,i,1):di(e,i)}}return e}function Kr(e,t){return e+gt(Sn()*(t-e+1))}function qr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=gt(t/2))&&(e+=e)}while(t);return n}function Jr(e,t){return Oo(Mo(e,t,ou),e+"")}function $r(e){return $n(Gs(e))}function Qr(e,t){var n=Gs(e);return jo(n,ur(t,0,n.length))}function ei(e,t,n,r){if(!ns(e))return e;for(var o=-1,a=(t=xi(t,e)).length,s=a-1,u=e;null!=u&&++o<a;){var l=Fo(t[o]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=s){var f=u[l];(c=r?r(f,l,u):i)===i&&(c=ns(f)?f:xo(t[o+1])?[]:{})}nr(u,l,c),u=u[l]}return e}var ti=Pn?function(e,t){return Pn.set(e,t),e}:ou,ni=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:nu(t),writable:!0})}:ou;function ri(e){return jo(Gs(e))}function ii(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function oi(e,t){var n;return hr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!cs(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return si(e,t,ou,n)}function si(e,t,n,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!==t,u=null===t,l=cs(t),c=t===i;o<a;){var f=gt((o+a)/2),d=n(e[f]),h=d!==i,p=null===d,g=d===d,v=cs(d);if(s)var m=r||g;else m=c?g&&(r||h):u?g&&h&&(r||!p):l?g&&h&&!p&&(r||!v):!p&&!v&&(r?d<=t:d<t);m?o=f+1:a=f}return xn(a,4294967294)}function ui(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ga(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function li(e){return"number"==typeof e?e:cs(e)?g:+e}function ci(e){if("string"==typeof e)return e;if(Za(e))return Dt(e,ci)+"";if(cs(e))return zn?zn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fi(e,t,n){var r=-1,i=Pt,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=It;else if(o>=200){var l=t?null:qi(e);if(l)return fn(l);a=!1,i=Qt,u=new Kn}else u=t?[]:s;e:for(;++r<o;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,a&&f===f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),s.push(c)}else i(u,f,n)||(u!==s&&u.push(f),s.push(c))}return s}function di(e,t){return null==(e=Ao(e,t=xi(t,e)))||delete e[Fo($o(t))]}function hi(e,t,n,r){return ei(e,t,n(_r(e,t)),r)}function pi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ii(e,r?0:o,r?o+1:i):ii(e,r?o+1:0,r?i:o)}function gi(e,t){var n=e;return n instanceof Wn&&(n=n.value()),Rt(t,(function(e,t){return t.func.apply(t.thisArg,Ot([e],t.args))}),n)}function vi(e,t,r){var i=e.length;if(i<2)return i?fi(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=dr(a[o]||s,e[u],t,r));return fi(yr(a,1),t,r)}function mi(e,t,n){for(var r=-1,o=e.length,a=t.length,s={};++r<o;){var u=r<a?t[r]:i;n(s,e[r],u)}return s}function yi(e){return Ka(e)?e:[]}function bi(e){return"function"==typeof e?e:ou}function xi(e,t){return Za(e)?e:Eo(e,t)?[e]:Bo(xs(e))}var wi=Jr;function Ei(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ii(e,t,n)}var Si=ut||function(e){return ht.clearTimeout(e)};function _i(e,t){if(t)return e.slice();var n=e.length,r=We?We(n):new e.constructor(n);return e.copy(r),r}function Ti(e){var t=new e.constructor(e.byteLength);return new Ue(t).set(new Ue(e)),t}function ki(e,t){var n=t?Ti(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ci(e,t){if(e!==t){var n=e!==i,r=null===e,o=e===e,a=cs(e),s=t!==i,u=null===t,l=t===t,c=cs(t);if(!u&&!c&&!a&&e>t||a&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!o)return 1;if(!r&&!a&&!c&&e<t||c&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!l)return-1}return 0}function Mi(e,t,r,i){for(var o=-1,a=e.length,s=r.length,u=-1,l=t.length,c=bn(a-s,0),f=n(l+c),d=!i;++u<l;)f[u]=t[u];for(;++o<s;)(d||o<a)&&(f[r[o]]=e[o]);for(;c--;)f[u++]=e[o++];return f}function Ai(e,t,r,i){for(var o=-1,a=e.length,s=-1,u=r.length,l=-1,c=t.length,f=bn(a-u,0),d=n(f+c),h=!i;++o<f;)d[o]=e[o];for(var p=o;++l<c;)d[p+l]=t[l];for(;++s<u;)(h||o<a)&&(d[p+r[s]]=e[o++]);return d}function Ni(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Pi(e,t,n,r){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],l=r?r(n[u],e[u],u,n,e):i;l===i&&(l=e[u]),o?ar(n,u,l):nr(n,u,l)}return n}function Ii(e,t){return function(n,r){var i=Za(n)?kt:ir,o=t?t():{};return i(n,e,lo(r,2),o)}}function Di(e){return Jr((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&wo(n[0],n[1],s)&&(a=o<3?i:a,o=1),t=ke(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}function Oi(e,t){return function(n,r){if(null==n)return n;if(!Xa(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=ke(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Ri(e){return function(t,n,r){for(var i=-1,o=ke(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function Li(e){return function(t){var n=sn(t=xs(t))?pn(t):i,r=n?n[0]:t.charAt(0),o=n?Ei(n,1).join(""):t.slice(1);return r[e]()+o}}function ji(e){return function(t){return Rt(Qs(Ws(t).replace($e,"")),e,"")}}function Bi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Gn(e.prototype),r=e.apply(n,t);return ns(r)?r:n}}function Fi(e){return function(t,n,r){var o=ke(t);if(!Xa(t)){var a=lo(n,3);t=Ds(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[a?t[s]:s]:i}}function zi(e){return ro((function(t){var n=t.length,r=n,a=Un.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Ae(o);if(a&&!u&&"wrapper"==so(s))var u=new Un([],!0)}for(r=u?r:n;++r<n;){var l=so(s=t[r]),c="wrapper"==l?ao(s):i;u=c&&So(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[so(c[0])].apply(u,c[3]):1==s.length&&So(s)?u[l]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Za(r))return u.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Yi(e,t,r,o,a,s,u,l,c,d){var h=t&f,p=1&t,g=2&t,v=24&t,m=512&t,y=g?i:Bi(e);return function i(){for(var f=arguments.length,b=n(f),x=f;x--;)b[x]=arguments[x];if(v)var w=uo(i),E=nn(b,w);if(o&&(b=Mi(b,o,a,v)),s&&(b=Ai(b,s,u,v)),f-=E,v&&f<d){var S=cn(b,w);return Xi(e,t,Yi,i.placeholder,r,b,S,l,c,d-f)}var _=p?r:this,T=g?_[e]:e;return f=b.length,l?b=No(b,l):m&&f>1&&b.reverse(),h&&c<f&&(b.length=c),this&&this!==ht&&this instanceof i&&(T=y||Bi(T)),T.apply(_,b)}}function Gi(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Vi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=li(n),r=li(r)),o=e(n,r)}return o}}function Ui(e){return ro((function(t){return t=Dt(t,Jt(lo())),Jr((function(n){var r=this;return e(t,(function(e){return Tt(e,r,n)}))}))}))}function Wi(e,t){var n=(t=t===i?" ":ci(t)).length;if(n<2)return n?qr(t,e):t;var r=qr(t,pt(e/hn(t)));return sn(t)?Ei(pn(r),0,e).join(""):r.slice(0,e)}function Zi(e){return function(t,r,o){return o&&"number"!=typeof o&&wo(t,r,o)&&(r=o=i),t=gs(t),r===i?(r=t,t=0):r=gs(r),function(e,t,r,i){for(var o=-1,a=bn(pt((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s}(t,r,o=o===i?t<r?1:-1:gs(o),e)}}function Hi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ys(t),n=ys(n)),e(t,n)}}function Xi(e,t,n,r,o,a,s,u,f,d){var h=8&t;t|=h?l:c,4&(t&=~(h?c:l))||(t&=-4);var p=[e,t,o,h?a:i,h?s:i,h?i:a,h?i:s,u,f,d],g=n.apply(i,p);return So(e)&&Io(g,p),g.placeholder=r,Ro(g,e,t)}function Ki(e){var t=Te[e];return function(e,n){if(e=ys(e),(n=null==n?0:xn(vs(n),292))&&Bt(e)){var r=(xs(e)+"e").split("e");return+((r=(xs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var qi=Mn&&1/fn(new Mn([,-0]))[1]==h?function(e){return new Mn(e)}:cu;function Ji(e){return function(t){var n=vo(t);return n==T?un(t):n==N?dn(t):function(e,t){return Dt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function $i(e,t,r,a,h,p,g,v){var m=2&t;if(!m&&"function"!=typeof e)throw new Ae(o);var y=a?a.length:0;if(y||(t&=-97,a=h=i),g=g===i?g:bn(vs(g),0),v=v===i?v:vs(v),y-=h?h.length:0,t&c){var b=a,x=h;a=h=i}var w=m?i:ao(e),E=[e,t,r,a,h,b,x,p,g,v];if(w&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==f&&8==n||r==f&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?Mi(l,u,t[4]):u,e[4]=l?cn(e[3],s):t[4]}(u=t[5])&&(l=e[5],e[5]=l?Ai(l,u,t[6]):u,e[6]=l?cn(e[5],s):t[6]);(u=t[7])&&(e[7]=u);r&f&&(e[8]=null==e[8]?t[8]:xn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(E,w),e=E[0],t=E[1],r=E[2],a=E[3],h=E[4],!(v=E[9]=E[9]===i?m?0:e.length:bn(E[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||t==u?function(e,t,r){var o=Bi(e);return function a(){for(var s=arguments.length,u=n(s),l=s,c=uo(a);l--;)u[l]=arguments[l];var f=s<3&&u[0]!==c&&u[s-1]!==c?[]:cn(u,c);return(s-=f.length)<r?Xi(e,t,Yi,a.placeholder,i,u,f,i,i,r-s):Tt(this&&this!==ht&&this instanceof a?o:e,this,u)}}(e,t,v):t!=l&&33!=t||h.length?Yi.apply(i,E):function(e,t,r,i){var o=1&t,a=Bi(e);return function t(){for(var s=-1,u=arguments.length,l=-1,c=i.length,f=n(c+u),d=this&&this!==ht&&this instanceof t?a:e;++l<c;)f[l]=i[l];for(;u--;)f[l++]=arguments[++s];return Tt(d,o?r:this,f)}}(e,t,r,a);else var S=function(e,t,n){var r=1&t,i=Bi(e);return function t(){return(this&&this!==ht&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Ro((w?ti:Io)(S,E),e,t)}function Qi(e,t,n,r){return e===i||Ga(e,Ie[n])&&!Re.call(r,n)?t:e}function eo(e,t,n,r,o,a){return ns(e)&&ns(t)&&(a.set(t,e),Vr(e,t,i,eo,a),a.delete(t)),e}function to(e){return as(e)?i:e}function no(e,t,n,r,o,a){var s=1&n,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(e),f=a.get(t);if(c&&f)return c==t&&f==e;var d=-1,h=!0,p=2&n?new Kn:i;for(a.set(e,t),a.set(t,e);++d<u;){var g=e[d],v=t[d];if(r)var m=s?r(v,g,d,t,e,a):r(g,v,d,e,t,a);if(m!==i){if(m)continue;h=!1;break}if(p){if(!jt(t,(function(e,t){if(!Qt(p,t)&&(g===e||o(g,e,n,r,a)))return p.push(t)}))){h=!1;break}}else if(g!==v&&!o(g,v,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function ro(e){return Oo(Mo(e,i,Ho),e+"")}function io(e){return Tr(e,Ds,po)}function oo(e){return Tr(e,Os,go)}var ao=Pn?function(e){return Pn.get(e)}:cu;function so(e){for(var t=e.name+"",n=In[t],r=Re.call(In,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function uo(e){return(Re.call(Yn,"placeholder")?Yn:e).placeholder}function lo(){var e=Yn.iteratee||au;return e=e===au?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function co(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function fo(e){for(var t=Ds(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ko(i)]}return t}function ho(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Rr(n)?n:i}var po=mt?function(e){return null==e?[]:(e=ke(e),Nt(mt(e),(function(t){return Xe.call(e,t)})))}:mu,go=mt?function(e){for(var t=[];e;)Ot(t,po(e)),e=Ze(e);return t}:mu,vo=kr;function mo(e,t,n){for(var r=-1,i=(t=xi(t,e)).length,o=!1;++r<i;){var a=Fo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ts(i)&&xo(a,i)&&(Za(e)||Wa(e))}function yo(e){return"function"!=typeof e.constructor||To(e)?{}:Gn(Ze(e))}function bo(e){return Za(e)||Wa(e)||!!(qe&&e&&e[qe])}function xo(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&xe.test(e))&&e>-1&&e%1==0&&e<t}function wo(e,t,n){if(!ns(n))return!1;var r=typeof t;return!!("number"==r?Xa(n)&&xo(t,n.length):"string"==r&&t in n)&&Ga(n[t],e)}function Eo(e,t){if(Za(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!cs(e))||(ne.test(e)||!te.test(e)||null!=t&&e in ke(t))}function So(e){var t=so(e),n=Yn[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=ao(n);return!!r&&e===r[0]}(Tn&&vo(new Tn(new ArrayBuffer(1)))!=R||kn&&vo(new kn)!=T||Cn&&vo(Cn.resolve())!=M||Mn&&vo(new Mn)!=N||An&&vo(new An)!=D)&&(vo=function(e){var t=kr(e),n=t==C?e.constructor:i,r=n?zo(n):"";if(r)switch(r){case Dn:return R;case On:return T;case Rn:return M;case Ln:return N;case jn:return D}return t});var _o=De?Qa:yu;function To(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ie)}function ko(e){return e===e&&!ns(e)}function Co(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in ke(n)))}}function Mo(e,t,r){return t=bn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=bn(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=n(t+1);++o<t;)u[o]=i[o];return u[t]=r(s),Tt(e,this,u)}}function Ao(e,t){return t.length<2?e:_r(e,ii(t,0,-1))}function No(e,t){for(var n=e.length,r=xn(t.length,n),o=Ni(e);r--;){var a=t[r];e[r]=xo(a,n)?o[a]:i}return e}function Po(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Io=Lo(ti),Do=dt||function(e,t){return ht.setTimeout(e,t)},Oo=Lo(ni);function Ro(e,t,n){var r=t+"";return Oo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ct(m,(function(n){var r="_."+n[0];t&n[1]&&!Pt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(r),n)))}function Lo(e){var t=0,n=0;return function(){var r=wn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function jo(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=Kr(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Bo=function(e){var t=La(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(he,"$1"):n||e)})),t}));function Fo(e){if("string"==typeof e||cs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function zo(e){if(null!=e){try{return Oe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Yo(e){if(e instanceof Wn)return e.clone();var t=new Un(e.__wrapped__,e.__chain__);return t.__actions__=Ni(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Go=Jr((function(e,t){return Ka(e)?dr(e,yr(t,1,Ka,!0)):[]})),Vo=Jr((function(e,t){var n=$o(t);return Ka(n)&&(n=i),Ka(e)?dr(e,yr(t,1,Ka,!0),lo(n,2)):[]})),Uo=Jr((function(e,t){var n=$o(t);return Ka(n)&&(n=i),Ka(e)?dr(e,yr(t,1,Ka,!0),i,n):[]}));function Wo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:vs(n);return i<0&&(i=bn(r+i,0)),zt(e,lo(t,3),i)}function Zo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=vs(n),o=n<0?bn(r+o,0):xn(o,r-1)),zt(e,lo(t,3),o,!0)}function Ho(e){return(null==e?0:e.length)?yr(e,1):[]}function Xo(e){return e&&e.length?e[0]:i}var Ko=Jr((function(e){var t=Dt(e,yi);return t.length&&t[0]===e[0]?Nr(t):[]})),qo=Jr((function(e){var t=$o(e),n=Dt(e,yi);return t===$o(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Nr(n,lo(t,2)):[]})),Jo=Jr((function(e){var t=$o(e),n=Dt(e,yi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Nr(n,i,t):[]}));function $o(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Qo=Jr(ea);function ea(e,t){return e&&e.length&&t&&t.length?Hr(e,t):e}var ta=ro((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Xr(e,Dt(t,(function(e){return xo(e,n)?+e:e})).sort(Ci)),r}));function na(e){return null==e?e:_n.call(e)}var ra=Jr((function(e){return fi(yr(e,1,Ka,!0))})),ia=Jr((function(e){var t=$o(e);return Ka(t)&&(t=i),fi(yr(e,1,Ka,!0),lo(t,2))})),oa=Jr((function(e){var t=$o(e);return t="function"==typeof t?t:i,fi(yr(e,1,Ka,!0),i,t)}));function aa(e){if(!e||!e.length)return[];var t=0;return e=Nt(e,(function(e){if(Ka(e))return t=bn(e.length,t),!0})),Kt(t,(function(t){return Dt(e,Wt(t))}))}function sa(e,t){if(!e||!e.length)return[];var n=aa(e);return null==t?n:Dt(n,(function(e){return Tt(t,i,e)}))}var ua=Jr((function(e,t){return Ka(e)?dr(e,t):[]})),la=Jr((function(e){return vi(Nt(e,Ka))})),ca=Jr((function(e){var t=$o(e);return Ka(t)&&(t=i),vi(Nt(e,Ka),lo(t,2))})),fa=Jr((function(e){var t=$o(e);return t="function"==typeof t?t:i,vi(Nt(e,Ka),i,t)})),da=Jr(aa);var ha=Jr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,sa(e,n)}));function pa(e){var t=Yn(e);return t.__chain__=!0,t}function ga(e,t){return t(e)}var va=ro((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Wn&&xo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ga,args:[o],thisArg:i}),new Un(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var ma=Ii((function(e,t,n){Re.call(e,n)?++e[n]:ar(e,n,1)}));var ya=Fi(Wo),ba=Fi(Zo);function xa(e,t){return(Za(e)?Ct:hr)(e,lo(t,3))}function wa(e,t){return(Za(e)?Mt:pr)(e,lo(t,3))}var Ea=Ii((function(e,t,n){Re.call(e,n)?e[n].push(t):ar(e,n,[t])}));var Sa=Jr((function(e,t,r){var i=-1,o="function"==typeof t,a=Xa(e)?n(e.length):[];return hr(e,(function(e){a[++i]=o?Tt(t,e,r):Pr(e,t,r)})),a})),_a=Ii((function(e,t,n){ar(e,n,t)}));function Ta(e,t){return(Za(e)?Dt:zr)(e,lo(t,3))}var ka=Ii((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ca=Jr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&wo(e,t[0],t[1])?t=[]:n>2&&wo(t[0],t[1],t[2])&&(t=[t[0]]),Wr(e,yr(t,1),[])})),Ma=ft||function(){return ht.Date.now()};function Aa(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,$i(e,f,i,i,i,i,t)}function Na(e,t){var n;if("function"!=typeof t)throw new Ae(o);return e=vs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Pa=Jr((function(e,t,n){var r=1;if(n.length){var i=cn(n,uo(Pa));r|=l}return $i(e,r,t,n,i)})),Ia=Jr((function(e,t,n){var r=3;if(n.length){var i=cn(n,uo(Ia));r|=l}return $i(t,r,e,n,i)}));function Da(e,t,n){var r,a,s,u,l,c,f=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new Ae(o);function g(t){var n=r,o=a;return r=a=i,f=t,u=e.apply(o,n)}function v(e){return f=e,l=Do(y,t),d?g(e):u}function m(e){var n=e-c;return c===i||n>=t||n<0||h&&e-f>=s}function y(){var e=Ma();if(m(e))return b(e);l=Do(y,function(e){var n=t-(e-c);return h?xn(n,s-(e-f)):n}(e))}function b(e){return l=i,p&&r?g(e):(r=a=i,u)}function x(){var e=Ma(),n=m(e);if(r=arguments,a=this,c=e,n){if(l===i)return v(c);if(h)return Si(l),l=Do(y,t),g(c)}return l===i&&(l=Do(y,t)),u}return t=ys(t)||0,ns(n)&&(d=!!n.leading,s=(h="maxWait"in n)?bn(ys(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),x.cancel=function(){l!==i&&Si(l),f=0,r=c=a=l=i},x.flush=function(){return l===i?u:b(Ma())},x}var Oa=Jr((function(e,t){return fr(e,1,t)})),Ra=Jr((function(e,t,n){return fr(e,ys(t)||0,n)}));function La(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ae(o);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(La.Cache||Xn),n}function ja(e){if("function"!=typeof e)throw new Ae(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}La.Cache=Xn;var Ba=wi((function(e,t){var n=(t=1==t.length&&Za(t[0])?Dt(t[0],Jt(lo())):Dt(yr(t,1),Jt(lo()))).length;return Jr((function(r){for(var i=-1,o=xn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Tt(e,this,r)}))})),Fa=Jr((function(e,t){var n=cn(t,uo(Fa));return $i(e,l,i,t,n)})),za=Jr((function(e,t){var n=cn(t,uo(za));return $i(e,c,i,t,n)})),Ya=ro((function(e,t){return $i(e,d,i,i,i,t)}));function Ga(e,t){return e===t||e!==e&&t!==t}var Va=Hi(Cr),Ua=Hi((function(e,t){return e>=t})),Wa=Ir(function(){return arguments}())?Ir:function(e){return rs(e)&&Re.call(e,"callee")&&!Xe.call(e,"callee")},Za=n.isArray,Ha=bt?Jt(bt):function(e){return rs(e)&&kr(e)==O};function Xa(e){return null!=e&&ts(e.length)&&!Qa(e)}function Ka(e){return rs(e)&&Xa(e)}var qa=yt||yu,Ja=xt?Jt(xt):function(e){return rs(e)&&kr(e)==w};function $a(e){if(!rs(e))return!1;var t=kr(e);return t==E||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!as(e)}function Qa(e){if(!ns(e))return!1;var t=kr(e);return t==S||t==_||"[object AsyncFunction]"==t||"[object Proxy]"==t}function es(e){return"number"==typeof e&&e==vs(e)}function ts(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ns(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function rs(e){return null!=e&&"object"==typeof e}var is=wt?Jt(wt):function(e){return rs(e)&&vo(e)==T};function os(e){return"number"==typeof e||rs(e)&&kr(e)==k}function as(e){if(!rs(e)||kr(e)!=C)return!1;var t=Ze(e);if(null===t)return!0;var n=Re.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Oe.call(n)==Fe}var ss=Et?Jt(Et):function(e){return rs(e)&&kr(e)==A};var us=St?Jt(St):function(e){return rs(e)&&vo(e)==N};function ls(e){return"string"==typeof e||!Za(e)&&rs(e)&&kr(e)==P}function cs(e){return"symbol"==typeof e||rs(e)&&kr(e)==I}var fs=_t?Jt(_t):function(e){return rs(e)&&ts(e.length)&&!!at[kr(e)]};var ds=Hi(Fr),hs=Hi((function(e,t){return e<=t}));function ps(e){if(!e)return[];if(Xa(e))return ls(e)?pn(e):Ni(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=vo(e);return(t==T?un:t==N?fn:Gs)(e)}function gs(e){return e?(e=ys(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function vs(e){var t=gs(e),n=t%1;return t===t?n?t-n:t:0}function ms(e){return e?ur(vs(e),0,v):0}function ys(e){if("number"==typeof e)return e;if(cs(e))return g;if(ns(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ns(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=qt(e);var n=me.test(e);return n||be.test(e)?ct(e.slice(2),n?2:8):ve.test(e)?g:+e}function bs(e){return Pi(e,Os(e))}function xs(e){return null==e?"":ci(e)}var ws=Di((function(e,t){if(To(t)||Xa(t))Pi(t,Ds(t),e);else for(var n in t)Re.call(t,n)&&nr(e,n,t[n])})),Es=Di((function(e,t){Pi(t,Os(t),e)})),Ss=Di((function(e,t,n,r){Pi(t,Os(t),e,r)})),_s=Di((function(e,t,n,r){Pi(t,Ds(t),e,r)})),Ts=ro(sr);var ks=Jr((function(e,t){e=ke(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&wo(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],s=Os(a),u=-1,l=s.length;++u<l;){var c=s[u],f=e[c];(f===i||Ga(f,Ie[c])&&!Re.call(e,c))&&(e[c]=a[c])}return e})),Cs=Jr((function(e){return e.push(i,eo),Tt(Ls,i,e)}));function Ms(e,t,n){var r=null==e?i:_r(e,t);return r===i?n:r}function As(e,t){return null!=e&&mo(e,t,Ar)}var Ns=Gi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),e[t]=n}),nu(ou)),Ps=Gi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),Re.call(e,t)?e[t].push(n):e[t]=[n]}),lo),Is=Jr(Pr);function Ds(e){return Xa(e)?Jn(e):jr(e)}function Os(e){return Xa(e)?Jn(e,!0):Br(e)}var Rs=Di((function(e,t,n){Vr(e,t,n)})),Ls=Di((function(e,t,n,r){Vr(e,t,n,r)})),js=ro((function(e,t){var n={};if(null==e)return n;var r=!1;t=Dt(t,(function(t){return t=xi(t,e),r||(r=t.length>1),t})),Pi(e,oo(e),n),r&&(n=lr(n,7,to));for(var i=t.length;i--;)di(n,t[i]);return n}));var Bs=ro((function(e,t){return null==e?{}:function(e,t){return Zr(e,t,(function(t,n){return As(e,n)}))}(e,t)}));function Fs(e,t){if(null==e)return{};var n=Dt(oo(e),(function(e){return[e]}));return t=lo(t),Zr(e,n,(function(e,n){return t(e,n[0])}))}var zs=Ji(Ds),Ys=Ji(Os);function Gs(e){return null==e?[]:$t(e,Ds(e))}var Vs=ji((function(e,t,n){return t=t.toLowerCase(),e+(n?Us(t):t)}));function Us(e){return $s(xs(e).toLowerCase())}function Ws(e){return(e=xs(e))&&e.replace(we,rn).replace(Qe,"")}var Zs=ji((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Hs=ji((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Xs=Li("toLowerCase");var Ks=ji((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var qs=ji((function(e,t,n){return e+(n?" ":"")+$s(t)}));var Js=ji((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),$s=Li("toUpperCase");function Qs(e,t,n){return e=xs(e),(t=n?i:t)===i?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var eu=Jr((function(e,t){try{return Tt(e,i,t)}catch(n){return $a(n)?n:new se(n)}})),tu=ro((function(e,t){return Ct(t,(function(t){t=Fo(t),ar(e,t,Pa(e[t],e))})),e}));function nu(e){return function(){return e}}var ru=zi(),iu=zi(!0);function ou(e){return e}function au(e){return Lr("function"==typeof e?e:lr(e,1))}var su=Jr((function(e,t){return function(n){return Pr(n,e,t)}})),uu=Jr((function(e,t){return function(n){return Pr(e,n,t)}}));function lu(e,t,n){var r=Ds(t),i=Sr(t,r);null!=n||ns(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Sr(t,Ds(t)));var o=!(ns(n)&&"chain"in n)||!!n.chain,a=Qa(e);return Ct(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=Ni(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Ot([this.value()],arguments))})})),e}function cu(){}var fu=Ui(Dt),du=Ui(At),hu=Ui(jt);function pu(e){return Eo(e)?Wt(Fo(e)):function(e){return function(t){return _r(t,e)}}(e)}var gu=Zi(),vu=Zi(!0);function mu(){return[]}function yu(){return!1}var bu=Vi((function(e,t){return e+t}),0),xu=Ki("ceil"),wu=Vi((function(e,t){return e/t}),1),Eu=Ki("floor");var Su=Vi((function(e,t){return e*t}),1),_u=Ki("round"),Tu=Vi((function(e,t){return e-t}),0);return Yn.after=function(e,t){if("function"!=typeof t)throw new Ae(o);return e=vs(e),function(){if(--e<1)return t.apply(this,arguments)}},Yn.ary=Aa,Yn.assign=ws,Yn.assignIn=Es,Yn.assignInWith=Ss,Yn.assignWith=_s,Yn.at=Ts,Yn.before=Na,Yn.bind=Pa,Yn.bindAll=tu,Yn.bindKey=Ia,Yn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Za(e)?e:[e]},Yn.chain=pa,Yn.chunk=function(e,t,r){t=(r?wo(e,t,r):t===i)?1:bn(vs(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,u=n(pt(o/t));a<o;)u[s++]=ii(e,a,a+=t);return u},Yn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Yn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Ot(Za(r)?Ni(r):[r],yr(t,1))},Yn.cond=function(e){var t=null==e?0:e.length,n=lo();return e=t?Dt(e,(function(e){if("function"!=typeof e[1])throw new Ae(o);return[n(e[0]),e[1]]})):[],Jr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Tt(i[0],this,n))return Tt(i[1],this,n)}}))},Yn.conforms=function(e){return function(e){var t=Ds(e);return function(n){return cr(n,e,t)}}(lr(e,1))},Yn.constant=nu,Yn.countBy=ma,Yn.create=function(e,t){var n=Gn(e);return null==t?n:or(n,t)},Yn.curry=function e(t,n,r){var o=$i(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Yn.curryRight=function e(t,n,r){var o=$i(t,u,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Yn.debounce=Da,Yn.defaults=ks,Yn.defaultsDeep=Cs,Yn.defer=Oa,Yn.delay=Ra,Yn.difference=Go,Yn.differenceBy=Vo,Yn.differenceWith=Uo,Yn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=n||t===i?1:vs(t))<0?0:t,r):[]},Yn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,0,(t=r-(t=n||t===i?1:vs(t)))<0?0:t):[]},Yn.dropRightWhile=function(e,t){return e&&e.length?pi(e,lo(t,3),!0,!0):[]},Yn.dropWhile=function(e,t){return e&&e.length?pi(e,lo(t,3),!0):[]},Yn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&wo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=vs(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:vs(r))<0&&(r+=o),r=n>r?0:ms(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Yn.filter=function(e,t){return(Za(e)?Nt:mr)(e,lo(t,3))},Yn.flatMap=function(e,t){return yr(Ta(e,t),1)},Yn.flatMapDeep=function(e,t){return yr(Ta(e,t),h)},Yn.flatMapDepth=function(e,t,n){return n=n===i?1:vs(n),yr(Ta(e,t),n)},Yn.flatten=Ho,Yn.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,h):[]},Yn.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===i?1:vs(t)):[]},Yn.flip=function(e){return $i(e,512)},Yn.flow=ru,Yn.flowRight=iu,Yn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Yn.functions=function(e){return null==e?[]:Sr(e,Ds(e))},Yn.functionsIn=function(e){return null==e?[]:Sr(e,Os(e))},Yn.groupBy=Ea,Yn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Yn.intersection=Ko,Yn.intersectionBy=qo,Yn.intersectionWith=Jo,Yn.invert=Ns,Yn.invertBy=Ps,Yn.invokeMap=Sa,Yn.iteratee=au,Yn.keyBy=_a,Yn.keys=Ds,Yn.keysIn=Os,Yn.map=Ta,Yn.mapKeys=function(e,t){var n={};return t=lo(t,3),wr(e,(function(e,r,i){ar(n,t(e,r,i),e)})),n},Yn.mapValues=function(e,t){var n={};return t=lo(t,3),wr(e,(function(e,r,i){ar(n,r,t(e,r,i))})),n},Yn.matches=function(e){return Yr(lr(e,1))},Yn.matchesProperty=function(e,t){return Gr(e,lr(t,1))},Yn.memoize=La,Yn.merge=Rs,Yn.mergeWith=Ls,Yn.method=su,Yn.methodOf=uu,Yn.mixin=lu,Yn.negate=ja,Yn.nthArg=function(e){return e=vs(e),Jr((function(t){return Ur(t,e)}))},Yn.omit=js,Yn.omitBy=function(e,t){return Fs(e,ja(lo(t)))},Yn.once=function(e){return Na(2,e)},Yn.orderBy=function(e,t,n,r){return null==e?[]:(Za(t)||(t=null==t?[]:[t]),Za(n=r?i:n)||(n=null==n?[]:[n]),Wr(e,t,n))},Yn.over=fu,Yn.overArgs=Ba,Yn.overEvery=du,Yn.overSome=hu,Yn.partial=Fa,Yn.partialRight=za,Yn.partition=ka,Yn.pick=Bs,Yn.pickBy=Fs,Yn.property=pu,Yn.propertyOf=function(e){return function(t){return null==e?i:_r(e,t)}},Yn.pull=Qo,Yn.pullAll=ea,Yn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,lo(n,2)):e},Yn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,i,n):e},Yn.pullAt=ta,Yn.range=gu,Yn.rangeRight=vu,Yn.rearg=Ya,Yn.reject=function(e,t){return(Za(e)?Nt:mr)(e,ja(lo(t,3)))},Yn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=lo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Xr(e,i),n},Yn.rest=function(e,t){if("function"!=typeof e)throw new Ae(o);return Jr(e,t=t===i?t:vs(t))},Yn.reverse=na,Yn.sampleSize=function(e,t,n){return t=(n?wo(e,t,n):t===i)?1:vs(t),(Za(e)?Qn:Qr)(e,t)},Yn.set=function(e,t,n){return null==e?e:ei(e,t,n)},Yn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ei(e,t,n,r)},Yn.shuffle=function(e){return(Za(e)?er:ri)(e)},Yn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&wo(e,t,n)?(t=0,n=r):(t=null==t?0:vs(t),n=n===i?r:vs(n)),ii(e,t,n)):[]},Yn.sortBy=Ca,Yn.sortedUniq=function(e){return e&&e.length?ui(e):[]},Yn.sortedUniqBy=function(e,t){return e&&e.length?ui(e,lo(t,2)):[]},Yn.split=function(e,t,n){return n&&"number"!=typeof n&&wo(e,t,n)&&(t=n=i),(n=n===i?v:n>>>0)?(e=xs(e))&&("string"==typeof t||null!=t&&!ss(t))&&!(t=ci(t))&&sn(e)?Ei(pn(e),0,n):e.split(t,n):[]},Yn.spread=function(e,t){if("function"!=typeof e)throw new Ae(o);return t=null==t?0:bn(vs(t),0),Jr((function(n){var r=n[t],i=Ei(n,0,t);return r&&Ot(i,r),Tt(e,this,i)}))},Yn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Yn.take=function(e,t,n){return e&&e.length?ii(e,0,(t=n||t===i?1:vs(t))<0?0:t):[]},Yn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=r-(t=n||t===i?1:vs(t)))<0?0:t,r):[]},Yn.takeRightWhile=function(e,t){return e&&e.length?pi(e,lo(t,3),!1,!0):[]},Yn.takeWhile=function(e,t){return e&&e.length?pi(e,lo(t,3)):[]},Yn.tap=function(e,t){return t(e),e},Yn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ae(o);return ns(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Da(e,t,{leading:r,maxWait:t,trailing:i})},Yn.thru=ga,Yn.toArray=ps,Yn.toPairs=zs,Yn.toPairsIn=Ys,Yn.toPath=function(e){return Za(e)?Dt(e,Fo):cs(e)?[e]:Ni(Bo(xs(e)))},Yn.toPlainObject=bs,Yn.transform=function(e,t,n){var r=Za(e),i=r||qa(e)||fs(e);if(t=lo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ns(e)&&Qa(o)?Gn(Ze(e)):{}}return(i?Ct:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Yn.unary=function(e){return Aa(e,1)},Yn.union=ra,Yn.unionBy=ia,Yn.unionWith=oa,Yn.uniq=function(e){return e&&e.length?fi(e):[]},Yn.uniqBy=function(e,t){return e&&e.length?fi(e,lo(t,2)):[]},Yn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?fi(e,i,t):[]},Yn.unset=function(e,t){return null==e||di(e,t)},Yn.unzip=aa,Yn.unzipWith=sa,Yn.update=function(e,t,n){return null==e?e:hi(e,t,bi(n))},Yn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:hi(e,t,bi(n),r)},Yn.values=Gs,Yn.valuesIn=function(e){return null==e?[]:$t(e,Os(e))},Yn.without=ua,Yn.words=Qs,Yn.wrap=function(e,t){return Fa(bi(t),e)},Yn.xor=la,Yn.xorBy=ca,Yn.xorWith=fa,Yn.zip=da,Yn.zipObject=function(e,t){return mi(e||[],t||[],nr)},Yn.zipObjectDeep=function(e,t){return mi(e||[],t||[],ei)},Yn.zipWith=ha,Yn.entries=zs,Yn.entriesIn=Ys,Yn.extend=Es,Yn.extendWith=Ss,lu(Yn,Yn),Yn.add=bu,Yn.attempt=eu,Yn.camelCase=Vs,Yn.capitalize=Us,Yn.ceil=xu,Yn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ys(n))===n?n:0),t!==i&&(t=(t=ys(t))===t?t:0),ur(ys(e),t,n)},Yn.clone=function(e){return lr(e,4)},Yn.cloneDeep=function(e){return lr(e,5)},Yn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:i)},Yn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:i)},Yn.conformsTo=function(e,t){return null==t||cr(e,t,Ds(t))},Yn.deburr=Ws,Yn.defaultTo=function(e,t){return null==e||e!==e?t:e},Yn.divide=wu,Yn.endsWith=function(e,t,n){e=xs(e),t=ci(t);var r=e.length,o=n=n===i?r:ur(vs(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Yn.eq=Ga,Yn.escape=function(e){return(e=xs(e))&&J.test(e)?e.replace(K,on):e},Yn.escapeRegExp=function(e){return(e=xs(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Yn.every=function(e,t,n){var r=Za(e)?At:gr;return n&&wo(e,t,n)&&(t=i),r(e,lo(t,3))},Yn.find=ya,Yn.findIndex=Wo,Yn.findKey=function(e,t){return Ft(e,lo(t,3),wr)},Yn.findLast=ba,Yn.findLastIndex=Zo,Yn.findLastKey=function(e,t){return Ft(e,lo(t,3),Er)},Yn.floor=Eu,Yn.forEach=xa,Yn.forEachRight=wa,Yn.forIn=function(e,t){return null==e?e:br(e,lo(t,3),Os)},Yn.forInRight=function(e,t){return null==e?e:xr(e,lo(t,3),Os)},Yn.forOwn=function(e,t){return e&&wr(e,lo(t,3))},Yn.forOwnRight=function(e,t){return e&&Er(e,lo(t,3))},Yn.get=Ms,Yn.gt=Va,Yn.gte=Ua,Yn.has=function(e,t){return null!=e&&mo(e,t,Mr)},Yn.hasIn=As,Yn.head=Xo,Yn.identity=ou,Yn.includes=function(e,t,n,r){e=Xa(e)?e:Gs(e),n=n&&!r?vs(n):0;var i=e.length;return n<0&&(n=bn(i+n,0)),ls(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Yt(e,t,n)>-1},Yn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:vs(n);return i<0&&(i=bn(r+i,0)),Yt(e,t,i)},Yn.inRange=function(e,t,n){return t=gs(t),n===i?(n=t,t=0):n=gs(n),function(e,t,n){return e>=xn(t,n)&&e<bn(t,n)}(e=ys(e),t,n)},Yn.invoke=Is,Yn.isArguments=Wa,Yn.isArray=Za,Yn.isArrayBuffer=Ha,Yn.isArrayLike=Xa,Yn.isArrayLikeObject=Ka,Yn.isBoolean=function(e){return!0===e||!1===e||rs(e)&&kr(e)==x},Yn.isBuffer=qa,Yn.isDate=Ja,Yn.isElement=function(e){return rs(e)&&1===e.nodeType&&!as(e)},Yn.isEmpty=function(e){if(null==e)return!0;if(Xa(e)&&(Za(e)||"string"==typeof e||"function"==typeof e.splice||qa(e)||fs(e)||Wa(e)))return!e.length;var t=vo(e);if(t==T||t==N)return!e.size;if(To(e))return!jr(e).length;for(var n in e)if(Re.call(e,n))return!1;return!0},Yn.isEqual=function(e,t){return Dr(e,t)},Yn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Dr(e,t,i,n):!!r},Yn.isError=$a,Yn.isFinite=function(e){return"number"==typeof e&&Bt(e)},Yn.isFunction=Qa,Yn.isInteger=es,Yn.isLength=ts,Yn.isMap=is,Yn.isMatch=function(e,t){return e===t||Or(e,t,fo(t))},Yn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Or(e,t,fo(t),n)},Yn.isNaN=function(e){return os(e)&&e!=+e},Yn.isNative=function(e){if(_o(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Rr(e)},Yn.isNil=function(e){return null==e},Yn.isNull=function(e){return null===e},Yn.isNumber=os,Yn.isObject=ns,Yn.isObjectLike=rs,Yn.isPlainObject=as,Yn.isRegExp=ss,Yn.isSafeInteger=function(e){return es(e)&&e>=-9007199254740991&&e<=p},Yn.isSet=us,Yn.isString=ls,Yn.isSymbol=cs,Yn.isTypedArray=fs,Yn.isUndefined=function(e){return e===i},Yn.isWeakMap=function(e){return rs(e)&&vo(e)==D},Yn.isWeakSet=function(e){return rs(e)&&"[object WeakSet]"==kr(e)},Yn.join=function(e,t){return null==e?"":Zt.call(e,t)},Yn.kebabCase=Zs,Yn.last=$o,Yn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=vs(n))<0?bn(r+o,0):xn(o,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):zt(e,Vt,o,!0)},Yn.lowerCase=Hs,Yn.lowerFirst=Xs,Yn.lt=ds,Yn.lte=hs,Yn.max=function(e){return e&&e.length?vr(e,ou,Cr):i},Yn.maxBy=function(e,t){return e&&e.length?vr(e,lo(t,2),Cr):i},Yn.mean=function(e){return Ut(e,ou)},Yn.meanBy=function(e,t){return Ut(e,lo(t,2))},Yn.min=function(e){return e&&e.length?vr(e,ou,Fr):i},Yn.minBy=function(e,t){return e&&e.length?vr(e,lo(t,2),Fr):i},Yn.stubArray=mu,Yn.stubFalse=yu,Yn.stubObject=function(){return{}},Yn.stubString=function(){return""},Yn.stubTrue=function(){return!0},Yn.multiply=Su,Yn.nth=function(e,t){return e&&e.length?Ur(e,vs(t)):i},Yn.noConflict=function(){return ht._===this&&(ht._=ze),this},Yn.noop=cu,Yn.now=Ma,Yn.pad=function(e,t,n){e=xs(e);var r=(t=vs(t))?hn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Wi(gt(i),n)+e+Wi(pt(i),n)},Yn.padEnd=function(e,t,n){e=xs(e);var r=(t=vs(t))?hn(e):0;return t&&r<t?e+Wi(t-r,n):e},Yn.padStart=function(e,t,n){e=xs(e);var r=(t=vs(t))?hn(e):0;return t&&r<t?Wi(t-r,n)+e:e},Yn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),En(xs(e).replace(ae,""),t||0)},Yn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&wo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=gs(e),t===i?(t=e,e=0):t=gs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Sn();return xn(e+o*(t-e+lt("1e-"+((o+"").length-1))),t)}return Kr(e,t)},Yn.reduce=function(e,t,n){var r=Za(e)?Rt:Ht,i=arguments.length<3;return r(e,lo(t,4),n,i,hr)},Yn.reduceRight=function(e,t,n){var r=Za(e)?Lt:Ht,i=arguments.length<3;return r(e,lo(t,4),n,i,pr)},Yn.repeat=function(e,t,n){return t=(n?wo(e,t,n):t===i)?1:vs(t),qr(xs(e),t)},Yn.replace=function(){var e=arguments,t=xs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Yn.result=function(e,t,n){var r=-1,o=(t=xi(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[Fo(t[r])];a===i&&(r=o,a=n),e=Qa(a)?a.call(e):a}return e},Yn.round=_u,Yn.runInContext=e,Yn.sample=function(e){return(Za(e)?$n:$r)(e)},Yn.size=function(e){if(null==e)return 0;if(Xa(e))return ls(e)?hn(e):e.length;var t=vo(e);return t==T||t==N?e.size:jr(e).length},Yn.snakeCase=Ks,Yn.some=function(e,t,n){var r=Za(e)?jt:oi;return n&&wo(e,t,n)&&(t=i),r(e,lo(t,3))},Yn.sortedIndex=function(e,t){return ai(e,t)},Yn.sortedIndexBy=function(e,t,n){return si(e,t,lo(n,2))},Yn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ai(e,t);if(r<n&&Ga(e[r],t))return r}return-1},Yn.sortedLastIndex=function(e,t){return ai(e,t,!0)},Yn.sortedLastIndexBy=function(e,t,n){return si(e,t,lo(n,2),!0)},Yn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ai(e,t,!0)-1;if(Ga(e[n],t))return n}return-1},Yn.startCase=qs,Yn.startsWith=function(e,t,n){return e=xs(e),n=null==n?0:ur(vs(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},Yn.subtract=Tu,Yn.sum=function(e){return e&&e.length?Xt(e,ou):0},Yn.sumBy=function(e,t){return e&&e.length?Xt(e,lo(t,2)):0},Yn.template=function(e,t,n){var r=Yn.templateSettings;n&&wo(e,t,n)&&(t=i),e=xs(e),t=Ss({},t,r,Qi);var o,a,s=Ss({},t.imports,r.imports,Qi),u=Ds(s),l=$t(s,u),c=0,f=t.interpolate||Ee,d="__p += '",h=Ce((t.escape||Ee).source+"|"+f.source+"|"+(f===ee?pe:Ee).source+"|"+(t.evaluate||Ee).source+"|$","g"),p="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(h,(function(t,n,r,i,s,u){return r||(r=i),d+=e.slice(c,u).replace(Se,an),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),d+="';\n";var g=Re.call(t,"variable")&&t.variable;if(g){if(de.test(g))throw new se("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(W,""):d).replace(Z,"$1").replace(H,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=eu((function(){return _e(u,p+"return "+d).apply(i,l)}));if(v.source=d,$a(v))throw v;return v},Yn.times=function(e,t){if((e=vs(e))<1||e>p)return[];var n=v,r=xn(e,v);t=lo(t),e-=v;for(var i=Kt(r,t);++n<e;)t(n);return i},Yn.toFinite=gs,Yn.toInteger=vs,Yn.toLength=ms,Yn.toLower=function(e){return xs(e).toLowerCase()},Yn.toNumber=ys,Yn.toSafeInteger=function(e){return e?ur(vs(e),-9007199254740991,p):0===e?e:0},Yn.toString=xs,Yn.toUpper=function(e){return xs(e).toUpperCase()},Yn.trim=function(e,t,n){if((e=xs(e))&&(n||t===i))return qt(e);if(!e||!(t=ci(t)))return e;var r=pn(e),o=pn(t);return Ei(r,en(r,o),tn(r,o)+1).join("")},Yn.trimEnd=function(e,t,n){if((e=xs(e))&&(n||t===i))return e.slice(0,gn(e)+1);if(!e||!(t=ci(t)))return e;var r=pn(e);return Ei(r,0,tn(r,pn(t))+1).join("")},Yn.trimStart=function(e,t,n){if((e=xs(e))&&(n||t===i))return e.replace(ae,"");if(!e||!(t=ci(t)))return e;var r=pn(e);return Ei(r,en(r,pn(t))).join("")},Yn.truncate=function(e,t){var n=30,r="...";if(ns(t)){var o="separator"in t?t.separator:o;n="length"in t?vs(t.length):n,r="omission"in t?ci(t.omission):r}var a=(e=xs(e)).length;if(sn(e)){var s=pn(e);a=s.length}if(n>=a)return e;var u=n-hn(r);if(u<1)return r;var l=s?Ei(s,0,u).join(""):e.slice(0,u);if(o===i)return l+r;if(s&&(u+=l.length-u),ss(o)){if(e.slice(u).search(o)){var c,f=l;for(o.global||(o=Ce(o.source,xs(ge.exec(o))+"g")),o.lastIndex=0;c=o.exec(f);)var d=c.index;l=l.slice(0,d===i?u:d)}}else if(e.indexOf(ci(o),u)!=u){var h=l.lastIndexOf(o);h>-1&&(l=l.slice(0,h))}return l+r},Yn.unescape=function(e){return(e=xs(e))&&q.test(e)?e.replace(X,vn):e},Yn.uniqueId=function(e){var t=++Le;return xs(e)+t},Yn.upperCase=Js,Yn.upperFirst=$s,Yn.each=xa,Yn.eachRight=wa,Yn.first=Xo,lu(Yn,function(){var e={};return wr(Yn,(function(t,n){Re.call(Yn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Yn.VERSION="4.17.21",Ct(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Yn[e].placeholder=Yn})),Ct(["drop","take"],(function(e,t){Wn.prototype[e]=function(n){n=n===i?1:bn(vs(n),0);var r=this.__filtered__&&!t?new Wn(this):this.clone();return r.__filtered__?r.__takeCount__=xn(n,r.__takeCount__):r.__views__.push({size:xn(n,v),type:e+(r.__dir__<0?"Right":"")}),r},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ct(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:lo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ct(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),Ct(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(ou)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=Jr((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Pr(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(ja(lo(e)))},Wn.prototype.slice=function(e,t){e=vs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Wn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=vs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(v)},wr(Wn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Yn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(Yn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof Wn,l=s[0],c=u||Za(t),f=function(e){var t=o.apply(Yn,Ot([e],s));return r&&d?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,g=u&&!h;if(!a&&c){t=g?t:new Wn(this);var v=e.apply(t,s);return v.__actions__.push({func:ga,args:[f],thisArg:i}),new Un(v,d)}return p&&g?e.apply(this,s):(v=this.thru(f),p?r?v.value()[0]:v.value():v)})})),Ct(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ne[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Yn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Za(i)?i:[],e)}return this[n]((function(n){return t.apply(Za(n)?n:[],e)}))}})),wr(Wn.prototype,(function(e,t){var n=Yn[t];if(n){var r=n.name+"";Re.call(In,r)||(In[r]=[]),In[r].push({name:t,func:n})}})),In[Yi(i,2).name]=[{name:"wrapper",func:i}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=Ni(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ni(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ni(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Za(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=xn(t,e+a);break;case"takeRight":e=bn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,f=c.length,d=0,h=xn(u,this.__takeCount__);if(!n||!r&&i==u&&h==u)return gi(e,this.__actions__);var p=[];e:for(;u--&&d<h;){for(var g=-1,v=e[l+=t];++g<f;){var m=c[g],y=m.iteratee,b=m.type,x=y(v);if(2==b)v=x;else if(!x){if(1==b)continue e;break e}}p[d++]=v}return p},Yn.prototype.at=va,Yn.prototype.chain=function(){return pa(this)},Yn.prototype.commit=function(){return new Un(this.value(),this.__chain__)},Yn.prototype.next=function(){this.__values__===i&&(this.__values__=ps(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Yn.prototype.plant=function(e){for(var t,n=this;n instanceof Vn;){var r=Yo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Yn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:ga,args:[na],thisArg:i}),new Un(t,this.__chain__)}return this.thru(na)},Yn.prototype.toJSON=Yn.prototype.valueOf=Yn.prototype.value=function(){return gi(this.__wrapped__,this.__actions__)},Yn.prototype.first=Yn.prototype.head,Je&&(Yn.prototype[Je]=function(){return this}),Yn}();ht._=mn,(r=function(){return mn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},72:function(e,t,n){var r=n(7009);e.exports=function(){return r.Date.now()}},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},2582:function(e,t,n){var r=n(821),i=n(5418),o=n(152),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},1132:function(e,t,n){"use strict";n.r(t),n.d(t,{AbstractMatrix:function(){return z},CHO:function(){return we},CholeskyDecomposition:function(){return we},EVD:function(){return ge},EigenvalueDecomposition:function(){return ge},LU:function(){return ne},LuDecomposition:function(){return ne},Matrix:function(){return G},MatrixColumnSelectionView:function(){return W},MatrixColumnView:function(){return U},MatrixFlipColumnView:function(){return Z},MatrixFlipRowView:function(){return H},MatrixRowSelectionView:function(){return K},MatrixRowView:function(){return X},MatrixSelectionView:function(){return q},MatrixSubView:function(){return J},MatrixTransposeView:function(){return $},NIPALS:function(){return Ee},Nipals:function(){return Ee},QR:function(){return ie},QrDecomposition:function(){return ie},SVD:function(){return oe},SingularValueDecomposition:function(){return oe},WrapperMatrix1D:function(){return Q},WrapperMatrix2D:function(){return ee},correlation:function(){return pe},covariance:function(){return he},default:function(){return G},determinant:function(){return ue},inverse:function(){return ae},linearDependencies:function(){return fe},pseudoInverse:function(){return de},solve:function(){return se},wrap:function(){return te}});var r=n(2963),i=n(9340),o=n(4062),a=n(5671),s=n(3144),u=Object.prototype.toString;function l(e){return u.call(e).endsWith("Array]")}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!l(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var n=t.fromIndex,r=void 0===n?0:n,i=t.toIndex,o=void 0===i?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>e.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=e[r],s=r+1;s<o;s++)e[s]>a&&(a=e[s]);return a}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!l(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var n=t.fromIndex,r=void 0===n?0:n,i=t.toIndex,o=void 0===i?e.length:i;if(r<0||r>=e.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>e.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=e[r],s=r+1;s<o;s++)e[s]<a&&(a=e[s]);return a}function d(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!l(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");if(void 0!==n.output){if(!l(n.output))throw new TypeError("output option must be an array if specified");t=n.output}else t=new Array(e.length);var r=f(e),i=c(e);if(r===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=n.min,a=void 0===o?n.autoMinMax?r:0:o,s=n.max,u=void 0===s?n.autoMinMax?i:1:s;if(a>=u)throw new RangeError("min option must be smaller than max option");for(var d=(u-a)/(i-r),h=0;h<e.length;h++)t[h]=(e[h]-r)*d+a;return t}var h=" ".repeat(2),p=" ".repeat(4);function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxRows,r=void 0===n?15:n,i=t.maxColumns,o=void 0===i?10:i,a=t.maxNumSize,s=void 0===a?8:a;return"".concat(e.constructor.name," {\n").concat(h,"[\n").concat(p).concat(v(e,r,o,s),"\n").concat(h,"]\n").concat(h,"rows: ").concat(e.rows,"\n").concat(h,"columns: ").concat(e.columns,"\n}")}function v(e,t,n,r){for(var i=e.rows,o=e.columns,a=Math.min(i,t),s=Math.min(o,n),u=[],l=0;l<a;l++){for(var c=[],f=0;f<s;f++)c.push(m(e.get(l,f),r));u.push("".concat(c.join(" ")))}return s!==o&&(u[u.length-1]+=" ... ".concat(o-n," more columns")),a!==i&&u.push("... ".concat(i-t," more rows")),u.join("\n".concat(p))}function m(e,t){var n=String(e);if(n.length<=t)return n.padEnd(t," ");var r=e.toPrecision(t-2);if(r.length<=t)return r;var i=e.toExponential(t-2),o=i.indexOf("e"),a=i.slice(o);return i.slice(0,t-a.length)+a}function y(e,t,n){var r=n?e.rows:e.rows-1;if(t<0||t>r)throw new RangeError("Row index out of range")}function b(e,t,n){var r=n?e.columns:e.columns-1;if(t<0||t>r)throw new RangeError("Column index out of range")}function x(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function w(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function E(e,t){if(!l(t))throw new TypeError("row indices must be an array");for(var n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.rows)throw new RangeError("row indices are out of range")}function S(e,t){if(!l(t))throw new TypeError("column indices must be an array");for(var n=0;n<t.length;n++)if(t[n]<0||t[n]>=e.columns)throw new RangeError("column indices are out of range")}function _(e,t,n,r,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(k("startRow",t),k("endRow",n),k("startColumn",r),k("endColumn",i),t>n||r>i||t<0||t>=e.rows||n<0||n>=e.rows||r<0||r>=e.columns||i<0||i>=e.columns)throw new RangeError("Submatrix indices are out of range")}function T(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=0;r<e;r++)n.push(t);return n}function k(e,t){if("number"!==typeof t)throw new TypeError("".concat(e," must be a number"))}function C(e){if(e.isEmpty())throw new Error("Empty matrix has no elements to index")}function M(e,t,n){for(var r=e.rows,i=e.columns,o=[],a=0;a<r;a++){for(var s=0,u=0,l=0,c=0;c<i;c++)s+=l=e.get(a,c)-n[a],u+=l*l;t?o.push((u-s*s/i)/(i-1)):o.push((u-s*s/i)/i)}return o}function A(e,t,n){for(var r=e.rows,i=e.columns,o=[],a=0;a<i;a++){for(var s=0,u=0,l=0,c=0;c<r;c++)s+=l=e.get(c,a)-n[a],u+=l*l;t?o.push((u-s*s/r)/(r-1)):o.push((u-s*s/r)/r)}return o}function N(e,t,n){for(var r=e.rows,i=e.columns,o=r*i,a=0,s=0,u=0,l=0;l<r;l++)for(var c=0;c<i;c++)a+=u=e.get(l,c)-n,s+=u*u;return t?(s-a*a/o)/(o-1):(s-a*a/o)/o}function P(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[n])}function I(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t[r])}function D(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)-t)}function O(e){for(var t=[],n=0;n<e.rows;n++){for(var r=0,i=0;i<e.columns;i++)r+=Math.pow(e.get(n,i),2)/(e.columns-1);t.push(Math.sqrt(r))}return t}function R(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[n])}function L(e){for(var t=[],n=0;n<e.columns;n++){for(var r=0,i=0;i<e.rows;i++)r+=Math.pow(e.get(i,n),2)/(e.rows-1);t.push(Math.sqrt(r))}return t}function j(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t[r])}function B(e){for(var t=e.size-1,n=0,r=0;r<e.columns;r++)for(var i=0;i<e.rows;i++)n+=Math.pow(e.get(i,r),2)/t;return Math.sqrt(n)}function F(e,t){for(var n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)e.set(n,r,e.get(n,r)/t)}var z=function(){function e(){(0,a.Z)(this,e)}return(0,s.Z)(e,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(e){if("function"!==typeof e)throw new TypeError("callback must be a function");for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.call(this,t,n);return this}},{key:"to1DArray",value:function(){for(var e=[],t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"to2DArray",value:function(){for(var e=[],t=0;t<this.rows;t++){e.push([]);for(var n=0;n<this.columns;n++)e[t].push(this.get(t,n))}return e}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return 1===this.rows}},{key:"isColumnVector",value:function(){return 1===this.columns}},{key:"isVector",value:function(){return 1===this.rows||1===this.columns}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return 0===this.rows||0===this.columns}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var e=0,t=0,n=-1,r=!0,i=!1;e<this.rows&&r;){for(t=0,i=!1;t<this.columns&&!1===i;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>n?(i=!0,n=t):(r=!1,i=!0);e++}return r}},{key:"isReducedEchelonForm",value:function(){for(var e=0,t=0,n=-1,r=!0,i=!1;e<this.rows&&r;){for(t=0,i=!1;t<this.columns&&!1===i;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>n?(i=!0,n=t):(r=!1,i=!0);for(var o=t+1;o<this.rows;o++)0!==this.get(e,o)&&(r=!1);e++}return r}},{key:"echelonForm",value:function(){for(var e=this.clone(),t=0,n=0;t<e.rows&&n<e.columns;){for(var r=t,i=t;i<e.rows;i++)e.get(i,n)>e.get(r,n)&&(r=i);if(0===e.get(r,n))n++;else{e.swapRows(t,r);for(var o=e.get(t,n),a=n;a<e.columns;a++)e.set(t,a,e.get(t,a)/o);for(var s=t+1;s<e.rows;s++){var u=e.get(s,n)/e.get(t,n);e.set(s,n,0);for(var l=n+1;l<e.columns;l++)e.set(s,l,e.get(s,l)-e.get(t,l)*u)}t++,n++}}return e}},{key:"reducedEchelonForm",value:function(){for(var e=this.echelonForm(),t=e.columns,n=e.rows,r=n-1;r>=0;)if(0===e.maxRow(r))r--;else{for(var i=0,o=!1;i<n&&!1===o;)1===e.get(r,i)?o=!0:i++;for(var a=0;a<r;a++)for(var s=e.get(a,i),u=i;u<t;u++){var l=e.get(a,u)-s*e.get(r,u);e.set(a,u,l)}r--}return e}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.rows,n=void 0===t?1:t,r=e.columns,i=void 0===r?1:r;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(i)||i<=0)throw new TypeError("columns must be a positive integer");for(var o=new G(this.rows*n,this.columns*i),a=0;a<n;a++)for(var s=0;s<i;s++)o.setSubMatrix(this,this.rows*a,this.columns*s);return o}},{key:"fill",value:function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,e);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(e){y(this,e);for(var t=[],n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"getRowVector",value:function(e){return G.rowVector(this.getRow(e))}},{key:"setRow",value:function(e,t){y(this,e),t=x(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}},{key:"swapRows",value:function(e,t){y(this,e),y(this,t);for(var n=0;n<this.columns;n++){var r=this.get(e,n);this.set(e,n,this.get(t,n)),this.set(t,n,r)}return this}},{key:"getColumn",value:function(e){b(this,e);for(var t=[],n=0;n<this.rows;n++)t.push(this.get(n,e));return t}},{key:"getColumnVector",value:function(e){return G.columnVector(this.getColumn(e))}},{key:"setColumn",value:function(e,t){b(this,e),t=w(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}},{key:"swapColumns",value:function(e,t){b(this,e),b(this,t);for(var n=0;n<this.rows;n++){var r=this.get(n,e);this.set(n,e,this.get(n,t)),this.set(n,t,r)}return this}},{key:"addRowVector",value:function(e){e=x(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[n]);return this}},{key:"subRowVector",value:function(e){e=x(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[n]);return this}},{key:"mulRowVector",value:function(e){e=x(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[n]);return this}},{key:"divRowVector",value:function(e){e=x(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[n]);return this}},{key:"addColumnVector",value:function(e){e=w(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[t]);return this}},{key:"subColumnVector",value:function(e){e=w(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[t]);return this}},{key:"mulColumnVector",value:function(e){e=w(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[t]);return this}},{key:"divColumnVector",value:function(e){e=w(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[t]);return this}},{key:"mulRow",value:function(e,t){y(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}},{key:"mulColumn",value:function(e,t){b(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}},{key:"max",value:function(){if(this.isEmpty())return NaN;for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}},{key:"maxIndex",value:function(){C(this);for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)>e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}},{key:"min",value:function(){if(this.isEmpty())return NaN;for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}},{key:"minIndex",value:function(){C(this);for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)<e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}},{key:"maxRow",value:function(e){if(y(this,e),this.isEmpty())return NaN;for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}},{key:"maxRowIndex",value:function(e){y(this,e),C(this);for(var t=this.get(e,0),n=[e,0],r=1;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r),n[1]=r);return n}},{key:"minRow",value:function(e){if(y(this,e),this.isEmpty())return NaN;for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}},{key:"minRowIndex",value:function(e){y(this,e),C(this);for(var t=this.get(e,0),n=[e,0],r=1;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r),n[1]=r);return n}},{key:"maxColumn",value:function(e){if(b(this,e),this.isEmpty())return NaN;for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}},{key:"maxColumnIndex",value:function(e){b(this,e),C(this);for(var t=this.get(0,e),n=[0,e],r=1;r<this.rows;r++)this.get(r,e)>t&&(t=this.get(r,e),n[0]=r);return n}},{key:"minColumn",value:function(e){if(b(this,e),this.isEmpty())return NaN;for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}},{key:"minColumnIndex",value:function(e){b(this,e),C(this);for(var t=this.get(0,e),n=[0,e],r=1;r<this.rows;r++)this.get(r,e)<t&&(t=this.get(r,e),n[0]=r);return n}},{key:"diag",value:function(){for(var e=Math.min(this.rows,this.columns),t=[],n=0;n<e;n++)t.push(this.get(n,n));return t}},{key:"norm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"frobenius",t=0;if("max"===e)return this.max();if("frobenius"===e){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)t+=this.get(n,r)*this.get(n,r);return Math.sqrt(t)}throw new RangeError("unknown norm type: ".concat(e))}},{key:"cumulativeSum",value:function(){for(var e=0,t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e+=this.get(t,n),this.set(t,n,e);return this}},{key:"dot",value:function(t){e.isMatrix(t)&&(t=t.to1DArray());var n=this.to1DArray();if(n.length!==t.length)throw new RangeError("vectors do not have the same size");for(var r=0,i=0;i<n.length;i++)r+=n[i]*t[i];return r}},{key:"mmul",value:function(e){e=G.checkMatrix(e);for(var t=this.rows,n=this.columns,r=e.columns,i=new G(t,r),o=new Float64Array(n),a=0;a<r;a++){for(var s=0;s<n;s++)o[s]=e.get(s,a);for(var u=0;u<t;u++){for(var l=0,c=0;c<n;c++)l+=this.get(u,c)*o[c];i.set(u,a,l)}}return i}},{key:"strassen2x2",value:function(e){e=G.checkMatrix(e);var t=new G(2,2),n=this.get(0,0),r=e.get(0,0),i=this.get(0,1),o=e.get(0,1),a=this.get(1,0),s=e.get(1,0),u=this.get(1,1),l=e.get(1,1),c=(n+u)*(r+l),f=(a+u)*r,d=n*(o-l),h=u*(s-r),p=(n+i)*l,g=c+h-p+(i-u)*(s+l),v=d+p,m=f+h,y=c-f+d+(a-n)*(r+o);return t.set(0,0,g),t.set(0,1,v),t.set(1,0,m),t.set(1,1,y),t}},{key:"strassen3x3",value:function(e){e=G.checkMatrix(e);var t=new G(3,3),n=this.get(0,0),r=this.get(0,1),i=this.get(0,2),o=this.get(1,0),a=this.get(1,1),s=this.get(1,2),u=this.get(2,0),l=this.get(2,1),c=this.get(2,2),f=e.get(0,0),d=e.get(0,1),h=e.get(0,2),p=e.get(1,0),g=e.get(1,1),v=e.get(1,2),m=e.get(2,0),y=e.get(2,1),b=e.get(2,2),x=(n-o)*(-d+g),w=(-n+o+a)*(f-d+g),E=(o+a)*(-f+d),S=n*f,_=(-n+u+l)*(f-h+v),T=(-n+u)*(h-v),k=(u+l)*(-f+h),C=(-i+l+c)*(g+m-y),M=(i-c)*(g-y),A=i*m,N=(l+c)*(-m+y),P=(-i+a+s)*(v+m-b),I=(i-s)*(v-b),D=(a+s)*(-m+b),O=S+A+r*p,R=(n+r+i-o-a-l-c)*g+w+E+S+C+A+N,L=S+_+k+(n+r+i-a-s-u-l)*v+A+P+D,j=x+a*(-f+d+p-g-v-m+b)+w+S+A+P+I,B=x+w+E+S+s*y,F=A+P+I+D+o*h,z=S+_+T+l*(-f+h+p-g-v-m+y)+C+M+A,Y=C+M+A+N+u*d,V=S+_+T+k+c*b;return t.set(0,0,O),t.set(0,1,R),t.set(0,2,L),t.set(1,0,j),t.set(1,1,B),t.set(1,2,F),t.set(2,0,z),t.set(2,1,Y),t.set(2,2,V),t}},{key:"mmulStrassen",value:function(t){t=G.checkMatrix(t);var n=this.clone(),r=n.rows,i=n.columns,o=t.rows,a=t.columns;function s(t,n,r){var i=t.rows,o=t.columns;if(i===n&&o===r)return t;var a=e.zeros(n,r);return a=a.setSubMatrix(t,0,0)}i!==o&&console.warn("Multiplying ".concat(r," x ").concat(i," and ").concat(o," x ").concat(a," matrix: dimensions do not match."));var u=Math.max(r,o),l=Math.max(i,a);return function t(n,r,i,o){if(i<=512||o<=512)return n.mmul(r);i%2===1&&o%2===1?(n=s(n,i+1,o+1),r=s(r,i+1,o+1)):i%2===1?(n=s(n,i+1,o),r=s(r,i+1,o)):o%2===1&&(n=s(n,i,o+1),r=s(r,i,o+1));var a=parseInt(n.rows/2,10),u=parseInt(n.columns/2,10),l=n.subMatrix(0,a-1,0,u-1),c=r.subMatrix(0,a-1,0,u-1),f=n.subMatrix(0,a-1,u,n.columns-1),d=r.subMatrix(0,a-1,u,r.columns-1),h=n.subMatrix(a,n.rows-1,0,u-1),p=r.subMatrix(a,r.rows-1,0,u-1),g=n.subMatrix(a,n.rows-1,u,n.columns-1),v=r.subMatrix(a,r.rows-1,u,r.columns-1),m=t(e.add(l,g),e.add(c,v),a,u),y=t(e.add(h,g),c,a,u),b=t(l,e.sub(d,v),a,u),x=t(g,e.sub(p,c),a,u),w=t(e.add(l,f),v,a,u),E=t(e.sub(h,l),e.add(c,d),a,u),S=t(e.sub(f,g),e.add(p,v),a,u),_=e.add(m,x);_.sub(w),_.add(S);var T=e.add(b,w),k=e.add(y,x),C=e.sub(m,y);C.add(b),C.add(E);var M=e.zeros(2*_.rows,2*_.columns);return(M=(M=(M=(M=M.setSubMatrix(_,0,0)).setSubMatrix(T,_.rows,0)).setSubMatrix(k,0,_.columns)).setSubMatrix(C,_.rows,_.columns)).subMatrix(0,i-1,0,o-1)}(n=s(n,u,l),t=s(t,u,l),u,l)}},{key:"scaleRows",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.min,n=void 0===t?0:t,r=e.max,i=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(n>=i)throw new RangeError("min must be smaller than max");for(var o=new G(this.rows,this.columns),a=0;a<this.rows;a++){var s=this.getRow(a);s.length>0&&d(s,{min:n,max:i,output:s}),o.setRow(a,s)}return o}},{key:"scaleColumns",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof e)throw new TypeError("options must be an object");var t=e.min,n=void 0===t?0:t,r=e.max,i=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(n>=i)throw new RangeError("min must be smaller than max");for(var o=new G(this.rows,this.columns),a=0;a<this.columns;a++){var s=this.getColumn(a);s.length&&d(s,{min:n,max:i,output:s}),o.setColumn(a,s)}return o}},{key:"flipRows",value:function(){for(var e=Math.ceil(this.columns/2),t=0;t<this.rows;t++)for(var n=0;n<e;n++){var r=this.get(t,n),i=this.get(t,this.columns-1-n);this.set(t,n,i),this.set(t,this.columns-1-n,r)}return this}},{key:"flipColumns",value:function(){for(var e=Math.ceil(this.rows/2),t=0;t<this.columns;t++)for(var n=0;n<e;n++){var r=this.get(n,t),i=this.get(this.rows-1-n,t);this.set(n,t,i),this.set(this.rows-1-n,t,r)}return this}},{key:"kroneckerProduct",value:function(e){e=G.checkMatrix(e);for(var t=this.rows,n=this.columns,r=e.rows,i=e.columns,o=new G(t*r,n*i),a=0;a<t;a++)for(var s=0;s<n;s++)for(var u=0;u<r;u++)for(var l=0;l<i;l++)o.set(r*a+u,i*s+l,this.get(a,s)*e.get(u,l));return o}},{key:"kroneckerSum",value:function(e){if(e=G.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var t=this.rows,n=e.rows,r=this.kroneckerProduct(G.eye(n,n)),i=G.eye(t,t).kroneckerProduct(e);return r.add(i)}},{key:"transpose",value:function(){for(var e=new G(this.columns,this.rows),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.set(n,t,this.get(t,n));return e}},{key:"sortRows",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}},{key:"sortColumns",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}},{key:"subMatrix",value:function(e,t,n,r){_(this,e,t,n,r);for(var i=new G(t-e+1,r-n+1),o=e;o<=t;o++)for(var a=n;a<=r;a++)i.set(o-e,a-n,this.get(o,a));return i}},{key:"subMatrixRow",value:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||t<0||t>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var r=new G(e.length,n-t+1),i=0;i<e.length;i++)for(var o=t;o<=n;o++){if(e[i]<0||e[i]>=this.rows)throw new RangeError("Row index out of range: ".concat(e[i]));r.set(i,o-t,this.get(e[i],o))}return r}},{key:"subMatrixColumn",value:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||t<0||t>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var r=new G(n-t+1,e.length),i=0;i<e.length;i++)for(var o=t;o<=n;o++){if(e[i]<0||e[i]>=this.columns)throw new RangeError("Column index out of range: ".concat(e[i]));r.set(o-t,i,this.get(o,e[i]))}return r}},{key:"setSubMatrix",value:function(e,t,n){if((e=G.checkMatrix(e)).isEmpty())return this;_(this,t,t+e.rows-1,n,n+e.columns-1);for(var r=0;r<e.rows;r++)for(var i=0;i<e.columns;i++)this.set(t+r,n+i,e.get(r,i));return this}},{key:"selection",value:function(e,t){E(this,e),S(this,t);for(var n=new G(e.length,t.length),r=0;r<e.length;r++)for(var i=e[r],o=0;o<t.length;o++){var a=t[o];n.set(r,o,this.get(i,a))}return n}},{key:"trace",value:function(){for(var e=Math.min(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}},{key:"clone",value:function(){for(var e=new G(this.rows,this.columns),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.set(t,n,this.get(t,n));return e}},{key:"sum",value:function(e){switch(e){case"row":return function(e){for(var t=T(e.rows),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[n]+=e.get(n,r);return t}(this);case"column":return function(e){for(var t=T(e.columns),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[r]+=e.get(n,r);return t}(this);case void 0:return function(e){for(var t=0,n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)t+=e.get(n,r);return t}(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"product",value:function(e){switch(e){case"row":return function(e){for(var t=T(e.rows,1),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[n]*=e.get(n,r);return t}(this);case"column":return function(e){for(var t=T(e.columns,1),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t[r]*=e.get(n,r);return t}(this);case void 0:return function(e){for(var t=1,n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)t*=e.get(n,r);return t}(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"mean",value:function(e){var t=this.sum(e);switch(e){case"row":for(var n=0;n<this.rows;n++)t[n]/=this.columns;return t;case"column":for(var r=0;r<this.columns;r++)t[r]/=this.rows;return t;case void 0:return t/this.size;default:throw new Error("invalid option: ".concat(e))}}},{key:"variance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t,r=n.unbiased,i=void 0===r||r,o=n.mean,a=void 0===o?this.mean(e):o;if("boolean"!==typeof i)throw new TypeError("unbiased must be a boolean");switch(e){case"row":if(!l(a))throw new TypeError("mean must be an array");return M(this,i,a);case"column":if(!l(a))throw new TypeError("mean must be an array");return A(this,i,a);case void 0:if("number"!==typeof a)throw new TypeError("mean must be a number");return N(this,i,a);default:throw new Error("invalid option: ".concat(e))}}},{key:"standardDeviation",value:function(e,t){"object"===typeof e&&(t=e,e=void 0);var n=this.variance(e,t);if(void 0===e)return Math.sqrt(n);for(var r=0;r<n.length;r++)n[r]=Math.sqrt(n[r]);return n}},{key:"center",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t,r=n.center,i=void 0===r?this.mean(e):r;switch(e){case"row":if(!l(i))throw new TypeError("center must be an array");return P(this,i),this;case"column":if(!l(i))throw new TypeError("center must be an array");return I(this,i),this;case void 0:if("number"!==typeof i)throw new TypeError("center must be a number");return D(this,i),this;default:throw new Error("invalid option: ".concat(e))}}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof e&&(t=e,e=void 0),"object"!==typeof t)throw new TypeError("options must be an object");var n=t.scale;switch(e){case"row":if(void 0===n)n=O(this);else if(!l(n))throw new TypeError("scale must be an array");return R(this,n),this;case"column":if(void 0===n)n=L(this);else if(!l(n))throw new TypeError("scale must be an array");return j(this,n),this;case void 0:if(void 0===n)n=B(this);else if("number"!==typeof n)throw new TypeError("scale must be a number");return F(this,n),this;default:throw new Error("invalid option: ".concat(e))}}},{key:"toString",value:function(e){return g(this,e)}}],[{key:"from1DArray",value:function(e,t,n){if(e*t!==n.length)throw new RangeError("data length does not match given dimensions");for(var r=new G(e,t),i=0;i<e;i++)for(var o=0;o<t;o++)r.set(i,o,n[i*t+o]);return r}},{key:"rowVector",value:function(e){for(var t=new G(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}},{key:"columnVector",value:function(e){for(var t=new G(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}},{key:"zeros",value:function(e,t){return new G(e,t)}},{key:"ones",value:function(e,t){return new G(e,t).fill(1)}},{key:"rand",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof n)throw new TypeError("options must be an object");for(var r=n.random,i=void 0===r?Math.random:r,o=new G(e,t),a=0;a<e;a++)for(var s=0;s<t;s++)o.set(a,s,i());return o}},{key:"randInt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof n)throw new TypeError("options must be an object");var r=n.min,i=void 0===r?0:r,o=n.max,a=void 0===o?1e3:o,s=n.random,u=void 0===s?Math.random:s;if(!Number.isInteger(i))throw new TypeError("min must be an integer");if(!Number.isInteger(a))throw new TypeError("max must be an integer");if(i>=a)throw new RangeError("min must be smaller than max");for(var l=a-i,c=new G(e,t),f=0;f<e;f++)for(var d=0;d<t;d++){var h=i+Math.round(u()*l);c.set(f,d,h)}return c}},{key:"eye",value:function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=1);for(var r=Math.min(e,t),i=this.zeros(e,t),o=0;o<r;o++)i.set(o,o,n);return i}},{key:"diag",value:function(e,t,n){var r=e.length;void 0===t&&(t=r),void 0===n&&(n=t);for(var i=Math.min(r,t,n),o=this.zeros(t,n),a=0;a<i;a++)o.set(a,a,e[a]);return o}},{key:"min",value:function(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,r=e.columns,i=new G(n,r),o=0;o<n;o++)for(var a=0;a<r;a++)i.set(o,a,Math.min(e.get(o,a),t.get(o,a)));return i}},{key:"max",value:function(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,r=e.columns,i=new this(n,r),o=0;o<n;o++)for(var a=0;a<r;a++)i.set(o,a,Math.max(e.get(o,a),t.get(o,a)));return i}},{key:"checkMatrix",value:function(t){return e.isMatrix(t)?t:new G(t)}},{key:"isMatrix",value:function(e){return null!=e&&"Matrix"===e.klass}}]),e}();function Y(e,t){return e-t}z.prototype.klass="Matrix","undefined"!==typeof Symbol&&(z.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return g(this)}),z.random=z.rand,z.randomInt=z.randInt,z.diagonal=z.diag,z.prototype.diagonal=z.prototype.diag,z.identity=z.eye,z.prototype.negate=z.prototype.neg,z.prototype.tensorProduct=z.prototype.kroneckerProduct;var G=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var o;if((0,a.Z)(this,n),o=t.call(this),n.isMatrix(e))return(0,r.Z)(o,e.clone());if(Number.isInteger(e)&&e>=0){if(o.data=[],!(Number.isInteger(i)&&i>=0))throw new TypeError("nColumns must be a positive integer");for(var s=0;s<e;s++)o.data.push(new Float64Array(i))}else{if(!l(e))throw new TypeError("First argument must be a positive number or an array");var u=e;if("number"!==typeof(i=(e=u.length)?u[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");o.data=[];for(var c=0;c<e;c++){if(u[c].length!==i)throw new RangeError("Inconsistent array dimensions");o.data.push(Float64Array.from(u[c]))}}return o.rows=e,o.columns=i,o}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.data[e][t]=n,this}},{key:"get",value:function(e,t){return this.data[e][t]}},{key:"removeRow",value:function(e){return y(this,e),this.data.splice(e,1),this.rows-=1,this}},{key:"addRow",value:function(e,t){return void 0===t&&(t=e,e=this.rows),y(this,e,!0),t=Float64Array.from(x(this,t)),this.data.splice(e,0,t),this.rows+=1,this}},{key:"removeColumn",value:function(e){b(this,e);for(var t=0;t<this.rows;t++){for(var n=new Float64Array(this.columns-1),r=0;r<e;r++)n[r]=this.data[t][r];for(var i=e+1;i<this.columns;i++)n[i-1]=this.data[t][i];this.data[t]=n}return this.columns-=1,this}},{key:"addColumn",value:function(e,t){"undefined"===typeof t&&(t=e,e=this.columns),b(this,e,!0),t=w(this,t);for(var n=0;n<this.rows;n++){for(var r=new Float64Array(this.columns+1),i=0;i<e;i++)r[i]=this.data[n][i];for(r[i++]=t[n];i<this.columns+1;i++)r[i]=this.data[n][i-1];this.data[n]=r}return this.columns+=1,this}}]),n}(z);!function(e,t){e.prototype.add=function(e){return"number"===typeof e?this.addS(e):this.addM(e)},e.prototype.addS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e);return this},e.prototype.addM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)+e.get(n,r));return this},e.add=function(e,n){return new t(e).add(n)},e.prototype.sub=function(e){return"number"===typeof e?this.subS(e):this.subM(e)},e.prototype.subS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e);return this},e.prototype.subM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)-e.get(n,r));return this},e.sub=function(e,n){return new t(e).sub(n)},e.prototype.subtract=e.prototype.sub,e.prototype.subtractS=e.prototype.subS,e.prototype.subtractM=e.prototype.subM,e.subtract=e.sub,e.prototype.mul=function(e){return"number"===typeof e?this.mulS(e):this.mulM(e)},e.prototype.mulS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this},e.prototype.mulM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)*e.get(n,r));return this},e.mul=function(e,n){return new t(e).mul(n)},e.prototype.multiply=e.prototype.mul,e.prototype.multiplyS=e.prototype.mulS,e.prototype.multiplyM=e.prototype.mulM,e.multiply=e.mul,e.prototype.div=function(e){return"number"===typeof e?this.divS(e):this.divM(e)},e.prototype.divS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e);return this},e.prototype.divM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)/e.get(n,r));return this},e.div=function(e,n){return new t(e).div(n)},e.prototype.divide=e.prototype.div,e.prototype.divideS=e.prototype.divS,e.prototype.divideM=e.prototype.divM,e.divide=e.div,e.prototype.mod=function(e){return"number"===typeof e?this.modS(e):this.modM(e)},e.prototype.modS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)%e);return this},e.prototype.modM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)%e.get(n,r));return this},e.mod=function(e,n){return new t(e).mod(n)},e.prototype.modulus=e.prototype.mod,e.prototype.modulusS=e.prototype.modS,e.prototype.modulusM=e.prototype.modM,e.modulus=e.mod,e.prototype.and=function(e){return"number"===typeof e?this.andS(e):this.andM(e)},e.prototype.andS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)&e);return this},e.prototype.andM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)&e.get(n,r));return this},e.and=function(e,n){return new t(e).and(n)},e.prototype.or=function(e){return"number"===typeof e?this.orS(e):this.orM(e)},e.prototype.orS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)|e);return this},e.prototype.orM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)|e.get(n,r));return this},e.or=function(e,n){return new t(e).or(n)},e.prototype.xor=function(e){return"number"===typeof e?this.xorS(e):this.xorM(e)},e.prototype.xorS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)^e);return this},e.prototype.xorM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)^e.get(n,r));return this},e.xor=function(e,n){return new t(e).xor(n)},e.prototype.leftShift=function(e){return"number"===typeof e?this.leftShiftS(e):this.leftShiftM(e)},e.prototype.leftShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)<<e);return this},e.prototype.leftShiftM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)<<e.get(n,r));return this},e.leftShift=function(e,n){return new t(e).leftShift(n)},e.prototype.signPropagatingRightShift=function(e){return"number"===typeof e?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},e.prototype.signPropagatingRightShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>e);return this},e.prototype.signPropagatingRightShiftM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)>>e.get(n,r));return this},e.signPropagatingRightShift=function(e,n){return new t(e).signPropagatingRightShift(n)},e.prototype.rightShift=function(e){return"number"===typeof e?this.rightShiftS(e):this.rightShiftM(e)},e.prototype.rightShiftS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)>>>e);return this},e.prototype.rightShiftM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,this.get(n,r)>>>e.get(n,r));return this},e.rightShift=function(e,n){return new t(e).rightShift(n)},e.prototype.zeroFillRightShift=e.prototype.rightShift,e.prototype.zeroFillRightShiftS=e.prototype.rightShiftS,e.prototype.zeroFillRightShiftM=e.prototype.rightShiftM,e.zeroFillRightShift=e.rightShift,e.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,~this.get(e,t));return this},e.not=function(e){return new t(e).not()},e.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.abs(this.get(e,t)));return this},e.abs=function(e){return new t(e).abs()},e.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.acos(this.get(e,t)));return this},e.acos=function(e){return new t(e).acos()},e.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.acosh(this.get(e,t)));return this},e.acosh=function(e){return new t(e).acosh()},e.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.asin(this.get(e,t)));return this},e.asin=function(e){return new t(e).asin()},e.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.asinh(this.get(e,t)));return this},e.asinh=function(e){return new t(e).asinh()},e.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.atan(this.get(e,t)));return this},e.atan=function(e){return new t(e).atan()},e.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.atanh(this.get(e,t)));return this},e.atanh=function(e){return new t(e).atanh()},e.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cbrt(this.get(e,t)));return this},e.cbrt=function(e){return new t(e).cbrt()},e.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.ceil(this.get(e,t)));return this},e.ceil=function(e){return new t(e).ceil()},e.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.clz32(this.get(e,t)));return this},e.clz32=function(e){return new t(e).clz32()},e.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cos(this.get(e,t)));return this},e.cos=function(e){return new t(e).cos()},e.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cosh(this.get(e,t)));return this},e.cosh=function(e){return new t(e).cosh()},e.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.exp(this.get(e,t)));return this},e.exp=function(e){return new t(e).exp()},e.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.expm1(this.get(e,t)));return this},e.expm1=function(e){return new t(e).expm1()},e.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.floor(this.get(e,t)));return this},e.floor=function(e){return new t(e).floor()},e.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.fround(this.get(e,t)));return this},e.fround=function(e){return new t(e).fround()},e.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log(this.get(e,t)));return this},e.log=function(e){return new t(e).log()},e.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log1p(this.get(e,t)));return this},e.log1p=function(e){return new t(e).log1p()},e.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log10(this.get(e,t)));return this},e.log10=function(e){return new t(e).log10()},e.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log2(this.get(e,t)));return this},e.log2=function(e){return new t(e).log2()},e.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.round(this.get(e,t)));return this},e.round=function(e){return new t(e).round()},e.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sign(this.get(e,t)));return this},e.sign=function(e){return new t(e).sign()},e.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sin(this.get(e,t)));return this},e.sin=function(e){return new t(e).sin()},e.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sinh(this.get(e,t)));return this},e.sinh=function(e){return new t(e).sinh()},e.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sqrt(this.get(e,t)));return this},e.sqrt=function(e){return new t(e).sqrt()},e.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.tan(this.get(e,t)));return this},e.tan=function(e){return new t(e).tan()},e.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.tanh(this.get(e,t)));return this},e.tanh=function(e){return new t(e).tanh()},e.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.trunc(this.get(e,t)));return this},e.trunc=function(e){return new t(e).trunc()},e.pow=function(e,n){return new t(e).pow(n)},e.prototype.pow=function(e){return"number"===typeof e?this.powS(e):this.powM(e)},e.prototype.powS=function(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,Math.pow(this.get(t,n),e));return this},e.prototype.powM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.set(n,r,Math.pow(this.get(n,r),e.get(n,r)));return this}}(z,G);var V=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i){var o;return(0,a.Z)(this,n),(o=t.call(this)).matrix=e,o.rows=r,o.columns=i,o}return(0,s.Z)(n)}(z),U=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),b(e,r),(i=t.call(this,e,e.rows,1)).column=r,i}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(e,this.column,n),this}},{key:"get",value:function(e){return this.matrix.get(e,this.column)}}]),n}(V),W=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),S(e,r),(i=t.call(this,e,e.rows,r.length)).columnIndices=r,i}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(e,this.columnIndices[t],n),this}},{key:"get",value:function(e,t){return this.matrix.get(e,this.columnIndices[t])}}]),n}(V),Z=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,a.Z)(this,n),t.call(this,e,e.rows,e.columns)}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(e,this.columns-t-1,n),this}},{key:"get",value:function(e,t){return this.matrix.get(e,this.columns-t-1)}}]),n}(V),H=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,a.Z)(this,n),t.call(this,e,e.rows,e.columns)}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.rows-e-1,t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.rows-e-1,t)}}]),n}(V),X=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),y(e,r),(i=t.call(this,e,1,e.columns)).row=r,i}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.row,t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.row,t)}}]),n}(V),K=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),E(e,r),(i=t.call(this,e,r.length,e.columns)).rowIndices=r,i}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.rowIndices[e],t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.rowIndices[e],t)}}]),n}(V),q=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i){var o;return(0,a.Z)(this,n),E(e,r),S(e,i),(o=t.call(this,e,r.length,i.length)).rowIndices=r,o.columnIndices=i,o}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}]),n}(V),J=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i,o,s){var u;return(0,a.Z)(this,n),_(e,r,i,o,s),(u=t.call(this,e,i-r+1,s-o+1)).startRow=r,u.startColumn=o,u}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(this.startRow+e,this.startColumn+t,n),this}},{key:"get",value:function(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}}]),n}(V),$=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,a.Z)(this,n),t.call(this,e,e.columns,e.rows)}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.matrix.set(t,e,n),this}},{key:"get",value:function(e,t){return this.matrix.get(t,e)}}]),n}(V),Q=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,n);var o=i.rows,s=void 0===o?1:o;if(e.length%s!==0)throw new Error("the data length is not divisible by the number of rows");return(r=t.call(this)).rows=s,r.columns=e.length/s,r.data=e,r}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){var r=this._calculateIndex(e,t);return this.data[r]=n,this}},{key:"get",value:function(e,t){var n=this._calculateIndex(e,t);return this.data[n]}},{key:"_calculateIndex",value:function(e,t){return e*this.columns+t}}]),n}(z),ee=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this)).data=e,r.rows=e.length,r.columns=e[0].length,r}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){return this.data[e][t]=n,this}},{key:"get",value:function(e,t){return this.data[e][t]}}]),n}(z);function te(e,t){if(l(e))return e[0]&&l(e[0])?new ee(e):new Q(e,t);throw new Error("the argument is not an array")}var ne=function(){function e(t){(0,a.Z)(this,e);var n,r,i,o,s,u,l,c,f,d=(t=ee.checkMatrix(t)).clone(),h=d.rows,p=d.columns,g=new Float64Array(h),v=1;for(n=0;n<h;n++)g[n]=n;for(c=new Float64Array(h),r=0;r<p;r++){for(n=0;n<h;n++)c[n]=d.get(n,r);for(n=0;n<h;n++){for(f=Math.min(n,r),s=0,i=0;i<f;i++)s+=d.get(n,i)*c[i];c[n]-=s,d.set(n,r,c[n])}for(o=r,n=r+1;n<h;n++)Math.abs(c[n])>Math.abs(c[o])&&(o=n);if(o!==r){for(i=0;i<p;i++)u=d.get(o,i),d.set(o,i,d.get(r,i)),d.set(r,i,u);l=g[o],g[o]=g[r],g[r]=l,v=-v}if(r<h&&0!==d.get(r,r))for(n=r+1;n<h;n++)d.set(n,r,d.get(n,r)/d.get(r,r))}this.LU=d,this.pivotVector=g,this.pivotSign=v}return(0,s.Z)(e,[{key:"isSingular",value:function(){for(var e=this.LU,t=e.columns,n=0;n<t;n++)if(0===e.get(n,n))return!0;return!1}},{key:"solve",value:function(e){e=G.checkMatrix(e);var t=this.LU;if(t.rows!==e.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var n,r,i,o=e.columns,a=e.subMatrixRow(this.pivotVector,0,o-1),s=t.columns;for(i=0;i<s;i++)for(n=i+1;n<s;n++)for(r=0;r<o;r++)a.set(n,r,a.get(n,r)-a.get(i,r)*t.get(n,i));for(i=s-1;i>=0;i--){for(r=0;r<o;r++)a.set(i,r,a.get(i,r)/t.get(i,i));for(n=0;n<i;n++)for(r=0;r<o;r++)a.set(n,r,a.get(n,r)-a.get(i,r)*t.get(n,i))}return a}},{key:"determinant",get:function(){var e=this.LU;if(!e.isSquare())throw new Error("Matrix must be square");for(var t=this.pivotSign,n=e.columns,r=0;r<n;r++)t*=e.get(r,r);return t}},{key:"lowerTriangularMatrix",get:function(){for(var e=this.LU,t=e.rows,n=e.columns,r=new G(t,n),i=0;i<t;i++)for(var o=0;o<n;o++)i>o?r.set(i,o,e.get(i,o)):i===o?r.set(i,o,1):r.set(i,o,0);return r}},{key:"upperTriangularMatrix",get:function(){for(var e=this.LU,t=e.rows,n=e.columns,r=new G(t,n),i=0;i<t;i++)for(var o=0;o<n;o++)i<=o?r.set(i,o,e.get(i,o)):r.set(i,o,0);return r}},{key:"pivotPermutationVector",get:function(){return Array.from(this.pivotVector)}}]),e}();function re(e,t){var n=0;return Math.abs(e)>Math.abs(t)?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):0!==t?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0}var ie=function(){function e(t){(0,a.Z)(this,e);var n,r,i,o,s=(t=ee.checkMatrix(t)).clone(),u=t.rows,l=t.columns,c=new Float64Array(l);for(i=0;i<l;i++){var f=0;for(n=i;n<u;n++)f=re(f,s.get(n,i));if(0!==f){for(s.get(i,i)<0&&(f=-f),n=i;n<u;n++)s.set(n,i,s.get(n,i)/f);for(s.set(i,i,s.get(i,i)+1),r=i+1;r<l;r++){for(o=0,n=i;n<u;n++)o+=s.get(n,i)*s.get(n,r);for(o=-o/s.get(i,i),n=i;n<u;n++)s.set(n,r,s.get(n,r)+o*s.get(n,i))}}c[i]=-f}this.QR=s,this.Rdiag=c}return(0,s.Z)(e,[{key:"solve",value:function(e){e=G.checkMatrix(e);var t=this.QR,n=t.rows;if(e.rows!==n)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var r,i,o,a,s=e.columns,u=e.clone(),l=t.columns;for(o=0;o<l;o++)for(i=0;i<s;i++){for(a=0,r=o;r<n;r++)a+=t.get(r,o)*u.get(r,i);for(a=-a/t.get(o,o),r=o;r<n;r++)u.set(r,i,u.get(r,i)+a*t.get(r,o))}for(o=l-1;o>=0;o--){for(i=0;i<s;i++)u.set(o,i,u.get(o,i)/this.Rdiag[o]);for(r=0;r<o;r++)for(i=0;i<s;i++)u.set(r,i,u.get(r,i)-u.get(o,i)*t.get(r,o))}return u.subMatrix(0,l-1,0,s-1)}},{key:"isFullRank",value:function(){for(var e=this.QR.columns,t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0}},{key:"upperTriangularMatrix",get:function(){var e,t,n=this.QR,r=n.columns,i=new G(r,r);for(e=0;e<r;e++)for(t=0;t<r;t++)e<t?i.set(e,t,n.get(e,t)):e===t?i.set(e,t,this.Rdiag[e]):i.set(e,t,0);return i}},{key:"orthogonalMatrix",get:function(){var e,t,n,r,i=this.QR,o=i.rows,a=i.columns,s=new G(o,a);for(n=a-1;n>=0;n--){for(e=0;e<o;e++)s.set(e,n,0);for(s.set(n,n,1),t=n;t<a;t++)if(0!==i.get(n,n)){for(r=0,e=n;e<o;e++)r+=i.get(e,n)*s.get(e,t);for(r=-r/i.get(n,n),e=n;e<o;e++)s.set(e,t,s.get(e,t)+r*i.get(e,n))}}return s}}]),e}(),oe=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,a.Z)(this,e),(t=ee.checkMatrix(t)).isEmpty())throw new Error("Matrix must be non-empty");var r,i=t.rows,o=t.columns,s=n.computeLeftSingularVectors,u=void 0===s||s,l=n.computeRightSingularVectors,c=void 0===l||l,f=n.autoTranspose,d=void 0!==f&&f,h=Boolean(u),p=Boolean(c),g=!1;if(i<o)if(d){i=(r=t.transpose()).rows,o=r.columns,g=!0;var v=h;h=p,p=v}else r=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else r=t.clone();for(var m=Math.min(i,o),y=Math.min(i+1,o),b=new Float64Array(y),x=new G(i,m),w=new G(o,o),E=new Float64Array(o),S=new Float64Array(i),_=new Float64Array(y),T=0;T<y;T++)_[T]=T;for(var k=Math.min(i-1,o),C=Math.max(0,Math.min(o-2,i)),M=Math.max(k,C),A=0;A<M;A++){if(A<k){b[A]=0;for(var N=A;N<i;N++)b[A]=re(b[A],r.get(N,A));if(0!==b[A]){r.get(A,A)<0&&(b[A]=-b[A]);for(var P=A;P<i;P++)r.set(P,A,r.get(P,A)/b[A]);r.set(A,A,r.get(A,A)+1)}b[A]=-b[A]}for(var I=A+1;I<o;I++){if(A<k&&0!==b[A]){for(var D=0,O=A;O<i;O++)D+=r.get(O,A)*r.get(O,I);D=-D/r.get(A,A);for(var R=A;R<i;R++)r.set(R,I,r.get(R,I)+D*r.get(R,A))}E[I]=r.get(A,I)}if(h&&A<k)for(var L=A;L<i;L++)x.set(L,A,r.get(L,A));if(A<C){E[A]=0;for(var j=A+1;j<o;j++)E[A]=re(E[A],E[j]);if(0!==E[A]){E[A+1]<0&&(E[A]=0-E[A]);for(var B=A+1;B<o;B++)E[B]/=E[A];E[A+1]+=1}if(E[A]=-E[A],A+1<i&&0!==E[A]){for(var F=A+1;F<i;F++)S[F]=0;for(var z=A+1;z<i;z++)for(var Y=A+1;Y<o;Y++)S[z]+=E[Y]*r.get(z,Y);for(var V=A+1;V<o;V++)for(var U=-E[V]/E[A+1],W=A+1;W<i;W++)r.set(W,V,r.get(W,V)+U*S[W])}if(p)for(var Z=A+1;Z<o;Z++)w.set(Z,A,E[Z])}}var H=Math.min(o,i+1);if(k<o&&(b[k]=r.get(k,k)),i<H&&(b[H-1]=0),C+1<H&&(E[C]=r.get(C,H-1)),E[H-1]=0,h){for(var X=k;X<m;X++){for(var K=0;K<i;K++)x.set(K,X,0);x.set(X,X,1)}for(var q=k-1;q>=0;q--)if(0!==b[q]){for(var J=q+1;J<m;J++){for(var $=0,Q=q;Q<i;Q++)$+=x.get(Q,q)*x.get(Q,J);$=-$/x.get(q,q);for(var te=q;te<i;te++)x.set(te,J,x.get(te,J)+$*x.get(te,q))}for(var ne=q;ne<i;ne++)x.set(ne,q,-x.get(ne,q));x.set(q,q,1+x.get(q,q));for(var ie=0;ie<q-1;ie++)x.set(ie,q,0)}else{for(var oe=0;oe<i;oe++)x.set(oe,q,0);x.set(q,q,1)}}if(p)for(var ae=o-1;ae>=0;ae--){if(ae<C&&0!==E[ae])for(var se=ae+1;se<o;se++){for(var ue=0,le=ae+1;le<o;le++)ue+=w.get(le,ae)*w.get(le,se);ue=-ue/w.get(ae+1,ae);for(var ce=ae+1;ce<o;ce++)w.set(ce,se,w.get(ce,se)+ue*w.get(ce,ae))}for(var fe=0;fe<o;fe++)w.set(fe,ae,0);w.set(ae,ae,1)}for(var de=H-1,he=Number.EPSILON;H>0;){var pe=void 0,ge=void 0;for(pe=H-2;pe>=-1&&-1!==pe;pe--){var ve=Number.MIN_VALUE+he*Math.abs(b[pe]+Math.abs(b[pe+1]));if(Math.abs(E[pe])<=ve||Number.isNaN(E[pe])){E[pe]=0;break}}if(pe===H-2)ge=4;else{var me=void 0;for(me=H-1;me>=pe&&me!==pe;me--){var ye=(me!==H?Math.abs(E[me]):0)+(me!==pe+1?Math.abs(E[me-1]):0);if(Math.abs(b[me])<=he*ye){b[me]=0;break}}me===pe?ge=3:me===H-1?ge=1:(ge=2,pe=me)}switch(pe++,ge){case 1:var be=E[H-2];E[H-2]=0;for(var xe=H-2;xe>=pe;xe--){var we=re(b[xe],be),Ee=b[xe]/we,Se=be/we;if(b[xe]=we,xe!==pe&&(be=-Se*E[xe-1],E[xe-1]=Ee*E[xe-1]),p)for(var _e=0;_e<o;_e++)we=Ee*w.get(_e,xe)+Se*w.get(_e,H-1),w.set(_e,H-1,-Se*w.get(_e,xe)+Ee*w.get(_e,H-1)),w.set(_e,xe,we)}break;case 2:var Te=E[pe-1];E[pe-1]=0;for(var ke=pe;ke<H;ke++){var Ce=re(b[ke],Te),Me=b[ke]/Ce,Ae=Te/Ce;if(b[ke]=Ce,Te=-Ae*E[ke],E[ke]=Me*E[ke],h)for(var Ne=0;Ne<i;Ne++)Ce=Me*x.get(Ne,ke)+Ae*x.get(Ne,pe-1),x.set(Ne,pe-1,-Ae*x.get(Ne,ke)+Me*x.get(Ne,pe-1)),x.set(Ne,ke,Ce)}break;case 3:var Pe=Math.max(Math.abs(b[H-1]),Math.abs(b[H-2]),Math.abs(E[H-2]),Math.abs(b[pe]),Math.abs(E[pe])),Ie=b[H-1]/Pe,De=b[H-2]/Pe,Oe=E[H-2]/Pe,Re=b[pe]/Pe,Le=E[pe]/Pe,je=((De+Ie)*(De-Ie)+Oe*Oe)/2,Be=Ie*Oe*(Ie*Oe),Fe=0;0===je&&0===Be||(Fe=Be/(je+(Fe=je<0?0-Math.sqrt(je*je+Be):Math.sqrt(je*je+Be))));for(var ze=(Re+Ie)*(Re-Ie)+Fe,Ye=Re*Le,Ge=pe;Ge<H-1;Ge++){var Ve=re(ze,Ye);0===Ve&&(Ve=Number.MIN_VALUE);var Ue=ze/Ve,We=Ye/Ve;if(Ge!==pe&&(E[Ge-1]=Ve),ze=Ue*b[Ge]+We*E[Ge],E[Ge]=Ue*E[Ge]-We*b[Ge],Ye=We*b[Ge+1],b[Ge+1]=Ue*b[Ge+1],p)for(var Ze=0;Ze<o;Ze++)Ve=Ue*w.get(Ze,Ge)+We*w.get(Ze,Ge+1),w.set(Ze,Ge+1,-We*w.get(Ze,Ge)+Ue*w.get(Ze,Ge+1)),w.set(Ze,Ge,Ve);if(0===(Ve=re(ze,Ye))&&(Ve=Number.MIN_VALUE),Ue=ze/Ve,We=Ye/Ve,b[Ge]=Ve,ze=Ue*E[Ge]+We*b[Ge+1],b[Ge+1]=-We*E[Ge]+Ue*b[Ge+1],Ye=We*E[Ge+1],E[Ge+1]=Ue*E[Ge+1],h&&Ge<i-1)for(var He=0;He<i;He++)Ve=Ue*x.get(He,Ge)+We*x.get(He,Ge+1),x.set(He,Ge+1,-We*x.get(He,Ge)+Ue*x.get(He,Ge+1)),x.set(He,Ge,Ve)}E[H-2]=ze,1;break;case 4:if(b[pe]<=0&&(b[pe]=b[pe]<0?-b[pe]:0,p))for(var Xe=0;Xe<=de;Xe++)w.set(Xe,pe,-w.get(Xe,pe));for(;pe<de&&!(b[pe]>=b[pe+1]);){var Ke=b[pe];if(b[pe]=b[pe+1],b[pe+1]=Ke,p&&pe<o-1)for(var qe=0;qe<o;qe++)Ke=w.get(qe,pe+1),w.set(qe,pe+1,w.get(qe,pe)),w.set(qe,pe,Ke);if(h&&pe<i-1)for(var Je=0;Je<i;Je++)Ke=x.get(Je,pe+1),x.set(Je,pe+1,x.get(Je,pe)),x.set(Je,pe,Ke);pe++}0,H--}}if(g){var $e=w;w=x,x=$e}this.m=i,this.n=o,this.s=b,this.U=x,this.V=w}return(0,s.Z)(e,[{key:"solve",value:function(e){for(var t=e,n=this.threshold,r=this.s.length,i=G.zeros(r,r),o=0;o<r;o++)Math.abs(this.s[o])<=n?i.set(o,o,0):i.set(o,o,1/this.s[o]);for(var a=this.U,s=this.rightSingularVectors,u=s.mmul(i),l=s.rows,c=a.rows,f=G.zeros(l,c),d=0;d<l;d++)for(var h=0;h<c;h++){for(var p=0,g=0;g<r;g++)p+=u.get(d,g)*a.get(h,g);f.set(d,h,p)}return f.mmul(t)}},{key:"solveForDiagonal",value:function(e){return this.solve(G.diag(e))}},{key:"inverse",value:function(){for(var e=this.V,t=this.threshold,n=e.rows,r=e.columns,i=new G(n,this.s.length),o=0;o<n;o++)for(var a=0;a<r;a++)Math.abs(this.s[a])>t&&i.set(o,a,e.get(o,a)/this.s[a]);for(var s=this.U,u=s.rows,l=s.columns,c=new G(n,u),f=0;f<n;f++)for(var d=0;d<u;d++){for(var h=0,p=0;p<l;p++)h+=i.get(f,p)*s.get(d,p);c.set(f,d,h)}return c}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var e=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,t=0,n=this.s,r=0,i=n.length;r<i;r++)n[r]>e&&t++;return t}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return G.diag(this.s)}}]),e}();function ae(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e=ee.checkMatrix(e),t?new oe(e).inverse():se(e,G.eye(e.rows))}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e=ee.checkMatrix(e),t=ee.checkMatrix(t),n?new oe(e).solve(t):e.isSquare()?new ne(e).solve(t):new ie(e).solve(t)}function ue(e){var t,n,r,i,o,a;if((e=G.checkMatrix(e)).isSquare())return 0===e.columns?1:2===e.columns?(t=e.get(0,0),n=e.get(0,1),r=e.get(1,0),t*e.get(1,1)-n*r):3===e.columns?(i=new q(e,[1,2],[1,2]),o=new q(e,[1,2],[0,2]),a=new q(e,[1,2],[0,1]),t=e.get(0,0),n=e.get(0,1),r=e.get(0,2),t*ue(i)-n*ue(o)+r*ue(a)):new ne(e).determinant;throw Error("determinant can only be calculated for a square matrix")}function le(e,t){for(var n=[],r=0;r<e;r++)r!==t&&n.push(r);return n}function ce(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-9,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e-9;if(e>i)return new Array(t.rows+1).fill(0);for(var o=t.addRow(n,[0]),a=0;a<o.rows;a++)Math.abs(o.get(a,0))<r&&o.set(a,0,0);return o.to1DArray()}function fe(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.thresholdValue,r=void 0===n?1e-9:n,i=t.thresholdError,o=void 0===i?1e-9:i,a=(e=G.checkMatrix(e)).rows,s=new G(a,a),u=0;u<a;u++){var l=G.columnVector(e.getRow(u)),c=e.subMatrixRow(le(a,u)).transpose(),f=new oe(c),d=f.solve(l),h=G.sub(l,c.mmul(d)).abs().max();s.setRow(u,ce(h,d,u,r,o))}return s}function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.EPSILON;if((e=G.checkMatrix(e)).isEmpty())return e.transpose();for(var n=new oe(e,{autoTranspose:!0}),r=n.leftSingularVectors,i=n.rightSingularVectors,o=n.diagonal,a=0;a<o.length;a++)Math.abs(o[a])>t?o[a]=1/o[a]:o[a]=0;return i.mmul(G.diag(o).mmul(r.transpose()))}function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=new G(e);var r=!1;if("object"!==typeof t||G.isMatrix(t)||l(t)?t=new G(t):(n=t,t=e,r=!0),e.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");var i=n,o=i.center,a=void 0===o||o;a&&(e=e.center("column"),r||(t=t.center("column")));for(var s=e.transpose().mmul(t),u=0;u<s.rows;u++)for(var c=0;c<s.columns;c++)s.set(u,c,s.get(u,c)*(1/(e.rows-1)));return s}function pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=new G(e);var r=!1;if("object"!==typeof t||G.isMatrix(t)||l(t)?t=new G(t):(n=t,t=e,r=!0),e.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");var i=n,o=i.center,a=void 0===o||o,s=i.scale,u=void 0===s||s;a&&(e.center("column"),r||t.center("column")),u&&(e.scale("column"),r||t.scale("column"));for(var c=e.standardDeviation("column",{unbiased:!0}),f=r?c:t.standardDeviation("column",{unbiased:!0}),d=e.transpose().mmul(t),h=0;h<d.rows;h++)for(var p=0;p<d.columns;p++)d.set(h,p,d.get(h,p)*(1/(c[h]*f[p]))*(1/(e.rows-1)));return d}var ge=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,e);var r=n.assumeSymmetric,i=void 0!==r&&r;if(!(t=ee.checkMatrix(t)).isSquare())throw new Error("Matrix is not a square matrix");if(t.isEmpty())throw new Error("Matrix must be non-empty");var o,s,u=t.columns,l=new G(u,u),c=new Float64Array(u),f=new Float64Array(u),d=t;if(!!i||t.isSymmetric()){for(o=0;o<u;o++)for(s=0;s<u;s++)l.set(o,s,d.get(o,s));ve(u,f,c,l),me(u,f,c,l)}else{var h=new G(u,u),p=new Float64Array(u);for(s=0;s<u;s++)for(o=0;o<u;o++)h.set(o,s,d.get(o,s));ye(u,h,p,l),be(u,f,c,l,h)}this.n=u,this.e=f,this.d=c,this.V=l}return(0,s.Z)(e,[{key:"realEigenvalues",get:function(){return Array.from(this.d)}},{key:"imaginaryEigenvalues",get:function(){return Array.from(this.e)}},{key:"eigenvectorMatrix",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){var e,t,n=this.n,r=this.e,i=this.d,o=new G(n,n);for(e=0;e<n;e++){for(t=0;t<n;t++)o.set(e,t,0);o.set(e,e,i[e]),r[e]>0?o.set(e,e+1,r[e]):r[e]<0&&o.set(e,e-1,r[e])}return o}}]),e}();function ve(e,t,n,r){var i,o,a,s,u,l,c,f;for(u=0;u<e;u++)n[u]=r.get(e-1,u);for(s=e-1;s>0;s--){for(f=0,a=0,l=0;l<s;l++)f+=Math.abs(n[l]);if(0===f)for(t[s]=n[s-1],u=0;u<s;u++)n[u]=r.get(s-1,u),r.set(s,u,0),r.set(u,s,0);else{for(l=0;l<s;l++)n[l]/=f,a+=n[l]*n[l];for(i=n[s-1],o=Math.sqrt(a),i>0&&(o=-o),t[s]=f*o,a-=i*o,n[s-1]=i-o,u=0;u<s;u++)t[u]=0;for(u=0;u<s;u++){for(i=n[u],r.set(u,s,i),o=t[u]+r.get(u,u)*i,l=u+1;l<=s-1;l++)o+=r.get(l,u)*n[l],t[l]+=r.get(l,u)*i;t[u]=o}for(i=0,u=0;u<s;u++)t[u]/=a,i+=t[u]*n[u];for(c=i/(a+a),u=0;u<s;u++)t[u]-=c*n[u];for(u=0;u<s;u++){for(i=n[u],o=t[u],l=u;l<=s-1;l++)r.set(l,u,r.get(l,u)-(i*t[l]+o*n[l]));n[u]=r.get(s-1,u),r.set(s,u,0)}}n[s]=a}for(s=0;s<e-1;s++){if(r.set(e-1,s,r.get(s,s)),r.set(s,s,1),0!==(a=n[s+1])){for(l=0;l<=s;l++)n[l]=r.get(l,s+1)/a;for(u=0;u<=s;u++){for(o=0,l=0;l<=s;l++)o+=r.get(l,s+1)*r.get(l,u);for(l=0;l<=s;l++)r.set(l,u,r.get(l,u)-o*n[l])}}for(l=0;l<=s;l++)r.set(l,s+1,0)}for(u=0;u<e;u++)n[u]=r.get(e-1,u),r.set(e-1,u,0);r.set(e-1,e-1,1),t[0]=0}function me(e,t,n,r){var i,o,a,s,u,l,c,f,d,h,p,g,v,m,y,b;for(a=1;a<e;a++)t[a-1]=t[a];t[e-1]=0;var x=0,w=0,E=Number.EPSILON;for(l=0;l<e;l++){for(w=Math.max(w,Math.abs(n[l])+Math.abs(t[l])),c=l;c<e&&!(Math.abs(t[c])<=E*w);)c++;if(c>l){0;do{for(1,i=n[l],d=re(f=(n[l+1]-i)/(2*t[l]),1),f<0&&(d=-d),n[l]=t[l]/(f+d),n[l+1]=t[l]*(f+d),h=n[l+1],o=i-n[l],a=l+2;a<e;a++)n[a]-=o;for(x+=o,f=n[c],g=p=1,v=p,m=t[l+1],y=0,b=0,a=c-1;a>=l;a--)for(v=g,g=p,b=y,i=p*t[a],o=p*f,d=re(f,t[a]),t[a+1]=y*d,y=t[a]/d,f=(p=f/d)*n[a]-y*i,n[a+1]=o+y*(p*i+y*n[a]),u=0;u<e;u++)o=r.get(u,a+1),r.set(u,a+1,y*r.get(u,a)+p*o),r.set(u,a,p*r.get(u,a)-y*o);f=-y*b*v*m*t[l]/h,t[l]=y*f,n[l]=p*f}while(Math.abs(t[l])>E*w)}n[l]=n[l]+x,t[l]=0}for(a=0;a<e-1;a++){for(u=a,f=n[a],s=a+1;s<e;s++)n[s]<f&&(u=s,f=n[s]);if(u!==a)for(n[u]=n[a],n[a]=f,s=0;s<e;s++)f=r.get(s,a),r.set(s,a,r.get(s,u)),r.set(s,u,f)}}function ye(e,t,n,r){var i,o,a,s,u,l,c,f=e-1;for(l=1;l<=f-1;l++){for(c=0,s=l;s<=f;s++)c+=Math.abs(t.get(s,l-1));if(0!==c){for(a=0,s=f;s>=l;s--)n[s]=t.get(s,l-1)/c,a+=n[s]*n[s];for(o=Math.sqrt(a),n[l]>0&&(o=-o),a-=n[l]*o,n[l]=n[l]-o,u=l;u<e;u++){for(i=0,s=f;s>=l;s--)i+=n[s]*t.get(s,u);for(i/=a,s=l;s<=f;s++)t.set(s,u,t.get(s,u)-i*n[s])}for(s=0;s<=f;s++){for(i=0,u=f;u>=l;u--)i+=n[u]*t.get(s,u);for(i/=a,u=l;u<=f;u++)t.set(s,u,t.get(s,u)-i*n[u])}n[l]=c*n[l],t.set(l,l-1,c*o)}}for(s=0;s<e;s++)for(u=0;u<e;u++)r.set(s,u,s===u?1:0);for(l=f-1;l>=1;l--)if(0!==t.get(l,l-1)){for(s=l+1;s<=f;s++)n[s]=t.get(s,l-1);for(u=l;u<=f;u++){for(o=0,s=l;s<=f;s++)o+=n[s]*r.get(s,u);for(o=o/n[l]/t.get(l,l-1),s=l;s<=f;s++)r.set(s,u,r.get(s,u)+o*n[s])}}}function be(e,t,n,r,i){var o,a,s,u,l,c,f,d,h,p,g,v,m,y,b,x=e-1,w=e-1,E=Number.EPSILON,S=0,_=0,T=0,k=0,C=0,M=0,A=0,N=0;for(o=0;o<e;o++)for((o<0||o>w)&&(n[o]=i.get(o,o),t[o]=0),a=Math.max(o-1,0);a<e;a++)_+=Math.abs(i.get(o,a));for(;x>=0;){for(u=x;u>0&&(0===(M=Math.abs(i.get(u-1,u-1))+Math.abs(i.get(u,u)))&&(M=_),!(Math.abs(i.get(u,u-1))<E*M));)u--;if(u===x)i.set(x,x,i.get(x,x)+S),n[x]=i.get(x,x),t[x]=0,x--,N=0;else if(u===x-1){if(f=i.get(x,x-1)*i.get(x-1,x),k=(T=(i.get(x-1,x-1)-i.get(x,x))/2)*T+f,A=Math.sqrt(Math.abs(k)),i.set(x,x,i.get(x,x)+S),i.set(x-1,x-1,i.get(x-1,x-1)+S),d=i.get(x,x),k>=0){for(A=T>=0?T+A:T-A,n[x-1]=d+A,n[x]=n[x-1],0!==A&&(n[x]=d-f/A),t[x-1]=0,t[x]=0,T=(d=i.get(x,x-1))/(M=Math.abs(d)+Math.abs(A)),k=A/M,T/=C=Math.sqrt(T*T+k*k),k/=C,a=x-1;a<e;a++)A=i.get(x-1,a),i.set(x-1,a,k*A+T*i.get(x,a)),i.set(x,a,k*i.get(x,a)-T*A);for(o=0;o<=x;o++)A=i.get(o,x-1),i.set(o,x-1,k*A+T*i.get(o,x)),i.set(o,x,k*i.get(o,x)-T*A);for(o=0;o<=w;o++)A=r.get(o,x-1),r.set(o,x-1,k*A+T*r.get(o,x)),r.set(o,x,k*r.get(o,x)-T*A)}else n[x-1]=d+T,n[x]=d+T,t[x-1]=A,t[x]=-A;x-=2,N=0}else{if(d=i.get(x,x),h=0,f=0,u<x&&(h=i.get(x-1,x-1),f=i.get(x,x-1)*i.get(x-1,x)),10===N){for(S+=d,o=0;o<=x;o++)i.set(o,o,i.get(o,o)-d);d=h=.75*(M=Math.abs(i.get(x,x-1))+Math.abs(i.get(x-1,x-2))),f=-.4375*M*M}if(30===N&&(M=(M=(h-d)/2)*M+f)>0){for(M=Math.sqrt(M),h<d&&(M=-M),M=d-f/((h-d)/2+M),o=0;o<=x;o++)i.set(o,o,i.get(o,o)-M);S+=M,d=h=f=.964}for(N+=1,l=x-2;l>=u&&(T=((C=d-(A=i.get(l,l)))*(M=h-A)-f)/i.get(l+1,l)+i.get(l,l+1),k=i.get(l+1,l+1)-A-C-M,C=i.get(l+2,l+1),T/=M=Math.abs(T)+Math.abs(k)+Math.abs(C),k/=M,C/=M,l!==u)&&!(Math.abs(i.get(l,l-1))*(Math.abs(k)+Math.abs(C))<E*(Math.abs(T)*(Math.abs(i.get(l-1,l-1))+Math.abs(A)+Math.abs(i.get(l+1,l+1)))));)l--;for(o=l+2;o<=x;o++)i.set(o,o-2,0),o>l+2&&i.set(o,o-3,0);for(s=l;s<=x-1&&(y=s!==x-1,s!==l&&(T=i.get(s,s-1),k=i.get(s+1,s-1),C=y?i.get(s+2,s-1):0,0!==(d=Math.abs(T)+Math.abs(k)+Math.abs(C))&&(T/=d,k/=d,C/=d)),0!==d);s++)if(M=Math.sqrt(T*T+k*k+C*C),T<0&&(M=-M),0!==M){for(s!==l?i.set(s,s-1,-M*d):u!==l&&i.set(s,s-1,-i.get(s,s-1)),d=(T+=M)/M,h=k/M,A=C/M,k/=T,C/=T,a=s;a<e;a++)T=i.get(s,a)+k*i.get(s+1,a),y&&(T+=C*i.get(s+2,a),i.set(s+2,a,i.get(s+2,a)-T*A)),i.set(s,a,i.get(s,a)-T*d),i.set(s+1,a,i.get(s+1,a)-T*h);for(o=0;o<=Math.min(x,s+3);o++)T=d*i.get(o,s)+h*i.get(o,s+1),y&&(T+=A*i.get(o,s+2),i.set(o,s+2,i.get(o,s+2)-T*C)),i.set(o,s,i.get(o,s)-T),i.set(o,s+1,i.get(o,s+1)-T*k);for(o=0;o<=w;o++)T=d*r.get(o,s)+h*r.get(o,s+1),y&&(T+=A*r.get(o,s+2),r.set(o,s+2,r.get(o,s+2)-T*C)),r.set(o,s,r.get(o,s)-T),r.set(o,s+1,r.get(o,s+1)-T*k)}}}if(0!==_){for(x=e-1;x>=0;x--)if(T=n[x],0===(k=t[x]))for(u=x,i.set(x,x,1),o=x-1;o>=0;o--){for(f=i.get(o,o)-T,C=0,a=u;a<=x;a++)C+=i.get(o,a)*i.get(a,x);if(t[o]<0)A=f,M=C;else if(u=o,0===t[o]?i.set(o,x,0!==f?-C/f:-C/(E*_)):(d=i.get(o,o+1),h=i.get(o+1,o),c=(d*M-A*C)/(k=(n[o]-T)*(n[o]-T)+t[o]*t[o]),i.set(o,x,c),i.set(o+1,x,Math.abs(d)>Math.abs(A)?(-C-f*c)/d:(-M-h*c)/A)),E*(c=Math.abs(i.get(o,x)))*c>1)for(a=o;a<=x;a++)i.set(a,x,i.get(a,x)/c)}else if(k<0)for(u=x-1,Math.abs(i.get(x,x-1))>Math.abs(i.get(x-1,x))?(i.set(x-1,x-1,k/i.get(x,x-1)),i.set(x-1,x,-(i.get(x,x)-T)/i.get(x,x-1))):(b=xe(0,-i.get(x-1,x),i.get(x-1,x-1)-T,k),i.set(x-1,x-1,b[0]),i.set(x-1,x,b[1])),i.set(x,x-1,0),i.set(x,x,1),o=x-2;o>=0;o--){for(p=0,g=0,a=u;a<=x;a++)p+=i.get(o,a)*i.get(a,x-1),g+=i.get(o,a)*i.get(a,x);if(f=i.get(o,o)-T,t[o]<0)A=f,C=p,M=g;else if(u=o,0===t[o]?(b=xe(-p,-g,f,k),i.set(o,x-1,b[0]),i.set(o,x,b[1])):(d=i.get(o,o+1),h=i.get(o+1,o),v=(n[o]-T)*(n[o]-T)+t[o]*t[o]-k*k,m=2*(n[o]-T)*k,0===v&&0===m&&(v=E*_*(Math.abs(f)+Math.abs(k)+Math.abs(d)+Math.abs(h)+Math.abs(A))),b=xe(d*C-A*p+k*g,d*M-A*g-k*p,v,m),i.set(o,x-1,b[0]),i.set(o,x,b[1]),Math.abs(d)>Math.abs(A)+Math.abs(k)?(i.set(o+1,x-1,(-p-f*i.get(o,x-1)+k*i.get(o,x))/d),i.set(o+1,x,(-g-f*i.get(o,x)-k*i.get(o,x-1))/d)):(b=xe(-C-h*i.get(o,x-1),-M-h*i.get(o,x),A,k),i.set(o+1,x-1,b[0]),i.set(o+1,x,b[1]))),E*(c=Math.max(Math.abs(i.get(o,x-1)),Math.abs(i.get(o,x))))*c>1)for(a=o;a<=x;a++)i.set(a,x-1,i.get(a,x-1)/c),i.set(a,x,i.get(a,x)/c)}for(o=0;o<e;o++)if(o<0||o>w)for(a=o;a<e;a++)r.set(o,a,i.get(o,a));for(a=e-1;a>=0;a--)for(o=0;o<=w;o++){for(A=0,s=0;s<=Math.min(a,w);s++)A+=r.get(o,s)*i.get(s,a);r.set(o,a,A)}}}function xe(e,t,n,r){var i,o;return Math.abs(n)>Math.abs(r)?[(e+(i=r/n)*t)/(o=n+i*r),(t-i*e)/o]:[((i=n/r)*e+t)/(o=r+i*n),(i*t-e)/o]}var we=function(){function e(t){if((0,a.Z)(this,e),!(t=ee.checkMatrix(t)).isSymmetric())throw new Error("Matrix is not symmetric");var n,r,i,o=t,s=o.rows,u=new G(s,s),l=!0;for(r=0;r<s;r++){var c=0;for(i=0;i<r;i++){var f=0;for(n=0;n<i;n++)f+=u.get(i,n)*u.get(r,n);f=(o.get(r,i)-f)/u.get(i,i),u.set(r,i,f),c+=f*f}for(l&=(c=o.get(r,r)-c)>0,u.set(r,r,Math.sqrt(Math.max(c,0))),i=r+1;i<s;i++)u.set(r,i,0)}this.L=u,this.positiveDefinite=Boolean(l)}return(0,s.Z)(e,[{key:"isPositiveDefinite",value:function(){return this.positiveDefinite}},{key:"solve",value:function(e){e=ee.checkMatrix(e);var t=this.L,n=t.rows;if(e.rows!==n)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");var r,i,o,a=e.columns,s=e.clone();for(o=0;o<n;o++)for(i=0;i<a;i++){for(r=0;r<o;r++)s.set(o,i,s.get(o,i)-s.get(r,i)*t.get(o,r));s.set(o,i,s.get(o,i)/t.get(o,o))}for(o=n-1;o>=0;o--)for(i=0;i<a;i++){for(r=o+1;r<n;r++)s.set(o,i,s.get(o,i)-s.get(r,i)*t.get(r,o));s.set(o,i,s.get(o,i)/t.get(o,o))}return s}},{key:"lowerTriangularMatrix",get:function(){return this.L}}]),e}(),Ee=(0,s.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,e),t=ee.checkMatrix(t);var r,i=n.Y,o=n.scaleScores,s=void 0!==o&&o,u=n.maxIterations,c=void 0===u?1e3:u,f=n.terminationCriteria,d=void 0===f?1e-10:f;if(i){if((i=l(i)&&"number"===typeof i[0]?G.columnVector(i):ee.checkMatrix(i)).rows!==t.rows)throw new Error("Y should have the same number of rows as X");r=i.getColumnVector(0)}else r=t.getColumnVector(0);for(var h,p,g,v,m=1,y=0;y<c&&m>d;y++)g=(g=t.transpose().mmul(r).div(r.transpose().mmul(r).get(0,0))).div(g.norm()),h=t.mmul(g).div(g.transpose().mmul(g).get(0,0)),y>0&&(m=h.clone().sub(v).pow(2).sum()),v=h.clone(),i?(p=(p=i.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0))).div(p.norm()),r=i.mmul(p).div(p.transpose().mmul(p).get(0,0))):r=h;if(i){var b=t.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0));b=b.div(b.norm());var x=t.clone().sub(h.clone().mmul(b.transpose())),w=r.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0)),E=i.clone().sub(h.clone().mulS(w.get(0,0)).mmul(p.transpose()));this.t=h,this.p=b.transpose(),this.w=g.transpose(),this.q=p,this.u=r,this.s=h.transpose().mmul(h),this.xResidual=x,this.yResidual=E,this.betas=w}else this.w=g.transpose(),this.s=h.transpose().mmul(h).sqrt(),this.t=s?h.clone().div(this.s.get(0,0)):h,this.xResidual=t.sub(h.mmul(g.transpose()))}))},2426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function l(e){return void 0===e}function c(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function h(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Hn(e,t,n,r,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(e){return null==e._pf&&(e._pf=g()),e._pf}function m(e){if(null==e._isValid){var t=v(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function y(e){var t=p(NaN);return null!=e?h(v(t),e):v(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var b=r.momentProperties=[],x=!1;function w(e,t){var n,r,i;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=v(t)),l(t._locale)||(e._locale=t._locale),b.length>0)for(n=0;n<b.length;n++)l(i=t[r=b[n]])||(e[r]=i);return e}function E(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===x&&(x=!0,r.updateOffset(this),x=!1)}function S(e){return e instanceof E||null!=e&&null!=e._isAMomentObject}function _(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function T(e,t){var n=!0;return h((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,o,a,u=[];for(o=0;o<arguments.length;o++){if(i="","object"===typeof arguments[o]){for(a in i+="\n["+o+"] ",arguments[0])s(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[o];u.push(i)}_(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var k,C={};function M(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),C[e]||(_(t),C[e]=!0)}function A(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function N(e){var t,n;for(n in e)s(e,n)&&(A(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function P(e,t){var n,r=h({},e);for(n in t)s(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},h(r[n],e[n]),h(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&a(e[n])&&(r[n]=h({},r[n]));return r}function I(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,k=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var D={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function O(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return A(r)?r.call(t,n):r}function R(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,B={},F={};function z(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(F[e]=i),t&&(F[t[0]]=function(){return R(i.apply(this,arguments),t[1],t[2])}),n&&(F[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Y(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function G(e){var t,n,r=e.match(L);for(t=0,n=r.length;t<n;t++)F[r[t]]?r[t]=F[r[t]]:r[t]=Y(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=A(r[i])?r[i].call(t,e):r[i];return o}}function V(e,t){return e.isValid()?(t=U(t,e.localeData()),B[t]=B[t]||G(t),B[t](e)):e.localeData().invalidDate()}function U(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(j.lastIndex=0;n>=0&&j.test(e);)e=e.replace(j,r),j.lastIndex=0,n-=1;return e}var W={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Z(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(L).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var H="Invalid date";function X(){return this._invalidDate}var K="%d",q=/\d{1,2}/;function J(e){return this._ordinal.replace("%d",e)}var $={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Q(e,t,n,r){var i=this._relativeTime[n];return A(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return A(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)s(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var oe={};function ae(e,t){oe[e]=t}function se(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:oe[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function ue(e){return e%4===0&&e%100!==0||e%400===0}function le(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ce(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=le(t)),n}function fe(e,t){return function(n){return null!=n?(he(this,e,n),r.updateOffset(this,t),this):de(this,e)}}function de(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function he(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ue(e.year())&&1===e.month()&&29===e.date()?(n=ce(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Qe(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return A(this[e=re(e)])?this[e]():this}function ge(e,t){if("object"===typeof e){var n,r=se(e=ie(e));for(n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit])}else if(A(this[e=re(e)]))return this[e](t);return this}var ve,me=/\d/,ye=/\d\d/,be=/\d{3}/,xe=/\d{4}/,we=/[+-]?\d{6}/,Ee=/\d\d?/,Se=/\d\d\d\d?/,_e=/\d\d\d\d\d\d?/,Te=/\d{1,3}/,ke=/\d{1,4}/,Ce=/[+-]?\d{1,6}/,Me=/\d+/,Ae=/[+-]?\d+/,Ne=/Z|[+-]\d\d:?\d\d/gi,Pe=/Z|[+-]\d\d(?::?\d\d)?/gi,Ie=/[+-]?\d+(\.\d{1,3})?/,De=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Oe(e,t,n){ve[e]=A(t)?t:function(e,r){return e&&n?n:t}}function Re(e,t){return s(ve,e)?ve[e](t._strict,t._locale):new RegExp(Le(e))}function Le(e){return je(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function je(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}ve={};var Be={};function Fe(e,t){var n,r=t;for("string"===typeof e&&(e=[e]),c(t)&&(r=function(e,n){n[t]=ce(e)}),n=0;n<e.length;n++)Be[e[n]]=r}function ze(e,t){Fe(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function Ye(e,t,n){null!=t&&s(Be,e)&&Be[e](t,n._a,n,e)}var Ge,Ve=0,Ue=1,We=2,Ze=3,He=4,Xe=5,Ke=6,qe=7,Je=8;function $e(e,t){return(e%t+t)%t}function Qe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=$e(t,12);return e+=(t-n)/12,1===n?ue(e)?29:28:31-n%7%2}Ge=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},z("M",["MM",2],"Mo",(function(){return this.month()+1})),z("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),z("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),ae("month",8),Oe("M",Ee),Oe("MM",Ee,ye),Oe("MMM",(function(e,t){return t.monthsShortRegex(e)})),Oe("MMMM",(function(e,t){return t.monthsRegex(e)})),Fe(["M","MM"],(function(e,t){t[Ue]=ce(e)-1})),Fe(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Ue]=i:v(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=De,it=De;function ot(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone}function at(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ge.call(this._shortMonthsParse,a))?i:null:-1!==(i=Ge.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=Ge.call(this._shortMonthsParse,a))||-1!==(i=Ge.call(this._longMonthsParse,a))?i:null:-1!==(i=Ge.call(this._longMonthsParse,a))||-1!==(i=Ge.call(this._shortMonthsParse,a))?i:null}function ut(e,t,n){var r,i,o;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function lt(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=ce(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Qe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ct(e){return null!=e?(lt(this,e),r.updateOffset(this,!0),this):de(this,"Month")}function ft(){return Qe(this.year(),this.month())}function dt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ht(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=je(r[t]),i[t]=je(i[t]);for(t=0;t<24;t++)o[t]=je(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function gt(e){return ue(e)?366:365}z("Y",0,0,(function(){var e=this.year();return e<=9999?R(e,4):"+"+e})),z(0,["YY",2],0,(function(){return this.year()%100})),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),ae("year",1),Oe("Y",Ae),Oe("YY",Ee,ye),Oe("YYYY",ke,xe),Oe("YYYYY",Ce,we),Oe("YYYYYY",Ce,we),Fe(["YYYYY","YYYYYY"],Ve),Fe("YYYY",(function(e,t){t[Ve]=2===e.length?r.parseTwoDigitYear(e):ce(e)})),Fe("YY",(function(e,t){t[Ve]=r.parseTwoDigitYear(e)})),Fe("Y",(function(e,t){t[Ve]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return ce(e)+(ce(e)>68?1900:2e3)};var vt=fe("FullYear",!0);function mt(){return ue(this.year())}function yt(e,t,n,r,i,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,o,a),s}function bt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function xt(e,t,n){var r=7+t-n;return-(7+bt(e,0,r).getUTCDay()-t)%7+r-1}function wt(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+xt(e,r,i);return s<=0?a=gt(o=e-1)+s:s>gt(e)?(o=e+1,a=s-gt(e)):(o=e,a=s),{year:o,dayOfYear:a}}function Et(e,t,n){var r,i,o=xt(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?r=a+St(i=e.year()-1,t,n):a>St(e.year(),t,n)?(r=a-St(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function St(e,t,n){var r=xt(e,t,n),i=xt(e+1,t,n);return(gt(e)-r+i)/7}function _t(e){return Et(e,this._week.dow,this._week.doy).week}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),ae("week",5),ae("isoWeek",5),Oe("w",Ee),Oe("ww",Ee,ye),Oe("W",Ee),Oe("WW",Ee,ye),ze(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=ce(e)}));var Tt={dow:0,doy:6};function kt(){return this._week.dow}function Ct(){return this._week.doy}function Mt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function At(e){var t=Et(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Nt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Pt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function It(e,t){return e.slice(t,7).concat(e.slice(0,t))}z("d",0,"do","day"),z("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),z("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),z("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),ae("day",11),ae("weekday",11),ae("isoWeekday",11),Oe("d",Ee),Oe("e",Ee),Oe("E",Ee),Oe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Oe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Oe("dddd",(function(e,t){return t.weekdaysRegex(e)})),ze(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:v(n).invalidWeekday=e})),ze(["d","e","E"],(function(e,t,n,r){t[r]=ce(e)}));var Dt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ot="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Rt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lt=De,jt=De,Bt=De;function Ft(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?It(n,this._week.dow):e?n[e.day()]:n}function zt(e){return!0===e?It(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Yt(e){return!0===e?It(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Gt(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ge.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ge.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Ge.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=Ge.call(this._weekdaysParse,a))||-1!==(i=Ge.call(this._shortWeekdaysParse,a))||-1!==(i=Ge.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ge.call(this._shortWeekdaysParse,a))||-1!==(i=Ge.call(this._weekdaysParse,a))||-1!==(i=Ge.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Ge.call(this._minWeekdaysParse,a))||-1!==(i=Ge.call(this._weekdaysParse,a))||-1!==(i=Ge.call(this._shortWeekdaysParse,a))?i:null}function Vt(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Gt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Ut(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Nt(e,this.localeData()),this.add(e-t,"d")):t}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Zt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Pt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ht(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||qt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Lt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Xt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||qt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=jt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Kt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||qt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Bt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function qt(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],u=[],l=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=je(this.weekdaysMin(n,"")),i=je(this.weekdaysShort(n,"")),o=je(this.weekdays(n,"")),a.push(r),s.push(i),u.push(o),l.push(r),l.push(i),l.push(o);a.sort(e),s.sort(e),u.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Jt(){return this.hours()%12||12}function $t(){return this.hours()||24}function Qt(e,t){z(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,Jt),z("k",["kk",2],0,$t),z("hmm",0,0,(function(){return""+Jt.apply(this)+R(this.minutes(),2)})),z("hmmss",0,0,(function(){return""+Jt.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)})),z("Hmm",0,0,(function(){return""+this.hours()+R(this.minutes(),2)})),z("Hmmss",0,0,(function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)})),Qt("a",!0),Qt("A",!1),ne("hour","h"),ae("hour",13),Oe("a",en),Oe("A",en),Oe("H",Ee),Oe("h",Ee),Oe("k",Ee),Oe("HH",Ee,ye),Oe("hh",Ee,ye),Oe("kk",Ee,ye),Oe("hmm",Se),Oe("hmmss",_e),Oe("Hmm",Se),Oe("Hmmss",_e),Fe(["H","HH"],Ze),Fe(["k","kk"],(function(e,t,n){var r=ce(e);t[Ze]=24===r?0:r})),Fe(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Fe(["h","hh"],(function(e,t,n){t[Ze]=ce(e),v(n).bigHour=!0})),Fe("hmm",(function(e,t,n){var r=e.length-2;t[Ze]=ce(e.substr(0,r)),t[He]=ce(e.substr(r)),v(n).bigHour=!0})),Fe("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ze]=ce(e.substr(0,r)),t[He]=ce(e.substr(r,2)),t[Xe]=ce(e.substr(i)),v(n).bigHour=!0})),Fe("Hmm",(function(e,t,n){var r=e.length-2;t[Ze]=ce(e.substr(0,r)),t[He]=ce(e.substr(r))})),Fe("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ze]=ce(e.substr(0,r)),t[He]=ce(e.substr(r,2)),t[Xe]=ce(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=fe("Hours",!0);function on(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var an,sn={calendar:D,longDateFormat:W,invalidDate:H,ordinal:K,dayOfMonthOrdinalParse:q,relativeTime:$,months:et,monthsShort:tt,week:Tt,weekdays:Dt,weekdaysMin:Rt,weekdaysShort:Ot,meridiemParse:nn},un={},ln={};function cn(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function fn(e){return e?e.toLowerCase().replace("_","-"):e}function dn(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=fn(e[o]).split("-")).length,n=(n=fn(e[o+1]))?n.split("-"):null;t>0;){if(r=hn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&cn(i,n)>=t-1)break;t--}o++}return an}function hn(t){var n=null;if(void 0===un[t]&&e&&e.exports)try{n=an._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),pn(n)}catch(r){un[t]=null}return un[t]}function pn(e,t){var n;return e&&((n=l(t)?mn(e):gn(e,t))?an=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),an._abbr}function gn(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=un[e])M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[e]._config;else if(null!=t.parentLocale)if(null!=un[t.parentLocale])r=un[t.parentLocale]._config;else{if(null==(n=hn(t.parentLocale)))return ln[t.parentLocale]||(ln[t.parentLocale]=[]),ln[t.parentLocale].push({name:e,config:t}),null;r=n._config}return un[e]=new I(P(r,t)),ln[e]&&ln[e].forEach((function(e){gn(e.name,e.config)})),pn(e),un[e]}return delete un[e],null}function vn(e,t){if(null!=t){var n,r,i=sn;null!=un[e]&&null!=un[e].parentLocale?un[e].set(P(un[e]._config,t)):(null!=(r=hn(e))&&(i=r._config),t=P(i,t),null==r&&(t.abbr=e),(n=new I(t)).parentLocale=un[e],un[e]=n),pn(e)}else null!=un[e]&&(null!=un[e].parentLocale?(un[e]=un[e].parentLocale,e===pn()&&pn(e)):null!=un[e]&&delete un[e]);return un[e]}function mn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return an;if(!o(e)){if(t=hn(e))return t;e=[e]}return dn(e)}function yn(){return k(un)}function bn(e){var t,n=e._a;return n&&-2===v(e).overflow&&(t=n[Ue]<0||n[Ue]>11?Ue:n[We]<1||n[We]>Qe(n[Ve],n[Ue])?We:n[Ze]<0||n[Ze]>24||24===n[Ze]&&(0!==n[He]||0!==n[Xe]||0!==n[Ke])?Ze:n[He]<0||n[He]>59?He:n[Xe]<0||n[Xe]>59?Xe:n[Ke]<0||n[Ke]>999?Ke:-1,v(e)._overflowDayOfYear&&(t<Ve||t>We)&&(t=We),v(e)._overflowWeeks&&-1===t&&(t=qe),v(e)._overflowWeekday&&-1===t&&(t=Je),v(e).overflow=t),e}var xn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,En=/Z|[+-]\d\d(?::?\d\d)?/,Sn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],_n=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Tn=/^\/?Date\((-?\d+)/i,kn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Cn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Mn(e){var t,n,r,i,o,a,s=e._i,u=xn.exec(s)||wn.exec(s);if(u){for(v(e).iso=!0,t=0,n=Sn.length;t<n;t++)if(Sn[t][1].exec(u[1])){i=Sn[t][0],r=!1!==Sn[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=_n.length;t<n;t++)if(_n[t][1].exec(u[3])){o=(u[2]||" ")+_n[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!En.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),zn(e)}else e._isValid=!1}function An(e,t,n,r,i,o){var a=[Nn(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function Nn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Pn(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function In(e,t,n){return!e||Ot.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(v(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Dn(e,t,n){if(e)return Cn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function On(e){var t,n=kn.exec(Pn(e._i));if(n){if(t=An(n[4],n[3],n[2],n[5],n[6],n[7]),!In(n[1],t,e))return;e._a=t,e._tzm=Dn(n[8],n[9],n[10]),e._d=bt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),v(e).rfc2822=!0}else e._isValid=!1}function Rn(e){var t=Tn.exec(e._i);null===t?(Mn(e),!1===e._isValid&&(delete e._isValid,On(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Ln(e,t,n){return null!=e?e:null!=t?t:n}function jn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Bn(e){var t,n,r,i,o,a=[];if(!e._d){for(r=jn(e),e._w&&null==e._a[We]&&null==e._a[Ue]&&Fn(e),null!=e._dayOfYear&&(o=Ln(e._a[Ve],r[Ve]),(e._dayOfYear>gt(o)||0===e._dayOfYear)&&(v(e)._overflowDayOfYear=!0),n=bt(o,0,e._dayOfYear),e._a[Ue]=n.getUTCMonth(),e._a[We]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ze]&&0===e._a[He]&&0===e._a[Xe]&&0===e._a[Ke]&&(e._nextDay=!0,e._a[Ze]=0),e._d=(e._useUTC?bt:yt).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ze]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(v(e).weekdayMismatch=!0)}}function Fn(e){var t,n,r,i,o,a,s,u,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,a=4,n=Ln(t.GG,e._a[Ve],Et(Xn(),1,4).year),r=Ln(t.W,1),((i=Ln(t.E,1))<1||i>7)&&(u=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,l=Et(Xn(),o,a),n=Ln(t.gg,e._a[Ve],l.year),r=Ln(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o),r<1||r>St(n,o,a)?v(e)._overflowWeeks=!0:null!=u?v(e)._overflowWeekday=!0:(s=wt(n,r,i,o,a),e._a[Ve]=s.year,e._dayOfYear=s.dayOfYear)}function zn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],v(e).empty=!0;var t,n,i,o,a,s,u=""+e._i,l=u.length,c=0;for(i=U(e._f,e._locale).match(L)||[],t=0;t<i.length;t++)o=i[t],(n=(u.match(Re(o,e))||[])[0])&&((a=u.substr(0,u.indexOf(n))).length>0&&v(e).unusedInput.push(a),u=u.slice(u.indexOf(n)+n.length),c+=n.length),F[o]?(n?v(e).empty=!1:v(e).unusedTokens.push(o),Ye(o,n,e)):e._strict&&!n&&v(e).unusedTokens.push(o);v(e).charsLeftOver=l-c,u.length>0&&v(e).unusedInput.push(u),e._a[Ze]<=12&&!0===v(e).bigHour&&e._a[Ze]>0&&(v(e).bigHour=void 0),v(e).parsedDateParts=e._a.slice(0),v(e).meridiem=e._meridiem,e._a[Ze]=Yn(e._locale,e._a[Ze],e._meridiem),null!==(s=v(e).era)&&(e._a[Ve]=e._locale.erasConvertYear(s,e._a[Ve])),Bn(e),bn(e)}else On(e);else Mn(e)}function Yn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Gn(e){var t,n,r,i,o,a,s=!1;if(0===e._f.length)return v(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,a=!1,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],zn(t),m(t)&&(a=!0),o+=v(t).charsLeftOver,o+=10*v(t).unusedTokens.length,v(t).score=o,s?o<r&&(r=o,n=t):(null==r||o<r||a)&&(r=o,n=t,a&&(s=!0));h(e,n||t)}function Vn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=d([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Bn(e)}}function Un(e){var t=new E(bn(Wn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Wn(e){var t=e._i,n=e._f;return e._locale=e._locale||mn(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),S(t)?new E(bn(t)):(f(t)?e._d=t:o(n)?Gn(e):n?zn(e):Zn(e),m(e)||(e._d=null),e))}function Zn(e){var t=e._i;l(t)?e._d=new Date(r.now()):f(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Rn(e):o(t)?(e._a=d(t.slice(0),(function(e){return parseInt(e,10)})),Bn(e)):a(t)?Vn(e):c(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Hn(e,t,n,r,i){var s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&u(e)||o(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,Un(s)}function Xn(e,t,n,r){return Hn(e,t,n,r,!1)}r.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Kn=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Xn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),qn=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Xn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function Jn(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Xn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function $n(){return Jn("isBefore",[].slice.call(arguments,0))}function Qn(){return Jn("isAfter",[].slice.call(arguments,0))}var er=function(){return Date.now?Date.now():+new Date},tr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function nr(e){var t,n,r=!1;for(t in e)if(s(e,t)&&(-1===Ge.call(tr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<tr.length;++n)if(e[tr[n]]){if(r)return!1;parseFloat(e[tr[n]])!==ce(e[tr[n]])&&(r=!0)}return!0}function rr(){return this._isValid}function ir(){return Cr(NaN)}function or(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=nr(t),this._milliseconds=+c+1e3*l+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=mn(),this._bubble()}function ar(e){return e instanceof or}function sr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function ur(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&ce(e[r])!==ce(t[r]))&&a++;return a+o}function lr(e,t){z(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+R(~~(e/60),2)+t+R(~~e%60,2)}))}lr("Z",":"),lr("ZZ",""),Oe("Z",Pe),Oe("ZZ",Pe),Fe(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=fr(Pe,e)}));var cr=/([\+\-]|\d\d)/gi;function fr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(cr)||["-",0,0])[1]+ce(n[2]))?0:"+"===n[0]?r:-r}function dr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(S(e)||f(e)?e.valueOf():Xn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Xn(e).local()}function hr(e){return-Math.round(e._d.getTimezoneOffset())}function pr(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=fr(Pe,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=hr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?Ir(this,Cr(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:hr(this)}function gr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function vr(e){return this.utcOffset(0,e)}function mr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(hr(this),"m")),this}function yr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=fr(Ne,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function br(e){return!!this.isValid()&&(e=e?Xn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function xr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wr(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e,t={};return w(t,this),(t=Wn(t))._a?(e=t._isUTC?p(t._a):Xn(t._a),this._isDSTShifted=this.isValid()&&ur(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Er(){return!!this.isValid()&&!this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC}function _r(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Tr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,kr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cr(e,t){var n,r,i,o=e,a=null;return ar(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:c(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(a=Tr.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:ce(a[We])*n,h:ce(a[Ze])*n,m:ce(a[He])*n,s:ce(a[Xe])*n,ms:ce(sr(1e3*a[Ke]))*n}):(a=kr.exec(e))?(n="-"===a[1]?-1:1,o={y:Mr(a[2],n),M:Mr(a[3],n),w:Mr(a[4],n),d:Mr(a[5],n),h:Mr(a[6],n),m:Mr(a[7],n),s:Mr(a[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(i=Nr(Xn(o.from),Xn(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new or(o),ar(e)&&s(e,"_locale")&&(r._locale=e._locale),ar(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Mr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ar(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Nr(e,t){var n;return e.isValid()&&t.isValid()?(t=dr(t,e),e.isBefore(t)?n=Ar(e,t):((n=Ar(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Pr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(M(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Ir(this,Cr(n,r),e),this}}function Ir(e,t,n,i){var o=t._milliseconds,a=sr(t._days),s=sr(t._months);e.isValid()&&(i=null==i||i,s&&lt(e,de(e,"Month")+s*n),a&&he(e,"Date",de(e,"Date")+a*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&r.updateOffset(e,a||s))}Cr.fn=or.prototype,Cr.invalid=ir;var Dr=Pr(1,"add"),Or=Pr(-1,"subtract");function Rr(e){return"string"===typeof e||e instanceof String}function Lr(e){return S(e)||f(e)||Rr(e)||c(e)||Br(e)||jr(e)||null===e||void 0===e}function jr(e){var t,n,r=a(e)&&!u(e),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<o.length;t+=1)n=o[t],i=i||s(e,n);return r&&i}function Br(e){var t=o(e),n=!1;return t&&(n=0===e.filter((function(t){return!c(t)&&Rr(e)})).length),t&&n}function Fr(e){var t,n,r=a(e)&&!u(e),i=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)n=o[t],i=i||s(e,n);return r&&i}function zr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Yr(e,t){1===arguments.length&&(arguments[0]?Lr(arguments[0])?(e=arguments[0],t=void 0):Fr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Xn(),i=dr(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",a=t&&(A(t[o])?t[o].call(this,n):t[o]);return this.format(a||this.localeData().calendar(o,this,Xn(n)))}function Gr(){return new E(this)}function Vr(e,t){var n=S(e)?e:Xn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Ur(e,t){var n=S(e)?e:Xn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Wr(e,t,n,r){var i=S(e)?e:Xn(e),o=S(t)?t:Xn(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))}function Zr(e,t){var n,r=S(e)?e:Xn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Hr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Xr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Kr(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=dr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":o=qr(this,r)/12;break;case"month":o=qr(this,r);break;case"quarter":o=qr(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:le(o)}function qr(e,t){if(e.date()<t.date())return-qr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Jr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function $r(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?V(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",V(n,"Z")):V(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Qr(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",o="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(e+t+n+r)}function ei(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=V(this,e);return this.localeData().postformat(t)}function ti(e,t){return this.isValid()&&(S(e)&&e.isValid()||Xn(e).isValid())?Cr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ni(e){return this.from(Xn(),e)}function ri(e,t){return this.isValid()&&(S(e)&&e.isValid()||Xn(e).isValid())?Cr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ii(e){return this.to(Xn(),e)}function oi(e){var t;return void 0===e?this._locale._abbr:(null!=(t=mn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ai=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function si(){return this._locale}var ui=1e3,li=60*ui,ci=60*li,fi=3506328*ci;function di(e,t){return(e%t+t)%t}function hi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-fi:new Date(e,t,n).valueOf()}function pi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-fi:Date.UTC(e,t,n)}function gi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?pi:hi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=di(t+(this._isUTC?0:this.utcOffset()*li),ci);break;case"minute":t=this._d.valueOf(),t-=di(t,li);break;case"second":t=this._d.valueOf(),t-=di(t,ui)}return this._d.setTime(t),r.updateOffset(this,!0),this}function vi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?pi:hi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ci-di(t+(this._isUTC?0:this.utcOffset()*li),ci)-1;break;case"minute":t=this._d.valueOf(),t+=li-di(t,li)-1;break;case"second":t=this._d.valueOf(),t+=ui-di(t,ui)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function mi(){return this._d.valueOf()-6e4*(this._offset||0)}function yi(){return Math.floor(this.valueOf()/1e3)}function bi(){return new Date(this.valueOf())}function xi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function wi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Ei(){return this.isValid()?this.toISOString():null}function Si(){return m(this)}function _i(){return h({},v(this))}function Ti(){return v(this).overflow}function ki(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ci(e,t){var n,i,o,a=this._eras||mn("en")._eras;for(n=0,i=a.length;n<i;++n)switch("string"===typeof a[n].since&&(o=r(a[n].since).startOf("day"),a[n].since=o.valueOf()),typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":o=r(a[n].until).startOf("day").valueOf(),a[n].until=o.valueOf()}return a}function Mi(e,t,n){var r,i,o,a,s,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(o=u[r].name.toUpperCase(),a=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return u[r];break;case"NNNN":if(o===e)return u[r];break;case"NNNNN":if(s===e)return u[r]}else if([o,a,s].indexOf(e)>=0)return u[r]}function Ai(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Ni(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Pi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Ii(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Di(){var e,t,n,i,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,i=this.clone().startOf("day").valueOf(),o[e].since<=i&&i<=o[e].until||o[e].until<=i&&i<=o[e].since)return(this.year()-r(o[e].since).year())*n+o[e].offset;return this.year()}function Oi(e){return s(this,"_erasNameRegex")||Yi.call(this),e?this._erasNameRegex:this._erasRegex}function Ri(e){return s(this,"_erasAbbrRegex")||Yi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Li(e){return s(this,"_erasNarrowRegex")||Yi.call(this),e?this._erasNarrowRegex:this._erasRegex}function ji(e,t){return t.erasAbbrRegex(e)}function Bi(e,t){return t.erasNameRegex(e)}function Fi(e,t){return t.erasNarrowRegex(e)}function zi(e,t){return t._eraYearOrdinalRegex||Me}function Yi(){var e,t,n=[],r=[],i=[],o=[],a=this.eras();for(e=0,t=a.length;e<t;++e)r.push(je(a[e].name)),n.push(je(a[e].abbr)),i.push(je(a[e].narrow)),o.push(je(a[e].name)),o.push(je(a[e].abbr)),o.push(je(a[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function Gi(e,t){z(0,[e,e.length],0,t)}function Vi(e){return Ki.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ui(e){return Ki.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Wi(){return St(this.year(),1,4)}function Zi(){return St(this.isoWeekYear(),1,4)}function Hi(){var e=this.localeData()._week;return St(this.year(),e.dow,e.doy)}function Xi(){var e=this.localeData()._week;return St(this.weekYear(),e.dow,e.doy)}function Ki(e,t,n,r,i){var o;return null==e?Et(this,r,i).year:(t>(o=St(e,r,i))&&(t=o),qi.call(this,e,t,n,r,i))}function qi(e,t,n,r,i){var o=wt(e,t,n,r,i),a=bt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Ji(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}z("N",0,0,"eraAbbr"),z("NN",0,0,"eraAbbr"),z("NNN",0,0,"eraAbbr"),z("NNNN",0,0,"eraName"),z("NNNNN",0,0,"eraNarrow"),z("y",["y",1],"yo","eraYear"),z("y",["yy",2],0,"eraYear"),z("y",["yyy",3],0,"eraYear"),z("y",["yyyy",4],0,"eraYear"),Oe("N",ji),Oe("NN",ji),Oe("NNN",ji),Oe("NNNN",Bi),Oe("NNNNN",Fi),Fe(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?v(n).era=i:v(n).invalidEra=e})),Oe("y",Me),Oe("yy",Me),Oe("yyy",Me),Oe("yyyy",Me),Oe("yo",zi),Fe(["y","yy","yyy","yyyy"],Ve),Fe(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ve]=n._locale.eraYearOrdinalParse(e,i):t[Ve]=parseInt(e,10)})),z(0,["gg",2],0,(function(){return this.weekYear()%100})),z(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Gi("gggg","weekYear"),Gi("ggggg","weekYear"),Gi("GGGG","isoWeekYear"),Gi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),ae("weekYear",1),ae("isoWeekYear",1),Oe("G",Ae),Oe("g",Ae),Oe("GG",Ee,ye),Oe("gg",Ee,ye),Oe("GGGG",ke,xe),Oe("gggg",ke,xe),Oe("GGGGG",Ce,we),Oe("ggggg",Ce,we),ze(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=ce(e)})),ze(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),z("Q",0,"Qo","quarter"),ne("quarter","Q"),ae("quarter",7),Oe("Q",me),Fe("Q",(function(e,t){t[Ue]=3*(ce(e)-1)})),z("D",["DD",2],"Do","date"),ne("date","D"),ae("date",9),Oe("D",Ee),Oe("DD",Ee,ye),Oe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Fe(["D","DD"],We),Fe("Do",(function(e,t){t[We]=ce(e.match(Ee)[0])}));var $i=fe("Date",!0);function Qi(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}z("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),ae("dayOfYear",4),Oe("DDD",Te),Oe("DDDD",be),Fe(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=ce(e)})),z("m",["mm",2],0,"minute"),ne("minute","m"),ae("minute",14),Oe("m",Ee),Oe("mm",Ee,ye),Fe(["m","mm"],He);var eo=fe("Minutes",!1);z("s",["ss",2],0,"second"),ne("second","s"),ae("second",15),Oe("s",Ee),Oe("ss",Ee,ye),Fe(["s","ss"],Xe);var to,no,ro=fe("Seconds",!1);for(z("S",0,0,(function(){return~~(this.millisecond()/100)})),z(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),z(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),z(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),z(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),z(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),z(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),ae("millisecond",16),Oe("S",Te,me),Oe("SS",Te,ye),Oe("SSS",Te,be),to="SSSS";to.length<=9;to+="S")Oe(to,Me);function io(e,t){t[Ke]=ce(1e3*("0."+e))}for(to="S";to.length<=9;to+="S")Fe(to,io);function oo(){return this._isUTC?"UTC":""}function ao(){return this._isUTC?"Coordinated Universal Time":""}no=fe("Milliseconds",!1),z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var so=E.prototype;function uo(e){return Xn(1e3*e)}function lo(){return Xn.apply(null,arguments).parseZone()}function co(e){return e}so.add=Dr,so.calendar=Yr,so.clone=Gr,so.diff=Kr,so.endOf=vi,so.format=ei,so.from=ti,so.fromNow=ni,so.to=ri,so.toNow=ii,so.get=pe,so.invalidAt=Ti,so.isAfter=Vr,so.isBefore=Ur,so.isBetween=Wr,so.isSame=Zr,so.isSameOrAfter=Hr,so.isSameOrBefore=Xr,so.isValid=Si,so.lang=ai,so.locale=oi,so.localeData=si,so.max=qn,so.min=Kn,so.parsingFlags=_i,so.set=ge,so.startOf=gi,so.subtract=Or,so.toArray=xi,so.toObject=wi,so.toDate=bi,so.toISOString=$r,so.inspect=Qr,"undefined"!==typeof Symbol&&null!=Symbol.for&&(so[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),so.toJSON=Ei,so.toString=Jr,so.unix=yi,so.valueOf=mi,so.creationData=ki,so.eraName=Ni,so.eraNarrow=Pi,so.eraAbbr=Ii,so.eraYear=Di,so.year=vt,so.isLeapYear=mt,so.weekYear=Vi,so.isoWeekYear=Ui,so.quarter=so.quarters=Ji,so.month=ct,so.daysInMonth=ft,so.week=so.weeks=Mt,so.isoWeek=so.isoWeeks=At,so.weeksInYear=Hi,so.weeksInWeekYear=Xi,so.isoWeeksInYear=Wi,so.isoWeeksInISOWeekYear=Zi,so.date=$i,so.day=so.days=Ut,so.weekday=Wt,so.isoWeekday=Zt,so.dayOfYear=Qi,so.hour=so.hours=rn,so.minute=so.minutes=eo,so.second=so.seconds=ro,so.millisecond=so.milliseconds=no,so.utcOffset=pr,so.utc=vr,so.local=mr,so.parseZone=yr,so.hasAlignedHourOffset=br,so.isDST=xr,so.isLocal=Er,so.isUtcOffset=Sr,so.isUtc=_r,so.isUTC=_r,so.zoneAbbr=oo,so.zoneName=ao,so.dates=T("dates accessor is deprecated. Use date instead.",$i),so.months=T("months accessor is deprecated. Use month instead",ct),so.years=T("years accessor is deprecated. Use year instead",vt),so.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gr),so.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wr);var fo=I.prototype;function ho(e,t,n,r){var i=mn(),o=p().set(r,t);return i[n](o,e)}function po(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return ho(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=ho(e,r,n,"month");return i}function go(e,t,n,r){"boolean"===typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var i,o=mn(),a=e?o._week.dow:0,s=[];if(null!=n)return ho(t,(n+a)%7,r,"day");for(i=0;i<7;i++)s[i]=ho(t,(i+a)%7,r,"day");return s}function vo(e,t){return po(e,t,"months")}function mo(e,t){return po(e,t,"monthsShort")}function yo(e,t,n){return go(e,t,n,"weekdays")}function bo(e,t,n){return go(e,t,n,"weekdaysShort")}function xo(e,t,n){return go(e,t,n,"weekdaysMin")}fo.calendar=O,fo.longDateFormat=Z,fo.invalidDate=X,fo.ordinal=J,fo.preparse=co,fo.postformat=co,fo.relativeTime=Q,fo.pastFuture=ee,fo.set=N,fo.eras=Ci,fo.erasParse=Mi,fo.erasConvertYear=Ai,fo.erasAbbrRegex=Ri,fo.erasNameRegex=Oi,fo.erasNarrowRegex=Li,fo.months=ot,fo.monthsShort=at,fo.monthsParse=ut,fo.monthsRegex=ht,fo.monthsShortRegex=dt,fo.week=_t,fo.firstDayOfYear=Ct,fo.firstDayOfWeek=kt,fo.weekdays=Ft,fo.weekdaysMin=Yt,fo.weekdaysShort=zt,fo.weekdaysParse=Vt,fo.weekdaysRegex=Ht,fo.weekdaysShortRegex=Xt,fo.weekdaysMinRegex=Kt,fo.isPM=tn,fo.meridiem=on,pn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===ce(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=T("moment.lang is deprecated. Use moment.locale instead.",pn),r.langData=T("moment.langData is deprecated. Use moment.localeData instead.",mn);var wo=Math.abs;function Eo(){var e=this._data;return this._milliseconds=wo(this._milliseconds),this._days=wo(this._days),this._months=wo(this._months),e.milliseconds=wo(e.milliseconds),e.seconds=wo(e.seconds),e.minutes=wo(e.minutes),e.hours=wo(e.hours),e.months=wo(e.months),e.years=wo(e.years),this}function So(e,t,n,r){var i=Cr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function _o(e,t){return So(this,e,t,1)}function To(e,t){return So(this,e,t,-1)}function ko(e){return e<0?Math.floor(e):Math.ceil(e)}function Co(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*ko(Ao(s)+a),a=0,s=0),u.milliseconds=o%1e3,e=le(o/1e3),u.seconds=e%60,t=le(e/60),u.minutes=t%60,n=le(t/60),u.hours=n%24,a+=le(n/24),s+=i=le(Mo(a)),a-=ko(Ao(i)),r=le(s/12),s%=12,u.days=a,u.months=s,u.years=r,this}function Mo(e){return 4800*e/146097}function Ao(e){return 146097*e/4800}function No(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Mo(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ao(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Po(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ce(this._months/12):NaN}function Io(e){return function(){return this.as(e)}}var Do=Io("ms"),Oo=Io("s"),Ro=Io("m"),Lo=Io("h"),jo=Io("d"),Bo=Io("w"),Fo=Io("M"),zo=Io("Q"),Yo=Io("y");function Go(){return Cr(this)}function Vo(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Uo(e){return function(){return this.isValid()?this._data[e]:NaN}}var Wo=Uo("milliseconds"),Zo=Uo("seconds"),Ho=Uo("minutes"),Xo=Uo("hours"),Ko=Uo("days"),qo=Uo("months"),Jo=Uo("years");function $o(){return le(this.days()/7)}var Qo=Math.round,ea={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ta(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function na(e,t,n,r){var i=Cr(e).abs(),o=Qo(i.as("s")),a=Qo(i.as("m")),s=Qo(i.as("h")),u=Qo(i.as("d")),l=Qo(i.as("M")),c=Qo(i.as("w")),f=Qo(i.as("y")),d=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(d=d||c<=1&&["w"]||c<n.w&&["ww",c]),(d=d||l<=1&&["M"]||l<n.M&&["MM",l]||f<=1&&["y"]||["yy",f])[2]=t,d[3]=+e>0,d[4]=r,ta.apply(null,d)}function ra(e){return void 0===e?Qo:"function"===typeof e&&(Qo=e,!0)}function ia(e,t){return void 0!==ea[e]&&(void 0===t?ea[e]:(ea[e]=t,"s"===e&&(ea.ss=t-1),!0))}function oa(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=ea;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(o=Object.assign({},ea,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),r=na(this,!i,o,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var aa=Math.abs;function sa(e){return(e>0)-(e<0)||+e}function ua(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,o,a,s,u=aa(this._milliseconds)/1e3,l=aa(this._days),c=aa(this._months),f=this.asSeconds();return f?(e=le(u/60),t=le(e/60),u%=60,e%=60,n=le(c/12),c%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=f<0?"-":"",o=sa(this._months)!==sa(f)?"-":"",a=sa(this._days)!==sa(f)?"-":"",s=sa(this._milliseconds)!==sa(f)?"-":"",i+"P"+(n?o+n+"Y":"")+(c?o+c+"M":"")+(l?a+l+"D":"")+(t||e||u?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(u?s+r+"S":"")):"P0D"}var la=or.prototype;return la.isValid=rr,la.abs=Eo,la.add=_o,la.subtract=To,la.as=No,la.asMilliseconds=Do,la.asSeconds=Oo,la.asMinutes=Ro,la.asHours=Lo,la.asDays=jo,la.asWeeks=Bo,la.asMonths=Fo,la.asQuarters=zo,la.asYears=Yo,la.valueOf=Po,la._bubble=Co,la.clone=Go,la.get=Vo,la.milliseconds=Wo,la.seconds=Zo,la.minutes=Ho,la.hours=Xo,la.days=Ko,la.weeks=$o,la.months=qo,la.years=Jo,la.humanize=oa,la.toISOString=ua,la.toString=ua,la.toJSON=ua,la.locale=oi,la.localeData=si,la.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ua),la.lang=ai,z("X",0,0,"unix"),z("x",0,0,"valueOf"),Oe("x",Ae),Oe("X",Ie),Fe("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Fe("x",(function(e,t,n){n._d=new Date(ce(e))})),r.version="2.29.1",i(Xn),r.fn=so,r.min=$n,r.max=Qn,r.now=er,r.utc=p,r.unix=uo,r.months=vo,r.isDate=f,r.locale=pn,r.invalid=y,r.duration=Cr,r.isMoment=S,r.weekdays=yo,r.parseZone=lo,r.localeData=mn,r.isDuration=ar,r.monthsShort=mo,r.weekdaysMin=xo,r.defineLocale=gn,r.updateLocale=vn,r.locales=yn,r.weekdaysShort=bo,r.normalizeUnits=re,r.relativeTimeRounding=ra,r.relativeTimeThreshold=ia,r.calendarFormat=zr,r.prototype=so,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),l=1;l<arguments.length;l++){for(var c in a=Object(arguments[l]))n.call(a,c)&&(u[c]=a[c]);if(t){s=t(a);for(var f=0;f<s.length;f++)r.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u}},5687:function(e,t,n){var r=n(1989),i=n(5713),o=n(6845),a=n(8828),s=n(847),u=[0,0];e.exports.x7=function(e,t,n,a,l){return r(e,n,a),o(e,e),i(t,-e[1],e[0]),i(u,-n[1],n[0]),l/s(t,u)},e.exports.mJ=function(e,t){return i(e,-t[1],t[0]),e},e.exports.o7=function(e,t,n){return a(e,t,n),o(e,e),e}},4501:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case f:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case l:case d:case v:case g:case u:return e;default:return t}}case i:return t}}}function E(e){return w(e)===f}t.isFragment=function(e){return w(e)===o},t.isMemo=function(e){return w(e)===g}},3873:function(e,t,n){"use strict";e.exports=n(4501)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),o=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},g={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(g,e)||!h.call(p,e)&&(d.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,S=60106,_=60107,T=60108,k=60114,C=60109,M=60110,A=60112,N=60113,P=60120,I=60115,D=60116,O=60121,R=60128,L=60129,j=60130,B=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;E=F("react.element"),S=F("react.portal"),_=F("react.fragment"),T=F("react.strict_mode"),k=F("react.profiler"),C=F("react.provider"),M=F("react.context"),A=F("react.forward_ref"),N=F("react.suspense"),P=F("react.suspense_list"),I=F("react.memo"),D=F("react.lazy"),O=F("react.block"),F("react.scope"),R=F("react.opaque.id"),L=F("react.debug_trace_mode"),j=F("react.offscreen"),B=F("react.legacy_hidden")}var z,Y="function"===typeof Symbol&&Symbol.iterator;function G(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=Y&&e[Y]||e["@@iterator"])?e:null}function V(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var U=!1;function W(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function Z(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case k:return"Profiler";case T:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case M:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case I:return H(e.type);case O:return H(e._render);case D:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function X(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=X(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=X(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,X(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+X(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:X(n)}}function le(e,t){var n=X(t.value),r=X(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ge,ve,me=(ve=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((ge=ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){xe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Me=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Ce)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),Ce(e.stateNode,e.type,t))}}function Pe(e){Me?Ae?Ae.push(e):Ae=[e]:Me=e}function Ie(){if(Me){var e=Me,t=Ae;if(Ae=Me=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function De(e,t){return e(t)}function Oe(e,t,n,r,i){return e(t,n,r,i)}function Re(){}var Le=De,je=!1,Be=!1;function Fe(){null===Me&&null===Ae||(Re(),Ie())}function ze(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ye=!1;if(f)try{var Ge={};Object.defineProperty(Ge,"passive",{get:function(){Ye=!0}}),window.addEventListener("test",Ge,Ge),window.removeEventListener("test",Ge,Ge)}catch(ve){Ye=!1}function Ve(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Ue=!1,We=null,Ze=!1,He=null,Xe={onError:function(e){Ue=!0,We=e}};function Ke(e,t,n,r,i,o,a,s,u){Ue=!1,We=null,Ve.apply(Xe,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(qe(e)!==e)throw Error(a(188))}function Qe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $e(i),e;if(o===r)return $e(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,ut=null,lt=null,ct=new Map,ft=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function gt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function vt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function xt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==lt&&yt(lt)&&(lt=null),ct.forEach(bt),ft.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,xt)))}function Et(e){function t(t){return wt(t,e)}if(0<at.length){wt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==lt&&wt(lt,e),ct.forEach(t),ft.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)mt(n),null===n.blockedOn&&dt.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},Tt={},kt={};function Ct(e){if(Tt[e])return Tt[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return Tt[e]=n[t];return e}f&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var Mt=Ct("animationend"),At=Ct("animationiteration"),Nt=Ct("animationstart"),Pt=Ct("transitionend"),It=new Map,Dt=new Map,Ot=["abort","abort",Mt,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Rt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),It.set(r,i),l(i,[r])}}(0,o.unstable_now)();var Lt=8;function jt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Bt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=jt(u),i=Lt):0!==(s&=o)&&(r=jt(s),i=Lt)}else 0!==(o=n&~a)?(r=jt(o),i=Lt):0!==s&&(r=jt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Ut(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(jt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ut(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function zt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Yt(24&~t))?zt(10,t):e;case 10:return 0===(e=Yt(192&~t))?zt(8,t):e;case 8:return 0===(e=Yt(3584&~t))&&(0===(e=Yt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Yt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Yt(e){return e&-e}function Gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ut(t)]=n}var Ut=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Zt|0)|0},Wt=Math.log,Zt=Math.LN2;var Ht=o.unstable_UserBlockingPriority,Xt=o.unstable_runWithPriority,Kt=!0;function qt(e,t,n,r){je||Re();var i=$t,o=je;je=!0;try{Oe(i,e,t,n,r)}finally{(je=o)||Fe()}}function Jt(e,t,n,r){Xt(Ht,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(Kt)if((i=0===(4&t))&&0<at.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=Qt(e,t,n,r);if(null===o)i&&gt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=vt(st,e,t,n,r,i),!0;case"dragenter":return ut=vt(ut,e,t,n,r,i),!0;case"mouseover":return lt=vt(lt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,vt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ft.set(o,vt(ft.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;gt(e,r)}Rr(e,t,r,null,n)}}}function Qt(e,t,n,r){var i=ke(r);if(null!==(i=ni(i))){var o=qe(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Je(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Rr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var ln,cn,fn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=un(dn),pn=i({},dn,{view:0,detail:0}),gn=un(pn),vn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(ln=e.screenX-fn.screenX,cn=e.screenY-fn.screenY):cn=ln=0,fn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),mn=un(vn),yn=un(i({},vn,{dataTransfer:0})),bn=un(i({},pn,{relatedTarget:0})),xn=un(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=un(wn),Sn=un(i({},dn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Mn(){return Cn}var An=i({},pn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=un(An),Pn=un(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn})),Dn=un(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=un(On),Ln=[9,13,27,32],jn=f&&"CompositionEvent"in window,Bn=null;f&&"documentMode"in document&&(Bn=document.documentMode);var Fn=f&&"TextEvent"in window&&!Bn,zn=f&&(!jn||Bn&&8<Bn&&11>=Bn),Yn=String.fromCharCode(32),Gn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Zn[e.type]:"textarea"===t}function Xn(e,t,n,r){Pe(r),0<(t=jr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,qn=null;function Jn(e){Ar(e,0)}function $n(e){if(J(ii(e)))return e}function Qn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Kn&&(Kn.detachEvent("onpropertychange",or),qn=Kn=null)}function or(e){if("value"===e.propertyName&&$n(qn)){var t=[];if(Xn(t,qn,e,ke(e)),e=Jn,je)e(t);else{je=!0;try{De(e,t)}finally{je=!1,Fe()}}}}function ar(e,t,n){"focusin"===e?(ir(),qn=n,(Kn=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(qn)}function ur(e,t){if("click"===e)return $n(t)}function lr(e,t){if("input"===e||"change"===e)return $n(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function dr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function gr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?gr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,br=null,xr=null,wr=null,Er=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==br||br!==$(r)||("selectionStart"in(r=br)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&dr(wr,r)||(wr=r,0<(r=jr(xr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Rt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Rt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Rt(Ot,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Tr=0;Tr<_r.length;Tr++)Dt.set(_r[Tr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(Ke.apply(this,arguments),Ue){if(!Ue)throw Error(a(198));var c=We;Ue=!1,We=null,Ze||(Ze=!0,He=c)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Mr(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Mr(i,s,l),o=u}}}if(Ze)throw e=He,Ze=!1,He=null,e}function Nr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Or(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Ir(e){e[Pr]||(e[Pr]=!0,s.forEach((function(t){Cr.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Or(o,e,i,t),a.add(s))}function Or(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=qt;break;case 1:i=Jt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Ye||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Rr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Be)return e(t,n);Be=!0;try{Le(e,t,n)}finally{Be=!1,Fe()}}((function(){var r=o,i=ke(n),a=[];e:{var s=It.get(e);if(void 0!==s){var u=hn,l=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":l="focus",u=bn;break;case"focusout":l="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=In;break;case Mt:case At:case Nt:u=xn;break;case Pt:u=Dn;break;case"scroll":u=gn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Pn}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==d&&(null!=(g=ze(p,d))&&c.push(Lr(p,g,h)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(l=n.relatedTarget||n.fromElement)||!ni(l)&&!l[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?ni(l):null)&&(l!==(f=qe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=mn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Pn,g="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:ii(u),h=null==l?s:ii(l),(s=new c(g,p+"leave",u,n,i)).target=f,s.relatedTarget=h,g=null,ni(i)===r&&((c=new c(d,p+"enter",l,n,i)).target=h,c.relatedTarget=f,g=c),f=g,u&&l)e:{for(d=l,p=0,h=c=u;h;h=Br(h))p++;for(h=0,g=d;g;g=Br(g))h++;for(;0<p-h;)c=Br(c),p--;for(;0<h-p;)d=Br(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Br(c),d=Br(d)}c=null}else c=null;null!==u&&Fr(a,s,u,c,!1),null!==l&&null!==f&&Fr(a,f,l,c,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Qn;else if(Hn(s))if(er)v=lr;else{v=sr;var m=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ur);switch(v&&(v=v(e,r))?Xn(a,v,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ie(s,"number",s.value)),m=r?ii(r):window,e){case"focusin":(Hn(m)||"true"===m.contentEditable)&&(br=m,xr=r,wr=null);break;case"focusout":wr=xr=br=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,Sr(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Sr(a,n,i)}var y;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(zn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(m=jr(r,b)).length&&(b=new Sn(b,e,null,n,i),a.push({event:b,listeners:m}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Gn=!0,Yn);case"textInput":return(e=t.data)===Yn&&Gn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!jn&&Vn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Ar(a,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=ze(e,n))&&r.unshift(Lr(e,o,i)),null!=(o=ze(e,t))&&r.push(Lr(e,o,i))),e=e.return}return r}function Br(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=ze(n,o))&&a.unshift(Lr(n,u,s)):i||null!=(u=ze(n,o))&&a.push(Lr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function zr(){}var Yr=null,Gr=null;function Vr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ur(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Zr="function"===typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Xr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var qr=0;var Jr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Jr,Qr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Kr(e);null!==e;){if(n=e[$r])return n;e=Kr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[$r]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[Qr]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function li(e){return{current:e}}function ci(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var di={},hi=li(di),pi=li(!1),gi=di;function vi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){ci(pi),ci(hi)}function bi(e,t,n){if(hi.current!==di)throw Error(a(168));fi(hi,t),fi(pi,n)}function xi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,H(t)||"Unknown",o));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,gi=hi.current,fi(hi,e),fi(pi,pi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=xi(e,t,gi),r.__reactInternalMemoizedMergedChildContext=e,ci(pi),ci(hi),fi(hi,e)):ci(pi),fi(pi,n)}var Si=null,_i=null,Ti=o.unstable_runWithPriority,ki=o.unstable_scheduleCallback,Ci=o.unstable_cancelCallback,Mi=o.unstable_shouldYield,Ai=o.unstable_requestPaint,Ni=o.unstable_now,Pi=o.unstable_getCurrentPriorityLevel,Ii=o.unstable_ImmediatePriority,Di=o.unstable_UserBlockingPriority,Oi=o.unstable_NormalPriority,Ri=o.unstable_LowPriority,Li=o.unstable_IdlePriority,ji={},Bi=void 0!==Ai?Ai:function(){},Fi=null,zi=null,Yi=!1,Gi=Ni(),Vi=1e4>Gi?Ni:function(){return Ni()-Gi};function Ui(){switch(Pi()){case Ii:return 99;case Di:return 98;case Oi:return 97;case Ri:return 96;case Li:return 95;default:throw Error(a(332))}}function Wi(e){switch(e){case 99:return Ii;case 98:return Di;case 97:return Oi;case 96:return Ri;case 95:return Li;default:throw Error(a(332))}}function Zi(e,t){return e=Wi(e),Ti(e,t)}function Hi(e,t,n){return e=Wi(e),ki(e,t,n)}function Xi(){if(null!==zi){var e=zi;zi=null,Ci(e)}Ki()}function Ki(){if(!Yi&&null!==Fi){Yi=!0;var e=0;try{var t=Fi;Zi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),ki(Ii,Xi),n}finally{Yi=!1}}}var qi=w.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=li(null),Qi=null,eo=null,to=null;function no(){to=eo=Qi=null}function ro(e){var t=$i.current;ci($i),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Qi=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ja=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Qi)throw Error(a(308));eo=t,Qi.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==s&&(null===d?f.firstBaseUpdate=c:d.next=c,f.lastBaseUpdate=l)}}if(null!==a){for(d=o.baseState,s=0,f=c=l=null;;){u=a.lane;var h=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(u=t,h=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(h,d,u);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=g.payload)?p.call(h,d,u):p)||void 0===u)break e;d=i({},d,u);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else h={eventTime:h,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(c=f=h,l=d):f=f.next=h,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===f&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=f,Ys|=s,e.lanes=s,e.memoizedState=d}}function go(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var vo=(new r.Component).refs;function mo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=du(),i=hu(e),o=co(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=du(),i=hu(e),o=co(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=du(),r=hu(e),i=co(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fo(e,i),pu(e,r,n)}};function bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,o))}function xo(e,t,n){var r=!1,i=di,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=mi(t)?gi:hi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?vi(e,i):di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function Eo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=vo,uo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=mi(t)?gi:hi.current,i.context=vi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&yo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var So=Array.isArray;function _o(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===vo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function To(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ko(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Zu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=qu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_o(e,t,n),r.return=e,r):((r=Hu(n.type,n.key,n.props,null,e.mode,r)).ref=_o(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Xu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=qu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Hu(t.type,t.key,t.props,null,e.mode,n)).ref=_o(e,null,t),n.return=e,n;case S:return(t=Ju(t,e.mode,n)).return=e,t}if(So(t)||G(t))return(t=Xu(t,e.mode,n,null)).return=e,t;To(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===_?f(e,t,n.props.children,r,i):l(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null}if(So(n)||G(n))return null!==i?null:f(e,t,n,r,null);To(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===_?f(t,e,r.props.children,i,r.key):l(t,e,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(So(r)||G(r))return f(t,e=e.get(n)||null,r,i,null);To(t,r)}return null}function g(i,a,s,u){for(var l=null,c=null,f=a,g=a=0,v=null;null!==f&&g<s.length;g++){f.index>g?(v=f,f=null):v=f.sibling;var m=h(i,f,s[g],u);if(null===m){null===f&&(f=v);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,g),null===c?l=m:c.sibling=m,c=m,f=v}if(g===s.length)return n(i,f),l;if(null===f){for(;g<s.length;g++)null!==(f=d(i,s[g],u))&&(a=o(f,a,g),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);g<s.length;g++)null!==(v=p(f,i,g,s[g],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),a=o(v,a,g),null===c?l=v:c.sibling=v,c=v);return e&&f.forEach((function(e){return t(i,e)})),l}function v(i,s,u,l){var c=G(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,g=s,v=s=0,m=null,y=u.next();null!==g&&!y.done;v++,y=u.next()){g.index>v?(m=g,g=null):m=g.sibling;var b=h(i,g,y.value,l);if(null===b){null===g&&(g=m);break}e&&g&&null===b.alternate&&t(i,g),s=o(b,s,v),null===f?c=b:f.sibling=b,f=b,g=m}if(y.done)return n(i,g),c;if(null===g){for(;!y.done;v++,y=u.next())null!==(y=d(i,y.value,l))&&(s=o(y,s,v),null===f?c=y:f.sibling=y,f=y);return c}for(g=r(i,g);!y.done;v++,y=u.next())null!==(y=p(g,i,v,y.value,l))&&(e&&null!==y.alternate&&g.delete(null===y.key?v:y.key),s=o(y,s,v),null===f?c=y:f.sibling=y,f=y);return e&&g.forEach((function(e){return t(i,e)})),c}return function(e,r,o,u){var l="object"===typeof o&&null!==o&&o.type===_&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case E:e:{for(c=o.key,l=r;null!==l;){if(l.key===c){if(7===l.tag){if(o.type===_){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}}else if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=_o(e,l,o),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===_?((r=Xu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Hu(o.type,o.key,o.props,null,e.mode,u)).ref=_o(e,r,o),u.return=e,e=u)}return s(e);case S:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ju(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=qu(o,e.mode,u)).return=e,e=r),s(e);if(So(o))return g(e,r,o,u);if(G(o))return v(e,r,o,u);if(c&&To(e,o),"undefined"===typeof o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,H(e.type)||"Component"))}return n(e,r)}}var Co=ko(!0),Mo=ko(!1),Ao={},No=li(Ao),Po=li(Ao),Io=li(Ao);function Do(e){if(e===Ao)throw Error(a(174));return e}function Oo(e,t){switch(fi(Io,t),fi(Po,e),fi(No,Ao),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(No),fi(No,t)}function Ro(){ci(No),ci(Po),ci(Io)}function Lo(e){Do(Io.current);var t=Do(No.current),n=pe(t,e.type);t!==n&&(fi(Po,e),fi(No,n))}function jo(e){Po.current===e&&(ci(No),ci(Po))}var Bo=li(0);function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zo=null,Yo=null,Go=!1;function Vo(e,t){var n=Uu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Uo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wo(e){if(Go){var t=Yo;if(t){var n=t;if(!Uo(e,t)){if(!(t=Xr(n.nextSibling))||!Uo(e,t))return e.flags=-1025&e.flags|2,Go=!1,void(zo=e);Vo(zo,n)}zo=e,Yo=Xr(t.firstChild)}else e.flags=-1025&e.flags|2,Go=!1,zo=e}}function Zo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;zo=e}function Ho(e){if(e!==zo)return!1;if(!Go)return Zo(e),Go=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ur(t,e.memoizedProps))for(t=Yo;t;)Vo(e,t),t=Xr(t.nextSibling);if(Zo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Yo=Xr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Yo=null}}else Yo=zo?Xr(e.stateNode.nextSibling):null;return!0}function Xo(){Yo=zo=null,Go=!1}var Ko=[];function qo(){for(var e=0;e<Ko.length;e++)Ko[e]._workInProgressVersionPrimary=null;Ko.length=0}var Jo=w.ReactCurrentDispatcher,$o=w.ReactCurrentBatchConfig,Qo=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,i,o){if(Qo=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jo.current=null===e||null===e.memoizedState?Da:Oa,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,Jo.current=Ra,e=n(r,i)}while(ia)}if(Jo.current=Ia,t=null!==ta&&null!==ta.next,Qo=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function la(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function ca(e,t){return"function"===typeof t?t(e):t}function fa(e){var t=la(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,l=i;do{var c=l.lane;if((Qo&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,ea.lanes|=c,Ys|=c}l=l.next}while(null!==l&&l!==i);null===u?o=r:u.next=s,cr(r,t.memoizedState)||(ja=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function da(e){var t=la(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);cr(o,t.memoizedState)||(ja=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Qo&e)===e)&&(t._workInProgressVersionPrimary=r,Ko.push(t))),e)return n(t._source);throw Ko.push(t),Error(a(350))}function pa(e,t,n,r){var i=Ds;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Jo.current,l=u.useState((function(){return ha(i,t,n)})),c=l[1],f=l[0];l=na;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,g=d.source;d=d.subscribe;var v=ea;return e.memoizedState={refs:h,source:t,subscribe:r},u.useEffect((function(){h.getSnapshot=n,h.setSnapshot=c;var e=o(t._source);if(!cr(s,e)){e=n(t._source),cr(f,e)||(c(e),e=hu(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-Ut(a),l=1<<u;r[u]|=e,a&=~l}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=hu(v);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),cr(p,n)&&cr(g,t)&&cr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:f}).dispatch=c=Pa.bind(null,ea,e),l.queue=e,l.baseQueue=null,f=ha(i,t,n),l.memoizedState=l.baseState=f),f}function ga(e,t,n){return pa(la(),e,t,n)}function va(e){var t=ua();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e}).dispatch=Pa.bind(null,ea,e),[t.memoizedState,e]}function ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ya(e){return e={current:e},ua().memoizedState=e}function ba(){return la().memoizedState}function xa(e,t,n,r){var i=ua();ea.flags|=e,i.memoizedState=ma(1|t,n,void 0,void 0===r?null:r)}function wa(e,t,n,r){var i=la();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ma(t,n,o,r)}ea.flags|=e,i.memoizedState=ma(1|t,n,o,r)}function Ea(e,t){return xa(516,4,e,t)}function Sa(e,t){return wa(516,4,e,t)}function _a(e,t){return wa(4,2,e,t)}function Ta(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ka(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,Ta.bind(null,t,e),n)}function Ca(){}function Ma(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Aa(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Na(e,t){var n=Ui();Zi(98>n?98:n,(function(){e(!0)})),Zi(97<n?97:n,(function(){var n=$o.transition;$o.transition=1;try{e(!1),t()}finally{$o.transition=n}}))}function Pa(e,t,n){var r=du(),i=hu(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,cr(u,s))return}catch(l){}pu(e,i,r)}}var Ia={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Da={readContext:ao,useCallback:function(e,t){return ua().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:Ea,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xa(4,2,Ta.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xa(4,2,e,t)},useMemo:function(e,t){var n=ua();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ua();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Pa.bind(null,ea,e),[r.memoizedState,e]},useRef:ya,useState:va,useDebugValue:Ca,useDeferredValue:function(e){var t=va(e),n=t[0],r=t[1];return Ea((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=va(!1),t=e[0];return ya(e=Na.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ua();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(Go){var e=!1,t=function(e){return{$$typeof:R,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(qr++).toString(36))),Error(a(355))})),n=va(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ma(5,(function(){n("r:"+(qr++).toString(36))}),void 0,null)),t}return va(t="r:"+(qr++).toString(36)),t},unstable_isNewReconciler:!1},Oa={readContext:ao,useCallback:Ma,useContext:ao,useEffect:Sa,useImperativeHandle:ka,useLayoutEffect:_a,useMemo:Aa,useReducer:fa,useRef:ba,useState:function(){return fa(ca)},useDebugValue:Ca,useDeferredValue:function(e){var t=fa(ca),n=t[0],r=t[1];return Sa((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=fa(ca)[0];return[ba().current,e]},useMutableSource:ga,useOpaqueIdentifier:function(){return fa(ca)[0]},unstable_isNewReconciler:!1},Ra={readContext:ao,useCallback:Ma,useContext:ao,useEffect:Sa,useImperativeHandle:ka,useLayoutEffect:_a,useMemo:Aa,useReducer:da,useRef:ba,useState:function(){return da(ca)},useDebugValue:Ca,useDeferredValue:function(e){var t=da(ca),n=t[0],r=t[1];return Sa((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=da(ca)[0];return[ba().current,e]},useMutableSource:ga,useOpaqueIdentifier:function(){return da(ca)[0]},unstable_isNewReconciler:!1},La=w.ReactCurrentOwner,ja=!1;function Ba(e,t,n,r){t.child=null===e?Mo(t,null,n,r):Co(t,e.child,n,r)}function Fa(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=sa(e,t,n,r,o,i),null===e||ja?(t.flags|=1,Ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function za(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Wu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ya(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=Zu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ya(e,t,n,r,i,o){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(ja=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(ja=!0)}return Ua(e,t,n,r,o)}function Ga(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Eu(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Eu(t,e),null;t.memoizedState={baseLanes:0},Eu(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Eu(t,r);return Ba(e,t,i,n),t.child}function Va(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ua(e,t,n,r,i){var o=mi(n)?gi:hi.current;return o=vi(t,o),oo(t,i),n=sa(e,t,n,r,o,i),null===e||ja?(t.flags|=1,Ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Wa(e,t,n,r,i){if(mi(n)){var o=!0;wi(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),xo(t,n,r),Eo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=ao(l):l=vi(t,l=mi(n)?gi:hi.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&wo(t,a,r,l),so=!1;var d=t.memoizedState;a.state=d,po(t,r,a,i),u=t.memoizedState,s!==r||d!==u||pi.current||so?("function"===typeof c&&(mo(t,n,c,r),u=t.memoizedState),(s=so||bo(t,n,s,r,d,u,l))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,lo(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Ji(t.type,s),a.props=l,f=t.pendingProps,d=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ao(u):u=vi(t,u=mi(n)?gi:hi.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||d!==u)&&wo(t,a,r,u),so=!1,d=t.memoizedState,a.state=d,po(t,r,a,i);var p=t.memoizedState;s!==f||d!==p||pi.current||so?("function"===typeof h&&(mo(t,n,h,r),p=t.memoizedState),(l=so||bo(t,n,l,r,d,p,u))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Za(e,t,n,r,o,i)}function Za(e,t,n,r,i,o){Va(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&Ei(t,n,!1),os(e,t,o);r=t.stateNode,La.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Co(t,e.child,null,o),t.child=Co(t,null,s,o)):Ba(e,t,s,o),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Ha(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Oo(e,t.containerInfo)}var Xa,Ka,qa,Ja={dehydrated:null,retryLane:0};function $a(e,t,n){var r,i=t.pendingProps,o=Bo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),fi(Bo,1&o),null===e?(void 0!==i.fallback&&Wo(t),e=i.children,o=i.fallback,a?(e=Qa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ja,e):"number"===typeof i.unstable_expectedLoadTime?(e=Qa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ja,t.lanes=33554432,e):((n=Ku({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ja,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Qa(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Ku(t,i,0,null),n=Xu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Zu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Zu(a,s),null!==e?r=Zu(e,r):(r=Xu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ba(e,t,r.children,n),0!==(2&(r=Bo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Bo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ys|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Zu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Zu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!Go)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&yi(),null;case 3:return Ro(),ci(pi),ci(hi),qo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ho(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:jo(t);var o=Do(Io.current);if(n=t.type,null!==e&&null!=t.stateNode)Ka(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Do(No.current),Ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$r]=t,r[Qr]=s,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<kr.length;e++)Nr(kr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,s),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Nr("invalid",r);break;case"textarea":ue(r,s),Nr("invalid",r)}for(var l in _e(n,s),e=null,s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Nr("scroll",r));switch(n){case"input":q(r),re(r,s,!0);break;case"textarea":q(r),ce(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=zr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=he(n)),e===fe?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[$r]=t,e[Qr]=r,Xa(e,t),t.stateNode=e,l=Te(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),o=r;break;case"iframe":case"object":case"embed":Nr("load",e),o=r;break;case"video":case"audio":for(o=0;o<kr.length;o++)Nr(kr[o],e);o=r;break;case"source":Nr("error",e),o=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),o=r;break;case"details":Nr("toggle",e),o=r;break;case"input":ee(e,r),o=Q(e,r),Nr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Nr("invalid",e);break;default:o=r}_e(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?Ee(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Nr("scroll",e):null!=f&&x(e,s,f,l))}switch(n){case"input":q(e),re(e,r,!1);break;case"textarea":q(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+X(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=zr)}Vr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)qa(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Do(Io.current),Do(No.current),Ho(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return ci(Bo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ho(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Bo.current)?0===Bs&&(Bs=3):(0!==Bs&&3!==Bs||(Bs=4),null===Ds||0===(134217727&Ys)&&0===(134217727&Gs)||yu(Ds,Rs))),(r||n)&&(t.flags|=4),null);case 4:return Ro(),null===e&&Ir(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(ci(Bo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(l=r.rendering))if(s)as(r,!1);else{if(0!==Bs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Fo(e))){for(t.flags|=64,as(r,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Bo,1&Bo.current|2),t.child}e=e.sibling}null!==r.tail&&Vi()>Zs&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fo(l))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Go)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Vi()-r.renderingStartTime>Zs&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Vi(),n.sibling=null,t=Bo.current,fi(Bo,s?1&t|2:1&t),n):null;case 23:case 24:return Su(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:mi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ro(),ci(pi),ci(hi),qo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return jo(e),null;case 13:return ci(Bo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Bo),null;case 4:return Ro(),null;case 10:return ro(e),null;case 23:case 24:return Su(),null;default:return null}}function ls(e,t){try{var n="",r=t;do{n+=Z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function cs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Xa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ka=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Do(No.current);var a,s=null;switch(n){case"input":o=Q(e,o),r=Q(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=zr)}for(f in _e(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var l=o[f];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(l=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&c!==l&&(null!=c||null!=l))if("style"===f)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(f,n)),n=c;else"dangerouslySetInnerHTML"===f?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(f,c)):"children"===f?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(f,""+c):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=c&&"onScroll"===f&&Nr("scroll",e),s||l===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===R?c.toString():(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},qa=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qs||(qs=!0,Js=r),cs(0,t)},n}function hs(e,t,n){(n=co(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return cs(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$s?$s=new Set([this]):$s.add(this),cs(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function gs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){zu(e,n)}else t.current=null}function vs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(a(163))}function ms(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(ju(n,e),Lu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&go(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}go(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Vr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(a(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(Si,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))ju(t,n);else{r=t;try{i()}catch(o){zu(r,o)}}n=n.next}while(n!==e)}break;case 1:if(gs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){zu(t,o)}break;case 5:gs(t);break;case 4:Ts(e,t)}}function xs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function Es(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ss(e,n,t):_s(e,n,t)}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=zr));else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Ts(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,l=u;;)if(bs(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ks(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Qr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Ee(n,u):"dangerouslySetInnerHTML"===s?me(n,u):"children"===s?ye(n,u):x(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=Vi(),ys(t.child,!0)),void Cs(t);case 19:return void Cs(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(a(163))}function Cs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Gu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ms(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var As=Math.ceil,Ns=w.ReactCurrentDispatcher,Ps=w.ReactCurrentOwner,Is=0,Ds=null,Os=null,Rs=0,Ls=0,js=li(0),Bs=0,Fs=null,zs=0,Ys=0,Gs=0,Vs=0,Us=null,Ws=0,Zs=1/0;function Hs(){Zs=Vi()+500}var Xs,Ks=null,qs=!1,Js=null,$s=null,Qs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,ou=0,au=null,su=-1,uu=0,lu=0,cu=null,fu=!1;function du(){return 0!==(48&Is)?Vi():-1!==su?su:su=Vi()}function hu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ui()?1:2;if(0===uu&&(uu=zs),0!==qi.transition){0!==lu&&(lu=null!==Us?Us.pendingLanes:0),e=uu;var t=4186112&~lu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ui(),0!==(4&Is)&&98===e?e=zt(12,uu):e=zt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(e=gu(e,t)))return null;Vt(e,t,n),e===Ds&&(Gs|=t,4===Bs&&yu(e,Rs));var r=Ui();1===t?0!==(8&Is)&&0===(48&Is)?bu(e):(vu(e,n),0===Is&&(Hs(),Xi())):(0===(4&Is)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),vu(e,n)),Us=e}function gu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function vu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ut(s),l=1<<u,c=o[u];if(-1===c){if(0===(l&r)||0!==(l&i)){c=t,jt(l);var f=Lt;o[u]=10<=f?c+250:6<=f?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);s&=~l}if(r=Bt(e,e===Ds?Rs:0),t=Lt,0===r)null!==n&&(n!==ji&&Ci(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&Ci(n)}15===t?(n=bu.bind(null,e),null===Fi?(Fi=[n],zi=ki(Ii,Ki)):Fi.push(n),n=ji):14===t?n=Hi(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Hi(n,mu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function mu(e){if(su=-1,lu=uu=0,0!==(48&Is))throw Error(a(327));var t=e.callbackNode;if(Ru()&&e.callbackNode!==t)return null;var n=Bt(e,e===Ds?Rs:0);if(0===n)return null;var r=n,i=Is;Is|=16;var o=ku();for(Ds===e&&Rs===r||(Hs(),_u(e,r));;)try{Au();break}catch(u){Tu(e,u)}if(no(),Ns.current=o,Is=i,null!==Os?r=0:(Ds=null,Rs=0,r=Bs),0!==(zs&Gs))_u(e,0);else if(0!==r){if(2===r&&(Is|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Ft(e))&&(r=Cu(e,n))),1===r)throw t=Fs,_u(e,0),yu(e,n),vu(e,Vi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Iu(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Ws+500-Vi())){if(0!==Bt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){du(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Iu.bind(null,e),r);break}Iu(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ut(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Vi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*As(n/1960))-n)){e.timeoutHandle=Wr(Iu.bind(null,e),n);break}Iu(e);break;default:throw Error(a(329))}}return vu(e,Vi()),e.callbackNode===t?mu.bind(null,e):null}function yu(e,t){for(t&=~Vs,t&=~Gs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&Is))throw Error(a(327));if(Ru(),e===Ds&&0!==(e.expiredLanes&Rs)){var t=Rs,n=Cu(e,t);0!==(zs&Gs)&&(n=Cu(e,t=Bt(e,t)))}else n=Cu(e,t=Bt(e,0));if(0!==e.tag&&2===n&&(Is|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Ft(e))&&(n=Cu(e,t))),1===n)throw n=Fs,_u(e,0),yu(e,t),vu(e,Vi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Iu(e),vu(e,Vi()),null}function xu(e,t){var n=Is;Is|=1;try{return e(t)}finally{0===(Is=n)&&(Hs(),Xi())}}function wu(e,t){var n=Is;Is&=-2,Is|=8;try{return e(t)}finally{0===(Is=n)&&(Hs(),Xi())}}function Eu(e,t){fi(js,Ls),Ls|=t,zs|=t}function Su(){Ls=js.current,ci(js)}function _u(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Zr(n)),null!==Os)for(n=Os.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Ro(),ci(pi),ci(hi),qo();break;case 5:jo(r);break;case 4:Ro();break;case 13:case 19:ci(Bo);break;case 10:ro(r);break;case 23:case 24:Su()}n=n.return}Ds=e,Os=Zu(e.current,null),Rs=Ls=zs=t,Bs=0,Fs=null,Vs=Gs=Ys=0}function Tu(e,t){for(;;){var n=Os;try{if(no(),Jo.current=Ia,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Qo=0,na=ta=ea=null,ia=!1,Ps.current=null,null===n||null===n.return){Bs=1,Fs=t,Os=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Rs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Bo.current),d=a;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var g=d.memoizedProps;h=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!f)}}if(h){var v=d.updateQueue;if(null===v){var m=new Set;m.add(l),d.updateQueue=m}else v.add(l);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=co(-1,1);y.tag=2,fo(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new fs,u=new Set,b.set(l,u)):void 0===(u=b.get(l))&&(u=new Set,b.set(l,u)),!u.has(s)){u.add(s);var x=Yu.bind(null,o,l,s);l.then(x,x)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);u=Error((H(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Bs&&(Bs=2),u=ls(u,s),d=a;do{switch(d.tag){case 3:o=u,d.flags|=4096,t&=-t,d.lanes|=t,ho(d,ds(0,o,t));break e;case 1:o=u;var w=d.type,E=d.stateNode;if(0===(64&d.flags)&&("function"===typeof w.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===$s||!$s.has(E)))){d.flags|=4096,t&=-t,d.lanes|=t,ho(d,hs(d,o,t));break e}}d=d.return}while(null!==d)}Pu(n)}catch(S){t=S,Os===n&&null!==n&&(Os=n=n.return);continue}break}}function ku(){var e=Ns.current;return Ns.current=Ia,null===e?Ia:e}function Cu(e,t){var n=Is;Is|=16;var r=ku();for(Ds===e&&Rs===t||_u(e,t);;)try{Mu();break}catch(i){Tu(e,i)}if(no(),Is=n,Ns.current=r,null!==Os)throw Error(a(261));return Ds=null,Rs=0,Bs}function Mu(){for(;null!==Os;)Nu(Os)}function Au(){for(;null!==Os&&!Mi();)Nu(Os)}function Nu(e){var t=Xs(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Pu(e):Os=t,Ps.current=null}function Pu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ls)))return void(Os=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ls)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Os=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Os=t);Os=t=e}while(null!==t);0===Bs&&(Bs=5)}function Iu(e){var t=Ui();return Zi(99,Du.bind(null,e,t)),null}function Du(e,t){do{Ru()}while(null!==eu);if(0!==(48&Is))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var l=31-Ut(o),c=1<<l;i[l]=0,s[l]=-1,u[l]=-1,o&=~c}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ds&&(Os=Ds=null,Rs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Is,Is|=32,Ps.current=null,Yr=Kt,mr(s=vr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(k){u=null;break e}var f=0,d=-1,h=-1,p=0,g=0,v=s,m=null;t:for(;;){for(var y;v!==u||0!==o&&3!==v.nodeType||(d=f+o),v!==l||0!==c&&3!==v.nodeType||(h=f+c),3===v.nodeType&&(f+=v.nodeValue.length),null!==(y=v.firstChild);)m=v,v=y;for(;;){if(v===s)break t;if(m===u&&++p===o&&(d=f),m===l&&++g===c&&(h=f),null!==(y=v.nextSibling))break;m=(v=m).parentNode}v=y}u=-1===d||-1===h?null:{start:d,end:h}}else u=null;u=u||{start:0,end:0}}else u=null;Gr={focusedElem:s,selectionRange:u},Kt=!1,cu=null,fu=!1,Ks=r;do{try{Ou()}catch(k){if(null===Ks)throw Error(a(330));zu(Ks,k),Ks=Ks.nextEffect}}while(null!==Ks);cu=null,Ks=r;do{try{for(s=e;null!==Ks;){var b=Ks.flags;if(16&b&&ye(Ks.stateNode,""),128&b){var x=Ks.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:Es(Ks),Ks.flags&=-3;break;case 6:Es(Ks),Ks.flags&=-3,ks(Ks.alternate,Ks);break;case 1024:Ks.flags&=-1025;break;case 1028:Ks.flags&=-1025,ks(Ks.alternate,Ks);break;case 4:ks(Ks.alternate,Ks);break;case 8:Ts(s,u=Ks);var E=u.alternate;xs(u),null!==E&&xs(E)}Ks=Ks.nextEffect}}catch(k){if(null===Ks)throw Error(a(330));zu(Ks,k),Ks=Ks.nextEffect}}while(null!==Ks);if(w=Gr,x=vr(),b=w.focusedElem,s=w.selectionRange,x!==b&&b&&b.ownerDocument&&gr(b.ownerDocument.documentElement,b)){null!==s&&mr(b)&&(x=s.start,void 0===(w=s.end)&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!w.extend&&E>s&&(u=s,s=E,E=u),u=pr(b,E),o=pr(b,s),u&&o&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((x=x.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),E>s?(w.addRange(x),w.extend(o.node,o.offset)):(x.setEnd(o.node,o.offset),w.addRange(x))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)(w=x[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Kt=!!Yr,Gr=Yr=null,e.current=n,Ks=r;do{try{for(b=e;null!==Ks;){var S=Ks.flags;if(36&S&&ms(b,Ks.alternate,Ks),128&S){x=void 0;var _=Ks.ref;if(null!==_){var T=Ks.stateNode;Ks.tag,x=T,"function"===typeof _?_(x):_.current=x}}Ks=Ks.nextEffect}}catch(k){if(null===Ks)throw Error(a(330));zu(Ks,k),Ks=Ks.nextEffect}}while(null!==Ks);Ks=null,Bi(),Is=i}else e.current=n;if(Qs)Qs=!1,eu=e,tu=t;else for(Ks=r;null!==Ks;)t=Ks.nextEffect,Ks.nextEffect=null,8&Ks.flags&&((S=Ks).sibling=null,S.stateNode=null),Ks=t;if(0===(r=e.pendingLanes)&&($s=null),1===r?e===au?ou++:(ou=0,au=e):ou=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(Si,n,void 0,64===(64&n.current.flags))}catch(k){}if(vu(e,Vi()),qs)throw qs=!1,e=Js,Js=null,e;return 0!==(8&Is)||Xi(),null}function Ou(){for(;null!==Ks;){var e=Ks.alternate;fu||null===cu||(0!==(8&Ks.flags)?et(Ks,cu)&&(fu=!0):13===Ks.tag&&Ms(e,Ks)&&et(Ks,cu)&&(fu=!0));var t=Ks.flags;0!==(256&t)&&vs(e,Ks),0===(512&t)||Qs||(Qs=!0,Hi(97,(function(){return Ru(),null}))),Ks=Ks.nextEffect}}function Ru(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Zi(e,Bu)}return!1}function Lu(e,t){nu.push(t,e),Qs||(Qs=!0,Hi(97,(function(){return Ru(),null})))}function ju(e,t){ru.push(t,e),Qs||(Qs=!0,Hi(97,(function(){return Ru(),null})))}function Bu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Is))throw Error(a(331));var t=Is;Is|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(l){if(null===o)throw Error(a(330));zu(o,l)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(l){if(null===o)throw Error(a(330));zu(o,l)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Is=t,Xi(),!0}function Fu(e,t,n){fo(e,t=ds(0,t=ls(n,t),1)),t=du(),null!==(e=gu(e,1))&&(Vt(e,1,t),vu(e,t))}function zu(e,t){if(3===e.tag)Fu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Fu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r))){var i=hs(n,e=ls(t,e),1);if(fo(n,i),i=du(),null!==(n=gu(n,1)))Vt(n,1,i),vu(n,i);else if("function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Yu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=du(),e.pingedLanes|=e.suspendedLanes&n,Ds===e&&(Rs&n)===n&&(4===Bs||3===Bs&&(62914560&Rs)===Rs&&500>Vi()-Ws?_u(e,0):Vs|=n),vu(e,t)}function Gu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ui()?1:2:(0===uu&&(uu=zs),0===(t=Yt(62914560&~uu))&&(t=4194304))),n=du(),null!==(e=gu(e,t))&&(Vt(e,t,n),vu(e,n))}function Vu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Uu(e,t,n,r){return new Vu(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Zu(e,t){var n=e.alternate;return null===n?((n=Uu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Xu(n.children,i,o,t);case L:s=8,i|=16;break;case T:s=8,i|=1;break;case k:return(e=Uu(12,n,t,8|i)).elementType=k,e.type=k,e.lanes=o,e;case N:return(e=Uu(13,n,t,i)).type=N,e.elementType=N,e.lanes=o,e;case P:return(e=Uu(19,n,t,i)).elementType=P,e.lanes=o,e;case j:return Ku(n,i,o,t);case B:return(e=Uu(24,n,t,i)).elementType=B,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case M:s=9;break e;case A:s=11;break e;case I:s=14;break e;case D:s=16,r=null;break e;case O:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Uu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Xu(e,t,n,r){return(e=Uu(7,e,r,t)).lanes=n,e}function Ku(e,t,n,r){return(e=Uu(23,e,r,t)).elementType=j,e.lanes=n,e}function qu(e,t,n){return(e=Uu(6,e,null,t)).lanes=n,e}function Ju(e,t,n){return(t=Uu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $u(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Gt(0),this.expirationTimes=Gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gt(0),this.mutableSourceEagerHydrationData=null}function Qu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function el(e,t,n,r){var i=t.current,o=du(),s=hu(i);e:if(n){t:{if(qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(mi(l)){n=xi(n,l,u);break e}}n=u}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=co(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fo(i,t),pu(i,s,o),s}function tl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rl(e,t){nl(e,t),(e=e.alternate)&&nl(e,t)}function il(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $u(e,t,null!=n&&!0===n.hydrate),t=Uu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,uo(t),e[ei]=n.current,Ir(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ol(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function al(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tl(a);s.call(e)}}el(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new il(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tl(a);u.call(e)}}wu((function(){el(t,a,e,i)}))}return tl(a)}function sl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ol(t))throw Error(a(200));return Qu(e,t,null,n)}Xs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)ja=!0;else{if(0===(n&r)){switch(ja=!1,t.tag){case 3:Ha(t),Xo();break;case 5:Lo(t);break;case 1:mi(t.type)&&wi(t);break;case 4:Oo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?$a(e,t,n):(fi(Bo,1&Bo.current),null!==(t=os(e,t,n))?t.sibling:null);fi(Bo,1&Bo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Bo,Bo.current),r)break;return null;case 23:case 24:return t.lanes=0,Ga(e,t,n)}return os(e,t,n)}ja=0!==(16384&e.flags)}else ja=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,hi.current),oo(t,n),i=sa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var o=!0;wi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&mo(t,r,s,e),i.updater=yo,t.stateNode=i,i._reactInternals=t,Eo(t,r,e,n),t=Za(null,t,r,!0,o,n)}else t.tag=0,Ba(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===I)return 14}return 2}(i),e=Ji(i,e),o){case 0:t=Ua(null,t,i,e,n);break e;case 1:t=Wa(null,t,i,e,n);break e;case 11:t=Fa(null,t,i,e,n);break e;case 14:t=za(null,t,i,Ji(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wa(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Ha(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,lo(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Xo(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Yo=Xr(t.stateNode.containerInfo.firstChild),zo=t,o=Go=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Ko.push(o);for(n=Mo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ba(e,t,r,n),Xo();t=t.child}return t;case 5:return Lo(t),null===e&&Wo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Ur(r,i)?s=null:null!==o&&Ur(r,o)&&(t.flags|=16),Va(e,t),Ba(e,t,s,n),t.child;case 6:return null===e&&Wo(t),null;case 13:return $a(e,t,n);case 4:return Oo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Co(t,null,r,n):Ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(fi($i,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=cr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!pi.current){t=os(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===u.tag&&((c=co(-1,n&-n)).tag=2,fo(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),io(u.return,n),l.lanes|=n;break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,Ba(e,t,r,n),t.child;case 14:return o=Ji(i=t.type,t.pendingProps),za(e,t,i,o=Ji(i.type,o),r,n);case 15:return Ya(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,wi(t)):e=!1,oo(t,n),xo(t,r,i),Eo(t,r,i,n),Za(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Ga(e,t,n)}throw Error(a(156,t.tag))},il.prototype.render=function(e){el(e,this._internalRoot,null,null)},il.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;el(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,du()),rl(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,du()),rl(e,67108864))},rt=function(e){if(13===e.tag){var t=du(),n=hu(e);pu(e,n,t),rl(e,n)}},it=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));J(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},De=xu,Oe=function(e,t,n,r,i){var o=Is;Is|=4;try{return Zi(98,e.bind(null,t,n,r,i))}finally{0===(Is=o)&&(Hs(),Xi())}},Re=function(){0===(49&Is)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,vu(e,Vi())}))}Xi()}(),Ru())},Le=function(e,t){var n=Is;Is|=2;try{return e(t)}finally{0===(Is=n)&&(Hs(),Xi())}};var ul={Events:[ri,ii,oi,Pe,Ie,Ru,{current:!1}]},ll={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cl={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{Si=fl.inject(cl),_i=fl}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ul,t.createPortal=sl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Is;if(0!==(48&n))return e(t);Is|=1;try{if(e)return Zi(99,e.bind(null,t))}finally{Is=n,Xi()}},t.hydrate=function(e,t,n){if(!ol(t))throw Error(a(200));return al(null,e,t,!0,n)},t.render=function(e,t,n){if(!ol(t))throw Error(a(200));return al(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ol(e))throw Error(a(40));return!!e._reactRootContainer&&(wu((function(){al(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=xu,t.unstable_createPortal=function(e,t){return sl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ol(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return al(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:function(e,t){"use strict";var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,u=60110,l=60112,c=60113,f=60120,d=60115,h=60116,p=60121,g=60122,v=60117,m=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),u=b("react.context"),l=b("react.forward_ref"),c=b("react.suspense"),f=b("react.suspense_list"),d=b("react.memo"),h=b("react.lazy"),p=b("react.block"),g=b("react.server.block"),v=b("react.fundamental"),m=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case c:case f:return e;default:switch(e=e&&e.$$typeof){case u:case l:case h:case d:case s:return e;default:return t}}case r:return t}}}},7441:function(e,t,n){"use strict";n(1372)},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:o,_owner:a.current}}t.jsx=l,t.jsxs=l},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),l=f("react.memo"),c=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function m(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=v.prototype;var b=y.prototype=new m;b.constructor=y,r(b,v.prototype),b.isPureReactComponent=!0;var x={current:null},w=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:x.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+k(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),C(a,t,n,"",(function(e){return e}))):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+k(s=e[l],l);u+=C(s,t,n,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=C(s=s.value,t,n,c=r+k(s,l++),a);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function M(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function P(){var e=N.current;if(null===e)throw Error(h(321));return e}var I={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(h(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];o.children=l}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6121:function(e,t,n){var r;!function(e){!function(t){var r="object"===typeof n.g?n.g:"object"===typeof self?self:"object"===typeof this?this:Function("return this;")(),i=o(e);function o(e,t){return function(n,r){"function"!==typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}"undefined"===typeof r.Reflect?r.Reflect=e:i=o(r.Reflect,i),function(e){var t=Object.prototype.hasOwnProperty,n="function"===typeof Symbol,r=n&&"undefined"!==typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&"undefined"!==typeof Symbol.iterator?Symbol.iterator:"@@iterator",o="function"===typeof Object.create,a={__proto__:[]}instanceof Array,s=!o&&!a,u={create:o?function(){return re(Object.create(null))}:a?function(){return re({__proto__:null})}:function(){return re({})},has:s?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:s?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),c="object"===typeof process&&{NODE_ENV:"production",PUBLIC_URL:"/DMBLiteratureWebsite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&"true"==={NODE_ENV:"production",PUBLIC_URL:"/DMBLiteratureWebsite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REFLECT_METADATA_USE_MAP_POLYFILL,f=c||"function"!==typeof Map||"function"!==typeof Map.prototype.entries?ee():Map,d=c||"function"!==typeof Set||"function"!==typeof Set.prototype.entries?te():Set,h=new(c||"function"!==typeof WeakMap?ne():WeakMap);function p(e,t,n,r){if(R(n)){if(!U(e))throw new TypeError;if(!Z(t))throw new TypeError;return _(e,t)}if(!U(e))throw new TypeError;if(!B(t))throw new TypeError;if(!B(r)&&!R(r)&&!L(r))throw new TypeError;return L(r)&&(r=void 0),T(e,t,n=V(n),r)}function g(e,t){function n(n,r){if(!B(n))throw new TypeError;if(!R(r)&&!H(r))throw new TypeError;P(e,t,n,r)}return n}function v(e,t,n,r){if(!B(n))throw new TypeError;return R(r)||(r=V(r)),P(e,t,n,r)}function m(e,t,n){if(!B(t))throw new TypeError;return R(n)||(n=V(n)),C(e,t,n)}function y(e,t,n){if(!B(t))throw new TypeError;return R(n)||(n=V(n)),M(e,t,n)}function b(e,t,n){if(!B(t))throw new TypeError;return R(n)||(n=V(n)),A(e,t,n)}function x(e,t,n){if(!B(t))throw new TypeError;return R(n)||(n=V(n)),N(e,t,n)}function w(e,t){if(!B(e))throw new TypeError;return R(t)||(t=V(t)),I(e,t)}function E(e,t){if(!B(e))throw new TypeError;return R(t)||(t=V(t)),D(e,t)}function S(e,t,n){if(!B(t))throw new TypeError;R(n)||(n=V(n));var r=k(t,n,!1);if(R(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=h.get(t);return i.delete(n),i.size>0||h.delete(t),!0}function _(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!R(r)&&!L(r)){if(!Z(r))throw new TypeError;t=r}}return t}function T(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!R(o)&&!L(o)){if(!B(o))throw new TypeError;r=o}}return r}function k(e,t,n){var r=h.get(e);if(R(r)){if(!n)return;r=new f,h.set(e,r)}var i=r.get(t);if(R(i)){if(!n)return;i=new f,r.set(t,i)}return i}function C(e,t,n){if(M(e,t,n))return!0;var r=Q(t);return!L(r)&&C(e,r,n)}function M(e,t,n){var r=k(t,n,!1);return!R(r)&&Y(r.has(e))}function A(e,t,n){if(M(e,t,n))return N(e,t,n);var r=Q(t);return L(r)?void 0:A(e,r,n)}function N(e,t,n){var r=k(t,n,!1);if(!R(r))return r.get(e)}function P(e,t,n,r){k(n,r,!0).set(e,t)}function I(e,t){var n=D(e,t),r=Q(e);if(null===r)return n;var i=I(r,t);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new d,a=[],s=0,u=n;s<u.length;s++){var l=u[s];o.has(l)||(o.add(l),a.push(l))}for(var c=0,f=i;c<f.length;c++){l=f[c];o.has(l)||(o.add(l),a.push(l))}return a}function D(e,t){var n=[],r=k(e,t,!1);if(R(r))return n;for(var i=K(r.keys()),o=0;;){var a=J(i);if(!a)return n.length=o,n;var s=q(a);try{n[o]=s}catch(u){try{$(i)}finally{throw u}}o++}}function O(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function R(e){return void 0===e}function L(e){return null===e}function j(e){return"symbol"===typeof e}function B(e){return"object"===typeof e?null!==e:"function"===typeof e}function F(e,t){switch(O(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",i=X(e,r);if(void 0!==i){var o=i.call(e,n);if(B(o))throw new TypeError;return o}return z(e,"default"===n?"number":n)}function z(e,t){if("string"===t){var n=e.toString;if(W(n))if(!B(i=n.call(e)))return i;if(W(r=e.valueOf))if(!B(i=r.call(e)))return i}else{var r;if(W(r=e.valueOf))if(!B(i=r.call(e)))return i;var i,o=e.toString;if(W(o))if(!B(i=o.call(e)))return i}throw new TypeError}function Y(e){return!!e}function G(e){return""+e}function V(e){var t=F(e,3);return j(t)?t:G(t)}function U(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function W(e){return"function"===typeof e}function Z(e){return"function"===typeof e}function H(e){switch(O(e)){case 3:case 4:return!0;default:return!1}}function X(e,t){var n=e[t];if(void 0!==n&&null!==n){if(!W(n))throw new TypeError;return n}}function K(e){var t=X(e,i);if(!W(t))throw new TypeError;var n=t.call(e);if(!B(n))throw new TypeError;return n}function q(e){return e.value}function J(e){var t=e.next();return!t.done&&t}function $(e){var t=e.return;t&&t.call(e)}function Q(e){var t=Object.getPrototypeOf(e);if("function"!==typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!==typeof i||i===e?t:i}function ee(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function a(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new f}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}()}function ne(){var e=16,n=u.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+l()}while(u.has(n,e));return n[e]=!0,e}function o(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:u.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(e){return"function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function l(){var t=s(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}function re(e){return e.__=void 0,delete e.__,e}e("decorate",p),e("metadata",g),e("defineMetadata",v),e("hasMetadata",m),e("hasOwnMetadata",y),e("getMetadata",b),e("getOwnMetadata",x),e("getMetadataKeys",w),e("getOwnMetadataKeys",E),e("deleteMetadata",S)}(i)}()}(r||(r={}))},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(P){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new M(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?p:d,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",g={};function v(){}function m(){}function y(){}var b={};u(b,o,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(A([])));w&&w!==n&&r.call(w,o)&&(b=w);var E=y.prototype=v.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,o,a,s){var u=c(e[i],e,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:N}}function N(){return{value:t,done:!0}}return m.prototype=y,u(E,"constructor",y),u(y,"constructor",m),m.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},S(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(E),u(E,s,"Generator"),u(E,o,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},9084:function(e){e.exports=function(){"use strict";var e=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},t=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]=t[n[r]];return e},n="\n";function r(e){return"undefined"!==typeof atob?atob(e):"base64:"+e}function i(e){var t=new Error("(regl) "+e);throw console.error(t),t}function o(e,t){e||i(t)}function a(e){return e?": "+e:""}function s(e,t,n){e in t||i("unknown parameter ("+e+")"+a(n)+". possible values: "+Object.keys(t).join())}function u(t,n){e(t)||i("invalid parameter type"+a(n)+". must be a typed array")}function l(e,t){switch(t){case"number":return"number"===typeof e;case"object":return"object"===typeof e;case"string":return"string"===typeof e;case"boolean":return"boolean"===typeof e;case"function":return"function"===typeof e;case"undefined":return"undefined"===typeof e;case"symbol":return"symbol"===typeof e}}function c(e,t,n){l(e,t)||i("invalid parameter type"+a(n)+". expected "+t+", got "+typeof e)}function f(e,t){e>=0&&(0|e)===e||i("invalid parameter type, ("+e+")"+a(t)+". must be a nonnegative integer")}function d(e,t,n){t.indexOf(e)<0&&i("invalid value"+a(n)+". must be one of: "+t)}var h=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function p(e){Object.keys(e).forEach((function(e){h.indexOf(e)<0&&i('invalid regl constructor argument "'+e+'". must be one of '+h)}))}function g(e,t){for(e+="";e.length<t;)e=" "+e;return e}function v(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function m(e,t){this.number=e,this.line=t,this.errors=[]}function y(e,t,n){this.file=e,this.line=t,this.message=n}function b(){var e=new Error,t=(e.stack||e).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return r?r[1]:"unknown"}function x(){var e=new Error,t=(e.stack||e).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return r?r[1]:"unknown"}function w(e,t){var n=e.split("\n"),i=1,o=0,a={unknown:new v,0:new v};a.unknown.name=a[0].name=t||b(),a.unknown.lines.push(new m(0,""));for(var s=0;s<n.length;++s){var u=n[s],l=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(u);if(l)switch(l[1]){case"line":var c=/(\d+)(\s+\d+)?/.exec(l[2]);c&&(i=0|c[1],c[2]&&((o=0|c[2])in a||(a[o]=new v)));break;case"define":var f=/SHADER_NAME(_B64)?\s+(.*)$/.exec(l[2]);f&&(a[o].name=f[1]?r(f[2]):f[2])}a[o].lines.push(new m(i++,u))}return Object.keys(a).forEach((function(e){var t=a[e];t.lines.forEach((function(e){t.index[e.number]=e}))})),a}function E(e){var t=[];return e.split("\n").forEach((function(e){if(!(e.length<5)){var n=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(e);n?t.push(new y(0|n[1],0|n[2],n[3].trim())):e.length>0&&t.push(new y("unknown",0,e))}})),t}function S(e,t){t.forEach((function(t){var n=e[t.file];if(n){var r=n.index[t.line];if(r)return r.errors.push(t),void(n.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)}))}function _(e,t,r,i,a){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var s=e.getShaderInfoLog(t),u=i===e.FRAGMENT_SHADER?"fragment":"vertex";P(r,"string",u+" shader source must be a string",a);var l=w(r,a),c=E(s);S(l,c),Object.keys(l).forEach((function(e){var t=l[e];if(t.hasErrors){var r=[""],i=[""];o("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach((function(e){if(e.errors.length>0){o(g(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),o(e.line+n,"color:red; background-color:yellow; font-weight:bold");var t=0;e.errors.forEach((function(r){var i=r.message,a=/^\s*'(.*)'\s*:\s*(.*)$/.exec(i);if(a){var s=a[1];i=a[2],"assign"===s&&(s="="),t=Math.max(e.line.indexOf(s,t),0)}else t=0;o(g("| ",6)),o(g("^^^",t+3)+n,"font-weight:bold"),o(g("| ",6)),o(i+n,"font-weight:bold")})),o(g("| ",6)+n)}else o(g(e.number,4)+"|  "),o(e.line+n,"color:red")})),"undefined"===typeof document||window.chrome?console.log(r.join("")):(i[0]=r.join("%c"),console.log.apply(console,i))}function o(e,t){r.push(e),i.push(t||"")}})),o.raise("Error compiling "+u+" shader, "+l[0].name)}}function T(e,t,r,i,a){if(!e.getProgramParameter(t,e.LINK_STATUS)){var s=e.getProgramInfoLog(t),u=w(r,a),l='Error linking program with vertex shader, "'+w(i,a)[0].name+'", and fragment shader "'+u[0].name+'"';"undefined"!==typeof document?console.log("%c"+l+n+"%c"+s,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(l+n+s),o.raise(l)}}function k(e){e._commandRef=b()}function C(e,t,n,r){function i(e){return e?r.id(e):0}function o(e,t){Object.keys(t).forEach((function(t){e[r.id(t)]=!0}))}k(e),e._fragId=i(e.static.frag),e._vertId=i(e.static.vert);var a=e._uniformSet={};o(a,t.static),o(a,t.dynamic);var s=e._attributeSet={};o(s,n.static),o(s,n.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic}function M(e,t){var n=x();i(e+" in command "+(t||b())+("unknown"===n?"":" called from "+n))}function A(e,t,n){e||M(t,n||b())}function N(e,t,n,r){e in t||M("unknown parameter ("+e+")"+a(n)+". possible values: "+Object.keys(t).join(),r||b())}function P(e,t,n,r){l(e,t)||M("invalid parameter type"+a(n)+". expected "+t+", got "+typeof e,r||b())}function I(e){e()}function D(e,t,n){e.texture?d(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):d(e.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")}var O=33071,R=9728,L=9984,j=9985,B=9986,F=9987,z=5121,Y=5122,G=5123,V=5124,U=5125,W=5126,Z=32819,H=32820,X=33635,K=34042,q=36193,J={};function $(e,t){return e===H||e===Z||e===X?2:e===K?4:J[e]*t}function Q(e){return!(e&e-1)&&!!e}function ee(e,t,n){var r,i=t.width,a=t.height,s=t.channels;o(i>0&&i<=n.maxTextureSize&&a>0&&a<=n.maxTextureSize,"invalid texture shape"),e.wrapS===O&&e.wrapT===O||o(Q(i)&&Q(a),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==i&&1!==a&&o(e.minFilter!==L&&e.minFilter!==B&&e.minFilter!==j&&e.minFilter!==F,"min filter requires mipmap"):(o(Q(i)&&Q(a),"texture must be a square power of 2 to support mipmapping"),o(t.mipmask===(i<<1)-1,"missing or incomplete mipmap data")),t.type===W&&(n.extensions.indexOf("oes_texture_float_linear")<0&&o(e.minFilter===R&&e.magFilter===R,"filter not supported, must enable oes_texture_float_linear"),o(!e.genMipmaps,"mipmap generation not supported with float textures"));var u=t.images;for(r=0;r<16;++r)if(u[r]){var l=i>>r,c=a>>r;o(t.mipmask&1<<r,"missing mipmap data");var f=u[r];if(o(f.width===l&&f.height===c,"invalid shape for mip images"),o(f.format===t.format&&f.internalformat===t.internalformat&&f.type===t.type,"incompatible type for mip image"),f.compressed);else if(f.data){var d=Math.ceil($(f.type,s)*l/f.unpackAlignment)*f.unpackAlignment;o(f.data.byteLength===d*c,"invalid data for image, buffer size is inconsistent with image format")}else f.element||f.copy}else e.genMipmaps||o(0===(t.mipmask&1<<r),"extra mipmap data");t.compressed&&o(!e.genMipmaps,"mipmap generation for compressed images not supported")}function te(e,t,n,r){var i=e.width,a=e.height,s=e.channels;o(i>0&&i<=r.maxTextureSize&&a>0&&a<=r.maxTextureSize,"invalid texture shape"),o(i===a,"cube map must be square"),o(t.wrapS===O&&t.wrapT===O,"wrap mode not supported by cube map");for(var u=0;u<n.length;++u){var l=n[u];o(l.width===i&&l.height===a,"inconsistent cube map face shape"),t.genMipmaps&&(o(!l.compressed,"can not generate mipmap for compressed textures"),o(1===l.mipmask,"can not specify mipmaps and generate mipmaps"));for(var c=l.images,f=0;f<16;++f){var d=c[f];if(d){var h=i>>f,p=a>>f;o(l.mipmask&1<<f,"missing mipmap data"),o(d.width===h&&d.height===p,"invalid shape for mip images"),o(d.format===e.format&&d.internalformat===e.internalformat&&d.type===e.type,"incompatible type for mip image"),d.compressed||(d.data?o(d.data.byteLength===h*p*Math.max($(d.type,s),d.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):d.element||d.copy)}}}}J[5120]=J[z]=1,J[Y]=J[G]=J[q]=J[X]=J[Z]=J[H]=2,J[V]=J[U]=J[W]=J[K]=4;var ne=t(o,{optional:I,raise:i,commandRaise:M,command:A,parameter:s,commandParameter:N,constructor:p,type:c,commandType:P,isTypedArray:u,nni:f,oneOf:d,shaderError:_,linkError:T,callSite:x,saveCommandRef:k,saveDrawInfo:C,framebufferFormat:D,guessCommand:b,texture2D:ee,textureCube:te}),re=0,ie=0,oe=5,ae=6;function se(e,t){this.id=re++,this.type=e,this.data=t}function ue(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function le(e){if(0===e.length)return[];var t=e.charAt(0),n=e.charAt(e.length-1);if(e.length>1&&t===n&&('"'===t||"'"===t))return['"'+ue(e.substr(1,e.length-2))+'"'];var r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(r)return le(e.substr(0,r.index)).concat(le(r[1])).concat(le(e.substr(r.index+r[0].length)));var i=e.split(".");if(1===i.length)return['"'+ue(e)+'"'];for(var o=[],a=0;a<i.length;++a)o=o.concat(le(i[a]));return o}function ce(e){return"["+le(e).join("][")+"]"}function fe(e,t){return new se(e,ce(t+""))}function de(e){return"function"===typeof e&&!e._reglType||e instanceof se}function he(e,t){return"function"===typeof e?new se(ie,e):"number"===typeof e||"boolean"===typeof e?new se(oe,e):Array.isArray(e)?new se(ae,e.map((function(e,n){return he(e,t+"["+n+"]")}))):e instanceof se?e:void ne(!1,"invalid option type in uniform "+t)}var pe={DynamicVariable:se,define:fe,isDynamic:de,unbox:he,accessor:ce},ge={next:"function"===typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"===typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},ve="undefined"!==typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function me(){var e={"":0},t=[""];return{id:function(n){var r=e[n];return r||(r=e[n]=t.length,t.push(n),r)},str:function(e){return t[e]}}}function ye(e,n,r){var i,o=document.createElement("canvas");function a(){var n=window.innerWidth,i=window.innerHeight;if(e!==document.body){var a=e.getBoundingClientRect();n=a.right-a.left,i=a.bottom-a.top}o.width=r*n,o.height=r*i,t(o.style,{width:n+"px",height:i+"px"})}function s(){i?i.disconnect():window.removeEventListener("resize",a),e.removeChild(o)}return t(o.style,{border:0,margin:0,padding:0,top:0,left:0}),e.appendChild(o),e===document.body&&(o.style.position="absolute",t(e.style,{margin:0,padding:0})),e!==document.body&&"function"===typeof ResizeObserver?(i=new ResizeObserver((function(){setTimeout(a)}))).observe(e):window.addEventListener("resize",a,!1),a(),{canvas:o,onDestroy:s}}function be(e,t){function n(n){try{return e.getContext(n,t)}catch(r){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}function xe(e){return"string"===typeof e.nodeName&&"function"===typeof e.appendChild&&"function"===typeof e.getBoundingClientRect}function we(e){return"function"===typeof e.drawArrays||"function"===typeof e.drawElements}function Ee(e){return"string"===typeof e?e.split():(ne(Array.isArray(e),"invalid extension array"),e)}function Se(e){return"string"===typeof e?(ne("undefined"!==typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function _e(e){var t,n,r,i,o=e||{},a={},s=[],u=[],l="undefined"===typeof window?1:window.devicePixelRatio,c=!1,f=function(e){e&&ne.raise(e)},d=function(){};if("string"===typeof o?(ne("undefined"!==typeof document,"selector queries only supported in DOM enviroments"),t=document.querySelector(o),ne(t,"invalid query string for element")):"object"===typeof o?xe(o)?t=o:we(o)?r=(i=o).canvas:(ne.constructor(o),"gl"in o?i=o.gl:"canvas"in o?r=Se(o.canvas):"container"in o&&(n=Se(o.container)),"attributes"in o&&(a=o.attributes,ne.type(a,"object","invalid context attributes")),"extensions"in o&&(s=Ee(o.extensions)),"optionalExtensions"in o&&(u=Ee(o.optionalExtensions)),"onDone"in o&&(ne.type(o.onDone,"function","invalid or missing onDone callback"),f=o.onDone),"profile"in o&&(c=!!o.profile),"pixelRatio"in o&&(l=+o.pixelRatio,ne(l>0,"invalid pixel ratio"))):ne.raise("invalid arguments to regl"),t&&("canvas"===t.nodeName.toLowerCase()?r=t:n=t),!i){if(!r){ne("undefined"!==typeof document,"must manually specify webgl context outside of DOM environments");var h=ye(n||document.body,f,l);if(!h)return null;r=h.canvas,d=h.onDestroy}void 0===a.premultipliedAlpha&&(a.premultipliedAlpha=!0),i=be(r,a)}return i?{gl:i,canvas:r,container:n,extensions:s,optionalExtensions:u,pixelRatio:l,profile:c,onDone:f,onDestroy:d}:(d(),f("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Te(e,t){var n={};function r(t){ne.type(t,"string","extension name must be string");var r,i=t.toLowerCase();try{r=n[i]=e.getExtension(i)}catch(o){}return!!r}for(var i=0;i<t.extensions.length;++i){var o=t.extensions[i];if(!r(o))return t.onDestroy(),t.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach((function(e){if(n[e]&&!r(e))throw new Error("(regl): error restoring extension "+e)}))}}}function ke(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=t(r);return n}var Ce=5120,Me=5121,Ae=5122,Ne=5123,Pe=5124,Ie=5125,De=5126;function Oe(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}function Re(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1}function Le(){var e=ke(8,(function(){return[]}));function t(t){var n=Oe(t),r=e[Re(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(t){e[Re(t.byteLength)>>2].push(t)}function r(e,n){var r=null;switch(e){case Ce:r=new Int8Array(t(n),0,n);break;case Me:r=new Uint8Array(t(n),0,n);break;case Ae:r=new Int16Array(t(2*n),0,n);break;case Ne:r=new Uint16Array(t(2*n),0,n);break;case Pe:r=new Int32Array(t(4*n),0,n);break;case Ie:r=new Uint32Array(t(4*n),0,n);break;case De:r=new Float32Array(t(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r}function i(e){n(e.buffer)}return{alloc:t,free:n,allocType:r,freeType:i}}var je=Le();je.zero=Le();var Be=3408,Fe=3410,ze=3411,Ye=3412,Ge=3413,Ve=3414,Ue=3415,We=33901,Ze=33902,He=3379,Xe=3386,Ke=34921,qe=36347,Je=36348,$e=35661,Qe=35660,et=34930,tt=36349,nt=34076,rt=34024,it=7936,ot=7937,at=7938,st=35724,ut=34047,lt=36063,ct=34852,ft=3553,dt=34067,ht=34069,pt=33984,gt=6408,vt=5126,mt=5121,yt=36160,bt=36053,xt=36064,wt=16384,Et=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(ut));var r=1,i=1;t.webgl_draw_buffers&&(r=e.getParameter(ct),i=e.getParameter(lt));var o=!!t.oes_texture_float;if(o){var a=e.createTexture();e.bindTexture(ft,a),e.texImage2D(ft,0,gt,1,1,0,gt,vt,null);var s=e.createFramebuffer();if(e.bindFramebuffer(yt,s),e.framebufferTexture2D(yt,xt,ft,a,0),e.bindTexture(ft,null),e.checkFramebufferStatus(yt)!==bt)o=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(wt);var u=je.allocType(vt,4);e.readPixels(0,0,1,1,gt,vt,u),e.getError()?o=!1:(e.deleteFramebuffer(s),e.deleteTexture(a),o=1===u[0]),je.freeType(u)}}var l=!0;if("undefined"===typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var c=e.createTexture(),f=je.allocType(mt,36);e.activeTexture(pt),e.bindTexture(dt,c),e.texImage2D(ht,0,gt,3,3,0,gt,mt,f),je.freeType(f),e.bindTexture(dt,null),e.deleteTexture(c),l=!e.getError()}return{colorBits:[e.getParameter(Fe),e.getParameter(ze),e.getParameter(Ye),e.getParameter(Ge)],depthBits:e.getParameter(Ve),stencilBits:e.getParameter(Ue),subpixelBits:e.getParameter(Be),extensions:Object.keys(t).filter((function(e){return!!t[e]})),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:e.getParameter(We),lineWidthDims:e.getParameter(Ze),maxViewportDims:e.getParameter(Xe),maxCombinedTextureUnits:e.getParameter($e),maxCubeMapSize:e.getParameter(nt),maxRenderbufferSize:e.getParameter(rt),maxTextureUnits:e.getParameter(et),maxTextureSize:e.getParameter(He),maxAttributes:e.getParameter(Ke),maxVertexUniforms:e.getParameter(qe),maxVertexTextureUnits:e.getParameter(Qe),maxVaryingVectors:e.getParameter(Je),maxFragmentUniforms:e.getParameter(tt),glsl:e.getParameter(st),renderer:e.getParameter(ot),vendor:e.getParameter(it),version:e.getParameter(at),readFloat:o,npotTextureCube:l}};function St(t){return!!t&&"object"===typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"===typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||e(t.data))}var _t=function(e){return Object.keys(e).map((function(t){return e[t]}))},Tt={shape:Pt,flatten:Nt};function kt(e,t,n){for(var r=0;r<t;++r)n[r]=e[r]}function Ct(e,t,n,r){for(var i=0,o=0;o<t;++o)for(var a=e[o],s=0;s<n;++s)r[i++]=a[s]}function Mt(e,t,n,r,i,o){for(var a=o,s=0;s<t;++s)for(var u=e[s],l=0;l<n;++l)for(var c=u[l],f=0;f<r;++f)i[a++]=c[f]}function At(e,t,n,r,i){for(var o=1,a=n+1;a<t.length;++a)o*=t[a];var s=t[n];if(t.length-n===4){var u=t[n+1],l=t[n+2],c=t[n+3];for(a=0;a<s;++a)Mt(e[a],u,l,c,r,i),i+=o}else for(a=0;a<s;++a)At(e[a],t,n+1,r,i),i+=o}function Nt(e,t,n,r){var i=1;if(t.length)for(var o=0;o<t.length;++o)i*=t[o];else i=0;var a=r||je.allocType(n,i);switch(t.length){case 0:break;case 1:kt(e,t[0],a);break;case 2:Ct(e,t[0],t[1],a);break;case 3:Mt(e,t[0],t[1],t[2],a,0);break;default:At(e,t,0,a,0)}return a}function Pt(e){for(var t=[],n=e;n.length;n=n[0])t.push(n.length);return t}var It={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Dt={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Ot={dynamic:35048,stream:35040,static:35044},Rt=Tt.flatten,Lt=Tt.shape,jt=35044,Bt=35040,Ft=5121,zt=5126,Yt=[];function Gt(e){return 0|It[Object.prototype.toString.call(e)]}function Vt(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function Ut(e,t,n,r,i,o,a){for(var s=0,u=0;u<n;++u)for(var l=0;l<r;++l)e[s++]=t[i*u+o*l+a]}function Wt(t,n,r,i){var o=0,a={};function s(e){this.id=o++,this.buffer=t.createBuffer(),this.type=e,this.usage=jt,this.byteLength=0,this.dimension=1,this.dtype=Ft,this.persistentData=null,r.profile&&(this.stats={size:0})}s.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},s.prototype.destroy=function(){h(this)};var u=[];function l(e,t){var n=u.pop();return n||(n=new s(e)),n.bind(),d(n,t,Bt,0,1,!1),n}function c(e){u.push(e)}function f(e,n,r){e.byteLength=n.byteLength,t.bufferData(e.type,n,r)}function d(t,n,r,i,o,a){var s,u;if(t.usage=r,Array.isArray(n)){if(t.dtype=i||zt,n.length>0)if(Array.isArray(n[0])){s=Lt(n);for(var l=1,c=1;c<s.length;++c)l*=s[c];t.dimension=l,f(t,u=Rt(n,s,t.dtype),r),a?t.persistentData=u:je.freeType(u)}else if("number"===typeof n[0]){t.dimension=o;var d=je.allocType(t.dtype,n.length);Vt(d,n),f(t,d,r),a?t.persistentData=d:je.freeType(d)}else e(n[0])?(t.dimension=n[0].length,t.dtype=i||Gt(n[0])||zt,f(t,u=Rt(n,[n.length,n[0].length],t.dtype),r),a?t.persistentData=u:je.freeType(u)):ne.raise("invalid buffer data")}else if(e(n))t.dtype=i||Gt(n),t.dimension=o,f(t,n,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(St(n)){s=n.shape;var h=n.stride,p=n.offset,g=0,v=0,m=0,y=0;1===s.length?(g=s[0],v=1,m=h[0],y=0):2===s.length?(g=s[0],v=s[1],m=h[0],y=h[1]):ne.raise("invalid shape"),t.dtype=i||Gt(n.data)||zt,t.dimension=v;var b=je.allocType(t.dtype,g*v);Ut(b,n.data,g,v,m,y,p),f(t,b,r),a?t.persistentData=b:je.freeType(b)}else n instanceof ArrayBuffer?(t.dtype=Ft,t.dimension=o,f(t,n,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(n)))):ne.raise("invalid buffer data")}function h(e){n.bufferCount--,i(e);var r=e.buffer;ne(r,"buffer must not be deleted already"),t.deleteBuffer(r),e.buffer=null,delete a[e.id]}function p(i,o,u,l){n.bufferCount++;var c=new s(o);function f(n){var i=jt,o=null,a=0,s=0,u=1;return Array.isArray(n)||e(n)||St(n)||n instanceof ArrayBuffer?o=n:"number"===typeof n?a=0|n:n&&(ne.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(ne(null===o||Array.isArray(o)||e(o)||St(o),"invalid data for buffer"),o=n.data),"usage"in n&&(ne.parameter(n.usage,Ot,"invalid buffer usage"),i=Ot[n.usage]),"type"in n&&(ne.parameter(n.type,Dt,"invalid buffer type"),s=Dt[n.type]),"dimension"in n&&(ne.type(n.dimension,"number","invalid dimension"),u=0|n.dimension),"length"in n&&(ne.nni(a,"buffer length must be a nonnegative integer"),a=0|n.length)),c.bind(),o?d(c,o,i,s,u,l):(a&&t.bufferData(c.type,a,i),c.dtype=s||Ft,c.usage=i,c.dimension=u,c.byteLength=a),r.profile&&(c.stats.size=c.byteLength*Yt[c.dtype]),f}function p(e,n){ne(n+e.byteLength<=c.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+e.byteLength+" starting from offset "+n+" to a buffer of size "+c.byteLength),t.bufferSubData(c.type,n,e)}function g(t,n){var r,i=0|(n||0);if(c.bind(),e(t)||t instanceof ArrayBuffer)p(t,i);else if(Array.isArray(t)){if(t.length>0)if("number"===typeof t[0]){var o=je.allocType(c.dtype,t.length);Vt(o,t),p(o,i),je.freeType(o)}else if(Array.isArray(t[0])||e(t[0])){r=Lt(t);var a=Rt(t,r,c.dtype);p(a,i),je.freeType(a)}else ne.raise("invalid buffer data")}else if(St(t)){r=t.shape;var s=t.stride,u=0,l=0,d=0,h=0;1===r.length?(u=r[0],l=1,d=s[0],h=0):2===r.length?(u=r[0],l=r[1],d=s[0],h=s[1]):ne.raise("invalid shape");var g=Array.isArray(t.data)?c.dtype:Gt(t.data),v=je.allocType(g,u*l);Ut(v,t.data,u,l,d,h,t.offset),p(v,i),je.freeType(v)}else ne.raise("invalid data for buffer subdata");return f}return a[c.id]=c,u||f(i),f._reglType="buffer",f._buffer=c,f.subdata=g,r.profile&&(f.stats=c.stats),f.destroy=function(){h(c)},f}function g(){_t(a).forEach((function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)}))}return r.profile&&(n.getTotalBufferSize=function(){var e=0;return Object.keys(a).forEach((function(t){e+=a[t].stats.size})),e}),{create:p,createStream:l,destroyStream:c,clear:function(){_t(a).forEach(h),u.forEach(h)},getBuffer:function(e){return e&&e._buffer instanceof s?e._buffer:null},restore:g,_initBuffer:d}}Yt[5120]=1,Yt[5122]=2,Yt[5124]=4,Yt[5121]=1,Yt[5123]=2,Yt[5125]=4,Yt[5126]=4;var Zt={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Ht=0,Xt=1,Kt=4,qt=5120,Jt=5121,$t=5122,Qt=5123,en=5124,tn=5125,nn=34963,rn=35040,on=35044;function an(t,n,r,i){var o={},a=0,s={uint8:Jt,uint16:Qt};function u(e){this.id=a++,o[this.id]=this,this.buffer=e,this.primType=Kt,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(s.uint32=tn),u.prototype.bind=function(){this.buffer.bind()};var l=[];function c(e){var t=l.pop();return t||(t=new u(r.create(null,nn,!0,!1)._buffer)),d(t,e,rn,-1,-1,0,0),t}function f(e){l.push(e)}function d(i,o,a,s,u,l,c){var f;if(i.buffer.bind(),o){var d=c;c||e(o)&&(!St(o)||e(o.data))||(d=n.oes_element_index_uint?tn:Qt),r._initBuffer(i.buffer,o,a,d,3)}else t.bufferData(nn,l,a),i.buffer.dtype=f||Jt,i.buffer.usage=a,i.buffer.dimension=3,i.buffer.byteLength=l;if(f=c,!c){switch(i.buffer.dtype){case Jt:case qt:f=Jt;break;case Qt:case $t:f=Qt;break;case tn:case en:f=tn;break;default:ne.raise("unsupported type for element array")}i.buffer.dtype=f}i.type=f,ne(f!==tn||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var h=u;h<0&&(h=i.buffer.byteLength,f===Qt?h>>=1:f===tn&&(h>>=2)),i.vertCount=h;var p=s;if(s<0){p=Kt;var g=i.buffer.dimension;1===g&&(p=Ht),2===g&&(p=Xt),3===g&&(p=Kt)}i.primType=p}function h(e){i.elementsCount--,ne(null!==e.buffer,"must not double destroy elements"),delete o[e.id],e.buffer.destroy(),e.buffer=null}function p(t,n){var o=r.create(null,nn,!0),a=new u(o._buffer);function l(t){if(t)if("number"===typeof t)o(t),a.primType=Kt,a.vertCount=0|t,a.type=Jt;else{var n=null,r=on,i=-1,u=-1,c=0,f=0;Array.isArray(t)||e(t)||St(t)?n=t:(ne.type(t,"object","invalid arguments for elements"),"data"in t&&(n=t.data,ne(Array.isArray(n)||e(n)||St(n),"invalid data for element buffer")),"usage"in t&&(ne.parameter(t.usage,Ot,"invalid element buffer usage"),r=Ot[t.usage]),"primitive"in t&&(ne.parameter(t.primitive,Zt,"invalid element buffer primitive"),i=Zt[t.primitive]),"count"in t&&(ne("number"===typeof t.count&&t.count>=0,"invalid vertex count for elements"),u=0|t.count),"type"in t&&(ne.parameter(t.type,s,"invalid buffer type"),f=s[t.type]),"length"in t?c=0|t.length:(c=u,f===Qt||f===$t?c*=2:f!==tn&&f!==en||(c*=4))),d(a,n,r,i,u,c,f)}else o(),a.primType=Kt,a.vertCount=0,a.type=Jt;return l}return i.elementsCount++,l(t),l._reglType="elements",l._elements=a,l.subdata=function(e,t){return o.subdata(e,t),l},l.destroy=function(){h(a)},l}return{create:p,createStream:c,destroyStream:f,getElements:function(e){return"function"===typeof e&&e._elements instanceof u?e._elements:null},clear:function(){_t(o).forEach(h)}}}var sn=new Float32Array(1),un=new Uint32Array(sn.buffer),ln=5123;function cn(e){for(var t=je.allocType(ln,e.length),n=0;n<e.length;++n)if(isNaN(e[n]))t[n]=65535;else if(e[n]===1/0)t[n]=31744;else if(e[n]===-1/0)t[n]=64512;else{sn[0]=e[n];var r=un[0],i=r>>>31<<15,o=(r<<1>>>24)-127,a=r>>13&1023;if(o<-24)t[n]=i;else if(o<-14){var s=-14-o;t[n]=i+(a+1024>>s)}else t[n]=o>15?i+31744:i+(o+15<<10)+a}return t}function fn(t){return Array.isArray(t)||e(t)}var dn=function(e){return!(e&e-1)&&!!e},hn=34467,pn=3553,gn=34067,vn=34069,mn=6408,yn=6406,bn=6407,xn=6409,wn=6410,En=32854,Sn=32855,_n=36194,Tn=32819,kn=32820,Cn=33635,Mn=34042,An=6402,Nn=34041,Pn=35904,In=35906,Dn=36193,On=33776,Rn=33777,Ln=33778,jn=33779,Bn=35986,Fn=35987,zn=34798,Yn=35840,Gn=35841,Vn=35842,Un=35843,Wn=36196,Zn=5121,Hn=5123,Xn=5125,Kn=5126,qn=10242,Jn=10243,$n=10497,Qn=33071,er=33648,tr=10240,nr=10241,rr=9728,ir=9729,or=9984,ar=9985,sr=9986,ur=9987,lr=33170,cr=4352,fr=4353,dr=4354,hr=34046,pr=3317,gr=37440,vr=37441,mr=37443,yr=37444,br=33984,xr=[or,sr,ar,ur],wr=[0,xn,wn,bn,mn],Er={};function Sr(e){return"[object "+e+"]"}Er[xn]=Er[yn]=Er[An]=1,Er[Nn]=Er[wn]=2,Er[bn]=Er[Pn]=3,Er[mn]=Er[In]=4;var _r=Sr("HTMLCanvasElement"),Tr=Sr("OffscreenCanvas"),kr=Sr("CanvasRenderingContext2D"),Cr=Sr("ImageBitmap"),Mr=Sr("HTMLImageElement"),Ar=Sr("HTMLVideoElement"),Nr=Object.keys(It).concat([_r,Tr,kr,Cr,Mr,Ar]),Pr=[];Pr[Zn]=1,Pr[Kn]=4,Pr[Dn]=2,Pr[Hn]=2,Pr[Xn]=4;var Ir=[];function Dr(e){return Array.isArray(e)&&(0===e.length||"number"===typeof e[0])}function Or(e){return!!Array.isArray(e)&&!(0===e.length||!fn(e[0]))}function Rr(e){return Object.prototype.toString.call(e)}function Lr(e){return Rr(e)===_r}function jr(e){return Rr(e)===Tr}function Br(e){return Rr(e)===kr}function Fr(e){return Rr(e)===Cr}function zr(e){return Rr(e)===Mr}function Yr(e){return Rr(e)===Ar}function Gr(e){if(!e)return!1;var t=Rr(e);return Nr.indexOf(t)>=0||Dr(e)||Or(e)||St(e)}function Vr(e){return 0|It[Object.prototype.toString.call(e)]}function Ur(e,t){var n=t.length;switch(e.type){case Zn:case Hn:case Xn:case Kn:var r=je.allocType(e.type,n);r.set(t),e.data=r;break;case Dn:e.data=cn(t);break;default:ne.raise("unsupported texture type, must specify a typed array")}}function Wr(e,t){return je.allocType(e.type===Dn?Kn:e.type,t)}function Zr(e,t){e.type===Dn?(e.data=cn(t),je.freeType(t)):e.data=t}function Hr(e,t,n,r,i,o){for(var a=e.width,s=e.height,u=e.channels,l=Wr(e,a*s*u),c=0,f=0;f<s;++f)for(var d=0;d<a;++d)for(var h=0;h<u;++h)l[c++]=t[n*d+r*f+i*h+o];Zr(e,l)}function Xr(e,t,n,r,i,o){var a;if(a="undefined"!==typeof Ir[e]?Ir[e]:Er[e]*Pr[t],o&&(a*=6),i){for(var s=0,u=n;u>=1;)s+=a*u*u,u/=2;return s}return a*n*r}function Kr(n,r,i,o,a,s,u){var l={"don't care":cr,"dont care":cr,nice:dr,fast:fr},c={repeat:$n,clamp:Qn,mirror:er},f={nearest:rr,linear:ir},d=t({mipmap:ur,"nearest mipmap nearest":or,"linear mipmap nearest":ar,"nearest mipmap linear":sr,"linear mipmap linear":ur},f),h={none:0,browser:yr},p={uint8:Zn,rgba4:Tn,rgb565:Cn,"rgb5 a1":kn},g={alpha:yn,luminance:xn,"luminance alpha":wn,rgb:bn,rgba:mn,rgba4:En,"rgb5 a1":Sn,rgb565:_n},v={};r.ext_srgb&&(g.srgb=Pn,g.srgba=In),r.oes_texture_float&&(p.float32=p.float=Kn),r.oes_texture_half_float&&(p.float16=p["half float"]=Dn),r.webgl_depth_texture&&(t(g,{depth:An,"depth stencil":Nn}),t(p,{uint16:Hn,uint32:Xn,"depth stencil":Mn})),r.webgl_compressed_texture_s3tc&&t(v,{"rgb s3tc dxt1":On,"rgba s3tc dxt1":Rn,"rgba s3tc dxt3":Ln,"rgba s3tc dxt5":jn}),r.webgl_compressed_texture_atc&&t(v,{"rgb atc":Bn,"rgba atc explicit alpha":Fn,"rgba atc interpolated alpha":zn}),r.webgl_compressed_texture_pvrtc&&t(v,{"rgb pvrtc 4bppv1":Yn,"rgb pvrtc 2bppv1":Gn,"rgba pvrtc 4bppv1":Vn,"rgba pvrtc 2bppv1":Un}),r.webgl_compressed_texture_etc1&&(v["rgb etc1"]=Wn);var m=Array.prototype.slice.call(n.getParameter(hn));Object.keys(v).forEach((function(e){var t=v[e];m.indexOf(t)>=0&&(g[e]=t)}));var y=Object.keys(g);i.textureFormats=y;var b=[];Object.keys(g).forEach((function(e){var t=g[e];b[t]=e}));var x=[];Object.keys(p).forEach((function(e){var t=p[e];x[t]=e}));var w=[];Object.keys(f).forEach((function(e){var t=f[e];w[t]=e}));var E=[];Object.keys(d).forEach((function(e){var t=d[e];E[t]=e}));var S=[];Object.keys(c).forEach((function(e){var t=c[e];S[t]=e}));var _=y.reduce((function(e,t){var n=g[t];return n===xn||n===yn||n===xn||n===wn||n===An||n===Nn||r.ext_srgb&&(n===Pn||n===In)?e[n]=n:n===Sn||t.indexOf("rgba")>=0?e[n]=mn:e[n]=bn,e}),{});function T(){this.internalformat=mn,this.format=mn,this.type=Zn,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=yr,this.width=0,this.height=0,this.channels=0}function k(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function C(e,t){if("object"===typeof t&&t){if("premultiplyAlpha"in t&&(ne.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(ne.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(ne.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(ne.parameter(t.colorSpace,h,"invalid colorSpace"),e.colorSpace=h[t.colorSpace]),"type"in t){var n=t.type;ne(r.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),ne(r.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),ne(r.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ne.parameter(n,p,"invalid texture type"),e.type=p[n]}var o=e.width,a=e.height,s=e.channels,u=!1;"shape"in t?(ne(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),o=t.shape[0],a=t.shape[1],3===t.shape.length&&(s=t.shape[2],ne(s>0&&s<=4,"invalid number of channels"),u=!0),ne(o>=0&&o<=i.maxTextureSize,"invalid width"),ne(a>=0&&a<=i.maxTextureSize,"invalid height")):("radius"in t&&(o=a=t.radius,ne(o>=0&&o<=i.maxTextureSize,"invalid radius")),"width"in t&&(o=t.width,ne(o>=0&&o<=i.maxTextureSize,"invalid width")),"height"in t&&(a=t.height,ne(a>=0&&a<=i.maxTextureSize,"invalid height")),"channels"in t&&(s=t.channels,ne(s>0&&s<=4,"invalid number of channels"),u=!0)),e.width=0|o,e.height=0|a,e.channels=0|s;var l=!1;if("format"in t){var c=t.format;ne(r.webgl_depth_texture||!("depth"===c||"depth stencil"===c),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ne.parameter(c,g,"invalid texture format");var f=e.internalformat=g[c];e.format=_[f],c in p&&("type"in t||(e.type=p[c])),c in v&&(e.compressed=!0),l=!0}!u&&l?e.channels=Er[e.format]:u&&!l?e.channels!==wr[e.format]&&(e.format=e.internalformat=wr[e.channels]):l&&u&&ne(e.channels===Er[e.format],"number of channels inconsistent with specified format")}}function M(e){n.pixelStorei(gr,e.flipY),n.pixelStorei(vr,e.premultiplyAlpha),n.pixelStorei(mr,e.colorSpace),n.pixelStorei(pr,e.unpackAlignment)}function A(){T.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function N(t,n){var r=null;if(Gr(n)?r=n:n&&(ne.type(n,"object","invalid pixel data type"),C(t,n),"x"in n&&(t.xOffset=0|n.x),"y"in n&&(t.yOffset=0|n.y),Gr(n.data)&&(r=n.data)),ne(!t.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){ne(!r,"can not specify copy and data field for the same texture");var o=a.viewportWidth,s=a.viewportHeight;t.width=t.width||o-t.xOffset,t.height=t.height||s-t.yOffset,t.needsCopy=!0,ne(t.xOffset>=0&&t.xOffset<o&&t.yOffset>=0&&t.yOffset<s&&t.width>0&&t.width<=o&&t.height>0&&t.height<=s,"copy texture read out of bounds")}else if(r){if(e(r))t.channels=t.channels||4,t.data=r,"type"in n||t.type!==Zn||(t.type=Vr(r));else if(Dr(r))t.channels=t.channels||4,Ur(t,r),t.alignment=1,t.needsFree=!0;else if(St(r)){var u=r.data;Array.isArray(u)||t.type!==Zn||(t.type=Vr(u));var l,c,f,d,h,p,g=r.shape,v=r.stride;3===g.length?(f=g[2],p=v[2]):(ne(2===g.length,"invalid ndarray pixel data, must be 2 or 3D"),f=1,p=1),l=g[0],c=g[1],d=v[0],h=v[1],t.alignment=1,t.width=l,t.height=c,t.channels=f,t.format=t.internalformat=wr[f],t.needsFree=!0,Hr(t,u,d,h,p,r.offset)}else if(Lr(r)||jr(r)||Br(r))Lr(r)||jr(r)?t.element=r:t.element=r.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(Fr(r))t.element=r,t.width=r.width,t.height=r.height,t.channels=4;else if(zr(r))t.element=r,t.width=r.naturalWidth,t.height=r.naturalHeight,t.channels=4;else if(Yr(r))t.element=r,t.width=r.videoWidth,t.height=r.videoHeight,t.channels=4;else if(Or(r)){var m=t.width||r[0].length,y=t.height||r.length,b=t.channels;b=fn(r[0][0])?b||r[0][0].length:b||1;for(var x=Tt.shape(r),w=1,E=0;E<x.length;++E)w*=x[E];var S=Wr(t,w);Tt.flatten(r,x,"",S),Zr(t,S),t.alignment=1,t.width=m,t.height=y,t.channels=b,t.format=t.internalformat=wr[b],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;t.type===Kn?ne(i.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):t.type===Dn&&ne(i.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function P(e,t,r){var i=e.element,a=e.data,s=e.internalformat,u=e.format,l=e.type,c=e.width,f=e.height;M(e),i?n.texImage2D(t,r,u,u,l,i):e.compressed?n.compressedTexImage2D(t,r,s,c,f,0,a):e.needsCopy?(o(),n.copyTexImage2D(t,r,u,e.xOffset,e.yOffset,c,f,0)):n.texImage2D(t,r,u,c,f,0,u,l,a||null)}function I(e,t,r,i,a){var s=e.element,u=e.data,l=e.internalformat,c=e.format,f=e.type,d=e.width,h=e.height;M(e),s?n.texSubImage2D(t,a,r,i,c,f,s):e.compressed?n.compressedTexSubImage2D(t,a,r,i,l,d,h,u):e.needsCopy?(o(),n.copyTexSubImage2D(t,a,r,i,e.xOffset,e.yOffset,d,h)):n.texSubImage2D(t,a,r,i,d,h,c,f,u)}var D=[];function O(){return D.pop()||new A}function R(e){e.needsFree&&je.freeType(e.data),A.call(e),D.push(e)}function L(){T.call(this),this.genMipmaps=!1,this.mipmapHint=cr,this.mipmask=0,this.images=Array(16)}function j(e,t,n){var r=e.images[0]=O();e.mipmask=1,r.width=e.width=t,r.height=e.height=n,r.channels=e.channels=4}function B(e,t){var n=null;if(Gr(t))k(n=e.images[0]=O(),e),N(n,t),e.mipmask=1;else if(C(e,t),Array.isArray(t.mipmap))for(var r=t.mipmap,i=0;i<r.length;++i)k(n=e.images[i]=O(),e),n.width>>=i,n.height>>=i,N(n,r[i]),e.mipmask|=1<<i;else k(n=e.images[0]=O(),e),N(n,t),e.mipmask=1;k(e,e.images[0]),!e.compressed||e.internalformat!==On&&e.internalformat!==Rn&&e.internalformat!==Ln&&e.internalformat!==jn||ne(e.width%4===0&&e.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function F(e,t){for(var n=e.images,r=0;r<n.length;++r){if(!n[r])return;P(n[r],t,r)}}var z=[];function Y(){var e=z.pop()||new L;T.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function G(e){for(var t=e.images,n=0;n<t.length;++n)t[n]&&R(t[n]),t[n]=null;z.push(e)}function V(){this.minFilter=rr,this.magFilter=rr,this.wrapS=Qn,this.wrapT=Qn,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=cr}function U(e,t){if("min"in t){var n=t.min;ne.parameter(n,d),e.minFilter=d[n],xr.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var r=t.mag;ne.parameter(r,f),e.magFilter=f[r]}var o=e.wrapS,a=e.wrapT;if("wrap"in t){var s=t.wrap;"string"===typeof s?(ne.parameter(s,c),o=a=c[s]):Array.isArray(s)&&(ne.parameter(s[0],c),ne.parameter(s[1],c),o=c[s[0]],a=c[s[1]])}else{if("wrapS"in t){var u=t.wrapS;ne.parameter(u,c),o=c[u]}if("wrapT"in t){var h=t.wrapT;ne.parameter(h,c),a=c[h]}}if(e.wrapS=o,e.wrapT=a,"anisotropic"in t){var p=t.anisotropic;ne("number"===typeof p&&p>=1&&p<=i.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var g=!1;switch(typeof t.mipmap){case"string":ne.parameter(t.mipmap,l,"invalid mipmap hint"),e.mipmapHint=l[t.mipmap],e.genMipmaps=!0,g=!0;break;case"boolean":g=e.genMipmaps=t.mipmap;break;case"object":ne(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,g=!0;break;default:ne.raise("invalid mipmap type")}g&&!("min"in t)&&(e.minFilter=or)}}function W(e,t){n.texParameteri(t,nr,e.minFilter),n.texParameteri(t,tr,e.magFilter),n.texParameteri(t,qn,e.wrapS),n.texParameteri(t,Jn,e.wrapT),r.ext_texture_filter_anisotropic&&n.texParameteri(t,hr,e.anisotropic),e.genMipmaps&&(n.hint(lr,e.mipmapHint),n.generateMipmap(t))}var Z=0,H={},X=i.maxTextureUnits,K=Array(X).map((function(){return null}));function q(e){T.call(this),this.mipmask=0,this.internalformat=mn,this.id=Z++,this.refCount=1,this.target=e,this.texture=n.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new V,u.profile&&(this.stats={size:0})}function J(e){n.activeTexture(br),n.bindTexture(e.target,e.texture)}function $(){var e=K[0];e?n.bindTexture(e.target,e.texture):n.bindTexture(pn,null)}function Q(e){var t=e.texture;ne(t,"must not double destroy texture");var r=e.unit,i=e.target;r>=0&&(n.activeTexture(br+r),n.bindTexture(i,null),K[r]=null),n.deleteTexture(t),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete H[e.id],s.textureCount--}function ee(e,t){var r=new q(pn);function o(e,t){var n=r.texInfo;V.call(n);var a=Y();return"number"===typeof e?j(a,0|e,"number"===typeof t?0|t:0|e):e?(ne.type(e,"object","invalid arguments to regl.texture"),U(n,e),B(a,e)):j(a,1,1),n.genMipmaps&&(a.mipmask=(a.width<<1)-1),r.mipmask=a.mipmask,k(r,a),ne.texture2D(n,a,i),r.internalformat=a.internalformat,o.width=a.width,o.height=a.height,J(r),F(a,pn),W(n,pn),$(),G(a),u.profile&&(r.stats.size=Xr(r.internalformat,r.type,a.width,a.height,n.genMipmaps,!1)),o.format=b[r.internalformat],o.type=x[r.type],o.mag=w[n.magFilter],o.min=E[n.minFilter],o.wrapS=S[n.wrapS],o.wrapT=S[n.wrapT],o}function a(e,t,n,i){ne(!!e,"must specify image data");var a=0|t,s=0|n,u=0|i,l=O();return k(l,r),l.width=0,l.height=0,N(l,e),l.width=l.width||(r.width>>u)-a,l.height=l.height||(r.height>>u)-s,ne(r.type===l.type&&r.format===l.format&&r.internalformat===l.internalformat,"incompatible format for texture.subimage"),ne(a>=0&&s>=0&&a+l.width<=r.width&&s+l.height<=r.height,"texture.subimage write out of bounds"),ne(r.mipmask&1<<u,"missing mipmap data"),ne(l.data||l.element||l.needsCopy,"missing image data"),J(r),I(l,pn,a,s,u),$(),R(l),o}function l(e,t){var i=0|e,a=0|t||i;if(i===r.width&&a===r.height)return o;o.width=r.width=i,o.height=r.height=a,J(r);for(var s=0;r.mipmask>>s;++s){var l=i>>s,c=a>>s;if(!l||!c)break;n.texImage2D(pn,s,r.format,l,c,0,r.format,r.type,null)}return $(),u.profile&&(r.stats.size=Xr(r.internalformat,r.type,i,a,!1,!1)),o}return H[r.id]=r,s.textureCount++,o(e,t),o.subimage=a,o.resize=l,o._reglType="texture2d",o._texture=r,u.profile&&(o.stats=r.stats),o.destroy=function(){r.decRef()},o}function te(e,t,r,o,a,l){var c=new q(gn);H[c.id]=c,s.cubeCount++;var f=new Array(6);function d(e,t,n,r,o,a){var s,l=c.texInfo;for(V.call(l),s=0;s<6;++s)f[s]=Y();if("number"!==typeof e&&e)if("object"===typeof e)if(t)B(f[0],e),B(f[1],t),B(f[2],n),B(f[3],r),B(f[4],o),B(f[5],a);else if(U(l,e),C(c,e),"faces"in e){var h=e.faces;for(ne(Array.isArray(h)&&6===h.length,"cube faces must be a length 6 array"),s=0;s<6;++s)ne("object"===typeof h[s]&&!!h[s],"invalid input for cube map face"),k(f[s],c),B(f[s],h[s])}else for(s=0;s<6;++s)B(f[s],e);else ne.raise("invalid arguments to cube map");else{var p=0|e||1;for(s=0;s<6;++s)j(f[s],p,p)}for(k(c,f[0]),i.npotTextureCube||ne(dn(c.width)&&dn(c.height),"your browser does not support non power or two texture dimensions"),l.genMipmaps?c.mipmask=(f[0].width<<1)-1:c.mipmask=f[0].mipmask,ne.textureCube(c,l,f,i),c.internalformat=f[0].internalformat,d.width=f[0].width,d.height=f[0].height,J(c),s=0;s<6;++s)F(f[s],vn+s);for(W(l,gn),$(),u.profile&&(c.stats.size=Xr(c.internalformat,c.type,d.width,d.height,l.genMipmaps,!0)),d.format=b[c.internalformat],d.type=x[c.type],d.mag=w[l.magFilter],d.min=E[l.minFilter],d.wrapS=S[l.wrapS],d.wrapT=S[l.wrapT],s=0;s<6;++s)G(f[s]);return d}function h(e,t,n,r,i){ne(!!t,"must specify image data"),ne("number"===typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var o=0|n,a=0|r,s=0|i,u=O();return k(u,c),u.width=0,u.height=0,N(u,t),u.width=u.width||(c.width>>s)-o,u.height=u.height||(c.height>>s)-a,ne(c.type===u.type&&c.format===u.format&&c.internalformat===u.internalformat,"incompatible format for texture.subimage"),ne(o>=0&&a>=0&&o+u.width<=c.width&&a+u.height<=c.height,"texture.subimage write out of bounds"),ne(c.mipmask&1<<s,"missing mipmap data"),ne(u.data||u.element||u.needsCopy,"missing image data"),J(c),I(u,vn+e,o,a,s),$(),R(u),d}function p(e){var t=0|e;if(t!==c.width){d.width=c.width=t,d.height=c.height=t,J(c);for(var r=0;r<6;++r)for(var i=0;c.mipmask>>i;++i)n.texImage2D(vn+r,i,c.format,t>>i,t>>i,0,c.format,c.type,null);return $(),u.profile&&(c.stats.size=Xr(c.internalformat,c.type,d.width,d.height,!1,!0)),d}}return d(e,t,r,o,a,l),d.subimage=h,d.resize=p,d._reglType="textureCube",d._texture=c,u.profile&&(d.stats=c.stats),d.destroy=function(){c.decRef()},d}function re(){for(var e=0;e<X;++e)n.activeTexture(br+e),n.bindTexture(pn,null),K[e]=null;_t(H).forEach(Q),s.cubeCount=0,s.textureCount=0}function ie(){for(var e=0;e<X;++e){var t=K[e];t&&(t.bindCount=0,t.unit=-1,K[e]=null)}_t(H).forEach((function(e){e.texture=n.createTexture(),n.bindTexture(e.target,e.texture);for(var t=0;t<32;++t)if(0!==(e.mipmask&1<<t))if(e.target===pn)n.texImage2D(pn,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);else for(var r=0;r<6;++r)n.texImage2D(vn+r,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);W(e.texInfo,e.target)}))}function oe(){for(var e=0;e<X;++e){var t=K[e];t&&(t.bindCount=0,t.unit=-1,K[e]=null),n.activeTexture(br+e),n.bindTexture(pn,null),n.bindTexture(gn,null)}}return t(q.prototype,{bind:function(){var e=this;e.bindCount+=1;var t=e.unit;if(t<0){for(var r=0;r<X;++r){var i=K[r];if(i){if(i.bindCount>0)continue;i.unit=-1}K[r]=e,t=r;break}t>=X&&ne.raise("insufficient number of texture units"),u.profile&&s.maxTextureUnits<t+1&&(s.maxTextureUnits=t+1),e.unit=t,n.activeTexture(br+t),n.bindTexture(e.target,e.texture)}return t},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Q(this)}}),u.profile&&(s.getTotalTextureSize=function(){var e=0;return Object.keys(H).forEach((function(t){e+=H[t].stats.size})),e}),{create2D:ee,createCube:te,clear:re,getTexture:function(e){return null},restore:ie,refresh:oe}}Ir[En]=2,Ir[Sn]=2,Ir[_n]=2,Ir[Nn]=4,Ir[On]=.5,Ir[Rn]=.5,Ir[Ln]=1,Ir[jn]=1,Ir[Bn]=.5,Ir[Fn]=1,Ir[zn]=1,Ir[Yn]=.5,Ir[Gn]=.25,Ir[Vn]=.5,Ir[Un]=.25,Ir[Wn]=.5;var qr=36161,Jr=32854,$r=32855,Qr=36194,ei=33189,ti=36168,ni=34041,ri=35907,ii=34836,oi=34842,ai=34843,si=[];function ui(e,t,n){return si[e]*t*n}si[Jr]=2,si[$r]=2,si[Qr]=2,si[ei]=2,si[ti]=1,si[ni]=4,si[ri]=4,si[ii]=16,si[oi]=8,si[ai]=6;var li=function(e,t,n,r,i){var o={rgba4:Jr,rgb565:Qr,"rgb5 a1":$r,depth:ei,stencil:ti,"depth stencil":ni};t.ext_srgb&&(o.srgba=ri),t.ext_color_buffer_half_float&&(o.rgba16f=oi,o.rgb16f=ai),t.webgl_color_buffer_float&&(o.rgba32f=ii);var a=[];Object.keys(o).forEach((function(e){var t=o[e];a[t]=e}));var s=0,u={};function l(e){this.id=s++,this.refCount=1,this.renderbuffer=e,this.format=Jr,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function c(t){var n=t.renderbuffer;ne(n,"must not double destroy renderbuffer"),e.bindRenderbuffer(qr,null),e.deleteRenderbuffer(n),t.renderbuffer=null,t.refCount=0,delete u[t.id],r.renderbufferCount--}function f(t,s){var c=new l(e.createRenderbuffer());function f(t,r){var s=0,u=0,l=Jr;if("object"===typeof t&&t){var d=t;if("shape"in d){var h=d.shape;ne(Array.isArray(h)&&h.length>=2,"invalid renderbuffer shape"),s=0|h[0],u=0|h[1]}else"radius"in d&&(s=u=0|d.radius),"width"in d&&(s=0|d.width),"height"in d&&(u=0|d.height);"format"in d&&(ne.parameter(d.format,o,"invalid renderbuffer format"),l=o[d.format])}else"number"===typeof t?(s=0|t,u="number"===typeof r?0|r:s):t?ne.raise("invalid arguments to renderbuffer constructor"):s=u=1;if(ne(s>0&&u>0&&s<=n.maxRenderbufferSize&&u<=n.maxRenderbufferSize,"invalid renderbuffer size"),s!==c.width||u!==c.height||l!==c.format)return f.width=c.width=s,f.height=c.height=u,c.format=l,e.bindRenderbuffer(qr,c.renderbuffer),e.renderbufferStorage(qr,l,s,u),ne(0===e.getError(),"invalid render buffer format"),i.profile&&(c.stats.size=ui(c.format,c.width,c.height)),f.format=a[c.format],f}function d(t,r){var o=0|t,a=0|r||o;return o===c.width&&a===c.height||(ne(o>0&&a>0&&o<=n.maxRenderbufferSize&&a<=n.maxRenderbufferSize,"invalid renderbuffer size"),f.width=c.width=o,f.height=c.height=a,e.bindRenderbuffer(qr,c.renderbuffer),e.renderbufferStorage(qr,c.format,o,a),ne(0===e.getError(),"invalid render buffer format"),i.profile&&(c.stats.size=ui(c.format,c.width,c.height))),f}return u[c.id]=c,r.renderbufferCount++,f(t,s),f.resize=d,f._reglType="renderbuffer",f._renderbuffer=c,i.profile&&(f.stats=c.stats),f.destroy=function(){c.decRef()},f}function d(){_t(u).forEach((function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(qr,t.renderbuffer),e.renderbufferStorage(qr,t.format,t.width,t.height)})),e.bindRenderbuffer(qr,null)}return l.prototype.decRef=function(){--this.refCount<=0&&c(this)},i.profile&&(r.getTotalRenderbufferSize=function(){var e=0;return Object.keys(u).forEach((function(t){e+=u[t].stats.size})),e}),{create:f,clear:function(){_t(u).forEach(c)},restore:d}},ci=36160,fi=36161,di=3553,hi=34069,pi=36064,gi=36096,vi=36128,mi=33306,yi=36053,bi=36054,xi=36055,wi=36057,Ei=36061,Si=36193,_i=5121,Ti=5126,ki=6407,Ci=6408,Mi=6402,Ai=[ki,Ci],Ni=[];Ni[Ci]=4,Ni[ki]=3;var Pi=[];Pi[_i]=1,Pi[Ti]=4,Pi[Si]=2;var Ii=33189,Di=36168,Oi=34041,Ri=[32854,32855,36194,35907,34842,34843,34836],Li={};function ji(e,n,r,i,o,a){var s={cur:null,next:null,dirty:!1,setFBO:null},u=["rgba"],l=["rgba4","rgb565","rgb5 a1"];n.ext_srgb&&l.push("srgba"),n.ext_color_buffer_half_float&&l.push("rgba16f","rgb16f"),n.webgl_color_buffer_float&&l.push("rgba32f");var c=["uint8"];function f(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var r=0,i=0;t?(r=t.width,i=t.height):n&&(r=n.width,i=n.height),this.width=r,this.height=i}function d(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function h(e,t,n){if(e)if(e.texture){var r=e.texture._texture,i=Math.max(1,r.width),o=Math.max(1,r.height);ne(i===t&&o===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var a=e.renderbuffer._renderbuffer;ne(a.width===t&&a.height===n,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function p(t,n){n&&(n.texture?e.framebufferTexture2D(ci,t,n.target,n.texture._texture.texture,0):e.framebufferRenderbuffer(ci,t,fi,n.renderbuffer._renderbuffer.renderbuffer))}function g(e){var t=di,n=null,r=null,i=e;"object"===typeof e&&(i=e.data,"target"in e&&(t=0|e.target)),ne.type(i,"function","invalid attachment data");var o=i._reglType;return"texture2d"===o?(n=i,ne(t===di)):"textureCube"===o?(n=i,ne(t>=hi&&t<hi+6,"invalid cube map target")):"renderbuffer"===o?(r=i,t=fi):ne.raise("invalid regl object for attachment"),new f(t,n,r)}function v(e,t,n,r,a){if(n){var s=i.create2D({width:e,height:t,format:r,type:a});return s._texture.refCount=0,new f(di,s,null)}var u=o.create({width:e,height:t,format:r});return u._renderbuffer.refCount=0,new f(fi,null,u)}function m(e){return e&&(e.texture||e.renderbuffer)}function y(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n),e.width=t,e.height=n)}n.oes_texture_half_float&&c.push("half float","float16"),n.oes_texture_float&&c.push("float","float32");var b=0,x={};function w(){this.id=b++,x[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function E(e){e.colorAttachments.forEach(d),d(e.depthAttachment),d(e.stencilAttachment),d(e.depthStencilAttachment)}function S(t){var n=t.framebuffer;ne(n,"must not double destroy framebuffer"),e.deleteFramebuffer(n),t.framebuffer=null,a.framebufferCount--,delete x[t.id]}function _(t){var n;e.bindFramebuffer(ci,t.framebuffer);var i=t.colorAttachments;for(n=0;n<i.length;++n)p(pi+n,i[n]);for(n=i.length;n<r.maxColorAttachments;++n)e.framebufferTexture2D(ci,pi+n,di,null,0);e.framebufferTexture2D(ci,mi,di,null,0),e.framebufferTexture2D(ci,gi,di,null,0),e.framebufferTexture2D(ci,vi,di,null,0),p(gi,t.depthAttachment),p(vi,t.stencilAttachment),p(mi,t.depthStencilAttachment);var o=e.checkFramebufferStatus(ci);e.isContextLost()||o===yi||ne.raise("framebuffer configuration not supported, status = "+Li[o]),e.bindFramebuffer(ci,s.next?s.next.framebuffer:null),s.cur=s.next,e.getError()}function T(e,i){var o=new w;function f(e,t){var i;ne(s.next!==o,"can not update framebuffer which is currently in use");var a=0,d=0,p=!0,y=!0,b=null,x=!0,w="rgba",S="uint8",T=1,k=null,C=null,M=null,A=!1;if("number"===typeof e)a=0|e,d=0|t||a;else if(e){ne.type(e,"object","invalid arguments for framebuffer");var N=e;if("shape"in N){var P=N.shape;ne(Array.isArray(P)&&P.length>=2,"invalid shape for framebuffer"),a=P[0],d=P[1]}else"radius"in N&&(a=d=N.radius),"width"in N&&(a=N.width),"height"in N&&(d=N.height);("color"in N||"colors"in N)&&(b=N.color||N.colors,Array.isArray(b)&&ne(1===b.length||n.webgl_draw_buffers,"multiple render targets not supported")),b||("colorCount"in N&&(T=0|N.colorCount,ne(T>0,"invalid color buffer count")),"colorTexture"in N&&(x=!!N.colorTexture,w="rgba4"),"colorType"in N&&(S=N.colorType,x?(ne(n.oes_texture_float||!("float"===S||"float32"===S),"you must enable OES_texture_float in order to use floating point framebuffer objects"),ne(n.oes_texture_half_float||!("half float"===S||"float16"===S),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===S||"float16"===S?(ne(n.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),w="rgba16f"):"float"!==S&&"float32"!==S||(ne(n.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),w="rgba32f"),ne.oneOf(S,c,"invalid color type")),"colorFormat"in N&&(w=N.colorFormat,u.indexOf(w)>=0?x=!0:l.indexOf(w)>=0?x=!1:x?ne.oneOf(N.colorFormat,u,"invalid color format for texture"):ne.oneOf(N.colorFormat,l,"invalid color format for renderbuffer"))),("depthTexture"in N||"depthStencilTexture"in N)&&(A=!(!N.depthTexture&&!N.depthStencilTexture),ne(!A||n.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in N&&("boolean"===typeof N.depth?p=N.depth:(k=N.depth,y=!1)),"stencil"in N&&("boolean"===typeof N.stencil?y=N.stencil:(C=N.stencil,p=!1)),"depthStencil"in N&&("boolean"===typeof N.depthStencil?p=y=N.depthStencil:(M=N.depthStencil,p=!1,y=!1))}else a=d=1;var I=null,D=null,O=null,R=null;if(Array.isArray(b))I=b.map(g);else if(b)I=[g(b)];else for(I=new Array(T),i=0;i<T;++i)I[i]=v(a,d,x,w,S);ne(n.webgl_draw_buffers||I.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),ne(I.length<=r.maxColorAttachments,"too many color attachments, not supported"),a=a||I[0].width,d=d||I[0].height,k?D=g(k):p&&!y&&(D=v(a,d,A,"depth","uint32")),C?O=g(C):y&&!p&&(O=v(a,d,!1,"stencil","uint8")),M?R=g(M):!k&&!C&&y&&p&&(R=v(a,d,A,"depth stencil","depth stencil")),ne(!!k+!!C+!!M<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var L=null;for(i=0;i<I.length;++i)if(h(I[i],a,d),ne(!I[i]||I[i].texture&&Ai.indexOf(I[i].texture._texture.format)>=0||I[i].renderbuffer&&Ri.indexOf(I[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),I[i]&&I[i].texture){var j=Ni[I[i].texture._texture.format]*Pi[I[i].texture._texture.type];null===L?L=j:ne(L===j,"all color attachments much have the same number of bits per pixel.")}return h(D,a,d),ne(!D||D.texture&&D.texture._texture.format===Mi||D.renderbuffer&&D.renderbuffer._renderbuffer.format===Ii,"invalid depth attachment for framebuffer object"),h(O,a,d),ne(!O||O.renderbuffer&&O.renderbuffer._renderbuffer.format===Di,"invalid stencil attachment for framebuffer object"),h(R,a,d),ne(!R||R.texture&&R.texture._texture.format===Oi||R.renderbuffer&&R.renderbuffer._renderbuffer.format===Oi,"invalid depth-stencil attachment for framebuffer object"),E(o),o.width=a,o.height=d,o.colorAttachments=I,o.depthAttachment=D,o.stencilAttachment=O,o.depthStencilAttachment=R,f.color=I.map(m),f.depth=m(D),f.stencil=m(O),f.depthStencil=m(R),f.width=o.width,f.height=o.height,_(o),f}function d(e,t){ne(s.next!==o,"can not resize a framebuffer which is currently in use");var n=Math.max(0|e,1),r=Math.max(0|t||n,1);if(n===o.width&&r===o.height)return f;for(var i=o.colorAttachments,a=0;a<i.length;++a)y(i[a],n,r);return y(o.depthAttachment,n,r),y(o.stencilAttachment,n,r),y(o.depthStencilAttachment,n,r),o.width=f.width=n,o.height=f.height=r,_(o),f}return a.framebufferCount++,f(e,i),t(f,{resize:d,_reglType:"framebuffer",_framebuffer:o,destroy:function(){S(o),E(o)},use:function(e){s.setFBO({framebuffer:f},e)}})}function k(e){var o=Array(6);function a(e){var r;ne(o.indexOf(s.next)<0,"can not update framebuffer which is currently in use");var l,f={color:null},d=0,h=null,p="rgba",g="uint8",v=1;if("number"===typeof e)d=0|e;else if(e){ne.type(e,"object","invalid arguments for framebuffer");var m=e;if("shape"in m){var y=m.shape;ne(Array.isArray(y)&&y.length>=2,"invalid shape for framebuffer"),ne(y[0]===y[1],"cube framebuffer must be square"),d=y[0]}else"radius"in m&&(d=0|m.radius),"width"in m?(d=0|m.width,"height"in m&&ne(m.height===d,"must be square")):"height"in m&&(d=0|m.height);("color"in m||"colors"in m)&&(h=m.color||m.colors,Array.isArray(h)&&ne(1===h.length||n.webgl_draw_buffers,"multiple render targets not supported")),h||("colorCount"in m&&(v=0|m.colorCount,ne(v>0,"invalid color buffer count")),"colorType"in m&&(ne.oneOf(m.colorType,c,"invalid color type"),g=m.colorType),"colorFormat"in m&&(p=m.colorFormat,ne.oneOf(m.colorFormat,u,"invalid color format for texture"))),"depth"in m&&(f.depth=m.depth),"stencil"in m&&(f.stencil=m.stencil),"depthStencil"in m&&(f.depthStencil=m.depthStencil)}else d=1;if(h)if(Array.isArray(h))for(l=[],r=0;r<h.length;++r)l[r]=h[r];else l=[h];else{l=Array(v);var b={radius:d,format:p,type:g};for(r=0;r<v;++r)l[r]=i.createCube(b)}for(f.color=Array(l.length),r=0;r<l.length;++r){var x=l[r];ne("function"===typeof x&&"textureCube"===x._reglType,"invalid cube map"),d=d||x.width,ne(x.width===d&&x.height===d,"invalid cube map shape"),f.color[r]={target:hi,data:l[r]}}for(r=0;r<6;++r){for(var w=0;w<l.length;++w)f.color[w].target=hi+r;r>0&&(f.depth=o[0].depth,f.stencil=o[0].stencil,f.depthStencil=o[0].depthStencil),o[r]?o[r](f):o[r]=T(f)}return t(a,{width:d,height:d,color:l})}function l(e){var t,n=0|e;if(ne(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===a.width)return a;var i=a.color;for(t=0;t<i.length;++t)i[t].resize(n);for(t=0;t<6;++t)o[t].resize(n);return a.width=a.height=n,a}return a(e),t(a,{faces:o,resize:l,_reglType:"framebufferCube",destroy:function(){o.forEach((function(e){e.destroy()}))}})}function C(){s.cur=null,s.next=null,s.dirty=!0,_t(x).forEach((function(t){t.framebuffer=e.createFramebuffer(),_(t)}))}return t(s,{getFramebuffer:function(e){if("function"===typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof w)return t}return null},create:T,createCube:k,clear:function(){_t(x).forEach(S)},restore:C})}Li[yi]="complete",Li[bi]="incomplete attachment",Li[wi]="incomplete dimensions",Li[xi]="incomplete, missing attachment",Li[Ei]="unsupported";var Bi=5126,Fi=34962;function zi(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Bi,this.offset=0,this.stride=0,this.divisor=0}function Yi(t,n,r,i,o){for(var a=r.maxAttributes,s=new Array(a),u=0;u<a;++u)s[u]=new zi;var l=0,c={},f={Record:zi,scope:{},state:s,currentVAO:null,targetVAO:null,restore:h()?x:function(){},createVAO:w,getVAO:g,destroyBuffer:d,setVAO:h()?v:m,clear:h()?y:function(){}};function d(e){for(var n=0;n<s.length;++n){var r=s[n];r.buffer===e&&(t.disableVertexAttribArray(n),r.buffer=null)}}function h(){return n.oes_vertex_array_object}function p(){return n.angle_instanced_arrays}function g(e){return"function"===typeof e&&e._vao?e._vao:null}function v(e){if(e!==f.currentVAO){var t=h();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),f.currentVAO=e}}function m(e){if(e!==f.currentVAO){if(e)e.bindAttrs();else for(var n=p(),r=0;r<s.length;++r){var i=s[r];i.buffer?(t.enableVertexAttribArray(r),t.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offfset),n&&i.divisor&&n.vertexAttribDivisorANGLE(r,i.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}f.currentVAO=e}}function y(){_t(c).forEach((function(e){e.destroy()}))}function b(){this.id=++l,this.attributes=[];var e=h();this.vao=e?e.createVertexArrayOES():null,c[this.id]=this,this.buffers=[]}function x(){h()&&_t(c).forEach((function(e){e.refresh()}))}function w(t){var r=new b;function s(t){ne(Array.isArray(t),"arguments to vertex array constructor must be an array"),ne(t.length<a,"too many attributes"),ne(t.length>0,"must specify at least one attribute");var i={},u=r.attributes;u.length=t.length;for(var l=0;l<t.length;++l){var c,f=t[l],d=u[l]=new zi,h=f.data||f;Array.isArray(h)||e(h)||St(h)?(r.buffers[l]&&(c=r.buffers[l],e(h)&&c._buffer.byteLength>=h.byteLength?c.subdata(h):(c.destroy(),r.buffers[l]=null)),r.buffers[l]||(c=r.buffers[l]=o.create(f,Fi,!1,!0)),d.buffer=o.getBuffer(c),d.size=0|d.buffer.dimension,d.normalized=!1,d.type=d.buffer.dtype,d.offset=0,d.stride=0,d.divisor=0,d.state=1,i[l]=1):o.getBuffer(f)?(d.buffer=o.getBuffer(f),d.size=0|d.buffer.dimension,d.normalized=!1,d.type=d.buffer.dtype,d.offset=0,d.stride=0,d.divisor=0,d.state=1):o.getBuffer(f.buffer)?(d.buffer=o.getBuffer(f.buffer),d.size=0|(+f.size||d.buffer.dimension),d.normalized=!!f.normalized||!1,"type"in f?(ne.parameter(f.type,Dt,"invalid buffer type"),d.type=Dt[f.type]):d.type=d.buffer.dtype,d.offset=0|(f.offset||0),d.stride=0|(f.stride||0),d.divisor=0|(f.divisor||0),d.state=1,ne(d.size>=1&&d.size<=4,"size must be between 1 and 4"),ne(d.offset>=0,"invalid offset"),ne(d.stride>=0&&d.stride<=255,"stride must be between 0 and 255"),ne(d.divisor>=0,"divisor must be positive"),ne(!d.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in f?(ne(l>0,"first attribute must not be a constant"),d.x=+f.x||0,d.y=+f.y||0,d.z=+f.z||0,d.w=+f.w||0,d.state=2):ne(!1,"invalid attribute spec for location "+l)}for(var p=0;p<r.buffers.length;++p)!i[p]&&r.buffers[p]&&(r.buffers[p].destroy(),r.buffers[p]=null);return r.refresh(),s}return i.vaoCount+=1,s.destroy=function(){for(var e=0;e<r.buffers.length;++e)r.buffers[e]&&r.buffers[e].destroy();r.buffers.length=0,r.destroy()},s._vao=r,s._reglType="vao",s(t)}return b.prototype.bindAttrs=function(){for(var e=p(),n=this.attributes,r=0;r<n.length;++r){var i=n[r];i.buffer?(t.enableVertexAttribArray(r),t.bindBuffer(Fi,i.buffer.buffer),t.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offset),e&&i.divisor&&e.vertexAttribDivisorANGLE(r,i.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}for(var o=n.length;o<a;++o)t.disableVertexAttribArray(o)},b.prototype.refresh=function(){var e=h();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),f.currentVAO=this)},b.prototype.destroy=function(){if(this.vao){var e=h();this===f.currentVAO&&(f.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}c[this.id]&&(delete c[this.id],i.vaoCount-=1)},f}var Gi=35632,Vi=35633,Ui=35718,Wi=35721;function Zi(e,n,r,i){var o={},a={};function s(e,t,n,r){this.name=e,this.id=t,this.location=n,this.info=r}function u(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t.id)return void(e[n].location=t.location);e.push(t)}function l(t,r,i){var s=t===Gi?o:a,u=s[r];if(!u){var l=n.str(r);u=e.createShader(t),e.shaderSource(u,l),e.compileShader(u),ne.shaderError(e,u,l,t,i),s[r]=u}return u}var c={},f=[],d=0;function h(e,t){this.id=d++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,i.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function p(t,r,o){var a,c,f=l(Gi,t.fragId),d=l(Vi,t.vertId),h=t.program=e.createProgram();if(e.attachShader(h,f),e.attachShader(h,d),o)for(a=0;a<o.length;++a){var p=o[a];e.bindAttribLocation(h,p[0],p[1])}e.linkProgram(h),ne.linkError(e,h,n.str(t.fragId),n.str(t.vertId),r);var g=e.getProgramParameter(h,Ui);i.profile&&(t.stats.uniformsCount=g);var v=t.uniforms;for(a=0;a<g;++a)if(c=e.getActiveUniform(h,a))if(c.size>1)for(var m=0;m<c.size;++m){var y=c.name.replace("[0]","["+m+"]");u(v,new s(y,n.id(y),e.getUniformLocation(h,y),c))}else u(v,new s(c.name,n.id(c.name),e.getUniformLocation(h,c.name),c));var b=e.getProgramParameter(h,Wi);i.profile&&(t.stats.attributesCount=b);var x=t.attributes;for(a=0;a<b;++a)(c=e.getActiveAttrib(h,a))&&u(x,new s(c.name,n.id(c.name),e.getAttribLocation(h,c.name),c))}function g(){o={},a={};for(var e=0;e<f.length;++e)p(f[e],null,f[e].attributes.map((function(e){return[e.location,e.name]})))}return i.profile&&(r.getMaxUniformsCount=function(){var e=0;return f.forEach((function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)})),e},r.getMaxAttributesCount=function(){var e=0;return f.forEach((function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)})),e}),{clear:function(){var t=e.deleteShader.bind(e);_t(o).forEach(t),o={},_t(a).forEach(t),a={},f.forEach((function(t){e.deleteProgram(t.program)})),f.length=0,c={},r.shaderCount=0},program:function(n,i,s,u){ne.command(n>=0,"missing vertex shader",s),ne.command(i>=0,"missing fragment shader",s);var l=c[i];l||(l=c[i]={});var d=l[n];if(d&&(d.refCount++,!u))return d;var g=new h(i,n);return r.shaderCount++,p(g,s,u),d||(l[n]=g),f.push(g),t(g,{destroy:function(){if(g.refCount--,g.refCount<=0){e.deleteProgram(g.program);var t=f.indexOf(g);f.splice(t,1),r.shaderCount--}l[g.vertId].refCount<=0&&(e.deleteShader(a[g.vertId]),delete a[g.vertId],delete c[g.fragId][g.vertId]),Object.keys(c[g.fragId]).length||(e.deleteShader(o[g.fragId]),delete o[g.fragId],delete c[g.fragId])}})},restore:g,shader:l,frag:-1,vert:-1}}var Hi=6408,Xi=5121,Ki=3333,qi=5126;function Ji(t,n,r,i,o,a,s){function u(u){var l;null===n.next?(ne(o.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),l=Xi):(ne(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),l=n.next.colorAttachments[0].texture._texture.type,a.oes_texture_float?(ne(l===Xi||l===qi,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),l===qi&&ne(s.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):ne(l===Xi,"Reading from a framebuffer is only allowed for the type 'uint8'"));var c=0,f=0,d=i.framebufferWidth,h=i.framebufferHeight,p=null;e(u)?p=u:u&&(ne.type(u,"object","invalid arguments to regl.read()"),c=0|u.x,f=0|u.y,ne(c>=0&&c<i.framebufferWidth,"invalid x offset for regl.read"),ne(f>=0&&f<i.framebufferHeight,"invalid y offset for regl.read"),d=0|(u.width||i.framebufferWidth-c),h=0|(u.height||i.framebufferHeight-f),p=u.data||null),p&&(l===Xi?ne(p instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):l===qi&&ne(p instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),ne(d>0&&d+c<=i.framebufferWidth,"invalid width for read pixels"),ne(h>0&&h+f<=i.framebufferHeight,"invalid height for read pixels"),r();var g=d*h*4;return p||(l===Xi?p=new Uint8Array(g):l===qi&&(p=p||new Float32Array(g))),ne.isTypedArray(p,"data buffer for regl.read() must be a typedarray"),ne(p.byteLength>=g,"data buffer for regl.read() too small"),t.pixelStorei(Ki,4),t.readPixels(c,f,d,h,Hi,l,p),p}function l(e){var t;return n.setFBO({framebuffer:e.framebuffer},(function(){t=u(e)})),t}function c(e){return e&&"framebuffer"in e?l(e):u(e)}return c}function $i(e){return Array.prototype.slice.call(e)}function Qi(e){return $i(e).join("")}function eo(){var e=0,n=[],r=[];function i(t){for(var i=0;i<r.length;++i)if(r[i]===t)return n[i];var o="g"+e++;return n.push(o),r.push(t),o}function o(){var n=[];function r(){n.push.apply(n,$i(arguments))}var i=[];function o(){var t="v"+e++;return i.push(t),arguments.length>0&&(n.push(t,"="),n.push.apply(n,$i(arguments)),n.push(";")),t}return t(r,{def:o,toString:function(){return Qi([i.length>0?"var "+i.join(",")+";":"",Qi(n)])}})}function a(){var e=o(),n=o(),r=e.toString,i=n.toString;function a(t,r){n(t,r,"=",e.def(t,r),";")}return t((function(){e.apply(e,$i(arguments))}),{def:e.def,entry:e,exit:n,save:a,set:function(t,n,r){a(t,n),e(t,n,"=",r,";")},toString:function(){return r()+i()}})}function s(){var e=Qi(arguments),n=a(),r=a(),i=n.toString,o=r.toString;return t(n,{then:function(){return n.apply(n,$i(arguments)),this},else:function(){return r.apply(r,$i(arguments)),this},toString:function(){var t=o();return t&&(t="else{"+t+"}"),Qi(["if(",e,"){",i(),"}",t])}})}var u=o(),l={};function c(e,n){var r=[];function i(){var e="a"+r.length;return r.push(e),e}n=n||0;for(var o=0;o<n;++o)i();var s=a(),u=s.toString;return l[e]=t(s,{arg:i,toString:function(){return Qi(["function(",r.join(),"){",u(),"}"])}})}function f(){var e=['"use strict";',u,"return {"];Object.keys(l).forEach((function(t){e.push('"',t,'":',l[t].toString(),",")})),e.push("}");var t=Qi(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,n.concat(t)).apply(null,r)}return{global:u,link:i,block:o,proc:c,scope:a,cond:s,compile:f}}var to="xyzw".split(""),no=5121,ro=1,io=2,oo=0,ao=1,so=2,uo=3,lo=4,co=5,fo=6,ho="dither",po="blend.enable",go="blend.color",vo="blend.equation",mo="blend.func",yo="depth.enable",bo="depth.func",xo="depth.range",wo="depth.mask",Eo="colorMask",So="cull.enable",_o="cull.face",To="frontFace",ko="lineWidth",Co="polygonOffset.enable",Mo="polygonOffset.offset",Ao="sample.alpha",No="sample.enable",Po="sample.coverage",Io="stencil.enable",Do="stencil.mask",Oo="stencil.func",Ro="stencil.opFront",Lo="stencil.opBack",jo="scissor.enable",Bo="scissor.box",Fo="viewport",zo="profile",Yo="framebuffer",Go="vert",Vo="frag",Uo="elements",Wo="primitive",Zo="count",Ho="offset",Xo="instances",Ko="vao",qo="Width",Jo="Height",$o=Yo+qo,Qo=Yo+Jo,ea=Fo+qo,ta=Fo+Jo,na="drawingBuffer",ra=na+qo,ia=na+Jo,oa=[mo,vo,Oo,Ro,Lo,Po,Fo,Bo,Mo],aa=34962,sa=34963,ua=3553,la=34067,ca=2884,fa=3042,da=3024,ha=2960,pa=2929,ga=3089,va=32823,ma=32926,ya=32928,ba=5126,xa=35664,wa=35665,Ea=35666,Sa=5124,_a=35667,Ta=35668,ka=35669,Ca=35670,Ma=35671,Aa=35672,Na=35673,Pa=35674,Ia=35675,Da=35676,Oa=35678,Ra=35680,La=4,ja=1028,Ba=1029,Fa=2304,za=2305,Ya=32775,Ga=32776,Va=519,Ua=7680,Wa=0,Za=1,Ha=32774,Xa=513,Ka=36160,qa=36064,Ja={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},$a=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Qa={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},es={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},ts={frag:35632,vert:35633},ns={cw:Fa,ccw:za};function rs(t){return Array.isArray(t)||e(t)||St(t)}function is(e){return e.sort((function(e,t){return e===Fo?-1:t===Fo?1:e<t?-1:1}))}function os(e,t,n,r){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=r}function as(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function ss(e){return new os(!1,!1,!1,e)}function us(e,t){var n=e.type;if(n===oo){var r=e.data.length;return new os(!0,r>=1,r>=2,t)}if(n===lo){var i=e.data;return new os(i.thisDep,i.contextDep,i.propDep,t)}if(n===co)return new os(!1,!1,!1,t);if(n===fo){for(var o=!1,a=!1,s=!1,u=0;u<e.data.length;++u){var l=e.data[u];if(l.type===ao)s=!0;else if(l.type===so)a=!0;else if(l.type===uo)o=!0;else if(l.type===oo){o=!0;var c=l.data;c>=1&&(a=!0),c>=2&&(s=!0)}else l.type===lo&&(o=o||l.data.thisDep,a=a||l.data.contextDep,s=s||l.data.propDep)}return new os(o,a,s,t)}return new os(n===uo,n===so,n===ao,t)}var ls=new os(!1,!1,!1,(function(){}));function cs(e,n,r,i,o,a,s,u,l,c,f,d,h,p,g){var v=c.Record,m={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(m.min=Ya,m.max=Ga);var y=r.angle_instanced_arrays,b=r.webgl_draw_buffers,x={dirty:!0,profile:g.profile},w={},E=[],S={},_={};function T(e){return e.replace(".","_")}function k(e,t,n){var r=T(e);E.push(e),w[r]=x[r]=!!n,S[r]=t}function C(e,t,n){var r=T(e);E.push(e),Array.isArray(n)?(x[r]=n.slice(),w[r]=n.slice()):x[r]=w[r]=n,_[r]=t}k(ho,da),k(po,fa),C(go,"blendColor",[0,0,0,0]),C(vo,"blendEquationSeparate",[Ha,Ha]),C(mo,"blendFuncSeparate",[Za,Wa,Za,Wa]),k(yo,pa,!0),C(bo,"depthFunc",Xa),C(xo,"depthRange",[0,1]),C(wo,"depthMask",!0),C(Eo,Eo,[!0,!0,!0,!0]),k(So,ca),C(_o,"cullFace",Ba),C(To,To,za),C(ko,ko,1),k(Co,va),C(Mo,"polygonOffset",[0,0]),k(Ao,ma),k(No,ya),C(Po,"sampleCoverage",[1,!1]),k(Io,ha),C(Do,"stencilMask",-1),C(Oo,"stencilFunc",[Va,0,-1]),C(Ro,"stencilOpSeparate",[ja,Ua,Ua,Ua]),C(Lo,"stencilOpSeparate",[Ba,Ua,Ua,Ua]),k(jo,ga),C(Bo,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),C(Fo,Fo,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var M={gl:e,context:h,strings:n,next:w,current:x,draw:d,elements:a,buffer:o,shader:f,attributes:c.state,vao:c,uniforms:l,framebuffer:u,extensions:r,timer:p,isBufferArgs:rs},A={primTypes:Zt,compareFuncs:Qa,blendFuncs:Ja,blendEquations:m,stencilOps:es,glTypes:Dt,orientationType:ns};ne.optional((function(){M.isArrayLike=fn})),b&&(A.backBuffer=[Ba],A.drawBuffer=ke(i.maxDrawbuffers,(function(e){return 0===e?[0]:ke(e,(function(e){return qa+e}))})));var N=0;function P(){var e=eo(),t=e.link,r=e.global;e.id=N++,e.batchId="0";var i=t(M),o=e.shared={props:"a0"};Object.keys(M).forEach((function(e){o[e]=r.def(i,".",e)})),ne.optional((function(){e.CHECK=t(ne),e.commandStr=ne.guessCommand(),e.command=t(e.commandStr),e.assert=function(e,n,r){e("if(!(",n,"))",this.CHECK,".commandRaise(",t(r),",",this.command,");")},A.invalidBlendCombinations=$a}));var a=e.next={},s=e.current={};Object.keys(_).forEach((function(e){Array.isArray(x[e])&&(a[e]=r.def(o.next,".",e),s[e]=r.def(o.current,".",e))}));var u=e.constants={};Object.keys(A).forEach((function(e){u[e]=r.def(JSON.stringify(A[e]))})),e.invoke=function(n,r){switch(r.type){case oo:var i=["this",o.context,o.props,e.batchId];return n.def(t(r.data),".call(",i.slice(0,Math.max(r.data.length+1,4)),")");case ao:return n.def(o.props,r.data);case so:return n.def(o.context,r.data);case uo:return n.def("this",r.data);case lo:return r.data.append(e,n),r.data.ref;case co:return r.data.toString();case fo:return r.data.map((function(t){return e.invoke(n,t)}))}},e.attribCache={};var l={};return e.scopeAttrib=function(e){var r=n.id(e);if(r in l)return l[r];var i=c.scope[r];return i||(i=c.scope[r]=new v),l[r]=t(i)},e}function I(e){var t,n=e.static,r=e.dynamic;if(zo in n){var i=!!n[zo];(t=ss((function(e,t){return i}))).enable=i}else if(zo in r){var o=r[zo];t=us(o,(function(e,t){return e.invoke(t,o)}))}return t}function D(e,t){var n=e.static,r=e.dynamic;if(Yo in n){var i=n[Yo];return i?(i=u.getFramebuffer(i),ne.command(i,"invalid framebuffer object"),ss((function(e,t){var n=e.link(i),r=e.shared;t.set(r.framebuffer,".next",n);var o=r.context;return t.set(o,"."+$o,n+".width"),t.set(o,"."+Qo,n+".height"),n}))):ss((function(e,t){var n=e.shared;t.set(n.framebuffer,".next","null");var r=n.context;return t.set(r,"."+$o,r+"."+ra),t.set(r,"."+Qo,r+"."+ia),"null"}))}if(Yo in r){var o=r[Yo];return us(o,(function(e,t){var n=e.invoke(t,o),r=e.shared,i=r.framebuffer,a=t.def(i,".getFramebuffer(",n,")");ne.optional((function(){e.assert(t,"!"+n+"||"+a,"invalid framebuffer object")})),t.set(i,".next",a);var s=r.context;return t.set(s,"."+$o,a+"?"+a+".width:"+s+"."+ra),t.set(s,"."+Qo,a+"?"+a+".height:"+s+"."+ia),a}))}return null}function O(e,t,n){var r=e.static,i=e.dynamic;function o(e){if(e in r){var o=r[e];ne.commandType(o,"object","invalid "+e,n.commandStr);var a,s,u=!0,l=0|o.x,c=0|o.y;return"width"in o?(a=0|o.width,ne.command(a>=0,"invalid "+e,n.commandStr)):u=!1,"height"in o?(s=0|o.height,ne.command(s>=0,"invalid "+e,n.commandStr)):u=!1,new os(!u&&t&&t.thisDep,!u&&t&&t.contextDep,!u&&t&&t.propDep,(function(e,t){var n=e.shared.context,r=a;"width"in o||(r=t.def(n,".",$o,"-",l));var i=s;return"height"in o||(i=t.def(n,".",Qo,"-",c)),[l,c,r,i]}))}if(e in i){var f=i[e],d=us(f,(function(t,n){var r=t.invoke(n,f);ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)}));var i=t.shared.context,o=n.def(r,".x|0"),a=n.def(r,".y|0"),s=n.def('"width" in ',r,"?",r,".width|0:","(",i,".",$o,"-",o,")"),u=n.def('"height" in ',r,"?",r,".height|0:","(",i,".",Qo,"-",a,")");return ne.optional((function(){t.assert(n,s+">=0&&"+u+">=0","invalid "+e)})),[o,a,s,u]}));return t&&(d.thisDep=d.thisDep||t.thisDep,d.contextDep=d.contextDep||t.contextDep,d.propDep=d.propDep||t.propDep),d}return t?new os(t.thisDep,t.contextDep,t.propDep,(function(e,t){var n=e.shared.context;return[0,0,t.def(n,".",$o),t.def(n,".",Qo)]})):null}var a=o(Fo);if(a){var s=a;a=new os(a.thisDep,a.contextDep,a.propDep,(function(e,t){var n=s.append(e,t),r=e.shared.context;return t.set(r,"."+ea,n[2]),t.set(r,"."+ta,n[3]),n}))}return{viewport:a,scissor_box:o(Bo)}}function R(e,t){var n=e.static;if("string"===typeof n[Vo]&&"string"===typeof n[Go]){if(Object.keys(t.dynamic).length>0)return null;var r=t.static,i=Object.keys(r);if(i.length>0&&"number"===typeof r[i[0]]){for(var o=[],a=0;a<i.length;++a)ne("number"===typeof r[i[a]],"must specify all vertex attribute locations when using vaos"),o.push([0|r[i[a]],i[a]]);return o}}return null}function L(e,t,r){var i=e.static,o=e.dynamic;function a(e){if(e in i){var t=n.id(i[e]);ne.optional((function(){f.shader(ts[e],t,ne.guessCommand())}));var r=ss((function(){return t}));return r.id=t,r}if(e in o){var a=o[e];return us(a,(function(t,n){var r=t.invoke(n,a),i=n.def(t.shared.strings,".id(",r,")");return ne.optional((function(){n(t.shared.shader,".shader(",ts[e],",",i,",",t.command,");")})),i}))}return null}var s,u=a(Vo),l=a(Go),c=null;return as(u)&&as(l)?(c=f.program(l.id,u.id,null,r),s=ss((function(e,t){return e.link(c)}))):s=new os(u&&u.thisDep||l&&l.thisDep,u&&u.contextDep||l&&l.contextDep,u&&u.propDep||l&&l.propDep,(function(e,t){var n,r=e.shared.shader;n=u?u.append(e,t):t.def(r,".",Vo);var i=r+".program("+(l?l.append(e,t):t.def(r,".",Go))+","+n;return ne.optional((function(){i+=","+e.command})),t.def(i+")")})),{frag:u,vert:l,progVar:s,program:c}}function j(e,t){var n=e.static,r=e.dynamic;function i(){if(Uo in n){var e=n[Uo];rs(e)?e=a.getElements(a.create(e,!0)):e&&(e=a.getElements(e),ne.command(e,"invalid elements",t.commandStr));var i=ss((function(t,n){if(e){var r=t.link(e);return t.ELEMENTS=r,r}return t.ELEMENTS=null,null}));return i.value=e,i}if(Uo in r){var o=r[Uo];return us(o,(function(e,t){var n=e.shared,r=n.isBufferArgs,i=n.elements,a=e.invoke(t,o),s=t.def("null"),u=t.def(r,"(",a,")"),l=e.cond(u).then(s,"=",i,".createStream(",a,");").else(s,"=",i,".getElements(",a,");");return ne.optional((function(){e.assert(l.else,"!"+a+"||"+s,"invalid elements")})),t.entry(l),t.exit(e.cond(u).then(i,".destroyStream(",s,");")),e.ELEMENTS=s,s}))}return null}var o=i();function s(){if(Wo in n){var e=n[Wo];return ne.commandParameter(e,Zt,"invalid primitve",t.commandStr),ss((function(t,n){return Zt[e]}))}if(Wo in r){var i=r[Wo];return us(i,(function(e,t){var n=e.constants.primTypes,r=e.invoke(t,i);return ne.optional((function(){e.assert(t,r+" in "+n,"invalid primitive, must be one of "+Object.keys(Zt))})),t.def(n,"[",r,"]")}))}return o?as(o)?o.value?ss((function(e,t){return t.def(e.ELEMENTS,".primType")})):ss((function(){return La})):new os(o.thisDep,o.contextDep,o.propDep,(function(e,t){var n=e.ELEMENTS;return t.def(n,"?",n,".primType:",La)})):null}function u(e,i){if(e in n){var a=0|n[e];return ne.command(!i||a>=0,"invalid "+e,t.commandStr),ss((function(e,t){return i&&(e.OFFSET=a),a}))}if(e in r){var s=r[e];return us(s,(function(t,n){var r=t.invoke(n,s);return i&&(t.OFFSET=r,ne.optional((function(){t.assert(n,r+">=0","invalid "+e)}))),r}))}return i&&o?ss((function(e,t){return e.OFFSET="0",0})):null}var l=u(Ho,!0);function c(){if(Zo in n){var e=0|n[Zo];return ne.command("number"===typeof e&&e>=0,"invalid vertex count",t.commandStr),ss((function(){return e}))}if(Zo in r){var i=r[Zo];return us(i,(function(e,t){var n=e.invoke(t,i);return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")})),n}))}if(o){if(as(o)){if(o)return l?new os(l.thisDep,l.contextDep,l.propDep,(function(e,t){var n=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return ne.optional((function(){e.assert(t,n+">=0","invalid vertex offset/element buffer too small")})),n})):ss((function(e,t){return t.def(e.ELEMENTS,".vertCount")}));var a=ss((function(){return-1}));return ne.optional((function(){a.MISSING=!0})),a}var s=new os(o.thisDep||l.thisDep,o.contextDep||l.contextDep,o.propDep||l.propDep,(function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,"?",n,".vertCount-",e.OFFSET,":-1"):t.def(n,"?",n,".vertCount:-1")}));return ne.optional((function(){s.DYNAMIC=!0})),s}return null}return{elements:o,primitive:s(),count:c(),instances:u(Xo,!1),offset:l}}function B(e,t){var n=e.static,r=e.dynamic,o={};return E.forEach((function(e){var a=T(e);function s(t,i){if(e in n){var s=t(n[e]);o[a]=ss((function(){return s}))}else if(e in r){var u=r[e];o[a]=us(u,(function(e,t){return i(e,t,e.invoke(t,u))}))}}switch(e){case So:case po:case ho:case Io:case yo:case jo:case Co:case Ao:case No:case wo:return s((function(n){return ne.commandType(n,"boolean",e,t.commandStr),n}),(function(t,n,r){return ne.optional((function(){t.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+e,t.commandStr)})),r}));case bo:return s((function(n){return ne.commandParameter(n,Qa,"invalid "+e,t.commandStr),Qa[n]}),(function(t,n,r){var i=t.constants.compareFuncs;return ne.optional((function(){t.assert(n,r+" in "+i,"invalid "+e+", must be one of "+Object.keys(Qa))})),n.def(i,"[",r,"]")}));case xo:return s((function(e){return ne.command(fn(e)&&2===e.length&&"number"===typeof e[0]&&"number"===typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")})),[t.def("+",n,"[0]"),t.def("+",n,"[1]")]}));case mo:return s((function(e){ne.commandType(e,"object","blend.func",t.commandStr);var n="srcRGB"in e?e.srcRGB:e.src,r="srcAlpha"in e?e.srcAlpha:e.src,i="dstRGB"in e?e.dstRGB:e.dst,o="dstAlpha"in e?e.dstAlpha:e.dst;return ne.commandParameter(n,Ja,a+".srcRGB",t.commandStr),ne.commandParameter(r,Ja,a+".srcAlpha",t.commandStr),ne.commandParameter(i,Ja,a+".dstRGB",t.commandStr),ne.commandParameter(o,Ja,a+".dstAlpha",t.commandStr),ne.command(-1===$a.indexOf(n+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+i+")",t.commandStr),[Ja[n],Ja[i],Ja[r],Ja[o]]}),(function(t,n,r){var i=t.constants.blendFuncs;function o(o,a){var s=n.def('"',o,a,'" in ',r,"?",r,".",o,a,":",r,".",o);return ne.optional((function(){t.assert(n,s+" in "+i,"invalid "+e+"."+o+a+", must be one of "+Object.keys(Ja))})),s}ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")}));var a=o("src","RGB"),s=o("dst","RGB");ne.optional((function(){var e=t.constants.invalidBlendCombinations;t.assert(n,e+".indexOf("+a+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var u=n.def(i,"[",a,"]"),l=n.def(i,"[",o("src","Alpha"),"]");return[u,n.def(i,"[",s,"]"),l,n.def(i,"[",o("dst","Alpha"),"]")]}));case vo:return s((function(n){return"string"===typeof n?(ne.commandParameter(n,m,"invalid "+e,t.commandStr),[m[n],m[n]]):"object"===typeof n?(ne.commandParameter(n.rgb,m,e+".rgb",t.commandStr),ne.commandParameter(n.alpha,m,e+".alpha",t.commandStr),[m[n.rgb],m[n.alpha]]):void ne.commandRaise("invalid blend.equation",t.commandStr)}),(function(t,n,r){var i=t.constants.blendEquations,o=n.def(),a=n.def(),s=t.cond("typeof ",r,'==="string"');return ne.optional((function(){function n(e,n,r){t.assert(e,r+" in "+i,"invalid "+n+", must be one of "+Object.keys(m))}n(s.then,e,r),t.assert(s.else,r+"&&typeof "+r+'==="object"',"invalid "+e),n(s.else,e+".rgb",r+".rgb"),n(s.else,e+".alpha",r+".alpha")})),s.then(o,"=",a,"=",i,"[",r,"];"),s.else(o,"=",i,"[",r,".rgb];",a,"=",i,"[",r,".alpha];"),n(s),[o,a]}));case go:return s((function(e){return ne.command(fn(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),ke(4,(function(t){return+e[t]}))}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")})),ke(4,(function(e){return t.def("+",n,"[",e,"]")}))}));case Do:return s((function(e){return ne.commandType(e,"number",a,t.commandStr),0|e}),(function(e,t,n){return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"',"invalid stencil.mask")})),t.def(n,"|0")}));case Oo:return s((function(n){ne.commandType(n,"object",a,t.commandStr);var r=n.cmp||"keep",i=n.ref||0,o="mask"in n?n.mask:-1;return ne.commandParameter(r,Qa,e+".cmp",t.commandStr),ne.commandType(i,"number",e+".ref",t.commandStr),ne.commandType(o,"number",e+".mask",t.commandStr),[Qa[r],i,o]}),(function(e,t,n){var r=e.constants.compareFuncs;return ne.optional((function(){function i(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(n+"&&typeof ",n,'==="object"'),i('!("cmp" in ',n,")||(",n,".cmp in ",r,")")})),[t.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",Ua),t.def(n,".ref|0"),t.def('"mask" in ',n,"?",n,".mask|0:-1")]}));case Ro:case Lo:return s((function(n){ne.commandType(n,"object",a,t.commandStr);var r=n.fail||"keep",i=n.zfail||"keep",o=n.zpass||"keep";return ne.commandParameter(r,es,e+".fail",t.commandStr),ne.commandParameter(i,es,e+".zfail",t.commandStr),ne.commandParameter(o,es,e+".zpass",t.commandStr),[e===Lo?Ba:ja,es[r],es[i],es[o]]}),(function(t,n,r){var i=t.constants.stencilOps;function o(o){return ne.optional((function(){t.assert(n,'!("'+o+'" in '+r+")||("+r+"."+o+" in "+i+")","invalid "+e+"."+o+", must be one of "+Object.keys(es))})),n.def('"',o,'" in ',r,"?",i,"[",r,".",o,"]:",Ua)}return ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),[e===Lo?Ba:ja,o("fail"),o("zfail"),o("zpass")]}));case Mo:return s((function(e){ne.commandType(e,"object",a,t.commandStr);var n=0|e.factor,r=0|e.units;return ne.commandType(n,"number",a+".factor",t.commandStr),ne.commandType(r,"number",a+".units",t.commandStr),[n,r]}),(function(t,n,r){return ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),[n.def(r,".factor|0"),n.def(r,".units|0")]}));case _o:return s((function(e){var n=0;return"front"===e?n=ja:"back"===e&&(n=Ba),ne.command(!!n,a,t.commandStr),n}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+'==="front"||'+n+'==="back"',"invalid cull.face")})),t.def(n,'==="front"?',ja,":",Ba)}));case ko:return s((function(e){return ne.command("number"===typeof e&&e>=i.lineWidthDims[0]&&e<=i.lineWidthDims[1],"invalid line width, must be a positive number between "+i.lineWidthDims[0]+" and "+i.lineWidthDims[1],t.commandStr),e}),(function(e,t,n){return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">="+i.lineWidthDims[0]+"&&"+n+"<="+i.lineWidthDims[1],"invalid line width")})),n}));case To:return s((function(e){return ne.commandParameter(e,ns,a,t.commandStr),ns[e]}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),t.def(n+'==="cw"?'+Fa+":"+za)}));case Eo:return s((function(e){return ne.command(fn(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map((function(e){return!!e}))}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")})),ke(4,(function(e){return"!!"+n+"["+e+"]"}))}));case Po:return s((function(e){ne.command("object"===typeof e&&e,a,t.commandStr);var n="value"in e?e.value:1,r=!!e.invert;return ne.command("number"===typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[n,r]}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")})),[t.def('"value" in ',n,"?+",n,".value:1"),t.def("!!",n,".invert")]}))}})),o}function F(e,t){var n=e.static,r=e.dynamic,i={};return Object.keys(n).forEach((function(e){var r,o=n[e];if("number"===typeof o||"boolean"===typeof o)r=ss((function(){return o}));else if("function"===typeof o){var a=o._reglType;"texture2d"===a||"textureCube"===a?r=ss((function(e){return e.link(o)})):"framebuffer"===a||"framebufferCube"===a?(ne.command(o.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),r=ss((function(e){return e.link(o.color[0])}))):ne.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else fn(o)?r=ss((function(t){return t.global.def("[",ke(o.length,(function(n){return ne.command("number"===typeof o[n]||"boolean"===typeof o[n],"invalid uniform "+e,t.commandStr),o[n]})),"]")})):ne.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);r.value=o,i[e]=r})),Object.keys(r).forEach((function(e){var t=r[e];i[e]=us(t,(function(e,n){return e.invoke(n,t)}))})),i}function z(e,t){var r=e.static,i=e.dynamic,a={};return Object.keys(r).forEach((function(e){var i=r[e],s=n.id(e),u=new v;if(rs(i))u.state=ro,u.buffer=o.getBuffer(o.create(i,aa,!1,!0)),u.type=0;else{var l=o.getBuffer(i);if(l)u.state=ro,u.buffer=l,u.type=0;else if(ne.command("object"===typeof i&&i,"invalid data for attribute "+e,t.commandStr),"constant"in i){var c=i.constant;u.buffer="null",u.state=io,"number"===typeof c?u.x=c:(ne.command(fn(c)&&c.length>0&&c.length<=4,"invalid constant for attribute "+e,t.commandStr),to.forEach((function(e,t){t<c.length&&(u[e]=c[t])})))}else{l=rs(i.buffer)?o.getBuffer(o.create(i.buffer,aa,!1,!0)):o.getBuffer(i.buffer),ne.command(!!l,'missing buffer for attribute "'+e+'"',t.commandStr);var f=0|i.offset;ne.command(f>=0,'invalid offset for attribute "'+e+'"',t.commandStr);var d=0|i.stride;ne.command(d>=0&&d<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',t.commandStr);var h=0|i.size;ne.command(!("size"in i)||h>0&&h<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',t.commandStr);var p=!!i.normalized,g=0;"type"in i&&(ne.commandParameter(i.type,Dt,"invalid type for attribute "+e,t.commandStr),g=Dt[i.type]);var m=0|i.divisor;"divisor"in i&&(ne.command(0===m||y,'cannot specify divisor for attribute "'+e+'", instancing not supported',t.commandStr),ne.command(m>=0,'invalid divisor for attribute "'+e+'"',t.commandStr)),ne.optional((function(){var n=t.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(i).forEach((function(t){ne.command(r.indexOf(t)>=0,'unknown parameter "'+t+'" for attribute pointer "'+e+'" (valid parameters are '+r+")",n)}))})),u.buffer=l,u.state=ro,u.size=h,u.normalized=p,u.type=g||l.dtype,u.offset=f,u.stride=d,u.divisor=m}}a[e]=ss((function(e,t){var n=e.attribCache;if(s in n)return n[s];var r={isStream:!1};return Object.keys(u).forEach((function(e){r[e]=u[e]})),u.buffer&&(r.buffer=e.link(u.buffer),r.type=r.type||r.buffer+".dtype"),n[s]=r,r}))})),Object.keys(i).forEach((function(e){var t=i[e];function n(n,r){var i=n.invoke(r,t),o=n.shared,a=n.constants,s=o.isBufferArgs,u=o.buffer;ne.optional((function(){n.assert(r,i+"&&(typeof "+i+'==="object"||typeof '+i+'==="function")&&('+s+"("+i+")||"+u+".getBuffer("+i+")||"+u+".getBuffer("+i+".buffer)||"+s+"("+i+'.buffer)||("constant" in '+i+"&&(typeof "+i+'.constant==="number"||'+o.isArrayLike+"("+i+".constant))))",'invalid dynamic attribute "'+e+'"')}));var l={isStream:r.def(!1)},c=new v;c.state=ro,Object.keys(c).forEach((function(e){l[e]=r.def(""+c[e])}));var f=l.buffer,d=l.type;function h(e){r(l[e],"=",i,".",e,"|0;")}return r("if(",s,"(",i,")){",l.isStream,"=true;",f,"=",u,".createStream(",aa,",",i,");",d,"=",f,".dtype;","}else{",f,"=",u,".getBuffer(",i,");","if(",f,"){",d,"=",f,".dtype;",'}else if("constant" in ',i,"){",l.state,"=",io,";","if(typeof "+i+'.constant === "number"){',l[to[0]],"=",i,".constant;",to.slice(1).map((function(e){return l[e]})).join("="),"=0;","}else{",to.map((function(e,t){return l[e]+"="+i+".constant.length>"+t+"?"+i+".constant["+t+"]:0;"})).join(""),"}}else{","if(",s,"(",i,".buffer)){",f,"=",u,".createStream(",aa,",",i,".buffer);","}else{",f,"=",u,".getBuffer(",i,".buffer);","}",d,'="type" in ',i,"?",a.glTypes,"[",i,".type]:",f,".dtype;",l.normalized,"=!!",i,".normalized;"),h("size"),h("offset"),h("stride"),h("divisor"),r("}}"),r.exit("if(",l.isStream,"){",u,".destroyStream(",f,");","}"),l}a[e]=us(t,n)})),a}function Y(e,t){var n=e.static,r=e.dynamic;if(Ko in n){var i=n[Ko];return null!==i&&null===c.getVAO(i)&&(i=c.createVAO(i)),ss((function(e){return e.link(c.getVAO(i))}))}if(Ko in r){var o=r[Ko];return us(o,(function(e,t){var n=e.invoke(t,o);return t.def(e.shared.vao+".getVAO("+n+")")}))}return null}function G(e){var t=e.static,n=e.dynamic,r={};return Object.keys(t).forEach((function(e){var n=t[e];r[e]=ss((function(e,t){return"number"===typeof n||"boolean"===typeof n?""+n:e.link(n)}))})),Object.keys(n).forEach((function(e){var t=n[e];r[e]=us(t,(function(e,n){return e.invoke(n,t)}))})),r}function V(e,t,n,i,o){var a=e.static,s=e.dynamic;ne.optional((function(){var e=[Yo,Go,Vo,Uo,Wo,Ho,Zo,Xo,zo,Ko].concat(E);function t(t){Object.keys(t).forEach((function(t){ne.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',o.commandStr)}))}t(a),t(s)}));var u=R(e,t),l=D(e,o),f=O(e,l,o),d=j(e,o),h=B(e,o),p=L(e,o,u);function g(e){var t=f[e];t&&(h[e]=t)}g(Fo),g(T(Bo));var v=Object.keys(h).length>0,m={framebuffer:l,draw:d,shader:p,state:h,dirty:v,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(m.profile=I(e,o),m.uniforms=F(n,o),m.drawVAO=m.scopeVAO=Y(e,o),!m.drawVAO&&p.program&&!u&&r.angle_instanced_arrays){var y=!0,b=p.program.attributes.map((function(e){var n=t.static[e];return y=y&&!!n,n}));if(y&&b.length>0){var x=c.getVAO(c.createVAO(b));m.drawVAO=new os(null,null,null,(function(e,t){return e.link(x)})),m.useVAO=!0}}return u?m.useVAO=!0:m.attributes=z(t,o),m.context=G(i,o),m}function U(e,t,n){var r=e.shared.context,i=e.scope();Object.keys(n).forEach((function(o){t.save(r,"."+o);var a=n[o].append(e,t);Array.isArray(a)?i(r,".",o,"=[",a.join(),"];"):i(r,".",o,"=",a,";")})),t(i)}function W(e,t,n,r){var i,o=e.shared,a=o.gl,s=o.framebuffer;b&&(i=t.def(o.extensions,".webgl_draw_buffers"));var u,l=e.constants,c=l.drawBuffer,f=l.backBuffer;u=n?n.append(e,t):t.def(s,".next"),r||t("if(",u,"!==",s,".cur){"),t("if(",u,"){",a,".bindFramebuffer(",Ka,",",u,".framebuffer);"),b&&t(i,".drawBuffersWEBGL(",c,"[",u,".colorAttachments.length]);"),t("}else{",a,".bindFramebuffer(",Ka,",null);"),b&&t(i,".drawBuffersWEBGL(",f,");"),t("}",s,".cur=",u,";"),r||t("}")}function Z(e,t,n){var r=e.shared,i=r.gl,o=e.current,a=e.next,s=r.current,u=r.next,l=e.cond(s,".dirty");E.forEach((function(t){var r,c,f=T(t);if(!(f in n.state))if(f in a){r=a[f],c=o[f];var d=ke(x[f].length,(function(e){return l.def(r,"[",e,"]")}));l(e.cond(d.map((function(e,t){return e+"!=="+c+"["+t+"]"})).join("||")).then(i,".",_[f],"(",d,");",d.map((function(e,t){return c+"["+t+"]="+e})).join(";"),";"))}else{r=l.def(u,".",f);var h=e.cond(r,"!==",s,".",f);l(h),f in S?h(e.cond(r).then(i,".enable(",S[f],");").else(i,".disable(",S[f],");"),s,".",f,"=",r,";"):h(i,".",_[f],"(",r,");",s,".",f,"=",r,";")}})),0===Object.keys(n.state).length&&l(s,".dirty=false;"),t(l)}function H(e,t,n,r){var i=e.shared,o=e.current,a=i.current,s=i.gl;is(Object.keys(n)).forEach((function(i){var u=n[i];if(!r||r(u)){var l=u.append(e,t);if(S[i]){var c=S[i];as(u)?t(s,l?".enable(":".disable(",c,");"):t(e.cond(l).then(s,".enable(",c,");").else(s,".disable(",c,");")),t(a,".",i,"=",l,";")}else if(fn(l)){var f=o[i];t(s,".",_[i],"(",l,");",l.map((function(e,t){return f+"["+t+"]="+e})).join(";"),";")}else t(s,".",_[i],"(",l,");",a,".",i,"=",l,";")}}))}function X(e,t){y&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function K(e,t,n,r,i){var o,a,s,u=e.shared,l=e.stats,c=u.current,f=u.timer,d=n.profile;function h(){return"undefined"===typeof performance?"Date.now()":"performance.now()"}function g(e){e(o=t.def(),"=",h(),";"),"string"===typeof i?e(l,".count+=",i,";"):e(l,".count++;"),p&&(r?e(a=t.def(),"=",f,".getNumPendingQueries();"):e(f,".beginQuery(",l,");"))}function v(e){e(l,".cpuTime+=",h(),"-",o,";"),p&&(r?e(f,".pushScopeStats(",a,",",f,".getNumPendingQueries(),",l,");"):e(f,".endQuery();"))}function m(e){var n=t.def(c,".profile");t(c,".profile=",e,";"),t.exit(c,".profile=",n,";")}if(d){if(as(d))return void(d.enable?(g(t),v(t.exit),m("true")):m("false"));m(s=d.append(e,t))}else s=t.def(c,".profile");var y=e.block();g(y),t("if(",s,"){",y,"}");var b=e.block();v(b),t.exit("if(",s,"){",b,"}")}function q(e,t,n,r,i){var o=e.shared;function a(e){switch(e){case xa:case _a:case Ma:return 2;case wa:case Ta:case Aa:return 3;case Ea:case ka:case Na:return 4;default:return 1}}function s(n,r,i){var a=o.gl,s=t.def(n,".location"),u=t.def(o.attributes,"[",s,"]"),l=i.state,c=i.buffer,f=[i.x,i.y,i.z,i.w],d=["buffer","normalized","offset","stride"];function h(){t("if(!",u,".buffer){",a,".enableVertexAttribArray(",s,");}");var n,o=i.type;if(n=i.size?t.def(i.size,"||",r):r,t("if(",u,".type!==",o,"||",u,".size!==",n,"||",d.map((function(e){return u+"."+e+"!=="+i[e]})).join("||"),"){",a,".bindBuffer(",aa,",",c,".buffer);",a,".vertexAttribPointer(",[s,n,o,i.normalized,i.stride,i.offset],");",u,".type=",o,";",u,".size=",n,";",d.map((function(e){return u+"."+e+"="+i[e]+";"})).join(""),"}"),y){var l=i.divisor;t("if(",u,".divisor!==",l,"){",e.instancing,".vertexAttribDivisorANGLE(",[s,l],");",u,".divisor=",l,";}")}}function p(){t("if(",u,".buffer){",a,".disableVertexAttribArray(",s,");",u,".buffer=null;","}if(",to.map((function(e,t){return u+"."+e+"!=="+f[t]})).join("||"),"){",a,".vertexAttrib4f(",s,",",f,");",to.map((function(e,t){return u+"."+e+"="+f[t]+";"})).join(""),"}")}l===ro?h():l===io?p():(t("if(",l,"===",ro,"){"),h(),t("}else{"),p(),t("}"))}r.forEach((function(r){var o,u=r.name,l=n.attributes[u];if(l){if(!i(l))return;o=l.append(e,t)}else{if(!i(ls))return;var c=e.scopeAttrib(u);ne.optional((function(){e.assert(t,c+".state","missing attribute "+u)})),o={},Object.keys(new v).forEach((function(e){o[e]=t.def(c,".",e)}))}s(e.link(r),a(r.info.type),o)}))}function J(e,t,r,i,o){for(var a,s=e.shared,u=s.gl,l=0;l<i.length;++l){var c,f=i[l],d=f.name,h=f.info.type,p=r.uniforms[d],g=e.link(f)+".location";if(p){if(!o(p))continue;if(as(p)){var v=p.value;if(ne.command(null!==v&&"undefined"!==typeof v,'missing uniform "'+d+'"',e.commandStr),h===Oa||h===Ra){ne.command("function"===typeof v&&(h===Oa&&("texture2d"===v._reglType||"framebuffer"===v._reglType)||h===Ra&&("textureCube"===v._reglType||"framebufferCube"===v._reglType)),"invalid texture for uniform "+d,e.commandStr);var m=e.link(v._texture||v.color[0]._texture);t(u,".uniform1i(",g,",",m+".bind());"),t.exit(m,".unbind();")}else if(h===Pa||h===Ia||h===Da){ne.optional((function(){ne.command(fn(v),"invalid matrix for uniform "+d,e.commandStr),ne.command(h===Pa&&4===v.length||h===Ia&&9===v.length||h===Da&&16===v.length,"invalid length for matrix uniform "+d,e.commandStr)}));var y=e.global.def("new Float32Array(["+Array.prototype.slice.call(v)+"])"),b=2;h===Ia?b=3:h===Da&&(b=4),t(u,".uniformMatrix",b,"fv(",g,",false,",y,");")}else{switch(h){case ba:ne.commandType(v,"number","uniform "+d,e.commandStr),a="1f";break;case xa:ne.command(fn(v)&&2===v.length,"uniform "+d,e.commandStr),a="2f";break;case wa:ne.command(fn(v)&&3===v.length,"uniform "+d,e.commandStr),a="3f";break;case Ea:ne.command(fn(v)&&4===v.length,"uniform "+d,e.commandStr),a="4f";break;case Ca:ne.commandType(v,"boolean","uniform "+d,e.commandStr),a="1i";break;case Sa:ne.commandType(v,"number","uniform "+d,e.commandStr),a="1i";break;case Ma:case _a:ne.command(fn(v)&&2===v.length,"uniform "+d,e.commandStr),a="2i";break;case Aa:case Ta:ne.command(fn(v)&&3===v.length,"uniform "+d,e.commandStr),a="3i";break;case Na:case ka:ne.command(fn(v)&&4===v.length,"uniform "+d,e.commandStr),a="4i"}t(u,".uniform",a,"(",g,",",fn(v)?Array.prototype.slice.call(v):v,");")}continue}c=p.append(e,t)}else{if(!o(ls))continue;c=t.def(s.uniforms,"[",n.id(d),"]")}h===Oa?(ne(!Array.isArray(c),"must specify a scalar prop for textures"),t("if(",c,"&&",c,'._reglType==="framebuffer"){',c,"=",c,".color[0];","}")):h===Ra&&(ne(!Array.isArray(c),"must specify a scalar prop for cube maps"),t("if(",c,"&&",c,'._reglType==="framebufferCube"){',c,"=",c,".color[0];","}")),ne.optional((function(){function n(n,r){e.assert(t,n,'bad data or missing for uniform "'+d+'".  '+r)}function r(e){ne(!Array.isArray(c),"must not specify an array type for uniform"),n("typeof "+c+'==="'+e+'"',"invalid type, expected "+e)}function i(t,r){Array.isArray(c)?ne(c.length===t,"must have length "+t):n(s.isArrayLike+"("+c+")&&"+c+".length==="+t,"invalid vector, should have length "+t,e.commandStr)}function o(t){ne(!Array.isArray(c),"must not specify a value type"),n("typeof "+c+'==="function"&&'+c+'._reglType==="texture'+(t===ua?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(h){case Sa:r("number");break;case _a:i(2,"number");break;case Ta:i(3,"number");break;case ka:i(4,"number");break;case ba:r("number");break;case xa:i(2,"number");break;case wa:i(3,"number");break;case Ea:i(4,"number");break;case Ca:r("boolean");break;case Ma:i(2,"boolean");break;case Aa:i(3,"boolean");break;case Na:i(4,"boolean");break;case Pa:i(4,"number");break;case Ia:i(9,"number");break;case Da:i(16,"number");break;case Oa:o(ua);break;case Ra:o(la)}}));var x=1;switch(h){case Oa:case Ra:var w=t.def(c,"._texture");t(u,".uniform1i(",g,",",w,".bind());"),t.exit(w,".unbind();");continue;case Sa:case Ca:a="1i";break;case _a:case Ma:a="2i",x=2;break;case Ta:case Aa:a="3i",x=3;break;case ka:case Na:a="4i",x=4;break;case ba:a="1f";break;case xa:a="2f",x=2;break;case wa:a="3f",x=3;break;case Ea:a="4f",x=4;break;case Pa:a="Matrix2fv";break;case Ia:a="Matrix3fv";break;case Da:a="Matrix4fv"}if(t(u,".uniform",a,"(",g,","),"M"===a.charAt(0)){var E=Math.pow(h-Pa+2,2),S=e.global.def("new Float32Array(",E,")");Array.isArray(c)?t("false,(",ke(E,(function(e){return S+"["+e+"]="+c[e]})),",",S,")"):t("false,(Array.isArray(",c,")||",c," instanceof Float32Array)?",c,":(",ke(E,(function(e){return S+"["+e+"]="+c+"["+e+"]"})),",",S,")")}else x>1?t(ke(x,(function(e){return Array.isArray(c)?c[e]:c+"["+e+"]"}))):(ne(!Array.isArray(c),"uniform value must not be an array"),t(c));t(");")}}function $(e,t,n,r){var i=e.shared,o=i.gl,a=i.draw,s=r.draw;function u(){var i,u=s.elements,l=t;return u?((u.contextDep&&r.contextDynamic||u.propDep)&&(l=n),i=u.append(e,l)):i=l.def(a,".",Uo),i&&l("if("+i+")"+o+".bindBuffer("+sa+","+i+".buffer.buffer);"),i}function l(){var i,o=s.count,u=t;return o?((o.contextDep&&r.contextDynamic||o.propDep)&&(u=n),i=o.append(e,u),ne.optional((function(){o.MISSING&&e.assert(t,"false","missing vertex count"),o.DYNAMIC&&e.assert(u,i+">=0","missing vertex count")}))):(i=u.def(a,".",Zo),ne.optional((function(){e.assert(u,i+">=0","missing vertex count")}))),i}var c=u();function f(i){var o=s[i];return o?o.contextDep&&r.contextDynamic||o.propDep?o.append(e,n):o.append(e,t):t.def(a,".",i)}var d,h,p=f(Wo),g=f(Ho),v=l();if("number"===typeof v){if(0===v)return}else n("if(",v,"){"),n.exit("}");y&&(d=f(Xo),h=e.instancing);var m=c+".type",b=s.elements&&as(s.elements);function x(){function e(){n(h,".drawElementsInstancedANGLE(",[p,v,m,g+"<<(("+m+"-"+no+")>>1)",d],");")}function t(){n(h,".drawArraysInstancedANGLE(",[p,g,v,d],");")}c?b?e():(n("if(",c,"){"),e(),n("}else{"),t(),n("}")):t()}function w(){function e(){n(o+".drawElements("+[p,v,m,g+"<<(("+m+"-"+no+")>>1)"]+");")}function t(){n(o+".drawArrays("+[p,g,v]+");")}c?b?e():(n("if(",c,"){"),e(),n("}else{"),t(),n("}")):t()}y&&("number"!==typeof d||d>=0)?"string"===typeof d?(n("if(",d,">0){"),x(),n("}else if(",d,"<0){"),w(),n("}")):x():w()}function Q(e,t,n,r,i){var o=P(),a=o.proc("body",i);return ne.optional((function(){o.commandStr=t.commandStr,o.command=o.link(t.commandStr)})),y&&(o.instancing=a.def(o.shared.extensions,".angle_instanced_arrays")),e(o,a,n,r),o.compile().body}function ee(e,t,n,r){X(e,t),n.useVAO?n.drawVAO?t(e.shared.vao,".setVAO(",n.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),q(e,t,n,r.attributes,(function(){return!0}))),J(e,t,n,r.uniforms,(function(){return!0})),$(e,t,t,n)}function te(e,t){var n=e.proc("draw",1);X(e,n),U(e,n,t.context),W(e,n,t.framebuffer),Z(e,n,t),H(e,n,t.state),K(e,n,t,!1,!0);var r=t.shader.progVar.append(e,n);if(n(e.shared.gl,".useProgram(",r,".program);"),t.shader.program)ee(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var i=e.global.def("{}"),o=n.def(r,".id"),a=n.def(i,"[",o,"]");n(e.cond(a).then(a,".call(this,a0);").else(a,"=",i,"[",o,"]=",e.link((function(n){return Q(ee,e,t,n,1)})),"(",r,");",a,".call(this,a0);"))}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;")}function re(e,t,n,r){function i(){return!0}e.batchId="a1",X(e,t),q(e,t,n,r.attributes,i),J(e,t,n,r.uniforms,i),$(e,t,t,n)}function ie(e,t,n,r){X(e,t);var i=n.contextDep,o=t.def(),a="a0",s="a1",u=t.def();e.shared.props=u,e.batchId=o;var l=e.scope(),c=e.scope();function f(e){return e.contextDep&&i||e.propDep}function d(e){return!f(e)}if(t(l.entry,"for(",o,"=0;",o,"<",s,";++",o,"){",u,"=",a,"[",o,"];",c,"}",l.exit),n.needsContext&&U(e,c,n.context),n.needsFramebuffer&&W(e,c,n.framebuffer),H(e,c,n.state,f),n.profile&&f(n.profile)&&K(e,c,n,!1,!0),r)n.useVAO?n.drawVAO?f(n.drawVAO)?c(e.shared.vao,".setVAO(",n.drawVAO.append(e,c),");"):l(e.shared.vao,".setVAO(",n.drawVAO.append(e,l),");"):l(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(l(e.shared.vao,".setVAO(null);"),q(e,l,n,r.attributes,d),q(e,c,n,r.attributes,f)),J(e,l,n,r.uniforms,d),J(e,c,n,r.uniforms,f),$(e,l,c,n);else{var h=e.global.def("{}"),p=n.shader.progVar.append(e,c),g=c.def(p,".id"),v=c.def(h,"[",g,"]");c(e.shared.gl,".useProgram(",p,".program);","if(!",v,"){",v,"=",h,"[",g,"]=",e.link((function(t){return Q(re,e,n,t,2)})),"(",p,");}",v,".call(this,a0[",o,"],",o,");")}}function oe(e,t){var n=e.proc("batch",2);e.batchId="0",X(e,n);var r=!1,i=!0;Object.keys(t.context).forEach((function(e){r=r||t.context[e].propDep})),r||(U(e,n,t.context),i=!1);var o=t.framebuffer,a=!1;function s(e){return e.contextDep&&r||e.propDep}o?(o.propDep?r=a=!0:o.contextDep&&r&&(a=!0),a||W(e,n,o)):W(e,n,null),t.state.viewport&&t.state.viewport.propDep&&(r=!0),Z(e,n,t),H(e,n,t.state,(function(e){return!s(e)})),t.profile&&s(t.profile)||K(e,n,t,!1,"a1"),t.contextDep=r,t.needsContext=i,t.needsFramebuffer=a;var u=t.shader.progVar;if(u.contextDep&&r||u.propDep)ie(e,n,t,null);else{var l=u.append(e,n);if(n(e.shared.gl,".useProgram(",l,".program);"),t.shader.program)ie(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var c=e.global.def("{}"),f=n.def(l,".id"),d=n.def(c,"[",f,"]");n(e.cond(d).then(d,".call(this,a0,a1);").else(d,"=",c,"[",f,"]=",e.link((function(n){return Q(ie,e,t,n,2)})),"(",l,");",d,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;")}function ae(e,t){var r=e.proc("scope",3);e.batchId="a2";var i=e.shared,o=i.current;function a(n){var o=t.shader[n];o&&r.set(i.shader,"."+n,o.append(e,r))}U(e,r,t.context),t.framebuffer&&t.framebuffer.append(e,r),is(Object.keys(t.state)).forEach((function(n){var o=t.state[n].append(e,r);fn(o)?o.forEach((function(t,i){r.set(e.next[n],"["+i+"]",t)})):r.set(i.next,"."+n,o)})),K(e,r,t,!0,!0),[Uo,Ho,Zo,Xo,Wo].forEach((function(n){var o=t.draw[n];o&&r.set(i.draw,"."+n,""+o.append(e,r))})),Object.keys(t.uniforms).forEach((function(o){var a=t.uniforms[o].append(e,r);Array.isArray(a)&&(a="["+a.join()+"]"),r.set(i.uniforms,"["+n.id(o)+"]",a)})),Object.keys(t.attributes).forEach((function(n){var i=t.attributes[n].append(e,r),o=e.scopeAttrib(n);Object.keys(new v).forEach((function(e){r.set(o,"."+e,i[e])}))})),t.scopeVAO&&r.set(i.vao,".targetVAO",t.scopeVAO.append(e,r)),a(Go),a(Vo),Object.keys(t.state).length>0&&(r(o,".dirty=true;"),r.exit(o,".dirty=true;")),r("a1(",e.shared.context,",a0,",e.batchId,");")}function se(e){if("object"===typeof e&&!fn(e)){for(var t=Object.keys(e),n=0;n<t.length;++n)if(pe.isDynamic(e[t[n]]))return!0;return!1}}function ue(e,t,n){var r=t.static[n];if(r&&se(r)){var i=e.global,o=Object.keys(r),a=!1,s=!1,u=!1,l=e.global.def("{}");o.forEach((function(t){var n=r[t];if(pe.isDynamic(n)){"function"===typeof n&&(n=r[t]=pe.unbox(n));var o=us(n,null);a=a||o.thisDep,u=u||o.propDep,s=s||o.contextDep}else{switch(i(l,".",t,"="),typeof n){case"number":i(n);break;case"string":i('"',n,'"');break;case"object":Array.isArray(n)&&i("[",n.join(),"]");break;default:i(e.link(n))}i(";")}})),t.dynamic[n]=new pe.DynamicVariable(lo,{thisDep:a,contextDep:s,propDep:u,ref:l,append:c}),delete t.static[n]}function c(e,t){o.forEach((function(n){var i=r[n];if(pe.isDynamic(i)){var o=e.invoke(t,i);t(l,".",n,"=",o,";")}}))}}function le(e,n,r,i,o){var a=P();a.stats=a.link(o),Object.keys(n.static).forEach((function(e){ue(a,n,e)})),oa.forEach((function(t){ue(a,e,t)}));var s=V(e,n,r,i,a);return te(a,s),ae(a,s),oe(a,s),t(a.compile(),{destroy:function(){s.shader.program.destroy()}})}return{next:w,current:x,procs:function(){var e=P(),t=e.proc("poll"),n=e.proc("refresh"),o=e.block();t(o),n(o);var a,s=e.shared,u=s.gl,l=s.next,c=s.current;o(c,".dirty=false;"),W(e,t),W(e,n,null,!0),y&&(a=e.link(y)),r.oes_vertex_array_object&&n(e.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var f=0;f<i.maxAttributes;++f){var d=n.def(s.attributes,"[",f,"]"),h=e.cond(d,".buffer");h.then(u,".enableVertexAttribArray(",f,");",u,".bindBuffer(",aa,",",d,".buffer.buffer);",u,".vertexAttribPointer(",f,",",d,".size,",d,".type,",d,".normalized,",d,".stride,",d,".offset);").else(u,".disableVertexAttribArray(",f,");",u,".vertexAttrib4f(",f,",",d,".x,",d,".y,",d,".z,",d,".w);",d,".buffer=null;"),n(h),y&&n(a,".vertexAttribDivisorANGLE(",f,",",d,".divisor);")}return n(e.shared.vao,".currentVAO=null;",e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"),Object.keys(S).forEach((function(r){var i=S[r],a=o.def(l,".",r),s=e.block();s("if(",a,"){",u,".enable(",i,")}else{",u,".disable(",i,")}",c,".",r,"=",a,";"),n(s),t("if(",a,"!==",c,".",r,"){",s,"}")})),Object.keys(_).forEach((function(r){var i,a,s=_[r],f=x[r],d=e.block();if(d(u,".",s,"("),fn(f)){var h=f.length;i=e.global.def(l,".",r),a=e.global.def(c,".",r),d(ke(h,(function(e){return i+"["+e+"]"})),");",ke(h,(function(e){return a+"["+e+"]="+i+"["+e+"];"})).join("")),t("if(",ke(h,(function(e){return i+"["+e+"]!=="+a+"["+e+"]"})).join("||"),"){",d,"}")}else i=o.def(l,".",r),a=o.def(c,".",r),d(i,");",c,".",r,"=",i,";"),t("if(",i,"!==",a,"){",d,"}");n(d)})),e.compile()}(),compile:le}}function fs(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var ds=34918,hs=34919,ps=35007,gs=function(e,t){if(!t.ext_disjoint_timer_query)return null;var n=[];function r(){return n.pop()||t.ext_disjoint_timer_query.createQueryEXT()}function i(e){n.push(e)}var o=[];function a(e){var n=r();t.ext_disjoint_timer_query.beginQueryEXT(ps,n),o.push(n),h(o.length-1,o.length,e)}function s(){t.ext_disjoint_timer_query.endQueryEXT(ps)}function u(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var l=[];function c(){return l.pop()||new u}function f(e){l.push(e)}var d=[];function h(e,t,n){var r=c();r.startQueryIndex=e,r.endQueryIndex=t,r.sum=0,r.stats=n,d.push(r)}var p=[],g=[];function v(){var e,n,r=o.length;if(0!==r){g.length=Math.max(g.length,r+1),p.length=Math.max(p.length,r+1),p[0]=0,g[0]=0;var a=0;for(e=0,n=0;n<o.length;++n){var s=o[n];t.ext_disjoint_timer_query.getQueryObjectEXT(s,hs)?(a+=t.ext_disjoint_timer_query.getQueryObjectEXT(s,ds),i(s)):o[e++]=s,p[n+1]=a,g[n+1]=e}for(o.length=e,e=0,n=0;n<d.length;++n){var u=d[n],l=u.startQueryIndex,c=u.endQueryIndex;u.sum+=p[c]-p[l];var h=g[l],v=g[c];v===h?(u.stats.gpuTime+=u.sum/1e6,f(u)):(u.startQueryIndex=h,u.endQueryIndex=v,d[e++]=u)}d.length=e}}return{beginQuery:a,endQuery:s,pushScopeStats:h,update:v,getNumPendingQueries:function(){return o.length},clear:function(){n.push.apply(n,o);for(var e=0;e<n.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(n[e]);o.length=0,n.length=0},restore:function(){o.length=0,n.length=0}}},vs=16384,ms=256,ys=1024,bs=34962,xs="webglcontextlost",ws="webglcontextrestored",Es=1,Ss=2,_s=3;function Ts(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function ks(e){var n=_e(e);if(!n)return null;var r=n.gl,i=r.getContextAttributes(),o=r.isContextLost(),a=Te(r,n);if(!a)return null;var s=me(),u=fs(),l=a.extensions,c=gs(r,l),f=ve(),d=r.drawingBufferWidth,h=r.drawingBufferHeight,p={tick:0,time:0,viewportWidth:d,viewportHeight:h,framebufferWidth:d,framebufferHeight:h,drawingBufferWidth:d,drawingBufferHeight:h,pixelRatio:n.pixelRatio},g={},v={elements:null,primitive:4,count:-1,offset:0,instances:-1},m=Et(r,l),y=Wt(r,u,n,x),b=Yi(r,l,m,u,y);function x(e){return b.destroyBuffer(e)}var w=an(r,l,y,u),E=Zi(r,s,u,n),S=Kr(r,l,m,(function(){k.procs.poll()}),p,u,n),_=li(r,l,m,u,n),T=ji(r,l,m,S,_,u),k=cs(r,s,l,m,y,w,S,T,g,b,E,v,p,c,n),C=Ji(r,T,k.procs.poll,p,i,l,m),M=k.next,A=r.canvas,N=[],P=[],I=[],D=[n.onDestroy],O=null;function R(){if(0===N.length)return c&&c.update(),void(O=null);O=ge.next(R),H();for(var e=N.length-1;e>=0;--e){var t=N[e];t&&t(p,null,0)}r.flush(),c&&c.update()}function L(){!O&&N.length>0&&(O=ge.next(R))}function j(){O&&(ge.cancel(R),O=null)}function B(e){e.preventDefault(),o=!0,j(),P.forEach((function(e){e()}))}function F(e){r.getError(),o=!1,a.restore(),E.restore(),y.restore(),S.restore(),_.restore(),T.restore(),b.restore(),c&&c.restore(),k.procs.refresh(),L(),I.forEach((function(e){e()}))}function z(){N.length=0,j(),A&&(A.removeEventListener(xs,B),A.removeEventListener(ws,F)),E.clear(),T.clear(),_.clear(),S.clear(),w.clear(),y.clear(),b.clear(),c&&c.clear(),D.forEach((function(e){e()}))}function Y(e){function n(e){var n=t({},e);function r(e){if(e in n){var t=n[e];delete n[e],Object.keys(t).forEach((function(r){n[e+"."+r]=t[r]}))}}return delete n.uniforms,delete n.attributes,delete n.context,delete n.vao,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),"vao"in e&&(n.vao=e.vao),n}function r(e,t){var n={},r={};return Object.keys(e).forEach((function(i){var o=e[i];if(pe.isDynamic(o))r[i]=pe.unbox(o,i);else{if(t&&Array.isArray(o))for(var a=0;a<o.length;++a)if(pe.isDynamic(o[a]))return void(r[i]=pe.unbox(o,i));n[i]=o}})),{dynamic:r,static:n}}ne(!!e,"invalid args to regl({...})"),ne.type(e,"object","invalid args to regl({...})");var i=r(e.context||{},!0),a=r(e.uniforms||{},!0),s=r(e.attributes||{},!1),u=r(n(e),!1),l={gpuTime:0,cpuTime:0,count:0},c=k.compile(u,s,a,i,l),f=c.draw,d=c.batch,h=c.scope,p=[];function g(e){for(;p.length<e;)p.push(null);return p}function v(e,t){var n;if(o&&ne.raise("context lost"),"function"===typeof e)return h.call(this,null,e,0);if("function"===typeof t)if("number"===typeof e)for(n=0;n<e;++n)h.call(this,null,t,n);else{if(!Array.isArray(e))return h.call(this,e,t,0);for(n=0;n<e.length;++n)h.call(this,e[n],t,n)}else if("number"===typeof e){if(e>0)return d.call(this,g(0|e),0|e)}else{if(!Array.isArray(e))return f.call(this,e);if(e.length)return d.call(this,e,e.length)}}return t(v,{stats:l,destroy:function(){c.destroy()}})}A&&(A.addEventListener(xs,B,!1),A.addEventListener(ws,F,!1));var G=T.setFBO=Y({framebuffer:pe.define.call(null,Es,"framebuffer")});function V(e,t){var n=0;k.procs.poll();var i=t.color;i&&(r.clearColor(+i[0]||0,+i[1]||0,+i[2]||0,+i[3]||0),n|=vs),"depth"in t&&(r.clearDepth(+t.depth),n|=ms),"stencil"in t&&(r.clearStencil(0|t.stencil),n|=ys),ne(!!n,"called regl.clear with no buffer specified"),r.clear(n)}function U(e){if(ne("object"===typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var n=0;n<6;++n)G(t({framebuffer:e.framebuffer.faces[n]},e),V);else G(e,V);else V(null,e)}function W(e){function t(){var t=Ts(N,e);function n(){var e=Ts(N,n);N[e]=N[N.length-1],N.length-=1,N.length<=0&&j()}ne(t>=0,"cannot cancel a frame twice"),N[t]=n}return ne.type(e,"function","regl.frame() callback must be a function"),N.push(e),L(),{cancel:t}}function Z(){var e=M.viewport,t=M.scissor_box;e[0]=e[1]=t[0]=t[1]=0,p.viewportWidth=p.framebufferWidth=p.drawingBufferWidth=e[2]=t[2]=r.drawingBufferWidth,p.viewportHeight=p.framebufferHeight=p.drawingBufferHeight=e[3]=t[3]=r.drawingBufferHeight}function H(){p.tick+=1,p.time=K(),Z(),k.procs.poll()}function X(){S.refresh(),Z(),k.procs.refresh(),c&&c.update()}function K(){return(ve()-f)/1e3}function q(e,t){var n;switch(ne.type(t,"function","listener callback must be a function"),e){case"frame":return W(t);case"lost":n=P;break;case"restore":n=I;break;case"destroy":n=D;break;default:ne.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(t),{cancel:function(){for(var e=0;e<n.length;++e)if(n[e]===t)return n[e]=n[n.length-1],void n.pop()}}}X();var J=t(Y,{clear:U,prop:pe.define.bind(null,Es),context:pe.define.bind(null,Ss),this:pe.define.bind(null,_s),draw:Y({}),buffer:function(e){return y.create(e,bs,!1,!1)},elements:function(e){return w.create(e,!1)},texture:S.create2D,cube:S.createCube,renderbuffer:_.create,framebuffer:T.create,framebufferCube:T.createCube,vao:b.createVAO,attributes:i,frame:W,on:q,limits:m,hasExtension:function(e){return m.extensions.indexOf(e.toLowerCase())>=0},read:C,destroy:z,_gl:r,_refresh:X,poll:function(){H(),c&&c.update()},now:K,stats:u});return n.onDone(null,J),J}return ks}()},6813:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,c=null,f=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(f,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,v=null,m=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();b=e+y;try{v(!0,e)?w.postMessage(null):(g=!1,v=null)}catch(n){throw w.postMessage(null),n}}else g=!1},n=function(e){v=e,g||(g=!0,w.postMessage(null))},r=function(e,n){m=d((function(){e(t.unstable_now())}),n)},i=function(){h(m),m=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>T(a,n))void 0!==u&&0>T(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>T(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],C=[],M=1,A=null,N=3,P=!1,I=!1,D=!1;function O(e){for(var t=S(C);null!==t;){if(null===t.callback)_(C);else{if(!(t.startTime<=e))break;_(C),t.sortIndex=t.expirationTime,E(k,t)}t=S(C)}}function R(e){if(D=!1,O(e),!I)if(null!==S(k))I=!0,n(L);else{var t=S(C);null!==t&&r(R,t.startTime-e)}}function L(e,n){I=!1,D&&(D=!1,i()),P=!0;var o=N;try{for(O(n),A=S(k);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=A.callback;if("function"===typeof a){A.callback=null,N=A.priorityLevel;var s=a(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?A.callback=s:A===S(k)&&_(k),O(n)}else _(k);A=S(k)}if(null!==A)var u=!0;else{var l=S(C);null!==l&&r(R,l.startTime-n),u=!1}return u}finally{A=null,N=o,P=!1}}var j=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){I||P||(I=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return S(k)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:M++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,E(C,e),null===S(k)&&e===S(C)&&(D?i():D=!0,r(R,a-s))):(e.sortIndex=u,E(k,e),I||P||(I=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var l=o[u];if(!s(l))return!1;var c=e[l],f=t[l];if(!1===(i=n?n.call(r,c,f,l):void 0)||void 0===i&&c!==f)return!1}return!0}},5114:function(e,t,n){"use strict";var r=n(423),i=Array.prototype.concat,o=Array.prototype.slice,a=e.exports=function(e){for(var t=[],n=0,a=e.length;n<a;n++){var s=e[n];r(s)?t=i.call(t,o.call(s)):t.push(s)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},423:function(e){e.exports=function(e){return!(!e||"string"===typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},7045:function(e,t,n){var r;!function(i){var o=/^\s+/,a=/\s+$/,s=0,u=i.round,l=i.min,c=i.max,f=i.random;function d(e,t){if(t=t||{},(e=e||"")instanceof d)return e;if(!(this instanceof d))return new d(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,u=null,f=!1,d=!1;"string"==typeof e&&(e=function(e){e=e.replace(o,"").replace(a,"").toLowerCase();var t,n=!1;if(N[e])e=N[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=z.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=z.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=z.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=z.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=z.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=z.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=z.hex8.exec(e))return{r:R(t[1]),g:R(t[2]),b:R(t[3]),a:F(t[4]),format:n?"name":"hex8"};if(t=z.hex6.exec(e))return{r:R(t[1]),g:R(t[2]),b:R(t[3]),format:n?"name":"hex"};if(t=z.hex4.exec(e))return{r:R(t[1]+""+t[1]),g:R(t[2]+""+t[2]),b:R(t[3]+""+t[3]),a:F(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=z.hex3.exec(e))return{r:R(t[1]+""+t[1]),g:R(t[2]+""+t[2]),b:R(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(Y(e.r)&&Y(e.g)&&Y(e.b)?(h=e.r,p=e.g,g=e.b,t={r:255*D(h,255),g:255*D(p,255),b:255*D(g,255)},f=!0,d="%"===String(e.r).substr(-1)?"prgb":"rgb"):Y(e.h)&&Y(e.s)&&Y(e.v)?(r=j(e.s),s=j(e.v),t=function(e,t,n){e=6*D(e,360),t=D(t,100),n=D(n,100);var r=i.floor(e),o=e-r,a=n*(1-t),s=n*(1-o*t),u=n*(1-(1-o)*t),l=r%6;return{r:255*[n,s,a,a,u,n][l],g:255*[u,n,n,s,a,a][l],b:255*[a,a,u,n,n,s][l]}}(e.h,r,s),f=!0,d="hsv"):Y(e.h)&&Y(e.s)&&Y(e.l)&&(r=j(e.s),u=j(e.l),t=function(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=D(e,360),t=D(t,100),n=D(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;r=a(u,s,e+1/3),i=a(u,s,e),o=a(u,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,u),f=!0,d="hsl"),e.hasOwnProperty("a")&&(n=e.a));var h,p,g;return n=I(n),{ok:f,format:e.format||d,r:l(255,c(t.r,0)),g:l(255,c(t.g,0)),b:l(255,c(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=u(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=u(this._r)),this._g<1&&(this._g=u(this._g)),this._b<1&&(this._b=u(this._b)),this._ok=n.ok,this._tc_id=s++}function h(e,t,n){e=D(e,255),t=D(t,255),n=D(n,255);var r,i,o=c(e,t,n),a=l(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var u=o-a;switch(i=s>.5?u/(2-o-a):u/(o+a),o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,l:s}}function p(e,t,n){e=D(e,255),t=D(t,255),n=D(n,255);var r,i,o=c(e,t,n),a=l(e,t,n),s=o,u=o-a;if(i=0===o?0:u/o,o==a)r=0;else{switch(o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,v:s}}function g(e,t,n,r){var i=[L(u(e).toString(16)),L(u(t).toString(16)),L(u(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function v(e,t,n,r){return[L(B(r)),L(u(e).toString(16)),L(u(t).toString(16)),L(u(n).toString(16))].join("")}function m(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s-=t/100,n.s=O(n.s),d(n)}function y(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s+=t/100,n.s=O(n.s),d(n)}function b(e){return d(e).desaturate(100)}function x(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l+=t/100,n.l=O(n.l),d(n)}function w(e,t){t=0===t?0:t||10;var n=d(e).toRgb();return n.r=c(0,l(255,n.r-u(-t/100*255))),n.g=c(0,l(255,n.g-u(-t/100*255))),n.b=c(0,l(255,n.b-u(-t/100*255))),d(n)}function E(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l-=t/100,n.l=O(n.l),d(n)}function S(e,t){var n=d(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,d(n)}function _(e){var t=d(e).toHsl();return t.h=(t.h+180)%360,d(t)}function T(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+120)%360,s:t.s,l:t.l}),d({h:(n+240)%360,s:t.s,l:t.l})]}function k(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+90)%360,s:t.s,l:t.l}),d({h:(n+180)%360,s:t.s,l:t.l}),d({h:(n+270)%360,s:t.s,l:t.l})]}function C(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+72)%360,s:t.s,l:t.l}),d({h:(n+216)%360,s:t.s,l:t.l})]}function M(e,t,n){t=t||6,n=n||30;var r=d(e).toHsl(),i=360/n,o=[d(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(d(r));return o}function A(e,t){t=t||6;for(var n=d(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(d({h:r,s:i,v:o})),o=(o+s)%1;return a}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=I(e),this._roundA=u(100*this._a)/100,this},toHsv:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=p(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=h(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return g(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var o=[L(u(e).toString(16)),L(u(t).toString(16)),L(u(n).toString(16)),L(B(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+u(this._r)+", "+u(this._g)+", "+u(this._b)+")":"rgba("+u(this._r)+", "+u(this._g)+", "+u(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:u(100*D(this._r,255))+"%",g:u(100*D(this._g,255))+"%",b:u(100*D(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+u(100*D(this._r,255))+"%, "+u(100*D(this._g,255))+"%, "+u(100*D(this._b,255))+"%)":"rgba("+u(100*D(this._r,255))+"%, "+u(100*D(this._g,255))+"%, "+u(100*D(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(P[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+v(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=d(e);n="#"+v(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(w,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(S,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(M,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination(A,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(T,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},d.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:j(e[r]));e=n}return d(e,t)},d.equals=function(e,t){return!(!e||!t)&&d(e).toRgbString()==d(t).toRgbString()},d.random=function(){return d.fromRatio({r:f(),g:f(),b:f()})},d.mix=function(e,t,n){n=0===n?0:n||50;var r=d(e).toRgb(),i=d(t).toRgb(),o=n/100;return d({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},d.readability=function(e,t){var n=d(e),r=d(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},d.isReadable=function(e,t,n){var r,i,o=d.readability(e,t);switch(i=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},d.mostReadable=function(e,t,n){var r,i,o,a,s=null,u=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var l=0;l<t.length;l++)(r=d.readability(e,t[l]))>u&&(u=r,s=d(t[l]));return d.isReadable(e,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,d.mostReadable(e,["#fff","#000"],n))};var N=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=d.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(N);function I(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function D(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!=e.indexOf("%")}(e);return e=l(t,c(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function O(e){return l(1,c(0,e))}function R(e){return parseInt(e,16)}function L(e){return 1==e.length?"0"+e:""+e}function j(e){return e<=1&&(e=100*e+"%"),e}function B(e){return i.round(255*parseFloat(e)).toString(16)}function F(e){return R(e)/255}var z=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Y(e){return!!z.CSS_UNIT.exec(e)}e.exports?e.exports=d:void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}(Math)},9388:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return o},__asyncDelegator:function(){return w},__asyncGenerator:function(){return x},__asyncValues:function(){return E},__await:function(){return b},__awaiter:function(){return c},__classPrivateFieldGet:function(){return C},__classPrivateFieldSet:function(){return M},__createBinding:function(){return d},__decorate:function(){return s},__exportStar:function(){return h},__extends:function(){return i},__generator:function(){return f},__importDefault:function(){return k},__importStar:function(){return T},__makeTemplateObject:function(){return S},__metadata:function(){return l},__param:function(){return u},__read:function(){return g},__rest:function(){return a},__spread:function(){return v},__spreadArray:function(){return y},__spreadArrays:function(){return m},__values:function(){return p}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var d=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function h(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||d(t,e,n)}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function x(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(e){s("next",e)}function l(e){s("throw",e)}function c(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var _=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&d(t,e,n);return _(t,e),t}function k(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function M(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}},6210:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}},4062:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1120);var i=n(2963);function o(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,r.Z)(e);if(t){var a=(0,r.Z)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(0,i.Z)(this,n)}}},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},9340:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}n.d(t,{Z:function(){return i}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},2963:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1002),i=n(7326);function o(e,t){if(t&&("object"===(0,r.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(3878);var i=n(181),o=n(5267);function a(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||(0,i.Z)(e,t)||(0,o.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(6210);var i=n(9199),o=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(6210);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".c1112931.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="app:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+o){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/DMBLiteratureWebsite/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<a.length;l++)o=a[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkapp=self.webpackChunkapp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{GADDI:function(){return fo},Stack:function(){return po},breadthFirstSearch:function(){return ni},connectedComponent:function(){return ii},cosineSimilarity:function(){return Ri},default:function(){return vo},depthFirstSearch:function(){return ci},detectAllCycles:function(){return hi},detectAllDirectedCycle:function(){return di},detectAllUndirectedCycle:function(){return fi},detectCycle:function(){return pi},detectDirectedCycle:function(){return go},dijkstra:function(){return gi},findAllPath:function(){return bi},findShortestPath:function(){return yi},floydWarshall:function(){return xi},getAdjMatrix:function(){return Zr},getDegree:function(){return ai},getInDegree:function(){return si},getNeighbors:function(){return Qr},getOutDegree:function(){return ui},iLouvain:function(){return Pi},kCore:function(){return Ii},kMeans:function(){return Oi},labelPropagation:function(){return wi},louvain:function(){return Ni},minimumSpanningTree:function(){return Ui},nodesCosineSimilarity:function(){return Li},pageRank:function(){return Wi}});var t={};n.r(t),n.d(t,{Line:function(){return Jo},applyMatrix:function(){return Ro},compare:function(){return Ao},distance:function(){return Bo},floydWarshall:function(){return zo},fractionToLine:function(){return ta},getAdjMatrix:function(){return Yo},getBBoxBoundLine:function(){return $o},getCircleCenterByPoints:function(){return jo},getCircleIntersectByPoint:function(){return Do},getDegree:function(){return Zo},getEllipseIntersectByPoint:function(){return Oo},getLineIntersect:function(){return Po},getPointsCenter:function(){return na},getRectIntersectByPoint:function(){return Io},intersectBBox:function(){return Ko},invertMatrix:function(){return Lo},isPointInPolygon:function(){return Xo},isPointsOverlap:function(){return oa},isPolygonsIntersect:function(){return qo},itemIntersectByLine:function(){return ea},lerp:function(){return ua},move:function(){return Vo},pointLineDistance:function(){return sa},pointLineSquareDist:function(){return ia},pointRectSquareDist:function(){return aa},rotate:function(){return Wo},scale:function(){return Uo},scaleMatrix:function(){return Fo},squareDist:function(){return ra},translate:function(){return Go}});var r={};n.r(r),n.d(r,{cloneBesidesImg:function(){return Ba},getBBox:function(){return Ta},getComboBBox:function(){return La},getLabelPosition:function(){return Ca},getLetterWidth:function(){return Ia},getLoopCfgs:function(){return ka},getTextSize:function(){return Da},plainCombosToTrees:function(){return Oa},reconstructTree:function(){return Ra},shouldRefreshEdge:function(){return ja},traverseTree:function(){return Na},traverseTreeUp:function(){return Pa}});var i={};n.r(i),n.d(i,{catmullRomToBezier:function(){return Za},fillPath:function(){return ps},fillPathByDiff:function(){return ms},formatPath:function(){return xs},intersection:function(){return fs},parsePathArray:function(){return es},parsePathString:function(){return Wa},pathToAbsolute:function(){return Xa},pathToCurve:function(){return $a},rectPath:function(){return as}});var o={};n.r(o),n.d(o,{easeBack:function(){return Du},easeBackIn:function(){return Pu},easeBackInOut:function(){return Du},easeBackOut:function(){return Iu},easeBounce:function(){return Mu},easeBounceIn:function(){return Cu},easeBounceInOut:function(){return Au},easeBounceOut:function(){return Mu},easeCircle:function(){return _u},easeCircleIn:function(){return Eu},easeCircleInOut:function(){return _u},easeCircleOut:function(){return Su},easeCubic:function(){return lu},easeCubicIn:function(){return su},easeCubicInOut:function(){return lu},easeCubicOut:function(){return uu},easeElastic:function(){return Lu},easeElasticIn:function(){return Ru},easeElasticInOut:function(){return ju},easeElasticOut:function(){return Lu},easeExp:function(){return wu},easeExpIn:function(){return bu},easeExpInOut:function(){return wu},easeExpOut:function(){return xu},easeLinear:function(){return ru},easePoly:function(){return du},easePolyIn:function(){return cu},easePolyInOut:function(){return du},easePolyOut:function(){return fu},easeQuad:function(){return au},easeQuadIn:function(){return iu},easeQuadInOut:function(){return au},easeQuadOut:function(){return ou},easeSin:function(){return mu},easeSinIn:function(){return gu},easeSinInOut:function(){return mu},easeSinOut:function(){return vu}});var a={};n.r(a),n.d(a,{calculationItemsBBox:function(){return nf},cloneEvent:function(){return Qc},formatPadding:function(){return $c},isNaN:function(){return tf},isViewportChanged:function(){return ef},processParallelEdges:function(){return rf},uniqueId:function(){return Jc}});var s={};n.r(s),n.d(s,{getClosedSpline:function(){return Qf},getControlPoint:function(){return qf},getSpline:function(){return Kf},paddedHull:function(){return id},pathToPoints:function(){return $f},pointsToPolygon:function(){return Jf},roundedHull:function(){return rd}});var u={};n.r(u),n.d(u,{defaultSubjectColors:function(){return Fd}});var l={};n.r(l),n.d(l,{Base:function(){return Rh},Circle:function(){return jh},Ellipse:function(){return zh},Image:function(){return Vh},Line:function(){return Zh},Marker:function(){return Kh},Path:function(){return op},Polygon:function(){return up},Polyline:function(){return cp},Rect:function(){return dp},Text:function(){return pp}});var c={};n.r(c),n.d(c,{Base:function(){return Ip},Circle:function(){return Op},Dom:function(){return Lp},Ellipse:function(){return Bp},Image:function(){return zp},Line:function(){return Gp},Marker:function(){return Zp},Path:function(){return Xp},Polygon:function(){return qp},Polyline:function(){return $p},Rect:function(){return eg},Text:function(){return og}});var f={};n.r(f),n.d(f,{getColorSetsBySubjectColors:function(){return zg},getColorsWithSubjectColor:function(){return Fg},mixColor:function(){return Bg}});var d={};n.r(d),n.d(d,{arrayToTextureData:function(){return iv},attributesToTextureData:function(){return rv},buildTextureData:function(){return ev},buildTextureDataWithOneEdgeAttr:function(){return tv},buildTextureDataWithTwoEdgeAttr:function(){return nv},proccessToFunc:function(){return Qg},radialLayout:function(){return ov}});var h={};n.r(h),n.d(h,{gpuDetector:function(){return av}});var p={};n.r(p),n.d(p,{assign:function(){return Om},default:function(){return ey},defaultI18n:function(){return Bm},format:function(){return $m},parse:function(){return Qm},setGlobalDateI18n:function(){return zm},setGlobalDateMasks:function(){return Jm}});var g={};n.r(g),n.d(g,{handleAutoZoom:function(){return lE},handleChangeZoom:function(){return sE},handleRealZoom:function(){return uE},handleZoomIn:function(){return aE},handleZoomOut:function(){return oE}});var v={};n.r(v),n.d(v,{focusNodeById:function(){return fE},highlightNodeById:function(){return cE}});var m=n(2791),y=n(4164);function b(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function x(e){return!!e&&!!e[le]}function w(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ce}(e)||Array.isArray(e)||!!e[ue]||!!e.constructor[ue]||M(e)||A(e))}function E(e,t,n){void 0===n&&(n=!1),0===S(e)?(n?Object.keys:fe)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function S(e){var t=e[le];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:M(e)?2:A(e)?3:0}function _(e,t){return 2===S(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function T(e,t){return 2===S(e)?e.get(t):e[t]}function k(e,t,n){var r=S(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function C(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function M(e){return ie&&e instanceof Map}function A(e){return oe&&e instanceof Set}function N(e){return e.o||e.t}function P(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=de(e);delete t[le];for(var n=fe(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function I(e,t){return void 0===t&&(t=!1),O(e)||x(e)||!w(e)||(S(e)>1&&(e.set=e.add=e.clear=e.delete=D),Object.freeze(e),t&&E(e,(function(e,t){return I(t,!0)}),!0)),e}function D(){b(2)}function O(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function R(e){var t=he[e];return t||b(18,e),t}function L(e,t){he[e]||(he[e]=t)}function j(){return ne}function B(e,t){t&&(R("Patches"),e.u=[],e.s=[],e.v=t)}function F(e){z(e),e.p.forEach(G),e.p=null}function z(e){e===ne&&(ne=e.l)}function Y(e){return ne={p:[],l:ne,h:e,m:!0,_:0}}function G(e){var t=e[le];0===t.i||1===t.i?t.j():t.O=!0}function V(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||R("ES5").S(t,e,r),r?(n[le].P&&(F(t),b(4)),w(e)&&(e=U(t,e),t.l||Z(t,e)),t.u&&R("Patches").M(n[le].t,e,t.u,t.s)):e=U(t,n,[]),F(t),t.u&&t.v(t.u,t.s),e!==se?e:void 0}function U(e,t,n){if(O(t))return t;var r=t[le];if(!r)return E(t,(function(i,o){return W(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Z(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=P(r.k):r.o;E(3===r.i?new Set(i):i,(function(t,o){return W(e,r,i,t,o,n)})),Z(e,i,!1),n&&e.u&&R("Patches").R(r,n,e.u,e.s)}return r.o}function W(e,t,n,r,i,o){if(x(i)){var a=U(e,i,o&&t&&3!==t.i&&!_(t.D,r)?o.concat(r):void 0);if(k(n,r,a),!x(a))return;e.m=!1}if(w(i)&&!O(i)){if(!e.h.F&&e._<1)return;U(e,i),t&&t.A.l||Z(e,i)}}function Z(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&I(t,n)}function H(e,t){var n=e[le];return(n?N(n):e)[t]}function X(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function K(e){e.P||(e.P=!0,e.l&&K(e.l))}function q(e){e.o||(e.o=P(e.t))}function J(e,t,n){var r=M(t)?R("MapSet").N(t,n):A(t)?R("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:j(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=pe;n&&(i=[r],o=ge);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return r.k=u,r.j=s,u}(t,n):R("ES5").J(t,n);return(n?n.A:j()).p.push(r),r}function $(e){return x(e)||b(22,e),function e(t){if(!w(t))return t;var n,r=t[le],i=S(t);if(r){if(!r.P&&(r.i<4||!R("ES5").K(r)))return r.t;r.I=!0,n=Q(t,i),r.I=!1}else n=Q(t,i);return E(n,(function(t,i){r&&T(r.t,t)===i||k(n,t,e(i))})),3===i?new Set(n):n}(e)}function Q(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return P(e)}function ee(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[le];return pe.get(t,e)},set:function(t){var n=this[le];pe.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][le];if(!i.P)switch(i.i){case 5:r(i)&&K(i);break;case 4:n(i)&&K(i)}}}function n(e){for(var t=e.t,n=e.k,r=fe(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==le){var a=t[o];if(void 0===a&&!_(t,o))return!0;var s=n[o],u=s&&s[le];if(u?u.t!==a:!C(s,a))return!0}}var l=!!t[le];return r.length!==fe(t).length+(l?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};L("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=de(n);delete o[le];for(var a=fe(o),s=0;s<a.length;s++){var u=a[s];o[u]=e(u,t||!!o[u].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:j(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,le,{value:o,writable:!0}),i},S:function(e,n,i){i?x(n)&&n[le].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[le];if(n){var i=n.t,o=n.k,a=n.D,s=n.i;if(4===s)E(o,(function(t){t!==le&&(void 0!==i[t]||_(i,t)?a[t]||e(o[t]):(a[t]=!0,K(n)))})),E(i,(function(e){void 0!==o[e]||_(o,e)||(a[e]=!1,K(n))}));else if(5===s){if(r(n)&&(K(n),a.length=!0),o.length<i.length)for(var u=o.length;u<i.length;u++)a[u]=!1;else for(var l=i.length;l<o.length;l++)a[l]=!0;for(var c=Math.min(o.length,i.length),f=0;f<c;f++)o.hasOwnProperty(f)||(a[f]=!0),void 0===a[f]&&e(o[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var te,ne,re="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ie="undefined"!=typeof Map,oe="undefined"!=typeof Set,ae="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,se=re?Symbol.for("immer-nothing"):((te={})["immer-nothing"]=!0,te),ue=re?Symbol.for("immer-draftable"):"__$immer_draftable",le=re?Symbol.for("immer-state"):"__$immer_state",ce=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),fe="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,de=Object.getOwnPropertyDescriptors||function(e){var t={};return fe(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},he={},pe={get:function(e,t){if(t===le)return e;var n=N(e);if(!_(n,t))return function(e,t,n){var r,i=X(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!w(r)?r:r===H(e.t,t)?(q(e),e.o[t]=J(e.A.h,r,e)):r},has:function(e,t){return t in N(e)},ownKeys:function(e){return Reflect.ownKeys(N(e))},set:function(e,t,n){var r=X(N(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=H(N(e),t),o=null==i?void 0:i[le];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(C(n,i)&&(void 0!==n||_(e.t,t)))return!0;q(e),K(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==H(e.t,t)||t in e.t?(e.D[t]=!1,q(e),K(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=N(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){b(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){b(12)}},ge={};E(pe,(function(e,t){ge[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ge.deleteProperty=function(e,t){return ge.set.call(this,e,t,void 0)},ge.set=function(e,t,n){return pe.set.call(this,e[0],t,n,e[0])};var ve=function(){function e(e){var t=this;this.g=ae,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&b(6),void 0!==r&&"function"!=typeof r&&b(7),w(e)){var s=Y(t),u=J(t,e,void 0),l=!0;try{a=n(u),l=!1}finally{l?F(s):z(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return B(s,r),V(e,s)}),(function(e){throw F(s),e})):(B(s,r),V(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===se&&(a=void 0),t.F&&I(a,!0),r){var c=[],f=[];R("Patches").M(e,a,c,f),r(c,f)}return a}b(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){w(e)||b(8),x(e)&&(e=$(e));var t=Y(this),n=J(this,e,void 0);return n[le].C=!0,z(t),n},t.finishDraft=function(e,t){var n=(e&&e[le]).A;return B(n,t),V(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!ae&&b(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=R("Patches").$;return x(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),me=new ve,ye=me.produce,be=(me.produceWithPatches.bind(me),me.setAutoFreeze.bind(me),me.setUseProxies.bind(me),me.applyPatches.bind(me),me.createDraft.bind(me),me.finishDraft.bind(me),ye),xe=n(4942);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,xe.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var _e="function"===typeof Symbol&&Symbol.observable||"@@observable",Te=function(){return Math.random().toString(36).substring(7).split("").join(".")},ke={INIT:"@@redux/INIT"+Te(),REPLACE:"@@redux/REPLACE"+Te(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Te()}};function Ce(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Me(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Se(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Se(1));return n(Me)(e,t)}if("function"!==typeof e)throw new Error(Se(2));var i=e,o=t,a=[],s=a,u=!1;function l(){s===a&&(s=a.slice())}function c(){if(u)throw new Error(Se(3));return o}function f(e){if("function"!==typeof e)throw new Error(Se(4));if(u)throw new Error(Se(5));var t=!0;return l(),s.push(e),function(){if(t){if(u)throw new Error(Se(6));t=!1,l();var n=s.indexOf(e);s.splice(n,1),a=null}}}function d(e){if(!Ce(e))throw new Error(Se(7));if("undefined"===typeof e.type)throw new Error(Se(8));if(u)throw new Error(Se(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}function h(e){if("function"!==typeof e)throw new Error(Se(10));i=e,d({type:ke.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Se(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[_e]=function(){return this},e}return d({type:ke.INIT}),(r={dispatch:d,subscribe:f,getState:c,replaceReducer:h})[_e]=p,r}function Ae(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:ke.INIT}))throw new Error(Se(12));if("undefined"===typeof n(void 0,{type:ke.PROBE_UNKNOWN_ACTION()}))throw new Error(Se(13))}))}(n)}catch(s){o=s}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var u=a[s],l=n[u],c=e[u],f=l(c,t);if("undefined"===typeof f){t&&t.type;throw new Error(Se(14))}i[u]=f,r=r||f!==c}return(r=r||a.length!==Object.keys(e).length)?i:e}}function Ne(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Pe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Se(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=Ne.apply(void 0,o)(n.dispatch),Ee(Ee({},n),{},{dispatch:r})}}}function Ie(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var De=Ie();De.withExtraArgument=Ie;var Oe=De,Re=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Le=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},je=Object.defineProperty,Be=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Fe=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable,Ye=function(e,t,n){return t in e?je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ge=function(e,t){for(var n in t||(t={}))Fe.call(t,n)&&Ye(e,n,t[n]);if(Be)for(var r=0,i=Be(t);r<i.length;r++){n=i[r];ze.call(t,n)&&Ye(e,n,t[n])}return e},Ve="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Ne:Ne.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Ue(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var We=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Re(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Le([void 0],e[0].concat(this)))):new(t.bind.apply(t,Le([void 0],e.concat(this))))},t}(Array);function Ze(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new We);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Oe.withExtraArgument(n.extraArgument)):r.push(Oe));0;return r}(e)}}function He(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Ge(Ge({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Xe(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Ke(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:be(e.initialState,(function(){})),i=e.reducers||{},o=Object.keys(i),a={},s={},u={};function l(){var t="function"===typeof e.extraReducers?Xe(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,o=t[1],a=void 0===o?[]:o,u=t[2],l=void 0===u?void 0:u,c=Ge(Ge({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,o="function"===typeof t?Xe(t):[t,n,r],a=o[0],s=o[1],u=o[2];if(function(e){return"function"===typeof e}(e))i=function(){return be(e(),(function(){}))};else{var l=be(e,(function(){}));i=function(){return l}}function c(e,t){void 0===e&&(e=i());var n=Le([a[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(x(e))return"undefined"===typeof(r=n(e,t))?e:r;if(w(e))return be(e,(function(e){return n(e,t)}));if("undefined"===typeof(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return c.getInitialState=i,c}(r,c,a,l)}return o.forEach((function(e){var n,r,o=i[e],l=t+"/"+e;"reducer"in o?(n=o.reducer,r=o.prepare):n=o,a[e]=n,s[l]=n,u[e]=r?He(l,r):He(l)})),{name:t,reducer:function(e,t){return n||(n=l()),n(e,t)},actions:u,caseReducers:a,getInitialState:function(){return n||(n=l()),n.getInitialState()}}}Object.assign;var qe,Je,$e,Qe,et,tt,nt="listenerMiddleware";He(nt+"/add"),He(nt+"/removeAll"),He(nt+"/remove");ee(),function(e){e.GraphData="Graph data",e.Images="Images",e.Other="Other",e.TabularStructured="Tabular / structured",e.Text="Text",e.TimeSeries="Time series",e.UserItemMatrix="User-item matrix",e.Video="Video",e.Any="Any"}(qe||(qe={})),function(e){e.DecisionRules="Decision Rules",e.DecisionTree="Decision Tree",e.Disentanglement="Disentanglement",e.FeatureImportance="Feature Importance",e.FeaturePlot="Feature plot",e.Graph="Graph",e.Heatmap="Heatmap",e.Localization="Localization",e.Other="Other",e.Prototypes="Prototypes",e.RepresentationSynthesis="Representation Synthesis",e.RepresentationVisualization="Representation Visualization",e.Text="Text",e.TimeSeries="Time series",e.UserItemMatrix="User-item matrix",e.WhiteBoxModel="White-box model"}(Je||(Je={})),function(e){e.ModelExplanation="Model Explanation",e.ModelInspection="Model Inspection",e.OutcomeExplanation="Outcome Explanation",e.TransparentBoxDesign="Transparent Box Design"}($e||($e={})),function(e){e.NeuralNetwork="(Deep) Neural Network",e.ModelAgnostic="Any (for a specific task); model-agnostic",e.Bayesian="Bayesian or Hierarchical Network",e.LogisticRegression="Logistic Regression",e.Other="Other",e.SupportVectorMachine="Support Vector Machine",e.TreeEnsemble="Tree Ensemble"}(Qe||(Qe={})),function(e){e.AnomalyDetections="Anomaly detection",e.Classification="Classification",e.Clustering="Clustering",e.Generation="Generation",e.Other="Other",e.PolicyLearning="Policy learning",e.QuestionAnswering="Question Answering",e.Recommendation="Recommendation",e.Regression="Regression",e.RepresntationLearning="Representation learning",e.Retrieval="Retrieval"}(et||(et={})),function(e){e.InterpretabilityPredictiveModel="Interpretability built into the predictive model",e.PostHocExplanation="Post-hoc explanation method",e.SupervisedExplanationTraining="Supervised explanation training"}(tt||(tt={}));var rt=function(e){return function(t){var n=!0;return t.forEach((function(t){it(e)(t)||(n=!1)})),n}},it=function(e){return function(t){return Object.values(e).includes(t)}},ot=JSON.parse('[{"Paper-ID":"ijcai/PanLLZ20","Title":"Explainable Recommendation via Interpretable Feature Mapping and Evaluation of Explainability.","url":"https://doi.org/10.24963/ijcai.2020/373","Year":"2020","Venue":"IJCAI","Authors":["Deng Pan","Xiangrui Li","Xin Li 0081","Dongxiao Zhu"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Disentanglement","Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/TuHW0HZ20","Title":"Select, Answer and Explain - Interpretable Multi-Hop Reading Comprehension over Multiple Documents.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/6441","Year":"2020","Venue":"AAAI","Authors":["Ming Tu","Kevin Huang 0002","Guangtao Wang","Jing Huang 0019","Xiaodong He 0002","Bowen Zhou"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Feature Importance","Localization"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/EsserRO20","Title":"A Disentangling Invertible Interpretation Network for Explaining Latent Representations.","url":"https://doi.org/10.1109/CVPR42600.2020.00924","Year":"2020","Venue":"CVPR","Authors":["Patrick Esser","Robin Rombach","Bj\xf6rn Ommer"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Representation learning"],"Type of Explanation":["Disentanglement","Representation Synthesis","Representation Visualization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icdm/LiuMWH0G20","Title":"LP-Explain - Local Pictorial Explanation for Outliers.","url":"https://doi.org/10.1109/ICDM50108.2020.00046","Year":"2020","Venue":"ICDM","Authors":["Haoyu Liu","Fenglong Ma","Yaqing Wang","Shibo He","Jiming Chen 0001","Jing Gao"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic"],"Type of Task":["Anomaly detection"],"Type of Explanation":["Feature plot"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iclr/TsangCLFZL20","Title":"Feature Interaction Interpretability - A Case for Explaining Ad-Recommendation Systems via Neural Interaction Detection.","url":"https://openreview.net/forum?id=BkgnhTEtDS","Year":"2020","Venue":"ICLR","Authors":["Michael Tsang","Dehua Cheng","Hanpeng Liu","Xue Feng","Eric Zhou","Yan Liu 0002"],"Type of Data":["Images","Text","Graph data","Any"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification","Recommendation"],"Type of Explanation":["Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/RiegerSMY20","Title":"Interpretations are Useful - Penalizing Explanations to Align Neural Networks with Prior Knowledge.","url":"http://proceedings.mlr.press/v119/rieger20a.html","Year":"2020","Venue":"ICML","Authors":["Laura Rieger","Chandan Singh","W. James Murdoch","Bin Yu"],"Type of Data":["Tabular / structured","Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/PanHLZL20","Title":"xGAIL - Explainable Generative Adversarial Imitation Learning for Explainable Human Decision Analysis.","url":"https://doi.org/10.1145/3394486.3403186","Year":"2020","Venue":"KDD","Authors":["Menghai Pan","Weixiao Huang","Yanhua Li","Xun Zhou","Jun Luo 0007"],"Type of Data":["Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Policy learning"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/PalejaSCG20","Title":"Interpretable and Personalized Apprenticeship Scheduling - Learning Interpretable Scheduling Policies from Heterogeneous User Demonstrations.","url":"https://proceedings.neurips.cc/paper/2020/hash/477bdb55b231264bb53a7942fd84254d-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Rohan R. Paleja","Andrew Silva","Letian Chen","Matthew C. Gombolay"],"Type of Data":["Graph data","Other"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Policy learning"],"Type of Explanation":["Decision Tree"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/VuT20","Title":"PGM-Explainer - Probabilistic Graphical Model Explanations for Graph Neural Networks.","url":"https://proceedings.neurips.cc/paper/2020/hash/8fb134f258b1f7865a6ab2d935a897c9-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Minh N. Vu","My T. Thai"],"Type of Data":["Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Graph"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/ZhouHZLSXT20","Title":"Towards Interpretable Natural Language Understanding with Explanations as Latent Variables.","url":"https://proceedings.neurips.cc/paper/2020/hash/4be2c8f27b8a420492f2d44463933eb6-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Wangchunshu Zhou","Jinyi Hu","Hanlin Zhang","Xiaodan Liang","Maosong Sun","Chenyan Xiong","Jian Tang"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Text"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"sigir/SenGVJ20","Title":"The Curious Case of IR Explainability - Explaining Document Scores within and across Ranking Models.","url":"https://doi.org/10.1145/3397271.3401286","Year":"2020","Venue":"SIGIR","Authors":["Procheta Sen","Debasis Ganguly","Manisha Verma","Gareth J. F. Jones"],"Type of Data":["Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Other"],"Type of Task":["Retrieval"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/LiuYW19","Title":"Towards Explainable NLP - A Generative Explanation Framework for Text Classification.","url":"https://doi.org/10.18653/v1/p19-1560","Year":"2019","Venue":"ACL","Authors":["Hui Liu","Qingyu Yin","William Yang Wang"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Text","Other"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/WagnerKGHWB19","Title":"Interpretable and Fine-Grained Visual Explanations for Convolutional Neural Networks.","url":"http://openaccess.thecvf.com/content_CVPR_2019/html/Wagner_Interpretable_and_Fine-Grained_Visual_Explanations_for_Convolutional_Neural_Networks_CVPR_2019_paper.html","Year":"2019","Venue":"CVPR","Authors":["J\xf6rg Wagner","Jan Mathias K\xf6hler","Tobias Gindele","Leon Hetzel","Jakob Thadd\xe4us Wiedemer","Sven Behnke"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iclr/MWT19","Title":"Visual Explanation by Interpretation - Improving Visual Feedback Capabilities of Deep Neural Networks.","url":"https://openreview.net/forum?id=H1ziPjC5Fm","Year":"2019","Venue":"ICLR","Authors":["Jos\xe9 Oramas M.","Kaili Wang","Tinne Tuytelaars"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/Wang19","Title":"Gaining Free or Low-Cost Interpretability with Interpretable Partial Substitute.","url":"http://proceedings.mlr.press/v97/wang19a.html","Year":"2019","Venue":"ICML","Authors":["Tong Wang"],"Type of Data":["Tabular / structured","Text","Time series"],"Type of Problem":["Model Explanation","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/SchwabK19","Title":"CXPlain - Causal Explanations for Model Interpretation under Uncertainty.","url":"https://proceedings.neurips.cc/paper/2019/hash/3ab6be46e1d6b21d59a3c3a0b9d0f6ef-Abstract.html","Year":"2019","Venue":"NeurIPS","Authors":["Patrick Schwab","Walter Karlen"],"Type of Data":["Images","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"sigir/ChenCXZ0QZ19","Title":"Personalized Fashion Recommendation with Visual Explanations based on Multimodal Attention Network - Towards Visually Explainable Recommendation.","url":"https://doi.org/10.1145/3331184.3331254","Year":"2019","Venue":"SIGIR","Authors":["Xu Chen 0017","Hanxiong Chen","Hongteng Xu","Yongfeng Zhang","Yixin Cao 0002","Zheng Qin","Hongyuan Zha"],"Type of Data":["Images","Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Heatmap"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"sigir/VermaG19","Title":"LIRME - Locally Interpretable Ranking Model Explanation.","url":"https://doi.org/10.1145/3331184.3331377","Year":"2019","Venue":"SIGIR","Authors":["Manisha Verma","Debasis Ganguly"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic","Other"],"Type of Task":["Retrieval"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/ZhangCSWZ18","Title":"Interpreting CNN Knowledge via an Explanatory Graph.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/17354","Year":"2018","Venue":"AAAI","Authors":["Quanshi Zhang","Ruiming Cao","Feng Shi","Ying Nian Wu","Song-Chun Zhu"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Graph","Prototypes","Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icdm/YangLWH18","Title":"Towards Interpretation of Recommender Systems with Sorted Explanation Paths.","url":"https://doi.org/10.1109/ICDM.2018.00082","Year":"2018","Venue":"ICDM","Authors":["Fan Yang 0023","Ninghao Liu","Suhang Wang","Xia Hu"],"Type of Data":["Tabular / structured","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Graph"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/ChenSWJ18","Title":"Learning to Explain - An Information-Theoretic Perspective on Model Interpretation.","url":"http://proceedings.mlr.press/v80/chen18j.html","Year":"2018","Venue":"ICML","Authors":["Jianbo Chen","Le Song","Martin J. Wainwright","Michael I. Jordan"],"Type of Data":["Tabular / structured","Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/PeakeW18","Title":"Explanation Mining - Post Hoc Interpretability of Latent Factor Models for Recommendation Systems.","url":"https://doi.org/10.1145/3219819.3220072","Year":"2018","Venue":"KDD","Authors":["Georgina Peake","Jun Wang"],"Type of Data":["User-item matrix"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/Alvarez-MelisJ18","Title":"Towards Robust Interpretability with Self-Explaining Neural Networks.","url":"https://proceedings.neurips.cc/paper/2018/hash/3e9f0fc9b2f89e043bc6233994dfcf76-Abstract.html","Year":"2018","Venue":"NeurIPS","Authors":["David Alvarez-Melis","Tommi S. Jaakkola"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/DhurandharCLTTS18","Title":"Explanations based on the Missing - Towards Contrastive Explanations with Pertinent Negatives.","url":"https://proceedings.neurips.cc/paper/2018/hash/c5ff2543b53f4cc0ad3819a36752467b-Abstract.html","Year":"2018","Venue":"NeurIPS","Authors":["Amit Dhurandhar","Pin-Yu Chen","Ronny Luss","Chun-Chen Tu","Pai-Shun Ting","Karthikeyan Shanmugam","Payel Das"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iccv/FongV17","Title":"Interpretable Explanations of Black Boxes by Meaningful Perturbation.","url":"https://doi.org/10.1109/ICCV.2017.371","Year":"2017","Venue":"ICCV","Authors":["Ruth C. Fong","Andrea Vedaldi"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/AkulaWZ20","Title":"CoCoX - Generating Conceptual and Counterfactual Explanations via Fault-Lines.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5643","Year":"2020","Venue":"AAAI","Authors":["Arjun R. Akula","Shuai Wang","Song-Chun Zhu"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/ChenJ20","Title":"LS-Tree - Model Interpretation When the Data Are Linguistic.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5749","Year":"2020","Venue":"AAAI","Authors":["Jianbo Chen","Michael I. Jordan"],"Type of Data":["Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic","Logistic Regression"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Graph"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/CiravegnaGMMG20","Title":"A Constraint-Based Approach to Learning and Explanation.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5774","Year":"2020","Venue":"AAAI","Authors":["Gabriele Ciravegna","Francesco Giannini","Stefano Melacci","Marco Maggini","Marco Gori"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/DalleigerV20","Title":"Explainable Data Decompositions.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5780","Year":"2020","Venue":"AAAI","Authors":["Sebastian Dalleiger","Jilles Vreeken"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Clustering"],"Type of Explanation":["Other"],"Method used to explain":["Interpretability built into the predictive model","Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/DongNCCZSLCM20","Title":"Asymmetrical Hierarchical Networks with Attentive Interactions for Interpretable Review-Based Recommendation.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/6268","Year":"2020","Venue":"AAAI","Authors":["Xin Dong 0010","Jingchao Ni","Wei Cheng 0002","Zhengzhang Chen","Bo Zong","Dongjin Song","Yanchi Liu","Haifeng Chen","Gerard de Melo"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/HarderBP20","Title":"Interpretable and Differentially Private Predictions.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5827","Year":"2020","Venue":"AAAI","Authors":["Frederik Harder","Matthias Bauer","Mijung Park"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/HuaiWMZ20","Title":"Towards Interpretation of Pairwise Learning.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5837","Year":"2020","Venue":"AAAI","Authors":["Mengdi Huai","Di Wang 0015","Chenglin Miao","Aidong Zhang"],"Type of Data":["Tabular / structured","Images","Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic"],"Type of Task":["Classification","Representation learning"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/ItoTSYI20","Title":"Word-Level Contextual Sentiment Analysis with Interpretability.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5845","Year":"2020","Venue":"AAAI","Authors":["Tomoki Ito","Kota Tsubouchi","Hiroki Sakaji","Tatsuo Yamashita","Kiyoshi Izumi"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/LiFANZ20","Title":"MRI Reconstruction with Interpretable Pixel-Wise Operations Using Reinforcement Learning.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5423","Year":"2020","Venue":"AAAI","Authors":["Wentian Li","Xidong Feng","Haotian An","Xiang Yao Ng","Yu-Jin Zhang"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Policy learning"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/Madumal0SV20","Title":"Explainable Reinforcement Learning through a Causal Lens.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5631","Year":"2020","Venue":"AAAI","Authors":["Prashan Madumal","Tim Miller 0001","Liz Sonenberg","Frank Vetere"],"Type of Data":["Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Any (for a specific task); model-agnostic","Other"],"Type of Task":["Policy learning"],"Type of Explanation":["Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/NamGCWL20","Title":"Relative Attributing Propagation - Interpreting the Comparative Contributions of Individual Units in Deep Neural Networks.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5632","Year":"2020","Venue":"AAAI","Authors":["Woo-Jeoung Nam","Shir Gur","Jaesik Choi","Lior Wolf","Seong-Whan Lee"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/PathakLMP20","Title":"Chemically Interpretable Graph Interaction Network for Prediction of Pharmacokinetic Properties of Drug-Like Molecules.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5433","Year":"2020","Venue":"AAAI","Authors":["Yashaswi Pathak","Siddhartha Laghuvarapu","Sarvesh Mehta","U. Deva Priyakumar"],"Type of Data":["Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Regression"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/PatroAN20","Title":"Explanation vs Attention - A Two-Player Game to Obtain Attention for VQA.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/6858","Year":"2020","Venue":"AAAI","Authors":["Badri N. Patro","Anupriy","Vinay Namboodiri"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Heatmap"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/WangZHZS20","Title":"Dynamic Network Pruning with Interpretable Layerwise Channel Selection.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/6098","Year":"2020","Venue":"AAAI","Authors":["Yulong Wang","Xiaolu Zhang","Xiaolin Hu","Bo Zhang","Hang Su 0006"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Representation Visualization","Other"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/WuPHKCZ0D20","Title":"Regional Tree Regularization for Interpretability in Deep Neural Networks.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/6112","Year":"2020","Venue":"AAAI","Authors":["Mike Wu","Sonali Parbhoo","Michael C. Hughes","Ryan Kindle","Leo A. Celi","Maurizio Zazzi","Volker Roth 0001","Finale Doshi-Velez"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Tree"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/ZhongWTZ0S20","Title":"Iteratively Questioning and Answering for Interpretable Legal Judgment Prediction.","url":"https://aaai.org/ojs/index.php/AAAI/article/view/5479","Year":"2020","Venue":"AAAI","Authors":["Haoxi Zhong","Yuzhong Wang","Cunchao Tu","Tianyang Zhang","Zhiyuan Liu 0001","Maosong Sun"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering","Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/AtanasovaSLA20","Title":"Generating Fact Checking Explanations.","url":"https://doi.org/10.18653/v1/2020.acl-main.656","Year":"2020","Venue":"ACL","Authors":["Pepa Atanasova","Jakob Grue Simonsen","Christina Lioma","Isabelle Augenstein"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Other"],"Type of Explanation":["Text"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/ChenZJ20","Title":"Generating Hierarchical Explanations on Text Classification via Feature Interaction Detection.","url":"https://doi.org/10.18653/v1/2020.acl-main.494","Year":"2020","Venue":"ACL","Authors":["Hanjie Chen","Guangtao Zheng","Yangfeng Ji"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Graph"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/GonenJSG20","Title":"Simple, Interpretable and Stable Method for Detecting Words with Usage Change across Corpora.","url":"https://doi.org/10.18653/v1/2020.acl-main.51","Year":"2020","Venue":"ACL","Authors":["Hila Gonen","Ganesh Jawahar","Djam\xe9 Seddah","Yoav Goldberg"],"Type of Data":["Text"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Other"],"Type of Explanation":["Localization","Representation Visualization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/HanWT20","Title":"Explaining Black Box Predictions and Unveiling Data Artifacts through Influence Functions.","url":"https://doi.org/10.18653/v1/2020.acl-main.492","Year":"2020","Venue":"ACL","Authors":["Xiaochuang Han","Byron C. Wallace","Yulia Tsvetkov"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Prototypes"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/KumarT20","Title":"NILE - Natural Language Inference with Faithful Natural Language Explanations.","url":"https://doi.org/10.18653/v1/2020.acl-main.771","Year":"2020","Venue":"ACL","Authors":["Sawan Kumar","Partha P. Talukdar"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Text","Localization"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/LuL20","Title":"GCAN - Graph-aware Co-Attention Networks for Explainable Fake News Detection on Social Media.","url":"https://doi.org/10.18653/v1/2020.acl-main.48","Year":"2020","Venue":"ACL","Authors":["Yi-Ju Lu","Cheng-Te Li"],"Type of Data":["Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/MohankumarNNKSR20","Title":"Towards Transparent and Explainable Attention Models.","url":"https://doi.org/10.18653/v1/2020.acl-main.387","Year":"2020","Venue":"ACL","Authors":["Akash Kumar Mohankumar","Preksha Nema","Sharan Narasimhan","Mitesh M. Khapra","Balaji Vasan Srinivasan","Balaraman Ravindran"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Question Answering"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/ShahbaziFGT20","Title":"Relation Extraction with Explanation.","url":"https://doi.org/10.18653/v1/2020.acl-main.579","Year":"2020","Venue":"ACL","Authors":["Hamed Shahbazi","Xiaoli Z. Fern","Reza Ghaeini","Prasad Tadepalli"],"Type of Data":["Text","Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Other"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/SubramanianBGWS20","Title":"Obtaining Faithful Interpretations from Compositional Neural Networks.","url":"https://doi.org/10.18653/v1/2020.acl-main.495","Year":"2020","Venue":"ACL","Authors":["Sanjay Subramanian","Ben Bogin","Nitish Gupta","Tomer Wolfson","Sameer Singh 0001","Jonathan Berant","Matt Gardner 0001"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Question Answering"],"Type of Explanation":["Localization","Other"],"Method used to explain":["Interpretability built into the predictive model","Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/WuCKL20","Title":"Perturbed Masking - Parameter-free Probing for Analyzing and Interpreting BERT.","url":"https://doi.org/10.18653/v1/2020.acl-main.383","Year":"2020","Venue":"ACL","Authors":["Zhiyong Wu","Yun Chen","Ben Kao","Qun Liu"],"Type of Data":["Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Other"],"Type of Explanation":["Heatmap","Other"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/WuRZLN20","Title":"DTCA - Decision Tree-based Co-Attention Networks for Explainable Claim Verification.","url":"https://doi.org/10.18653/v1/2020.acl-main.97","Year":"2020","Venue":"ACL","Authors":["Lianwei Wu","Yuan Rao","Yongqiang Zhao","Hao Liang","Ambreen Nazir"],"Type of Data":["Text","Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/ZhangSFL20","Title":"Learning Interpretable Relationships between Entities, Relations and Concepts via Bayesian Structure Learning on Open Domain Facts.","url":"https://doi.org/10.18653/v1/2020.acl-main.717","Year":"2020","Venue":"ACL","Authors":["Jingyuan Zhang","Mingming Sun","Yue Feng","Ping Li 0001"],"Type of Data":["Graph data"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Other"],"Type of Explanation":["Graph"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/ZhouZY20","Title":"Interpretable Operational Risk Classification with Semi-Supervised Variational Autoencoder.","url":"https://doi.org/10.18653/v1/2020.acl-main.78","Year":"2020","Venue":"ACL","Authors":["Fan Zhou","Shengming Zhang","Yi Yang"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/ChengRCZ20","Title":"Explaining Knowledge Distillation by Quantifying the Knowledge.","url":"https://doi.org/10.1109/CVPR42600.2020.01294","Year":"2020","Venue":"CVPR","Authors":["Xu Cheng","Zhefan Rao","Yilan Chen","Quanshi Zhang"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/HuangL20","Title":"Interpretable and Accurate Fine-grained Recognition via Region Grouping.","url":"https://doi.org/10.1109/CVPR42600.2020.00869","Year":"2020","Venue":"CVPR","Authors":["Zixuan Huang","Yin Li"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/JakabGBV20","Title":"Self-Supervised Learning of Interpretable Keypoints From Unlabelled Videos.","url":"https://doi.org/10.1109/CVPR42600.2020.00881","Year":"2020","Venue":"CVPR","Authors":["Tomas Jakab","Ankush Gupta 0001","Hakan Bilen","Andrea Vedaldi"],"Type of Data":["Images","Video"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Other"],"Type of Explanation":["Disentanglement","Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/JalwanaABM20","Title":"Attack to Explain Deep Representation.","url":"https://doi.org/10.1109/CVPR42600.2020.00956","Year":"2020","Venue":"CVPR","Authors":["Mohammad A. A. K. Jalwana","Naveed Akhtar","Mohammed Bennamoun","Ajmal Mian"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/KimGPS20","Title":"A Programmatic and Semantic Approach to Explaining and Debugging Neural Network Based Object Detectors.","url":"https://doi.org/10.1109/CVPR42600.2020.01114","Year":"2020","Venue":"CVPR","Authors":["Edward Kim","Divya Gopinath","Corina S. Pasareanu","Sanjit A. Seshia"],"Type of Data":["Images"],"Type of Problem":["Model Explanation","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/LiuLZKWBRC20","Title":"Towards Visually Explaining Variational Autoencoders.","url":"https://doi.org/10.1109/CVPR42600.2020.00867","Year":"2020","Venue":"CVPR","Authors":["WenQian Liu","Runze Li","Meng Zheng","Srikrishna Karanam","Ziyan Wu","Bir Bhanu","Richard J. Radke","Octavia I. Camps"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Disentanglement","Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/ShenGTZ20","Title":"Interpreting the Latent Space of GANs for Semantic Face Editing.","url":"https://doi.org/10.1109/CVPR42600.2020.00926","Year":"2020","Venue":"CVPR","Authors":["Yujun Shen","Jinjin Gu","Xiaoou Tang","Bolei Zhou"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/WangV20","Title":"SCOUT - Self-Aware Discriminant Counterfactual Explanations.","url":"https://doi.org/10.1109/CVPR42600.2020.00900","Year":"2020","Venue":"CVPR","Authors":["Pei Wang","Nuno Vasconcelos"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/WuSCZKLT20a","Title":"Towards Global Explanations of Convolutional Neural Networks With Concept Attribution.","url":"https://doi.org/10.1109/CVPR42600.2020.00868","Year":"2020","Venue":"CVPR","Authors":["Weibin Wu","Yuxin Su","Xixian Chen","Shenglin Zhao","Irwin King","Michael R. Lyu","Yu-Wing Tai"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/XuYGLWLV20","Title":"Explainable Object-Induced Action Decision for Autonomous Vehicles.","url":"https://doi.org/10.1109/CVPR42600.2020.00954","Year":"2020","Venue":"CVPR","Authors":["Yiran Xu","Xiaoyin Yang","Lihang Gong","Hsuan-Chu Lin","Tz-Ying Wu","Yunsheng Li","Nuno Vasconcelos"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Text"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icdm/JiWJMZ20","Title":"Interpretable Spatiotemporal Deep Learning Model for Traffic Flow Prediction based on Potential Energy Fields.","url":"https://doi.org/10.1109/ICDM50108.2020.00128","Year":"2020","Venue":"ICDM","Authors":["Jiahao Ji","Jingyuan Wang","Zhe Jiang 0001","Jingtian Ma","Hu Zhang"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iclr/JinWDXR20","Title":"Towards Hierarchical Importance Attribution - Explaining Compositional Semantics for Neural Sequence Models.","url":"https://openreview.net/forum?id=BkxRRkSKwr","Year":"2020","Venue":"ICLR","Authors":["Xisen Jin","Zhongyu Wei","Junyi Du","Xiangyang Xue","Xiang Ren 0001"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Graph"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iclr/MohanKSF20","Title":"Robust And Interpretable Blind Image Denoising Via Bias-Free Convolutional Neural Networks.","url":"https://openreview.net/forum?id=HJlSmC4FPS","Year":"2020","Venue":"ICLR","Authors":["Sreyas Mohan","Zahra Kadkhodaie","Eero P. Simoncelli","Carlos Fernandez-Granda"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Other"],"Type of Explanation":["Representation Synthesis","Other"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iclr/OreshkinCCB20","Title":"N-BEATS - Neural basis expansion analysis for interpretable time series forecasting.","url":"https://openreview.net/forum?id=r1ecqn4YwB","Year":"2020","Venue":"ICLR","Authors":["Boris N. Oreshkin","Dmitri Carpov","Nicolas Chapados","Yoshua Bengio"],"Type of Data":["Time series"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Regression"],"Type of Explanation":["Feature plot"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iclr/PuriVGKDK020","Title":"Explain Your Move - Understanding Agent Actions Using Specific and Relevant Feature Attribution.","url":"https://openreview.net/forum?id=SJgzLkBKPB","Year":"2020","Venue":"ICLR","Authors":["Nikaash Puri","Sukriti Verma","Piyush Gupta","Dhruv Kayastha","Shripad Deshmukh","Balaji Krishnamurthy","Sameer Singh 0001"],"Type of Data":["Images","Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Policy learning"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iclr/SinglaPCB20","Title":"Explanation by Progressive Exaggeration.","url":"https://openreview.net/forum?id=H1xFWgrFPS","Year":"2020","Venue":"ICLR","Authors":["Sumedha Singla","Brian Pollack","Junxiang Chen","Kayhan Batmanghelich"],"Type of Data":["Images","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Representation Synthesis","Representation Visualization","Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iclr/YangS20","Title":"Learn to Explain Efficiently via Neural Logic Inductive Learning.","url":"https://openreview.net/forum?id=SJlh8CEYDB","Year":"2020","Venue":"ICLR","Authors":["Yuan Yang","Le Song"],"Type of Data":["Images","Graph data"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/AndersPDMK20","Title":"Fairwashing explanations with off-manifold detergent.","url":"http://proceedings.mlr.press/v119/anders20a.html","Year":"2020","Venue":"ICML","Authors":["Christopher J. Anders","Plamen Pasliev","Ann-Kathrin Dombrowski","Klaus-Robert M\xfcller","Pan Kessel"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic","Logistic Regression"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Post-hoc explanation method","Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/ChalasaniC00J20","Title":"Concise Explanations of Neural Networks using Adversarial Training.","url":"http://proceedings.mlr.press/v119/chalasani20a.html","Year":"2020","Venue":"ICML","Authors":["Prasad Chalasani","Jiefeng Chen","Amrita Roy Chowdhury 0001","Xi Wu 0001","Somesh Jha"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/ChaudharySG20","Title":"Explainable and Discourse Topic-aware Neural Language Understanding.","url":"http://proceedings.mlr.press/v119/chaudhary20a.html","Year":"2020","Venue":"ICML","Authors":["Yatin Chaudhary","Hinrich Sch\xfctze","Pankaj Gupta"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Retrieval"],"Type of Explanation":["Other"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/JinBJ20a","Title":"Multi-Objective Molecule Generation using Interpretable Substructures.","url":"http://proceedings.mlr.press/v119/jin20b.html","Year":"2020","Venue":"ICML","Authors":["Wengong Jin","Regina Barzilay","Tommi S. Jaakkola"],"Type of Data":["Graph data"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Prototypes"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/LakkarajuAB20","Title":"Robust and Stable Black Box Explanations.","url":"http://proceedings.mlr.press/v119/lakkaraju20a.html","Year":"2020","Venue":"ICML","Authors":["Himabindu Lakkaraju","Nino Arsov","Osbert Bastani"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Support Vector Machine","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules","White-box model"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/MoshkovitzDRF20","Title":"Explainable k-Means and k-Medians Clustering.","url":"http://proceedings.mlr.press/v119/moshkovitz20a.html","Year":"2020","Venue":"ICML","Authors":["Michal Moshkovitz","Sanjoy Dasgupta","Cyrus Rashtchian","Nave Frost"],"Type of Data":["Tabular / structured"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Clustering"],"Type of Explanation":["Decision Tree"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/ParkCZYY20","Title":"Multiresolution Tensor Learning for Efficient and Interpretable Spatial Analysis.","url":"http://proceedings.mlr.press/v119/park20a.html","Year":"2020","Venue":"ICML","Authors":["Jung Yeon Park","Kenneth Theo Carr","Stephan Zheng","Yisong Yue","Rose Yu"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/PlumbTST20","Title":"Explaining Groups of Points in Low-Dimensional Representations.","url":"http://proceedings.mlr.press/v119/plumb20a.html","Year":"2020","Venue":"ICML","Authors":["Gregory Plumb","Jonathan Terhorst","Sriram Sankararaman","Ameet Talwalkar"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Representation learning"],"Type of Explanation":["Feature Importance","Representation Visualization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/QuinnNR0V20","Title":"DeepCoDA - personalized interpretability for compositional health data.","url":"http://proceedings.mlr.press/v119/quinn20a.html","Year":"2020","Venue":"ICML","Authors":["Thomas P. Quinn","Dang Nguyen","Santu Rana","Sunil Gupta 0001","Svetha Venkatesh"],"Type of Data":["Tabular / structured"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["White-box model"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/ShiZM020","Title":"Dispersed Exponential Family Mixture VAEs for Interpretable Text Generation.","url":"http://proceedings.mlr.press/v119/shi20f.html","Year":"2020","Venue":"ICML","Authors":["Wenxian Shi","Hao Zhou","Ning Miao","Lei Li 0005"],"Type of Data":["Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/VoynovB20","Title":"Unsupervised Discovery of Interpretable Directions in the GAN Latent Space.","url":"http://proceedings.mlr.press/v119/voynov20a.html","Year":"2020","Venue":"ICML","Authors":["Andrey Voynov","Artem Babenko"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"ijcai/AlbiniRBT20","Title":"Relation-Based Counterfactual Explanations for Bayesian Network Classifiers.","url":"https://doi.org/10.24963/ijcai.2020/63","Year":"2020","Venue":"IJCAI","Authors":["Emanuele Albini","Antonio Rago 0001","Pietro Baroni","Francesca Toni"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["Graph"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"ijcai/BeyazitTYT020","Title":"Learning Interpretable Representations with Informative Entanglements.","url":"https://doi.org/10.24963/ijcai.2020/273","Year":"2020","Venue":"IJCAI","Authors":["Ege Beyazit","Doruk Tuncel","Xu Yuan","Nian-Feng Tzeng","Xindong Wu 0001"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Representation learning","Generation"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"ijcai/ChenW0PSAC20","Title":"Towards Explainable Conversational Recommendation.","url":"https://doi.org/10.24963/ijcai.2020/414","Year":"2020","Venue":"IJCAI","Authors":["Zhongxia Chen","Xiting Wang","Xing Xie 0001","Mehul Parsana","Akshay Soni","Xiang Ao","Enhong Chen"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Text"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"ijcai/CiravegnaGGMM20","Title":"Human-Driven FOL Explanations of Deep Learning.","url":"https://doi.org/10.24963/ijcai.2020/309","Year":"2020","Venue":"IJCAI","Authors":["Gabriele Ciravegna","Francesco Giannini","Marco Gori","Marco Maggini","Stefano Melacci"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"ijcai/KanamoriTKA20","Title":"DACE - Distribution-Aware Counterfactual Explanation by Mixed-Integer Linear Optimization.","url":"https://doi.org/10.24963/ijcai.2020/395","Year":"2020","Venue":"IJCAI","Authors":["Kentaro Kanamori","Takuya Takagi","Ken Kobayashi","Hiroki Arimura"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic","Support Vector Machine","Tree Ensemble"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"ijcai/LeL20","Title":"Synthesizing Aspect-Driven Recommendation Explanations from Reviews.","url":"https://doi.org/10.24963/ijcai.2020/336","Year":"2020","Venue":"IJCAI","Authors":["Trung-Hoang Le","Hady W. Lauw"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Text"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"ijcai/LiFCLYS20","Title":"Recurrent Dirichlet Belief Networks for interpretable Dynamic Relational Data Modelling.","url":"https://doi.org/10.24963/ijcai.2020/342","Year":"2020","Venue":"IJCAI","Authors":["Yaqiong Li","Xuhui Fan","Ling Chen","Bin Li","Zheng Yu","Scott A. Sisson"],"Type of Data":["Graph data"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["White-box model"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"ijcai/RosaCN20","Title":"Explainable Inference on Sequential Data via Memory-Tracking.","url":"https://doi.org/10.24963/ijcai.2020/278","Year":"2020","Venue":"IJCAI","Authors":["Biagio La Rosa","Roberto Capobianco","Daniele Nardi"],"Type of Data":["Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Policy learning"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"ijcai/WangZ20a","Title":"Interpretable Multimodal Learning for Intelligent Regulation in Online Payment Systems.","url":"https://doi.org/10.24963/ijcai.2020/645","Year":"2020","Venue":"IJCAI","Authors":["Shuoyao Wang","Diwei Zhu"],"Type of Data":["Tabular / structured","Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Retrieval"],"Type of Explanation":["Feature Importance","Feature plot"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"ijcai/WuRYWN20","Title":"Evidence-Aware Hierarchical Interactive Attention Networks for Explainable Claim Verification.","url":"https://doi.org/10.24963/ijcai.2020/193","Year":"2020","Venue":"IJCAI","Authors":["Lianwei Wu","Yuan Rao","Xiong Yang","Wanzhen Wang","Ambreen Nazir"],"Type of Data":["Text","Graph data","Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/GuoZQWSY20","Title":"Interpretable Deep Graph Generation with Node-edge Co-disentanglement.","url":"https://doi.org/10.1145/3394486.3403221","Year":"2020","Venue":"KDD","Authors":["Xiaojie Guo","Liang Zhao 0002","Zhao Qin","Lingfei Wu","Amarda Shehu","Yanfang Ye"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation","Representation learning"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/LancianoBG20","Title":"Explainable Classification of Brain Networks via Contrast Subgraphs.","url":"https://doi.org/10.1145/3394486.3403383","Year":"2020","Venue":"KDD","Authors":["Tommaso Lanciano","Francesco Bonchi","Aristides Gionis"],"Type of Data":["Images","Graph data"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature plot","Graph","Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/LeW020","Title":"GRACE - Generating Concise and Informative Contrastive Sample to Explain Neural Network Model\'s Prediction.","url":"https://doi.org/10.1145/3394486.3403066","Year":"2020","Venue":"KDD","Authors":["Thai Le","Suhang Wang","Dongwon Lee 0001"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Text"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/LiangBCBW20","Title":"Adversarial Infidelity Learning for Model Interpretation.","url":"https://doi.org/10.1145/3394486.3403071","Year":"2020","Venue":"KDD","Authors":["Jian Liang","Bing Bai","Yuren Cao","Kun Bai","Fei Wang"],"Type of Data":["Images","Text","Time series","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/TangLSSMW20","Title":"Knowing your FATE - Friendship, Action and Temporal Explanations for User Engagement Prediction on Social Apps.","url":"https://doi.org/10.1145/3394486.3403276","Year":"2020","Venue":"KDD","Authors":["Xianfeng Tang","Yozen Liu","Neil Shah","Xiaolin Shi","Prasenjit Mitra","Suhang Wang"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/YuanTHJ20","Title":"XGNN - Towards Model-Level Explanations of Graph Neural Networks.","url":"https://doi.org/10.1145/3394486.3403085","Year":"2020","Venue":"KDD","Authors":["Hao Yuan","Jiliang Tang","Xia Hu","Shuiwang Ji"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/ZhangQ0LCZD20","Title":"INPREM - An Interpretable and Trustworthy Predictive Model for Healthcare.","url":"https://doi.org/10.1145/3394486.3403087","Year":"2020","Venue":"KDD","Authors":["Xianli Zhang","Buyue Qian","Shilei Cao 0001","Yang Li","Hang Chen","Yefeng Zheng","Ian Davidson"],"Type of Data":["Tabular / structured","Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature plot"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/0001GCIN20","Title":"Explaining Naive Bayes and Other Linear Classifiers with Polynomial Time and Delay.","url":"https://proceedings.neurips.cc/paper/2020/hash/eccd2a86bae4728b38627162ba297828-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Jo\xe3o Marques-Silva 0001","Thomas Gerspacher","Martin C. Cooper","Alexey Ignatiev","Nina Narodytska"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/ArikLYSELM0ZNSN20","Title":"Interpretable Sequence Learning for Covid-19 Forecasting.","url":"https://proceedings.neurips.cc/paper/2020/hash/d9dbc51dc534921589adf460c85cd824-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Sercan \xd6mer Arik","Chun-Liang Li","Jinsung Yoon","Rajarishi Sinha","Arkady Epshteyn","Long T. Le","Vikas Menon","Shashank Singh 0005","Leyou Zhang","Martin Nikoltchev","Yash Sonthalia","Hootan Nakhost","Elli Kanal","Tomas Pfister"],"Type of Data":["Time series"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Regression"],"Type of Explanation":["White-box model"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/BassSSTSR20","Title":"ICAM - Interpretable Classification via Disentangled Representations and Feature Attribution Mapping.","url":"https://proceedings.neurips.cc/paper/2020/hash/56f9f88906aebf4ad985aaec7fa01313-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Cher Bass","Mariana da Silva","Carole H. Sudre","Petru-Daniel Tudosiu","Stephen M. Smith","Emma C. Robinson"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Representation learning"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/CrabbeZZS20","Title":"Learning outside the Black-Box - The pursuit of interpretable models.","url":"https://proceedings.neurips.cc/paper/2020/hash/ce758408f6ef98d7c7a7b786eca7b3a8-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Jonathan Crabb\xe9","Yao Zhang","William R. Zame","Mihaela van der Schaar"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Support Vector Machine","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/FryeRF20","Title":"Asymmetric Shapley values - incorporating causal knowledge into model-agnostic explainability.","url":"https://proceedings.neurips.cc/paper/2020/hash/0d770c496aa3da6d2c3f2bd19e7b9d6b-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Christopher Frye","Colin Rowat","Ilya Feige"],"Type of Data":["Tabular / structured","Time series","Any"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/HarkonenHLP20","Title":"GANSpace - Discovering Interpretable GAN Controls.","url":"https://proceedings.neurips.cc/paper/2020/hash/6fe43269967adbb64ec6149852b5cc3e-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Erik H\xe4rk\xf6nen","Aaron Hertzmann","Jaakko Lehtinen","Sylvain Paris"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Disentanglement","Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/HeskesSBC20","Title":"Causal Shapley Values - Exploiting Causal Knowledge to Explain Individual Predictions of Complex Models.","url":"https://proceedings.neurips.cc/paper/2020/hash/32e54441e6382a7fbacbbbaf3c450059-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Tom Heskes","Evi Sijben","Ioan Gabriel Bucur","Tom Claassen"],"Type of Data":["Time series","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/JainVMLTH20","Title":"Interpretable multi-timescale models for predicting fMRI responses to continuous natural speech.","url":"https://proceedings.neurips.cc/paper/2020/hash/9e9a30b74c49d07d8150c8c83b1ccf07-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Shailee Jain","Vy A. Vo","Shivangi Mahto","Amanda LeBel","Javier S. Turek","Alexander Huth"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/LuoCXYZC020","Title":"Parameterized Explainer for Graph Neural Network.","url":"https://proceedings.neurips.cc/paper/2020/hash/e37b08dd3015330dcbb5d6663667b8b8-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Dongsheng Luo","Wei Cheng 0002","Dongkuan Xu","Wenchao Yu","Bo Zong","Haifeng Chen","Xiang Zhang 0001"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Graph","Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/MuA20","Title":"Compositional Explanations of Neurons.","url":"https://proceedings.neurips.cc/paper/2020/hash/c74956ffb38ba48ed6ce977af6727275-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Jesse Mu","Jacob Andreas"],"Type of Data":["Images","Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules","Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/OShaughnessyCCR20","Title":"Generative causal explanations of black-box classifiers.","url":"https://proceedings.neurips.cc/paper/2020/hash/3a93a609b97ec0ab0ff5539eb79ef33a-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["\\"Matthew R. OShaughnessy\\"","Gregory Canal","Marissa Connor","Christopher Rozell","Mark A. Davenport"],"Type of Data":["Images","Any"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Disentanglement","Graph","Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/PedapatiBSD20","Title":"Learning Global Transparent Models consistent with Local Contrastive Explanations.","url":"https://proceedings.neurips.cc/paper/2020/hash/24aef8cb3281a2422a59b51659f1ad2e-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Tejaswini Pedapati","Avinash Balakrishnan","Karthikeyan Shanmugam","Amit Dhurandhar"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Decision Tree"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/RamamurthyVZD20","Title":"Model Agnostic Multilevel Explanations.","url":"https://proceedings.neurips.cc/paper/2020/hash/426f990b332ef8193a61cc90516c1245-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Karthikeyan Natesan Ramamurthy","Bhanukiran Vinzamuri","Yunfeng Zhang","Amit Dhurandhar"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Any (for a specific task); model-agnostic"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/RawalL20","Title":"Beyond Individualized Recourse - Interpretable and Interactive Summaries of Actionable Recourses.","url":"https://proceedings.neurips.cc/paper/2020/hash/8ee7730e97c67473a424ccfeff49ab20-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Kaivalya Rawal","Himabindu Lakkaraju"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Any (for a specific task); model-agnostic","Logistic Regression"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/TsangR020","Title":"How does This Interaction Affect Me? Interpretable Attribution for Feature Interactions.","url":"https://proceedings.neurips.cc/paper/2020/hash/443dec3062d0286986e21dc0631734c9-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Michael Tsang","Sirisha Rambhatla","Yan Liu 0002"],"Type of Data":["Images","Text","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/TsengSK20","Title":"Fourier-transform-based attribution priors improve the interpretability and stability of deep learning models for genomics.","url":"https://proceedings.neurips.cc/paper/2020/hash/1487987e862c44b91a0296cf3866387e-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Alex Tseng","Avanti Shrikumar","Anshul Kundaje"],"Type of Data":["Any","Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/Yau0H20","Title":"What Did You Think Would Happen? Explaining Agent Behaviour through Intended Outcomes.","url":"https://proceedings.neurips.cc/paper/2020/hash/d5ab8dc7ef67ca92e41d730982c5c602-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Herman Yau","Chris Russell 0001","Simon Hadfield"],"Type of Data":["Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Policy learning"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/YehKALPR20","Title":"On Completeness-aware Concept-Based Explanations in Deep Neural Networks.","url":"https://proceedings.neurips.cc/paper/2020/hash/ecb287ff763c169694f682af52c1f309-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Chih-Kuan Yeh","Been Kim","Sercan \xd6mer Arik","Chun-Liang Li","Tomas Pfister","Pradeep Ravikumar"],"Type of Data":["Images","Text","Any"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Prototypes"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/ZhouW20","Title":"Learning identifiable and interpretable latent models of high-dimensional neural activity using pi-VAE.","url":"https://proceedings.neurips.cc/paper/2020/hash/510f2318f324cf07fce24c3a4b89c771-Abstract.html","Year":"2020","Venue":"NeurIPS","Authors":["Ding Zhou","Xue-Xin Wei"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Other"],"Type of Explanation":["Representation Visualization","Feature plot"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"sigir/ChenYYH0020","Title":"Try This Instead - Personalized and Interpretable Substitute Recommendation.","url":"https://doi.org/10.1145/3397271.3401042","Year":"2020","Venue":"SIGIR","Authors":["Tong Chen 0005","Hongzhi Yin","Guanhua Ye","Zi Huang","Yang Wang 0023","Meng Wang 0001"],"Type of Data":["Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Feature Importance","Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"sigir/QuAW20","Title":"Towards Explainable Retrieval Models for Precision Medicine Literature Search.","url":"https://doi.org/10.1145/3397271.3401277","Year":"2020","Venue":"SIGIR","Authors":["Jiaming Qu","Jaime Arguello","Yue Wang 0035"],"Type of Data":["Text"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Retrieval"],"Type of Explanation":["Decision Tree"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"sigir/YangZWL020","Title":"Neural Concept Map Generation for Effective Document Classification with Interpretable Structured Summarization.","url":"https://doi.org/10.1145/3397271.3401312","Year":"2020","Venue":"SIGIR","Authors":["Carl Yang","Jieyu Zhang","Haonan Wang","Bangzheng Li","Jiawei Han 0001"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Graph","Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"www/LiJC0WL20","Title":"Directional and Explainable Serendipity Recommendation.","url":"https://doi.org/10.1145/3366423.3380100","Year":"2020","Venue":"WWW","Authors":["Xueqi Li","Wenjun Jiang","Weiguang Chen","Jie Wu 0001","Guojun Wang 0001","Kenli Li 0001"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Localization","Text"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"www/MathewSLS20","Title":"The POLAR Framework - Polar Opposites Enable Interpretability of Pre-Trained Word Embeddings.","url":"https://doi.org/10.1145/3366423.3380227","Year":"2020","Venue":"WWW","Authors":["Binny Mathew","Sandipan Sikdar","Florian Lemmerich","Markus Strohmaier"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Tree Ensemble","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"www/NaumzikZF20","Title":"Mining Points-of-Interest for Explaining Urban Phenomena - A Scalable Variational Inference Approach.","url":"https://doi.org/10.1145/3366423.3380298","Year":"2020","Venue":"WWW","Authors":["Christof Naumzik","Patrick Zoechbauer","Stefan Feuerriegel"],"Type of Data":["Other"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Other"],"Type of Explanation":["Feature Importance","Feature plot","Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"www/PawelczykBK20","Title":"Learning Model-Agnostic Counterfactual Explanations for Tabular Data.","url":"https://doi.org/10.1145/3366423.3380087","Year":"2020","Venue":"WWW","Authors":["Martin Pawelczyk","Klaus Broelemann","Gjergji Kasneci"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic","Logistic Regression"],"Type of Task":["Classification"],"Type of Explanation":["Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"www/SunWZFHW20","Title":"Dual Learning for Explainable Recommendation - Towards Unifying User Preference Prediction and Review Generation.","url":"https://doi.org/10.1145/3366423.3380164","Year":"2020","Venue":"WWW","Authors":["Peijie Sun","Le Wu","Kun Zhang","Yanjie Fu","Richang Hong","Meng Wang 0001"],"Type of Data":["Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Text"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"www/WangZZSP20","Title":"DyCRS - Dynamic Interpretable Postoperative Complication Risk Scoring.","url":"https://doi.org/10.1145/3366423.3380253","Year":"2020","Venue":"WWW","Authors":["Wen Wang","Han Zhao 0002","Honglei Zhuang","Nirav Shah","Rema Padman"],"Type of Data":["Tabular / structured","Time series"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["White-box model"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"www/ZhuXSZCGH20","Title":"Modeling Users\' Behavior Sequences with Hierarchical Explainable Network for Cross-domain Fraud Detection.","url":"https://doi.org/10.1145/3366423.3380172","Year":"2020","Venue":"WWW","Authors":["Yongchun Zhu","Dongbo Xi","Bowen Song","Fuzhen Zhuang","Shuai Chen","Xi Gu","Qing He 0003"],"Type of Data":["Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/AnnasamyS19","Title":"Towards Better Interpretability in Deep Q-Networks.","url":"https://doi.org/10.1609/aaai.v33i01.33014561","Year":"2019","Venue":"AAAI","Authors":["Raghuram Mandyam Annasamy","Katia P. Sycara"],"Type of Data":["Images","Other"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Policy learning"],"Type of Explanation":["Disentanglement","Heatmap","Representation Visualization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/ChenZQ19","Title":"Dynamic Explainable Recommendation Based on Neural Attentive Models.","url":"https://doi.org/10.1609/aaai.v33i01.330153","Year":"2019","Venue":"AAAI","Authors":["Xu Chen 0017","Yongfeng Zhang","Zheng Qin"],"Type of Data":["Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/GaoWW019","Title":"Explainable Recommendation through Attentive Multi-View Learning.","url":"https://doi.org/10.1609/aaai.v33i01.33013622","Year":"2019","Venue":"AAAI","Authors":["Jingyue Gao","Xiting Wang","Yasha Wang","Xing Xie 0001"],"Type of Data":["Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Localization","Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/HeLSB19","Title":"Interpretable Predictive Modeling for Climate Variables with Weighted Lasso.","url":"https://doi.org/10.1609/aaai.v33i01.33011385","Year":"2019","Venue":"AAAI","Authors":["Sijie He","Xinyan Li","Vidyashankar Sivakumar","Arindam Banerjee 0001"],"Type of Data":["Time series"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Regression"],"Type of Explanation":["White-box model"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/IgnatievNM19","Title":"Abduction-Based Explanations for Machine Learning Models.","url":"https://doi.org/10.1609/aaai.v33i01.33011511","Year":"2019","Venue":"AAAI","Authors":["Alexey Ignatiev","Nina Narodytska","Jo\xe3o Marques-Silva 0001"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/LanG19","Title":"Accurate and Interpretable Factorization Machines.","url":"https://doi.org/10.1609/aaai.v33i01.33014139","Year":"2019","Venue":"AAAI","Authors":["Liang Lan","Yu Geng 0002"],"Type of Data":["Tabular / structured","Text"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/LyuYLG19","Title":"SDRL - Interpretable and Data-Efficient Deep Reinforcement Learning Leveraging Symbolic Planning.","url":"https://doi.org/10.1609/aaai.v33i01.33012970","Year":"2019","Venue":"AAAI","Authors":["Daoming Lyu","Fangkai Yang","Bo Liu","Steven Gustafson"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Policy learning"],"Type of Explanation":["Other"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/PolatoA19","Title":"Interpretable Preference Learning - A Game Theoretic Framework for Large Margin On-Line Feature and Rule Learning.","url":"https://doi.org/10.1609/aaai.v33i01.33014723","Year":"2019","Venue":"AAAI","Authors":["Mirko Polato","Fabio Aiolli"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules","Representation Visualization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/ShakerinG19","Title":"Induction of Non-Monotonic Logic Programs to Explain Boosted Tree Models Using LIME.","url":"https://doi.org/10.1609/aaai.v33i01.33013052","Year":"2019","Venue":"AAAI","Authors":["Farhad Shakerin","Gopal Gupta"],"Type of Data":["Tabular / structured","Any"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Tree Ensemble"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/SilvaFH19","Title":"Exploring Knowledge Graphs in an Interpretable Composite Approach for Text Entailment.","url":"https://doi.org/10.1609/aaai.v33i01.33017023","Year":"2019","Venue":"AAAI","Authors":["Vivian Dos Santos Silva","Andr\xe9 Freitas","Siegfried Handschuh"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["Graph","Text"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/TopinV19","Title":"Generation of Policy-Level Explanations for Reinforcement Learning.","url":"https://doi.org/10.1609/aaai.v33i01.33012514","Year":"2019","Venue":"AAAI","Authors":["Nicholay Topin","Manuela Veloso"],"Type of Data":["Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Policy learning"],"Type of Explanation":["Graph","Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/WangWX00C19","Title":"Explainable Reasoning over Knowledge Graphs for Recommendation.","url":"https://doi.org/10.1609/aaai.v33i01.33015329","Year":"2019","Venue":"AAAI","Authors":["Xiang Wang 0010","Dingxian Wang","Canran Xu","Xiangnan He 0001","Yixin Cao 0002","Tat-Seng Chua"],"Type of Data":["Graph data","User-item matrix"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Graph","Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/WickramanayakeH19","Title":"FLEX - Faithful Linguistic Explanations for Neural Net Based Model Decisions.","url":"https://doi.org/10.1609/aaai.v33i01.33012539","Year":"2019","Venue":"AAAI","Authors":["Sandareka Wickramanayake","Wynne Hsu","Mong-Li Lee"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Text"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/YuanCHJ19","Title":"Interpreting Deep Models for Text Analysis via Optimization and Regularization Methods.","url":"https://doi.org/10.1609/aaai.v33i01.33015717","Year":"2019","Venue":"AAAI","Authors":["Hao Yuan","Yongjun Chen","Xia Hu","Shuiwang Ji"],"Type of Data":["Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes","Representation Visualization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/BastingsAT19","Title":"Interpretable Neural Predictions with Differentiable Binary Variables.","url":"https://doi.org/10.18653/v1/p19-1284","Year":"2019","Venue":"ACL","Authors":["Jasmijn Bastings","Wilker Aziz","Ivan Titov"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation","Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Localization","Text","White-box model"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/JiangJCB19","Title":"Explore, Propose, and Assemble - An Interpretable Model for Multi-Hop Reading Comprehension.","url":"https://doi.org/10.18653/v1/p19-1261","Year":"2019","Venue":"ACL","Authors":["Yichen Jiang","Nitish Joshi","Yen-Chun Chen 0001","Mohit Bansal"],"Type of Data":["Text"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/LuZXLZX19","Title":"Constructing Interpretive Spatio-Temporal Features for Multi-Turn Responses Selection.","url":"https://doi.org/10.18653/v1/p19-1006","Year":"2019","Venue":"ACL","Authors":["Junyu Lu","Chenbin Zhang","Zeying Xie","Guang Ling","Tom Chao Zhou","Zenglin Xu"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/MoonSKS19","Title":"OpenDialKG - Explainable Conversational Reasoning with Attention-based Walks over Knowledge Graphs.","url":"https://doi.org/10.18653/v1/p19-1081","Year":"2019","Venue":"ACL","Authors":["Seungwhan Moon","Pararth Shah","Anuj Kumar","Rajen Subba"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Graph"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/PanigrahiSB19","Title":"Word2Sense - Sparse Interpretable Word Embeddings.","url":"https://doi.org/10.18653/v1/p19-1570","Year":"2019","Venue":"ACL","Authors":["Abhishek Panigrahi","Harsha Vardhan Simhadri","Chiranjib Bhattacharyya"],"Type of Data":["Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Tree Ensemble","Support Vector Machine","Any (for a specific task); model-agnostic","Logistic Regression"],"Type of Task":["Classification","Representation learning","Other"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/RajaniMXS19","Title":"Explain Yourself! Leveraging Language Models for Commonsense Reasoning.","url":"https://doi.org/10.18653/v1/p19-1487","Year":"2019","Venue":"ACL","Authors":["Nazneen Fatema Rajani","Bryan McCann","Caiming Xiong","Richard Socher"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Text"],"Method used to explain":["Post-hoc explanation method","Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/SydorovaPR19","Title":"Interpretable Question Answering on Knowledge Bases and Text.","url":"https://doi.org/10.18653/v1/p19-1488","Year":"2019","Venue":"ACL","Authors":["Alona Sydorova","Nina P\xf6rner","Benjamin Roth 0001"],"Type of Data":["Tabular / structured","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/FukuiHYF19","Title":"Attention Branch Network - Learning of Attention Mechanism for Visual Explanation.","url":"http://openaccess.thecvf.com/content_CVPR_2019/html/Fukui_Attention_Branch_Network_Learning_of_Attention_Mechanism_for_Visual_Explanation_CVPR_2019_paper.html","Year":"2019","Venue":"CVPR","Authors":["Hiroshi Fukui","Tsubasa Hirakawa","Takayoshi Yamashita","Hironobu Fujiyoshi"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/KanehiraH19","Title":"Learning to Explain With Complemental Examples.","url":"http://openaccess.thecvf.com/content_CVPR_2019/html/Kanehira_Learning_to_Explain_With_Complemental_Examples_CVPR_2019_paper.html","Year":"2019","Venue":"CVPR","Authors":["Atsushi Kanehira","Tatsuya Harada"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes","Text"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/KanehiraTIH19","Title":"Multimodal Explanations by Predicting Counterfactuality in Videos.","url":"http://openaccess.thecvf.com/content_CVPR_2019/html/Kanehira_Multimodal_Explanations_by_Predicting_Counterfactuality_in_Videos_CVPR_2019_paper.html","Year":"2019","Venue":"CVPR","Authors":["Atsushi Kanehira","Kentaro Takemoto","Sho Inayoshi","Tatsuya Harada"],"Type of Data":["Video"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Text"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/PopeKRMH19","Title":"Explainability Methods for Graph Convolutional Neural Networks.","url":"http://openaccess.thecvf.com/content_CVPR_2019/html/Pope_Explainability_Methods_for_Graph_Convolutional_Neural_Networks_CVPR_2019_paper.html","Year":"2019","Venue":"CVPR","Authors":["Phillip E. Pope","Soheil Kolouri","Mohammad Rostami","Charles E. Martin","Heiko Hoffmann"],"Type of Data":["Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/ShiZL19","Title":"Explainable and Explicit Visual Reasoning Over Scene Graphs.","url":"http://openaccess.thecvf.com/content_CVPR_2019/html/Shi_Explainable_and_Explicit_Visual_Reasoning_Over_Scene_Graphs_CVPR_2019_paper.html","Year":"2019","Venue":"CVPR","Authors":["Jiaxin Shi","Hanwang Zhang","Juanzi Li"],"Type of Data":["Images","Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/ZengLSSYCU19","Title":"End-To-End Interpretable Neural Motion Planner.","url":"http://openaccess.thecvf.com/content_CVPR_2019/html/Zeng_End-To-End_Interpretable_Neural_Motion_Planner_CVPR_2019_paper.html","Year":"2019","Venue":"CVPR","Authors":["Wenyuan Zeng","Wenjie Luo","Simon Suo","Abbas Sadat","Bin Yang 0021","Sergio Casas 0002","Raquel Urtasun"],"Type of Data":["Time series","Other"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Policy learning"],"Type of Explanation":["Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/ZhangYMW19","Title":"Interpreting CNNs via Decision Trees.","url":"http://openaccess.thecvf.com/content_CVPR_2019/html/Zhang_Interpreting_CNNs_via_Decision_Trees_CVPR_2019_paper.html","Year":"2019","Venue":"CVPR","Authors":["Quanshi Zhang","Yu Yang","Haotian Ma","Ying Nian Wu"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Tree","Heatmap","Prototypes","Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iccv/ChenCHRZ19","Title":"Explaining Neural Networks Semantically and Quantitatively.","url":"https://doi.org/10.1109/ICCV.2019.00928","Year":"2019","Venue":"ICCV","Authors":["Runjin Chen","Hao Chen","Ge Huang","Jie Ren","Quanshi Zhang"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iccv/ManhardtA0BBNT19","Title":"Explaining the Ambiguity of Object Detection and 6D Pose From Visual Data.","url":"https://doi.org/10.1109/ICCV.2019.00694","Year":"2019","Venue":"ICCV","Authors":["Fabian Manhardt","Diego Mart\xedn Arroyo","Christian Rupprecht 0001","Benjamin Busam","Tolga Birdal","Nassir Navab","Federico Tombari"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Other"],"Type of Explanation":["Other"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iccv/MicheliniLLJ19","Title":"A Tour of Convolutional Networks Guided by Linear Interpreters.","url":"https://doi.org/10.1109/ICCV.2019.00485","Year":"2019","Venue":"ICCV","Authors":["Pablo Navarrete Michelini","Hanwen Liu","Yunhua Lu","Xingqun Jiang"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Generation"],"Type of Explanation":["Heatmap","Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iccv/PatroLPN19","Title":"U-CAM - Visual Explanation Using Uncertainty Based Class Activation Maps.","url":"https://doi.org/10.1109/ICCV.2019.00754","Year":"2019","Venue":"ICCV","Authors":["Badri N. Patro","Mayank Lunayach","Shivansh Patel","Vinay Namboodiri"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Question Answering"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iccv/SelvarajuLSJGHB19","Title":"Taking a HINT - Leveraging Explanations to Make Vision and Language Models More Grounded.","url":"https://doi.org/10.1109/ICCV.2019.00268","Year":"2019","Venue":"ICCV","Authors":["Ramprasaath Ramasamy Selvaraju","Stefan Lee","Yilin Shen","Hongxia Jin","Shalini Ghosh","Larry P. Heck","Dhruv Batra","Devi Parikh"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering","Generation"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iccv/SubramanyaPP19","Title":"Fooling Network Interpretation in Image Classification.","url":"https://doi.org/10.1109/ICCV.2019.00211","Year":"2019","Venue":"ICCV","Authors":["Akshayvarun Subramanya","Vipin Pillai","Hamed Pirsiavash"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iccv/SunRS19","Title":"Adaptive Activation Thresholding - Dynamic Routing Type Behavior for Interpretability in Convolutional Neural Networks.","url":"https://doi.org/10.1109/ICCV.2019.00504","Year":"2019","Venue":"ICCV","Authors":["Yiyou Sun","Sathya N. Ravi","Vikas Singh"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Prototypes"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iccv/WuS19","Title":"Towards Interpretable Object Detection by Unfolding Latent Structures.","url":"https://doi.org/10.1109/ICCV.2019.00613","Year":"2019","Venue":"ICCV","Authors":["Tianfu Wu 0001","Xi Song"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iccv/YinTLS019","Title":"Towards Interpretable Face Recognition.","url":"https://doi.org/10.1109/ICCV.2019.00944","Year":"2019","Venue":"ICCV","Authors":["Bangjie Yin","Luan Tran","Haoxiang Li","Xiaohui Shen","Xiaoming Liu 0002"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icdm/AssafGBS19","Title":"MTEX-CNN - Multivariate Time Series EXplanations for Predictions with Convolutional Neural Networks.","url":"https://doi.org/10.1109/ICDM.2019.00106","Year":"2019","Venue":"ICDM","Authors":["Roy Assaf","Ioana Giurgiu","Frank Bagehorn","Anika Schumann"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icdm/ChenL0X19","Title":"Scalable Explanation of Inferences on Large Graphs.","url":"https://doi.org/10.1109/ICDM.2019.00111","Year":"2019","Venue":"ICDM","Authors":["Chao Chen","Yifei Liu","Xi Zhang 0008","Sihong Xie"],"Type of Data":["Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Tree"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icdm/HamdiA19","Title":"Interpretable Feature Learning of Graphs using Tensor Decomposition.","url":"https://doi.org/10.1109/ICDM.2019.00037","Year":"2019","Venue":"ICDM","Authors":["Shah Muhammad Hamdi","Rafal A. Angryk"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Disentanglement","Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icdm/YooS19","Title":"EDiT - Interpreting Ensemble Models via Compact Soft Decision Trees.","url":"https://doi.org/10.1109/ICDM.2019.00187","Year":"2019","Venue":"ICDM","Authors":["Jaemin Yoo","Lee Sael"],"Type of Data":["Tabular / structured"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Tree Ensemble"],"Type of Task":["Classification"],"Type of Explanation":["Decision Tree"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icdm/ZhangQLYWZ19","Title":"KnowRisk - An Interpretable Knowledge-Guided Model for Disease Risk Prediction.","url":"https://doi.org/10.1109/ICDM.2019.00196","Year":"2019","Venue":"ICDM","Authors":["Xianli Zhang","Buyue Qian","Yang Li","Changchang Yin","Xudong Wang","Qinghua Zheng"],"Type of Data":["Tabular / structured","Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icdm/ZhouSC19","Title":"A Model-Agnostic Approach for Explaining the Predictions on Clustered Data.","url":"https://doi.org/10.1109/ICDM.2019.00202","Year":"2019","Venue":"ICDM","Authors":["Zihan Zhou 0003","Mingxuan Sun","Jianhua Chen 0003"],"Type of Data":["User-item matrix","Other"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic","Other"],"Type of Task":["Classification","Regression"],"Type of Explanation":["White-box model"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iclr/ChangCGD19","Title":"Explaining Image Classifiers by Counterfactual Generation.","url":"https://openreview.net/forum?id=B1MXz20cYQ","Year":"2019","Venue":"ICLR","Authors":["Chun-Hao Chang","Elliot Creager","Anna Goldenberg","David Duvenaud"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Prototypes"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iclr/ChenSWJ19","Title":"L-Shapley and C-Shapley - Efficient Model Interpretation for Structured Data.","url":"https://openreview.net/forum?id=S1E3Ko09F7","Year":"2019","Venue":"ICLR","Authors":["Jianbo Chen","Le Song","Martin J. Wainwright","Michael I. Jordan"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iclr/FortuinHLSR19","Title":"SOM-VAE - Interpretable Discrete Representation Learning on Time Series.","url":"https://openreview.net/forum?id=rygjcsR9Y7","Year":"2019","Venue":"ICLR","Authors":["Vincent Fortuin","Matthias H\xfcser","Francesco Locatello","Heiko Strathmann","Gunnar R\xe4tsch"],"Type of Data":["Images","Time series"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Representation learning","Clustering"],"Type of Explanation":["Representation Visualization","Representation Synthesis"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iclr/SinghMY19","Title":"Hierarchical interpretations for neural network predictions.","url":"https://openreview.net/forum?id=SkEqro0ctQ","Year":"2019","Venue":"ICLR","Authors":["Chandan Singh","W. James Murdoch","Bin Yu"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Graph"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iclr/ZhengPBH19","Title":"Revealing interpretable object representations from human behavior.","url":"https://openreview.net/forum?id=ryxSrhC9KX","Year":"2019","Venue":"ICLR","Authors":["Charles Y. Zheng","Francisco Pereira","Chris I. Baker","Martin N. Hebart"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic"],"Type of Task":["Representation learning"],"Type of Explanation":["Disentanglement","Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/0002LA19","Title":"Exploring interpretable LSTM neural networks over multi-variable data.","url":"http://proceedings.mlr.press/v97/guo19b.html","Year":"2019","Venue":"ICML","Authors":["Tian Guo 0002","Tao Lin","Nino Antulov-Fantulin"],"Type of Data":["Time series"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Regression"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/AnconaOG19","Title":"Explaining Deep Neural Networks with a Polynomial Time Algorithm for Shapley Value Approximation.","url":"http://proceedings.mlr.press/v97/ancona19a.html","Year":"2019","Venue":"ICML","Authors":["Marco Ancona","Cengiz \xd6ztireli","Markus H. Gross"],"Type of Data":["Tabular / structured","Images","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/DunckerBBS19","Title":"Learning interpretable continuous-time models of latent stochastic dynamical systems.","url":"http://proceedings.mlr.press/v97/duncker19a.html","Year":"2019","Venue":"ICML","Authors":["Lea Duncker","Gergo Bohner","Julien Boussard","Maneesh Sahani"],"Type of Data":["Time series"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Regression"],"Type of Explanation":["Representation Visualization","Feature plot"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/GoyalWEBPL19","Title":"Counterfactual Visual Explanations.","url":"http://proceedings.mlr.press/v97/goyal19a.html","Year":"2019","Venue":"ICML","Authors":["Yash Goyal","Ziyan Wu","Jan Ernst","Dhruv Batra","Devi Parikh","Stefan Lee"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Prototypes","Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/SinglaWFF19","Title":"Understanding Impacts of High-Order Loss Approximations and Features in Deep Learning Interpretation.","url":"http://proceedings.mlr.press/v97/singla19a.html","Year":"2019","Venue":"ICML","Authors":["Sahil Singla 0002","Eric Wallace","Shi Feng","Soheil Feizi"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/VedantamDLRBP19","Title":"Probabilistic Neural Symbolic Models for Interpretable Visual Question Answering.","url":"http://proceedings.mlr.press/v97/vedantam19a.html","Year":"2019","Venue":"ICML","Authors":["Ramakrishna Vedantam","Karan Desai","Stefan Lee","Marcus Rohrbach","Dhruv Batra","Devi Parikh"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Interpretability built into the predictive model","Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/WangZB19","Title":"Bias Also Matters - Bias Attribution for Deep Neural Network Explanation.","url":"http://proceedings.mlr.press/v97/wang19p.html","Year":"2019","Venue":"ICML","Authors":["Shengjie Wang","Tianyi Zhou","Jeff A. Bilmes"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"ijcai/ChenW0WBWC19","Title":"Co-Attentive Multi-Task Learning for Explainable Recommendation.","url":"https://doi.org/10.24963/ijcai.2019/296","Year":"2019","Venue":"IJCAI","Authors":["Zhongxia Chen","Xiting Wang","Xing Xie 0001","Tong Wu","Guoqing Bu","Yining Wang","Enhong Chen"],"Type of Data":["Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Text"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"ijcai/FuscoVVWS19","Title":"RecoNet - An Interpretable Neural Architecture for Recommender Systems.","url":"https://doi.org/10.24963/ijcai.2019/325","Year":"2019","Venue":"IJCAI","Authors":["Francesco Fusco","Michalis Vlachos","Vasileios Vasileiadis","Kathrin Wardatzky","Johannes Schneider"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"ijcai/HouWCLZL19","Title":"Explainable Fashion Recommendation - A Semantic Attribute Region Guided Approach.","url":"https://doi.org/10.24963/ijcai.2019/650","Year":"2019","Venue":"IJCAI","Authors":["Min Hou","Le Wu","Enhong Chen","Zhi Li","Vincent W. Zheng","Qi Liu 0003"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Recommendation"],"Type of Explanation":["Feature Importance","Heatmap","Localization","Prototypes","Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"ijcai/KennyK19","Title":"Twin-Systems to Explain Artificial Neural Networks using Case-Based Reasoning - Comparative Tests of Feature-Weighting Methods in ANN-CBR Twins for XAI.","url":"https://doi.org/10.24963/ijcai.2019/376","Year":"2019","Venue":"IJCAI","Authors":["Eoin M. Kenny","Mark T. Keane"],"Type of Data":["Tabular / structured","Images","Any"],"Type of Problem":["Model Explanation","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Prototypes"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"ijcai/LiYYJ19","Title":"Learning Interpretable Deep State Space Model for Probabilistic Time Series Forecasting.","url":"https://doi.org/10.24963/ijcai.2019/402","Year":"2019","Venue":"IJCAI","Authors":["Longyuan Li","Junchi Yan","Xiaokang Yang","Yaohui Jin"],"Type of Data":["Time series"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Regression"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"ijcai/ZhangR19","Title":"Learning Interpretable Relational Structures of Hinge-loss Markov Random Fields.","url":"https://doi.org/10.24963/ijcai.2019/838","Year":"2019","Venue":"IJCAI","Authors":["Yue Zhang","Arti Ramesh"],"Type of Data":["Text"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Policy learning","Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/ChengSHZ19","Title":"Incorporating Interpretability into Latent Factor Models via Fast Influence Analysis.","url":"https://doi.org/10.1145/3292500.3330857","Year":"2019","Venue":"KDD","Authors":["Weiyu Cheng","Yanyan Shen","Linpeng Huang","Yanmin Zhu"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/Jia0RLH19","Title":"Improving the Quality of Explanations with Local Embedding Perturbations.","url":"https://doi.org/10.1145/3292500.3330930","Year":"2019","Venue":"KDD","Authors":["Yunzhe Jia","James Bailey 0001","Kotagiri Ramamohanarao","Christopher Leckie","Michael E. Houle"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Tree Ensemble","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/MingXQR19","Title":"Interpretable and Steerable Sequence Learning via Prototypes.","url":"https://doi.org/10.1145/3292500.3330908","Year":"2019","Venue":"KDD","Authors":["Yao Ming","Panpan Xu","Huamin Qu","Liu Ren"],"Type of Data":["Text","Time series","Other"],"Type of Problem":["Outcome Explanation","Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/ShuCW0L19","Title":"dEFEND - Explainable Fake News Detection.","url":"https://doi.org/10.1145/3292500.3330935","Year":"2019","Venue":"KDD","Authors":["Kai Shu","Limeng Cui","Suhang Wang","Dongwon Lee 0001","Huan Liu 0001"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/Tao0WFYZ019","Title":"Log2Intent - Towards Interpretable User Modeling via Recurrent Semantics Memory Unit.","url":"https://doi.org/10.1145/3292500.3330889","Year":"2019","Venue":"KDD","Authors":["Zhiqiang Tao","Sheng Li 0001","Zhaowen Wang","Chen Fang","Longqi Yang","Handong Zhao","Yun Fu 0001"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Text"],"Method used to explain":["Interpretability built into the predictive model","Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/YanZDSSK19","Title":"GroupINN - Grouping-based Interpretable Neural Network for Classification of Limited, Noisy Brain Data.","url":"https://doi.org/10.1145/3292500.3330921","Year":"2019","Venue":"KDD","Authors":["Yujun Yan","Jiong Zhu","Marlena Duda","Eric Solarz","Chandra Sekhar Sripada","Danai Koutra"],"Type of Data":["Images","Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Graph","Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/YoshidaTK19","Title":"Learning Interpretable Metric between Graphs - Convex Formulation and Computation with Graph Mining.","url":"https://doi.org/10.1145/3292500.3330845","Year":"2019","Venue":"KDD","Authors":["Tomoki Yoshida","Ichiro Takeuchi","Masayuki Karasuyama"],"Type of Data":["Graph data"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Representation learning"],"Type of Explanation":["Feature Importance","Localization","Graph"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/ZhangTKLCC19","Title":"Axiomatic Interpretability for Multiclass Additive Models.","url":"https://doi.org/10.1145/3292500.3330898","Year":"2019","Venue":"KDD","Authors":["Xuezhou Zhang","Sarah Tan","Paul Koch","Yin Lou","Urszula Chajewska","Rich Caruana"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["Feature plot"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/ZhaoGS19","Title":"Riker - Mining Rich Keyword Representations for Interpretable Product Question Answering.","url":"https://doi.org/10.1145/3292500.3330985","Year":"2019","Venue":"KDD","Authors":["Jie Zhao","Ziyu Guan","Huan Sun"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/ChenLTBRS19","Title":"This Looks Like That - Deep Learning for Interpretable Image Recognition.","url":"https://proceedings.neurips.cc/paper/2019/hash/adf7ee2dcf142b0e11888e72b43fcb75-Abstract.html","Year":"2019","Venue":"NeurIPS","Authors":["Chaofan Chen","Oscar Li","Daniel Tao","Alina Barnett","Cynthia Rudin","Jonathan Su"],"Type of Data":["Images"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/GhorbaniWZK19","Title":"Towards Automatic Concept-based Explanations.","url":"https://proceedings.neurips.cc/paper/2019/hash/77d2afcb31f6493e350fca61764efb9a-Abstract.html","Year":"2019","Venue":"NeurIPS","Authors":["Amirata Ghorbani","James Wexler","James Y. Zou","Been Kim"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes","Localization","Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/HoyerMKKF19","Title":"Grid Saliency for Context Explanations of Semantic Segmentation.","url":"https://proceedings.neurips.cc/paper/2019/hash/6950aa02ae8613af620668146dd11840-Abstract.html","Year":"2019","Venue":"NeurIPS","Authors":["Lukas Hoyer","Mauricio Munoz","Prateek Katiyar","Anna Khoreva","Volker Fischer 0003"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Other"],"Type of Explanation":["Heatmap","Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/KimL19","Title":"Learning Dynamics of Attention - Human Prior for Interpretable Machine Reasoning.","url":"https://proceedings.neurips.cc/paper/2019/hash/ae3539867aaeec609a4260c6feb725f4-Abstract.html","Year":"2019","Venue":"NeurIPS","Authors":["Wonjae Kim","Yoonho Lee"],"Type of Data":["Images","Text","Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic"],"Type of Task":["Question Answering"],"Type of Explanation":["Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/WangN19","Title":"Deliberative Explanations - visualizing network insecurities.","url":"https://proceedings.neurips.cc/paper/2019/hash/68053af2923e00204c3ca7c6a3150cf7-Abstract.html","Year":"2019","Venue":"NeurIPS","Authors":["Pei Wang","Nuno Vasconcelos"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Prototypes"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/YingBYZL19","Title":"GNNExplainer - Generating Explanations for Graph Neural Networks.","url":"https://proceedings.neurips.cc/paper/2019/hash/d80b7040b773199015de6d3b4293c8ff-Abstract.html","Year":"2019","Venue":"NeurIPS","Authors":["Zhitao Ying","Dylan Bourgeois","Jiaxuan You","Marinka Zitnik","Jure Leskovec"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Graph"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"sigir/BalogRA19","Title":"Transparent, Scrutable and Explainable User Models for Personalized Recommendation.","url":"https://doi.org/10.1145/3331184.3331211","Year":"2019","Venue":"SIGIR","Authors":["Krisztian Balog","Filip Radlinski","Shushan Arakelyan"],"Type of Data":["User-item matrix"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"sigir/HanSYWN19","Title":"Prototype-guided Attribute-wise Interpretable Scheme for Clothing Matching.","url":"https://doi.org/10.1145/3331184.3331245","Year":"2019","Venue":"SIGIR","Authors":["Xianjing Han","Xuemeng Song","Jianhua Yin","Yinglong Wang 0001","Liqiang Nie"],"Type of Data":["Images","Text","Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes","Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"sigir/LiQPQDW19","Title":"A Capsule Network for Recommendation and Explaining What You Like and Dislike.","url":"https://doi.org/10.1145/3331184.3331216","Year":"2019","Venue":"SIGIR","Authors":["Chenliang Li","Cong Quan","Li Peng","Yunwei Qi","Yuming Deng","Libing Wu"],"Type of Data":["Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Heatmap","Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"sigir/TaoJWW19","Title":"The FacT - Taming Latent Factor Models for Explainability with Factorization Trees.","url":"https://doi.org/10.1145/3331184.3331244","Year":"2019","Venue":"SIGIR","Authors":["Yiyi Tao","Yiling Jia","Nan Wang","Hongning Wang"],"Type of Data":["User-item matrix"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Decision Tree","Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"sigir/XianFMMZ19","Title":"Reinforcement Knowledge Graph Reasoning for Explainable Recommendation.","url":"https://doi.org/10.1145/3331184.3331203","Year":"2019","Venue":"SIGIR","Authors":["Yikun Xian","Zuohui Fu","S. Muthukrishnan","Gerard de Melo","Yongfeng Zhang"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Policy learning","Recommendation"],"Type of Explanation":["Graph"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"sigir/Yang0WMF0C19","Title":"Interpretable Fashion Matching with Rich Attributes.","url":"https://doi.org/10.1145/3331184.3331242","Year":"2019","Venue":"SIGIR","Authors":["Xun Yang","Xiangnan He 0001","Xiang Wang 0010","Yunshan Ma","Fuli Feng","Meng Wang 0001","Tat-Seng Chua"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules","Decision Tree","Prototypes"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"www/MaZCJWLMR19","Title":"Jointly Learning Explainable Rules for Recommendation with Knowledge Graph.","url":"https://doi.org/10.1145/3308558.3313607","Year":"2019","Venue":"WWW","Authors":["Weizhi Ma","Min Zhang 0006","Yue Cao","Woojeong Jin","Chenyang Wang","Yiqun Liu 0001","Shaoping Ma","Xiang Ren 0001"],"Type of Data":["Graph data","User-item matrix"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/BiskSCM18","Title":"Learning Interpretable Spatial Operations in a Rich 3D Blocks World.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/17410","Year":"2018","Venue":"AAAI","Authors":["Yonatan Bisk","Kevin J. Shih","Yejin Choi","Daniel Marcu"],"Type of Data":["Other"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Policy learning"],"Type of Explanation":["Other"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/HsuM0S18","Title":"An Interpretable Generative Adversarial Approach to Classification of Latent Entity Relations in Unstructured Sentences.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/16629","Year":"2018","Venue":"AAAI","Authors":["Shiou Tian Hsu","Changsung Moon","Paul Jones 0001","Nagiza F. Samatova"],"Type of Data":["Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/LiLCR18","Title":"Deep Learning for Case-Based Reasoning Through Prototypes - A Neural Network That Explains Its Predictions.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/17082","Year":"2018","Venue":"AAAI","Authors":["Oscar Li","Hao Liu 0015","Chaofan Chen","Cynthia Rudin"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/NguyenKLW18","Title":"An Interpretable Joint Graphical Model for Fact-Checking From Crowds.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/16673","Year":"2018","Venue":"AAAI","Authors":["An T. Nguyen 0001","Aditya Kharosekar","Matthew Lease","Byron C. Wallace"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Logistic Regression"],"Type of Task":["Classification"],"Type of Explanation":["Other"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/PalangiSHD18","Title":"Question-Answering with Grammatically-Interpretable Representations.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/17090","Year":"2018","Venue":"AAAI","Authors":["Hamid Palangi","Paul Smolensky","Xiaodong He 0001","Li Deng 0001"],"Type of Data":["Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Question Answering"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/Ribeiro0G18","Title":"Anchors - High-Precision Model-Agnostic Explanations.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/16982","Year":"2018","Venue":"AAAI","Authors":["Marco T\xfalio Ribeiro","Sameer Singh 0001","Carlos Guestrin"],"Type of Data":["Tabular / structured","Images","Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Any (for a specific task); model-agnostic","Logistic Regression"],"Type of Task":["Classification","Question Answering"],"Type of Explanation":["Decision Rules","Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/RossD18","Title":"Improving the Adversarial Robustness and Interpretability of Deep Neural Networks by Regularizing Their Input Gradients.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/17337","Year":"2018","Venue":"AAAI","Authors":["Andrew Slavin Ross","Finale Doshi-Velez"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Representation Synthesis"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/RustamovK18","Title":"Interpretable Graph-Based Semi-Supervised Learning via Flows.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/16396","Year":"2018","Venue":"AAAI","Authors":["Raif M. Rustamov","James T. Klosowski"],"Type of Data":["Tabular / structured","Images","Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Graph"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/SubramanianPJBH18","Title":"SPINE - SParse Interpretable Neural Embeddings.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/17433","Year":"2018","Venue":"AAAI","Authors":["Anant Subramanian","Danish Pruthi","Harsh Jhamtani","Taylor Berg-Kirkpatrick","Eduard H. Hovy"],"Type of Data":["Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Support Vector Machine","Logistic Regression","Any (for a specific task); model-agnostic"],"Type of Task":["Classification","Regression","Representation learning"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/WuHPZ0D18","Title":"Beyond Sparsity - Tree Regularization of Deep Models for Interpretability.","url":"https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/16285","Year":"2018","Venue":"AAAI","Authors":["Mike Wu","Michael C. Hughes","Sonali Parbhoo","Maurizio Zazzi","Volker Roth 0001","Finale Doshi-Velez"],"Type of Data":["Tabular / structured","Time series"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Tree"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/EskenaziLZ18","Title":"Unsupervised Discrete Sentence Representation Learning for Interpretable Neural Dialog Generation.","url":"https://www.aclweb.org/anthology/P18-1101/","Year":"2018","Venue":"ACL","Authors":["Tiancheng Zhao","Kyusong Lee","Maxine Esk\xe9nazi"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation","Representation learning"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/InuiTT18","Title":"Interpretable and Compositional Relation Learning by Joint Training with an Autoencoder.","url":"https://www.aclweb.org/anthology/P18-1200/","Year":"2018","Venue":"ACL","Authors":["Ryo Takahashi","Ran Tian","Kentaro Inui"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Representation learning","Other"],"Type of Explanation":["Disentanglement","Representation Visualization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/MorencyCPLZ18","Title":"Multimodal Language Analysis in the Wild - CMU-MOSEI Dataset and Interpretable Dynamic Fusion Graph.","url":"https://www.aclweb.org/anthology/P18-1208/","Year":"2018","Venue":"ACL","Authors":["Amir Zadeh 0001","Paul Pu Liang","Soujanya Poria","Erik Cambria","Louis-Philippe Morency"],"Type of Data":["Text","Video","Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Feature plot"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/SchutzeRP18","Title":"Evaluating neural network explanation methods using hybrid documents and morphosyntactic agreement.","url":"https://www.aclweb.org/anthology/P18-1032/","Year":"2018","Venue":"ACL","Authors":["Nina P\xf6rner","Hinrich Sch\xfctze","Benjamin Roth 0001"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/ChuangL0F18","Title":"Learning to Act Properly - Predicting and Explaining Affordances From Images.","url":"http://openaccess.thecvf.com/content_cvpr_2018/html/Chuang_Learning_to_Act_CVPR_2018_paper.html","Year":"2018","Venue":"CVPR","Authors":["Ching-Yao Chuang","Jiaman Li","Antonio Torralba 0001","Sanja Fidler"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/FongV18","Title":"Net2Vec - Quantifying and Explaining How Concepts Are Encoded by Filters in Deep Neural Networks.","url":"http://openaccess.thecvf.com/content_cvpr_2018/html/Fong_Net2Vec_Quantifying_and_CVPR_2018_paper.html","Year":"2018","Venue":"CVPR","Authors":["Ruth Fong","Andrea Vedaldi"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Prototypes"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/MascharkaTSM18","Title":"Transparency by Design - Closing the Gap Between Performance and Interpretability in Visual Reasoning.","url":"http://openaccess.thecvf.com/content_cvpr_2018/html/Mascharka_Transparency_by_Design_CVPR_2018_paper.html","Year":"2018","Venue":"CVPR","Authors":["David Mascharka","Philip Tran","Ryan Soklaski","Arjun Majumdar"],"Type of Data":["Images","Text"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/ParkHARSDR18","Title":"Multimodal Explanations - Justifying Decisions and Pointing to the Evidence.","url":"http://openaccess.thecvf.com/content_cvpr_2018/html/Park_Multimodal_Explanations_Justifying_CVPR_2018_paper.html","Year":"2018","Venue":"CVPR","Authors":["Dong Huk Park","Lisa Anne Hendricks","Zeynep Akata","Anna Rohrbach","Bernt Schiele","Trevor Darrell","Marcus Rohrbach"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Heatmap","Localization","Text"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/WangS0H18","Title":"Interpret Neural Networks by Identifying Critical Data Routing Paths.","url":"http://openaccess.thecvf.com/content_cvpr_2018/html/Wang_Interpret_Neural_Networks_CVPR_2018_paper.html","Year":"2018","Venue":"CVPR","Authors":["Yulong Wang","Hang Su 0006","Bo Zhang 0010","Xiaolin Hu 0001"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Other"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/WuLCJL18","Title":"Interpretable Video Captioning via Trajectory Structured Localization.","url":"http://openaccess.thecvf.com/content_cvpr_2018/html/Wu_Interpretable_Video_Captioning_CVPR_2018_paper.html","Year":"2018","Venue":"CVPR","Authors":["Xian Wu","Guanbin Li","Qingxing Cao","Qingge Ji","Liang Lin"],"Type of Data":["Video"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/ZhangWZ18a","Title":"Interpretable Convolutional Neural Networks.","url":"http://openaccess.thecvf.com/content_cvpr_2018/html/Zhang_Interpretable_Convolutional_Neural_CVPR_2018_paper.html","Year":"2018","Venue":"CVPR","Authors":["Quanshi Zhang","Ying Nian Wu","Song-Chun Zhu"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Disentanglement","Heatmap","Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/ZhangXWXY18","Title":"DeepVoting - A Robust and Explainable Deep Network for Semantic Part Detection Under Partial Occlusion.","url":"http://openaccess.thecvf.com/content_cvpr_2018/html/Zhang_DeepVoting_A_Robust_CVPR_2018_paper.html","Year":"2018","Venue":"CVPR","Authors":["Zhishuai Zhang","Cihang Xie","Jianyu Wang","Lingxi Xie","Alan L. Yuille"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Localization","Prototypes"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icdm/JhaWXZ18","Title":"Interpretable Word Embeddings for Medical Domain.","url":"https://doi.org/10.1109/ICDM.2018.00135","Year":"2018","Venue":"ICDM","Authors":["Kishlay Jha","Yaqing Wang","Guangxu Xun","Aidong Zhang"],"Type of Data":["Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Representation learning"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icdm/KarlssonRPG18","Title":"Explainable Time Series Tweaking via Irreversible and Reversible Temporal Transformations.","url":"https://doi.org/10.1109/ICDM.2018.00036","Year":"2018","Venue":"ICDM","Authors":["Isak Karlsson","Jonathan Rebane","Panagiotis Papapetrou","Aristides Gionis"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Tree Ensemble"],"Type of Task":["Classification"],"Type of Explanation":["Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icdm/WangCYWW018","Title":"A Reinforcement Learning Framework for Explainable Recommendation.","url":"https://doi.org/10.1109/ICDM.2018.00074","Year":"2018","Venue":"ICDM","Authors":["Xiting Wang","Yiru Chen","Jie Yang","Le Wu","Zhengtao Wu","Xing Xie 0001"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Recommendation"],"Type of Explanation":["Text"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iclr/KindermansSAMEK18","Title":"Learning how to explain neural networks - PatternNet and PatternAttribution.","url":"https://openreview.net/forum?id=Hkn7CBaTW","Year":"2018","Venue":"ICLR","Authors":["Pieter-Jan Kindermans","Kristof T. Sch\xfctt","Maximilian Alber","Klaus-Robert M\xfcller","Dumitru Erhan","Been Kim","Sven D\xe4hne"],"Type of Data":["Images","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iclr/ShuXS18","Title":"Hierarchical and Interpretable Skill Acquisition in Multi-task Reinforcement Learning.","url":"https://openreview.net/forum?id=SJJQVZW0b","Year":"2018","Venue":"ICLR","Authors":["Tianmin Shu","Caiming Xiong","Richard Socher"],"Type of Data":["Images"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Policy learning"],"Type of Explanation":["Graph","Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iclr/TrottXS18","Title":"Interpretable Counting for Visual Question Answering.","url":"https://openreview.net/forum?id=S1J2ZyZ0Z","Year":"2018","Venue":"ICLR","Authors":["Alexander Trott","Caiming Xiong","Richard Socher"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Question Answering"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/AdelGW18","Title":"Discovering Interpretable Representations for Both Deep Generative and Discriminative Models.","url":"http://proceedings.mlr.press/v80/adel18a.html","Year":"2018","Venue":"ICML","Authors":["Tameem Adel","Zoubin Ghahramani","Adrian Weller"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Representation learning"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/AinsworthFLF18","Title":"oi-VAE - Output Interpretable VAEs for Nonlinear Group Factor Analysis.","url":"http://proceedings.mlr.press/v80/ainsworth18a.html","Year":"2018","Venue":"ICML","Authors":["Samuel K. Ainsworth","Nicholas J. Foti","Adrian K. C. Lee","Emily B. Fox"],"Type of Data":["Images","Video","Time series"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/KimWGCWVS18","Title":"Interpretability Beyond Feature Attribution - Quantitative Testing with Concept Activation Vectors (TCAV).","url":"http://proceedings.mlr.press/v80/kim18d.html","Year":"2018","Venue":"ICML","Authors":["Been Kim","Martin Wattenberg","Justin Gilmer","Carrie J. Cai","James Wexler","Fernanda B. Vi\xe9gas","Rory Sayres"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Heatmap","Prototypes","Representation Synthesis"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/VermaMSKC18","Title":"Programmatically Interpretable Reinforcement Learning.","url":"http://proceedings.mlr.press/v80/verma18a.html","Year":"2018","Venue":"ICML","Authors":["Abhinav Verma","Vijayaraghavan Murali","Rishabh Singh","Pushmeet Kohli","Swarat Chaudhuri"],"Type of Data":["Time series"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Policy learning"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"ijcai/HuJCC18","Title":"Interpretable Recommendation via Attraction Modeling - Learning Multilevel Attractiveness over Multimodal Movie Contents.","url":"https://doi.org/10.24963/ijcai.2018/472","Year":"2018","Venue":"IJCAI","Authors":["Liang Hu 0004","Songlei Jian","Longbing Cao","Qingkui Chen"],"Type of Data":["Tabular / structured","Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"ijcai/LabreucheF18","Title":"Explaining Multi-Criteria Decision Aiding Models with an Extended Shapley Value.","url":"https://doi.org/10.24963/ijcai.2018/46","Year":"2018","Venue":"IJCAI","Authors":["Christophe Labreuche","Simon Fossier"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Other"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"ijcai/LiuSH18","Title":"Contextual Outlier Interpretation.","url":"https://doi.org/10.24963/ijcai.2018/341","Year":"2018","Venue":"IJCAI","Authors":["Ninghao Liu","Donghwa Shin","Xia Hu"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Support Vector Machine","Any (for a specific task); model-agnostic"],"Type of Task":["Anomaly detection"],"Type of Explanation":["Localization","Prototypes","Other"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"ijcai/LuoAPWZYH18","Title":"Beyond Polarity - Interpretable Financial Sentiment Analysis with Hierarchical Query-driven Attention.","url":"https://doi.org/10.24963/ijcai.2018/590","Year":"2018","Venue":"IJCAI","Authors":["Ling Luo","Xiang Ao","Feiyang Pan","Jin Wang 0007","Tong Zhao","Ningzi Yu","Qing He 0003"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"ijcai/RagoCT18","Title":"Argumentation-Based Recommendations - Fantastic Explanations and How to Find Them.","url":"https://doi.org/10.24963/ijcai.2018/269","Year":"2018","Venue":"IJCAI","Authors":["Antonio Rago 0001","Oana Cocarascu","Francesca Toni"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Feature Importance","Graph"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"ijcai/SatoSS018","Title":"Interpretable Adversarial Perturbation in Input Embedding Space for Text.","url":"https://doi.org/10.24963/ijcai.2018/601","Year":"2018","Venue":"IJCAI","Authors":["Motoki Sato","Jun Suzuki","Hiroyuki Shindo","Yuji Matsumoto 0001"],"Type of Data":["Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Prototypes","Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"ijcai/ShihCD18","Title":"A Symbolic Approach to Explaining Bayesian Network Classifiers.","url":"https://doi.org/10.24963/ijcai.2018/708","Year":"2018","Venue":"IJCAI","Authors":["Andy Shih","Arthur Choi","Adnan Darwiche"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Explanation","Outcome Explanation"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","White-box model"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/BaiZEV18","Title":"Interpretable Representation Learning for Healthcare via Capturing Disease Progression through Time.","url":"https://doi.org/10.1145/3219819.3219904","Year":"2018","Venue":"KDD","Authors":["Tian Bai","Shanshan Zhang","Brian L. Egleston","Slobodan Vucetic"],"Type of Data":["Text","Time series"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/ChuHHWP18","Title":"Exact and Consistent Interpretation for Piecewise Linear Neural Networks - A Closed Form Solution.","url":"https://doi.org/10.1145/3219819.3220063","Year":"2018","Venue":"KDD","Authors":["Lingyang Chu","Xia Hu","Juhua Hu","Lanjun Wang","Jian Pei"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","White-box model"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/DuLSH18","Title":"Towards Explanation of DNN-based Prediction with Guided Feature Inversion.","url":"https://doi.org/10.1145/3219819.3220099","Year":"2018","Venue":"KDD","Authors":["Mengnan Du","Ninghao Liu","Qingquan Song","Xia Hu"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/Janakiraman18","Title":"Explaining Aviation Safety Incidents Using Deep Temporal Multiple Instance Learning.","url":"https://doi.org/10.1145/3219819.3219871","Year":"2018","Venue":"KDD","Authors":["Vijay Manikandan Janakiraman"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Text"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/LiuHLH18","Title":"On Interpretation of Network Embedding via Taxonomy Induction.","url":"https://doi.org/10.1145/3219819.3220001","Year":"2018","Venue":"KDD","Authors":["Ninghao Liu","Xiao Huang 0001","Jundong Li","Xia Hu"],"Type of Data":["Graph data","Other"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Graph","Representation Visualization","Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/LiuYH18","Title":"Adversarial Detection with Model Interpretation.","url":"https://doi.org/10.1145/3219819.3220027","Year":"2018","Venue":"KDD","Authors":["Ninghao Liu","Hongxia Yang","Xia Hu"],"Type of Data":["Text","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Support Vector Machine","Any (for a specific task); model-agnostic","Logistic Regression"],"Type of Task":["Classification"],"Type of Explanation":["White-box model"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/WangWLW18","Title":"Multilevel Wavelet Decomposition Network for Interpretable Time Series Analysis.","url":"https://doi.org/10.1145/3219819.3220060","Year":"2018","Venue":"KDD","Authors":["Jingyuan Wang","Ze Wang","Jianfeng Li","Junjie Wu 0001"],"Type of Data":["Time series"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/YangSJ018","Title":"I Know You\'ll Be Back - Interpretable New User Clustering and Churn Prediction on a Mobile Social Application.","url":"https://doi.org/10.1145/3219819.3219821","Year":"2018","Venue":"KDD","Authors":["Carl Yang","Xiaolin Shi","Luo Jie","Jiawei Han 0001"],"Type of Data":["Time series","Graph data"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Clustering","Classification"],"Type of Explanation":["Feature Importance","Representation Visualization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/ZangC018","Title":"Learning and Interpreting Complex Distributions in Empirical Data.","url":"https://doi.org/10.1145/3219819.3220073","Year":"2018","Venue":"KDD","Authors":["Chengxi Zang","Peng Cui 0001","Wenwu Zhu 0001"],"Type of Data":["Tabular / structured","Time series"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Regression"],"Type of Explanation":["White-box model"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/CamburuRLB18","Title":"e-SNLI - Natural Language Inference with Natural Language Explanations.","url":"https://proceedings.neurips.cc/paper/2018/hash/4c7a167bb329bd92580a99ce422d6fa6-Abstract.html","Year":"2018","Venue":"NeurIPS","Authors":["Oana-Maria Camburu","Tim Rockt\xe4schel","Thomas Lukasiewicz","Phil Blunsom"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Text"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/GuoHTXL18","Title":"Explaining Deep Learning Models - A Bayesian Non-parametric Approach.","url":"https://proceedings.neurips.cc/paper/2018/hash/4b4edc2630fe75800ddc29a7b4070add-Abstract.html","Year":"2018","Venue":"NeurIPS","Authors":["Wenbo Guo 0002","Sui Huang","Yunzhe Tao","Xinyu Xing","Lin Lin"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/GuptaBCC18","Title":"Diminishing Returns Shape Constraints for Interpretability and Regularization.","url":"https://proceedings.neurips.cc/paper/2018/hash/caa202034f268232c26fac9435f54e15-Abstract.html","Year":"2018","Venue":"NeurIPS","Authors":["Maya R. Gupta","Dara Bahri","Andrew Cotter","Kevin Robert Canini"],"Type of Data":["Tabular / structured"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network","Other"],"Type of Task":["Regression"],"Type of Explanation":["Feature plot"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/HeoLKLKYH18","Title":"Uncertainty-Aware Attention for Reliable Interpretation and Prediction.","url":"https://proceedings.neurips.cc/paper/2018/hash/285e19f20beded7d215102b49d5c09a0-Abstract.html","Year":"2018","Venue":"NeurIPS","Authors":["Jay Heo","Haebeom Lee","Saehoon Kim","Juho Lee","Kwang Joon Kim","Eunho Yang","Sung Ju Hwang"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/Norcliffe-Brown18","Title":"Learning Conditioned Graph Structures for Interpretable Visual Question Answering.","url":"https://proceedings.neurips.cc/paper/2018/hash/4aeae10ea1c6433c926cdfa558d31134-Abstract.html","Year":"2018","Venue":"NeurIPS","Authors":["Will Norcliffe-Brown","Stathis Vafeias","Sarah Parisot"],"Type of Data":["Images","Text"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Question Answering"],"Type of Explanation":["Graph","Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/PlumbMT18","Title":"Model Agnostic Supervised Local Explanations.","url":"https://proceedings.neurips.cc/paper/2018/hash/b495ce63ede0f4efc9eec62cb947c162-Abstract.html","Year":"2018","Venue":"NeurIPS","Authors":["Gregory Plumb","Denali Molitor","Ameet S. Talwalkar"],"Type of Data":["Tabular / structured","Any"],"Type of Problem":["Model Inspection","Outcome Explanation","Transparent Box Design"],"Type of Model to be Explained":["Tree Ensemble","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["White-box model"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/TsangLPML18","Title":"Neural Interaction Transparency (NIT) - Disentangling Learned Interactions for Improved Interpretability.","url":"https://proceedings.neurips.cc/paper/2018/hash/74378afe5e8b20910cf1f939e57f0480-Abstract.html","Year":"2018","Venue":"NeurIPS","Authors":["Michael Tsang","Hanpeng Liu","Sanjay Purushotham","Pavankumar Murali","Yan Liu 0002"],"Type of Data":["Tabular / structured","Images","Any"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Logistic Regression","Any (for a specific task); model-agnostic"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/Wang18","Title":"Multi-value Rule Sets for Interpretable Classification with Feature-Efficient Representations.","url":"https://proceedings.neurips.cc/paper/2018/hash/32bbf7b2bc4ed14eb1e9c2580056a989-Abstract.html","Year":"2018","Venue":"NeurIPS","Authors":["Tong Wang"],"Type of Data":["Tabular / structured"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/YehKYR18","Title":"Representer Point Selection for Explaining Deep Neural Networks.","url":"https://proceedings.neurips.cc/paper/2018/hash/8a7129b8f3edd95b7d969dfc2c8e9d9d-Abstract.html","Year":"2018","Venue":"NeurIPS","Authors":["Chih-Kuan Yeh","Joon Sik Kim","Ian En-Hsu Yen","Pradeep Ravikumar"],"Type of Data":["Any","Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/ZhangSS18","Title":"Interpreting Neural Network Judgments via Minimal, Stable, and Symbolic Corrections.","url":"https://proceedings.neurips.cc/paper/2018/hash/300891a62162b960cf02ce3827bb363c-Abstract.html","Year":"2018","Venue":"NeurIPS","Authors":["Xin Zhang 0035","Armando Solar-Lezama","Rishabh Singh"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"sigir/WangWJY18","Title":"Explainable Recommendation via Multi-Task Learning in Opinionated Text Data.","url":"https://doi.org/10.1145/3209978.3210010","Year":"2018","Venue":"SIGIR","Authors":["Nan Wang","Hongning Wang","Yiling Jia","Yue Yin"],"Type of Data":["User-item matrix","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Localization","Representation Visualization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"www/ChenZLM18","Title":"Neural Attentional Rating Regression with Review-level Explanations.","url":"https://doi.org/10.1145/3178876.3186070","Year":"2018","Venue":"WWW","Authors":["Chong Chen","Min Zhang 0006","Yiqun Liu 0001","Shaoping Ma"],"Type of Data":["Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"www/Wang0FNC18","Title":"TEM - Tree-enhanced Embedding Model for Explainable Recommendation.","url":"https://doi.org/10.1145/3178876.3186066","Year":"2018","Venue":"WWW","Authors":["Xiang Wang 0010","Xiangnan He 0001","Fuli Feng","Liqiang Nie","Tat-Seng Chua"],"Type of Data":["User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Recommendation"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method","Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"www/WuWYLZ18","Title":"Sharing Deep Neural Network Models with Interpretation.","url":"https://doi.org/10.1145/3178876.3185995","Year":"2018","Venue":"WWW","Authors":["Huijun Wu 0001","Chen Wang 0008","Jie Yin","Kai Lu","Liming Zhu"],"Type of Data":["Images"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Graph","Prototypes"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/ZhangCWZ17","Title":"Growing Interpretable Part Graphs on ConvNets via Multi-Shot Learning.","url":"http://aaai.org/ocs/index.php/AAAI/AAAI17/paper/view/14909","Year":"2017","Venue":"AAAI","Authors":["Quanshi Zhang","Ruiming Cao","Ying Nian Wu","Song-Chun Zhu"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network","Support Vector Machine"],"Type of Task":["Classification"],"Type of Explanation":["Graph","Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/XieMDH17","Title":"An Interpretable Knowledge Transfer Model for Knowledge Base Completion.","url":"https://doi.org/10.18653/v1/P17-1088","Year":"2017","Venue":"ACL","Authors":["Qizhe Xie","Xuezhe Ma","Zihang Dai","Eduard H. Hovy"],"Type of Data":["Tabular / structured"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/BauZKO017","Title":"Network Dissection - Quantifying Interpretability of Deep Visual Representations.","url":"https://doi.org/10.1109/CVPR.2017.354","Year":"2017","Venue":"CVPR","Authors":["David Bau","Bolei Zhou","Aditya Khosla","Aude Oliva","Antonio Torralba 0001"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Disentanglement","Localization","Text"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/DongSZZ17","Title":"Improving Interpretability of Deep Neural Networks with Semantic Information.","url":"https://doi.org/10.1109/CVPR.2017.110","Year":"2017","Venue":"CVPR","Authors":["Yinpeng Dong","Hang Su 0006","Jun Zhu 0001","Bo Zhang 0010"],"Type of Data":["Video"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"cvpr/LiangLSFYX17","Title":"Interpretable Structure-Evolving LSTM.","url":"https://doi.org/10.1109/CVPR.2017.234","Year":"2017","Venue":"CVPR","Authors":["Xiaodan Liang","Liang Lin","Xiaohui Shen","Jiashi Feng","Shuicheng Yan","Eric P. Xing"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iccv/KimC17","Title":"Interpretable Learning for Self-Driving Cars by Visualizing Causal Attention.","url":"https://doi.org/10.1109/ICCV.2017.320","Year":"2017","Venue":"ICCV","Authors":["Jinkyu Kim","John F. Canny"],"Type of Data":["Images","Video"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Regression"],"Type of Explanation":["Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iccv/SelvarajuCDVPB17","Title":"Grad-CAM - Visual Explanations from Deep Networks via Gradient-Based Localization.","url":"https://doi.org/10.1109/ICCV.2017.74","Year":"2017","Venue":"ICCV","Authors":["Ramprasaath R. Selvaraju","Michael Cogswell","Abhishek Das","Ramakrishna Vedantam","Devi Parikh","Dhruv Batra"],"Type of Data":["Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Heatmap","Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iccv/WorrallGTB17","Title":"Interpretable Transformations with Encoder-Decoder Networks.","url":"https://doi.org/10.1109/ICCV.2017.611","Year":"2017","Venue":"ICCV","Authors":["Daniel E. Worrall","Stephan J. Garbin","Daniyar Turmukhambetov","Gabriel J. Brostow"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Generation","Representation learning"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icdm/OyamadaN17","Title":"Relational Mixture of Experts - Explainable Demographics Prediction with Behavioral Data.","url":"https://doi.org/10.1109/ICDM.2017.45","Year":"2017","Venue":"ICDM","Authors":["Masafumi Oyamada","Shinji Nakadai"],"Type of Data":["User-item matrix"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Support Vector Machine","Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules","Heatmap"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"iclr/YuV17","Title":"Towards Deep Interpretability (MUS-ROVER II) - Learning Hierarchical Representations of Tonal Music.","url":"https://openreview.net/forum?id=ryhqQFKgl","Year":"2017","Venue":"ICLR","Authors":["Haizi Yu","Lav R. Varshney"],"Type of Data":["Other"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Representation learning"],"Type of Explanation":["Decision Rules","Graph"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/DempseyMSDGMR17","Title":"iSurvive - An Interpretable, Event-time Prediction Model for mHealth.","url":"http://proceedings.mlr.press/v70/dempsey17a.html","Year":"2017","Venue":"ICML","Authors":["Walter H. Dempsey","Alexander Moreno","Christy K. Scott","Michael L. Dennis","David H. Gustafson","Susan A. Murphy","James M. Rehg"],"Type of Data":["Tabular / structured","Time series"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Regression"],"Type of Explanation":["White-box model"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icml/FoersterGSCS17","Title":"Input Switched Affine Networks - An RNN Architecture Designed for Interpretability.","url":"http://proceedings.mlr.press/v70/foerster17a.html","Year":"2017","Venue":"ICML","Authors":["Jakob N. Foerster","Justin Gilmer","Jascha Sohl-Dickstein","Jan Chorowski","David Sussillo"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation","Transparent Box Design"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Generation"],"Type of Explanation":["Feature Importance","Feature plot"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"ijcai/RossHD17","Title":"Right for the Right Reasons - Training Differentiable Models by Constraining their Explanations.","url":"https://doi.org/10.24963/ijcai.2017/371","Year":"2017","Venue":"IJCAI","Authors":["Andrew Slavin Ross","Michael C. Hughes","Finale Doshi-Velez"],"Type of Data":["Tabular / structured","Images","Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Supervised explanation training"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/TolomeiSHL17","Title":"Interpretable Predictions of Tree-based Ensembles via Actionable Feature Tweaking.","url":"https://doi.org/10.1145/3097983.3098039","Year":"2017","Venue":"KDD","Authors":["Gabriele Tolomei","Fabrizio Silvestri","Andrew Haines","Mounia Lalmas"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Tree Ensemble"],"Type of Task":["Classification"],"Type of Explanation":["Other"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/ElenbergDFK17","Title":"Streaming Weak Submodularity - Interpreting Neural Networks on the Fly.","url":"https://proceedings.neurips.cc/paper/2017/hash/c182f930a06317057d31c73bb2fedd4f-Abstract.html","Year":"2017","Venue":"NeurIPS","Authors":["Ethan R. Elenberg","Alexandros G. Dimakis","Moran Feldman","Amin Karbasi"],"Type of Data":["Images"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/HsuZG17","Title":"Unsupervised Learning of Disentangled and Interpretable Representations from Sequential Data.","url":"https://proceedings.neurips.cc/paper/2017/hash/0a0a0c8aaa00ade50f74a3f0ca981ed7-Abstract.html","Year":"2017","Venue":"NeurIPS","Authors":["Wei-Ning Hsu","Yu Zhang 0033","James R. Glass"],"Type of Data":["Time series"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Representation learning"],"Type of Explanation":["Disentanglement","Representation Synthesis"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/LiSE17","Title":"InfoGAIL - Interpretable Imitation Learning from Visual Demonstrations.","url":"https://proceedings.neurips.cc/paper/2017/hash/2cd4e8a2ce081c3d7c32c3cde4312ef7-Abstract.html","Year":"2017","Venue":"NeurIPS","Authors":["Yunzhu Li","Jiaming Song","Stefano Ermon"],"Type of Data":["Other"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Policy learning"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/LundbergL17","Title":"A Unified Approach to Interpreting Model Predictions.","url":"https://proceedings.neurips.cc/paper/2017/hash/8a20a8621978632d76c43dfd28b67767-Abstract.html","Year":"2017","Venue":"NeurIPS","Authors":["Scott M. Lundberg","Su-In Lee"],"Type of Data":["Tabular / structured","Images","Any"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/RaghuGYS17","Title":"SVCCA - Singular Vector Canonical Correlation Analysis for Deep Learning Dynamics and Interpretability.","url":"https://proceedings.neurips.cc/paper/2017/hash/dc6a7e655d7e5840e66733e9ee67cc69-Abstract.html","Year":"2017","Venue":"NeurIPS","Authors":["Maithra Raghu","Justin Gilmer","Jason Yosinski","Jascha Sohl-Dickstein"],"Type of Data":["Tabular / structured","Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icdm/ChenCHCCSD16","Title":"Interpretable Clustering via Discriminative Rectangle Mixture Model.","url":"https://doi.org/10.1109/ICDM.2016.0097","Year":"2016","Venue":"ICDM","Authors":["Junxiang Chen","Yale Chang","Brian Hobbs","Peter J. Castaldi","Michael H. Cho","Edwin K. Silverman","Jennifer G. Dy"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Other"],"Type of Task":["Clustering"],"Type of Explanation":["Decision Rules","Representation Visualization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icdm/DangSSSB16","Title":"Outlier Detection from Network Data with Subnetwork Interpretation.","url":"https://doi.org/10.1109/ICDM.2016.0101","Year":"2016","Venue":"ICDM","Authors":["Xuan-Hong Dang","Arlei Silva","Ambuj K. Singh","Ananthram Swami","Prithwish Basu"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Other"],"Type of Task":["Anomaly detection"],"Type of Explanation":["Localization"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icdm/WangRDLKM16","Title":"Bayesian Rule Sets for Interpretable Classification.","url":"https://doi.org/10.1109/ICDM.2016.0171","Year":"2016","Venue":"ICDM","Authors":["Tong Wang 0011","Cynthia Rudin","Finale Doshi-Velez","Yimin Liu","Erica Klampfl","Perry MacNeille"],"Type of Data":["Tabular / structured"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/LakkarajuBL16","Title":"Interpretable Decision Sets - A Joint Framework for Description and Prediction.","url":"https://doi.org/10.1145/2939672.2939874","Year":"2016","Venue":"KDD","Authors":["Himabindu Lakkaraju","Stephen H. Bach","Jure Leskovec"],"Type of Data":["Tabular / structured"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["Decision Rules"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/Ribeiro0G16","Title":"\\"Why Should I Trust You?\\" - Explaining the Predictions of Any Classifier.","url":"https://doi.org/10.1145/2939672.2939778","Year":"2016","Venue":"KDD","Authors":["Marco T\xfalio Ribeiro","Sameer Singh 0001","Carlos Guestrin"],"Type of Data":["Tabular / structured","Images","Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network","Tree Ensemble","Support Vector Machine","Any (for a specific task); model-agnostic","Logistic Regression","Other"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Feature Importance","Localization"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/ChenCDHSSA16","Title":"InfoGAN - Interpretable Representation Learning by Information Maximizing Generative Adversarial Nets.","url":"https://proceedings.neurips.cc/paper/2016/hash/7c9d0b1f96aebd7b5eca8c3edaa19ebb-Abstract.html","Year":"2016","Venue":"NeurIPS","Authors":["Xi Chen 0022","Yan Duan","Rein Houthooft","John Schulman","Ilya Sutskever","Pieter Abbeel"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Representation learning"],"Type of Explanation":["Disentanglement"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/ChoiBSKSS16","Title":"RETAIN - An Interpretable Predictive Model for Healthcare using Reverse Time Attention Mechanism.","url":"https://proceedings.neurips.cc/paper/2016/hash/231141b34c82aa95e48810a9d1b33a79-Abstract.html","Year":"2016","Venue":"NeurIPS","Authors":["Edward Choi","Mohammad Taha Bahadori","Jimeng Sun","Joshua Kulas","Andy Schuetz","Walter F. Stewart"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/Jitkrittum0CG16","Title":"Interpretable Distribution Features with Maximum Testing Power.","url":"https://proceedings.neurips.cc/paper/2016/hash/0a09c8844ba8f0936c20bd791130d6b6-Abstract.html","Year":"2016","Venue":"NeurIPS","Authors":["Wittawat Jitkrittum","Zolt\xe1n Szab\xf3 0001","Kacper P. Chwialkowski","Arthur Gretton"],"Type of Data":["Tabular / structured","Images","Text"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic","Other"],"Type of Task":["Other"],"Type of Explanation":["Feature Importance","Heatmap"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/KimKK16","Title":"Examples are not enough, learn to criticize! Criticism for Interpretability.","url":"https://proceedings.neurips.cc/paper/2016/hash/5680522b8e2bb01943234bce7bf84534-Abstract.html","Year":"2016","Venue":"NeurIPS","Authors":["Been Kim","Oluwasanmi Koyejo","Rajiv Khanna"],"Type of Data":["Images"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["(Deep) Neural Network","Any (for a specific task); model-agnostic"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/LakkarajuL16","Title":"Confusions over Time - An Interpretable Bayesian Model to Characterize Trends in Decision Making.","url":"https://proceedings.neurips.cc/paper/2016/hash/97d0145823aeb8ed80617be62e08bdcc-Abstract.html","Year":"2016","Venue":"NeurIPS","Authors":["Himabindu Lakkaraju","Jure Leskovec"],"Type of Data":["Time series","User-item matrix"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification","Clustering"],"Type of Explanation":["Feature Importance","Prototypes"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/ZhaoP16","Title":"Interpretable Nonlinear Dynamic Modeling of Neural Trajectories.","url":"https://proceedings.neurips.cc/paper/2016/hash/b2531e7bb29bf22e1daae486fae3417a-Abstract.html","Year":"2016","Venue":"NeurIPS","Authors":["Yuan Zhao 0004","Il Memming Park"],"Type of Data":["Time series"],"Type of Problem":["Model Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Regression"],"Type of Explanation":["White-box model"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"sigir/ZhaoLRMYR16","Title":"Explainable User Clustering in Short Text Streams.","url":"https://doi.org/10.1145/2911451.2911522","Year":"2016","Venue":"SIGIR","Authors":["Yukun Zhao","Shangsong Liang","Zhaochun Ren","Jun Ma 0001","Emine Yilmaz","Maarten de Rijke"],"Type of Data":["Text","Time series","Graph data"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Clustering"],"Type of Explanation":["Prototypes"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"aaai/KimPRS15","Title":"Scalable and Interpretable Data Representation for High-Dimensional, Complex Data.","url":"http://www.aaai.org/ocs/index.php/AAAI/AAAI15/paper/view/9738","Year":"2015","Venue":"AAAI","Authors":["Been Kim","Kayur Patel","Afshin Rostamizadeh","Julie A. Shah"],"Type of Data":["Text"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/WangFM15","Title":"Trading Interpretability for Accuracy - Oblique Treed Sparse Additive Models.","url":"https://doi.org/10.1145/2783258.2783407","Year":"2015","Venue":"KDD","Authors":["Jialei Wang","Ryohei Fujimaki","Yosuke Motohashi"],"Type of Data":["Tabular / structured"],"Type of Problem":["Transparent Box Design"],"Type of Model to be Explained":["Other"],"Type of Task":["Classification","Regression"],"Type of Explanation":["Decision Tree","Feature plot"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"nips/KimSD15","Title":"Mind the Gap - A Generative Approach to Interpretable Feature Selection and Extraction.","url":"https://proceedings.neurips.cc/paper/2015/hash/82965d4ed8150294d4330ace00821d77-Abstract.html","Year":"2015","Venue":"NeurIPS","Authors":["Been Kim","Julie A. Shah","Finale Doshi-Velez"],"Type of Data":["Tabular / structured"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Clustering"],"Type of Explanation":["Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"acl/FysheTMM14","Title":"Interpretable Semantic Vectors from a Joint Model of Brain- and Text- Based Meaning.","url":"https://doi.org/10.3115/v1/p14-1046","Year":"2014","Venue":"ACL","Authors":["Alona Fyshe","Partha Pratim Talukdar","Brian Murphy","Tom M. Mitchell"],"Type of Data":["Time series","Text"],"Type of Problem":["Model Inspection","Outcome Explanation"],"Type of Model to be Explained":["Other"],"Type of Task":["Representation learning"],"Type of Explanation":["Heatmap","Feature Importance"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"icdm/ChanLBR14","Title":"TRIBAC - Discovering Interpretable Clusters and Latent Structures in Graphs.","url":"https://doi.org/10.1109/ICDM.2014.118","Year":"2014","Venue":"ICDM","Authors":["Jeffrey Chan","Christopher Leckie","James Bailey 0001","Kotagiri Ramamohanarao"],"Type of Data":["Graph data"],"Type of Problem":["Model Inspection"],"Type of Model to be Explained":["Other"],"Type of Task":["Clustering"],"Type of Explanation":["Feature plot"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/BarbieriBM14","Title":"Who to follow and why - link prediction with explanations.","url":"https://doi.org/10.1145/2623330.2623733","Year":"2014","Venue":"KDD","Authors":["Nicola Barbieri","Francesco Bonchi","Giuseppe Manco 0001"],"Type of Data":["Graph data"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Bayesian or Hierarchical Network"],"Type of Task":["Classification"],"Type of Explanation":["Localization","Feature Importance"],"Method used to explain":["Post-hoc explanation method"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"kdd/GhalwashRO14","Title":"Utilizing temporal patterns for estimating uncertainty in interpretable early decision making.","url":"https://doi.org/10.1145/2623330.2623694","Year":"2014","Venue":"KDD","Authors":["Mohamed F. Ghalwash","Vladan Radosavljevic","Zoran Obradovic"],"Type of Data":["Time series"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["Any (for a specific task); model-agnostic","Other"],"Type of Task":["Classification"],"Type of Explanation":["Prototypes"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"},{"Paper-ID":"sigir/ZhangL0ZLM14","Title":"Explicit factor models for explainable recommendation based on phrase-level sentiment analysis.","url":"https://doi.org/10.1145/2600428.2609579","Year":"2014","Venue":"SIGIR","Authors":["Yongfeng Zhang","Guokun Lai","Min Zhang 0006","Yi Zhang","Yiqun Liu 0001","Shaoping Ma"],"Type of Data":["Text","User-item matrix"],"Type of Problem":["Outcome Explanation"],"Type of Model to be Explained":["(Deep) Neural Network"],"Type of Task":["Recommendation"],"Type of Explanation":["Feature Importance","Text"],"Method used to explain":["Interpretability built into the predictive model"],"Should the paper be included?":"Yes","Should the paper be included with filter?":"Yes"}]'),at=[];ot.forEach((function(e){var t;"Paper-ID"in(t=e)&&"url"in t&&"Title"in t&&"Year"in t&&"Venue"in t&&"Authors"in t&&"Type of Data"in t&&rt(qe)(t["Type of Data"])&&"Type of Problem"in t&&rt($e)(t["Type of Problem"])&&"Type of Model to be Explained"in t&&rt(Qe)(t["Type of Model to be Explained"])&&"Type of Task"in t&&rt(et)(t["Type of Task"])&&"Type of Explanation"in t&&rt(Je)(t["Type of Explanation"])&&"Method used to explain"in t&&rt(tt)(t["Method used to explain"])&&"Should the paper be included?"in t&&"Should the paper be included with filter?"in t?at.push(e):console.log(e," is not a paper and was excluded fromt the list")}));var st=Ke({name:"papers",initialState:at,reducers:{}}),ut=st.reducer,lt=(st.actions,{data:[],problem:[],model:[],task:[],explanation:[],method:[]}),ct=Ke({name:"filters",initialState:lt,reducers:{reset:function(){return lt},setData:function(e,t){e.data=t.payload},setProblem:function(e,t){e.problem=t.payload},setModel:function(e,t){e.model=t.payload},setTask:function(e,t){e.task=t.payload},setExplanation:function(e,t){e.explanation=t.payload},setMethod:function(e,t){e.method=t.payload}}}),ft=ct.reducer,dt=ct.actions,ht=function(e){var t,n=Ze(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,s=void 0===a?n():a,u=r.devTools,l=void 0===u||u,c=r.preloadedState,f=void 0===c?void 0:c,d=r.enhancers,h=void 0===d?void 0:d;if("function"===typeof o)t=o;else{if(!Ue(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Ae(o)}var p=s;"function"===typeof p&&(p=p(n));var g=Pe.apply(void 0,p),v=Ne;l&&(v=Ve(Ge({trace:!1},"object"===typeof l&&l)));var m=[g];return Array.isArray(h)?m=Le([g],h):"function"===typeof h&&(m=h(m)),Me(t,f,v.apply(void 0,m))}({reducer:{papers:ut,filters:ft}}),pt=m.createContext(null);var gt=function(e){e()},vt=function(){return gt};var mt={notify:function(){},get:function(){return[]}};function yt(e,t){var n,r=mt;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=vt(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=mt)},getListeners:function(){return r}};return a}var bt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?m.useLayoutEffect:m.useEffect;var xt=function(e){var t=e.store,n=e.context,r=e.children,i=(0,m.useMemo)((function(){var e=yt(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),o=(0,m.useMemo)((function(){return t.getState()}),[t]);bt((function(){var e=i.subscription;return e.trySubscribe(),o!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[i,o]);var a=n||pt;return m.createElement(a.Provider,{value:i},r)};n(2110),n(7441);function wt(){return wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wt.apply(this,arguments)}function Et(){return(0,m.useContext)(pt)}function St(e){void 0===e&&(e=pt);var t=e===pt?Et:function(){return(0,m.useContext)(e)};return function(){return t().store}}var _t=St();function Tt(e){void 0===e&&(e=pt);var t=e===pt?_t:St(e);return function(){return t().dispatch}}var kt=Tt(),Ct=function(e,t){return e===t};function Mt(e){void 0===e&&(e=pt);var t=e===pt?Et:function(){return(0,m.useContext)(e)};return function(e,n){void 0===n&&(n=Ct);var r=t(),i=function(e,t,n,r){var i,o=(0,m.useReducer)((function(e){return e+1}),0),a=o[1],s=(0,m.useMemo)((function(){return yt(n,r)}),[n,r]),u=(0,m.useRef)(),l=(0,m.useRef)(),c=(0,m.useRef)(),f=(0,m.useRef)(),d=n.getState();try{if(e!==l.current||d!==c.current||u.current){var h=e(d);i=void 0!==f.current&&t(h,f.current)?f.current:h}else i=f.current}catch(p){throw u.current&&(p.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),p}return bt((function(){l.current=e,c.current=d,f.current=i,u.current=void 0})),bt((function(){function e(){try{var e=n.getState();if(e===c.current)return;var r=l.current(e);if(t(r,f.current))return;f.current=r,c.current=e}catch(p){u.current=p}a()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[n,s]),i}(e,n,r.store,r.subscription);return(0,m.useDebugValue)(i),i}}var At,Nt=Mt();At=y.unstable_batchedUpdates,gt=At;var Pt=n(3433),It=n(9439),Dt=n(1694),Ot=n.n(Dt),Rt=n(5671),Lt=n(3144),jt=n(9340),Bt=n(4062),Ft={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},zt={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Yt={lang:wt({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:wt({},zt)},Gt="${label} is not a valid ${type}",Vt={locale:"en",Pagination:Ft,DatePicker:Yt,TimePicker:zt,Calendar:Yt,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Gt,method:Gt,array:Gt,object:Gt,number:Gt,date:Gt,boolean:Gt,integer:Gt,float:Gt,regexp:Gt,email:Gt,url:Gt,hex:Gt},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},Ut=Vt,Wt=(0,m.createContext)(void 0),Zt=function(e){(0,jt.Z)(n,e);var t=(0,Bt.Z)(n);function n(){return(0,Rt.Z)(this,n),t.apply(this,arguments)}return(0,Lt.Z)(n,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,n=e.defaultLocale||Ut[null!==t&&void 0!==t?t:"global"],r=this.context,i=t&&r?r[t]:{};return wt(wt({},n instanceof Function?n():n),i||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?Ut.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(m.Component);Zt.defaultProps={componentName:"global"},Zt.contextType=Wt;var Ht=function(){var e=(0,m.useContext(tn).getPrefixCls)("empty-img-default");return m.createElement("svg",{className:e,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},m.createElement("g",{fill:"none",fillRule:"evenodd"},m.createElement("g",{transform:"translate(24 31.67)"},m.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),m.createElement("path",{className:"".concat(e,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),m.createElement("path",{className:"".concat(e,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),m.createElement("path",{className:"".concat(e,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),m.createElement("path",{className:"".concat(e,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),m.createElement("path",{className:"".concat(e,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),m.createElement("g",{className:"".concat(e,"-g"),transform:"translate(149.65 15.383)"},m.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),m.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},Xt=function(){var e=(0,m.useContext(tn).getPrefixCls)("empty-img-simple");return m.createElement("svg",{className:e,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},m.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},m.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),m.createElement("g",{className:"".concat(e,"-g"),fillRule:"nonzero"},m.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),m.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(e,"-path")}))))},Kt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},qt=m.createElement(Ht,null),Jt=m.createElement(Xt,null),$t=function(e){var t=e.className,n=e.prefixCls,r=e.image,i=void 0===r?qt:r,o=e.description,a=e.children,s=e.imageStyle,u=Kt(e,["className","prefixCls","image","description","children","imageStyle"]),l=m.useContext(tn),c=l.getPrefixCls,f=l.direction;return m.createElement(Zt,{componentName:"Empty"},(function(e){var r,l=c("empty",n),d="undefined"!==typeof o?o:e.description,h="string"===typeof d?d:"empty",p=null;return p="string"===typeof i?m.createElement("img",{alt:h,src:i}):i,m.createElement("div",wt({className:Ot()(l,(r={},(0,xe.Z)(r,"".concat(l,"-normal"),i===Jt),(0,xe.Z)(r,"".concat(l,"-rtl"),"rtl"===f),r),t)},u),m.createElement("div",{className:"".concat(l,"-image"),style:s},p),d&&m.createElement("div",{className:"".concat(l,"-description")},d),a&&m.createElement("div",{className:"".concat(l,"-footer")},a))}))};$t.PRESENTED_IMAGE_DEFAULT=qt,$t.PRESENTED_IMAGE_SIMPLE=Jt;var Qt=$t,en=function(e){return m.createElement(nn,null,(function(t){var n=(0,t.getPrefixCls)("empty");switch(e){case"Table":case"List":return m.createElement(Qt,{image:Qt.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return m.createElement(Qt,{image:Qt.PRESENTED_IMAGE_SIMPLE,className:"".concat(n,"-small")});default:return m.createElement(Qt,null)}}))},tn=m.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")},renderEmpty:en}),nn=tn.Consumer;var rn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},on=m.createContext({siderHook:{addSider:function(){return null},removeSider:function(){return null}}});function an(e){var t=e.suffixCls,n=e.tagName,r=e.displayName;return function(e){var i=function(r){var i=m.useContext(tn).getPrefixCls,o=r.prefixCls,a=i(t,o);return m.createElement(e,wt({prefixCls:a,tagName:n},r))};return i.displayName=r,i}}var sn=function(e){var t=e.prefixCls,n=e.className,r=e.children,i=e.tagName,o=rn(e,["prefixCls","className","children","tagName"]),a=Ot()(t,n);return m.createElement(i,wt({className:a},o),r)},un=an({suffixCls:"layout",tagName:"section",displayName:"Layout"})((function(e){var t,n=m.useContext(tn).direction,r=m.useState([]),i=(0,It.Z)(r,2),o=i[0],a=i[1],s=e.prefixCls,u=e.className,l=e.children,c=e.hasSider,f=e.tagName,d=rn(e,["prefixCls","className","children","hasSider","tagName"]),h=Ot()(s,(t={},(0,xe.Z)(t,"".concat(s,"-has-sider"),"boolean"===typeof c?c:o.length>0),(0,xe.Z)(t,"".concat(s,"-rtl"),"rtl"===n),t),u),p=m.useMemo((function(){return{siderHook:{addSider:function(e){a((function(t){return[].concat((0,Pt.Z)(t),[e])}))},removeSider:function(e){a((function(t){return t.filter((function(t){return t!==e}))}))}}}}),[]);return m.createElement(on.Provider,{value:p},m.createElement(f,wt({className:h},d),l))})),ln=an({suffixCls:"layout-header",tagName:"header",displayName:"Header"})(sn),cn=an({suffixCls:"layout-footer",tagName:"footer",displayName:"Footer"})(sn),fn=an({suffixCls:"layout-content",tagName:"main",displayName:"Content"})(sn),dn=un;function hn(e,t){var n=Ee({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var pn={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"};function gn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var vn=(0,m.createContext)({}),mn=n(1002);function yn(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function bn(e){return e<=1?100*Number(e)+"%":e}function xn(e){return 1===e.length?"0"+e:String(e)}function wn(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function En(e){return Sn(e)/255}function Sn(e){return parseInt(e,16)}var _n={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Tn(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(_n[e])e=_n[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=An.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=An.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=An.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=An.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=An.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=An.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=An.hex8.exec(e))return{r:Sn(n[1]),g:Sn(n[2]),b:Sn(n[3]),a:En(n[4]),format:t?"name":"hex8"};if(n=An.hex6.exec(e))return{r:Sn(n[1]),g:Sn(n[2]),b:Sn(n[3]),format:t?"name":"hex"};if(n=An.hex4.exec(e))return{r:Sn(n[1]+n[1]),g:Sn(n[2]+n[2]),b:Sn(n[3]+n[3]),a:En(n[4]+n[4]),format:t?"name":"hex8"};if(n=An.hex3.exec(e))return{r:Sn(n[1]+n[1]),g:Sn(n[2]+n[2]),b:Sn(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(Nn(e.r)&&Nn(e.g)&&Nn(e.b)?(t=function(e,t,n){return{r:255*yn(e,255),g:255*yn(t,255),b:255*yn(n,255)}}(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):Nn(e.h)&&Nn(e.s)&&Nn(e.v)?(r=bn(e.s),i=bn(e.v),t=function(e,t,n){e=6*yn(e,360),t=yn(t,100),n=yn(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),u=r%6;return{r:255*[n,a,o,o,s,n][u],g:255*[s,n,n,a,o,o][u],b:255*[o,o,s,n,n,a][u]}}(e.h,r,i),a=!0,s="hsv"):Nn(e.h)&&Nn(e.s)&&Nn(e.l)&&(r=bn(e.s),o=bn(e.l),t=function(e,t,n){var r,i,o;if(e=yn(e,360),t=yn(t,100),n=yn(n,100),0===t)i=n,o=n,r=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;r=wn(s,a,e+1/3),i=wn(s,a,e),o=wn(s,a,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,o),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=function(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var kn="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",Cn="[\\s|\\(]+("+kn+")[,|\\s]+("+kn+")[,|\\s]+("+kn+")\\s*\\)?",Mn="[\\s|\\(]+("+kn+")[,|\\s]+("+kn+")[,|\\s]+("+kn+")[,|\\s]+("+kn+")\\s*\\)?",An={CSS_UNIT:new RegExp(kn),rgb:new RegExp("rgb"+Cn),rgba:new RegExp("rgba"+Mn),hsl:new RegExp("hsl"+Cn),hsla:new RegExp("hsla"+Mn),hsv:new RegExp("hsv"+Cn),hsva:new RegExp("hsva"+Mn),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Nn(e){return Boolean(An.CSS_UNIT.exec(String(e)))}var Pn=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function In(e){var t=function(e,t,n){e=yn(e,255),t=yn(t,255),n=yn(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,a=r,s=r-i,u=0===r?0:s/r;if(r===i)o=0;else{switch(r){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4}o/=6}return{h:o,s:u,v:a}}(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function Dn(e){var t=e.r,n=e.g,r=e.b;return"#".concat(function(e,t,n,r){var i=[xn(Math.round(e).toString(16)),xn(Math.round(t).toString(16)),xn(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}(t,n,r,!1))}function On(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function Rn(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function Ln(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function jn(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function Bn(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=Tn(e),i=5;i>0;i-=1){var o=In(r),a=Dn(Tn({h:Rn(o,i,!0),s:Ln(o,i,!0),v:jn(o,i,!0)}));n.push(a)}n.push(Dn(r));for(var s=1;s<=4;s+=1){var u=In(r),l=Dn(Tn({h:Rn(u,s),s:Ln(u,s),v:jn(u,s)}));n.push(l)}return"dark"===t.theme?Pn.map((function(e){var r=e.index,i=e.opacity;return Dn(On(Tn(t.backgroundColor||"#141414"),Tn(n[r]),100*i))})):n}var Fn={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},zn={},Yn={};Object.keys(Fn).forEach((function(e){zn[e]=Bn(Fn[e]),zn[e].primary=zn[e][5],Yn[e]=Bn(Fn[e],{theme:"dark",backgroundColor:"#141414"}),Yn[e].primary=Yn[e][5]}));zn.red,zn.volcano,zn.gold,zn.orange,zn.yellow,zn.lime,zn.green,zn.cyan,zn.blue,zn.geekblue,zn.purple,zn.magenta,zn.grey;var Gn={};function Vn(e,t){0}function Un(e,t){0}function Wn(e,t,n){t||Gn[n]||(e(!1,n),Gn[n]=!0)}var Zn=function(e,t){Wn(Vn,e,t)};function Hn(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var Xn="rc-util-key";function Kn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):Xn}function qn(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function Jn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Hn())return null;var r,i=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(i.nonce=null===(r=n.csp)||void 0===r?void 0:r.nonce);i.innerHTML=e;var o=qn(n),a=o.firstChild;return n.prepend&&o.prepend?o.prepend(i):n.prepend&&a?o.insertBefore(i,a):o.appendChild(i),i}var $n=new Map;function Qn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=qn(t);return Array.from($n.get(n).children).find((function(n){return"STYLE"===n.tagName&&n.getAttribute(Kn(t))===e}))}function er(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=qn(n);if(!$n.has(r)){var i=Jn("",n),o=i.parentNode;$n.set(r,o),o.removeChild(i)}var a=Qn(t,n);if(a){var s,u,l;if((null===(s=n.csp)||void 0===s?void 0:s.nonce)&&a.nonce!==(null===(u=n.csp)||void 0===u?void 0:u.nonce))a.nonce=null===(l=n.csp)||void 0===l?void 0:l.nonce;return a.innerHTML!==e&&(a.innerHTML=e),a}var c=Jn(e,n);return c.setAttribute(Kn(n),t),c}function tr(e){return"object"===(0,mn.Z)(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===(0,mn.Z)(e.icon)||"function"===typeof e.icon)}function nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function rr(e,t,n){return n?m.createElement(e.tag,Ee(Ee({key:t},nr(e.attrs)),n),(e.children||[]).map((function(n,r){return rr(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):m.createElement(e.tag,Ee({key:t},nr(e.attrs)),(e.children||[]).map((function(n,r){return rr(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function ir(e){return Bn(e)[0]}function or(e){return e?Array.isArray(e)?e:[e]:[]}var ar="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",sr=["icon","className","onClick","style","primaryColor","secondaryColor"],ur={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var lr=function(e){var t,n,r=e.icon,i=e.className,o=e.onClick,a=e.style,s=e.primaryColor,u=e.secondaryColor,l=gn(e,sr),c=ur;if(s&&(c={primaryColor:s,secondaryColor:u||ir(s)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ar,t=(0,m.useContext)(vn).csp;(0,m.useEffect)((function(){er(e,"@ant-design-icons",{prepend:!0,csp:t})}),[])}(),t=tr(r),n="icon should be icon definiton, but got ".concat(r),Zn(t,"[@ant-design/icons] ".concat(n)),!tr(r))return null;var f=r;return f&&"function"===typeof f.icon&&(f=Ee(Ee({},f),{},{icon:f.icon(c.primaryColor,c.secondaryColor)})),rr(f.icon,"svg-".concat(f.name),Ee({className:i,onClick:o,style:a,"data-icon":f.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l))};lr.displayName="IconReact",lr.getTwoToneColors=function(){return Ee({},ur)},lr.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;ur.primaryColor=t,ur.secondaryColor=n||ir(t),ur.calculated=!!n};var cr=lr;function fr(e){var t=or(e),n=(0,It.Z)(t,2),r=n[0],i=n[1];return cr.setTwoToneColors({primaryColor:r,secondaryColor:i})}var dr=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];fr("#1890ff");var hr=m.forwardRef((function(e,t){var n,r=e.className,i=e.icon,o=e.spin,a=e.rotate,s=e.tabIndex,u=e.onClick,l=e.twoToneColor,c=gn(e,dr),f=m.useContext(vn).prefixCls,d=void 0===f?"anticon":f,h=Ot()(d,(n={},(0,xe.Z)(n,"".concat(d,"-").concat(i.name),!!i.name),(0,xe.Z)(n,"".concat(d,"-spin"),!!o||"loading"===i.name),n),r),p=s;void 0===p&&u&&(p=-1);var g=a?{msTransform:"rotate(".concat(a,"deg)"),transform:"rotate(".concat(a,"deg)")}:void 0,v=or(l),y=(0,It.Z)(v,2),b=y[0],x=y[1];return m.createElement("span",Ee(Ee({role:"img","aria-label":i.name},c),{},{ref:t,tabIndex:p,onClick:u,className:h}),m.createElement(cr,{icon:i,primaryColor:b,secondaryColor:x,style:g}))}));hr.displayName="AntdIcon",hr.getTwoToneColor=function(){var e=cr.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},hr.setTwoToneColor=fr;var pr=hr,gr=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:pn}))};gr.displayName="BarsOutlined";var vr=m.forwardRef(gr),mr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},yr=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:mr}))};yr.displayName="RightOutlined";var br=m.forwardRef(yr),xr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},wr=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:xr}))};wr.displayName="LeftOutlined";var Er=m.forwardRef(wr),Sr=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},_r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Tr={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},kr=m.createContext({}),Cr=function(){var e=0;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e+=1,"".concat(t).concat(e)}}(),Mr=m.forwardRef((function(e,t){var n=e.prefixCls,r=e.className,i=e.trigger,o=e.children,a=e.defaultCollapsed,s=void 0!==a&&a,u=e.theme,l=void 0===u?"dark":u,c=e.style,f=void 0===c?{}:c,d=e.collapsible,h=void 0!==d&&d,p=e.reverseArrow,g=void 0!==p&&p,v=e.width,y=void 0===v?200:v,b=e.collapsedWidth,x=void 0===b?80:b,w=e.zeroWidthTriggerStyle,E=e.breakpoint,S=e.onCollapse,_=e.onBreakpoint,T=_r(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),k=(0,m.useContext)(on).siderHook,C=(0,m.useState)("collapsed"in T?T.collapsed:s),M=(0,It.Z)(C,2),A=M[0],N=M[1],P=(0,m.useState)(!1),I=(0,It.Z)(P,2),D=I[0],O=I[1];(0,m.useEffect)((function(){"collapsed"in T&&N(T.collapsed)}),[T.collapsed]);var R=function(e,t){"collapsed"in T||N(e),null===S||void 0===S||S(e,t)},L=(0,m.useRef)();L.current=function(e){O(e.matches),null===_||void 0===_||_(e.matches),A!==e.matches&&R(e.matches,"responsive")},(0,m.useEffect)((function(){function e(e){return L.current(e)}var t;if("undefined"!==typeof window){var n=window.matchMedia;if(n&&E&&E in Tr){t=n("(max-width: ".concat(Tr[E],")"));try{t.addEventListener("change",e)}catch(r){t.addListener(e)}e(t)}}return function(){try{null===t||void 0===t||t.removeEventListener("change",e)}catch(r){null===t||void 0===t||t.removeListener(e)}}}),[E]),(0,m.useEffect)((function(){var e=Cr("ant-sider-");return k.addSider(e),function(){return k.removeSider(e)}}),[]);var j=function(){R(!A,"clickTrigger")},B=(0,m.useContext)(tn).getPrefixCls,F=m.useMemo((function(){return{siderCollapsed:A}}),[A]);return m.createElement(kr.Provider,{value:F},function(){var e,a=B("layout-sider",n),s=hn(T,["collapsed"]),u=A?x:y,c=Sr(u)?"".concat(u,"px"):String(u),d=0===parseFloat(String(x||0))?m.createElement("span",{onClick:j,className:Ot()("".concat(a,"-zero-width-trigger"),"".concat(a,"-zero-width-trigger-").concat(g?"right":"left")),style:w},i||m.createElement(vr,null)):null,p={expanded:g?m.createElement(br,null):m.createElement(Er,null),collapsed:g?m.createElement(Er,null):m.createElement(br,null)}[A?"collapsed":"expanded"],v=null!==i?d||m.createElement("div",{className:"".concat(a,"-trigger"),onClick:j,style:{width:c}},i||p):null,b=wt(wt({},f),{flex:"0 0 ".concat(c),maxWidth:c,minWidth:c,width:c}),E=Ot()(a,"".concat(a,"-").concat(l),(e={},(0,xe.Z)(e,"".concat(a,"-collapsed"),!!A),(0,xe.Z)(e,"".concat(a,"-has-trigger"),h&&null!==i&&!d),(0,xe.Z)(e,"".concat(a,"-below"),!!D),(0,xe.Z)(e,"".concat(a,"-zero-width"),0===parseFloat(c)),e),r);return m.createElement("aside",wt({className:E},s,{style:b,ref:t}),m.createElement("div",{className:"".concat(a,"-children")},o),h||D&&d?v:null)}())}));Mr.displayName="Sider";var Ar=Mr,Nr=dn;Nr.Header=ln,Nr.Footer=cn,Nr.Content=fn,Nr.Sider=Ar;var Pr=Nr,Ir=n(9388),Dr=n(8092),Or={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(e){return Object.assign(this,e),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(e){var t=this,n=this.events;this.graph=e,"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||e.get("canvas").set("draggable",!0),(0,Dr.each)(n,(function(t,n){e.on(n,t)})),document.addEventListener("visibilitychange",(function(){t.keydown=!1}))},unbind:function(e){var t=this.events,n=e.get("canvas").get("draggable");"drag-canvas"!==this.type&&"brush-select"!==this.type&&"lasso-select"!==this.type||e.get("canvas").set("draggable",!1),(0,Dr.each)(t,(function(t,n){e.off(n,t)})),e.get("canvas").set("draggable",n)},get:function(e){return this[e]},set:function(e,t){return this[e]=t,this}},Rr=function(){function e(){}return e.registerBehavior=function(t,n){if(!n)throw new Error("please specify handler for this behavior: ".concat(t));var r=(0,Dr.clone)(Or);Object.assign(r,n);var i=function(e){var t=this;Object.assign(this,this.getDefaultCfg(),e);var n=this.getEvents();this.events=null;var r={};n&&((0,Dr.each)(n,(function(e,n){r[n]=(0,Dr.wrapBehavior)(t,e)})),this.events=r)};i.prototype=r,e.types[t]=i},e.hasBehavior=function(t){return!!e.types[t]},e.getBehavior=function(t){return e.types[t]},e.types={},e}(),Lr=Rr,jr=Lr,Br=function(){function e(){this._events={}}return e.prototype.on=function(e,t,n){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!n}),this},e.prototype.once=function(e,t){return this.on(e,t,!0)},e.prototype.emit=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[e]||[],o=this._events["*"]||[],a=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],s=a.callback;a.once&&(r.splice(o,1),0===r.length&&delete t._events[e],i--,o--),s.apply(t,n)}};a(i),a(o)},e.prototype.off=function(e,t){if(e)if(t){for(var n=this._events[e]||[],r=n.length,i=0;i<r;i++)n[i].callback===t&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[e]}else delete this._events[e];else this._events={};return this},e.prototype.getEvents=function(){return this._events},e}(),Fr=Br,zr=n(5742);function Yr(e,t,n){var r=[0,0,0,0,0,0,0,0,0];return zr.fromTranslation(r,n),zr.multiply(e,r,t)}function Gr(e,t,n){var r=[0,0,0,0,0,0,0,0,0];return zr.fromRotation(r,n),zr.multiply(e,r,t)}function Vr(e,t,n){var r=[0,0,0,0,0,0,0,0,0];return zr.fromScaling(r,n),zr.multiply(e,r,t)}function Ur(e,t,n){return zr.multiply(e,n,t)}function Wr(e,t){for(var n=e?[].concat(e):[1,0,0,0,1,0,0,0,1],r=0,i=t.length;r<i;r++){var o=t[r];switch(o[0]){case"t":Yr(n,n,[o[1],o[2]]);break;case"s":Vr(n,n,[o[1],o[2]]);break;case"r":Gr(n,n,o[1]);break;case"m":Ur(n,n,o[1])}}return n}var Zr=function(e,t){var n=e.nodes,r=e.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(e,t){o[e.id]=t;i.push([])})),r&&r.forEach((function(e){var n=e.source,r=e.target,a=o[n],s=o[r];!a&&0!==a||!s&&0!==s||(i[a][s]=1,t||(i[s][a]=1))})),i},Hr=function(e,t){return e===t},Xr=function(){function e(e,t){void 0===t&&(t=null),this.value=e,this.next=t}return e.prototype.toString=function(e){return e?e(this.value):"".concat(this.value)},e}(),Kr=function(){function e(e){void 0===e&&(e=Hr),this.head=null,this.tail=null,this.compare=e}return e.prototype.prepend=function(e){var t=new Xr(e,this.head);return this.head=t,this.tail||(this.tail=t),this},e.prototype.append=function(e){var t=new Xr(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},e.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,e)?(t=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,e)&&(this.tail=n),t},e.prototype.find=function(e){var t=e.value,n=void 0===t?void 0:t,r=e.callback,i=void 0===r?void 0:r;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value))return o;if(void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null},e.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},e.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},e.prototype.fromArray=function(e){var t=this;return e.forEach((function(e){return t.append(e)})),this},e.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},e.prototype.reverse=function(){for(var e=this.head,t=null,n=null;e;)n=e.next,e.next=t,t=e,e=n;this.tail=this.head,this.head=t},e.prototype.toString=function(e){return void 0===e&&(e=void 0),this.toArray().map((function(t){return t.toString(e)})).toString()},e}(),qr=Kr,Jr=function(){function e(){this.linkedList=new qr}return e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},e.prototype.enqueue=function(e){this.linkedList.append(e)},e.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},e.prototype.toString=function(e){return this.linkedList.toString(e)},e}(),$r=Jr,Qr=function(e,t,n){void 0===t&&(t=[]);var r=t.filter((function(t){return t.source===e||t.target===e}));if("target"===n){return r.filter((function(t){return t.source===e})).map((function(e){return e.target}))}if("source"===n){return r.filter((function(t){return t.target===e})).map((function(e){return e.source}))}return r.map((function(t){return t.source===e?t.target:t.source}))},ei=function(e,t){return t.filter((function(t){return t.source===e||t.target===e}))},ti=function(e){void 0===e&&(e=0);var t="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(e,"-").concat(t).concat(n)};var ni=function(e,t,n,r){void 0===r&&(r=!0);var i=function(e){void 0===e&&(e={});var t=e,n=function(){},r=function(){var e={};return function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||r,t.enter=e.enter||n,t.leave=e.leave||n,t}(n),o=new $r,a=e.edges,s=void 0===a?[]:a;o.enqueue(t);for(var u="",l=function(){var e=o.dequeue();i.enter({current:e,previous:u}),Qr(e,s,r?"target":void 0).forEach((function(t){i.allowTraversal({previous:u,current:e,next:t})&&o.enqueue(t)})),i.leave({current:e,previous:u}),u=e};!o.isEmpty();)l()},ri=function(e){for(var t=e.nodes,n=void 0===t?[]:t,r=e.edges,i=void 0===r?[]:r,o=[],a={},s={},u={},l=[],c=0,f=function e(t){s[t.id]=c,u[t.id]=c,c+=1,o.push(t),a[t.id]=!0;for(var r=Qr(t.id,i,"target").filter((function(e){return n.map((function(e){return e.id})).indexOf(e)>-1})),f=function(i){var o=r[i];if(s[o]||0===s[o])a[o]&&(u[t.id]=Math.min(u[t.id],s[o]));else{var l=n.filter((function(e){return e.id===o}));l.length>0&&e(l[0]),u[t.id]=Math.min(u[t.id],u[o])}},d=0;d<r.length;d++)f(d);if(u[t.id]===s[t.id]){for(var h=[];o.length>0;){var p=o.pop();if(a[p.id]=!1,h.push(p),p===t)break}h.length>0&&l.push(h)}},d=0,h=n;d<h.length;d++){var p=h[d];s[p.id]||0===s[p.id]||f(p)}return l};function ii(e,t){return t?ri(e):function(e){for(var t=e.nodes,n=void 0===t?[]:t,r=e.edges,i=void 0===r?[]:r,o=[],a={},s=[],u=function e(t){s.push(t),a[t.id]=!0;for(var r=Qr(t.id,i),o=function(t){var i=r[t];if(!a[i]){var o=n.filter((function(e){return e.id===i}));o.length>0&&e(o[0])}},u=0;u<r.length;++u)o(u)},l=0;l<n.length;l++){var c=n[l];if(!a[c.id]){u(c);for(var f=[];s.length>0;)f.push(s.pop());o.push(f)}}return o}(e)}var oi=function(e){var t={},n=e.nodes,r=void 0===n?[]:n,i=e.edges,o=void 0===i?[]:i;return r.forEach((function(e){t[e.id]={degree:0,inDegree:0,outDegree:0}})),o.forEach((function(e){t[e.source].degree++,t[e.source].outDegree++,t[e.target].degree++,t[e.target].inDegree++})),t},ai=oi,si=function(e,t){return oi(e)[t]?oi(e)[t].inDegree:0},ui=function(e,t){return oi(e)[t]?oi(e)[t].outDegree:0};function li(e,t,n,r){r.enter({current:t,previous:n});var i=e.edges;Qr(t,void 0===i?[]:i,"target").forEach((function(i){r.allowTraversal({previous:n,current:t,next:i})&&li(e,i,t,r)})),r.leave({current:t,previous:n})}function ci(e,t,n){li(e,t,"",function(e){void 0===e&&(e={});var t=e,n=function(){},r=function(){var e={};return function(t){var n=t.next;return!e[n]&&(e[n]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||r,t.enter=e.enter||n,t.leave=e.leave||n,t}(n))}var fi=function(e,t,n){var r,i;void 0===n&&(n=!0);for(var o=[],a=0,s=ii(e,!1);a<s.length;a++){var u=s[a];if(u.length)for(var l=u[0],c=l.id,f=[l],d=((r={})[c]=l,r),h=((i={})[c]=new Set,i);f.length>0;)for(var p=f.pop(),g=p.id,v=Qr(g,e.edges),m=function(r){var i,a=v[r],s=e.nodes.find((function(e){return e.id===a}));if(a===g)o.push(((i={})[a]=p,i));else if(a in h){if(!h[g].has(s)){for(var u=!0,l=[s,p],c=d[g];h[a].size&&!h[a].has(c)&&(l.push(c),c!==d[c.id]);)c=d[c.id];if(l.push(c),t&&n?(u=!1,l.findIndex((function(e){return t.indexOf(e.id)>-1}))>-1&&(u=!0)):t&&!n&&l.findIndex((function(e){return t.indexOf(e.id)>-1}))>-1&&(u=!1),u){for(var m={},y=1;y<l.length;y+=1)m[l[y-1].id]=l[y];l.length&&(m[l[l.length-1].id]=l[0]),o.push(m)}h[a].add(p)}}else d[a]=p,f.push(s),h[a]=new Set([p])},y=0;y<v.length;y+=1)m(y)}return o},di=function(e,t,n){void 0===n&&(n=!0);for(var r=[],i=new Set,o=[],a=[],s={},u={},l=function e(u,l,c){var f=!1;if(t&&!1===n&&t.indexOf(u.id)>-1)return f;r.push(u),i.add(u);for(var d=c[u.id],h=0;h<d.length;h+=1){if((v=s[d[h]])===l){for(var p={},g=1;g<r.length;g+=1)p[r[g-1].id]=r[g];r.length&&(p[r[r.length-1].id]=r[0]),a.push(p),f=!0}else i.has(v)||e(v,l,c)&&(f=!0)}if(f)!function(e){for(var t=[e];t.length>0;){var n=t.pop();i.has(n)&&(i.delete(n),o[n.id].forEach((function(e){t.push(e)})),o[n.id].clear())}}(u);else for(h=0;h<d.length;h+=1){var v=s[d[h]];o[v.id].has(u)||o[v.id].add(u)}return r.pop(),f},c=e.nodes,f=void 0===c?[]:c,d=0;d<f.length;d+=1){var h=f[d],p=h.id;u[p]=d,s[d]=h}if(t&&n){var g=function(e){var n=t[e];u[f[e].id]=u[n],u[n]=0,s[0]=f.find((function(e){return e.id===n})),s[u[f[e].id]]=f[e]};for(d=0;d<t.length;d++)g(d)}for(var v=function(r){for(var i,o,s=1/0,l=0;l<r.length;l+=1)for(var c=r[l],f=0;f<c.length;f++){var d=u[c[f].id];d<s&&(s=d,o=l)}var h=r[o],p=[];for(l=0;l<h.length;l+=1){var g=h[l];p[g.id]=[];for(var v=0,m=Qr(g.id,e.edges,"target").filter((function(e){return h.map((function(e){return e.id})).indexOf(e)>-1}));v<m.length;v++){var y=m[v];y!==g.id||!1===n&&t.indexOf(g.id)>-1?p[g.id].push(u[y]):a.push(((i={})[g.id]=g,i))}}return{component:h,adjList:p,minIdx:s}},m=0;m<f.length;){var y=f.filter((function(e){return u[e.id]>=m})),b=ri({nodes:y,edges:e.edges}).filter((function(e){return e.length>1}));if(0===b.length)break;var x=v(b),w=x.minIdx,E=x.adjList,S=x.component;if(!(S.length>1))break;S.forEach((function(e){o[e.id]=new Set}));var _=s[w];if(t&&n&&-1===t.indexOf(_.id))return a;l(_,_,E),m=w+1}return a},hi=function(e,t,n,r){return void 0===r&&(r=!0),t?di(e,n,r):fi(e,n,r)},pi=function(e){var t=null,n=e.nodes,r={},i={},o={},a={};(void 0===n?[]:n).forEach((function(e){i[e.id]=e}));for(var s={enter:function(e){var n=e.current,a=e.previous;if(o[n]){t={};for(var s=n,u=a;u!==n;)t[s]=u,s=u,u=r[u];t[s]=u}else o[n]=n,delete i[n],r[n]=a},leave:function(e){var t=e.current;a[t]=t,delete o[t]},allowTraversal:function(e){var n=e.next;return!t&&!a[n]}};Object.keys(i).length;){ci(e,Object.keys(i)[0],s)}return t},gi=function(e,t,n,r){var i=e.nodes,o=void 0===i?[]:i,a=e.edges,s=void 0===a?[]:a,u=[],l={},c={},f={};o.forEach((function(e,n){var r=e.id;u.push(r),c[r]=1/0,r===t&&(c[r]=0)}));for(var d=o.length,h=function(e){var t=function(e,t,n){for(var r,i=1/0,o=0;o<t.length;o++){var a=t[o].id;!n[a]&&e[a]<=i&&(i=e[a],r=t[o])}return r}(c,o,l),i=t.id;if(l[i]=!0,c[i]===1/0)return"continue";var a=[];a=n?function(e,t){return t.filter((function(t){return t.source===e}))}(i,s):ei(i,s),a.forEach((function(e){var n=e.target,o=e.source,a=n===i?o:n,s=r&&e[r]?e[r]:1;c[a]>c[t.id]+s?(c[a]=c[t.id]+s,f[a]=[t.id]):c[a]===c[t.id]+s&&f[a].push(t.id)}))},p=0;p<d;p++)h();f[t]=[t];var g={};for(var v in c)c[v]!==1/0&&vi(t,v,f,g);var m={};for(var v in g)m[v]=g[v][0];return{length:c,path:m,allPath:g}};function vi(e,t,n,r){if(e===t)return[e];if(r[t])return r[t];for(var i=[],o=0,a=n[t];o<a.length;o++){var s=vi(e,a[o],n,r);if(!s)return;for(var u=0,l=s;u<l.length;u++){var c=l[u];(0,Dr.isArray)(c)?i.push((0,Ir.__spreadArray)((0,Ir.__spreadArray)([],c,!0),[t],!1)):i.push([c,t])}}return r[t]=i,r[t]}var mi,yi=function(e,t,n,r,i){var o=gi(e,t,r,i),a=o.length,s=o.path,u=o.allPath;return{length:a[n],path:s[n],allPath:u[n]}},bi=function(e,t,n,r){var i;if(t===n)return[[t]];var o=e.edges,a=void 0===o?[]:o,s=[t],u=((i={})[t]=!0,i),l=[],c=[],f=r?Qr(t,a,"target"):Qr(t,a);for(l.push(f);s.length>0&&l.length>0;){var d=l[l.length-1];if(d.length){var h=d.shift();if(h&&(s.push(h),u[h]=!0,f=r?Qr(h,a,"target"):Qr(h,a),l.push(f.filter((function(e){return!u[e]})))),s[s.length-1]===n){var p=s.map((function(e){return e}));c.push(p);g=s.pop();u[g]=!1,l.pop()}}else{var g=s.pop();u[g]=!1,l.pop()}}return c},xi=function(e,t){for(var n=Zr(e,t),r=[],i=n.length,o=0;o<i;o+=1){r[o]=[];for(var a=0;a<i;a+=1)o===a?r[o][a]=0:0!==n[o][a]&&n[o][a]?r[o][a]=n[o][a]:r[o][a]=1/0}for(var s=0;s<i;s+=1)for(o=0;o<i;o+=1)for(a=0;a<i;a+=1)r[o][a]>r[o][s]+r[s][a]&&(r[o][a]=r[o][s]+r[s][a]);return r},wi=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e3);var i=e.nodes,o=void 0===i?[]:i,a=e.edges,s=void 0===a?[]:a,u={},l={};o.forEach((function(e,t){var n=ti();e.clusterId=n,u[n]={id:n,nodes:[e]},l[e.id]={node:e,idx:t}}));var c=Zr(e,t),f=[],d={};c.forEach((function(e,t){var n=0,r=o[t].id;d[r]={},e.forEach((function(e,t){if(e){n+=e;var i=o[t].id;d[r][i]=e}})),f.push(n)}));for(var h=0,p=function(){var e=!1;if(o.forEach((function(t){var n={};Object.keys(d[t.id]).forEach((function(e){var r=d[t.id][e],i=l[e].node.clusterId;n[i]||(n[i]=0),n[i]+=r}));var r=-1/0,i=[];if(Object.keys(n).forEach((function(e){r<n[e]?(r=n[e],i=[e]):r===n[e]&&i.push(e)})),1!==i.length||i[0]!==t.clusterId){var o=i.indexOf(t.clusterId);if(o>=0&&i.splice(o,1),i&&i.length){e=!0;var a=u[t.clusterId],s=a.nodes.indexOf(t);a.nodes.splice(s,1);var c=Math.floor(Math.random()*i.length),f=u[i[c]];f.nodes.push(t),t.clusterId=f.id}}})),!e)return"break";h++};h<r;){if("break"===p())break}Object.keys(u).forEach((function(e){var t=u[e];t.nodes&&t.nodes.length||delete u[e]}));var g=[],v={};s.forEach((function(e){var t=e.source,r=e.target,i=e[n]||1,o=l[t].node.clusterId,a=l[r].node.clusterId,s="".concat(o,"---").concat(a);if(v[s])v[s].weight+=i,v[s].count++;else{var u={source:o,target:a,weight:i,count:1};v[s]=u,g.push(u)}}));var m=[];return Object.keys(u).forEach((function(e){m.push(u[e])})),{clusters:m,clusterEdges:g}},Ei=function(){function e(e){this.arr=e}return e.prototype.getArr=function(){return this.arr||[]},e.prototype.add=function(t){var n,r=t.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new e(r);if(!(null===r||void 0===r?void 0:r.length))return new e(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]+r[o];return new e(i)}},e.prototype.subtract=function(t){var n,r=t.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new e(r);if(!(null===r||void 0===r?void 0:r.length))return new e(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]-r[o];return new e(i)}},e.prototype.avg=function(t){var n=[];if(0!==t)for(var r in this.arr)n[r]=this.arr[r]/t;return new e(n)},e.prototype.negate=function(){var t=[];for(var n in this.arr)t[n]=-this.arr[n];return new e(t)},e.prototype.squareEuclideanDistance=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-e.arr[i],2);return r}},e.prototype.euclideanDistance=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-e.arr[i],2);return Math.sqrt(r)}console.error("The two vectors are unequal in length.")},e.prototype.normalize=function(){var t=[],n=(0,Dr.clone)(this.arr);n.sort((function(e,t){return e-t}));var r=n[n.length-1],i=n[0];for(var o in this.arr)t[o]=(this.arr[o]-i)/(r-i);return new e(t)},e.prototype.norm2=function(){var e;if(!(null===(e=this.arr)||void 0===e?void 0:e.length))return 0;var t=0;for(var n in this.arr)t+=Math.pow(this.arr[n],2);return Math.sqrt(t)},e.prototype.dot=function(e){var t,n=e.arr;if(!(null===(t=this.arr)||void 0===t?void 0:t.length)||!(null===n||void 0===n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=this.arr[i]*e.arr[i];return r}console.error("The two vectors are unequal in length.")},e.prototype.equal=function(e){var t,n=e.arr;if((null===(t=this.arr)||void 0===t?void 0:t.length)!==(null===n||void 0===n?void 0:n.length))return!1;for(var r in this.arr)if(this.arr[r]!==n[r])return!1;return!0},e}(),Si=Ei,_i=function(e,t){void 0===t&&(t=void 0);var n=[];return e.forEach((function(e){void 0===t&&n.push(e),void 0!==e[t]&&n.push(e[t])})),n};!function(e){e.EuclideanDistance="euclideanDistance"}(mi||(mi={}));var Ti=function(e,t,n){var r=[];(null===t||void 0===t?void 0:t.length)?r=t:(e.forEach((function(e){r=r.concat(Object.keys(e))})),r=(0,Dr.uniq)(r));var i={};return r.forEach((function(t){var r=[];e.forEach((function(e){void 0!==e[t]&&""!==e[t]&&r.push(e[t])})),r.length&&!(null===n||void 0===n?void 0:n.includes(t))&&(i[t]=(0,Dr.uniq)(r))})),i},ki=function(e,t,n){var r=Ti(e,t,n),i=[];return Object.keys(r).length?(e.forEach((function(e,t){var n=[];if(1===Object.keys(r).length){var o=Object.keys(r)[0];r[o].every((function(e){return!isNaN(Number(e))}))&&(n=[e[o]])}else Object.keys(r).forEach((function(t){for(var i=e[t],o=r[t],a=o.findIndex((function(e){return i===e})),s=[],u=0;u<o.length;u++)u===a?s.push(1):s.push(0);n=n.concat(s)}));i[t]=n})),i):i},Ci=function(e,t,n,r){void 0===n&&(n=mi.EuclideanDistance);var i=0;if(n===mi.EuclideanDistance)i=new Si(e).euclideanDistance(new Si(t));return i},Mi=function(e,t,n,r){for(var i=t.length,o=2*r,a=0,s=0;s<i;s++)for(var u=e[s].clusterId,l=0;l<i;l++){if(u===e[l].clusterId)a+=(t[s][l]||0)-(n[s]||0)*(n[l]||0)/o}return a*=1/o},Ai=function(e,t){void 0===e&&(e=[]);for(var n=e.length,r=new Si([]),i=0;i<n;i++)r=r.add(new Si(t[i]));var o=r.avg(n);o.normalize();var a=0;for(i=0;i<n;i++){a+=(u=new Si(t[i])).squareEuclideanDistance(o)}var s=[];e.forEach((function(){s.push([])}));for(i=0;i<n;i++){var u=new Si(t[i]);e[i].clusterInertial=0;for(var l=0;l<n;l++)if(i!==l){var c=new Si(t[l]);s[i][l]=u.squareEuclideanDistance(c),e[i].clusterInertial+=s[i][l]}else s[i][l]=0}var f=0,d=2*n*a;for(i=0;i<n;i++){var h=e[i].clusterId;for(l=0;l<n;l++){var p=e[l].clusterId;if(i!==l&&h===p)f+=e[i].clusterInertial*e[l].clusterInertial/Math.pow(d,2)-s[i][l]/d}}return Number(f.toFixed(4))},Ni=function(e,t,n,r,i,o,a,s,u){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e-4),void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===a&&(a=[]),void 0===s&&(s=["id"]),void 0===u&&(u=1);var l=e.nodes,c=void 0===l?[]:l,f=e.edges,d=void 0===f?[]:f,h=[];if(i){c.forEach((function(e,t){e.properties=e.properties||{},e.originIndex=t}));var p=[];c.every((function(e){return e.hasOwnProperty("nodeType")}))&&(p=Array.from(new Set(c.map((function(e){return e.nodeType})))),c.forEach((function(e){e.properties.nodeType=p.findIndex((function(t){return t===e.nodeType}))})));var g=_i(c,o);h=ki(g,a,s)}var v=1,m={},y={};c.forEach((function(e,t){var n=String(v++);e.clusterId=n,m[n]={id:n,nodes:[e]},y[e.id]={node:e,idx:t}}));var b=Zr(e,t),x=[],w={},E=0;b.forEach((function(e,t){var n=0,r=c[t].id;w[r]={},e.forEach((function(e,t){if(e){n+=e;var i=c[t].id;w[r][i]=e,E+=e}})),x.push(n)})),E/=2;for(var S=1/0,_=1/0,T=0,k=[],C={};;){S=i&&c.every((function(e){return e.hasOwnProperty("properties")}))?Mi(c,b,x,E)+Ai(c,h)*u:Mi(c,b,x,E),0===T&&(_=S,k=c,C=m);var M=S>0&&S>_&&S-_<r;if(S>_&&(k=c.map((function(e){return{node:e,clusterId:e.clusterId}})),C=(0,Dr.clone)(m),_=S),M||T>100)break;T++,Object.keys(m).forEach((function(e){var t=0;d.forEach((function(r){var i=r.source,o=r.target,a=y[i].node.clusterId,s=y[o].node.clusterId;(a===e&&s!==e||s===e&&a!==e)&&(t+=r[n]||1)})),m[e].sumTot=t})),c.forEach((function(e,t){var r,o=m[e.clusterId],a=0,s=x[t]/(2*E),l=0,c=o.nodes;c.forEach((function(e){var n=y[e.id].idx;l+=b[t][n]||0}));var f=l-o.sumTot*s,p=c.filter((function(t){return t.id!==e.id})),g=[];p.forEach((function(e,t){g[t]=h[e.originIndex]}));var v=Ai(p,h)*u,S=w[e.id];if(Object.keys(S).forEach((function(n){var o=y[n].node.clusterId;if(o!==e.clusterId){var l=m[o],c=l.nodes;if(c&&c.length){var d=0;c.forEach((function(e){var n=y[e.id].idx;d+=b[t][n]||0}));var p=d-l.sumTot*s,g=c.concat([e]),x=[];g.forEach((function(e,t){x[t]=h[e.originIndex]}));var w=Ai(g,h)*u,E=p-f;i&&(E=p+w-(f+v)),E>a&&(a=E,r=l)}}})),a>0){r.nodes.push(e);var _=e.clusterId;e.clusterId=r.id;var T=o.nodes.indexOf(e);o.nodes.splice(T,1);var k=0,C=0;d.forEach((function(e){var t=e.source,i=e.target,o=y[t].node.clusterId,a=y[i].node.clusterId;(o===r.id&&a!==r.id||a===r.id&&o!==r.id)&&(k+=e[n]||1),(o===_&&a!==_||a===_&&o!==_)&&(C+=e[n]||1)})),r.sumTot=k,o.sumTot=C}}))}var A={},N=0;Object.keys(C).forEach((function(e){var t=C[e];if(t.nodes&&t.nodes.length){var n=String(N+1);n!==e&&(t.id=n,t.nodes=t.nodes.map((function(e){return{id:e.id,clusterId:n}})),C[n]=t,A[e]=n,delete C[e],N++)}else delete C[e]})),k.forEach((function(e){var t=e.node,n=e.clusterId;t.clusterId=n,t.clusterId&&A[t.clusterId]&&(t.clusterId=A[t.clusterId])}));var P=[],I={};d.forEach((function(e){var t=e.source,r=e.target,i=e[n]||1,o=y[t].node.clusterId,a=y[r].node.clusterId,s="".concat(o,"---").concat(a);if(I[s])I[s].weight+=i,I[s].count++;else{var u={source:o,target:a,weight:i,count:1};I[s]=u,P.push(u)}}));var D=[];return Object.keys(C).forEach((function(e){D.push(C[e])})),{clusters:D,clusterEdges:P}},Pi=function(e,t,n,r,i,o,a,s){return void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===r&&(r=1e-4),void 0===i&&(i=void 0),void 0===o&&(o=[]),void 0===a&&(a=["id"]),void 0===s&&(s=1),Ni(e,t,n,r,!0,i,o,a,s)},Ii=function(e,t){var n;void 0===t&&(t=1);for(var r=(0,Dr.clone)(e),i=r.nodes,o=void 0===i?[]:i,a=r.edges,s=void 0===a?[]:a,u=function(){var e=ai({nodes:o,edges:s}),r=Object.keys(e);r.sort((function(t,n){var r,i;return(null===(r=e[t])||void 0===r?void 0:r.degree)-(null===(i=e[n])||void 0===i?void 0:i.degree)}));var i=r[0];if(!o.length||(null===(n=e[i])||void 0===n?void 0:n.degree)>=t)return"break";var a=o.findIndex((function(e){return e.id===i}));o.splice(a,1),s=s.filter((function(e){return!(e.source===i||e.target===i)}))};;){if("break"===u())break}return{nodes:o,edges:s}},Di=function(e,t,n){var r=[];if(e===mi.EuclideanDistance)r=t[n];else r=[];return r},Oi=function(e,t,n,r,i,o){void 0===t&&(t=3),void 0===n&&(n=void 0),void 0===r&&(r=[]),void 0===i&&(i=["id"]),void 0===o&&(o=mi.EuclideanDistance);var a=e.nodes,s=void 0===a?[]:a,u=e.edges,l=void 0===u?[]:u,c={clusters:[{id:"0",nodes:s}],clusterEdges:[]};if(o===mi.EuclideanDistance&&!s.every((function(e){return e.hasOwnProperty(n)})))return c;var f=[],d=[];if(o===mi.EuclideanDistance&&(f=_i(s,n),d=ki(f,r,i)),!d.length)return c;for(var h=(0,Dr.uniq)(d.map((function(e){return e.join("")}))),p=Math.min(t,s.length,h.length),g=0;g<s.length;g++)s[g].originIndex=g;var v=[],m=[],y=[];for(g=0;g<p;g++)if(0===g){var b=Math.floor(Math.random()*s.length);if(o===mi.EuclideanDistance)v[g]=d[b];else v[g]=[];m.push(b),y[g]=[s[b]],s[b].clusterId=String(g)}else{for(var x=-1/0,w=0,E=function(e){if(!m.includes(e)){for(var t=0,n=0;n<v.length;n++){var r=0;if(o===mi.EuclideanDistance)r=Ci(d[s[e].originIndex],v[n],o);t+=r}var i=t/v.length;i>x&&!v.find((function(t){return(0,Dr.isEqual)(t,Di(o,d,s[e].originIndex))}))&&(x=i,w=e)}},S=0;S<s.length;S++)E(S);v[g]=Di(o,d,w),m.push(w),y[g]=[s[w]],s[w].clusterId=String(g)}for(var _=0;;){for(g=0;g<s.length;g++){var T=0,k=1/0;if(0!==_||!m.includes(g)){for(var C=0;C<v.length;C++){var M=0;if(o===mi.EuclideanDistance)M=Ci(d[g],v[C],o);M<k&&(k=M,T=C)}if(void 0!==s[g].clusterId)for(var A=y[Number(s[g].clusterId)].length-1;A>=0;A--)y[Number(s[g].clusterId)][A].id===s[g].id&&y[Number(s[g].clusterId)].splice(A,1);s[g].clusterId=String(T),y[T].push(s[g])}}var N=!1;for(g=0;g<y.length;g++){var P=y[g],I=new Si([]);for(C=0;C<P.length;C++)I=I.add(new Si(d[P[C].originIndex]));var D=I.avg(P.length);D.equal(new Si(v[g]))||(N=!0,v[g]=D.getArr())}if(_++,s.every((function(e){return void 0!==e.clusterId}))&&N||_>=1e3)break}var O=[],R={};return l.forEach((function(e){var t,n,r=e.source,i=e.target,o=null===(t=s.find((function(e){return e.id===r})))||void 0===t?void 0:t.clusterId,a=null===(n=s.find((function(e){return e.id===i})))||void 0===n?void 0:n.clusterId,u="".concat(o,"---").concat(a);if(R[u])R[u].count++;else{var l={source:o,target:a,count:1};R[u]=l,O.push(l)}})),{clusters:y,clusterEdges:O}},Ri=function(e,t){var n=new Si(t),r=n.norm2(),i=new Si(e),o=i.norm2(),a=n.dot(i),s=r*o,u=s?a/s:0;return u},Li=function(e,t,n,r,i){void 0===e&&(e=[]),void 0===n&&(n=void 0),void 0===r&&(r=[]),void 0===i&&(i=[]);var o=(0,Dr.clone)(e.filter((function(e){return e.id!==t.id}))),a=e.findIndex((function(e){return e.id===t.id})),s=_i(e,n),u=ki(s,r,i),l=u[a],c=[];return o.forEach((function(e,n){if(e.id!==t.id){var r=u[n],i=Ri(r,l);c.push(i),e.cosineSimilarity=i}})),o.sort((function(e,t){return t.cosineSimilarity-e.cosineSimilarity})),{allCosineSimilarity:c,similarNodes:o}},ji=function(){function e(e){this.count=e.length,this.parent={};for(var t=0,n=e;t<n.length;t++){var r=n[t];this.parent[r]=r}}return e.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},e.prototype.union=function(e,t){var n=this.find(e),r=this.find(t);n!==r&&(n<r?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},e.prototype.connected=function(e,t){return this.find(e)===this.find(t)},e}(),Bi=ji,Fi=function(e,t){return e-t},zi=function(){function e(e){void 0===e&&(e=Fi),this.compareFn=e,this.list=[]}return e.prototype.getLeft=function(e){return 2*e+1},e.prototype.getRight=function(e){return 2*e+2},e.prototype.getParent=function(e){return 0===e?null:Math.floor((e-1)/2)},e.prototype.isEmpty=function(){return this.list.length<=0},e.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},e.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},e.prototype.insert=function(e){if(null!==e){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},e.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var n=this.list[t];this.list[t]=this.list[e],this.list[e]=n,e=t,t=this.getParent(e)}},e.prototype.moveDown=function(e){var t,n=e,r=this.getLeft(e),i=this.getRight(e),o=this.list.length;null!==r&&r<o&&this.compareFn(this.list[n],this.list[r])>0?n=r:null!==i&&i<o&&this.compareFn(this.list[n],this.list[i])>0&&(n=i),e!==n&&(t=[this.list[n],this.list[e]],this.list[e]=t[0],this.list[n]=t[1],this.moveDown(n))},e}(),Yi=zi,Gi=function(e,t){var n=[],r=e.nodes,i=void 0===r?[]:r,o=e.edges,a=void 0===o?[]:o;if(0===i.length)return n;var s=i[0],u=new Set;u.add(s);var l=new Yi((function(e,n){return t?e.weight-n.weight:0}));for(ei(s.id,a).forEach((function(e){l.insert(e)}));!l.isEmpty();){var c=l.delMin(),f=c.source,d=c.target;u.has(f)&&u.has(d)||(n.push(c),u.has(f)||(u.add(f),ei(f,a).forEach((function(e){l.insert(e)}))),u.has(d)||(u.add(d),ei(d,a).forEach((function(e){l.insert(e)}))))}return n},Vi=function(e,t){var n=[],r=e.nodes,i=void 0===r?[]:r,o=e.edges,a=void 0===o?[]:o;if(0===i.length)return n;var s=a.map((function(e){return e}));t&&s.sort((function(e,t){return e.weight-t.weight}));for(var u=new Bi(i.map((function(e){return e.id})));s.length>0;){var l=s.shift(),c=l.source,f=l.target;u.connected(c,f)||(n.push(l),u.union(c,f))}return n},Ui=function(e,t,n){return n?{prim:Gi,kruskal:Vi}[n](e,t):Vi(e,t)},Wi=function(e,t,n){"number"!==typeof t&&(t=1e-6),"number"!==typeof n&&(n=.85);for(var r,i=1,o=0,a=1e3,s=e.nodes,u=void 0===s?[]:s,l=e.edges,c=void 0===l?[]:l,f=u.length,d={},h={},p=0;p<f;++p){d[v=(w=u[p]).id]=1/f,h[v]=1/f}for(var g=ai(e);a>0&&i>t;){o=0;for(p=0;p<f;++p){var v=(w=u[p]).id;if(r=0,0===g[w.id].inDegree)d[v]=0;else{for(var m=Qr(v,c,"source"),y=0;y<m.length;++y){var b=m[y],x=g[b].outDegree;x>0&&(r+=h[b]/x)}d[v]=n*r,o+=d[v]}}o=(1-o)/f,i=0;for(p=0;p<f;++p){var w;r=d[v=(w=u[p]).id]+o,i+=Math.abs(r-h[v]),h[v]=r}a-=1}return h},Zi="-1",Hi=function(e,t,n,r){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===n&&(n=-1),void 0===r&&(r="-1"),this.id=e,this.from=t,this.to=n,this.label=r},Xi=function(){function e(e,t){void 0===e&&(e=-1),void 0===t&&(t=Zi),this.id=e,this.label=t,this.edges=[],this.edgeMap={}}return e.prototype.addEdge=function(e){this.edges.push(e),this.edgeMap[e.id]=e},e}(),Ki=function(){function e(e,t,n){void 0===e&&(e=-1),void 0===t&&(t=!0),void 0===n&&(n=!1),this.id=e,this.edgeIdAutoIncrease=t,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return e.prototype.getNodeNum=function(){return this.nodes.length},e.prototype.addNode=function(e,t){if(!this.nodeMap[e]){var n=new Xi(e,t);this.nodes.push(n),this.nodeMap[e]=n,this.nodeLabelMap[t]||(this.nodeLabelMap[t]=[]),this.nodeLabelMap[t].push(e)}},e.prototype.addEdge=function(e,t,n,r){if((this.edgeIdAutoIncrease||void 0===e)&&(e=this.counter++),!(this.nodeMap[t]&&this.nodeMap[n]&&this.nodeMap[n].edgeMap[e])){var i=new Hi(e,t,n,r);if(this.edges.push(i),this.edgeMap[e]=i,this.nodeMap[t].addEdge(i),this.edgeLabelMap[r]||(this.edgeLabelMap[r]=[]),this.edgeLabelMap[r].push(i),!this.directed){var o=new Hi(e,n,t,r);this.nodeMap[n].addEdge(o),this.edgeLabelMap[r].push(o)}}},e}(),qi=function(){function e(e,t,n,r,i){this.fromNode=e,this.toNode=t,this.nodeEdgeNodeLabel={nodeLabel1:n||Zi,edgeLabel:r||"-1",nodeLabel2:i||Zi}}return e.prototype.equalTo=function(e){return this.fromNode===e.formNode&&this.toNode===e.toNode&&this.nodeEdgeNodeLabel===e.nodeEdgeNodeLabel},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e}(),Ji=function(){function e(){this.rmpath=[],this.dfsEdgeList=[]}return e.prototype.equalTo=function(e){var t=this.dfsEdgeList.length;if(t!==e.length)return!1;for(var n=0;n<t;n++)if(this.dfsEdgeList[n]!==e[n])return!1;return!0},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e.prototype.pushBack=function(e,t,n,r,i){return this.dfsEdgeList.push(new qi(e,t,n,r,i)),this.dfsEdgeList},e.prototype.toGraph=function(e,t){void 0===e&&(e=-1),void 0===t&&(t=!1);var n=new Ki(e,!0,t);return this.dfsEdgeList.forEach((function(e){var t=e.fromNode,r=e.toNode,i=e.nodeEdgeNodeLabel,o=i.nodeLabel1,a=i.edgeLabel,s=i.nodeLabel2;o!==Zi&&n.addNode(t,o),s!==Zi&&n.addNode(r,s),o!==Zi&&s!==o&&n.addEdge(void 0,t,r,a)})),n},e.prototype.buildRmpath=function(){this.rmpath=[];for(var e=void 0,t=this.dfsEdgeList.length-1;t>=0;t--){var n=this.dfsEdgeList[t],r=n.fromNode,i=n.toNode;r<i&&(void 0===e||i===e)&&(this.rmpath.push(t),e=r)}return this.rmpath},e.prototype.getNodeNum=function(){var e={};return this.dfsEdgeList.forEach((function(t){e[t.fromNode]||(e[t.fromNode]=!0),e[t.toNode]||(e[t.toNode]=!0)})),Object.keys(e).length},e}(),$i=function(){function e(e){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],e){for(;e;){var t=e.edge;this.edges.push(t),this.nodesUsed[t.from]=1,this.nodesUsed[t.to]=1,this.edgesUsed[t.id]=1,e=e.preNode}this.edges=this.edges.reverse()}}return e.prototype.hasNode=function(e){return 1===this.nodesUsed[e.id]},e.prototype.hasEdge=function(e){return 1===this.edgesUsed[e.id]},e}(),Qi=function(){function e(e){var t=e.graphs,n=e.minSupport,r=void 0===n?2:n,i=e.minNodeNum,o=void 0===i?1:i,a=e.maxNodeNum,s=void 0===a?4:a,u=e.top,l=void 0===u?10:u,c=e.directed,f=void 0!==c&&c,d=e.verbose,h=void 0!==d&&d;this.graphs=t,this.dfsCode=new Ji,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=r,this.top=l,this.directed=f,this.counter=0,this.maxNodeNum=s,this.minNodeNum=o,this.verbose=h,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return e.prototype.findForwardRootEdges=function(e,t){var n=this,r=[],i=e.nodeMap;return t.edges.forEach((function(e){(n.directed||t.label<=i[e.to].label)&&r.push(e)})),r},e.prototype.findBackwardEdge=function(e,t,n,r){if(!this.directed&&t===n)return null;for(var i=e.nodeMap,o=i[n.to].edges,a=o.length,s=0;s<a;s++){var u=o[s];if(!r.hasEdge(u)&&u.to===t.from)if(this.directed){if(i[t.from].label<i[n.to].label||i[t.from].label===i[n.to].label&&t.label<=u.label)return u}else if(t.label<u.label||t.label===u.label&&i[t.to].label<=i[n.to].label)return u}return null},e.prototype.findForwardPureEdges=function(e,t,n,r){for(var i=[],o=t.to,a=e.nodeMap[o].edges,s=a.length,u=0;u<s;u++){var l=a[u],c=e.nodeMap[l.to];n<=c.label&&!r.hasNode(c)&&i.push(l)}return i},e.prototype.findForwardRmpathEdges=function(e,t,n,r){for(var i=[],o=e.nodeMap,a=o[t.to].label,s=o[t.from].edges,u=s.length,l=0;l<u;l++){var c=s[l],f=o[c.to].label;t.to===c.to||n>f||r.hasNode(o[c.to])||(t.label<c.label||t.label===c.label&&a<=f)&&i.push(c)}return i},e.prototype.getSupport=function(e){var t={};return e.forEach((function(e){t[e.graphId]||(t[e.graphId]=!0)})),Object.keys(t).length},e.prototype.findMinLabel=function(e){var t=void 0;return Object.keys(e).forEach((function(n){var r=e[n],i=r.nodeLabel1,o=r.edgeLabel,a=r.nodeLabel2;t?(i<t.nodeLabel1||i===t.nodeLabel1&&o<t.edgeLabel||i===t.nodeLabel1&&o===t.edgeLabel&&a<t.nodeLabel2)&&(t={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}):t={nodeLabel1:i,edgeLabel:o,nodeLabel2:a}})),t},e.prototype.isMin=function(){var e=this,t=this.dfsCode;if(this.verbose&&console.log("isMin checking",t),1===t.dfsEdgeList.length)return!0;var n=this.directed,r=t.toGraph(-1,n),i=r.nodeMap,o=new Ji,a={};r.nodes.forEach((function(t){e.findForwardRootEdges(r,t).forEach((function(e){var n=i[e.to],o="".concat(t.label,"-").concat(e.label,"-").concat(n.label);a[o]||(a[o]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:n.label});var s={graphId:r.id,edge:e,preNode:null};a[o].projected.push(s)}))}));var s=this.findMinLabel(a);if(s){o.dfsEdgeList.push(new qi(0,1,s.nodeLabel1,s.edgeLabel,s.nodeLabel2));var u="".concat(s.nodeLabel1,"-").concat(s.edgeLabel,"-").concat(s.nodeLabel2);return function a(s){for(var u=o.buildRmpath(),l=o.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,c=o.dfsEdgeList[u[0]].toNode,f={},d=!1,h=0,p=n?-1:0,g=function(t){if(d)return"break";s.forEach((function(n){var i=new $i(n),a=e.findBackwardEdge(r,i.edges[u[t]],i.edges[u[0]],i);a&&(f[a.label]||(f[a.label]={projected:[],edgeLabel:a.label}),f[a.label].projected.push({graphId:r.id,edge:f,preNode:n}),h=o.dfsEdgeList[u[t]].fromNode,d=!0)}))},v=u.length-1;v>p;v--){if("break"===g(v))break}if(d){var m=e.findMinLabel(f);o.dfsEdgeList.push(new qi(c,h,Zi,m.edgeLabel,Zi));var y=o.dfsEdgeList.length-1;return e.dfsCode.dfsEdgeList[y]===o.dfsEdgeList[y]&&a(f[m.edgeLabel].projected)}var b={};d=!1;var x=0;s.forEach((function(t){var n=new $i(t),o=e.findForwardPureEdges(r,n.edges[u[0]],l,n);o.length>0&&(d=!0,x=c,o.forEach((function(e){var n="".concat(e.label,"-").concat(i[e.to].label);b[n]||(b[n]={projected:[],edgeLabel:e.label,nodeLabel2:i[e.to].label}),b[n].projected.push({graphId:r.id,edge:e,preNode:t})})))}));var w=u.length,E=function(t){if(d)return"break";var n=u[t];s.forEach((function(t){var a=new $i(t),s=e.findForwardRmpathEdges(r,a.edges[n],l,a);s.length>0&&(d=!0,x=o.dfsEdgeList[n].fromNode,s.forEach((function(e){var n="".concat(e.label,"-").concat(i[e.to].label);b[n]||(b[n]={projected:[],edgeLabel:e.label,nodeLabel2:i[e.to].label}),b[n].projected.push({graphId:r.id,edge:e,preNode:t})})))}))};for(v=0;v<w;v++){if("break"===E(v))break}if(!d)return!0;var S=e.findMinLabel(b);o.dfsEdgeList.push(new qi(x,c+1,Zi,S.edgeLabel,S.nodeLabel2));var _=o.dfsEdgeList.length-1;return t.dfsEdgeList[_]===o.dfsEdgeList[_]&&a(b["".concat(S.edgeLabel,"-").concat(S.nodeLabel2)].projected)}(a[u].projected)}},e.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var e=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,Dr.clone)(e))}},e.prototype.subGraphMining=function(e){var t=this;if(!(this.getSupport(e)<this.minSupport)&&this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),r=this.dfsCode.buildRmpath(),i=this.dfsCode.dfsEdgeList[r[0]].toNode,o=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,a={},s={};e.forEach((function(e){for(var u=t.graphs[e.graphId],l=u.nodeMap,c=new $i(e),f=r.length-1;f>=0;f--){var d=t.findBackwardEdge(u,c.edges[r[f]],c.edges[r[0]],c);if(d){var h="".concat(t.dfsCode.dfsEdgeList[r[f]].fromNode,"-").concat(d.label);s[h]||(s[h]={projected:[],toNodeId:t.dfsCode.dfsEdgeList[r[f]].fromNode,edgeLabel:d.label}),s[h].projected.push({graphId:e.graphId,edge:d,preNode:e})}}if(!(n>=t.maxNodeNum)){t.findForwardPureEdges(u,c.edges[r[0]],o,c).forEach((function(t){var n="".concat(i,"-").concat(t.label,"-").concat(l[t.to].label);a[n]||(a[n]={projected:[],fromNodeId:i,edgeLabel:t.label,nodeLabel2:l[t.to].label}),a[n].projected.push({graphId:e.graphId,edge:t,preNode:e})}));var p=function(n){t.findForwardRmpathEdges(u,c.edges[r[n]],o,c).forEach((function(i){var o="".concat(t.dfsCode.dfsEdgeList[r[n]].fromNode,"-").concat(i.label,"-").concat(l[i.to].label);a[o]||(a[o]={projected:[],fromNodeId:t.dfsCode.dfsEdgeList[r[n]].fromNode,edgeLabel:i.label,nodeLabel2:l[i.to].label}),a[o].projected.push({graphId:e.graphId,edge:i,preNode:e})}))};for(f=0;f<r.length;f++)p(f)}})),Object.keys(s).forEach((function(e){var n=s[e],r=n.toNodeId,o=n.edgeLabel;t.dfsCode.dfsEdgeList.push(new qi(i,r,"-1",o,"-1")),t.subGraphMining(s[e].projected),t.dfsCode.dfsEdgeList.pop()})),Object.keys(a).forEach((function(e){var n=a[e],r=n.fromNodeId,o=n.edgeLabel,s=n.nodeLabel2;t.dfsCode.dfsEdgeList.push(new qi(r,i+1,Zi,o,s)),t.subGraphMining(a[e].projected),t.dfsCode.dfsEdgeList.pop()}))}},e.prototype.generate1EdgeFrequentSubGraphs=function(){var e=this.graphs,t=this.directed,n=this.minSupport,r=this.frequentSize1Subgraphs,i={},o={},a={},s={};return Object.keys(e).forEach((function(n){var r=e[n],u=r.nodeMap;r.nodes.forEach((function(e,r){var l=e.label,c="".concat(n,"-").concat(l);if(!a[c]){var f=i[l]||0;f++,i[l]=f}a[c]={graphKey:n,label:l},e.edges.forEach((function(e){var r=l,i=u[e.to].label;if(!t&&r>i){var a=i;i=r,r=a}var c=e.label,f="".concat(n,"-").concat(r,"-").concat(c,"-").concat(i),d="".concat(r,"-").concat(c,"-").concat(i);if(!o[d]){var h=o[d]||0;h++,o[d]=h}s[f]={graphId:n,nodeLabel1:r,edgeLabel:c,nodeLabel2:i}}))}))})),Object.keys(i).forEach((function(e){if(!(i[e]<n)){var t={nodes:[],edges:[]};t.nodes.push({id:"0",label:e}),r.push(t)}})),r},e.prototype.run=function(){var e=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var t=this.graphs,n=(this.directed,{});Object.keys(t).forEach((function(r){var i=t[r],o=i.nodeMap;i.nodes.forEach((function(t){e.findForwardRootEdges(i,t).forEach((function(e){var i=o[e.to],a="".concat(t.label,"-").concat(e.label,"-").concat(i.label);n[a]||(n[a]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:i.label});var s={graphId:r,edge:e,preNode:null};n[a].projected.push(s)}))}))})),Object.keys(n).forEach((function(t){var r=n[t],i=r.projected,o=r.nodeLabel1,a=r.edgeLabel,s=r.nodeLabel2;e.dfsCode.dfsEdgeList.push(new qi(0,1,o,a,s)),e.subGraphMining(i),e.dfsCode.dfsEdgeList.pop()}))}},e}(),eo="cluster",to=function(e){var t=e.graphs,n=e.directed,r=void 0!==n&&n,i=e.nodeLabelProp,o=void 0===i?eo:i,a=e.edgeLabelProp,s=void 0===a?eo:a,u=function(e,t,n,r){var i={};return Object.keys(e).forEach((function(o,a){var s=e[o],u=new Ki(a,!0,t),l={};s.nodes.forEach((function(e,t){u.addNode(t,e[n]),l[e.id]=t})),s.edges.forEach((function(e,t){var n=l[e.source],i=l[e.target];u.addEdge(-1,n,i,e[r])})),u&&u.getNodeNum()&&(i[u.id]=u)})),i}(t,r,o,s),l=e.minSupport,c=e.maxNodeNum,f=e.minNodeNum,d=e.verbose,h=e.top,p=new Qi({graphs:u,minSupport:l,maxNodeNum:c,minNodeNum:f,top:h,verbose:d,directed:r});p.run();var g=function(e,t,n){var r=[];return e.forEach((function(e){var i={nodes:[],edges:[]};e.nodes.forEach((function(e){var n;i.nodes.push(((n={id:"".concat(e.id)})[t]=e.label,n))})),e.edges.forEach((function(e){var t;i.edges.push(((t={source:"".concat(e.from),target:"".concat(e.to)})[n]=e.label,t))})),r.push(i)})),r}(p.frequentSubgraphs,o,s);return g},no=function(e,t,n,r){void 0===n&&(n="cluster"),void 0===r&&(r=2);var i=[],o=e.nodes;return t.forEach((function(e,t){i.push(ro(o,e,t,n,r))})),i},ro=function(e,t,n,r,i){var o=[n],a=[],s={};return t.forEach((function(t,u){if(t<=i&&n!==u){o.push(u),a.push(e[u]);var l=e[u][r];s[l]?(s[l].count++,s[l].dists.push(t)):s[l]={count:1,dists:[t]}}})),Object.keys(s).forEach((function(e){s[e].dists=s[e].dists.sort((function(e,t){return e-t}))})),{nodeIdx:n,nodeId:e[n].id,nodeIdxs:o,neighbors:a,neighborNum:o.length-1,nodeLabelCountMap:s}},io=function(e,t,n,r){var i=n.nodes;return r||(r={}),Object.keys(e).forEach((function(o){var a,s;if(!r||!r[o]){r[o]={nodes:[],edges:[]};var u=e[o],l=null===(a=t[u.start])||void 0===a?void 0:a.nodeIdxs,c=null===(s=t[u.end])||void 0===s?void 0:s.nodeIdxs;if(l&&c){var f=new Set(c),d=l.filter((function(e){return f.has(e)}));if(d&&d.length){for(var h={},p=d.length,g=0;g<p;g++){var v=i[d[g]];r[o].nodes.push(v),h[v.id]=!0}n.edges.forEach((function(e){h[e.source]&&h[e.target]&&r[o].edges.push(e)}))}}}})),r},oo=function(e,t,n,r){var i,o,a={};e.nodes.forEach((function(e){a[e.id]=e}));var s=0;return!(null===(i=null===t||void 0===t?void 0:t.edges)||void 0===i?void 0:i.length)||(null===(o=null===t||void 0===t?void 0:t.nodes)||void 0===o?void 0:o.length)<2?0:(e.edges.forEach((function(e){var i=a[e.source][n],o=a[e.target][n],u=null===t||void 0===t?void 0:t.nodes[0][n],l=null===t||void 0===t?void 0:t.nodes[1][n],c=null===t||void 0===t?void 0:t.edges[0][r];e[r]===c&&(i===u&&o===l||i===l&&o===u)&&s++})),s)},ao=function(e,t){var n={},r={};return e.forEach((function(e,i){n[e.id]={idx:i,node:e,degree:0,inDegree:0,outDegree:0};var o=e[t];r[o]||(r[o]=[]),r[o].push(e)})),{nodeMap:n,nodeLabelMap:r}},so=function(e,t,n){var r={},i={};return e.forEach((function(e,o){r["".concat(ti)]={idx:o,edge:e};var a=e[t];i[a]||(i[a]=[]),i[a].push(e);var s=n[e.source];s&&(s.degree++,s.outDegree++);var u=n[e.target];u&&(u.degree++,u.inDegree++)})),{edgeMap:r,edgeLabelMap:i}},uo=function(e,t,n){var r=t.length,i={};return t.forEach((function(t,o){for(var a=n?0:o+1,s=e[o].id,u=a;u<r;u++)if(o!==u){var l=e[u].id,c=t[u];i["".concat(s,"-").concat(l)]=c,n||(i["".concat(l,"-").concat(s)]=c)}})),i},lo=function(e,t,n,r,i,o,a,s,u,l,c){var f,d="".concat(t.id,"-").concat(n.id);if(l&&l[d])return l[d];var h=c?c[d]:void 0;if(!h){var p=((f={})[d]={start:r[t.id].idx,end:r[n.id].idx,distance:i},f);h=(c=io(p,o,e,c))[d]}return oo(h,a,s,u)},co=function(e,t,n,r){var i,o,a,s=null===(i=e[t])||void 0===i?void 0:i.degree,u=null===(o=e[t])||void 0===o?void 0:o.inDegree,l=null===(a=e[t])||void 0===a?void 0:a.outDegree;return void 0===e[t]&&(s=1/0,u=1/0,l=1/0,r[t].forEach((function(e){var t=n[e.id].degree;s>t&&(s=t);var r=n[e.id].inDegree;u>r&&(u=r);var i=n[e.id].outDegree;l>i&&(l=i)})),e[t]={degree:s,inDegree:u,outDegree:l}),{minPatternNodeLabelDegree:s,minPatternNodeLabelInDegree:u,minPatternNodeLabelOutDegree:l}},fo=function(e,t,n,r,i,o,a){var s;if(void 0===n&&(n=!1),void 0===o&&(o="cluster"),void 0===a&&(a="cluster"),e&&e.nodes){var u=e.nodes.length;if(u){var l=xi(e,n),c=xi(t,n),f=uo(e.nodes,l,n),d=uo(t.nodes,c,n),h=ao(e.nodes,o),p=h.nodeMap,g=h.nodeLabelMap,v=ao(t.nodes,o),m=v.nodeMap,y=v.nodeLabelMap;so(e.edges,a,p);var b=so(t.edges,a,m).edgeLabelMap,x=[];null===c||void 0===c||c.forEach((function(e){x=x.concat(e)})),i||(i=Math.max.apply(Math,(0,Ir.__spreadArray)((0,Ir.__spreadArray)([],x,!1),[2],!1))),r||(r=i);var w=no(e,l,o,r),E=no(t,c,o,r),S=function(e,t,n,r,i){var o=Math.ceil(n/t),a={},s=0;return r.forEach((function(e,r){for(var u=0,l=0,c=e.nodeIdxs,f=e.neighborNum-1;u<o;){for(var d=c[1+Math.floor(Math.random()*f)],h=0;(a["".concat(r,"-").concat(d)]||a["".concat(d,"-").concat(r)])&&(d=Math.floor(Math.random()*t),!(++h>2*t)););if(h<2*t&&(a["".concat(r,"-").concat(d)]={start:r,end:d,distance:i[r][d]},u++,++s>=n))return a;if(++l>2*t)break}u<o&&(o=(o+(o-u))/(t-r-1))})),a}(0,u,Math.min(100,u*(u-1)/2),w,l),_=io(S,w,e),T=to({graphs:_,nodeLabelProp:o,edgeLabelProp:a,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:n}).slice(0,10),k=T.length,C=[];T.forEach((function(e,t){C[t]={},Object.keys(_).forEach((function(n){var r=_[n],i=oo(r,e,o,a);C[t][n]=i}))}));var M=function(e,t,n){for(var r=1/0,i=0,o=function(t){var n=e[t],o=Object.keys(n).sort((function(e,t){return n[e]-n[t]})),a=[];o.forEach((function(e,t){a[t%10]||(a[t%10]={graphs:[],totalCount:0,aveCount:0}),a[t%10].graphs.push(e),a[t%10].totalCount+=n[e]}));var s=0,u=[];a.forEach((function(e){var t=e.totalCount/e.graphs.length;e.aveCount=t,u.push(t);var r=0,i=e.length;e.graphs.forEach((function(t,i){var o=n[t];e.graphs.forEach((function(e,t){i!==t&&(r+=Math.abs(o-n[e]))}))})),s+=r/=i*(i-1)/2})),s/=a.length;var l=0;u.forEach((function(e,t){u.forEach((function(n,r){t!==r&&(l+=Math.abs(e-n))})),l/=u.length*(u.length-1)/2}));var c=l-s;r<c&&(r=c,i=t)},a=0;a<t;a++)o(a);return{structure:n[i],structureCountMap:e[i]}}(C,k,T),A=M.structure,N=M.structureCountMap,P=t.nodes[0],I=[],D=null===(s=t.nodes[0])||void 0===s?void 0:s[o],O=-1/0;t.nodes.forEach((function(e){var t=e[o],n=g[t];(null===n||void 0===n?void 0:n.length)>O&&(O=n.length,I=n,D=t,P=e)}));var R={},L={},j={},B={},F={},z={};Object.keys(y).forEach((function(r,i){F[r]=[],n&&(z[r]=[]);var s=-1/0,u=y[r],l={};u.forEach((function(e){var t=d["".concat(P.id,"-").concat(e.id)];if(t&&F[r].push(t),s<t&&(s=t),l["".concat(P.id,"-").concat(e.id)]={start:0,end:m[e.id].idx,distance:t},n){var i=d["".concat(e.id,"-").concat(P.id)];i&&z[r].push(i)}})),F[r]=F[r].sort((function(e,t){return e-t})),n&&(z[r]=z[r].sort((function(e,t){return e-t}))),L=io(l,E,t,L);var c=[];if(Object.keys(l).forEach((function(e){if(j[e])c.push(j[e]);else{var t=L[e];j[e]=oo(t,A,o,a),c.push(j[e])}})),c=c.sort((function(e,t){return t-e})),B["".concat(P.id,"-").concat(r)]=c,r!==D)for(var h=function(t){var n=I[t],i=w[p[n.id].idx],s=i.nodeLabelCountMap[r],u=y[r].length;if(!s||s.count<u)return I.splice(t,1),"continue";for(var l=!1,d=0;d<u;d++)if(s.dists[d]>F[r][d]){l=!0;break}if(l)return I.splice(t,1),"continue";var h={};i.neighbors.forEach((function(e){var t=f["".concat(n.id,"-").concat(e.id)];h["".concat(n.id,"-").concat(e.id)]={start:p[n.id].idx,end:p[e.id].idx,distance:t}})),_=io(h,w,e,_);var g=[];Object.keys(h).forEach((function(e){if(N[e])g.push(N[e]);else{var t=_[e];N[e]=oo(t,A,o,a),g.push(N[e])}})),g=g.sort((function(e,t){return t-e}));var v=!1;for(d=0;d<u;d++)if(g[d]<c[d]){v=!0;break}return v?(I.splice(t,1),"continue"):void 0},g=((null===I||void 0===I?void 0:I.length)||0)-1;g>=0;g--)h(g)}));var Y=[];null===I||void 0===I||I.forEach((function(r){for(var s=p[r.id].idx,u=ro(e.nodes,l[s],s,o,i).neighbors,c=!1,d=u.length-1;d>=0;d--){if(u.length+1<t.nodes.length)return void(c=!0);var h=u[d],g=h[o];if(y[g]&&y[g].length)if(F[g]&&F[g].length){var v="".concat(r.id,"-").concat(h.id),b=f[v],x=F[g].length-1;if(b>F[g][x])u.splice(d,1);else{if(n){var E="".concat(h.id,"-").concat(r.id),S=f[E];if(x=z[g].length-1,S>z[g][x]){u.splice(d,1);continue}}var T=N[v]?N[v]:lo(e,r,h,p,b,w,A,o,a,N,_),k="".concat(P.id,"-").concat(g);if(T<B[k][B[k].length-1])u.splice(d,1);else{var C=co(R,g,m,y),M=C.minPatternNodeLabelDegree;C.minPatternNodeLabelInDegree,C.minPatternNodeLabelOutDegree;p[h.id].degree<M&&u.splice(d,1)}}}else u.splice(d,1);else u.splice(d,1)}c||Y.push({nodes:[r].concat(u)})}));var G=gi(t,P.id,!1).length,V={};n?(Object.keys(G).forEach((function(e){var t=m[e].node[o];V[t]?V[t].push(G[e]):V[t]=[G[e]]})),Object.keys(V).forEach((function(e){V[e].sort((function(e,t){return e-t}))}))):V=F;for(var U=function(r){var i=Y[r],s=i.nodes[0],u={},l={};i.nodes.forEach((function(e,t){l[e.id]={idx:t,node:e,degree:0,inDegree:0,outDegree:0};var n=e[o];u[n]?u[n]++:u[n]=1}));var c=[],f={};e.edges.forEach((function(e){l[e.source]&&l[e.target]&&(c.push(e),f[e[a]]?f[e[a]]++:f[e[a]]=1,l[e.source].degree++,l[e.target].degree++,l[e.source].outDegree++,l[e.target].inDegree++)}));for(var d=Object.keys(b).length,h=!1,g=0;g<d;g++){var v=Object.keys(b)[g];if(!f[v]||f[v]<b[v].length){h=!0;break}}if(h)return Y.splice(r,1),"continue";var x=c.length;if(x<t.edges.length)return Y.splice(r,1),"break";var w=!1,E=function(e){var t=c[e],r=t[a],i=b[r];if(!i||!i.length)return f[r]--,i&&f[r]<i.length?(w=!0,"break"):(c.splice(e,1),l[t.source].degree--,l[t.target].degree--,l[t.source].outDegree--,l[t.target].inDegree--,"continue");var s=l[t.source].node[o],u=l[t.target].node[o],d=!1;return i.forEach((function(e){var t=m[e.source].node,r=m[e.target].node;t[o]===s&&r[o]===u&&(d=!0),n||t[o]!==u||r[o]!==s||(d=!0)})),d?void 0:(f[r]--,i&&f[r]<i.length?(w=!0,"break"):(c.splice(e,1),l[t.source].degree--,l[t.target].degree--,l[t.source].outDegree--,l[t.target].inDegree--,"continue"))};for(g=x-1;g>=0;g--){if("break"===E(g))break}if(w)return Y.splice(r,1),"continue";i.edges=c;var S=gi(i,i.nodes[0].id,!1).length;if(Object.keys(S).reverse().forEach((function(e){if(e!==i.nodes[0].id&&!w){if(S[e]===1/0){var t=l[e].node[o];if(u[t]--,u[t]<y[t].length)return void(w=!0);var n=i.nodes.indexOf(l[e].node);return i.nodes.splice(n,1),void(l[e]=void 0)}var r=p[e].node[o];if(!V[r]||!V[r].length||S[e]>V[r][V[r].length-1]){t=l[e].node[o];if(u[t]--,u[t]<y[t].length)return void(w=!0);n=i.nodes.indexOf(l[e].node);i.nodes.splice(n,1),l[e]=void 0}}})),w)return Y.splice(r,1),"continue";for(var _=!0,T=0;_&&!w;){if(_=!1,n?l[s.id].degree<m[P.id].degree||l[s.id].inDegree<m[P.id].inDegree||l[s.id].outDegree<m[P.id].outDegree:l[s.id].degree<m[P.id].degree){w=!0;break}if(u[s[o]]<y[s[o]].length){w=!0;break}for(var k=i.nodes.length-1;k>=0;k--){var C=i.nodes[k],M=l[C.id].degree,A=l[C.id].inDegree,N=l[C.id].outDegree,I=C[o],D=co(R,I,m,y),O=D.minPatternNodeLabelDegree,L=D.minPatternNodeLabelInDegree,j=D.minPatternNodeLabelOutDegree;if(n?M<O||A<L||N<j:M<O){if(u[C[o]]--,u[C[o]]<y[C[o]].length){w=!0;break}i.nodes.splice(k,1),l[C.id]=void 0,_=!0}}if(w||!_&&0!==T)break;for(var B=(x=c.length)-1;B>=0;B--){var F=c[B];if(!l[F.source]||!l[F.target]){c.splice(B,1);var z=F[a];if(f[z]--,l[F.source]&&(l[F.source].degree--,l[F.source].outDegree--),l[F.target]&&(l[F.target].degree--,l[F.target].inDegree--),b[z]&&f[z]<b[z].length){w=!0;break}_=!0}}T++}return w||w||i.nodes.length<t.nodes.length||c.length<t.edges.length?(Y.splice(r,1),"continue"):void 0},W=Y.length-1;W>=0;W--){if("break"===U(W))break}var Z=Y.length,H=function(e){var t=Y[e],n={};t.edges.forEach((function(e){var t="".concat(e.source,"-").concat(e.target,"-").concat(e.label);n[t]?n[t]++:n[t]=1}));for(var r=function(e){var t=Y[e],r={};t.edges.forEach((function(e){var t="".concat(e.source,"-").concat(e.target,"-").concat(e.label);r[t]?r[t]++:r[t]=1}));var i=!0;Object.keys(r).length!==Object.keys(n).length?i=!1:Object.keys(n).forEach((function(e){r[e]!==n[e]&&(i=!1)})),i&&Y.splice(e,1)},i=Z-1;i>e;i--)r(i);Z=Y.length};for(W=0;W<=Z-1;W++)H(W);return Y}}},ho=function(){function e(e){void 0===e&&(e=10),this.linkedList=new qr,this.maxStep=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},e.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},e.prototype.push=function(e){this.linkedList.prepend(e),this.length>this.maxStep&&this.linkedList.deleteTail()},e.prototype.pop=function(){var e=this.linkedList.deleteHead();return e?e.value:null},e.prototype.toArray=function(){return this.linkedList.toArray().map((function(e){return e.value}))},e.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},e}(),po=ho,go=pi,vo={getAdjMatrix:Zr,breadthFirstSearch:ni,connectedComponent:ii,getDegree:ai,getInDegree:si,getOutDegree:ui,detectCycle:pi,detectDirectedCycle:go,detectAllCycles:hi,detectAllDirectedCycle:di,detectAllUndirectedCycle:fi,depthFirstSearch:ci,dijkstra:gi,findAllPath:bi,findShortestPath:yi,floydWarshall:xi,labelPropagation:wi,louvain:Ni,iLouvain:Pi,kCore:Ii,kMeans:Oi,cosineSimilarity:Ri,nodesCosineSimilarity:Li,minimumSpanningTree:Ui,pageRank:Wi,getNeighbors:Qr,Stack:po,GADDI:fo},mo=n(8679),yo=n(907);function bo(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function xo(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function wo(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function Eo(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function So(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.hypot(n,r)}function _o(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e}function To(e,t){return e[0]*t[0]+e[1]*t[1]}function ko(e,t){return e[0]===t[0]&&e[1]===t[1]}var Co=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e},Mo=(function(){var e=function(){var e=new yo.WT(2);return yo.WT!=Float32Array&&(e[0]=0,e[1]=0),e}()}(),Wr),Ao=function(e){return function(t,n){return t[e]-n[e]}},No=function(e,t,n){return e>=t&&e<=n},Po=function(e,t,n,r){var i=n.x-e.x,o=n.y-e.y,a=t.x-e.x,s=t.y-e.y,u=r.x-n.x,l=r.y-n.y,c=a*l-s*u,f=1/c;if(c*c>1e-4*(a*a+s*s)*(u*u+l*l)){var d=(i*l-o*u)*f,h=(i*s-o*a)*f;return No(d,0,1)&&No(h,0,1)?{x:e.x+d*a,y:e.y+d*s}:null}return null},Io=function(e,t){var n=e.x,r=e.y,i=e.width,o=e.height,a=[],s={x:n+i/2,y:r+o/2};a.push({x:n,y:r}),a.push({x:n+i,y:r}),a.push({x:n+i,y:r+o}),a.push({x:n,y:r+o}),a.push({x:n,y:r});for(var u=null,l=1;l<a.length&&!(u=Po(a[l-1],a[l],s,t));l++);return u},Do=function(e,t){var n=e.x,r=e.y,i=e.r,o=t.x-n,a=t.y-r;if(o*o+a*a<i*i)return null;var s=Math.atan(a/o);return{x:n+Math.abs(i*Math.cos(s))*Math.sign(o),y:r+Math.abs(i*Math.sin(s))*Math.sign(a)}},Oo=function(e,t){var n=e.rx,r=e.ry,i=e.x,o=e.y,a=t.x-i,s=t.y-o,u=Math.atan2(s/r,a/n);return u<0&&(u+=2*Math.PI),{x:i+n*Math.cos(u),y:o+r*Math.sin(u)}},Ro=function(e,t,n){void 0===n&&(n=1);var r=[e.x,e.y,n];return t&&!isNaN(t[0])||(t=[1,0,0,0,1,0,0,0,1]),mo.kK(r,r,t),{x:r[0],y:r[1]}},Lo=function(e,t,n){void 0===n&&(n=1),t&&!isNaN(t[0])||(t=[1,0,0,0,1,0,0,0,1]);var r=zr.invert([1,0,0,0,1,0,0,0,1],t);r||(r=[1,0,0,0,1,0,0,0,1]);var i=[e.x,e.y,n];return mo.kK(i,i,r),{x:i[0],y:i[1]}},jo=function(e,t,n){var r=e.x-t.x,i=e.y-t.y,o=e.x-n.x,a=e.y-n.y,s=(e.x*e.x-t.x*t.x-t.y*t.y+e.y*e.y)/2,u=(e.x*e.x-n.x*n.x-n.y*n.y+e.y*e.y)/2,l=i*o-r*a;return{x:-(a*s-i*u)/l,y:-(r*u-o*s)/l}},Bo=function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},Fo=function(e,t){var n=[];return e.forEach((function(e){var r=[];e.forEach((function(e){r.push(e*t)})),n.push(r)})),n},zo=function(e){for(var t=[],n=e.length,r=0;r<n;r+=1){t[r]=[];for(var i=0;i<n;i+=1)r===i?t[r][i]=0:0!==e[r][i]&&e[r][i]?t[r][i]=e[r][i]:t[r][i]=1/0}for(var o=0;o<n;o+=1)for(r=0;r<n;r+=1)for(i=0;i<n;i+=1)t[r][i]>t[r][o]+t[o][i]&&(t[r][i]=t[r][o]+t[o][i]);return t},Yo=function(e,t){var n=e.nodes,r=e.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(e,t){o[e.id]=t;i.push([])})),r&&r.forEach((function(e){var n=e.source,r=e.target,a=o[n],s=o[r];i[a][s]=1,t||(i[s][a]=1)})),i},Go=function(e,t){e.translate(t.x,t.y)},Vo=function(e,t,n,r){void 0===r&&(r={duration:500});var i=e.getMatrix();i||(i=[1,0,0,0,1,0,0,0,1]);var o=e.getCanvasBBox(),a=t.x-o.minX,s=t.y-o.minY;if(n){var u=a*i[0],l=s*i[4],c=0,f=0,d=0,h=0;e.animate((function(e){return i=Mo(i,[["t",(d=u*e)-c,(h=l*e)-f]]),c=d,f=h,{matrix:i}}),r)}else{var p=Mo(i,[["t",a,s]]);e.setMatrix(p)}},Uo=function(e,t){var n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var r=t;(0,Dr.isArray)(t)||(r=[t,t]),(0,Dr.isArray)(t)&&1===t.length&&(r=[t[0],t[0]]),n=Mo(n,[["s",r[0],r[1]]]),e.setMatrix(n)},Wo=function(e,t){var n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]),n=Mo(n,[["r",t]]),e.setMatrix(n)},Zo=function(e,t,n){for(var r=[],i=0;i<e;i++)r[i]=0;return n.forEach((function(e){e.source&&(r[t[e.source]]+=1),e.target&&(r[t[e.target]]+=1)})),r};function Ho(e,t,n){return(n[0]-e[0])*(t[1]-e[1])===(t[0]-e[0])*(n[1]-e[1])&&Math.min(e[0],t[0])<=n[0]&&n[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=n[1]&&n[1]<=Math.max(e[1],t[1])}var Xo=function(e,t,n){var r=!1,i=e.length;function o(e){return Math.abs(e)<1e-6?0:e<0?-1:1}if(i<=2)return!1;for(var a=0;a<i;a++){var s=e[a],u=e[(a+1)%i];if(Ho(s,u,[t,n]))return!0;o(s[1]-n)>0!==o(u[1]-n)>0&&o(t-(n-s[1])*(s[0]-u[0])/(s[1]-u[1])-s[0])<0&&(r=!r)}return r},Ko=function(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)},qo=function(e,t){var n=function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]}));return{minX:Math.min.apply(null,t),maxX:Math.max.apply(null,t),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}},r=function(e){for(var t=[],n=e.length,r=0;r<n-1;r++){var i=e[r],o=e[r+1];t.push({from:{x:i[0],y:i[1]},to:{x:o[0],y:o[1]}})}if(t.length>1){var a=e[0],s=e[n-1];t.push({from:{x:s[0],y:s[1]},to:{x:a[0],y:a[1]}})}return t};if(e.length<2||t.length<2)return!1;var i=n(e),o=n(t);if(!Ko(i,o))return!1;var a=!1;if((0,Dr.each)(t,(function(t){if(Xo(e,t[0],t[1]))return a=!0,!1})),a)return!0;if((0,Dr.each)(e,(function(e){if(Xo(t,e[0],e[1]))return a=!0,!1})),a)return!0;var s=r(e),u=r(t),l=!1;return(0,Dr.each)(u,(function(e){if(function(e,t){var n=!1;return(0,Dr.each)(e,(function(e){if(Po(e.from,e.to,t.from,t.to))return n=!0,!1})),n}(s,e))return l=!0,!1})),l},Jo=function(){function e(e,t,n,r){this.x1=e,this.y1=t,this.x2=n,this.y2=r}return e.prototype.getBBox=function(){var e=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),n=Math.max(this.x1,this.x2),r=Math.max(this.y1,this.y2);return{x:e,y:t,minX:e,minY:t,maxX:n,maxY:r,width:n-e,height:r-t}},e}(),$o=function(e,t){return{top:[e.minX,e.minY,e.maxX,e.minY],left:[e.minX,e.minY,e.minX,e.maxY],bottom:[e.minX,e.maxY,e.maxX,e.maxY],right:[e.maxX,e.minY,e.maxX,e.maxY]}[t]},Qo=function(e,t){var n=(t.x2-t.x1)*(e.y1-t.y1)-(t.y2-t.y1)*(e.x1-t.x1),r=(e.x2-e.x1)*(e.y1-t.y1)-(e.y2-e.y1)*(e.x1-t.x1),i=(t.y2-t.y1)*(e.x2-e.x1)-(t.x2-t.x1)*(e.y2-e.y1);if(i){var o=n/i,a=r/i;if(o>=0&&o<=1&&a>=0&&a<=1)return o}return Number.POSITIVE_INFINITY},ea=function(e,t){for(var n=["top","left","bottom","right"],r=e.getBBox(),i=0,o=[],a=0;a<4;a++){var s=$o(r,n[a]),u=s[0],l=s[1],c=s[2],f=s[3];o[a]=Po({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:u,y:l},{x:c,y:f}),o[a]&&(i+=1)}return[o,i]},ta=function(e,t){for(var n=["top","left","bottom","right"],r=e.getBBox(),i=Number.POSITIVE_INFINITY,o=0,a=0;a<4;a++){var s=$o(r,n[a]),u=s[0],l=s[1],c=s[2],f=s[3],d=Qo(t,new Jo(u,l,c,f));(d=Math.abs(d-.5))>=0&&d<=1&&(o+=1,i=d<i?d:i)}return 0===o?-1:i},na=function(e){var t=0,n=0;if(e.length>0){for(var r=0,i=e;r<i.length;r++){var o=i[r];t+=o.x,n+=o.y}t/=e.length,n/=e.length}return{x:t,y:n}},ra=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},ia=function(e,t){var n,r=t.x1,i=t.y1,o=t.x2-r,a=t.y2-i,s=e.x-r,u=e.y-i,l=s*o+u*a;n=l<=0||(l=(s=o-s)*o+(u=a-u)*a)<=0?0:l*l/(o*o+a*a);var c=s*s+u*u-n;return c<0&&(c=0),c},oa=function(e,t,n){return void 0===n&&(n=.001),Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(n,2)},aa=function(e,t){var n=e.x<t.x,r=e.x>t.x+t.width,i=e.y>t.y+t.height,o=e.y<t.y;if(!(n||r||i||o))return 0;if(i&&!n&&!r)return Math.pow(t.y+t.height-e.y,2);if(o&&!n&&!r)return Math.pow(e.y-t.y,2);if(n&&!i&&!o)return Math.pow(t.x-e.x,2);if(r&&!i&&!o)return Math.pow(t.x+t.width-e.x,2);var a=Math.min(Math.abs(t.x-e.x),Math.abs(t.x+t.width-e.x)),s=Math.min(Math.abs(t.y-e.y),Math.abs(t.y+t.height-e.y));return a*a+s*s},sa=function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=t.x,s=t.y,u=[i-n,o-r];if(ko(u,[0,0]))return NaN;var l=[-u[1],u[0]];_o(l,l);var c=[a-n,s-r];return Math.abs(To(c,l))},ua=function(e,t,n){return e+(t-e)*n},la="rgb(95, 149, 255)",ca="rgb(0, 0, 0)",fa="rgb(247, 250, 255)",da="rgb(239, 244, 255)",ha="rgb(253, 253, 253)",pa="rgb(250, 250, 250)",ga="rgb(224, 224, 224)",va="rgb(234, 234, 234)",ma="#4572d9",ya={version:"0.6.0",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:la,fill:da},size:20,color:la,linkPoints:{size:8,lineWidth:1,fill:fa,stroke:la}},nodeStateStyles:{active:{fill:fa,stroke:la,lineWidth:2,shadowColor:la,shadowBlur:10},selected:{fill:"rgb(255, 255, 255)",stroke:la,lineWidth:4,shadowColor:la,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:"rgb(223, 234, 255)",stroke:ma,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:fa,stroke:"rgb(191, 213, 255)",lineWidth:1},disable:{fill:pa,stroke:ga,lineWidth:1}},edgeLabel:{style:{fill:ca,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:ga,lineAppendWidth:2},color:ga},edgeStateStyles:{active:{stroke:la,lineWidth:1},selected:{stroke:la,lineWidth:2,shadowColor:la,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:la,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:va,lineWidth:1},disable:{stroke:"rgb(245, 245, 245)",lineWidth:1}},comboLabel:{style:{fill:ca,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:ha,lineWidth:1,stroke:ga,r:5,width:20,height:10},size:[20,5],color:ga,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:la,lineWidth:1,fill:fa},selected:{stroke:la,lineWidth:2,fill:ha,shadowColor:la,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:ma,lineWidth:2,fill:ha,"text-shape":{fontWeight:500}},inactive:{stroke:ga,fill:ha,lineWidth:1},disable:{stroke:va,fill:pa,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},windowFontFamily:"undefined"!==typeof window&&window.getComputedStyle&&document.body&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},ba={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},xa=Math.PI,wa=Math.sin,Ea=Math.cos,Sa=wa(xa/8),_a=Ea(xa/8),Ta=function(e,t){var n=e.getBBox(),r={x:n.minX,y:n.minY},i={x:n.maxX,y:n.maxY};if(t){var o=t.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),r=Ro(r,o),i=Ro(i,o)}var a=r.x,s=r.y,u=i.x,l=i.y;return{x:a,y:s,minX:a,minY:s,maxX:u,maxY:l,width:u-a,height:l-s}},ka=function(e){var t=e.sourceNode||e.targetNode,n=t.get("group").getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var r=t.getKeyShape().getBBox(),i=e.loopCfg||{},o=i.dist||2*Math.max(r.width,r.height),a=i.position||ya.defaultLoopPosition,s=[n[6],n[7]],u=[e.startPoint.x,e.startPoint.y],l=[e.endPoint.x,e.endPoint.y],c=r.height/2,f=r.height/2,d=c*Sa,h=c*_a,p=f*Sa,g=f*_a;if(u[0]===l[0]&&u[1]===l[1]){switch(a){case"top":u=[s[0]-d,s[1]-h],l=[s[0]+p,s[1]-g];break;case"top-right":c=r.height/2,f=r.width/2,u=[s[0]+(d=c*Sa),s[1]-(h=c*_a)],l=[s[0]+(g=f*_a),s[1]-(p=f*Sa)];break;case"right":c=r.width/2,f=r.width/2,u=[s[0]+(h=c*_a),s[1]-(d=c*Sa)],l=[s[0]+(g=f*_a),s[1]+(p=f*Sa)];break;case"bottom-right":c=r.width/2,f=r.height/2,u=[s[0]+(h=c*_a),s[1]+(d=c*Sa)],l=[s[0]+(p=f*Sa),s[1]+(g=f*_a)];break;case"bottom":c=r.height/2,f=r.height/2,u=[s[0]+(d=c*Sa),s[1]+(h=c*_a)],l=[s[0]-(p=f*Sa),s[1]+(g=f*_a)];break;case"bottom-left":c=r.height/2,f=r.width/2,u=[s[0]-(d=c*Sa),s[1]+(h=c*_a)],l=[s[0]-(g=f*_a),s[1]+(p=f*Sa)];break;case"left":c=r.width/2,f=r.width/2,u=[s[0]-(h=c*_a),s[1]+(d=c*Sa)],l=[s[0]-(g=f*_a),s[1]-(p=f*Sa)];break;case"top-left":c=r.width/2,f=r.height/2,u=[s[0]-(h=c*_a),s[1]-(d=c*Sa)],l=[s[0]-(p=f*Sa),s[1]-(g=f*_a)];break;default:c=r.width/2,f=r.width/2,u=[s[0]-(d=c*Sa),s[1]-(h=c*_a)],l=[s[0]+(p=f*Sa),s[1]-(g=f*_a)]}if(!1===i.clockwise){var v=[u[0],u[1]];u=[l[0],l[1]],l=[v[0],v[1]]}}var m=[u[0]-s[0],u[1]-s[1]],y=(c+o)/c,b=(f+o)/f;!1===i.clockwise&&(y=(f+o)/f,b=(c+o)/c);var x=Eo([0,0],m,y),w=[s[0]+x[0],s[1]+x[1]],E=Eo([0,0],[l[0]-s[0],l[1]-s[1]],b),S=[s[0]+E[0],s[1]+E[1]];return e.startPoint={x:u[0],y:u[1]},e.endPoint={x:l[0],y:l[1]},e.controlPoints=[{x:w[0],y:w[1]},{x:S[0],y:S[1]}],e},Ca=function(e,t,n,r,i){var o=1e-4,a=[],s=null===e||void 0===e?void 0:e.getPoint(t);if(!s)return{x:0,y:0,angle:0};if(t<o)a=e.getStartTangent().reverse();else if(t>.9999)a=e.getEndTangent();else{var u=null===e||void 0===e?void 0:e.getPoint(t+o);a.push([s.x,s.y]),a.push([u.x,u.y])}var l=Math.atan2(a[1][1]-a[0][1],a[1][0]-a[0][0]);if(l<0&&(l+=2*xa),n&&(s.x+=Ea(l)*n,s.y+=wa(l)*n),r){var c=l-xa/2;l>.5*xa&&l<1.5*xa&&(c-=xa),s.x+=Ea(c)*r,s.y+=wa(c)*r}var f={x:s.x,y:s.y,angle:l};return i?(l>.5*xa&&l<1.5*xa&&(l-=xa),(0,Ir.__assign)({rotate:l},f)):f},Ma=function e(t,n){if(!1===n(t))return!1;if(t&&t.children)for(var r=t.children.length-1;r>=0;r--)if(!e(t.children[r],n))return!1;return!0},Aa=function e(t,n){if(t&&t.children)for(var r=t.children.length-1;r>=0;r--)if(!e(t.children[r],n))return;return!1!==n(t)},Na=function(e,t){"function"===typeof t&&Ma(e,t)},Pa=function(e,t){"function"===typeof t&&Aa(e,t)},Ia=function(e,t){return t*(ba[e]||1)},Da=function(e,t){var n=0,r=new RegExp("[\u4e00-\u9fa5]+");return e.split("").forEach((function(e){r.test(e)?n+=t:n+=Ia(e,t)})),[n,t]},Oa=function(e,t){var n=[],r={},i={};e.forEach((function(e){i[e.id]=e})),e.forEach((function(e,t){var o=(0,Dr.clone)(e);o.itemType="combo",o.children=void 0,o.parentId===o.id?(console.warn("The parentId for combo ".concat(o.id," can not be the same as the combo's id")),delete o.parentId):o.parentId&&!i[o.parentId]&&(console.warn("The parent combo for combo ".concat(o.id," does not exist!")),delete o.parentId);var a=r[o.id];if(a){if(o.children=a.children,r[o.id]=o,!(a=o).parentId)return void n.push(a);var s=r[a.parentId];if(s)s.children?s.children.push(o):s.children=[o];else{var u={id:a.parentId,children:[a]};r[a.parentId]=u,r[o.id]=o}}else if((0,Dr.isString)(e.parentId)){var l=r[e.parentId];if(l)l.children?l.children.push(o):l.children=[o],r[o.id]=o;else{var c={id:e.parentId,children:[o]};r[c.id]=c,r[o.id]=o}}else n.push(o),r[o.id]=o}));var o={};(t||[]).forEach((function(e){o[e.id]=e;var t=r[e.comboId];if(t){var n={id:e.id,comboId:e.comboId};t.children?t.children.push(n):t.children=[n],n.itemType="node",r[e.id]=n}}));var a=0;return n.forEach((function(e){e.depth=a+10,Ma(e,(function(e){var t,n=r[e.id].itemType;t="node"===n?r[e.comboId]:r[e.parentId],e.depth=t&&"node"===n?a+1:a+10,a<e.depth&&(a=e.depth);var i=o[e.id];return i&&(i.depth=e.depth),!0}))})),n},Ra=function(e,t,n){var r,i,o=e,a={root:{children:e}},s=!1,u="root";(e||[]).forEach((function(e){if(!s)return e.id===t?(i=e,"combo"===e.itemType?i.parentId=n:i.comboId=n,void(s=!0)):void Na(e,(function(e){var r;return a[e.id]={children:(null===e||void 0===e?void 0:e.children)||[]},o=null===(r=a[e.parentId||e.comboId||"root"])||void 0===r?void 0:r.children,!e||!e.removed&&t!==e.id||!o||(u=e.parentId||e.comboId||"root",i=e,"combo"===e.itemType?i.parentId=n:i.comboId=n,s=!0,!1)}))}));var l=(o=null===(r=a[u])||void 0===r?void 0:r.children)?o.indexOf(i):-1;if(l>-1&&o.splice(l,1),s||(i={id:t,itemType:"node",comboId:n},a[t]={children:void 0}),t){var c=!1;if(n){var f=0;(e||[]).forEach((function(e){c||Na(e,(function(e){return n!==e.id||(c=!0,e.children?e.children.push(i):e.children=[i],f=e.depth,"node"===i.itemType?i.depth=f+2:i.depth=f+1,!1)}))}))}else n&&c||"node"===i.itemType||e.push(i);var d=i.depth;Na(i,(function(e){return"node"===e.itemType?d+=2:d+=1,e.depth=d,!0}))}return e},La=function(e,t,n){var r={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};if(!e||0===e.length){var i=(null===n||void 0===n?void 0:n.getModel())||{},o=i.x,a=i.y;return{minX:o,minY:a,maxX:o,maxY:a,x:o,y:a,width:void 0,height:void 0}}return e.forEach((function(e){var n=t.findById(e.id);if(n&&n.isVisible()){n.set("bboxCanvasCache",void 0);var i=n.getCanvasBBox();i.x&&r.minX>i.minX&&(r.minX=i.minX),i.y&&r.minY>i.minY&&(r.minY=i.minY),i.x&&r.maxX<i.maxX&&(r.maxX=i.maxX),i.y&&r.maxY<i.maxY&&(r.maxY=i.maxY)}})),r.x=(r.minX+r.maxX)/2,r.y=(r.minY+r.maxY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,Object.keys(r).forEach((function(e){r[e]!==1/0&&r[e]!==-1/0||(r[e]=void 0)})),r},ja=function(e){var t=(0,Dr.isNumber)(e.x)||(0,Dr.isNumber)(e.y)||e.type||e.anchorPoints||e.size;return e.style&&(t=t||(0,Dr.isNumber)(e.style.r)||(0,Dr.isNumber)(e.style.width)||(0,Dr.isNumber)(e.style.height)||(0,Dr.isNumber)(e.style.rx)||(0,Dr.isNumber)(e.style.ry)),t},Ba=function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];if((0,Dr.isObject)(r)&&!(0,Dr.isArray)(r)){var i={};Object.keys(r).forEach((function(e){var t=r[e];("img"!==e||(0,Dr.isString)(t))&&(i[e]=(0,Dr.clone)(t))})),t[n]=i}else t[n]=(0,Dr.clone)(r)})),t},Fa=function(e){var t;if(!e)return console.error("G6 Error Tips: the data must be defined"),!1;var n=e.nodes,r=e.edges,i=e.combos,o=void 0===i?[]:i;if(!n&&!r){var a=!0;return Na(e,(function(e){return!!(0,Dr.isString)(e.id)||(a=!1,!1)})),a}var s=(n||[]).find((function(e){return!(0,Dr.isString)(e.id)}));if(s)return console.warn("G6 Warning Tips: missing 'id' property, or %c".concat(s.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1;var u=(n||[]).map((function(e){return e.id})),l=null===(t=o)||void 0===t?void 0:t.map((function(e){return e.id})),c=(0,Ir.__spreadArray)((0,Ir.__spreadArray)([],u,!0),l,!0),f=(r||[]).find((function(e){return!c.includes(e.source)||!c.includes(e.target)}));return!f||(console.warn("G6 Warning Tips: The source %c".concat(f.source,"%c or the target %c").concat(f.target,"%c of the edge do not exist in the nodes or combos."),"font-size: 20px; color: red;","","font-size: 20px; color: red;",""),!1)},za=function(){function e(e){this.graph=e,this.destroyed=!1,this.modes=e.get("modes")||{default:[]},this.formatModes(),this.mode=e.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return e.prototype.formatModes=function(){var e=this.modes;(0,Dr.each)(e,(function(e){(0,Dr.each)(e,(function(t,n){(0,Dr.isString)(t)&&(e[n]={type:t})}))}))},e.prototype.setBehaviors=function(e){var t,n=this.graph,r=this.modes[e],i=[];(0,Dr.each)(r||[],(function(e){var r=Lr.getBehavior(e.type||e);r&&(t=new r(e))&&(t.bind(n),i.push(t))})),this.currentBehaves=i},e.mergeBehaviors=function(e,t){return(0,Dr.each)(t,(function(t){e.indexOf(t)<0&&((0,Dr.isString)(t)&&(t={type:t}),e.push(t))})),e},e.filterBehaviors=function(e,t){var n=[];return e.forEach((function(e){var r="";r=(0,Dr.isString)(e)?e:e.type,t.indexOf(r)<0&&n.push(e)})),n},e.prototype.setMode=function(e){var t=this.modes,n=this.graph,r=e;t[r]&&(n.emit("beforemodechange",{mode:e}),(0,Dr.each)(this.currentBehaves,(function(e){e.delegate&&e.delegate.remove(),e.unbind(n)})),this.setBehaviors(r),n.emit("aftermodechange",{mode:e}),this.mode=e)},e.prototype.getMode=function(){return this.mode},e.prototype.manipulateBehaviors=function(t,n,r){var i,o=this;if(i=(0,Dr.isArray)(t)?t:[t],(0,Dr.isArray)(n))return(0,Dr.each)(n,(function(t){o.modes[t]?o.modes[t]=r?e.mergeBehaviors(o.modes[t]||[],i):e.filterBehaviors(o.modes[t]||[],i):r&&(o.modes[t]=i)})),this;var a=n;return n||(a=this.mode),this.modes[a]||r&&(this.modes[a]=i),this.modes[a]=r?e.mergeBehaviors(this.modes[a]||[],i):e.filterBehaviors(this.modes[a]||[],i),this.formatModes(),this.setMode(this.mode),this},e.prototype.updateBehavior=function(e,t,n){(0,Dr.isString)(e)&&(e={type:e});var r=[];if(n&&n!==this.mode&&"default"!==n){if(!(r=this.modes[n])||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;var i=r.length;for(a=0;a<i;a++){if((s=r[a]).type===e.type||s===e.type)return s===e.type&&(s={type:s}),Object.assign(s,t),r[a]=s,this;a===i-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(!(r=this.currentBehaves)||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var o=r.length,a=0;a<o;a++){var s;if((s=r[a]).type===e.type)return s.updateCfg(t),this;a===o-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},e.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},e}(),Ya=za,Ga="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",Va=new RegExp("([a-z])["+Ga+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Ga+"]*,?["+Ga+"]*)+)","ig"),Ua=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Ga+"]*,?["+Ga+"]*","ig"),Wa=function(e){if(!e)return null;if((0,Dr.isArray)(e))return e;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(e).replace(Va,(function(r,i,o){var a=[],s=i.toLowerCase();if(o.replace(Ua,(function(e,t){t&&a.push(+t)})),"m"===s&&a.length>2&&(n.push([i].concat(a.splice(0,2))),s="l",i="m"===i?"l":"L"),"o"===s&&1===a.length&&n.push([i,a[0]]),"r"===s)n.push([i].concat(a));else for(;a.length>=t[s]&&(n.push([i].concat(a.splice(0,t[s]))),t[s]););return e})),n},Za=function(e,t){for(var n=[],r=0,i=e.length;i-2*!t>r;r+=2){var o=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?i-4===r?o[3]={x:+e[0],y:+e[1]}:i-2===r&&(o[2]={x:+e[0],y:+e[1]},o[3]={x:+e[2],y:+e[3]}):o[0]={x:+e[i-2],y:+e[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+e[r],y:+e[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},Ha=function(e,t,n,r,i){var o=[];if(null===i&&null===r&&(r=n),e=+e,t=+t,n=+n,r=+r,null!==i){var a=Math.PI/180,s=e+n*Math.cos(-r*a),u=e+n*Math.cos(-i*a);o=[["M",s,t+n*Math.sin(-r*a)],["A",n,n,0,+(i-r>180),0,u,t+n*Math.sin(-i*a)]]}else o=[["M",e,t],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o},Xa=function(e){if(!(e=Wa(e))||!e.length)return[["M",0,0]];var t,n,r=[],i=0,o=0,a=0,s=0,u=0;"M"===e[0][0]&&(a=i=+e[0][1],s=o=+e[0][2],u++,r[0]=["M",i,o]);for(var l=3===e.length&&"M"===e[0][0]&&"R"===e[1][0].toUpperCase()&&"Z"===e[2][0].toUpperCase(),c=void 0,f=void 0,d=u,h=e.length;d<h;d++){if(r.push(c=[]),(t=(f=e[d])[0])!==t.toUpperCase())switch(c[0]=t.toUpperCase(),c[0]){case"A":c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=+f[6]+i,c[7]=+f[7]+o;break;case"V":c[1]=+f[1]+o;break;case"H":c[1]=+f[1]+i;break;case"R":for(var p=2,g=(n=[i,o].concat(f.slice(1))).length;p<g;p++)n[p]=+n[p]+i,n[++p]=+n[p]+o;r.pop(),r=r.concat(Za(n,l));break;case"O":r.pop(),(n=Ha(i,o,f[1],f[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(Ha(i,o,f[1],f[2],f[3])),c=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+f[1]+i,s=+f[2]+o;break;default:for(p=1,g=f.length;p<g;p++)c[p]=+f[p]+(p%2?i:o)}else if("R"===t)n=[i,o].concat(f.slice(1)),r.pop(),r=r.concat(Za(n,l)),c=["R"].concat(f.slice(-2));else if("O"===t)r.pop(),(n=Ha(i,o,f[1],f[2])).push(n[0]),r=r.concat(n);else if("U"===t)r.pop(),r=r.concat(Ha(i,o,f[1],f[2],f[3])),c=["U"].concat(r[r.length-1].slice(-2));else for(var v=0,m=f.length;v<m;v++)c[v]=f[v];if("O"!==(t=t.toUpperCase()))switch(c[0]){case"Z":i=+a,o=+s;break;case"H":i=c[1];break;case"V":o=c[1];break;case"M":a=c[c.length-2],s=c[c.length-1];break;default:i=c[c.length-2],o=c[c.length-1]}}return r},Ka=function(e,t,n,r){return[e,t,n,r,n,r]},qa=function(e,t,n,r,i,o){var a=1/3,s=2/3;return[a*e+s*n,a*t+s*r,a*i+s*n,a*o+s*r,i,o]},Ja=function e(t,n,r,i,o,a,s,u,l,c){r===i&&(r+=1);var f,d,h,p,g,v=120*Math.PI/180,m=Math.PI/180*(+o||0),y=[],b=function(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}};if(c)d=c[0],h=c[1],p=c[2],g=c[3];else{t=(f=b(t,n,-m)).x,n=f.y,u=(f=b(u,l,-m)).x,l=f.y,t===u&&n===l&&(u+=1,l+=1);var x=(t-u)/2,w=(n-l)/2,E=x*x/(r*r)+w*w/(i*i);E>1&&(r*=E=Math.sqrt(E),i*=E);var S=r*r,_=i*i,T=(a===s?-1:1)*Math.sqrt(Math.abs((S*_-S*w*w-_*x*x)/(S*w*w+_*x*x)));p=T*r*w/i+(t+u)/2,g=T*-i*x/r+(n+l)/2,d=Math.asin(((n-g)/i).toFixed(9)),h=Math.asin(((l-g)/i).toFixed(9)),d=t<p?Math.PI-d:d,h=u<p?Math.PI-h:h,d<0&&(d=2*Math.PI+d),h<0&&(h=2*Math.PI+h),s&&d>h&&(d-=2*Math.PI),!s&&h>d&&(h-=2*Math.PI)}var k=h-d;if(Math.abs(k)>v){var C=h,M=u,A=l;h=d+v*(s&&h>d?1:-1),y=e(u=p+r*Math.cos(h),l=g+i*Math.sin(h),r,i,o,0,s,M,A,[h,C,p,g])}k=h-d;var N=Math.cos(d),P=Math.sin(d),I=Math.cos(h),D=Math.sin(h),O=Math.tan(k/4),R=4/3*r*O,L=4/3*i*O,j=[t,n],B=[t+R*P,n-L*N],F=[u+R*D,l-L*I],z=[u,l];if(B[0]=2*j[0]-B[0],B[1]=2*j[1]-B[1],c)return[B,F,z].concat(y);for(var Y=[],G=0,V=(y=[B,F,z].concat(y).join().split(",")).length;G<V;G++)Y[G]=G%2?b(y[G-1],y[G],m).y:b(y[G],y[G+1],m).x;return Y},$a=function(e,t){var n,r=Xa(e),i=t&&Xa(t),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],u=[],l="",c="",f=function(e,t,n){var r,i;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(Ja.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*t.x-t.bx,i=2*t.y-t.by):(r=t.x,i=t.y),e=["C",r,i].concat(e.slice(1));break;case"T":"Q"===n||"T"===n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(qa(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(qa(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(Ka(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(Ka(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(Ka(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(Ka(t.x,t.y,t.X,t.Y))}return e},d=function(e,t){if(e[t].length>7){e[t].shift();for(var o=e[t];o.length;)s[t]="A",i&&(u[t]="A"),e.splice(t++,0,["C"].concat(o.splice(0,6)));e.splice(t,1),n=Math.max(r.length,i&&i.length||0)}},h=function(e,t,o,a,s){e&&t&&"M"===e[s][0]&&"M"!==t[s][0]&&(t.splice(s,0,["M",a.x,a.y]),o.bx=0,o.by=0,o.x=e[s][1],o.y=e[s][2],n=Math.max(r.length,i&&i.length||0))};n=Math.max(r.length,i&&i.length||0);for(var p=0;p<n;p++){r[p]&&(l=r[p][0]),"C"!==l&&(s[p]=l,p&&(c=s[p-1])),r[p]=f(r[p],o,c),"A"!==s[p]&&"C"===l&&(s[p]="C"),d(r,p),i&&(i[p]&&(l=i[p][0]),"C"!==l&&(u[p]=l,p&&(c=u[p-1])),i[p]=f(i[p],a,c),"A"!==u[p]&&"C"===l&&(u[p]="C"),d(i,p)),h(r,i,o,a,p),h(i,r,a,o,p);var g=r[p],v=i&&i[p],m=g.length,y=i&&v.length;o.x=g[m-2],o.y=g[m-1],o.bx=parseFloat(g[m-4])||o.x,o.by=parseFloat(g[m-3])||o.y,a.bx=i&&(parseFloat(v[y-4])||a.x),a.by=i&&(parseFloat(v[y-3])||a.y),a.x=i&&v[y-2],a.y=i&&v[y-1]}return i?[r,i]:r},Qa=/,?([a-z]),?/gi,es=function(e){return e.join(",").replace(Qa,"$1")},ts=function(e,t,n,r,i){return e*(e*(-3*t+9*n-9*r+3*i)+6*t-12*n+6*r)-3*t+3*n},ns=function(e,t,n,r,i,o,a,s,u){null===u&&(u=1);for(var l=(u=u>1?1:u<0?0:u)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,h=0;h<12;h++){var p=l*c[h]+l,g=ts(p,e,n,i,a),v=ts(p,t,r,o,s),m=g*g+v*v;d+=f[h]*Math.sqrt(m)}return l*d},rs=function(e,t,n,r,i,o,a,s){for(var u,l,c,f,d=[],h=[[],[]],p=0;p<2;++p)if(0===p?(l=6*e-12*n+6*i,u=-3*e+9*n-9*i+3*a,c=3*n-3*e):(l=6*t-12*r+6*o,u=-3*t+9*r-9*o+3*s,c=3*r-3*t),Math.abs(u)<1e-12){if(Math.abs(l)<1e-12)continue;(f=-c/l)>0&&f<1&&d.push(f)}else{var g=l*l-4*c*u,v=Math.sqrt(g);if(!(g<0)){var m=(-l+v)/(2*u);m>0&&m<1&&d.push(m);var y=(-l-v)/(2*u);y>0&&y<1&&d.push(y)}}for(var b,x=d.length,w=x;x--;)b=1-(f=d[x]),h[0][x]=b*b*b*e+3*b*b*f*n+3*b*f*f*i+f*f*f*a,h[1][x]=b*b*b*t+3*b*b*f*r+3*b*f*f*o+f*f*f*s;return h[0][w]=e,h[1][w]=t,h[0][w+1]=a,h[1][w+1]=s,h[0].length=h[1].length=w+2,{min:{x:Math.min.apply(0,h[0]),y:Math.min.apply(0,h[1])},max:{x:Math.max.apply(0,h[0]),y:Math.max.apply(0,h[1])}}},is=function(e,t,n,r,i,o,a,s){if(!(Math.max(e,n)<Math.min(i,a)||Math.min(e,n)>Math.max(i,a)||Math.max(t,r)<Math.min(o,s)||Math.min(t,r)>Math.max(o,s))){var u=(e-n)*(o-s)-(t-r)*(i-a);if(u){var l=((e*r-t*n)*(i-a)-(e-n)*(i*s-o*a))/u,c=((e*r-t*n)*(o-s)-(t-r)*(i*s-o*a))/u,f=+l.toFixed(2),d=+c.toFixed(2);if(!(f<+Math.min(e,n).toFixed(2)||f>+Math.max(e,n).toFixed(2)||f<+Math.min(i,a).toFixed(2)||f>+Math.max(i,a).toFixed(2)||d<+Math.min(t,r).toFixed(2)||d>+Math.max(t,r).toFixed(2)||d<+Math.min(o,s).toFixed(2)||d>+Math.max(o,s).toFixed(2)))return{x:l,y:c}}}},os=function(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height},as=function(e,t,n,r,i){if(i)return[["M",+e+ +i,t],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",e,t],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=es,o},ss=function(e,t,n,r){return null===e&&(e=t=n=r=0),null===t&&(t=e.y,n=e.width,r=e.height,e=e.x),{x:e,y:t,width:n,w:n,height:r,h:r,x2:e+n,y2:t+r,cx:e+n/2,cy:t+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:as(e,t,n,r),vb:[e,t,n,r].join(" ")}},us=function(e,t,n,r,i,o,a,s){(0,Dr.isArray)(e)||(e=[e,t,n,r,i,o,a,s]);var u=rs.apply(null,e);return ss(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},ls=function(e,t,n,r,i,o,a,s,u){var l=1-u,c=Math.pow(l,3),f=Math.pow(l,2),d=u*u,h=d*u,p=e+2*u*(n-e)+d*(i-2*n+e),g=t+2*u*(r-t)+d*(o-2*r+t),v=n+2*u*(i-n)+d*(a-2*i+n),m=r+2*u*(o-r)+d*(s-2*o+r);return{x:c*e+3*f*u*n+3*l*u*u*i+h*a,y:c*t+3*f*u*r+3*l*u*u*o+h*s,m:{x:p,y:g},n:{x:v,y:m},start:{x:l*e+u*n,y:l*t+u*r},end:{x:l*i+u*a,y:l*o+u*s},alpha:90-180*Math.atan2(p-v,g-m)/Math.PI}},cs=function(e,t,n){if(!function(e,t){return e=ss(e),t=ss(t),os(t,e.x,e.y)||os(t,e.x2,e.y)||os(t,e.x,e.y2)||os(t,e.x2,e.y2)||os(e,t.x,t.y)||os(e,t.x2,t.y)||os(e,t.x,t.y2)||os(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}(us(e),us(t)))return n?0:[];for(var r=~~(ns.apply(0,e)/8),i=~~(ns.apply(0,t)/8),o=[],a=[],s={},u=n?0:[],l=0;l<r+1;l++){var c=ls.apply(0,e.concat(l/r));o.push({x:c.x,y:c.y,t:l/r})}for(l=0;l<i+1;l++){c=ls.apply(0,t.concat(l/i));a.push({x:c.x,y:c.y,t:l/i})}for(l=0;l<r;l++)for(var f=0;f<i;f++){var d=o[l],h=o[l+1],p=a[f],g=a[f+1],v=Math.abs(h.x-d.x)<.001?"y":"x",m=Math.abs(g.x-p.x)<.001?"y":"x",y=is(d.x,d.y,h.x,h.y,p.x,p.y,g.x,g.y);if(y){if(s[y.x.toFixed(4)]===y.y.toFixed(4))continue;s[y.x.toFixed(4)]=y.y.toFixed(4);var b=d.t+Math.abs((y[v]-d[v])/(h[v]-d[v]))*(h.t-d.t),x=p.t+Math.abs((y[m]-p[m])/(g[m]-p[m]))*(g.t-p.t);b>=0&&b<=1&&x>=0&&x<=1&&(n?u+=1:u.push({x:y.x,y:y.y,t1:b,t2:x}))}}return u},fs=function(e,t){return function(e,t,n){var r,i,o,a,s,u,l,c,f,d;e=$a(e),t=$a(t);for(var h=n?0:[],p=0,g=e.length;p<g;p++){var v=e[p];if("M"===v[0])r=s=v[1],i=u=v[2];else{"C"===v[0]?(f=[r,i].concat(v.slice(1)),r=f[6],i=f[7]):(f=[r,i,r,i,s,u,s,u],r=s,i=u);for(var m=0,y=t.length;m<y;m++){var b=t[m];if("M"===b[0])o=l=b[1],a=c=b[2];else{"C"===b[0]?(d=[o,a].concat(b.slice(1)),o=d[6],a=d[7]):(d=[o,a,o,a,l,c,l,c],o=l,a=c);var x=cs(f,d,n);if(n)h+=x;else{for(var w=0,E=x.length;w<E;w++)x[w].segment1=p,x[w].segment2=m,x[w].bez1=f,x[w].bez2=d;h=h.concat(x)}}}}}return h}(e,t)};function ds(e,t){var n=[],r=[];return e.length&&function e(t,i){if(1===t.length)n.push(t[0]),r.push(t[0]);else{for(var o=[],a=0;a<t.length-1;a++)0===a&&n.push(t[0]),a===t.length-2&&r.push(t[a+1]),o[a]=[(1-i)*t[a][0]+i*t[a+1][0],(1-i)*t[a][1]+i*t[a+1][1]];e(o,i)}}(e,t),{left:n,right:r.reverse()}}var hs=function(e,t,n){if(1===n)return[[].concat(e)];var r=[];if("L"===t[0]||"C"===t[0]||"Q"===t[0])r=r.concat(function(e,t,n){var r=[[e[1],e[2]]];n=n||2;var i=[];"A"===t[0]?(r.push(t[6]),r.push(t[7])):"C"===t[0]?(r.push([t[1],t[2]]),r.push([t[3],t[4]]),r.push([t[5],t[6]])):"S"===t[0]||"Q"===t[0]?(r.push([t[1],t[2]]),r.push([t[3],t[4]])):r.push([t[1],t[2]]);for(var o=r,a=1/n,s=0;s<n-1;s++){var u=ds(o,a/(1-a*s));i.push(u.left),o=u.right}return i.push(o),i.map((function(e){var t=[];return 4===e.length&&(t.push("C"),t=t.concat(e[2])),e.length>=3&&(3===e.length&&t.push("Q"),t=t.concat(e[1])),2===e.length&&t.push("L"),t.concat(e[e.length-1])}))}(e,t,n));else{var i=[].concat(e);"M"===i[0]&&(i[0]="L");for(var o=0;o<=n-1;o++)r.push(i)}return r},ps=function(e,t){if(1===e.length)return e;var n=e.length-1,r=t.length-1,i=n/r,o=[];if(1===e.length&&"M"===e[0][0]){for(var a=0;a<r-n;a++)e.push(e[0]);return e}for(a=0;a<r;a++){var s=Math.floor(i*a);o[s]=(o[s]||0)+1}var u=o.reduce((function(t,r,i){return i===n?t.concat(e[n]):t.concat(hs(e[i],e[i+1],r))}),[]);return u.unshift(e[0]),"Z"!==t[r]&&"z"!==t[r]||u.push("Z"),u},gs=function(e,t){if(e.length!==t.length)return!1;var n=!0;return(0,Dr.each)(e,(function(e,r){if(e!==t[r])return n=!1,!1})),n};function vs(e,t,n){var r=null,i=n;return t<i&&(i=t,r="add"),e<i&&(i=e,r="del"),{type:r,min:i}}var ms=function(e,t){var n=function(e,t){var n,r,i=e.length,o=t.length,a=0;if(0===i||0===o)return null;for(var s=[],u=0;u<=i;u++)s[u]=[],s[u][0]={min:u};for(var l=0;l<=o;l++)s[0][l]={min:l};for(u=1;u<=i;u++)for(n=e[u-1],l=1;l<=o;l++){r=t[l-1],a=gs(n,r)?0:1;var c=s[u-1][l].min+1,f=s[u][l-1].min+1,d=s[u-1][l-1].min+a;s[u][l]=vs(c,f,d)}return s}(e,t),r=e.length,i=t.length,o=[],a=1,s=1;if(n[r][i].min!==r){for(var u=1;u<=r;u++){var l=n[u][u].min;s=u;for(var c=a;c<=i;c++)n[u][c].min<l&&(l=n[u][c].min,s=c);a=s,n[u][a].type&&o.push({index:u-1,type:n[u][a].type})}for(u=o.length-1;u>=0;u--)a=o[u].index,"add"===o[u].type?e.splice(a,0,[].concat(e[a])):e.splice(a,1)}var f=i-(r=e.length);if(r<i)for(u=0;u<f;u++)"z"===e[r-1][0]||"Z"===e[r-1][0]?e.splice(r-2,0,e[r-2]):e.push(e[r-1]),r+=1;return e};function ys(e,t,n){for(var r,i=[].concat(e),o=1/(n+1),a=bs(t)[0],s=1;s<=n;s++)o*=s,0===(r=Math.floor(e.length*o))?i.unshift([a[0]*o+e[r][0]*(1-o),a[1]*o+e[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+e[r][0]*(1-o),a[1]*o+e[r][1]*(1-o)]);return i}function bs(e){var t=[];switch(e[0]){case"M":case"L":case"T":t.push([e[1],e[2]]);break;case"A":t.push([e[6],e[7]]);break;case"Q":case"S":t.push([e[3],e[4]]),t.push([e[1],e[2]]);break;case"C":t.push([e[5],e[6]]),t.push([e[1],e[2]]),t.push([e[3],e[4]]);break;case"H":case"V":t.push([e[1],e[1]])}return t}var xs=function(e,t){if(e.length<=1)return e;for(var n,r=0;r<t.length;r++)if(e[r][0]!==t[r][0])switch(n=bs(e[r]),t[r][0]){case"M":e[r]=["M"].concat(n[0]);break;case"L":e[r]=["L"].concat(n[0]);break;case"A":e[r]=[].concat(t[r]),e[r][6]=n[0][0],e[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){e[r]=t[r];break}n=ys(n,e[r-1],1)}e[r]=["Q"].concat(n.reduce((function(e,t){return e.concat(t)}),[]));break;case"T":e[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){e[r]=t[r];break}n=ys(n,e[r-1],2)}e[r]=["C"].concat(n.reduce((function(e,t){return e.concat(t)}),[]));break;case"S":if(n.length<2){if(!(r>0)){e[r]=t[r];break}n=ys(n,e[r-1],1)}e[r]=["S"].concat(n.reduce((function(e,t){return e.concat(t)}),[]));break;default:e[r]=t[r]}return e},ws=function(){function e(e,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=e,this.name=e,this.originalEvent=t,this.timeStamp=t.timeStamp}return e.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e.prototype.toString=function(){return"[Event (type="+this.type+")]"},e.prototype.save=function(){},e.prototype.restore=function(){},e}();function Es(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}var Ss="undefined"!==typeof window&&"undefined"!==typeof window.document;function _s(e,t){if(e.isCanvas())return!0;for(var n=t.getParent(),r=!1;n;){if(n===e){r=!0;break}n=n.getParent()}return r}function Ts(e){return e.cfg.visible&&e.cfg.capture}var ks=function(e){function t(t){var n=e.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=(0,Dr.mix)(r,t),n}return(0,Ir.__extends)(t,e),t.prototype.getDefaultCfg=function(){return{}},t.prototype.get=function(e){return this.cfg[e]},t.prototype.set=function(e,t){this.cfg[e]=t},t.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},t}(Fr),Cs=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Ms=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},As=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},Ns=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},Ps=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},Is=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},Ds=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Os=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],Rs=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Ls(e){return e?Bs(e):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new Is:"undefined"!==typeof navigator?Bs(navigator.userAgent):"undefined"!==typeof process&&process.version?new As(process.version.slice(1)):null}function js(e){return""!==e&&Os.reduce((function(t,n){var r=n[0],i=n[1];if(t)return t;var o=i.exec(e);return!!o&&[r,o]}),!1)}function Bs(e){var t=js(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new Ps;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<3&&(i=Cs(Cs([],i,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-i.length),!0)):i=[];var o=i.join("."),a=function(e){for(var t=0,n=Rs.length;t<n;t++){var r=Rs[t],i=r[0];if(r[1].exec(e))return i}return null}(e),s=Ds.exec(e);return s&&s[1]?new Ns(n,o,a,s[1]):new Ms(n,o,a)}function Fs(e,t){var n=[],r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],d=t[0],h=t[1],p=t[2],g=t[3],v=t[4],m=t[5],y=t[6],b=t[7],x=t[8];return n[0]=d*r+h*a+p*l,n[1]=d*i+h*s+p*c,n[2]=d*o+h*u+p*f,n[3]=g*r+v*a+m*l,n[4]=g*i+v*s+m*c,n[5]=g*o+v*u+m*f,n[6]=y*r+b*a+x*l,n[7]=y*i+b*s+x*c,n[8]=y*o+b*u+x*f,n}function zs(e,t){var n=[],r=t[0],i=t[1];return n[0]=e[0]*r+e[3]*i+e[6],n[1]=e[1]*r+e[4]*i+e[7],n}function Ys(e){var t=[],n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=c*a-s*l,d=-c*o+s*u,h=l*o-a*u,p=n*f+r*d+i*h;return p?(p=1/p,t[0]=f*p,t[1]=(-c*r+i*l)*p,t[2]=(s*r-i*a)*p,t[3]=d*p,t[4]=(c*n-i*u)*p,t[5]=(-s*n+i*o)*p,t[6]=h*p,t[7]=(-l*n+r*u)*p,t[8]=(a*n-r*o)*p,t):null}var Gs=Wr,Vs="matrix",Us=["zIndex","capture","visible","type"],Ws=["repeat"];function Zs(e,t){var n={},r=t.attrs;for(var i in e)n[i]=r[i];return n}function Hs(e,t){var n={},r=t.attr();return(0,Dr.each)(e,(function(e,t){-1!==Ws.indexOf(t)||(0,Dr.isEqual)(r[t],e)||(n[t]=e)})),n}function Xs(e,t){if(t.onFrame)return e;var n=t.startTime,r=t.delay,i=t.duration,o=Object.prototype.hasOwnProperty;return(0,Dr.each)(e,(function(e){n+r<e.startTime+e.delay+e.duration&&i>e.delay&&(0,Dr.each)(t.toAttrs,(function(t,n){o.call(e.toAttrs,n)&&(delete e.toAttrs[n],delete e.fromAttrs[n])}))})),e}var Ks=function(e){function t(t){var n=e.call(this,t)||this;n.attrs={};var r=n.getDefaultAttrs();return(0,Dr.mix)(r,t.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return(0,Ir.__extends)(t,e),t.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},t.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},t.prototype.onCanvasChange=function(e){},t.prototype.initAttrs=function(e){},t.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},t.prototype.isGroup=function(){return!1},t.prototype.getParent=function(){return this.get("parent")},t.prototype.getCanvas=function(){return this.get("canvas")},t.prototype.attr=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],i=t[1];if(!r)return this.attrs;if((0,Dr.isObject)(r)){for(var o in r)this.setAttr(o,r[o]);return this.afterAttrsChange(r),this}return 2===t.length?(this.setAttr(r,i),this.afterAttrsChange(((e={})[r]=i,e)),this):this.attrs[r]},t.prototype.isClipped=function(e,t){var n=this.getClip();return n&&!n.isHit(e,t)},t.prototype.setAttr=function(e,t){var n=this.attrs[e];n!==t&&(this.attrs[e]=t,this.onAttrChange(e,t,n))},t.prototype.onAttrChange=function(e,t,n){"matrix"===e&&this.set("totalMatrix",null)},t.prototype.afterAttrsChange=function(e){if(this.cfg.isClipShape){var t=this.cfg.applyTo;t&&t.onCanvasChange("clip")}else this.onCanvasChange("attr")},t.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},t.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},t.prototype.setZIndex=function(e){this.set("zIndex",e);var t=this.getParent();return t&&t.sort(),this},t.prototype.toFront=function(){var e=this.getParent();if(e){var t=e.getChildren(),n=(this.get("el"),t.indexOf(this));t.splice(n,1),t.push(this),this.onCanvasChange("zIndex")}},t.prototype.toBack=function(){var e=this.getParent();if(e){var t=e.getChildren(),n=(this.get("el"),t.indexOf(this));t.splice(n,1),t.unshift(this),this.onCanvasChange("zIndex")}},t.prototype.remove=function(e){void 0===e&&(e=!0);var t=this.getParent();t?(Es(t.getChildren(),this),t.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),e&&this.destroy()},t.prototype.resetMatrix=function(){this.attr(Vs,this.getDefaultMatrix()),this.onCanvasChange("matrix")},t.prototype.getMatrix=function(){return this.attr(Vs)},t.prototype.setMatrix=function(e){this.attr(Vs,e),this.onCanvasChange("matrix")},t.prototype.getTotalMatrix=function(){var e=this.cfg.totalMatrix;if(!e){var t=this.attr("matrix"),n=this.cfg.parentMatrix;e=n&&t?Fs(n,t):t||n,this.set("totalMatrix",e)}return e},t.prototype.applyMatrix=function(e){var t=this.attr("matrix"),n=null;n=e&&t?Fs(e,t):t||e,this.set("totalMatrix",n),this.set("parentMatrix",e)},t.prototype.getDefaultMatrix=function(){return null},t.prototype.applyToMatrix=function(e){var t=this.attr("matrix");return t?zs(t,e):e},t.prototype.invertFromMatrix=function(e){var t=this.attr("matrix");if(t){var n=Ys(t);if(n)return zs(n,e)}return e},t.prototype.setClip=function(e){var t=this.getCanvas(),n=null;if(e){var r=this.getShapeBase()[(0,Dr.upperFirst)(e.type)];r&&(n=new r({type:e.type,isClipShape:!0,applyTo:this,attrs:e.attrs,canvas:t}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},t.prototype.getClip=function(){var e=this.cfg.clipShape;return e||null},t.prototype.clone=function(){var e=this,t=this.attrs,n={};(0,Dr.each)(t,(function(e,r){(0,Dr.isArray)(t[r])?n[r]=function(e){for(var t=[],n=0;n<e.length;n++)(0,Dr.isArray)(e[n])?t.push([].concat(e[n])):t.push(e[n]);return t}(t[r]):n[r]=t[r]}));var r=new(0,this.constructor)({attrs:n});return(0,Dr.each)(Us,(function(t){r.set(t,e.get(t))})),r},t.prototype.destroy=function(){this.destroyed||(this.attrs={},e.prototype.destroy.call(this))},t.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},t.prototype.animate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var i,o,a,s,u,l=e[0],c=e[1],f=e[2],d=void 0===f?"easeLinear":f,h=e[3],p=void 0===h?Dr.noop:h,g=e[4],v=void 0===g?0:g;(0,Dr.isFunction)(l)?(i=l,l={}):(0,Dr.isObject)(l)&&l.onFrame&&(i=l.onFrame,o=l.repeat),(0,Dr.isObject)(c)?(c=(u=c).duration,d=u.easing||"easeLinear",v=u.delay||0,o=u.repeat||o||!1,p=u.callback||Dr.noop,a=u.pauseCallback||Dr.noop,s=u.resumeCallback||Dr.noop):((0,Dr.isNumber)(p)&&(v=p,p=null),(0,Dr.isFunction)(d)?(p=d,d="easeLinear"):d=d||"easeLinear");var m=Hs(l,this),y={fromAttrs:Zs(m,this),toAttrs:m,duration:c,easing:d,repeat:o,callback:p,pauseCallback:a,resumeCallback:s,delay:v,startTime:n.getTime(),id:(0,Dr.uniqueId)(),onFrame:i,pathFormatted:!1};r.length>0?r=Xs(r,y):n.addAnimator(this),r.push(y),this.set("animations",r),this.set("_pause",{isPaused:!1})}},t.prototype.stopAnimate=function(e){var t=this;void 0===e&&(e=!0);var n=this.get("animations");(0,Dr.each)(n,(function(n){e&&(n.onFrame?t.attr(n.onFrame(1)):t.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},t.prototype.pauseAnimate=function(){var e=this.get("timeline"),t=this.get("animations"),n=e.getTime();return(0,Dr.each)(t,(function(e){e._paused=!0,e._pauseTime=n,e.pauseCallback&&e.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},t.prototype.resumeAnimate=function(){var e=this.get("timeline").getTime(),t=this.get("animations"),n=this.get("_pause").pauseTime;return(0,Dr.each)(t,(function(t){t.startTime=t.startTime+(e-n),t._paused=!1,t._pauseTime=null,t.resumeCallback&&t.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",t),this},t.prototype.emitDelegation=function(e,t){var n,r=this,i=t.propagationPath;this.getEvents();"mouseenter"===e?n=t.fromShape:"mouseleave"===e&&(n=t.toShape);for(var o=function(e){var o=i[e],s=o.get("name");if(s){if((o.isGroup()||o.isCanvas&&o.isCanvas())&&n&&_s(o,n))return"break";(0,Dr.isArray)(s)?(0,Dr.each)(s,(function(e){r.emitDelegateEvent(o,e,t)})):a.emitDelegateEvent(o,s,t)}},a=this,s=0;s<i.length;s++){if("break"===o(s))break}},t.prototype.emitDelegateEvent=function(e,t,n){var r=this.getEvents(),i=t+":"+n.type;(r[i]||r["*"])&&(n.name=i,n.currentTarget=e,n.delegateTarget=this,n.delegateObject=e.get("delegateObject"),this.emit(i,n))},t.prototype.translate=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var n=this.getMatrix(),r=Gs(n,[["t",e,t]]);return this.setMatrix(r),this},t.prototype.move=function(e,t){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(e-n,t-r),this},t.prototype.moveTo=function(e,t){return this.move(e,t)},t.prototype.scale=function(e,t){var n=this.getMatrix(),r=Gs(n,[["s",e,t||e]]);return this.setMatrix(r),this},t.prototype.rotate=function(e){var t=this.getMatrix(),n=Gs(t,[["r",e]]);return this.setMatrix(n),this},t.prototype.rotateAtStart=function(e){var t=this.attr(),n=t.x,r=t.y,i=this.getMatrix(),o=Gs(i,[["t",-n,-r],["r",e],["t",n,r]]);return this.setMatrix(o),this},t.prototype.rotateAtPoint=function(e,t,n){var r=this.getMatrix(),i=Gs(r,[["t",-e,-t],["r",n],["t",e,t]]);return this.setMatrix(i),this},t}(ks),qs=Ks,Js={};function $s(e,t){if(e.set("canvas",t),e.isGroup()){var n=e.get("children");n.length&&n.forEach((function(e){$s(e,t)}))}}function Qs(e,t){if(e.set("timeline",t),e.isGroup()){var n=e.get("children");n.length&&n.forEach((function(e){Qs(e,t)}))}}var eu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype.isCanvas=function(){return!1},t.prototype.getBBox=function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter((function(e){return e.get("visible")&&(!e.isGroup()||e.isGroup()&&e.getChildren().length>0)}));return a.length>0?((0,Dr.each)(a,(function(e){var t=e.getBBox();i.push(t.minX,t.maxX),o.push(t.minY,t.maxY)})),e=(0,Dr.min)(i),t=(0,Dr.max)(i),n=(0,Dr.min)(o),r=(0,Dr.max)(o)):(e=0,t=0,n=0,r=0),{x:e,y:n,minX:e,minY:n,maxX:t,maxY:r,width:t-e,height:r-n}},t.prototype.getCanvasBBox=function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter((function(e){return e.get("visible")&&(!e.isGroup()||e.isGroup()&&e.getChildren().length>0)}));return a.length>0?((0,Dr.each)(a,(function(e){var t=e.getCanvasBBox();i.push(t.minX,t.maxX),o.push(t.minY,t.maxY)})),e=(0,Dr.min)(i),t=(0,Dr.max)(i),n=(0,Dr.min)(o),r=(0,Dr.max)(o)):(e=0,t=0,n=0,r=0),{x:e,y:n,minX:e,minY:n,maxX:t,maxY:r,width:t-e,height:r-n}},t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.children=[],t},t.prototype.onAttrChange=function(t,n,r){if(e.prototype.onAttrChange.call(this,t,n,r),"matrix"===t){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},t.prototype.applyMatrix=function(t){var n=this.getTotalMatrix();e.prototype.applyMatrix.call(this,t);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},t.prototype._applyChildrenMarix=function(e){var t=this.getChildren();(0,Dr.each)(t,(function(t){t.applyMatrix(e)}))},t.prototype.addShape=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],r=e[1];(0,Dr.isObject)(n)?r=n:r.type=n;var i=Js[r.type];i||(i=(0,Dr.upperFirst)(r.type),Js[r.type]=i);var o=this.getShapeBase(),a=new o[i](r);return this.add(a),a},t.prototype.addGroup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r=e[0],i=e[1];if((0,Dr.isFunction)(r))n=new r(i||{parent:this});else{var o=r||{},a=this.getGroupBase();n=new a(o)}return this.add(n),n},t.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},t.prototype.getShape=function(e,t,n){if(!Ts(this))return null;var r,i=this.getChildren();if(this.isCanvas())r=this._findShape(i,e,t,n);else{var o=[e,t,1];o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(r=this._findShape(i,o[0],o[1],n))}return r},t.prototype._findShape=function(e,t,n,r){for(var i=null,o=e.length-1;o>=0;o--){var a=e[o];if(Ts(a)&&(a.isGroup()?i=a.getShape(t,n,r):a.isHit(t,n)&&(i=a)),i)break}return i},t.prototype.add=function(e){var t=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),i=e.getParent();i&&function(e,t,n){void 0===n&&(n=!0),n?t.destroy():(t.set("parent",null),t.set("canvas",null)),Es(e.getChildren(),t)}(i,e,!1),e.set("parent",this),t&&$s(e,t),r&&Qs(e,r),n.push(e),e.onCanvasChange("add"),this._applyElementMatrix(e)},t.prototype._applyElementMatrix=function(e){var t=this.getTotalMatrix();t&&e.applyMatrix(t)},t.prototype.getChildren=function(){return this.get("children")},t.prototype.sort=function(){var e=this.getChildren();(0,Dr.each)(e,(function(e,t){return e._INDEX=t,e})),e.sort(function(e){return function(t,n){var r=e(t,n);return 0===r?t._INDEX-n._INDEX:r}}((function(e,t){return e.get("zIndex")-t.get("zIndex")}))),this.onCanvasChange("sort")},t.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var e=this.getChildren(),t=e.length-1;t>=0;t--)e[t].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},t.prototype.destroy=function(){this.get("destroyed")||(this.clear(),e.prototype.destroy.call(this))},t.prototype.getFirst=function(){return this.getChildByIndex(0)},t.prototype.getLast=function(){var e=this.getChildren();return this.getChildByIndex(e.length-1)},t.prototype.getChildByIndex=function(e){return this.getChildren()[e]},t.prototype.getCount=function(){return this.getChildren().length},t.prototype.contain=function(e){return this.getChildren().indexOf(e)>-1},t.prototype.removeChild=function(e,t){void 0===t&&(t=!0),this.contain(e)&&e.remove(t)},t.prototype.findAll=function(e){var t=[],n=this.getChildren();return(0,Dr.each)(n,(function(n){e(n)&&t.push(n),n.isGroup()&&(t=t.concat(n.findAll(e)))})),t},t.prototype.find=function(e){var t=null,n=this.getChildren();return(0,Dr.each)(n,(function(n){if(e(n)?t=n:n.isGroup()&&(t=n.find(e)),t)return!1})),t},t.prototype.findById=function(e){return this.find((function(t){return t.get("id")===e}))},t.prototype.findByClassName=function(e){return this.find((function(t){return t.get("className")===e}))},t.prototype.findAllByName=function(e){return this.findAll((function(t){return t.get("name")===e}))},t}(qs),tu=eu,nu=n(6212);function ru(e){return+e}function iu(e){return e*e}function ou(e){return e*(2-e)}function au(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function su(e){return e*e*e}function uu(e){return--e*e*e+1}function lu(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var cu=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),fu=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),du=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),hu=Math.PI,pu=hu/2;function gu(e){return 1===+e?1:1-Math.cos(e*pu)}function vu(e){return Math.sin(e*pu)}function mu(e){return(1-Math.cos(hu*e))/2}function yu(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}function bu(e){return yu(1-+e)}function xu(e){return 1-yu(e)}function wu(e){return((e*=2)<=1?yu(1-e):2-yu(e-1))/2}function Eu(e){return 1-Math.sqrt(1-e*e)}function Su(e){return Math.sqrt(1- --e*e)}function _u(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var Tu=4/11,ku=7.5625;function Cu(e){return 1-Mu(1-e)}function Mu(e){return(e=+e)<Tu?ku*e*e:e<.7272727272727273?ku*(e-=.5454545454545454)*e+.75:e<.9090909090909091?ku*(e-=.8181818181818182)*e+.9375:ku*(e-=.9545454545454546)*e+.984375}function Au(e){return((e*=2)<=1?1-Mu(1-e):Mu(e-1)+1)/2}var Nu=1.70158,Pu=function e(t){function n(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,n.overshoot=e,n}(Nu),Iu=function e(t){function n(e){return--e*e*((e+1)*t+e)+1}return t=+t,n.overshoot=e,n}(Nu),Du=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(Nu),Ou=2*Math.PI,Ru=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Ou);function i(e){return t*yu(- --e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*Ou)},i.period=function(n){return e(t,n)},i}(1,.3),Lu=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Ou);function i(e){return 1-t*yu(e=+e)*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*Ou)},i.period=function(n){return e(t,n)},i}(1,.3),ju=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Ou);function i(e){return((e=2*e-1)<0?t*yu(-e)*Math.sin((r-e)/n):2-t*yu(e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*Ou)},i.period=function(n){return e(t,n)},i}(1,.3);function Bu(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Fu(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function zu(){}var Yu=.7,Gu=1/Yu,Vu="\\s*([+-]?\\d+)\\s*",Uu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zu=/^#([0-9a-f]{3,8})$/,Hu=new RegExp("^rgb\\("+[Vu,Vu,Vu]+"\\)$"),Xu=new RegExp("^rgb\\("+[Wu,Wu,Wu]+"\\)$"),Ku=new RegExp("^rgba\\("+[Vu,Vu,Vu,Uu]+"\\)$"),qu=new RegExp("^rgba\\("+[Wu,Wu,Wu,Uu]+"\\)$"),Ju=new RegExp("^hsl\\("+[Uu,Wu,Wu]+"\\)$"),$u=new RegExp("^hsla\\("+[Uu,Wu,Wu,Uu]+"\\)$"),Qu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function el(){return this.rgb().formatHex()}function tl(){return this.rgb().formatRgb()}function nl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Zu.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?rl(t):3===n?new sl(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?il(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?il(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Hu.exec(e))?new sl(t[1],t[2],t[3],1):(t=Xu.exec(e))?new sl(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Ku.exec(e))?il(t[1],t[2],t[3],t[4]):(t=qu.exec(e))?il(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ju.exec(e))?fl(t[1],t[2]/100,t[3]/100,1):(t=$u.exec(e))?fl(t[1],t[2]/100,t[3]/100,t[4]):Qu.hasOwnProperty(e)?rl(Qu[e]):"transparent"===e?new sl(NaN,NaN,NaN,0):null}function rl(e){return new sl(e>>16&255,e>>8&255,255&e,1)}function il(e,t,n,r){return r<=0&&(e=t=n=NaN),new sl(e,t,n,r)}function ol(e){return e instanceof zu||(e=nl(e)),e?new sl((e=e.rgb()).r,e.g,e.b,e.opacity):new sl}function al(e,t,n,r){return 1===arguments.length?ol(e):new sl(e,t,n,null==r?1:r)}function sl(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function ul(){return"#"+cl(this.r)+cl(this.g)+cl(this.b)}function ll(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function cl(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function fl(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new hl(e,t,n,r)}function dl(e){if(e instanceof hl)return new hl(e.h,e.s,e.l,e.opacity);if(e instanceof zu||(e=nl(e)),!e)return new hl;if(e instanceof hl)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new hl(a,s,u,e.opacity)}function hl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function pl(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function gl(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function vl(e){return function(){return e}}function ml(e,t){return function(n){return e+n*t}}function yl(e){return 1===(e=+e)?bl:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):vl(isNaN(t)?n:t)}}function bl(e,t){var n=t-e;return n?ml(e,n):vl(isNaN(e)?t:e)}Bu(zu,nl,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:el,formatHex:el,formatHsl:function(){return dl(this).formatHsl()},formatRgb:tl,toString:tl}),Bu(sl,al,Fu(zu,{brighter:function(e){return e=null==e?Gu:Math.pow(Gu,e),new sl(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?Yu:Math.pow(Yu,e),new sl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ul,formatHex:ul,formatRgb:ll,toString:ll})),Bu(hl,(function(e,t,n,r){return 1===arguments.length?dl(e):new hl(e,t,n,null==r?1:r)}),Fu(zu,{brighter:function(e){return e=null==e?Gu:Math.pow(Gu,e),new hl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Yu:Math.pow(Yu,e),new hl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new sl(pl(e>=240?e-240:e+120,i,r),pl(e,i,r),pl(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var xl=function e(t){var n=yl(t);function r(e,t){var r=n((e=al(e)).r,(t=al(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=bl(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function wl(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=al(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}wl((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return gl((n-r/t)*t,a,i,o,s)}})),wl((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return gl((n-r/t)*t,i,o,a,s)}}));function El(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function Sl(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _l(e,t){return(Sl(t)?El:Tl)(e,t)}function Tl(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Il(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function kl(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Cl(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ml(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Il(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var Al=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nl=new RegExp(Al.source,"g");function Pl(e,t){var n,r,i,o=Al.lastIndex=Nl.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=Al.exec(e))&&(r=Nl.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Cl(n,r)})),o=Nl.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}function Il(e,t){var n,r=typeof t;return null==t||"boolean"===r?vl(t):("number"===r?Cl:"string"===r?(n=nl(t))?(t=n,xl):Pl:t instanceof nl?xl:t instanceof Date?kl:Sl(t)?El:Array.isArray(t)?Tl:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Ml:Cl)(e,t)}var Dl=[1,0,0,0,1,0,0,0,1];function Ol(e,t,n){var r,i=t.startTime;if(n<i+t.delay||t._paused)return!1;var a=t.duration,s=t.easing;if(n=n-i-t.delay,t.repeat)r=n%a/a,r=o[s](r);else{if(!((r=n/a)<1))return t.onFrame?e.attr(t.onFrame(1)):e.attr(t.toAttrs),!0;r=o[s](r)}if(t.onFrame){var u=t.onFrame(r);e.attr(u)}else!function(e,t,n){var r={},i=t.fromAttrs,o=t.toAttrs;if(!e.destroyed){var a,s;for(var u in o)if(!(0,Dr.isEqual)(i[u],o[u]))if("path"===u){var l=o[u],c=i[u];l.length>c.length?(l=Wa(o[u]),c=Wa(i[u]),c=ms(c,l),c=xs(c,l),t.fromAttrs.path=c,t.toAttrs.path=l):t.pathFormatted||(l=Wa(o[u]),c=Wa(i[u]),c=xs(c,l),t.fromAttrs.path=c,t.toAttrs.path=l,t.pathFormatted=!0),r[u]=[];for(var f=0;f<l.length;f++){for(var d=l[f],h=c[f],p=[],g=0;g<d.length;g++)(0,Dr.isNumber)(d[g])&&h&&(0,Dr.isNumber)(h[g])?(a=Il(h[g],d[g]),p.push(a(n))):p.push(d[g]);r[u].push(p)}}else if("matrix"===u){var v=_l(i[u]||Dl,o[u]||Dl)(n);r[u]=v}else["fill","stroke","fillStyle","strokeStyle"].includes(u)&&(s=o[u],/^[r,R,L,l]{1}[\s]*\(/.test(s))?r[u]=o[u]:(0,Dr.isFunction)(o[u])||(a=Il(i[u],o[u]),r[u]=a(n));e.attr(r)}}(e,t,r);return!1}var Rl=function(){function e(e){this.animators=[],this.current=0,this.timer=null,this.canvas=e}return e.prototype.initTimer=function(){var e,t,n,r=this;this.timer=nu.HT((function(i){if(r.current=i,r.animators.length>0){for(var o=r.animators.length-1;o>=0;o--)if((e=r.animators[o]).destroyed)r.removeAnimator(o);else{if(!e.isAnimatePaused())for(var a=(t=e.get("animations")).length-1;a>=0;a--)n=t[a],Ol(e,n,i)&&(t.splice(a,1),!1,n.callback&&n.callback());0===t.length&&r.removeAnimator(o)}r.canvas.get("autoDraw")||r.canvas.draw()}}))},e.prototype.addAnimator=function(e){this.animators.push(e)},e.prototype.removeAnimator=function(e){this.animators.splice(e,1)},e.prototype.isAnimating=function(){return!!this.animators.length},e.prototype.stop=function(){this.timer&&this.timer.stop()},e.prototype.stopAllAnimations=function(e){void 0===e&&(e=!0),this.animators.forEach((function(t){t.stopAnimate(e)})),this.animators=[],this.canvas.draw()},e.prototype.getTime=function(){return this.current},e}(),Ll=Rl,jl=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Bl(e,t,n){n.name=t,n.target=e,n.currentTarget=e,n.delegateTarget=e,e.emit(t,n)}function Fl(e,t,n){if(n.bubbles){var r=void 0,i=!1;if("mouseenter"===t?(r=n.fromShape,i=!0):"mouseleave"===t&&(i=!0,r=n.toShape),e.isCanvas()&&i)return;if(r&&_s(e,r))return void(n.bubbles=!1);n.name=t,n.currentTarget=e,n.delegateTarget=e,e.emit(t,n)}}var zl=function(){function e(e){var t=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(e){var n=e.type;t._triggerEvent(n,e)},this._onDocumentMove=function(e){if(t.canvas.get("el")!==e.target&&(t.dragging||t.currentShape)){var n=t._getPointInfo(e);t.dragging&&t._emitEvent("drag",e,n,t.draggingShape)}},this._onDocumentMouseUp=function(e){if(t.canvas.get("el")!==e.target&&t.dragging){var n=t._getPointInfo(e);t.draggingShape&&t._emitEvent("drop",e,n,null),t._emitEvent("dragend",e,n,t.draggingShape),t._afterDrag(t.draggingShape,n,e)}},this.canvas=e.canvas}return e.prototype.init=function(){this._bindEvents()},e.prototype._bindEvents=function(){var e=this,t=this.canvas.get("el");(0,Dr.each)(jl,(function(n){t.addEventListener(n,e._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._clearEvents=function(){var e=this,t=this.canvas.get("el");(0,Dr.each)(jl,(function(n){t.removeEventListener(n,e._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._getEventObj=function(e,t,n,r,i,o){var a=new ws(e,t);return a.fromShape=i,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},e.prototype._getShape=function(e,t){return this.canvas.getShape(e.x,e.y,t)},e.prototype._getPointInfo=function(e){var t=this.canvas,n=t.getClientByEvent(e),r=t.getPointByEvent(e);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},e.prototype._triggerEvent=function(e,t){var n=this._getPointInfo(t),r=this._getShape(n,t),i=this["_on"+e],o=!1;if(i)i.call(this,n,r,t);else{var a=this.currentShape;"mouseenter"===e||"dragenter"===e||"mouseover"===e?(this._emitEvent(e,t,n,null,null,r),r&&this._emitEvent(e,t,n,r,null,r),"mouseenter"===e&&this.draggingShape&&this._emitEvent("dragenter",t,n,null)):"mouseleave"===e||"dragleave"===e||"mouseout"===e?(o=!0,a&&this._emitEvent(e,t,n,a,a,null),this._emitEvent(e,t,n,null,a,null),"mouseleave"===e&&this.draggingShape&&this._emitEvent("dragleave",t,n,null)):this._emitEvent(e,t,n,r,null,null)}if(o||(this.currentShape=r),r&&!r.get("destroyed")){var s=this.canvas;s.get("el").style.cursor=r.attr("cursor")||s.get("cursor")}},e.prototype._onmousedown=function(e,t,n){0===n.button&&(this.mousedownShape=t,this.mousedownPoint=e,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,e,t,null,null)},e.prototype._emitMouseoverEvents=function(e,t,n,r){var i=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",e,t,n,n,r),this._emitEvent("mouseleave",e,t,n,n,r),r&&!r.get("destroyed")||(i.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",e,t,r,n,r),this._emitEvent("mouseenter",e,t,r,n,r)))},e.prototype._emitDragoverEvents=function(e,t,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",e,t,n,n,r),this._emitEvent("dragenter",e,t,r,n,r)),i||this._emitEvent("dragover",e,t,r)):n&&this._emitEvent("dragleave",e,t,n,n,r),i&&this._emitEvent("dragover",e,t,r)},e.prototype._afterDrag=function(e,t,n){e&&(e.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(t,n);r!==e&&this._emitMouseoverEvents(n,t,e,r),this.currentShape=r},e.prototype._onmouseup=function(e,t,n){if(0===n.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,e,t),this._emitEvent("dragend",n,e,r),this._afterDrag(r,e,n)):(this._emitEvent("mouseup",n,e,t),t===this.mousedownShape&&this._emitEvent("click",n,e,t),this.mousedownShape=null,this.mousedownPoint=null)}},e.prototype._ondragover=function(e,t,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,e,r,t,!0)},e.prototype._onmousemove=function(e,t,n){var r=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,e,i,t,!1),this._emitEvent("drag",n,e,o);else{var a=this.mousedownPoint;if(a){var s=this.mousedownShape,u=n.timeStamp-this.mousedownTimeStamp,l=a.clientX-e.clientX,c=a.clientY-e.clientY;u>120||l*l+c*c>40?s&&s.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,e,o),this.mousedownShape=null,this.mousedownPoint=null):!s&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,e,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,e,i,t),this._emitEvent("mousemove",n,e,t)):(this._emitMouseoverEvents(n,e,i,t),this._emitEvent("mousemove",n,e,t))}else this._emitMouseoverEvents(n,e,i,t),this._emitEvent("mousemove",n,e,t)}},e.prototype._emitEvent=function(e,t,n,r,i,o){var a=this._getEventObj(e,t,n,r,i,o);if(r){a.shape=r,Bl(r,e,a);for(var s=r.getParent();s;)s.emitDelegation(e,a),a.propagationStopped||Fl(s,e,a),a.propagationPath.push(s),s=s.getParent()}else{Bl(this.canvas,e,a)}},e.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},e}(),Yl=zl,Gl=Ls(),Vl=Gl&&"firefox"===Gl.name,Ul=function(e){function t(t){var n=e.call(this,t)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return(0,Ir.__extends)(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},t.prototype.initContainer=function(){var e=this.get("container");(0,Dr.isString)(e)&&(e=document.getElementById(e),this.set("container",e))},t.prototype.initDom=function(){var e=this.createDom();this.set("el",e),this.get("container").appendChild(e),this.setDOMSize(this.get("width"),this.get("height"))},t.prototype.initEvents=function(){var e=new Yl({canvas:this});e.init(),this.set("eventController",e)},t.prototype.initTimeline=function(){var e=new Ll(this);this.set("timeline",e)},t.prototype.setDOMSize=function(e,t){var n=this.get("el");Ss&&(n.style.width=e+"px",n.style.height=t+"px")},t.prototype.changeSize=function(e,t){this.setDOMSize(e,t),this.set("width",e),this.set("height",t),this.onCanvasChange("changeSize")},t.prototype.getRenderer=function(){return this.get("renderer")},t.prototype.getCursor=function(){return this.get("cursor")},t.prototype.setCursor=function(e){this.set("cursor",e);var t=this.get("el");Ss&&t&&(t.style.cursor=e)},t.prototype.getPointByEvent=function(e){if(this.get("supportCSSTransform")){if(Vl&&!(0,Dr.isNil)(e.layerX)&&e.layerX!==e.offsetX)return{x:e.layerX,y:e.layerY};if(!(0,Dr.isNil)(e.offsetX))return{x:e.offsetX,y:e.offsetY}}var t=this.getClientByEvent(e),n=t.x,r=t.y;return this.getPointByClient(n,r)},t.prototype.getClientByEvent=function(e){var t=e;return e.touches&&(t="touchend"===e.type?e.changedTouches[0]:e.touches[0]),{x:t.clientX,y:t.clientY}},t.prototype.getPointByClient=function(e,t){var n=this.get("el").getBoundingClientRect();return{x:e-n.left,y:t-n.top}},t.prototype.getClientByPoint=function(e,t){var n=this.get("el").getBoundingClientRect();return{x:e+n.left,y:t+n.top}},t.prototype.draw=function(){},t.prototype.removeDom=function(){var e=this.get("el");e.parentNode.removeChild(e)},t.prototype.clearEvents=function(){this.get("eventController").destroy()},t.prototype.isCanvas=function(){return!0},t.prototype.getParent=function(){return null},t.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),e.prototype.destroy.call(this))},t}(tu),Wl=Ul,Zl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype.isGroup=function(){return!0},t.prototype.isEntityGroup=function(){return!1},t.prototype.clone=function(){for(var t=e.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var i=n[r];t.add(i.clone())}return t},t}(tu),Hl=Zl,Xl=function(e){function t(t){return e.call(this,t)||this}return(0,Ir.__extends)(t,e),t.prototype._isInBBox=function(e,t){var n=this.getBBox();return n.minX<=e&&n.maxX>=e&&n.minY<=t&&n.maxY>=t},t.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},t.prototype.getBBox=function(){var e=this.cfg.bbox;return e||(e=this.calculateBBox(),this.set("bbox",e)),e},t.prototype.getCanvasBBox=function(){var e=this.cfg.canvasBBox;return e||(e=this.calculateCanvasBBox(),this.set("canvasBBox",e)),e},t.prototype.applyMatrix=function(t){e.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},t.prototype.calculateCanvasBBox=function(){var e=this.getBBox(),t=this.getTotalMatrix(),n=e.minX,r=e.minY,i=e.maxX,o=e.maxY;if(t){var a=zs(t,[e.minX,e.minY]),s=zs(t,[e.maxX,e.minY]),u=zs(t,[e.minX,e.maxY]),l=zs(t,[e.maxX,e.maxY]);n=Math.min(a[0],s[0],u[0],l[0]),i=Math.max(a[0],s[0],u[0],l[0]),r=Math.min(a[1],s[1],u[1],l[1]),o=Math.max(a[1],s[1],u[1],l[1])}var c=this.attrs;if(c.shadowColor){var f=c.shadowBlur,d=void 0===f?0:f,h=c.shadowOffsetX,p=void 0===h?0:h,g=c.shadowOffsetY,v=void 0===g?0:g,m=n-d+p,y=i+d+p,b=r-d+v,x=o+d+v;n=Math.min(n,m),i=Math.max(i,y),r=Math.min(r,b),o=Math.max(o,x)}return{x:n,y:r,minX:n,minY:r,maxX:i,maxY:o,width:i-n,height:o-r}},t.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},t.prototype.isClipShape=function(){return this.get("isClipShape")},t.prototype.isInShape=function(e,t){return!1},t.prototype.isOnlyHitBox=function(){return!1},t.prototype.isHit=function(e,t){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),i=[e,t,1],o=(i=this.invertFromMatrix(i))[0],a=i[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(r&&r.isHit(o,a))return!0}return!1},t}(qs),Kl=Xl,ql=new Map;function Jl(e,t){ql.set(e,t)}function $l(e){return ql.get(e)}function Ql(e){var t=e.attr();return{x:t.x,y:t.y,width:t.width,height:t.height}}function ec(e){var t=e.attr(),n=t.x,r=t.y,i=t.r;return{x:n-i,y:r-i,width:2*i,height:2*i}}function tc(e){return Math.min.apply(null,e)}function nc(e){return Math.max.apply(null,e)}function rc(e,t,n,r){var i=e-n,o=t-r;return Math.sqrt(i*i+o*o)}function ic(e,t){return Math.abs(e-t)<.001}function oc(e,t){var n=tc(e),r=tc(t);return{x:n,y:r,width:nc(e)-n,height:nc(t)-r}}function ac(e){return(e+2*Math.PI)%(2*Math.PI)}var sc={box:function(e,t,n,r){return oc([e,n],[t,r])},length:function(e,t,n,r){return rc(e,t,n,r)},pointAt:function(e,t,n,r,i){return{x:(1-i)*e+i*n,y:(1-i)*t+i*r}},pointDistance:function(e,t,n,r,i,o){var a=(n-e)*(i-e)+(r-t)*(o-t);return a<0?rc(e,t,i,o):a>(n-e)*(n-e)+(r-t)*(r-t)?rc(n,r,i,o):this.pointToLine(e,t,n,r,i,o)},pointToLine:function(e,t,n,r,i,o){var a=[n-e,r-t];if(ko(a,[0,0]))return Math.sqrt((i-e)*(i-e)+(o-t)*(o-t));var s=[-a[1],a[0]];_o(s,s);var u=[i-e,o-t];return Math.abs(To(u,s))},tangentAngle:function(e,t,n,r){return Math.atan2(r-t,n-e)}};function uc(e,t,n,r,i,o){var a,s=1/0,u=[n,r],l=20;o&&o>200&&(l=o/10);for(var c=1/l,f=c/10,d=0;d<=l;d++){var h=d*c,p=[i.apply(null,e.concat([h])),i.apply(null,t.concat([h]))];(y=rc(u[0],u[1],p[0],p[1]))<s&&(a=h,s=y)}if(0===a)return{x:e[0],y:t[0]};if(1===a){var g=e.length;return{x:e[g-1],y:t[g-1]}}s=1/0;for(d=0;d<32&&!(f<1e-4);d++){var v=a-f,m=a+f,y=(p=[i.apply(null,e.concat([v])),i.apply(null,t.concat([v]))],rc(u[0],u[1],p[0],p[1]));if(v>=0&&y<s)a=v,s=y;else{var b=[i.apply(null,e.concat([m])),i.apply(null,t.concat([m]))],x=rc(u[0],u[1],b[0],b[1]);m<=1&&x<s?(a=m,s=x):f*=.5}}return{x:i.apply(null,e.concat([a])),y:i.apply(null,t.concat([a]))}}function lc(e,t,n,r){var i=1-r;return i*i*e+2*r*i*t+r*r*n}function cc(e,t,n){var r=e+n-2*t;if(ic(r,0))return[.5];var i=(e-t)/r;return i<=1&&i>=0?[i]:[]}function fc(e,t,n,r){return 2*(1-r)*(t-e)+2*r*(n-t)}function dc(e,t,n,r,i,o,a){var s=lc(e,n,i,a),u=lc(t,r,o,a),l=sc.pointAt(e,t,n,r,a),c=sc.pointAt(n,r,i,o,a);return[[e,t,l.x,l.y,s,u],[s,u,c.x,c.y,i,o]]}function hc(e,t,n,r,i,o,a){if(0===a)return(rc(e,t,n,r)+rc(n,r,i,o)+rc(e,t,i,o))/2;var s=dc(e,t,n,r,i,o,.5),u=s[0],l=s[1];return u.push(a-1),l.push(a-1),hc.apply(null,u)+hc.apply(null,l)}var pc={box:function(e,t,n,r,i,o){var a=cc(e,n,i)[0],s=cc(t,r,o)[0],u=[e,i],l=[t,o];return void 0!==a&&u.push(lc(e,n,i,a)),void 0!==s&&l.push(lc(t,r,o,s)),oc(u,l)},length:function(e,t,n,r,i,o){return hc(e,t,n,r,i,o,3)},nearestPoint:function(e,t,n,r,i,o,a,s){return uc([e,n,i],[t,r,o],a,s,lc)},pointDistance:function(e,t,n,r,i,o,a,s){var u=this.nearestPoint(e,t,n,r,i,o,a,s);return rc(u.x,u.y,a,s)},interpolationAt:lc,pointAt:function(e,t,n,r,i,o,a){return{x:lc(e,n,i,a),y:lc(t,r,o,a)}},divide:function(e,t,n,r,i,o,a){return dc(e,t,n,r,i,o,a)},tangentAngle:function(e,t,n,r,i,o,a){var s=fc(e,n,i,a),u=fc(t,r,o,a);return ac(Math.atan2(u,s))}};function gc(e,t,n,r,i){var o=1-i;return o*o*o*e+3*t*i*o*o+3*n*i*i*o+r*i*i*i}function vc(e,t,n,r,i){var o=1-i;return 3*(o*o*(t-e)+2*o*i*(n-t)+i*i*(r-n))}function mc(e,t,n,r){var i,o,a,s=-3*e+9*t-9*n+3*r,u=6*e-12*t+6*n,l=3*t-3*e,c=[];if(ic(s,0))ic(u,0)||(i=-l/u)>=0&&i<=1&&c.push(i);else{var f=u*u-4*s*l;ic(f,0)?c.push(-u/(2*s)):f>0&&(o=(-u-(a=Math.sqrt(f)))/(2*s),(i=(-u+a)/(2*s))>=0&&i<=1&&c.push(i),o>=0&&o<=1&&c.push(o))}return c}function yc(e,t,n,r,i,o,a,s,u){var l=gc(e,n,i,a,u),c=gc(t,r,o,s,u),f=sc.pointAt(e,t,n,r,u),d=sc.pointAt(n,r,i,o,u),h=sc.pointAt(i,o,a,s,u),p=sc.pointAt(f.x,f.y,d.x,d.y,u),g=sc.pointAt(d.x,d.y,h.x,h.y,u);return[[e,t,f.x,f.y,p.x,p.y,l,c],[l,c,g.x,g.y,h.x,h.y,a,s]]}function bc(e,t,n,r,i,o,a,s,u){if(0===u)return function(e,t){for(var n=0,r=e.length,i=0;i<r;i++)n+=rc(e[i],t[i],e[(i+1)%r],t[(i+1)%r]);return n/2}([e,n,i,a],[t,r,o,s]);var l=yc(e,t,n,r,i,o,a,s,.5),c=l[0],f=l[1];return c.push(u-1),f.push(u-1),bc.apply(null,c)+bc.apply(null,f)}var xc={extrema:mc,box:function(e,t,n,r,i,o,a,s){for(var u=[e,a],l=[t,s],c=mc(e,n,i,a),f=mc(t,r,o,s),d=0;d<c.length;d++)u.push(gc(e,n,i,a,c[d]));for(d=0;d<f.length;d++)l.push(gc(t,r,o,s,f[d]));return oc(u,l)},length:function(e,t,n,r,i,o,a,s){return bc(e,t,n,r,i,o,a,s,3)},nearestPoint:function(e,t,n,r,i,o,a,s,u,l,c){return uc([e,n,i,a],[t,r,o,s],u,l,gc,c)},pointDistance:function(e,t,n,r,i,o,a,s,u,l,c){var f=this.nearestPoint(e,t,n,r,i,o,a,s,u,l,c);return rc(f.x,f.y,u,l)},interpolationAt:gc,pointAt:function(e,t,n,r,i,o,a,s,u){return{x:gc(e,n,i,a,u),y:gc(t,r,o,s,u)}},divide:function(e,t,n,r,i,o,a,s,u){return yc(e,t,n,r,i,o,a,s,u)},tangentAngle:function(e,t,n,r,i,o,a,s,u){var l=vc(e,n,i,a,u),c=vc(t,r,o,s,u);return ac(Math.atan2(c,l))}};function wc(e,t,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+e}function Ec(e,t,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+t}var Sc=function(e,t,n,r,i,o,a){for(var s=function(e,t,n){return Math.atan(-t/e*Math.tan(n))}(n,r,i),u=1/0,l=-1/0,c=[o,a],f=2*-Math.PI;f<=2*Math.PI;f+=Math.PI){var d=s+f;o<a?o<d&&d<a&&c.push(d):a<d&&d<o&&c.push(d)}for(f=0;f<c.length;f++){var h=wc(e,0,n,r,i,c[f]);h<u&&(u=h),h>l&&(l=h)}var p=function(e,t,n){return Math.atan(t/(e*Math.tan(n)))}(n,r,i),g=1/0,v=-1/0,m=[o,a];for(f=2*-Math.PI;f<=2*Math.PI;f+=Math.PI){var y=p+f;o<a?o<y&&y<a&&m.push(y):a<y&&y<o&&m.push(y)}for(f=0;f<m.length;f++){var b=Ec(0,t,n,r,i,m[f]);b<g&&(g=b),b>v&&(v=b)}return{x:u,y:g,width:l-u,height:v-g}};function _c(e){if(e.length<2)return 0;for(var t=0,n=0;n<e.length-1;n++){var r=e[n],i=e[n+1];t+=rc(r[0],r[1],i[0],i[1])}return t}var Tc=function(e){return _c(e)};function kc(e,t){return e&&t?{minX:Math.min(e.minX,t.minX),minY:Math.min(e.minY,t.minY),maxX:Math.max(e.maxX,t.maxX),maxY:Math.max(e.maxY,t.maxY)}:e||t}function Cc(e,t){var n=e.get("startArrowShape"),r=e.get("endArrowShape");return n&&(t=kc(t,n.getCanvasBBox())),r&&(t=kc(t,r.getCanvasBBox())),t}var Mc=null;function Ac(){if(!Mc){var e=document.createElement("canvas");e.width=1,e.height=1,Mc=e.getContext("2d")}return Mc}function Nc(e,t,n){var r=1;if((0,Dr.isString)(e)&&(r=e.split("\n").length),r>1){var i=function(e,t){return t?t-e:.14*e}(t,n);return t*r+i*(r-1)}return t}function Pc(e){var t=e.fontSize,n=e.fontFamily,r=e.fontWeight;return[e.fontStyle,e.fontVariant,r,t+"px",n].join(" ").trim()}var Ic=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Dc=/[^\s\,]+/gi;var Oc=function(e){var t=e||[];return(0,Dr.isArray)(t)?t:(0,Dr.isString)(t)?(t=t.match(Ic),(0,Dr.each)(t,(function(e,n){if((e=e.match(Dc))[0].length>1){var r=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=r}(0,Dr.each)(e,(function(t,n){isNaN(t)||(e[n]=+t)})),t[n]=e})),t):void 0};var Rc=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=[[0,0],[1,1]]);for(var r=!!t,i=[],o=0,a=e.length;o<a;o+=2)i.push([e[o],e[o+1]]);var s,u,l,c=function(e,t,n,r){var i,o,a,s,u,l,c,f=[],d=!!r;if(d){a=r[0],s=r[1];for(var h=0,p=e.length;h<p;h+=1)a=xo([0,0],a,v=e[h]),s=wo([0,0],s,v)}h=0;for(var g=e.length;h<g;h+=1){var v=e[h];if(0!==h||n)if(h!==g-1||n){i=e[[h?h-1:g-1,h-1][n?0:1]],o=e[n?(h+1)%g:h+1];var m=[0,0];m=Eo(m=Co(m,o,i),m,t);var y=So(v,i),b=So(v,o),x=y+b;0!==x&&(y/=x,b/=x);var w=Eo([0,0],m,-y),E=Eo([0,0],m,b);l=bo([0,0],v,w),u=xo([0,0],u=bo([0,0],v,E),wo([0,0],o,v)),u=wo([0,0],u,xo([0,0],o,v)),l=xo([0,0],l=bo([0,0],v,w=Eo([0,0],w=Co([0,0],u,v),-y/b)),wo([0,0],i,v)),l=wo([0,0],l,xo([0,0],i,v)),u=bo([0,0],v,E=Eo([0,0],E=Co([0,0],v,l),b/y)),d&&(l=xo([0,0],l=wo([0,0],l,a),s),u=xo([0,0],u=wo([0,0],u,a),s)),f.push(c),f.push(l),c=u}else l=v,f.push(c),f.push(l);else c=v}return n&&f.push(f.shift()),f}(i,.4,r,n),f=i.length,d=[];for(o=0;o<f-1;o+=1)s=c[2*o],u=c[2*o+1],l=i[o+1],d.push(["C",s[0],s[1],u[0],u[1],l[0],l[1]]);return r&&(s=c[f],u=c[f+1],l=i[0],d.push(["C",s[0],s[1],u[0],u[1],l[0],l[1]])),d};var Lc=new RegExp("([a-z])[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)","ig"),jc=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*","ig");function Bc(e){if(!e)return null;if((0,Dr.isArray)(e))return e;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(e).replace(Lc,(function(e,r,i){var o=[],a=r.toLowerCase();if(i.replace(jc,(function(e,t){t&&o.push(+t)})),"m"===a&&o.length>2&&(n.push([r].concat(o.splice(0,2))),a="l",r="m"===r?"l":"L"),"o"===a&&1===o.length&&n.push([r,o[0]]),"r"===a)n.push([r].concat(o));else for(;o.length>=t[a]&&(n.push([r].concat(o.splice(0,t[a]))),t[a]););return""})),n}var Fc=/[a-z]/;function zc(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}function Yc(e){var t=Bc(e);if(!t||!t.length)return[["M",0,0]];for(var n=!1,r=0;r<t.length;r++){var i=t[r][0];if(Fc.test(i)||["V","H","T","S"].indexOf(i)>=0){n=!0;break}}if(!n)return t;var o=[],a=0,s=0,u=0,l=0,c=0,f=t[0];"M"!==f[0]&&"m"!==f[0]||(u=a=+f[1],l=s=+f[2],c++,o[0]=["M",a,s]);r=c;for(var d=t.length;r<d;r++){var h=t[r],p=o[r-1],g=[],v=(i=h[0]).toUpperCase();if(i!==v)switch(g[0]=v,v){case"A":g[1]=h[1],g[2]=h[2],g[3]=h[3],g[4]=h[4],g[5]=h[5],g[6]=+h[6]+a,g[7]=+h[7]+s;break;case"V":g[1]=+h[1]+s;break;case"H":g[1]=+h[1]+a;break;case"M":u=+h[1]+a,l=+h[2]+s,g[1]=u,g[2]=l;break;default:for(var m=1,y=h.length;m<y;m++)g[m]=+h[m]+(m%2?a:s)}else g=t[r];switch(v){case"Z":a=+u,s=+l;break;case"H":g=["L",a=g[1],s];break;case"V":g=["L",a,s=g[1]];break;case"T":a=g[1],s=g[2];var b=zc([p[1],p[2]],[p[3],p[4]]);g=["Q",b[0],b[1],a,s];break;case"S":a=g[g.length-2],s=g[g.length-1];var x=p.length,w=zc([p[x-4],p[x-3]],[p[x-2],p[x-1]]);g=["C",w[0],w[1],g[1],g[2],a,s];break;case"M":u=g[g.length-2],l=g[g.length-1];break;default:a=g[g.length-2],s=g[g.length-1]}o.push(g)}return o}Math.PI;function Gc(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Vc(e,t){return Gc(e)*Gc(t)?(e[0]*t[0]+e[1]*t[1])/(Gc(e)*Gc(t)):1}function Uc(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(Vc(e,t))}function Wc(e,t){return e[0]===t[0]&&e[1]===t[1]}function Zc(e,t){var n=t[1],r=t[2],i=(0,Dr.mod)((0,Dr.toRadian)(t[3]),2*Math.PI),o=t[4],a=t[5],s=e[0],u=e[1],l=t[6],c=t[7],f=Math.cos(i)*(s-l)/2+Math.sin(i)*(u-c)/2,d=-1*Math.sin(i)*(s-l)/2+Math.cos(i)*(u-c)/2,h=f*f/(n*n)+d*d/(r*r);h>1&&(n*=Math.sqrt(h),r*=Math.sqrt(h));var p=n*n*(d*d)+r*r*(f*f),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var v=r?g*n*d/r:0,m=n?g*-r*f/n:0,y=(s+l)/2+Math.cos(i)*v-Math.sin(i)*m,b=(u+c)/2+Math.sin(i)*v+Math.cos(i)*m,x=[(f-v)/n,(d-m)/r],w=[(-1*f-v)/n,(-1*d-m)/r],E=Uc([1,0],x),S=Uc(x,w);return Vc(x,w)<=-1&&(S=Math.PI),Vc(x,w)>=1&&(S=0),0===a&&S>0&&(S-=2*Math.PI),1===a&&S<0&&(S+=2*Math.PI),{cx:y,cy:b,rx:Wc(e,[l,c])?0:n,ry:Wc(e,[l,c])?0:r,startAngle:E,endAngle:E+S,xRotation:i,arcFlag:o,sweepFlag:a}}function Hc(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}function Xc(e){for(var t=[],n=null,r=null,i=null,o=0,a=(e=Oc(e)).length,s=0;s<a;s++){var u=e[s];r=e[s+1];var l=u[0],c={command:l,prePoint:n,params:u,startTangent:null,endTangent:null};switch(l){case"M":i=[u[1],u[2]],o=s;break;case"A":var f=Zc(n,u);c.arcParams=f}if("Z"===l)n=i,r=e[o+1];else{var d=u.length;n=[u[d-2],u[d-1]]}r&&"Z"===r[0]&&(r=e[o],t[o]&&(t[o].prePoint=n)),c.currentPoint=n,t[o]&&Wc(n,t[o].currentPoint)&&(t[o].prePoint=c.prePoint);var h=r?[r[r.length-2],r[r.length-1]]:null;c.nextPoint=h;var p=c.prePoint;if(["L","H","V"].includes(l))c.startTangent=[p[0]-n[0],p[1]-n[1]],c.endTangent=[n[0]-p[0],n[1]-p[1]];else if("Q"===l){var g=[u[1],u[2]];c.startTangent=[p[0]-g[0],p[1]-g[1]],c.endTangent=[n[0]-g[0],n[1]-g[1]]}else if("T"===l){g=Hc((y=t[s-1]).currentPoint,p);"Q"===y.command?(c.command="Q",c.startTangent=[p[0]-g[0],p[1]-g[1]],c.endTangent=[n[0]-g[0],n[1]-g[1]]):(c.command="TL",c.startTangent=[p[0]-n[0],p[1]-n[1]],c.endTangent=[n[0]-p[0],n[1]-p[1]])}else if("C"===l){var v=[u[1],u[2]],m=[u[3],u[4]];c.startTangent=[p[0]-v[0],p[1]-v[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]],0===c.startTangent[0]&&0===c.startTangent[1]&&(c.startTangent=[v[0]-m[0],v[1]-m[1]]),0===c.endTangent[0]&&0===c.endTangent[1]&&(c.endTangent=[m[0]-v[0],m[1]-v[1]])}else if("S"===l){var y;v=Hc((y=t[s-1]).currentPoint,p),m=[u[1],u[2]];"C"===y.command?(c.command="C",c.startTangent=[p[0]-v[0],p[1]-v[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]]):(c.command="SQ",c.startTangent=[p[0]-m[0],p[1]-m[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]])}else if("A"===l){var b=.001,x=c.arcParams||{},w=x.cx,E=void 0===w?0:w,S=x.cy,_=void 0===S?0:S,T=x.rx,k=void 0===T?0:T,C=x.ry,M=void 0===C?0:C,A=x.sweepFlag,N=void 0===A?0:A,P=x.startAngle,I=void 0===P?0:P,D=x.endAngle,O=void 0===D?0:D;0===N&&(b*=-1);var R=k*Math.cos(I-b)+E,L=M*Math.sin(I-b)+_;c.startTangent=[R-i[0],L-i[1]];var j=k*Math.cos(I+O+b)+E,B=M*Math.sin(I+O-b)+_;c.endTangent=[p[0]-j,p[1]-B]}t.push(c)}return t}function Kc(e,t){var n=e.prePoint,r=e.currentPoint,i=e.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),u=Math.acos((o+a-s)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!u||0===Math.sin(u)||(0,Dr.isNumberEqual)(u,0))return{xExtra:0,yExtra:0};var l=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),c=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));return l=l>Math.PI/2?Math.PI-l:l,c=c>Math.PI/2?Math.PI-c:c,{xExtra:Math.cos(u/2-l)*(t/2*(1/Math.sin(u/2)))-t/2||0,yExtra:Math.cos(c-u/2)*(t/2*(1/Math.sin(u/2)))-t/2||0}}Jl("rect",Ql),Jl("image",Ql),Jl("circle",ec),Jl("marker",ec),Jl("polyline",(function(e){for(var t=e.attr().points,n=[],r=[],i=0;i<t.length;i++){var o=t[i];n.push(o[0]),r.push(o[1])}var a=oc(n,r),s=a.x,u=a.y,l={minX:s,minY:u,maxX:s+a.width,maxY:u+a.height};return{x:(l=Cc(e,l)).minX,y:l.minY,width:l.maxX-l.minX,height:l.maxY-l.minY}})),Jl("polygon",(function(e){for(var t=e.attr().points,n=[],r=[],i=0;i<t.length;i++){var o=t[i];n.push(o[0]),r.push(o[1])}return oc(n,r)})),Jl("text",(function(e){var t=e.attr(),n=t.x,r=t.y,i=t.text,o=t.fontSize,a=t.lineHeight,s=t.font;s||(s=Pc(t));var u,l=function(e,t){var n=Ac(),r=0;if((0,Dr.isNil)(e)||""===e)return r;if(n.save(),n.font=t,(0,Dr.isString)(e)&&e.includes("\n")){var i=e.split("\n");(0,Dr.each)(i,(function(e){var t=n.measureText(e).width;r<t&&(r=t)}))}else r=n.measureText(e).width;return n.restore(),r}(i,s);if(l){var c=t.textAlign,f=t.textBaseline,d=Nc(i,o,a),h={x:n,y:r-d};c&&("end"===c||"right"===c?h.x-=l:"center"===c&&(h.x-=l/2)),f&&("top"===f?h.y+=d:"middle"===f&&(h.y+=d/2)),u={x:h.x,y:h.y,width:l,height:d}}else u={x:n,y:r,width:0,height:0};return u})),Jl("path",(function(e){var t=e.attr(),n=t.path,r=t.stroke?t.lineWidth:0,i=function(e,t){for(var n=[],r=[],i=[],o=0;o<e.length;o++){var a=(g=e[o]).currentPoint,s=g.params,u=g.prePoint,l=void 0;switch(g.command){case"Q":l=pc.box(u[0],u[1],s[1],s[2],s[3],s[4]);break;case"C":l=xc.box(u[0],u[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case"A":var c=g.arcParams;l=Sc(c.cx,c.cy,c.rx,c.ry,c.xRotation,c.startAngle,c.endAngle);break;default:n.push(a[0]),r.push(a[1])}l&&(g.box=l,n.push(l.x,l.x+l.width),r.push(l.y,l.y+l.height)),t&&("L"===g.command||"M"===g.command)&&g.prePoint&&g.nextPoint&&i.push(g)}n=n.filter((function(e){return!Number.isNaN(e)&&e!==1/0&&e!==-1/0})),r=r.filter((function(e){return!Number.isNaN(e)&&e!==1/0&&e!==-1/0}));var f=(0,Dr.min)(n),d=(0,Dr.min)(r),h=(0,Dr.max)(n),p=(0,Dr.max)(r);if(0===i.length)return{x:f,y:d,width:h-f,height:p-d};for(o=0;o<i.length;o++){var g;(a=(g=i[o]).currentPoint)[0]===f?f-=Kc(g,t).xExtra:a[0]===h&&(h+=Kc(g,t).xExtra),a[1]===d?d-=Kc(g,t).yExtra:a[1]===p&&(p+=Kc(g,t).yExtra)}return{x:f,y:d,width:h-f,height:p-d}}(e.get("segments")||Xc(n),r),o=i.x,a=i.y,s={minX:o,minY:a,maxX:o+i.width,maxY:a+i.height};return{x:(s=Cc(e,s)).minX,y:s.minY,width:s.maxX-s.minX,height:s.maxY-s.minY}})),Jl("line",(function(e){var t=e.attr(),n=t.x1,r=t.y1,i=t.x2,o=t.y2,a={minX:Math.min(n,i),maxX:Math.max(n,i),minY:Math.min(r,o),maxY:Math.max(r,o)};return{x:(a=Cc(e,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}})),Jl("ellipse",(function(e){var t=e.attr(),n=t.x,r=t.y,i=t.rx,o=t.ry;return{x:n-i,y:r-o,width:2*i,height:2*o}}));var qc=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.item=n.item,r.canvasX=n.canvasX,r.canvasY=n.canvasY,r.wheelDelta=n.wheelDelta,r.detail=n.detail,r}return(0,Ir.__extends)(t,e),t}(ws),Jc=function(e){return"".concat(e,"-").concat(Math.random()).concat(Date.now())},$c=function(e){if((0,Dr.isArray)(e))switch(e.length){case 4:return e;case 3:return e.push(e[1]),e;case 2:return e.concat(e);case 1:return[e[0],e[0],e[0],e[0]];default:return[0,0,0,0]}if((0,Dr.isNumber)(e))return[e,e,e,e];if((0,Dr.isString)(e)){var t=parseInt(e,10);return[t,t,t,t]}return[0,0,0,0]},Qc=function(e){var t=new qc(e.type,e);return t.clientX=e.clientX,t.clientY=e.clientY,t.x=e.x,t.y=e.y,t.target=e.target,t.currentTarget=e.currentTarget,t.bubbles=!0,t.item=e.item,t},ef=function(e){if(!e)return!1;for(var t=[1,0,0,0,1,0,0,0,1],n=0;n<9;n++)if(e[n]!==t[n])return!0;return!1},tf=function(e){return Number.isNaN(Number(e))},nf=function(e){for(var t=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<e.length;o++){var a=e[o].getBBox(),s=a.minX,u=a.minY,l=a.maxX,c=a.maxY;s<t&&(t=s),u<r&&(r=u),l>n&&(n=l),c>i&&(i=c)}return{x:Math.floor(t),y:Math.floor(r),width:Math.ceil(n)-Math.floor(t),height:Math.ceil(i)-Math.floor(r),minX:t,minY:r,maxX:n,maxY:i}},rf=function(e,t,n,r,i){void 0===t&&(t=15),void 0===n&&(n="quadratic"),void 0===r&&(r=void 0),void 0===i&&(i=void 0);for(var o=e.length,a=2*t,s=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],u={},l=[],c={},f=0;f<o;f++){var d=e[f],h=d.source,p=d.target,g="".concat(h,"-").concat(p);if(!l[f]){u[g]||(u[g]=[]),l[f]=!0,u[g].push(d);for(var v=0;v<o;v++)if(f!==v){var m=e[v],y=m.source,b=m.target;l[v]||(h===b&&p===y?(u[g].push(m),l[v]=!0,c["".concat(y,"|").concat(b,"|").concat(u[g].length-1)]=!0):h===y&&p===b&&(u[g].push(m),l[v]=!0))}}}for(var x in u)for(var w=u[x],E=w.length,S=0;S<E;S++){var _=w[S];if(_.source!==_.target)if(1===E&&r&&_.source!==_.target)_.type=r;else{_.type=n;var T=(S%2===0?1:-1)*(c["".concat(_.source,"|").concat(_.target,"|").concat(S)]?-1:1);_.curveOffset=E%2===1?T*Math.ceil(S/2)*a:T*(Math.floor(S/2)*a+t)}else i&&(_.type=i),_.loopCfg={position:s[S%8],dist:20*Math.floor(S/8)+50}}return e},of=function(){function e(e){this.destroyed=!1,this.graph=e,this.destroyed=!1}return e.prototype.getViewCenter=function(){var e=this.getFormatPadding(),t=this.graph,n=this.graph.get("width"),r=t.get("height");return{x:(n-e[1]-e[3])/2+e[3],y:(r-e[0]-e[2])/2+e[0]}},e.prototype.fitCenter=function(){var e=this.graph,t=e.get("group");t.resetMatrix();var n=t.getCanvasBBox();if(0!==n.width&&0!==n.height){var r=this.getViewCenter(),i=n.x+n.width/2,o=n.y+n.height/2;e.translate(r.x-i,r.y-o)}},e.prototype.fitView=function(){var e=this.graph,t=this.getFormatPadding(),n=e.get("width"),r=e.get("height"),i=e.get("group");i.resetMatrix();var o=i.getCanvasBBox();if(0!==o.width&&0!==o.height){var a=this.getViewCenter(),s=o.x+o.width/2,u=o.y+o.height/2;e.translate(a.x-s,a.y-u);var l=(n-t[1]-t[3])/o.width,c=(r-t[0]-t[2])/o.height,f=l;l>c&&(f=c),e.zoom(f,a)||console.warn("zoom failed, ratio out of range, ratio: %f",f)}},e.prototype.fitViewByRules=function(e){var t=e.onlyOutOfViewPort,n=void 0!==t&&t,r=e.direction,i=void 0===r?"both":r,o=e.ratioRule,a=void 0===o?"min":o,s=this.graph,u=this.getFormatPadding(),l=s.get("width"),c=s.get("height"),f=s.get("group");f.resetMatrix();var d=f.getCanvasBBox();if(0!==d.width&&0!==d.height){var h=this.getViewCenter(),p=d.x+d.width/2,g=d.y+d.height/2;s.translate(h.x-p,h.y-g);var v,m=(l-u[1]-u[3])/d.width,y=(c-u[0]-u[2])/d.height;v="x"===i?m:"y"===i?y:"max"===a?Math.max(m,y):Math.min(m,y),n&&(v=v<1?v:1);var b=s.getZoom()*v,x=s.get("minZoom");b<x&&(b=x,console.warn("fitview failed, ratio out of range, ratio: %f",v,"graph minzoom has been used instead")),s.zoomTo(b,h)}},e.prototype.getFormatPadding=function(){var e=this.graph.get("fitViewPadding");return $c(e)},e.prototype.focusPoint=function(e,t,n){var r=this,i=this.getViewCenter(),o=this.getPointByCanvas(i.x,i.y),a=this.graph.get("group").getMatrix();if(a||(a=[1,0,0,0,1,0,0,0,1]),t){var s=(o.x-e.x)*a[0],u=(o.y-e.y)*a[4],l=0,c=0,f=0,d=0;this.graph.get("canvas").animate((function(e){f=s*e,d=u*e,r.graph.translate(f-l,d-c),l=f,c=d}),(0,Ir.__assign)({},n))}else this.graph.translate((o.x-e.x)*a[0],(o.y-e.y)*a[4])},e.prototype.getPointByCanvas=function(e,t){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),Lo({x:e,y:t},n)},e.prototype.getPointByClient=function(e,t){var n=this.graph.get("canvas").getPointByClient(e,t);return this.getPointByCanvas(n.x,n.y)},e.prototype.getClientByPoint=function(e,t){var n=this.graph.get("canvas"),r=this.getCanvasByPoint(e,t),i=n.getClientByPoint(r.x,r.y);return{x:i.x,y:i.y}},e.prototype.getCanvasByPoint=function(e,t){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),Ro({x:e,y:t},n)},e.prototype.focus=function(e,t,n){if((0,Dr.isString)(e)&&(e=this.graph.findById(e)),e){var r=0,i=0;if(e.getType&&"edge"===e.getType()){var o=e.getSource().get("group").getMatrix(),a=e.getTarget().get("group").getMatrix();o&&a?(r=(o[6]+a[6])/2,i=(o[7]+a[7])/2):(o||a)&&(r=o?o[6]:a[6],i=o?o[7]:a[7])}else{var s=e.get("group").getMatrix();s||(s=[1,0,0,0,1,0,0,0,1]),r=s[6],i=s[7]}this.focusPoint({x:r,y:i},t,n)}},e.prototype.changeSize=function(e,t){var n=this.graph;if(!(0,Dr.isNumber)(e)||!(0,Dr.isNumber)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");n.set({width:e,height:t}),n.get("canvas").changeSize(e,t),n.get("plugins").forEach((function(e){e.get("gridContainer")&&e.positionInit()}))},e.prototype.destroy=function(){this.graph=null,this.destroyed=!1},e}(),af=of;function sf(e){return sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(e)}function uf(e){if("string"!==typeof e)return e;var t=function(e){if("string"!==typeof e)return e;try{return JSON.parse(e.trim())}catch(t){return e.trim()}},n=t(e);if("string"!==typeof n)return n;for(var r=function(e){return e[e.length-1]},i=e.trim(),o=[],a=[],s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.some((function(e){return r(a)===e}))},u=null,l=0,c="";l<i.length;){var f=i[l],d=s('"',"'");if(d||f.trim()){var h="\\"===i[l-1],p=s("}"),g=s("]"),v=s(","),m=r(o);if(d)if(r(a)!==f||h)c+=f;else{a.pop();var y=t(c);m.push(y),u=y,c=""}else if(g&&","===f)c&&(m.push(t(c)),c="");else if(p&&":"===f)a.push(","),c&&(m.push(c),c="");else if(v&&","===f)c&&(m.push(t(c)),c=""),a.pop();else if("}"===f&&(p||v)){c&&(m.push(t(c)),c=""),v&&a.pop();for(var b={},x=1;x<m.length;x+=2)b[m[x-1]]=m[x];o.pop(),o.length&&r(o).push(b),a.pop(),u=b}else"]"===f&&g?(c&&(m.push(t(c)),c=""),o.pop(),o.length&&r(o).push(m),a.pop(),u=m):"{"===f?(o.push([]),a.push("}")):"["===f?(o.push([]),a.push("]")):'"'===f?a.push('"'):"'"===f?a.push("'"):c+=f;l+=1}else l+=1}return u||c}function lf(e,t){var n={},r=e.getAttributeNames&&e.getAttributeNames()||[],i=e.children&&Array.from(e.children).map((function(e){return lf(e,t)})),o={},a=e.tagName?e.tagName.toLowerCase():"group";return"text"===a&&(n.text=e.innerText),o.type=a,"img"===a&&(o.type="image"),Array.from(r).forEach((function(t){var r=function(e){return e.split("-").reduce((function(e,t){return e+t.charAt(0).toUpperCase()+t.slice(1)}))}(t),i=e.getAttribute(t);try{if("style"===r||"attrs"===r){var a=uf(i);n=(0,Ir.__assign)((0,Ir.__assign)({},n),a)}else o[r]=uf(i)}catch(s){if("style"===r)throw s;o[r]=i}})),o.attrs=n,t&&t.style&&o.name&&"object"===sf(t.style[o.name])&&(o.attrs=(0,Ir.__assign)((0,Ir.__assign)({},o.attrs),t.style[o.name])),t&&t.style&&o.keyshape&&(o.attrs=(0,Ir.__assign)((0,Ir.__assign)({},o.attrs),t.style)),i.length&&(o.children=i),o}function cf(e,t){var n;void 0===t&&(t={x:0,y:0});var r=(0,Ir.__assign)({x:0,y:0,width:0,height:0},t);if(null===(n=e.children)||void 0===n?void 0:n.length){var i=e.attrs,o=void 0===i?{}:i,a=o.marginTop,s=(0,Ir.__assign)({},t);a&&(s.y+=a);for(var u=0;u<e.children.length;u++){e.children[u].attrs.key="".concat(o.key||"root"," -").concat(u," ");var l=cf(e.children[u],s);if(l.bbox){var c=l.bbox;"inline"===l.attrs.next?s.x+=l.bbox.width:s.y+=l.bbox.height,c.width+c.x>r.width&&(r.width=c.width+c.x),c.height+c.y>r.height&&(r.height=c.height+c.y)}}}return e.bbox=function(e,t,n){var r,i,o=e.attrs,a=void 0===o?{}:o,s={x:t.x||0,y:t.y||0,width:n.width||0,height:n.height||0};switch(e.type){case"maker":case"circle":a.r&&(i=2*a.r,r=2*a.r);break;case"text":a.text&&(i=Da(a.text,a.fontSize||12)[0],r=16,s.y+=r,s.height=r,s.width=i,e.attrs=(0,Ir.__assign)({fontSize:12,fill:"#000"},a));break;default:a.width&&(i=a.width),a.height&&(r=a.height)}return r>=0&&(s.height=r),i>=0&&(s.width=i),a.marginTop&&(s.y+=a.marginTop),a.marginLeft&&(s.x+=a.marginLeft),s}(e,t,r),e.attrs=(0,Ir.__assign)((0,Ir.__assign)({},e.attrs),e.bbox),e}function ff(e,t){var n,r,i,o,a=(e||{}).type,s=((null===t||void 0===t?void 0:t.attrs)||{}).key;if(s&&e&&(e.attrs.key=s),!e&&t)return{action:"delete",val:t,type:a,key:s};if(e&&!t)return{action:"add",val:e,type:a};if(!e&&!t)return{action:"same",type:a};var u=[];if((null===(n=e.children)||void 0===n?void 0:n.length)>0||(null===(r=t.children)||void 0===r?void 0:r.length)>0)for(var l=Math.max(null===(i=e.children)||void 0===i?void 0:i.length,null===(o=t.children)||void 0===o?void 0:o.length),c=t.children||[],f=e.children||[],d=0;d<l;d+=1)u.push(ff(f[d],c[d]));var h=Object.keys(t.attrs),p=Object.keys(e.attrs);return t.type!==e.type?{action:"restructure",nowTarget:e,formerTarget:t,key:s,children:u}:h.filter((function(e){return"children"!==e})).some((function(n){return e.attrs[n]!==t.attrs[n]||!p.includes(n)}))?{action:"change",val:e,children:u,type:a,key:s}:{action:"same",children:u,type:a,key:s}}function df(e){var t={},n=function(t){var n=function(e){return function(t){for(var n=e.length,r=[],i=0,o="";i<n;)if("{"===e[i]&&"{"===e[i+1])r.push(o),o="",i+=2;else if("}"===e[i]&&"}"===e[i+1]){if(r.length){var a=r.pop();o=(0,Dr.get)(t,o,a.endsWith("=")?'"{'.concat(o,'}"'):o),r.push(a+o)}i+=2,o=""}else o+=e[i],i+=1;return r.push(o),r.map((function(e,t){return r[t-1]&&r[t-1].endsWith("=")?'"{'.concat(e,'}"'):e})).join("")}}("function"===typeof e?e(t):e)(t),r=document.createElement("div");r.innerHTML=n;var i=cf(lf(r.children[0],t));return r.remove(),i};return{draw:function(e,r){var i=n(e),o=r;return function e(t){var n=t.attrs,i=void 0===n?{}:n,a=t.bbox,s=t.type,u=t.children,l=(0,Ir.__rest)(t,["attrs","bbox","type","children"]);if("group"!==t.type){var c=r.addShape(t.type,(0,Ir.__assign)({attrs:i,origin:{bbox:a,type:s,children:u}},l));t.keyshape&&(o=c)}t.children&&t.children.forEach((function(t){return e(t)}))}(i),t[e.id]=[i],o},update:function(e,r){t[e.id]||(t[e.id]=[]);var i=r.getContainer(),o=i.get("children"),a=n(e),s=ff(a,t[e.id].pop()),u=function e(t){var n;"group"!==t.type&&i.addShape(t.type,{attrs:t.attrs}),(null===(n=t.children)||void 0===n?void 0:n.length)&&t.children.map((function(t){return e(t)}))},l=function e(t){var n,r=o.find((function(e){return e.attrs.key===t.attrs.key}));r&&i.removeChild(r),(null===(n=t.children)||void 0===n?void 0:n.length)&&t.children.map((function(t){return e(t)}))};!function e(t){var n=t.key;if("group"!==t.type){var i=o.find((function(e){return e.attrs.key===n}));switch(t.action){case"change":if(i){var a=t.val.keyshape?r.getOriginStyle():{};i.attr((0,Ir.__assign)((0,Ir.__assign)({},a),t.val.attrs))}break;case"add":u(t.val);break;case"delete":l(t.val);break;case"restructure":l(t.formerTarget),u(t.nowTarget)}}t.children&&t.children.forEach((function(t){return e(t)}))}(s),t[e.id].push(a)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var hf={};function pf(e){return hf[e]||(hf[e]=(0,Dr.upperFirst)(e)),hf[e]}var gf={defaultShapeType:"defaultType",className:null,getShape:function(e){var t=this;return t[e]||t[t.defaultShapeType]||t["simple-circle"]},draw:function(e,t,n){var r=this.getShape(e);n.shapeMap={};var i=r.draw(t,n);return r.afterDraw&&r.afterDraw(t,n,i),i},baseUpdate:function(e,t,n,r){var i,o,a=this.getShape(e);a.update&&(a.mergeStyle=null===(i=a.getOptions)||void 0===i?void 0:i.call(a,t,r),null===(o=a.update)||void 0===o||o.call(a,t,n,r)),a.afterUpdate&&a.afterUpdate(t,n)},setState:function(e,t,n,r){this.getShape(e).setState(t,n,r)},shouldUpdate:function(e){return!!this.getShape(e).update},getControlPoints:function(e,t){return this.getShape(e).getControlPoints(t)},getAnchorPoints:function(e,t){return this.getShape(e).getAnchorPoints(t)}},vf={options:{},draw:function(e,t){return this.drawShape(e,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t=this.options.anchorPoints;return e.anchorPoints||t}},mf=function(){function e(){}return e.registerFactory=function(t,n){var r=pf(t),i=gf,o=(0,Ir.__assign)((0,Ir.__assign)({},i),n);return e[r]=o,o.className=r,o},e.getFactory=function(t){return e[pf(t)]},e.registerNode=function(t,n,r){var i,o=e.Node;if("string"===typeof n||"function"===typeof n){var a=df(n);i=(0,Ir.__assign)((0,Ir.__assign)({},o.getShape("single-node")),a)}else if(n.jsx){a=df(n.jsx);i=(0,Ir.__assign)((0,Ir.__assign)((0,Ir.__assign)({},o.getShape("single-node")),a),n)}else{o.getShape(r);var s=r?o.getShape(r):vf;i=(0,Ir.__assign)((0,Ir.__assign)({},s),n)}return i.type=t,i.itemType="node",o[t]=i,i},e.registerEdge=function(t,n,r){var i=e.Edge,o=r?i.getShape(r):vf,a=(0,Ir.__assign)((0,Ir.__assign)({},o),n);return a.type=t,a.itemType="edge",i[t]=a,a},e.registerCombo=function(t,n,r){var i=e.Combo,o=r?i.getShape(r):vf,a=(0,Ir.__assign)((0,Ir.__assign)({},o),n);return a.type=t,a.itemType="combo",i[t]=a,a},e}(),yf=mf;mf.registerFactory("node",{defaultShapeType:"circle"}),mf.registerFactory("edge",{defaultShapeType:"line"}),mf.registerFactory("combo",{defaultShapeType:"circle"});var bf="bboxCache",xf="bboxCanvasCache",wf=function(){function e(e){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),e);var n=this.get("model"),r=n.id,i=this.get("type");r||(r=Jc(i),this.get("model").id=r),this.set("id",r);var o=e.group;o&&(o.set("item",this),o.set("id",r)),this.init(),this.draw();var a=n.shape||n.type||("edge"===i?"line":"circle"),s=this.get("shapeFactory");if(s&&s[a]){var u=s[a].options;if(u&&u.stateStyles){var l=this.get("styles")||n.stateStyles;l=(0,Dr.deepMix)({},u.stateStyles,l),this.set("styles",l)}}}return e.prototype.calculateBBox=function(){var e=this.get("keyShape"),t=this.get("group"),n=Ta(e,t);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},e.prototype.calculateCanvasBBox=function(){var e=this.get("keyShape"),t=this.get("group"),n=Ta(e,t);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},e.prototype.drawInner=function(){var e=this,t=e.get("shapeFactory"),n=e.get("group"),r=e.get("model");n.clear();var i=r.visible;if(void 0===i||i||e.changeVisibility(i),t){e.updatePosition(r);var o=e.getShapeCfg(r),a=o.type,s=t.draw(a,o,n);s&&(e.set("keyShape",s),s.set("isKeyShape",!0),s.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",a),this.restoreStates(t,a)}},e.prototype.setOriginStyle=function(){var e=this.get("group"),t=e.get("children"),n=this.getKeyShape(),r=this,i=n.get("name");if(this.get("originStyle")){var o=this.get("originStyle");i&&!o[i]&&(o[i]={});var a=this.getCurrentStatesStyle(),s=function(e){var n=t[e],s=n.get("name"),u=n.attr();if(s&&s!==i){var l=a[s];o[s]||(o[s]={}),l?Object.keys(u).forEach((function(e){var t=u[e];t!==l[e]&&(o[s][e]=t)})):o[s]="image"!==n.get("type")?(0,Dr.clone)(u):r.getShapeStyleByName(s)}else{var c=n.attr(),f={};Object.keys(a).forEach((function(e){var t=a[e];e!==i&&(0,Dr.isPlainObject)(t)||(f[e]=t)})),Object.keys(c).forEach((function(e){var t=c[e];f[e]!==t&&(i?o[i][e]=t:o[e]=t)}))}};for(l=0;l<t.length;l++)s(l);delete o.path,delete o.matrix,delete o.x,delete o.y,o[i]&&(delete o[i].x,delete o[i].y,delete o[i].matrix,delete o[i].path),r.set("originStyle",o)}else{for(var u={},l=0;l<t.length;l++){var c=t[l],f=c.get("type"),d=c.get("name");if(d&&d!==i)u[d]="image"!==f?(0,Dr.clone)(c.attr()):r.getShapeStyleByName(d),"text"===f&&u[d]&&(delete u[d].x,delete u[d].y,delete u[d].matrix);else{var h=r.getShapeStyleByName();if(delete h.path,delete h.matrix,i)if(d)u[i]=h;else{var p=Jc("shape");c.set("name",p),e.shapeMap[p]=c,u[p]="image"!==f?(0,Dr.clone)(c.attr()):r.getShapeStyleByName(d)}else Object.assign(u,h)}}r.set("originStyle",u)}},e.prototype.restoreStates=function(e,t){var n=this,r=n.get("states");(0,Dr.each)(r,(function(r){e.setState(t,r,!0,n)}))},e.prototype.init=function(){var e=yf.getFactory(this.get("type"));this.set("shapeFactory",e)},e.prototype.get=function(e){return this._cfg[e]},e.prototype.set=function(e,t){(0,Dr.isPlainObject)(e)?this._cfg=(0,Ir.__assign)((0,Ir.__assign)({},this._cfg),e):this._cfg[e]=t},e.prototype.getDefaultCfg=function(){return{}},e.prototype.clearCache=function(){this.set(bf,null),this.set(xf,null)},e.prototype.beforeDraw=function(){},e.prototype.afterDraw=function(){},e.prototype.afterUpdate=function(){},e.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},e.prototype.getShapeStyleByName=function(e){var t,n=this.get("group");if(t=e?n.shapeMap[e]:this.getKeyShape()){var r={};return(0,Dr.each)(t.attr(),(function(e,t){("img"!==t||(0,Dr.isString)(e))&&(r[t]=e)})),r}return{}},e.prototype.getShapeCfg=function(e,t){var n=this.get("styles");if(n){var r=e;return r.style=(0,Ir.__assign)((0,Ir.__assign)({},n),e.style),r}return e},e.prototype.getStateStyle=function(e){var t=this.get("styles");return t&&t[e]},e.prototype.getOriginStyle=function(){return this.get("originStyle")},e.prototype.getCurrentStatesStyle=function(){var e=this,t={},n=e.getStates();return n&&n.length?((0,Dr.each)(e.getStates(),(function(n){t=Object.assign(t,e.getStateStyle(n))})),t):this.get("originStyle")},e.prototype.setState=function(e,t){var n=this.get("states"),r=this.get("shapeFactory"),i=e,o=e;(0,Dr.isString)(t)&&(i="".concat(e,":").concat(t),o="".concat(e,":"));var a=n;if((0,Dr.isBoolean)(t)){var s=n.indexOf(o);if(t){if(s>-1)return;n.push(i)}else s>-1&&n.splice(s,1)}else if((0,Dr.isString)(t)){var u=n.filter((function(e){return e.includes(o)}));u.length>0&&this.clearStates(u),(a=a.filter((function(e){return!e.includes(o)}))).push(i),this.set("states",a)}if(r){var l=this.get("model").type;r.setState(l,e,t,this)}},e.prototype.clearStates=function(e){var t=this,n=t.getStates(),r=t.get("shapeFactory"),i=t.get("model").type;e||(e=n),(0,Dr.isString)(e)&&(e=[e]);var o=n.filter((function(t){return-1===e.indexOf(t)}));t.set("states",o),e.forEach((function(e){r.setState(i,e,!1,t)}))},e.prototype.getContainer=function(){return this.get("group")},e.prototype.getKeyShape=function(){return this.get("keyShape")},e.prototype.getModel=function(){return this.get("model")},e.prototype.getType=function(){return this.get("type")},e.prototype.getID=function(){return this.get("id")},e.prototype.isItem=function(){return!0},e.prototype.getStates=function(){return this.get("states")},e.prototype.hasState=function(e){return this.getStates().indexOf(e)>=0},e.prototype.refresh=function(e){var t=this.get("model");this.updatePosition(t),this.updateShape(e),this.afterUpdate(),this.clearCache()},e.prototype.getUpdateType=function(e){},e.prototype.update=function(e,t){void 0===t&&(t=void 0);var n=this.get("model");if("move"===t)this.updatePosition(e);else{var r=n.visible,i=e.visible;r!==i&&void 0!==i&&this.changeVisibility(i);var o={x:n.x,y:n.y};e.x=isNaN(+e.x)?n.x:+e.x,e.y=isNaN(+e.y)?n.y:+e.y;var a=this.get("styles");if(e.stateStyles){var s=e.stateStyles;(0,Dr.mix)(a,s),delete e.stateStyles}Object.assign(n,e),o.x===e.x&&o.y===e.y||this.updatePosition(e),this.updateShape(t)}this.afterUpdate(),this.clearCache()},e.prototype.updateShape=function(e){var t=this.get("shapeFactory"),n=this.get("model"),r=n.type;if(t.shouldUpdate(r)&&r===this.get("currentShape")){var i=this.getShapeCfg(n,e);t.baseUpdate(r,i,this,e),"move"!==e&&this.setOriginStyle()}else this.draw();this.restoreStates(t,r)},e.prototype.updatePosition=function(e){var t=this.get("model"),n=isNaN(+e.x)?+t.x:+e.x,r=isNaN(+e.y)?+t.y:+e.y,i=this.get("group");if(isNaN(n)||isNaN(r))return!1;t.x=n,t.y=r;var o=i.getMatrix();return(!o||o[6]!==n||o[7]!==r)&&(i.resetMatrix(),Go(i,{x:n,y:r}),this.clearCache(),!0)},e.prototype.getBBox=function(){var e=this.get(bf);return e||(e=this.calculateBBox(),this.set(bf,e)),e},e.prototype.getCanvasBBox=function(){var e=this.get(xf);return e||(e=this.calculateCanvasBBox(),this.set(xf,e)),e},e.prototype.toFront=function(){this.get("group").toFront()},e.prototype.toBack=function(){this.get("group").toBack()},e.prototype.show=function(){this.changeVisibility(!0)},e.prototype.hide=function(){this.changeVisibility(!1)},e.prototype.changeVisibility=function(e){var t=this.get("group");e?t.show():t.hide(),this.set("visible",e)},e.prototype.isVisible=function(){return this.get("visible")},e.prototype.enableCapture=function(e){var t=this.get("group");t&&t.set("capture",e)},e.prototype.destroy=function(){if(!this.destroyed){var e=this.get("animate"),t=this.get("group");e&&t.stopAnimate(),t.shapeMap={},this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},e}(),Ef=wf,Sf={source:"start",target:"end"},_f="Node",Tf="Point",kf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},t.prototype.setEnd=function(e,t){var n=Sf[e]+Tf,r=e+_f,i=this.get(r);i&&!i.destroyed&&i.removeEdge(this),(0,Dr.isPlainObject)(t)?(this.set(n,t),this.set(r,null)):t&&(t.addEdge(this),this.set(r,t),this.set(n,null))},t.prototype.getLinkPoint=function(e,t,n){var r=Sf[e]+Tf,i=e+_f,o=this.get(r);if(!o){var a=this.get(i),s=e+"Anchor",u=this.getPrePoint(e,n),l=t[s];(0,Dr.isNil)(l)||(o=a.getLinkPointByAnchor(l)),o=o||a.getLinkPoint(u),(0,Dr.isNil)(o.index)||this.set("".concat(e,"AnchorIndex"),o.index)}return o},t.prototype.getPrePoint=function(e,t){if(t&&t.length)return t["source"===e?0:t.length-1];var n="source"===e?"target":"source";return this.getEndPoint(n)},t.prototype.getEndPoint=function(e){var t=e+_f,n=Sf[e]+Tf,r=this.get(t);return r?r.get("model"):this.get(n)},t.prototype.getControlPointsByCenter=function(e){var t=this.getEndPoint("source"),n=this.getEndPoint("target"),r=this.get("shapeFactory"),i=e.type;return r.getControlPoints(i,{startPoint:t,endPoint:n})},t.prototype.getEndCenter=function(e){var t=e+_f,n=Sf[e]+Tf,r=this.get(t);if(r){var i=r.getBBox();return{x:i.centerX,y:i.centerY}}return this.get(n)},t.prototype.init=function(){e.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},t.prototype.getShapeCfg=function(t,n){var r=this,i=r.get("linkCenter"),o=(null===n||void 0===n?void 0:n.includes("move"))?t:e.prototype.getShapeCfg.call(this,t);if(i)o.startPoint=r.getEndCenter("source"),o.endPoint=r.getEndCenter("target");else{var a=o.controlPoints||r.getControlPointsByCenter(o);o.startPoint=r.getLinkPoint("source",t,a),o.endPoint=r.getLinkPoint("target",t,a)}return o.sourceNode=r.get("sourceNode"),o.targetNode=r.get("targetNode"),o},t.prototype.getModel=function(){var e=this.get("model"),t=this.get("source".concat(_f)),n=this.get("target".concat(_f));return t?delete e["source".concat(_f)]:e.source=this.get("start".concat(Tf)),n?delete e["target".concat(_f)]:e.target=this.get("end".concat(Tf)),(0,Dr.isString)(e.source)||(0,Dr.isPlainObject)(e.source)||(e.source=e.source.getID()),(0,Dr.isString)(e.target)||(0,Dr.isPlainObject)(e.target)||(e.target=e.target.getID()),e},t.prototype.setSource=function(e){this.setEnd("source",e),this.set("source",e)},t.prototype.setTarget=function(e){this.setEnd("target",e),this.set("target",e)},t.prototype.getSource=function(){return this.get("source")},t.prototype.getTarget=function(){return this.get("target")},t.prototype.updatePosition=function(){return!1},t.prototype.update=function(e,t){void 0===t&&(t=void 0);var n=this.get("model"),r=n.visible,i=e.visible;r!==i&&void 0!==i&&this.changeVisibility(i);var o=this.get("styles");if(e.stateStyles){var a=e.stateStyles;(0,Dr.mix)(o,a),delete e.stateStyles}Object.assign(n,e),this.updateShape(t),this.afterUpdate(),this.clearCache()},t.prototype.destroy=function(){var t=this.get("source".concat(_f)),n=this.get("target".concat(_f));t&&!t.destroyed&&t.removeEdge(this),n&&!n.destroyed&&n.removeEdge(this),e.prototype.destroy.call(this)},t}(Ef),Cf=kf,Mf="anchorPointsCache",Af=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype.getNearestPoint=function(e,t){for(var n=0,r=e[0],i=Bo(e[0],t),o=0;o<e.length;o++){var a=e[o],s=Bo(a,t);s<i&&(r=a,i=s,n=o)}return r.anchorIndex=n,r},t.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},t.prototype.getEdges=function(){return this.get("edges")},t.prototype.getInEdges=function(){var e=this;return this.get("edges").filter((function(t){return t.get("target")===e}))},t.prototype.getOutEdges=function(){var e=this;return this.get("edges").filter((function(t){return t.get("source")===e}))},t.prototype.getNeighbors=function(e){var t=this,n=this.get("edges");if("target"===e){return n.filter((function(e){return e.getSource()===t})).map((function(e){return e.getTarget()}))}if("source"===e){return n.filter((function(e){return e.getTarget()===t})).map((function(e){return e.getSource()}))}return n.map((function(e){return e.getSource()===t?e.getTarget():e.getSource()}))},t.prototype.getLinkPointByAnchor=function(e){return this.getAnchorPoints()[e]},t.prototype.getLinkPoint=function(e){var t,n,r=this.get("keyShape").get("type"),i=this.get("type"),o=this.getBBox();"combo"===i?(t=o.centerX||(o.maxX+o.minX)/2,n=o.centerY||(o.maxY+o.minY)/2):(t=o.centerX,n=o.centerY);var a,s=this.getAnchorPoints();switch(r){case"circle":a=Do({x:t,y:n,r:o.width/2},e);break;case"ellipse":a=Oo({x:t,y:n,rx:o.width/2,ry:o.height/2},e);break;default:a=Io(o,e)}var u=a;return s.length&&(u||(u=e),u=this.getNearestPoint(s,u)),u||(u={x:t,y:n}),u},t.prototype.getAnchorPoints=function(){var e=this.get(Mf);if(!e){e=[];var t=this.get("shapeFactory"),n=this.getBBox(),r=this.get("model"),i=this.getShapeCfg(r),o=r.type,a=t.getAnchorPoints(o,i)||[];(0,Dr.each)(a,(function(t,r){var i={x:n.minX+t[0]*n.width,y:n.minY+t[1]*n.height,anchorIndex:r};e.push(i)})),this.set(Mf,e)}return e},t.prototype.addEdge=function(e){this.get("edges").push(e)},t.prototype.lock=function(){this.set("locked",!0)},t.prototype.unlock=function(){this.set("locked",!1)},t.prototype.hasLocked=function(){return this.get("locked")},t.prototype.removeEdge=function(e){var t=this.getEdges(),n=t.indexOf(e);n>-1&&t.splice(n,1)},t.prototype.clearCache=function(){this.set("bboxCache",null),this.set(Mf,null)},t.prototype.getUpdateType=function(e){var t,n,r,i,o;if(e){var a=!(0,Dr.isNil)(e.x),s=!(0,Dr.isNil)(e.y),u=Object.keys(e);return 1===u.length&&(a||s)||2===u.length&&a&&s?"move":(0,Dr.isNumber)(e.x)||(0,Dr.isNumber)(e.y)||e.type||e.anchorPoints||e.size||(null===e||void 0===e?void 0:e.style)&&((null===(t=null===e||void 0===e?void 0:e.style)||void 0===t?void 0:t.r)||(null===(n=null===e||void 0===e?void 0:e.style)||void 0===n?void 0:n.width)||(null===(r=null===e||void 0===e?void 0:e.style)||void 0===r?void 0:r.height)||(null===(i=null===e||void 0===e?void 0:e.style)||void 0===i?void 0:i.rx)||(null===(o=null===e||void 0===e?void 0:e.style)||void 0===o?void 0:o.ry))?"bbox|label":u.includes("label")||u.includes("labelCfg")?"style|label":"style"}},t}(Ef),Nf=Af,Pf="bboxCache",If="bboxCanvasCache",Df="sizeCache",Of="anchorPointsCache",Rf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},t.prototype.getShapeCfg=function(e){var t=this.get("styles"),n=this.get("bbox");if(t&&n){var r=e,i={r:Math.hypot(n.height,n.width)/2||ya.defaultCombo.size[0]/2,width:n.width||ya.defaultCombo.size[0],height:n.height||ya.defaultCombo.size[1]};r.style=(0,Ir.__assign)((0,Ir.__assign)((0,Ir.__assign)({},t),e.style),i);var o=e.padding||ya.defaultCombo.padding;return(0,Dr.isNumber)(o)?(i.r+=o,i.width+=2*o,i.height+=2*o):(i.r+=o[0],i.width+=o[1]+o[3]||2*o[1],i.height+=o[0]+o[2]||2*o[0]),this.set(Df,i),r}return e},t.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var e=this.get("keyShape"),t=this.get("group"),n=Ta(e,t);n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var r=this.get(Df),i=this.get(Pf)||{},o=i.x,a=i.x;if(r)r.width=Math.max(r.width,n.width),r.height=Math.max(r.height,n.height),"circle"===e.get("type")?(n.width=2*r.r,n.height=2*r.r):(n.width=r.width,n.height=r.height),n.minX=n.centerX-n.width/2,n.minY=n.centerY-n.height/2,n.maxX=n.centerX+n.width/2,n.maxY=n.centerY+n.height/2;else n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;return n.x=n.minX,n.y=n.minY,n.x===o&&n.y===a||this.set(Of,null),n}},t.prototype.getChildren=function(){return{nodes:this.getNodes(),combos:this.getCombos()}},t.prototype.getNodes=function(){return this.get("nodes")},t.prototype.getCombos=function(){return this.get("combos")},t.prototype.addChild=function(e){switch(e.getType()){case"node":this.addNode(e);break;case"combo":this.addCombo(e);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},t.prototype.addCombo=function(e){return this.get("combos").push(e),!0},t.prototype.addNode=function(e){return this.get("nodes").push(e),!0},t.prototype.removeChild=function(e){switch(e.getType()){case"node":this.removeNode(e);break;case"combo":this.removeCombo(e);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},t.prototype.removeCombo=function(e){if(e){var t=this.getCombos(),n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)}},t.prototype.removeNode=function(e){if(e){var t=this.getNodes(),n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)}},t.prototype.getUpdateType=function(e){},t.prototype.getBBox=function(){return this.set(If,null),this.calculateCanvasBBox()},t.prototype.clearCache=function(){this.set(Pf,null),this.set(If,null),this.set(Of,null)},t.prototype.destroy=function(){if(!this.destroyed){var e=this.get("animate"),t=this.get("group");e&&t.stopAnimate(),t.shapeMap={},this.clearCache(),this.set(Df,null),this.set("bbox",null),t.remove(),this._cfg=null,this.destroyed=!0}},t}(Nf),Lf=Rf,jf="node",Bf="edge",Ff="vedge",zf="combo",Yf="Mapper",Gf="stateStyles",Vf=function(){function e(e){var t=this;this.edgeToBeUpdateMap={},this.throttleRefresh=(0,Dr.throttle)((function(e){var n,r=t.graph;if(r&&!r.get("destroyed")){var i=t.edgeToBeUpdateMap;i&&(null===(n=Object.keys(i))||void 0===n?void 0:n.length)&&(Object.keys(i).forEach((function(e){var t=i[e].edge;if(t&&!t.destroyed){var n=t.getSource(),r=t.getTarget();n&&!n.destroyed&&r&&!r.destroyed&&t.refresh(i[e].updateType)}})),t.edgeToBeUpdateMap={})}}),16,{trailing:!0,leading:!0}),this.graph=e,this.destroyed=!1}return e.prototype.addItem=function(e,t){var n=this.graph,r=e===Ff?Bf:e,i=n.get("".concat(r,"Group"))||n.get("group"),o=(0,Dr.upperFirst)(r),a=null,s=n.get(r+(0,Dr.upperFirst)(Gf))||{},u=n.get("default"+o);t.stateStyles&&(s=t.stateStyles),u&&(0,Dr.each)(u,(function(e,n){(0,Dr.isObject)(e)&&!(0,Dr.isArray)(e)?t[n]=(0,Dr.deepMix)({},e,t[n]):(0,Dr.isArray)(e)?t[n]=t[n]||(0,Dr.clone)(u[n]):t[n]=t[n]||u[n]}));var l=n.get(r+Yf);if(l){var c=l(t);c.stateStyles&&(s=c.stateStyles,delete c.stateStyles),(0,Dr.each)(c,(function(e,n){(0,Dr.isObject)(e)&&!(0,Dr.isArray)(e)?t[n]=(0,Dr.deepMix)({},t[n],e):t[n]=c[n]||t[n]}))}if(n.emit("beforeadditem",{type:e,model:t}),e===Bf||e===Ff){var f=void 0,d=void 0;if(f=t.source,d=t.target,f&&(0,Dr.isString)(f)&&(f=n.findById(f)),d&&(0,Dr.isString)(d)&&(d=n.findById(d)),!f||!d)return void console.warn("The source or target node of edge ".concat(t.id," does not exist!"));f.getType&&"combo"===f.getType()&&(t.isComboEdge=!0),d.getType&&"combo"===d.getType()&&(t.isComboEdge=!0),a=new Cf({model:t,source:f,target:d,styles:s,linkCenter:n.get("linkCenter"),group:i.addGroup()})}else if(e===jf)a=new Nf({model:t,styles:s,group:i.addGroup()});else if(e===zf){var h=t.children,p=La(h,n),g=void 0,v=void 0;if(isNaN(p.x)?isNaN(t.x)&&(g=100*Math.random()):g=p.x,isNaN(p.y)?isNaN(t.y)&&(v=100*Math.random()):v=p.y,isNaN(t.x)||isNaN(t.y))t.x=g,t.y=v;else{var m=t.x-g,y=t.y-v;this.updateComboSucceeds(t.id,m,y,h)}var b=i.addGroup();b.setZIndex(t.depth);var x=(a=new Lf({model:t,styles:s,bbox:t.collapsed?La([],n):p,group:b})).getModel();(h||[]).forEach((function(e){var t=n.findById(e.id);a.addChild(t),e.depth=x.depth+2})),t.collapsed&&setTimeout((function(){a.destroyed||n.collapseCombo(a)}),0)}if(a)return n.get("".concat(e,"s")).push(a),n.get("itemMap")[a.get("id")]=a,n.emit("afteradditem",{item:a,model:t}),a},e.prototype.updateItem=function(e,t){var n,r,i=this,o=this.graph;if((0,Dr.isString)(e)&&(e=o.findById(e)),e&&!e.destroyed){var a="";e.getType&&(a=e.getType());var s=o.get(a+Yf),u=e.getModel(),l=u.x,c=u.y,f=e.getUpdateType(t);if(s){var d=s((0,Dr.deepMix)({},u,t)),h=(0,Dr.deepMix)({},u,d,t);d.stateStyles&&(e.set("styles",h.stateStyles),delete h.stateStyles),(0,Dr.each)(h,(function(e,n){t[n]=e}))}else(0,Dr.each)(t,(function(e,n){u[n]&&(0,Dr.isObject)(e)&&!(0,Dr.isArray)(e)&&(t[n]=(0,Ir.__assign)((0,Ir.__assign)({},u[n]),t[n]))}));if(o.emit("beforeupdateitem",{item:e,cfg:t}),a===Bf){if(t.source){var p=t.source;(0,Dr.isString)(p)&&(p=o.findById(p)),e.setSource(p)}if(t.target){var g=t.target;(0,Dr.isString)(g)&&(g=o.findById(g)),e.setTarget(g)}e.update(t)}else if(a===jf){e.update(t,f);var v=e.getEdges(),m=(null===f||void 0===f?void 0:f.includes("bbox"))||"move"===f;"move"===f?(0,Dr.each)(v,(function(e){i.edgeToBeUpdateMap[e.getID()]={edge:e,updateType:f},i.throttleRefresh()})):m&&(0,Dr.each)(v,(function(e){e.refresh(f)}))}else if(a===zf){if(e.update(t,f),!isNaN(t.x)||!isNaN(t.y)){var y=t.x-l||0,b=t.y-c||0;this.updateComboSucceeds(u.id,y,b)}var x=e.getEdges();if((m=(null===f||void 0===f?void 0:f.includes("bbox"))||"move"===f)&&a===zf){var w=e.get("shapeFactory"),E=u.type||"circle";(void 0===u.animate||void 0===t.animate?null===(r=null===(n=w[E])||void 0===n?void 0:n.options)||void 0===r?void 0:r.animate:u.animate||t.animate)?setTimeout((function(){if(e&&!e.destroyed){var t=e.getKeyShape();t&&!t.destroyed&&(0,Dr.each)(x,(function(e){e&&!e.destroyed&&e.refresh()}))}}),201):(0,Dr.each)(x,(function(e){e.refresh()}))}}o.emit("afterupdateitem",{item:e,cfg:t})}},e.prototype.updateCombo=function(e,t,n){var r,i,o=this,a=this.graph;if((0,Dr.isString)(e)&&(e=a.findById(e)),e&&!e.destroyed){var s=e.getModel(),u=La(t,a,e),l=u.x,c=u.y;e.set("bbox",u);var f=l,d=c;n?(f=isNaN(s.x)?l:s.x,d=isNaN(s.y)?c:s.y):(f=isNaN(l)?s.x:l,d=isNaN(c)?s.y:c),e.update({x:f,y:d});var h=e.get("shapeFactory"),p=s.type||"circle";(void 0===s.animate?null===(i=null===(r=h[p])||void 0===r?void 0:r.options)||void 0===i?void 0:i.animate:s.animate)?setTimeout((function(){if(e&&!e.destroyed){var t=e.getKeyShape();t&&!t.destroyed&&(e.getShapeCfg(s),o.updateComboEdges(e))}}),201):this.updateComboEdges(e)}},e.prototype.updateComboEdges=function(e){for(var t=e.getEdges()||[],n=0;n<t.length;n++){var r=t[n];if(r&&!r.destroyed){var i=r.get("shapeFactory"),o=r.getShapeCfg(r.getModel()),a=r.getContainer();a.clear();var s=i.draw(o.type,o,a);r.set("keyShape",s),s.set("isKeyShape",!0),s.set("draggable",!0),r.setOriginStyle()}}},e.prototype.collapseCombo=function(e){var t=this.graph;(0,Dr.isString)(e)&&(e=t.findById(e));var n=e.getChildren();n.nodes.forEach((function(e){t.hideItem(e)})),n.combos.forEach((function(e){t.hideItem(e)}))},e.prototype.updateComboSucceeds=function(e,t,n,r){var i=this;void 0===r&&(r=[]);var o=this.graph;if(t||n){var a=r;if(!(null===a||void 0===a?void 0:a.length)){var s=o.get("comboTrees");null===s||void 0===s||s.forEach((function(t){Na(t,(function(t){return t.id!==e||(a=t.children,!1)}))}))}null===a||void 0===a||a.forEach((function(e){var r=o.findById(e.id);if(r){var a=r.getModel();i.updateItem(e.id,{x:(a.x||0)+t,y:(a.y||0)+n})}}))}},e.prototype.expandCombo=function(e){var t=this.graph;(0,Dr.isString)(e)&&(e=t.findById(e));var n=e.getChildren();n.nodes.forEach((function(e){t.showItem(e)})),n.combos.forEach((function(e){e.getModel().collapsed?e.show():t.showItem(e)}))},e.prototype.removeItem=function(e){var t=this,n=this.graph;if((0,Dr.isString)(e)&&(e=n.findById(e)),e&&!e.destroyed){var r=(0,Dr.clone)(e.getModel());n.emit("beforeremoveitem",{item:r});var i="";e.getType&&(i=e.getType());var o=n.get("".concat(i,"s")),a=o.indexOf(e);if(a>-1&&o.splice(a,1),i===Bf){var s=n.get("v".concat(i,"s")),u=s.indexOf(e);u>-1&&s.splice(u,1)}var l=e.get("id");delete n.get("itemMap")[l];var c=n.get("comboTrees"),f=e.get("id");if(i===jf){var d=e.getModel().comboId;if(c&&d){var h=c,p=!1;c.forEach((function(e){p||Na(e,(function(e){if(e.id===f&&h){var t=h.indexOf(e);return h.splice(t,1),p=!0,!1}return h=e.children,!0}))}))}for(var g=(b=e.getEdges()).length-1;g>=0;g--)n.removeItem(b[g],!1);d&&n.updateCombo(d)}else if(i===zf){var v,m=e.getModel().parentId,y=!1;(c||[]).forEach((function(e){y||Na(e,(function(e){return e.id!==f||(v=e,y=!0,!1)}))})),v.removed=!0,v&&v.children&&v.children.forEach((function(e){t.removeItem(e.id)}));var b;for(g=(b=e.getEdges()).length;g>=0;g--)n.removeItem(b[g],!1);m&&n.updateCombo(m)}e.destroy(),n.emit("afterremoveitem",{item:r,type:i})}},e.prototype.setItemState=function(e,t,n){var r=this.graph,i=t;(0,Dr.isString)(n)&&(i="".concat(t,":").concat(n)),e.hasState(i)===n&&n||(0,Dr.isString)(n)&&e.hasState(i)||(r.emit("beforeitemstatechange",{item:e,state:i,enabled:n}),e.setState(t,n),r.autoPaint(),r.emit("afteritemstatechange",{item:e,state:i,enabled:n}))},e.prototype.priorityState=function(e,t){var n=this.graph,r=e;(0,Dr.isString)(e)&&(r=n.findById(e)),this.setItemState(r,t,!1),this.setItemState(r,t,!0)},e.prototype.clearItemStates=function(e,t){var n=this.graph;(0,Dr.isString)(e)&&(e=n.findById(e)),n.emit("beforeitemstatesclear",{item:e,states:t}),e.clearStates(t),n.emit("afteritemstatesclear",{item:e,states:t})},e.prototype.refreshItem=function(e){var t=this.graph;(0,Dr.isString)(e)&&(e=t.findById(e)),t.emit("beforeitemrefresh",{item:e}),e.refresh(),t.emit("afteritemrefresh",{item:e})},e.prototype.addCombos=function(e,t){var n=this,r=this.graph;(e||[]).forEach((function(e){Pa(e,(function(e){var r;return t.forEach((function(t){t.id===e.id&&(t.children=e.children,t.depth=e.depth,r=t)})),r&&n.addItem("combo",r),!0}))}));var i=r.get("comboGroup");i&&i.sort()},e.prototype.changeItemVisibility=function(e,t){var n=this,r=this.graph;if((0,Dr.isString)(e)&&(e=r.findById(e)),e){if(r.emit("beforeitemvisibilitychange",{item:e,visible:t}),e.changeVisibility(t),e.getType&&e.getType()===jf){var i=e.getEdges();(0,Dr.each)(i,(function(e){(!t||e.get("source").isVisible()&&e.get("target").isVisible())&&n.changeItemVisibility(e,t)}))}else if(e.getType&&e.getType()===zf){var o=r.get("comboTrees"),a=e.get("id"),s=[],u=!1;(o||[]).forEach((function(e){u||e.children&&0!==e.children.length&&Na(e,(function(e){return e.id!==a||(s=e.children,u=!0,!1)}))})),s&&(!t||t&&!e.getModel().collapsed)&&s.forEach((function(e){var i=r.findById(e.id);n.changeItemVisibility(i,t)}));i=e.getEdges();(0,Dr.each)(i,(function(e){(!t||e.get("source").isVisible()&&e.get("target").isVisible())&&n.changeItemVisibility(e,t)}))}return r.emit("afteritemvisibilitychange",{item:e,visible:t}),e}console.warn("The item to be shown or hidden does not exist!")},e.prototype.destroy=function(){this.graph=null,this.destroyed=!0},e}(),Uf=Vf,Wf=null,Zf=function(){function e(e){this.graph=e,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return e.checkCache=function(e,t,n){if(n[t]){var r=n[t].indexOf(e);r>=0&&n[t].splice(r,1)}},e.cacheState=function(e,t,n){n[t]||(n[t]=[]),n[t].push(e)},e.prototype.updateState=function(t,n,r){var i=this,o=e.checkCache,a=e.cacheState;if(!t.destroyed){var s=this.cachedStates,u=s.enabled,l=s.disabled;r?(o(t,n,l),a(t,n,u)):(o(t,n,u),a(t,n,l)),Wf&&clearTimeout(Wf),Wf=setTimeout((function(){Wf=null,i.updateGraphStates()}),16)}},e.prototype.updateStates=function(e,t,n){var r=this;(0,Dr.isString)(t)?this.updateState(e,t,n):t.forEach((function(t){r.updateState(e,t,n)}))},e.prototype.updateGraphStates=function(){var e=this.graph.get("states"),t=this.cachedStates;(0,Dr.each)(t.disabled,(function(t,n){e[n]&&(e[n]=e[n].filter((function(e){return t.indexOf(e)<0&&!t.destroyed})))})),(0,Dr.each)(t.enabled,(function(t,n){if(e[n]){var r={};e[n].forEach((function(e){e.destroyed||(r[e.get("id")]=!0)})),t.forEach((function(t){if(!t.destroyed){var i=t.get("id");r[i]||(r[i]=!0,e[n].push(t))}}))}else e[n]=t})),this.graph.emit("graphstatechange",{states:e}),this.cachedStates={enabled:{},disabled:{}}},e.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Wf&&clearTimeout(Wf),Wf=null,this.destroyed=!0},e}(),Hf=Zf,Xf=function(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,(function(e,n){if("\\"===e.charAt(0))return e.slice(1);var r=t[n];return 0===r&&(r="0"),r||""})):e},Kf=function(e){var t=[];if(e.length<2)throw new Error("point length must largn than 2, now it's ".concat(e.length));for(var n=0,r=e;n<r.length;n++){var i=r[n],o=i.x,a=i.y;t.push(o),t.push(a)}var s=Rc(t);return s.unshift(["M",e[0].x,e[0].y]),s},qf=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i={x:(1-n)*e.x+n*t.x,y:(1-n)*e.y+n*t.y},o=[0,0];_o(o,[t.x-e.x,t.y-e.y]),o&&(o[0]||o[1])||(o=[0,0]);var a=[-o[1]*r,o[0]*r];return i.x+=a[0],i.y+=a[1],i},Jf=function(e,t){var n=e.length;if(!n)return"";for(var r="",i=0;i<n;i++){var o=e[i];r+=Xf(0===i?"M{x} {y}":"L{x} {y}",o)}return t&&(r+="Z"),r},$f=function(e){var t=[];return e.forEach((function(e){if("A"!==e[0])for(var n=1;n<e.length;n+=2)t.push([e[n],e[n+1]]);else{var r=e.length;t.push([e[r-2],e[r-1]])}})),t},Qf=function(e){if(e.length<2)throw new Error("point length must largn than 2, now it's ".concat(e.length));var t=e[0],n=e[1],r=e[e.length-1],i=e[e.length-2];e.unshift(r),e.unshift(i),e.push(t),e.push(n);for(var o=[],a=1;a<e.length-2;a+=1){var s=e[a-1].x,u=e[a-1].y,l=e[a].x,c=e[a].y,f=e[a+1].x,d=e[a+1].y,h=l+(f-s)/6,p=c+(d-u)/6,g=f-((a!==e.length-2?e[a+2].x:f)-l)/6,v=d-((a!==e.length-2?e[a+2].y:d)-c)/6;o.push(["C",h,p,g,v,f,d])}return o.unshift(["M",r.x,r.y]),o},ed=function(e,t){return Eo([0,0],_o([0,0],e),t)},td=function(e,t){var n=[e[1]-t[1],t[0]-e[0]],r=Math.sqrt(n[0]*n[0]+n[1]*n[1]);if(0===r)throw new Error("p0 should not be equal to p1");return[n[0]/r,n[1]/r]},nd=function(e,t){return[t[0]-e[0],t[1]-e[1]]};function rd(e,t){if(!e||e.length<1)return"";if(1===e.length)return function(e){var n=[e[0][0],e[0][1]-t],r=[e[0][0],e[0][1]+t];return"M ".concat(n," A ").concat(t,",").concat(t,",0,0,0,").concat(r," A ").concat(t,",").concat(t,",0,0,0,").concat(n)}(e);if(2===e.length)return function(e){var n=Eo([0,0],td(e[0],e[1]),t),r=Eo([0,0],n,-1),i=bo([0,0],e[0],n),o=bo([0,0],e[1],n),a=bo([0,0],e[1],r),s=bo([0,0],e[0],r);return"M ".concat(i," L ").concat(o," A ").concat([t,t,"0,0,0",a].join(",")," L ").concat(s," A ").concat([t,t,"0,0,0",i].join(","))}(e);for(var n=new Array(e.length),r=0;r<n.length;++r){var i=0===r?e[e.length-1]:e[r-1],o=e[r],a=Eo([0,0],td(i,o),t);n[r]=[bo([0,0],i,a),bo([0,0],o,a)]}var s="A ".concat([t,t,"0,0,0,"].join(","));return n=n.map((function(e,t){var r="";return 0===t&&(r="M ".concat(n[n.length-1][1]," ")),r+="".concat(s+e[0]," L ").concat(e[1])})),n.join(" ")}function id(e,t){var n=e.length;if(!e||n<1)return"";if(1===n)return function(e){var n=[e[0][0],e[0][1]-t],r=[e[0][0],e[0][1]+t];return"M ".concat(n," A ").concat([t,t,"0,0,0",r].join(",")," A ").concat([t,t,"0,0,0",n].join(","))}(e);if(2===n)return function(e){var n=nd(e[0],e[1]),r=ed(n,t),i=bo([0,0],e[0],Eo([0,0],r,-1)),o=bo([0,0],e[1],r),a=1.2*t,s=ed(_o([0,0],n),a),u=Eo([0,0],s,-1),l=bo([0,0],i,u),c=bo([0,0],o,u),f=bo([0,0],i,s);return"M ".concat(i," C ").concat([l,c,o].join(",")," S ").concat([f,i].join(",")," Z")}(e);for(var r=e.map((function(t,r){var i=e[(r+1)%n];return{p:t,v:_o([0,0],nd(t,i))}})),i=0;i<r.length;++i){var o=_o([0,0],bo([0,0],r[i>0?i-1:n-1].v,Eo([0,0],r[i].v,-1)));r[i].p=bo([0,0],r[i].p,Eo([0,0],o,t))}return r.map((function(e){var t=e.p;return{x:t[0],y:t[1]}}))}var od=function(e,t,n){return(e.y-n.y)*(t.x-n.x)-(e.x-n.x)*(t.y-n.y)},ad=function(e){var t=e.map((function(e){return{x:e.getModel().x,y:e.getModel().y}}));if(t.sort((function(e,t){return e.x===t.x?e.y-t.y:e.x-t.x})),1===t.length)return t;for(var n=[],r=0;r<t.length;r++){for(;n.length>=2&&od(n[n.length-2],n[n.length-1],t[r])<=0;)n.pop();n.push(t[r])}var i=[];for(r=t.length-1;r>=0;r--){for(;i.length>=2&&od(i[i.length-2],i[i.length-1],t[r])<=0;)i.pop();i.push(t[r])}return i.pop(),n.pop(),n.concat(i)},sd={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function ud(e,t,n){var r=!1,i=function(e,n){return t.cells[e+n*t.width]},o=function(e,t){var r=0;return i(e-1,t-1)>=n&&(r+=1),i(e,t-1)>n&&(r+=2),i(e-1,t)>n&&(r+=4),i(e,t)>n&&(r+=8),r},a=function(n,r){for(var i,a,s=n,u=r,l=0;l<t.width*t.height;l++){if(i=s,a=u,e.findIndex((function(e){return e.x===s&&e.y===u}))>-1){if(e[0].x===s&&e[0].y===u)return!0}else e.push({x:s,y:u});var c=o(s,u);switch(c){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:s++;break;case 12:case 14:case 4:s--;break;case 6:0===i&&(-1===a?s-=1:s+=1);break;case 1:case 13:case 5:u--;break;case 9:1===i&&(0===a?u-=1:u+=1);break;case 10:case 8:case 11:u++;break;default:return console.warn("Marching squares invalid state: ".concat(c)),!0}}};this.march=function(){for(var e=0;e<t.width&&!r;e+=1)for(var s=0;s<t.height&&!r;s+=1)i(e,s)>n&&15!==o(e,s)&&(r=a(e,s));return r}}var ld=function(e,t){var n=Number.POSITIVE_INFINITY,r=null;return e.forEach((function(e){var i=ta(e,t);i>=0&&i<n&&(r=e,n=i)})),r};function cd(e,t,n,r,i){var o=function(e,t,n){var r=null,i=Number.POSITIVE_INFINITY;return t.forEach((function(t){var o={x:e.getModel().x,y:e.getModel().y},a={x:t.getModel().x,y:t.getModel().y},s=ra(o,a),u=new Jo(o.x,o.y,a.x,a.y),l=n.reduce((function(e,t){return ta(t,u)>0?e+1:e}),0);s*Math.pow(l+1,2)<i&&(r=t,i=s*Math.pow(l+1,2))})),r}(e,n,t);if(null===o)return[];var a=function(e,t,n,r){var i=[],o=[];o.push(e);for(var a=!0,s=0,u=function(e,t){var n=!1;return t.forEach((function(t){n||(oa(e,{x:t.x1,y:t.y1})||oa(e,{x:t.x2,y:t.y2}))&&(n=!0)})),n},l=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n].getBBox(),o=[[i.x,i.y],[i.x+i.width,i.y],[i.x,i.y+i.height],[i.x+i.width,i.y+i.height]];if(Xo(o,e.x,e.y))return!0}return!1};a&&s<n;){a=!1;for(var c=function(){var e=o.pop(),n=ld(t,e);if(n){var c=ea(n,e),f=c[0];if(2===c[1]){var d=function(s){for(var c=r,d=hd(n,c,f,s),h=u(d,o)||u(d,i),p=l(d,t);!h&&p&&c>=1;)d=hd(n,c/=1.5,f,s),h=u(d,o)||u(d,i),p=l(d,t);!d||h||s&&p||(o.push(new Jo(e.x1,e.y1,d.x,d.y)),o.push(new Jo(d.x,d.y,e.x2,e.y2)),a=!0)};d(!0),a||d(!1)}}a||i.push(e),s+=1};!a&&o.length;)c()}for(;o.length;)i.push(o.pop());return i}(new Jo(e.getModel().x,e.getModel().y,o.getModel().x,o.getModel().y),t,r,i),s=function(e){for(var n=[];e.length>0;){var r=e.pop();if(0===e.length){n.push(r);break}var i=e.pop(),o=new Jo(r.x1,r.y1,i.x2,i.y2);ld(t,o)?(n.push(r),e.push(i)):e.push(o)}return n}(a);return s}var fd=function(e,t,n){var r=Object.assign(sd,n),i=na(e.map((function(e){return{x:e.getModel().x,y:e.getModel().y}})));e=e.sort((function(e,t){return ra({x:e.getModel().x,y:e.getModel().y},i)-ra({x:t.getModel().x,y:t.getModel().y},i)}));var o=[],a=[];e.forEach((function(e){cd(e,t,o,r.maxRoutingIterations,r.morphBuffer).forEach((function(e){a.push(e)})),o.push(e)}));for(var s=function(e,t,n){var r={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},i=[];e.forEach((function(e){i.push(e.getBBox())})),t.forEach((function(e){i.push(e.getBBox())}));for(var o=0,a=i;o<a.length;o++){var s=a[o];r.minX=(s.minX<r.minX?s.minX:r.minX)-n,r.minY=(s.minY<r.minY?s.minY:r.minY)-n,r.maxX=(s.maxX>r.maxX?s.maxX:r.maxX)+n,r.maxY=(s.maxY>r.maxY?s.maxY:r.maxY)+n}return r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.x=r.minX,r.y=r.minY,r}(e,a,r.nodeR0),u=function(e,t,n){var r=Math.ceil(e/n),i=Math.ceil(t/n);return{cells:new Float32Array(Math.max(0,r*i)).fill(0),width:r,height:i}}(s.width,s.height,r.pixelGroupSize),l=[],c=[],f=0;f<r.maxMarchingIterations;f++)if(dd(e,t,a,s,u,r),c=[],new ud(l=[],u,r.threshold).march()){var d=l.map((function(e){return{x:Math.round(e.x*r.pixelGroupSize+s.minX),y:Math.round(e.y*r.pixelGroupSize+s.minY)}}));if(d){var h=d.length;if(r.skip>1)for(h=Math.floor(d.length/r.skip);h<3&&r.skip>1;)r.skip-=1,h=Math.floor(d.length/r.skip);for(var p=0,g=0;g<h;g+=1,p+=r.skip)c.push({x:d[p].x,y:d[p].y})}if(c&&function(){for(var t=0,n=e;t<n.length;t++){var r=n[t],i=c.map((function(e){return[e.x,e.y]}));if(!Xo(i,r.getBBox().centerX,r.getBBox().centerY))return!1}return!0}())return c;if(r.threshold*=.9,f<=.5*r.maxMarchingIterations)r.memberInfluenceFactor*=1.2,r.edgeInfluenceFactor*=1.2;else{if(!(0!==r.nonMemberInfluenceFactor&&t.length>0))break;r.nonMemberInfluenceFactor*=.8}}return c};function dd(e,t,n,r,i,o){function a(e,t){var n=Math.floor((e-t)/o.pixelGroupSize);return n<0?0:n}function s(e,t){return e*o.pixelGroupSize+t}var u=(o.nodeR0-o.nodeR1)*(o.nodeR0-o.nodeR1),l=(o.edgeR0-o.edgeR1)*(o.edgeR0-o.edgeR1),c=function(e,t){return[Math.min(a(e.minX,t+r.minX),i.width),Math.min(a(e.minY,t+r.minY),i.height),Math.min(a(e.maxX,-t+r.minX),i.width),Math.min(a(e.maxY,-t+r.minY),i.height)]},f=function(e,t){for(var n=e.getBBox(),a=c(n,o.nodeR1),u=a[0],l=a[1],f=a[2],d=a[3],h=l;h<d;h+=1)for(var p=u;p<f;p+=1)if(!(t<0&&i[p+h*i.width]<=0)){var g=s(p,r.minX),v=s(h,r.minY),m=aa({x:g,y:v},{x:n.minX,y:n.minY,width:n.width,height:n.height});if(m<Math.pow(o.nodeR1,2)){var y=Math.sqrt(m)-o.nodeR1;i.cells[p+h*i.width]+=t*y*y}}};o.nodeInfluenceFactor&&e.forEach((function(e){f(e,o.nodeInfluenceFactor/u)})),o.edgeInfluenceFactor&&n.forEach((function(e){!function(e,t){for(var n=e.getBBox(),a=c(n,o.edgeR1),u=a[0],l=a[1],f=a[2],d=a[3],h=l;h<d;h+=1)for(var p=u;p<f;p+=1)if(!(t<0&&i.cells[p+h*i.width]<=0)){var g=s(p,r.minX),v=s(h,r.minY),m=ia({x:g,y:v},e);if(m<Math.pow(o.edgeR1,2)){var y=Math.sqrt(m)-o.edgeR1;i.cells[p+h*i.width]+=t*y*y}}}(e,o.edgeInfluenceFactor/l)})),o.negativeNodeInfluenceFactor&&t.forEach((function(e){f(e,o.negativeNodeInfluenceFactor/u)}))}function hd(e,t,n,r){var i=e.getBBox(),o=n[0],a=n[1],s=n[2],u=n[3],l={topLeft:{x:i.minX-t,y:i.minY-t},topRight:{x:i.maxX+t,y:i.minY-t},bottomLeft:{x:i.minX-t,y:i.maxY+t},bottomRight:{x:i.maxX+t,y:i.maxY+t}},c=i.height*i.width;function f(e,t){return i.width*(.5*(e.y-i.minY+(t.y-i.minY)))}if(a)return o?r?l.topLeft:l.bottomRight:s?r?l.bottomLeft:l.topRight:f(a,u)<.5*c?a.y>u.y?r?l.topLeft:l.bottomRight:r?l.topRight:l.bottomLeft:a.y<u.y?r?l.bottomLeft:l.topRight:r?l.bottomRight:l.topLeft;if(u){if(o)return r?l.topRight:l.bottomLeft;if(s)return r?l.bottomRight:l.topLeft}return f(o,s)<.5*c?o.x>s.x?r?l.topLeft:l.bottomRight:r?l.bottomLeft:l.topRight:o.x<s.x?r?l.topRight:l.bottomLeft:r?l.bottomRight:l.topLeft}var pd=function(){function e(e,t){this.cfg=(0,Dr.deepMix)(this.getDefaultCfg(),t),this.graph=e,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map((function(t){return(0,Dr.isString)(t)?e.findById(t):t})),this.nonMembers=this.cfg.nonMembers.map((function(t){return(0,Dr.isString)(t)?e.findById(t):t})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return e.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},e.prototype.setPadding=function(){var e=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+e:10+e,this.cfg.bubbleCfg={nodeR0:this.padding-e,nodeR1:this.padding-e,morphBuffer:this.padding-e}},e.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),"round-convex"!==this.type&&"smooth-convex"!==this.type&&"bubble"!==this.type&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},e.prototype.calcPath=function(e,t){var n,r,i;switch(this.type){case"round-convex":i=rd((n=ad(e)).map((function(e){return[e.x,e.y]})),this.padding),r=Bc(i);break;case"smooth-convex":2===(n=ad(e)).length?(i=rd(n.map((function(e){return[e.x,e.y]})),this.padding),r=Bc(i)):n.length>2&&(i=id(n.map((function(e){return[e.x,e.y]})),this.padding),r=Qf(i));break;case"bubble":r=(n=fd(e,t,this.cfg.bubbleCfg)).length>=2&&Qf(n)}return r},e.prototype.render=function(){this.group.addShape("path",{attrs:(0,Ir.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id,capture:!1}),this.group.toBack()},e.prototype.addMember=function(e){if(e){(0,Dr.isString)(e)&&(e=this.graph.findById(e)),this.members.push(e);var t=this.nonMembers.indexOf(e);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},e.prototype.addNonMember=function(e){if(e){(0,Dr.isString)(e)&&(e=this.graph.findById(e)),this.nonMembers.push(e);var t=this.members.indexOf(e);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},e.prototype.removeMember=function(e){if(e){(0,Dr.isString)(e)&&(e=this.graph.findById(e));var t=this.members.indexOf(e);return t>-1&&(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0)}},e.prototype.removeNonMember=function(e){if(e){(0,Dr.isString)(e)&&(e=this.graph.findById(e));var t=this.nonMembers.indexOf(e);return t>-1&&(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0)}},e.prototype.updateData=function(e,t){var n=this;this.group.findById(this.id).remove(),e&&(this.members=e.map((function(e){return(0,Dr.isString)(e)?n.graph.findById(e):e}))),t&&(this.nonMembers=t.map((function(e){return(0,Dr.isString)(e)?n.graph.findById(e):e}))),this.path=this.calcPath(this.members,this.nonMembers),this.render()},e.prototype.updateStyle=function(e){this.group.findById(this.id).attr((0,Ir.__assign)({},e))},e.prototype.updateCfg=function(e){var t=this;this.cfg=(0,Dr.deepMix)(this.cfg,e),this.id=this.cfg.id,this.group=this.cfg.group,e.members&&(this.members=this.cfg.members.map((function(e){return(0,Dr.isString)(e)?t.graph.findById(e):e}))),e.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map((function(e){return(0,Dr.isString)(e)?t.graph.findById(e):e}))),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},e.prototype.contain=function(e){var t,n,r=this,i=(t=(0,Dr.isString)(e)?this.graph.findById(e):e).getKeyShape();if("path"===t.get("type"))n=$f(i.attr("path"));else{var o=i.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map((function(e){var t=r.graph.getPointByCanvas(e[0],e[1]);return[t.x,t.y]})),qo(n,$f(this.path))},e.prototype.destroy=function(){this.group.remove(),this.cfg=null},e}(),gd=pd,vd=Wr,md=function(e){function t(t){var n=e.call(this)||this;return n.cfg=(0,Dr.deepMix)(n.getDefaultCfg(),t),n.init(),n.animating=!1,n.destroyed=!1,n.cfg.enabledStack&&(n.undoStack=new po(n.cfg.maxStep),n.redoStack=new po(n.cfg.maxStep)),n}return(0,Ir.__extends)(t,e),t.prototype.init=function(){this.initCanvas();var e=new af(this),t=new Ya(this),n=new Uf(this),r=new Hf(this);this.set({viewController:e,modeController:t,itemController:n,stateController:r}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},t.prototype.initGroups=function(){var e=this.get("canvas");if(e){var t=(e.get("el")||{}).id,n=void 0===t?"g6":t,r=e.addGroup({id:"".concat(n,"-root"),className:ya.rootContainerClassName});if(this.get("groupByTypes")){var i=r.addGroup({id:"".concat(n,"-edge"),className:ya.edgeContainerClassName}),o=r.addGroup({id:"".concat(n,"-node"),className:ya.nodeContainerClassName}),a=r.addGroup({id:"".concat(n,"-combo"),className:ya.comboContainerClassName});a.toBack(),this.set({nodeGroup:o,edgeGroup:i,comboGroup:a})}var s=r.addGroup({id:"".concat(n,"-delegate"),className:ya.delegateContainerClassName});this.set({delegateGroup:s}),this.set("group",r)}},t.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[]}},t.prototype.set=function(e,t){return(0,Dr.isPlainObject)(e)?this.cfg=(0,Ir.__assign)((0,Ir.__assign)({},this.cfg),e):this.cfg[e]=t,"enabledStack"!==e||!t||this.undoStack||this.redoStack||(this.undoStack=new po(this.cfg.maxStep),this.redoStack=new po(this.cfg.maxStep)),this},t.prototype.get=function(e){var t;return null===(t=this.cfg)||void 0===t?void 0:t[e]},t.prototype.getGroup=function(){return this.get("group")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.getMinZoom=function(){return this.get("minZoom")},t.prototype.setMinZoom=function(e){return this.set("minZoom",e)},t.prototype.getMaxZoom=function(){return this.get("maxZoom")},t.prototype.setMaxZoom=function(e){return this.set("maxZoom",e)},t.prototype.getWidth=function(){return this.get("width")},t.prototype.getHeight=function(){return this.get("height")},t.prototype.clearItemStates=function(e,t){(0,Dr.isString)(e)&&(e=this.findById(e));var n=this.get("itemController");t||(t=e.get("states")),n.clearItemStates(e,t),this.get("stateController").updateStates(e,t,!1)},t.prototype.node=function(e){"function"===typeof e&&this.set("nodeMapper",e)},t.prototype.edge=function(e){"function"===typeof e&&this.set("edgeMapper",e)},t.prototype.combo=function(e){"function"===typeof e&&this.set("comboMapper",e)},t.prototype.findById=function(e){return this.get("itemMap")[e]},t.prototype.find=function(e,t){var n,r=this.get("".concat(e,"s"));return(0,Dr.each)(r,(function(e,r){if(t(e,r))return n=e})),n},t.prototype.findAll=function(e,t){var n=[];return(0,Dr.each)(this.get("".concat(e,"s")),(function(e,r){t(e,r)&&n.push(e)})),n},t.prototype.findAllByState=function(e,t){return this.findAll(e,(function(e){return e.hasState(t)}))},t.prototype.getAnimateCfgWithCallback=function(e){var t,n=e.animateCfg,r=e.callback;if(n)if(t=(0,Dr.clone)(n),n.callback){var i=n.callback;t.callback=function(){r(),i()}}else t.callback=r;else t={duration:500,callback:r};return t},t.prototype.translate=function(e,t,n,r){var i=this,o=this.get("group"),a=(0,Dr.clone)(o.getMatrix());if(a||(a=[1,0,0,0,1,0,0,0,1]),n){var s=this.getAnimateCfgWithCallback({animateCfg:r,callback:function(){return i.emit("viewportchange",{action:"translate",matrix:o.getMatrix()})}});Vo(o,{x:o.getCanvasBBox().x+e,y:o.getCanvasBBox().y+t},n,s||{duration:500,easing:"easeCubic"})}else a=vd(a,[["t",e,t]]),o.setMatrix(a),this.emit("viewportchange",{action:"translate",matrix:a}),this.autoPaint()},t.prototype.moveTo=function(e,t,n,r){var i=this.get("group");Vo(i,{x:e,y:t},n,r||{duration:500,easing:"easeCubic"}),this.emit("viewportchange",{action:"move",matrix:i.getMatrix()})},t.prototype.fitView=function(e,t){e&&this.set("fitViewPadding",e);var n=this.get("viewController");t?n.fitViewByRules(t):n.fitView(),this.autoPaint()},t.prototype.fitCenter=function(){this.get("viewController").fitCenter(),this.autoPaint()},t.prototype.addBehaviors=function(e,t){return this.get("modeController").manipulateBehaviors(e,t,!0),this},t.prototype.removeBehaviors=function(e,t){return this.get("modeController").manipulateBehaviors(e,t,!1),this},t.prototype.updateBehavior=function(e,t,n){return this.get("modeController").updateBehavior(e,t,n),this},t.prototype.zoom=function(e,t,n,r){var i=this,o=this.get("group"),a=(0,Dr.clone)(o.getMatrix()),s=this.get("minZoom"),u=this.get("maxZoom");if(a||(a=[1,0,0,0,1,0,0,0,1]),a=vd(a,t?[["t",-t.x,-t.y],["s",e,e],["t",t.x,t.y]]:[["s",e,e]]),s&&a[0]<s||u&&a[0]>u)return!1;if(n){var l=(0,Dr.clone)(o.getMatrix());l||(l=[1,0,0,0,1,0,0,0,1]);var c=l[0],f=c*e,d=this.getAnimateCfgWithCallback({animateCfg:r,callback:function(){return i.emit("viewportchange",{action:"zoom",matrix:o.getMatrix()})}});o.animate((function(e){if(1===e)l=a;else{var n=ua(c,f,e)/l[0];l=vd(l,t?[["t",-t.x,-t.y],["s",n,n],["t",t.x,t.y]]:[["s",n,n]])}return{matrix:l}}),d)}else o.setMatrix(a),this.emit("viewportchange",{action:"zoom",matrix:a}),this.autoPaint();return!0},t.prototype.zoomTo=function(e,t,n,r){var i=e/this.getZoom();return this.zoom(i,t,n,r)},t.prototype.focusItem=function(e,t,n){var r=this.get("viewController"),i=!1;t?i=!0:void 0===t&&(i=this.get("animate"));var o={};n?o=n:void 0===n&&(o=this.get("animateCfg")),r.focus(e,i,o),this.autoPaint()},t.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},t.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},t.prototype.getPointByClient=function(e,t){return this.get("viewController").getPointByClient(e,t)},t.prototype.getClientByPoint=function(e,t){return this.get("viewController").getClientByPoint(e,t)},t.prototype.getPointByCanvas=function(e,t){return this.get("viewController").getPointByCanvas(e,t)},t.prototype.getCanvasByPoint=function(e,t){return this.get("viewController").getCanvasByPoint(e,t)},t.prototype.getGraphCenterPoint=function(){var e=this.get("group").getCanvasBBox();return{x:(e.minX+e.maxX)/2,y:(e.minY+e.maxY)/2}},t.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},t.prototype.showItem=function(e,t){void 0===t&&(t=!0);var n=this.get("itemController").changeItemVisibility(e,!0);if(t&&this.get("enabledStack")){var r=n.getID(),i={},o={};switch(n.getType()){case"node":i.nodes=[{id:r,visible:!1}],o.nodes=[{id:r,visible:!0}];break;case"edge":i.nodes=[{id:r,visible:!1}],o.edges=[{id:r,visible:!0}];break;case"combo":i.nodes=[{id:r,visible:!1}],o.combos=[{id:r,visible:!0}]}this.pushStack("visible",{before:i,after:o})}},t.prototype.hideItem=function(e,t){void 0===t&&(t=!0);var n=this.get("itemController").changeItemVisibility(e,!1);if(t&&this.get("enabledStack")){var r=n.getID(),i={},o={};switch(n.getType()){case"node":i.nodes=[{id:r,visible:!0}],o.nodes=[{id:r,visible:!1}];break;case"edge":i.nodes=[{id:r,visible:!0}],o.edges=[{id:r,visible:!1}];break;case"combo":i.nodes=[{id:r,visible:!0}],o.combos=[{id:r,visible:!1}]}this.pushStack("visible",{before:i,after:o})}},t.prototype.refreshItem=function(e){this.get("itemController").refreshItem(e)},t.prototype.setAutoPaint=function(e){this.set("autoPaint",e),this.get("canvas").set("autoDraw",e)},t.prototype.remove=function(e,t){void 0===t&&(t=!0),this.removeItem(e,t)},t.prototype.removeItem=function(e,t){void 0===t&&(t=!0);var n=e;if((0,Dr.isString)(e)&&(n=this.findById(e)),!n&&(0,Dr.isString)(e))console.warn("The item ".concat(e," to be removed does not exist!"));else if(n){var r="";if(n.getType&&(r=n.getType()),t&&this.get("enabledStack")){var i=(0,Ir.__assign)((0,Ir.__assign)({},n.getModel()),{itemType:r}),o={};switch(r){case"node":o.nodes=[i],o.edges=[];for(var a=n.getEdges(),s=a.length-1;s>=0;s--)o.edges.push((0,Ir.__assign)((0,Ir.__assign)({},a[s].getModel()),{itemType:"edge"}));break;case"edge":o.edges=[i];break;case"combo":o.combos=[i]}this.pushStack("delete",{before:o,after:{}})}if("node"===r)n.getModel().comboId&&this.updateComboTree(n,void 0,!1);if(this.get("itemController").removeItem(n),"combo"===r){var u=Ra(this.get("comboTrees"));this.set("comboTrees",u)}}},t.prototype.addItem=function(e,t,n,r){void 0===n&&(n=!0),void 0===r&&(r=!0);var i=this.get("comboSorted");this.set("comboSorted",i&&!r);var o=this.get("itemController");if(!function(e,t){if("node"===e||"combo"===e){if(t.id&&!(0,Dr.isString)(t.id))return console.warn("G6 Warning Tips: missing 'id' property, or the 'id' %c".concat(t.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1}else if("edge"===e&&(!t.source||!t.target))return console.warn("G6 Warning Tips: missing 'source' or 'target' for the edge."),!1;return!0}(e,t))return!1;if(!t.id||!this.findById(t.id)){var a,s=this.get("comboTrees")||[];if("combo"===e){var u=this.get("itemMap"),l=!1;if(s.forEach((function(n){l||Pa(n,(function(n){if(t.parentId===n.id){l=!0;var r=(0,Ir.__assign)({id:t.id,depth:n.depth+2},t);n.children?n.children.push(r):n.children=[r],t.depth=r.depth,a=o.addItem(e,t)}var i=u[n.id];return l&&i&&i.getType&&"combo"===i.getType()&&o.updateCombo(i,n.children),!0}))})),!l){var c=(0,Ir.__assign)({id:t.id,depth:0},t);t.depth=c.depth,s.push(c),a=o.addItem(e,t)}this.set("comboTrees",s)}else if("node"===e&&(0,Dr.isString)(t.comboId)&&s){var f;(f=this.findById(t.comboId))&&f.getType&&"combo"!==f.getType()&&console.warn("'".concat(t.comboId,"' is not a id of a combo in the graph, the node will be added without combo.")),a=o.addItem(e,t);var d=this.get("itemMap"),h=!1,p=!1;s.forEach((function(e){p||h||Pa(e,(function(e){if(e.id===t.id)return p=!0,!1;if(t.comboId===e.id&&!p){h=!0;var n=(0,Dr.clone)(t);n.itemType="node",e.children?e.children.push(n):e.children=[n],n.depth=e.depth+1}return h&&d[e.id].getType&&"combo"===d[e.id].getType()&&o.updateCombo(d[e.id],e.children),!0}))}))}else a=o.addItem(e,t);if("node"===e&&t.comboId||"combo"===e&&t.parentId)(f=this.findById(t.comboId||t.parentId))&&f.getType&&"combo"===f.getType()&&f.addChild(a);var g=this.get("combos");if(g&&g.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var v=(0,Ir.__assign)((0,Ir.__assign)({},a.getModel()),{itemType:e}),m={};switch(e){case"node":m.nodes=[v];break;case"edge":m.edges=[v];break;case"combo":m.combos=[v]}this.pushStack("add",{before:{},after:m})}return a}console.warn("This item exists already. Be sure the id %c".concat(t.id,"%c is unique."),"font-size: 20px; color: red;","")},t.prototype.add=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=!0),this.addItem(e,t,n,r)},t.prototype.updateItem=function(e,t,n){var r=this;void 0===n&&(n=!0);var i,o=this.get("itemController");i=(0,Dr.isString)(e)?this.findById(e):e;var a=(0,Dr.clone)(i.getModel()),s="";i.getType&&(s=i.getType());var u=(0,Ir.__spreadArray)([],i.getStates(),!0);if("combo"===s&&(0,Dr.each)(u,(function(e){return r.setItemState(i,e,!1)})),o.updateItem(i,t),"combo"===s&&(0,Dr.each)(u,(function(e){return r.setItemState(i,e,!0)})),n&&this.get("enabledStack")){var l={nodes:[],edges:[],combos:[]},c={nodes:[],edges:[],combos:[]},f=(0,Ir.__assign)({id:a.id},t);switch(s){case"node":l.nodes.push(a),c.nodes.push(f);break;case"edge":l.edges.push(a),c.edges.push(f);break;case"combo":l.combos.push(a),c.combos.push(f)}"node"===s&&l.nodes.push(a),this.pushStack("update",{before:l,after:c})}},t.prototype.update=function(e,t,n){void 0===n&&(n=!0),this.updateItem(e,t,n)},t.prototype.setItemState=function(e,t,n){(0,Dr.isString)(e)&&(e=this.findById(e)),this.get("itemController").setItemState(e,t,n);var r=this.get("stateController");(0,Dr.isString)(n)?r.updateState(e,"".concat(t,":").concat(n),!0):r.updateState(e,t,n)},t.prototype.priorityState=function(e,t){this.get("itemController").priorityState(e,t)},t.prototype.data=function(e){Fa(e),this.set("data",e)},t.prototype.render=function(){var e=this;this.set("comboSorted",!1);var t=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!t)throw new Error("data must be defined first");var n=t.nodes,r=void 0===n?[]:n,i=t.edges,o=void 0===i?[]:i,a=t.combos,s=void 0===a?[]:a;if(this.clear(!0),this.emit("beforerender"),(0,Dr.each)(r,(function(t){e.add("node",t,!1,!1)})),0!==(null===s||void 0===s?void 0:s.length)){var u=Oa(s,r);this.set("comboTrees",u),e.addCombos(s)}(0,Dr.each)(o,(function(t){e.add("edge",t,!1,!1)}));var l=e.get("animate");(e.get("fitView")||e.get("fitCenter"))&&e.set("animate",!1);var c=e.get("layoutController");if(c){if(c.layout((function(){e.get("fitView")?e.fitView():e.get("fitCenter")&&e.fitCenter();e.autoPaint(),e.emit("afterrender"),(e.get("fitView")||e.get("fitCenter"))&&e.set("animate",l)})),this.destroyed)return}else e.get("fitView")&&e.fitView(),e.get("fitCenter")&&e.fitCenter(),e.emit("afterrender"),e.set("animate",l);this.get("groupByTypes")||(s&&0!==s.length?this.sortCombos():t.nodes&&t.edges&&t.nodes.length<t.edges.length?this.getNodes().forEach((function(e){e.toFront()})):this.getEdges().forEach((function(e){e.toBack()})));this.get("enabledStack")&&this.pushStack("render")},t.prototype.read=function(e){this.data(e),this.render()},t.prototype.diffItems=function(e,t,n){var r,i=this,o=this.get("itemMap");(0,Dr.each)(n,(function(n){if(r=o[n.id]){if(i.get("animate")&&"node"===e){var a=r.getContainer().getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),r.set("originAttrs",{x:a[6],y:a[7]})}i.updateItem(r,n,!1)}else r=i.addItem(e,n,!1);r&&t["".concat(e,"s")].push(r)}))},t.prototype.changeData=function(e,t){void 0===t&&(t=!0);var n=this,r=e||n.get("data");if(!Fa(r))return this;t&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.save(),after:r}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map((function(e){return n.clearItemStates(e)})),this.getEdges().map((function(e){return n.clearItemStates(e)}));var i=this.get("canvas"),o=i.get("localRefresh");i.set("localRefresh",!1),n.get("data")||(n.data(r),n.render());var a=this.get("itemMap"),s={nodes:[],edges:[]},u=r.combos;if(u){var l=Oa(u,r.nodes);this.set("comboTrees",l)}else this.set("comboTrees",[]);this.diffItems("node",s,r.nodes),(0,Dr.each)(a,(function(e,t){a[t].getModel().depth=0,e.getType&&"edge"===e.getType()||(e.getType&&"combo"===e.getType()?(delete a[t],e.destroy()):s.nodes.indexOf(e)<0&&(delete a[t],n.remove(e,!1)))}));for(var c=this.getCombos(),f=c.length-1;f>=0;f--)c[f].destroyed&&c.splice(f,1);u&&(n.addCombos(u),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",s,r.edges),(0,Dr.each)(a,(function(e,t){(!e.getType||"node"!==e.getType()&&"combo"!==e.getType())&&s.edges.indexOf(e)<0&&(delete a[t],n.remove(e,!1))})),this.set({nodes:s.nodes,edges:s.edges});var d=this.get("layoutController");return d&&(d.changeData(),n.get("animate")&&!d.getLayoutType()?n.positionsAnimate():n.autoPaint()),setTimeout((function(){i.set("localRefresh",o)}),16),this},t.prototype.addCombos=function(e){var t=this.get("comboTrees");this.get("itemController").addCombos(t,e)},t.prototype.createCombo=function(e,t){var n=this;this.set("comboSorted",!1);var r,i="";if(e){if((0,Dr.isString)(e))i=e,r={id:e};else{if(!(i=e.id))return void console.warn("Create combo failed. Please assign a unique string id for the adding combo.");r=e}var o=t.map((function(e){var t=n.findById(e),r=t.getModel(),o="";t.getType&&(o=t.getType());var a={id:t.getID(),itemType:o};return"combo"===o?(a.parentId=i,r.parentId=i):"node"===o&&(a.comboId=i,r.comboId=i),a}));r.children=o,this.addItem("combo",r,!1),this.set("comboSorted",!1);var a=this.get("comboTrees");(a||[]).forEach((function(e){Pa(e,(function(e){return e.id!==i||(e.itemType="combo",e.children=o,!1)}))})),a&&this.sortCombos()}},t.prototype.uncombo=function(e){var t,n=this,r=e;if((0,Dr.isString)(e)&&(r=this.findById(e)),!r||r.getType&&"combo"!==r.getType())console.warn("The item is not a combo!");else{var i=r.getModel().parentId,o=this.get("comboTrees");o||(o=[]);var a,s=this.get("itemMap"),u=r.get("id"),l=[],c=this.get("combos"),f=this.findById(i);if(o.forEach((function(e){a||Pa(e,(function(e){var t;if(e.id===u){a=e;var o=r.getEdges().map((function(e){return e.getID()}));o.forEach((function(e){n.removeItem(e,!1)}));var d=c.indexOf(r);c.splice(d,1),delete s[u],r.destroy(),n.emit("afterremoveitem",{item:r,type:"combo"})}return!i||!a||e.id!==i||(f.removeCombo(r),-1!==(d=(l=e.children).indexOf(a))&&l.splice(d,1),null===(t=a.children)||void 0===t||t.forEach((function(e){var t=n.findById(e.id),r=t.getModel();t.getType&&"combo"===t.getType()?(e.parentId=i,delete e.comboId,r.parentId=i,delete r.comboId):t.getType&&"node"===t.getType()&&(e.comboId=i,r.comboId=i),f.addChild(t),l.push(e)})),!1)}))})),!i&&a){var d=o.indexOf(a);o.splice(d,1),null===(t=a.children)||void 0===t||t.forEach((function(e){e.parentId=void 0;var t=n.findById(e.id).getModel();delete t.parentId,delete t.comboId,"node"!==e.itemType&&o.push(e)}))}}},t.prototype.updateCombos=function(e){var t=this;void 0===e&&(e=!1);var n=this,r=this.get("comboTrees"),i=n.get("itemController"),o=n.get("itemMap");(r||[]).forEach((function(n){Pa(n,(function(n){if(!n)return!0;var r=o[n.id];if(r&&r.getType&&"combo"===r.getType()){var a=(0,Ir.__spreadArray)([],r.getStates(),!0);(0,Dr.each)(a,(function(e){return t.setItemState(r,e,!1)})),i.updateCombo(r,n.children,e),(0,Dr.each)(a,(function(e){return t.setItemState(r,e,!0)}))}return!0}))})),n.sortCombos()},t.prototype.updateCombo=function(e){var t,n=this,r=e;if((0,Dr.isString)(e)&&(r=this.findById(e)),!r||r.getType&&"combo"!==r.getType())console.warn("The item to be updated is not a combo!");else{t=r.get("id");var i=this.get("comboTrees"),o=this.get("itemController"),a=this.get("itemMap");(i||[]).forEach((function(e){Pa(e,(function(e){if(!e)return!0;var r=a[e.id];if(t===e.id&&r&&r.getType&&"combo"===r.getType()){var i=(0,Ir.__spreadArray)([],r.getStates(),!0);(0,Dr.each)(i,(function(e){r.getStateStyle(e)&&n.setItemState(r,e,!1)})),o.updateCombo(r,e.children),(0,Dr.each)(i,(function(e){r.getStateStyle(e)&&n.setItemState(r,e,!0)})),t&&(t=e.parentId)}return!0}))}))}},t.prototype.updateComboTree=function(e,t,n){void 0===n&&(n=!0);var r;this.set("comboSorted",!1);var i,o=(r=(0,Dr.isString)(e)?this.findById(e):e).getModel(),a=o.comboId||o.parentId,s="";if(r.getType&&(s=r.getType()),t&&"combo"===s){var u,l=this.get("comboTrees"),c=!0;if((l||[]).forEach((function(e){u||Na(e,(function(e){if(!u)return e.id===r.getID()&&(u=e),!0}))})),Na(u,(function(e){return e.id!==t||(c=!1,!1)})),!c)return void console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!")}if(n&&this.get("enabledStack")){var f={},d={};"combo"===s?(f.combos=[{id:o.id,parentId:o.parentId}],d.combos=[{id:o.id,parentId:t}]):"node"===s&&(f.nodes=[{id:o.id,parentId:o.comboId}],d.nodes=[{id:o.id,parentId:t}]),this.pushStack("updateComboTree",{before:f,after:d})}if(o.parentId||o.comboId){var h=this.findById(o.parentId||o.comboId);h&&h.removeChild(r)}("combo"===s?o.parentId=t:"node"===s&&(o.comboId=t),t)&&((i=this.findById(t))&&i.addChild(r));a&&((i=this.findById(a))&&i.removeChild(r));var p=Ra(this.get("comboTrees"),o.id,t);this.set("comboTrees",p),this.updateCombos()},t.prototype.save=function(){var e=[],t=[],n=[];return(0,Dr.each)(this.get("nodes"),(function(t){e.push(t.getModel())})),(0,Dr.each)(this.get("edges"),(function(e){t.push(e.getModel())})),(0,Dr.each)(this.get("combos"),(function(e){n.push(e.getModel())})),{nodes:e,edges:t,combos:n}},t.prototype.changeSize=function(e,t){return this.get("viewController").changeSize(e,t),this},t.prototype.refresh=function(){var e=this;if(e.emit("beforegraphrefresh"),e.get("animate"))e.positionsAnimate();else{var t=e.get("nodes"),n=e.get("edges"),r=e.get("edges");(0,Dr.each)(t,(function(e){e.refresh()})),(0,Dr.each)(n,(function(e){e.refresh()})),(0,Dr.each)(r,(function(e){e.refresh()}))}e.emit("aftergraphrefresh"),e.autoPaint()},t.prototype.getNodes=function(){return this.get("nodes")},t.prototype.getEdges=function(){return this.get("edges")},t.prototype.getCombos=function(){return this.get("combos")},t.prototype.getComboChildren=function(e){if((0,Dr.isString)(e)&&(e=this.findById(e)),e&&(!e.getType||"combo"===e.getType()))return e.getChildren();console.warn("The combo does not exist!")},t.prototype.positionsAnimate=function(e){var t=this;t.emit("beforeanimate");var n=t.get("animateCfg"),r=n.onFrame,i=e?t.getNodes().concat(t.getCombos()):t.getNodes(),o=i.map((function(e){var t=e.getModel();return{id:t.id,x:t.x,y:t.y}}));t.isAnimating()&&t.stopAnimate(),t.get("canvas").animate((function(n){(0,Dr.each)(o,(function(e){var i=t.findById(e.id);if(i&&!i.destroyed){var o=i.get("originAttrs"),a=i.get("model"),s=i.getContainer().getMatrix();if(void 0===o&&i.set("originAttrs",s?{x:s[6],y:s[7]}:0),r){var u=r(i,n,e,o||{x:0,y:0});i.set("model",Object.assign(a,u))}else o?(a.x=o.x+(e.x-o.x)*n,a.y=o.y+(e.y-o.y)*n):(a.x=e.x,a.y=e.y)}})),t.refreshPositions(e)}),{duration:n.duration,easing:n.easing,callback:function(){(0,Dr.each)(i,(function(e){e.set("originAttrs",null)})),n.callback&&n.callback(),t.emit("afteranimate"),t.animating=!1}})},t.prototype.refreshPositions=function(e){var t=this;t.emit("beforegraphrefreshposition");var n,r=t.get("nodes"),i=t.get("edges"),o=t.get("vedges"),a=t.get("combos"),s={},u=function(e){(0,Dr.each)(e,(function(e){n=e.getModel();var t=e.get("originAttrs");if(!t||n.x!==t.x||n.y!==t.y){var r=e.updatePosition({x:n.x,y:n.y});s[n.id]=r,n.comboId&&(s[n.comboId]=s[n.comboId]||r)}}))};u(r),a&&0!==a.length&&(t.updateCombos(),e&&u(a)),(0,Dr.each)(i,(function(e){var t=e.getSource().getModel(),n=e.getTarget();if(!(0,Dr.isPlainObject)(n)){var r=n.getModel();(s[t.id]||s[r.id]||e.getModel().isComboEdge)&&e.refresh()}})),(0,Dr.each)(o,(function(e){e.refresh()})),t.emit("aftergraphrefreshposition"),t.autoPaint()},t.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},t.prototype.isAnimating=function(){return this.animating},t.prototype.getZoom=function(){var e=this.get("group").getMatrix();return e?e[0]:1},t.prototype.getCurrentMode=function(){return this.get("modeController").getMode()},t.prototype.setMode=function(e){return this.get("modeController").setMode(e),this},t.prototype.clear=function(e){var t;return void 0===e&&(e=!1),null===(t=this.get("canvas"))||void 0===t||t.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),e||this.emit("afterrender"),this},t.prototype.updateLayout=function(e,t,n){var r=this,i=this.get("layoutController");if((0,Dr.isString)(e)&&(e={type:e}),t){var o=n;o||(o="begin"===t?{x:0,y:0}:{x:this.getWidth()/2,y:this.getHeight()/2}),o=this.getPointByCanvas(o.x,o.y);var a=["force","gForce","fruchterman"];a.includes(e.type)||!e.type&&a.includes(null===i||void 0===i?void 0:i.layoutType)?e.center=[o.x,o.y]:this.once("afterlayout",(function(e){var n=r.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];o.x=o.x*n[0]+n[6],o.y=o.y*n[0]+n[7];var i=r.getGroup().getCanvasBBox(),a=i.minX,s=i.maxX,u=i.minY,l={x:(a+s)/2,y:(u+i.maxY)/2};"begin"===t&&(l.x=a,l.y=u),r.translate(o.x-l.x,o.y-l.y)}))}var s=this.get("layout"),u={};Object.assign(u,s,e),this.set("layout",u),i.isLayoutTypeSame(u)&&u.gpuEnabled===s.gpuEnabled?i.updateLayoutCfg(u):i.changeLayout(u)},t.prototype.destroyLayout=function(){this.get("layoutController").destroyLayout()},t.prototype.layout=function(){var e=this.get("layoutController"),t=this.get("layout");t&&e&&(t.workerEnabled?e.layout():e.layoutMethod?e.relayout(!0):e.layout())},t.prototype.collapseCombo=function(e){var t=this;if(!this.destroyed)if((0,Dr.isString)(e)&&(e=this.findById(e)),e){this.emit("beforecollapseexpandcombo",{action:"expand",item:e});var n=e.getModel();this.get("itemController").collapseCombo(e),n.collapsed=!0;var r=this.getEdges().concat(this.get("vedges")),i=[],o=[],a=this.get("comboTrees"),s=!1;(a||[]).forEach((function(e){s||Na(e,(function(e){if(s&&e.depth<=n.depth)return!1;if(n.id===e.id&&(s=!0),s){var r=t.findById(e.id);r&&r.getType&&"combo"===r.getType()&&(i=i.concat(r.getNodes()),o=o.concat(r.getCombos()))}return!0}))}));var u={},l=[];r.forEach((function(e){if(!e.isVisible()||e.getModel().isVEdge){var r=e.getSource(),a=e.getTarget();if((i.includes(r)||o.includes(r))&&!i.includes(a)&&!o.includes(a)||r.getModel().id===n.id){if((d=e.getModel()).isVEdge)return void t.removeItem(e,!1);for(var s=a.getModel();!a.isVisible();){if(!(a=t.findById(s.parentId||s.comboId))||!s.parentId&&!s.comboId)return;s=a.getModel()}var c=s.id;if(u["".concat(n.id,"-").concat(c)])return void(u["".concat(n.id,"-").concat(c)]+=d.size||1);var f=t.addItem("vedge",{source:n.id,target:c,isVEdge:!0},!1);u["".concat(n.id,"-").concat(c)]=d.size||1,l.push(f)}else if(!i.includes(r)&&!o.includes(r)&&(i.includes(a)||o.includes(a))||a.getModel().id===n.id){var d;if((d=e.getModel()).isVEdge)return void t.removeItem(e,!1);for(var h=r.getModel();!r.isVisible();){if(!(r=t.findById(h.parentId||h.comboId))||!h.parentId&&!h.comboId)return;h=r.getModel()}var p=h.id;if(u["".concat(p,"-").concat(n.id)])return void(u["".concat(p,"-").concat(n.id)]+=d.size||1);f=t.addItem("vedge",{target:n.id,source:p,isVEdge:!0},!1);u["".concat(p,"-").concat(n.id)]=d.size||1,l.push(f)}}})),l.forEach((function(e){var n=e.getModel();t.updateItem(e,{size:u["".concat(n.source,"-").concat(n.target)]},!1)})),this.emit("aftercollapseexpandcombo",{action:"collapse",item:e})}else console.warn("The combo to be collapsed does not exist!")},t.prototype.expandCombo=function(e){var t=this;if((0,Dr.isString)(e)&&(e=this.findById(e)),!e||e.getType&&"combo"!==e.getType())console.warn("The combo to be collapsed does not exist!");else{this.emit("beforecollapseexpandcombo",{action:"expand",item:e});var n=e.getModel();this.get("itemController").expandCombo(e),n.collapsed=!1;var r=this.getEdges().concat(this.get("vedges")),i=[],o=[],a=this.get("comboTrees"),s=!1;(a||[]).forEach((function(e){s||Na(e,(function(e){if(s&&e.depth<=n.depth)return!1;if(n.id===e.id&&(s=!0),s){var r=t.findById(e.id);r&&r.getType&&"combo"===r.getType()&&(i=i.concat(r.getNodes()),o=o.concat(r.getCombos()))}return!0}))}));var u={},l={};r.forEach((function(e){if(!e.isVisible()||e.getModel().isVEdge){var r=e.getSource(),a=e.getTarget(),s=r.get("id"),c=a.get("id");if((i.includes(r)||o.includes(r))&&!i.includes(a)&&!o.includes(a)||s===n.id){if(e.getModel().isVEdge)return void t.removeItem(e,!1);for(var f=a.getModel();!a.isVisible();){if(!(a=t.findById(f.comboId||f.parentId))||!f.parentId&&!f.comboId)return;f=a.getModel()}c=f.id;for(var d=r.getModel();!r.isVisible();){if(!(r=t.findById(d.comboId||d.parentId))||!d.parentId&&!d.comboId)return;if(d.comboId===n.id||d.parentId===n.id)break;d=r.getModel()}if(s=d.id,c){var h="".concat(s,"-").concat(c);if(u[h])return u[h]+=e.getModel().size||1,void t.updateItem(l[h],{size:u[h]},!1);var p=t.addItem("vedge",{source:s,target:c,isVEdge:!0},!1);u[h]=e.getModel().size||1,l[h]=p}}else if(!i.includes(r)&&!o.includes(r)&&(i.includes(a)||o.includes(a))||c===n.id){if(e.getModel().isVEdge)return void t.removeItem(e,!1);for(d=r.getModel();!r.isVisible();){if(!(r=t.findById(d.comboId||d.parentId))||!d.parentId&&!d.comboId)return;d=r.getModel()}s=d.id;for(f=a.getModel();!a.isVisible();){if(!(a=t.findById(f.comboId||f.parentId))||!f.parentId&&!f.comboId)return;if(f.comboId===n.id||f.parentId===n.id)break;f=a.getModel()}if(c=f.id,s){h="".concat(s,"-").concat(c);if(u[h])return u[h]+=e.getModel().size||1,void t.updateItem(l[h],{size:u[h]},!1);p=t.addItem("vedge",{target:c,source:s,isVEdge:!0},!1);u[h]=e.getModel().size||1,l[h]=p}}else(i.includes(r)||o.includes(r))&&(i.includes(a)||o.includes(a))&&r.isVisible()&&a.isVisible()&&e.show()}})),this.emit("aftercollapseexpandcombo",{action:"expand",item:e})}},t.prototype.collapseExpandCombo=function(e){if((0,Dr.isString)(e)&&(e=this.findById(e)),e&&(!e.getType||"combo"===e.getType())){for(var t=e.getModel(),n=this.findById(t.parentId);n;){var r=n.getModel();if(r.collapsed)return console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),void(n=void 0);n=this.findById(r.parentId)}t.collapsed?this.expandCombo(e):this.collapseCombo(e),this.updateCombo(e)}},t.prototype.sortCombos=function(){var e=this;if(!this.get("comboSorted")){this.set("comboSorted",!0);var t=[],n={};(this.get("comboTrees")||[]).forEach((function(e){Na(e,(function(e){return t[e.depth]?t[e.depth].push(e.id):t[e.depth]=[e.id],n[e.id]=e.depth,!0}))})),(this.getEdges().concat(this.get("vedges"))||[]).forEach((function(e){var r=e.getModel(),i=n[r.source]||0,o=n[r.target]||0,a=Math.max(i,o);t[a]?t[a].push(r.id):t[a]=[r.id]})),t.forEach((function(t){if(t&&t.length)for(var n=t.length-1;n>=0;n--){var r=e.findById(t[n]);r&&r.toFront()}}))}},t.prototype.getNeighbors=function(e,t){var n=e;return(0,Dr.isString)(e)&&(n=this.findById(e)),n.getNeighbors(t)},t.prototype.getNodeDegree=function(e,t,n){void 0===t&&(t=void 0),void 0===n&&(n=!1);var r=e;(0,Dr.isString)(e)&&(r=this.findById(e));var i=this.get("degrees");i&&!n||(i=ai(this.save()),this.set("degrees",i));var o=i[r.getID()],a=0;if(!o)return 0;switch(t){case"in":a=o.inDegree;break;case"out":a=o.outDegree;break;case"all":a=o;break;default:a=o.degree}return a},t.prototype.getUndoStack=function(){return this.undoStack},t.prototype.getRedoStack=function(){return this.redoStack},t.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},t.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},t.prototype.pushStack=function(e,t,n){if(void 0===e&&(e="update"),void 0===n&&(n="undo"),this.get("enabledStack")){var r=t?(0,Dr.clone)(t):{before:{},after:(0,Dr.clone)(this.save())};"redo"===n?this.redoStack.push({action:e,data:r}):this.undoStack.push({action:e,data:r}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})}else console.warn("\u8bf7\u5148\u542f\u7528 undo & redo \u529f\u80fd\uff0c\u5728\u5b9e\u4f8b\u5316 Graph \u65f6\u5019\u914d\u7f6e enabledStack: true !")},t.prototype.getAdjMatrix=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=this.get("directed"));var n=this.get("adjMatrix");return n&&e||(n=Zr(this.save(),t),this.set("adjMatrix",n)),n},t.prototype.getShortestPathMatrix=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=this.get("directed"));var n=this.get("adjMatrix"),r=this.get("shortestPathMatrix");return n&&e||(n=Zr(this.save(),t),this.set("adjMatrix",n)),r&&e||(r=xi(this.save(),t),this.set("shortestPathMatrix",r)),r},t.prototype.on=function(t,n,r){return e.prototype.on.call(this,t,n,r)},t.prototype.destroy=function(){var e,t,n,r,i;this.clear(),this.clearStack(),null===(e=this.get("itemController"))||void 0===e||e.destroy(),null===(t=this.get("modeController"))||void 0===t||t.destroy(),null===(n=this.get("viewController"))||void 0===n||n.destroy(),null===(r=this.get("stateController"))||void 0===r||r.destroy(),null===(i=this.get("canvas"))||void 0===i||i.destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},t.prototype.createHull=function(e){if(e.members&&!(e.members.length<1)){var t=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),t&&!t.get("destroyed")||((t=this.get("group").addGroup({id:"hullGroup"})).toBack(),this.set("hullGroup",t)),n[e.id])return console.warn("Existed hull id."),n[e.id];var r=t.addGroup({id:"".concat(e.id,"-container")}),i=new gd(this,(0,Ir.__assign)((0,Ir.__assign)({},e),{group:r}));return n[i.id]=i,i}console.warn("Create hull failed! The members is empty.")},t.prototype.getHulls=function(){return this.get("hullMap")},t.prototype.getHullById=function(e){return this.get("hullMap")[e]},t.prototype.removeHull=function(e){var t,n;n=(0,Dr.isString)(e)?this.getHullById(e):e,null===(t=this.get("hullMap"))||void 0===t||delete t[n.id],n.destroy()},t.prototype.removeHulls=function(){var e=this.getHulls();e&&Object.keys(e).length&&(Object.keys(e).forEach((function(t){e[t].destroy()})),this.set("hullMap",{}))},t}(Fr),yd=md;function bd(e){return bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(e)}var xd=Wr,wd="-shape",Ed="-label",Sd=["startArrow","endArrow"],_d={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},Td={edge:{lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},node:_d,combo:_d},kd="-label-bg",Cd={options:{labelCfg:{style:{fontFamily:ya.windowFontFamily}},descriptionCfg:{style:{fontFamily:ya.windowFontFamily}}},itemType:"",type:"",getCustomConfig:function(e){return{}},getOptions:function(e,t){return"move"===t||(null===t||void 0===t?void 0:t.includes("bbox"))?{}:(0,Dr.deepMix)({},this.options,this.getCustomConfig(e)||{},e)},draw:function(e,t){t.shapeMap={},this.mergeStyle=this.getOptions(e);var n=this.drawShape(e,t);if(n.set("className",this.itemType+wd),t.shapeMap[this.itemType+wd]=n,e.label){var r=this.drawLabel(e,t);r.set("className",this.itemType+Ed),t.shapeMap[this.itemType+Ed]=r}return n},afterDraw:function(e,t,n){},drawShape:function(e,t){return null},drawLabel:function(e,t){var n=(this.mergeStyle||this.getOptions(e)||{}).labelCfg||{},r=this.getLabelStyle(e,n,t),i=r.rotate;delete r.rotate;var o=t.addShape("text",{attrs:r,draggable:!0,className:"text-shape",name:"text-shape",labelRelated:!0});if(t.shapeMap["text-shape"]=o,!isNaN(i)&&""!==i){var a=o.getBBox(),s=[1,0,0,0,1,0,0,0,1];if(r.rotateCenter)switch(r.rotateCenter){case"center":default:s=xd(s,[["t",-a.width/2,-a.height/2],["r",i],["t",a.width/2,a.height/2]]);break;case"lefttop":s=xd(s,[["t",-r.x,-r.y],["r",i],["t",r.x,r.y]]);break;case"leftcenter":s=xd(s,[["t",-r.x,-r.y-a.height/2],["r",i],["t",r.x,r.y+a.height/2]])}else s=xd(s,[["t",-r.x,-r.y-a.height/2],["r",i],["t",r.x,r.y+a.height/2]]);o.setMatrix(s)}if(r.background){var u=this.drawLabelBg(e,t,o),l=this.itemType+kd;u.set("classname",l),t.shapeMap[l]=u,o.toFront()}return o},drawLabelBg:function(e,t,n){var r=this.options.labelCfg,i=(0,Dr.mix)({},r,e.labelCfg),o=this.getLabelBgStyleByPosition(n,i),a=t.addShape("rect",{name:"text-bg-shape",attrs:o,labelRelated:!0});return t.shapeMap["text-bg-shape"]=a,a},getLabelStyleByPosition:function(e,t,n){return{text:e.label}},getLabelBgStyleByPosition:function(e,t){return{}},getLabelStyle:function(e,t,n){var r=this.getLabelStyleByPosition(e,t,n),i="".concat(this.itemType,"Label"),o=ya[i]?ya[i].style:null;return(0,Ir.__assign)((0,Ir.__assign)((0,Ir.__assign)({},o),r),t.style)},getShapeStyle:function(e){return e.style},update:function(e,t,n){this.updateShapeStyle(e,t,n),this.updateLabel(e,t,n)},updateShapeStyle:function(e,t,n){var r,i=t.getContainer(),o=t.getKeyShape(),a=(0,Dr.mix)({},o.attr(),e.style),s=function(e){var t,n=a[e];if((0,Dr.isPlainObject)(n)){var s=(null===(r=i.shapeMap)||void 0===r?void 0:r[e])||i.find((function(t){return t.get("name")===e}));null===s||void 0===s||s.attr(n)}else o.attr(((t={})[e]=n,t))};for(var u in a)s(u)},updateLabel:function(e,t,n){var r,i;if(e.label||""===e.label){var o=t.getContainer(),a=(this.mergeStyle||this.getOptions({},n)||{}).labelCfg,s=void 0===a?{}:a,u=this.itemType+Ed,l=o.shapeMap[u]||o.find((function(e){return e.get("className")===u})),c=this.itemType+kd,f=o.shapeMap[c]||o.find((function(e){return e.get("className")===c}));if(l){(!n||"bbox|label"===n||"edge"===this.itemType&&"style"!==n)&&(s=(0,Dr.deepMix)(s,e.labelCfg));var d=this.getLabelStyleByPosition(e,s,o),h=null===(r=e.labelCfg)||void 0===r?void 0:r.style,p=(0,Ir.__assign)((0,Ir.__assign)({},d),h),g=p.rotate;if(delete p.rotate,isNaN(g)||""===g)1!==(null===(i=l.getMatrix())||void 0===i?void 0:i[4])&&l.resetMatrix(),l.attr(p);else{var v=[1,0,0,0,1,0,0,0,1];v=xd(v,[["t",-p.x,-p.y],["r",g],["t",p.x,p.y]]),p.matrix=v,l.attr(p)}if(f)if(p.background){var m=this.getLabelBgStyleByPosition(l,s);f.attr(m)}else o.removeChild(f);else p.background&&((f=this.drawLabelBg(e,o,l)).set("classname",c),o.shapeMap[c]=f,l.toFront())}else{var y=this.drawLabel(e,o);y.set("className",u),o.shapeMap[u]=y}}},afterUpdate:function(e,t){},setState:function(e,t,n){var r,i,o,a=n.get("keyShape");if(a&&!a.destroyed){var s=n.getType(),u=(0,Dr.isBoolean)(t)?e:"".concat(e,":").concat(t),l=this.getStateStyle(u,n),c=n.getStateStyle(u);if(c||l){var f=(0,Dr.mix)({},c||l),d=n.getContainer(),h={x:1,y:1,cx:1,cy:1,matrix:1};if("combo"===s&&(h.r=1,h.width=1,h.height=1),t){var p=function(e){var t,n=f[e];if((0,Dr.isPlainObject)(n)&&!Sd.includes(e)){var r=(null===(o=d.shapeMap)||void 0===o?void 0:o[e])||d.find((function(t){return t.get("name")===e}));null===r||void 0===r||r.attr(n)}else a.attr(((t={})[e]=n,t))};for(var g in f)p(g)}else{var v=Ba(n.getCurrentStatesStyle()),m=n.getModel(),y=(0,Dr.mix)({},m.style,Ba(n.getOriginStyle())),b=a.get("name"),x=a.attr(),w={};Object.keys(x).forEach((function(e){if("img"!==e){var t=x[e];t&&"object"===bd(t)?w[e]=(0,Dr.clone)(t):w[e]=t}}));var E={},S=function(e){var t=f[e];if((0,Dr.isPlainObject)(t)&&!Sd.includes(e)){var n=d.shapeMap[e]||d.find((function(t){return t.get("name")===e}));if(n){var r=Ba(n.attr());(0,Dr.each)(t,(function(t,i){if(e===b&&w[i]&&!h[i]){delete w[i];var o=y[e][i]||Td[s][i];a.attr(i,o)}else if(r[i]||0===r[i]){delete r[i];var u=y[e][i]||Td[s][i];n.attr(i,u)}})),E[e]=r}}else if(w[e]&&!h[e]){delete w[e];var i=y[e]||(y[b]?y[b][e]:void 0)||Td[s][e];a.attr(e,i)}};for(var _ in f)S(_);for(var g in b?E[b]=w:(0,Dr.mix)(E,w),v)if(!h[g]){var T=v[g];(0,Dr.isPlainObject)(T)&&!Sd.includes(g)||(b?((0,Dr.mix)(y[b],((i={})[g]=T,i)),delete y[g]):(0,Dr.mix)(y,((r={})[g]=T,r)),delete v[g])}var k={};(0,Dr.deepMix)(k,y,E,v);var C=!1,M=function(e){var t,n,r=k[e];if((0,Dr.isPlainObject)(r)&&!Sd.includes(e)){var i=d.shapeMap[e]||d.find((function(t){return t.get("name")===e}));i&&(("text"===i.get("type")||i.get("labelRelated"))&&(delete r.x,delete r.y,delete r.matrix),e===b&&("combo"===s&&(delete r.r,delete r.width,delete r.height),C=!0),i.attr(r))}else if(!C){var o=r||Td[s][e];"combo"===s?b||a.attr(((t={})[e]=o,t)):a.attr(((n={})[e]=o,n))}};for(var A in k)M(A)}}}},getStateStyle:function(e,t){var n=t.getModel(),r=t.getType(),i=this.getOptions(n),o=i.stateStyles,a=i.style,s=void 0===a?{}:a,u=n.stateStyles?n.stateStyles[e]:o&&o[e];return"combo"===r?(0,Dr.clone)(u):(0,Dr.mix)({},s,u)},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t,n;return(null===e||void 0===e?void 0:e.anchorPoints)||(null===(t=this.getCustomConfig(e))||void 0===t?void 0:t.anchorPoints)||(null===(n=this.options)||void 0===n?void 0:n.anchorPoints)}},Md={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:ya.nodeLabel.offset,getSize:function(e){var t,n=(null===(t=this.mergeStyle)||void 0===t?void 0:t.size)||e.size||this.getOptions({}).size||ya.defaultNode.size;return(0,Dr.isArray)(n)&&1===n.length&&(n=[n[0],n[0]]),(0,Dr.isArray)(n)||(n=[n,n]),n},getLabelStyleByPosition:function(e,t){var n=t.position||this.labelPosition;if("center"===n)return{x:0,y:0,text:e.label,textBaseline:"middle",textAlign:"center"};var r=t.offset;(0,Dr.isNil)(r)&&(r=this.offset);var i,o=this.getSize(e);switch(n){case"top":i={x:0,y:-o[1]/2-r,textBaseline:"bottom",textAlign:"center"};break;case"bottom":i={x:0,y:o[1]/2+r,textBaseline:"top",textAlign:"center"};break;case"left":i={x:-o[0]/2-r,y:0,textBaseline:"middle",textAlign:"right"};break;default:i={x:o[0]/2+r,y:0,textBaseline:"middle",textAlign:"left"}}return i.text=e.label,i},getLabelBgStyleByPosition:function(e,t){var n;if(!e)return{};var r=null===(n=t.style)||void 0===n?void 0:n.background;if(!r)return{};var i=e.getBBox(),o=$c(r.padding),a=i.width+o[1]+o[3],s=i.height+o[0]+o[2];return(0,Ir.__assign)((0,Ir.__assign)({x:i.minX-o[3],y:i.minY-o[0]},r),{width:a,height:s})},drawShape:function(e,t){var n=this.shapeType,r=this.getShapeStyle(e),i=t.addShape(n,{attrs:r,draggable:!0,name:"node-shape"});return t.shapeMap["node-shape"]=i,i},updateLinkPoints:function(e,t){var n,r=(this.mergeStyle||this.getOptions(e)).linkPoints,i=t.shapeMap["link-point-left"]||t.find((function(e){return"link-point-left"===e.get("className")})),o=t.shapeMap["link-point-right"]||t.find((function(e){return"link-point-right"===e.get("className")})),a=t.shapeMap["link-point-top"]||t.find((function(e){return"link-point-top"===e.get("className")})),s=t.shapeMap["link-point-bottom"]||t.find((function(e){return"link-point-bottom"===e.get("className")}));i&&(n=i.attr()),o&&!n&&(n=o.attr()),a&&!n&&(n=a.attr()),s&&!n&&(n=s.attr()),n||(n=r);var u=(0,Dr.mix)({},n,e.linkPoints),l=u.fill,c=u.stroke,f=u.lineWidth,d=u.size/2;d||(d=u.r);var h=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},p=h.left,g=h.right,v=h.top,m=h.bottom,y=this.getSize(e),b=y[0],x=y[1],w={r:d,fill:l,stroke:c,lineWidth:f};if(i)p||void 0===p?i.attr((0,Ir.__assign)((0,Ir.__assign)({},w),{x:-b/2,y:0})):(i.remove(),delete t.shapeMap["link-point-left"]);else if(p){var E="link-point-left";t.shapeMap[E]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},w),{x:-b/2,y:0}),className:E,name:E,isAnchorPoint:!0})}if(o)g||void 0===g||(o.remove(),delete t.shapeMap["link-point-right"]),o.attr((0,Ir.__assign)((0,Ir.__assign)({},w),{x:b/2,y:0}));else if(g){var S="link-point-right";t.shapeMap[S]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},w),{x:b/2,y:0}),className:S,name:S,isAnchorPoint:!0})}if(a)v||void 0===v||(a.remove(),delete t.shapeMap["link-point-top"]),a.attr((0,Ir.__assign)((0,Ir.__assign)({},w),{x:0,y:-x/2}));else if(v){var _="link-point-top";t.shapeMap[_]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},w),{x:0,y:-x/2}),className:_,name:_,isAnchorPoint:!0})}if(s)m||void 0===m?s.attr((0,Ir.__assign)((0,Ir.__assign)({},w),{x:0,y:x/2})):(s.remove(),delete t.shapeMap["link-point-bottom"]);else if(m){var T="link-point-bottom";t.shapeMap[T]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},w),{x:0,y:x/2}),className:T,name:T,isAnchorPoint:!0})}},updateShape:function(e,t,n,r,i){t.get("keyShape").attr((0,Ir.__assign)({},n)),this.updateLabel(e,t,i),r&&this.updateIcon(e,t)},updateIcon:function(e,t){var n=this,r=t.getContainer(),i=(this.mergeStyle||this.getOptions(e)).icon,o=e.icon?e.icon:{show:void 0,text:void 0},a=o.show,s=o.text,u=r.shapeMap["".concat(this.type,"-icon")]||r.find((function(e){return e.get("name")==="".concat(n.type,"-icon")}));if(u)if(a||void 0===a){var l=(0,Dr.mix)({},u.attr(),i),c=l.width,f=void 0===c?20:c,d=l.height,h=void 0===d?20:d;("iconfont"===l.fontFamily||l.hasOwnProperty("text"))&&(f=0,h=0),u.attr((0,Ir.__assign)((0,Ir.__assign)({},l),{x:-f/2,y:-h/2}))}else u.remove();else if(a){var p="".concat(this.type,"-icon");if(s)r.shapeMap[p]=r.addShape("text",{attrs:(0,Ir.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:p,name:p});else{f=i.width,h=i.height;r.shapeMap[p]=r.addShape("image",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},i),{x:-f/2,y:-h/2}),className:p,name:p})}var g=r.shapeMap["node-label"]||r.find((function(e){return"node-label"===e.get("name")}));g&&g.toFront()}}},Ad=(0,Ir.__assign)((0,Ir.__assign)({},Cd),Md);yf.registerNode("single-node",Ad);var Nd="edge-shape";var Pd={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:ya.defaultEdge.size,style:{x:0,y:0,stroke:ya.defaultEdge.style.stroke,lineAppendWidth:ya.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:ya.edgeLabel.style.fill,fontSize:ya.edgeLabel.style.fontSize,fontFamily:ya.windowFontFamily}},stateStyles:(0,Ir.__assign)({},ya.edgeStateStyles)},getPath:function(e){var t=[];return(0,Dr.each)(e,(function(e,n){0===n?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])})),t},getShapeStyle:function(e){var t=this.options.style,n={stroke:e.color},r=(0,Dr.mix)({},t,n,e.style),i=e.size||ya.defaultEdge.size,o=(e=this.getPathPoints(e)).startPoint,a=e.endPoint,s=this.getControlPoints(e),u=[o];s&&(u=u.concat(s)),u.push(a);var l=this.getPath(u);return(0,Dr.mix)({},ya.defaultEdge.style,{stroke:ya.defaultEdge.color,lineWidth:i,path:l},r)},updateShapeStyle:function(e,t,n){var r,i=t.getContainer(),o=(null===(r=t.getKeyShape)||void 0===r?void 0:r.call(t))||i.shapeMap["edge-shape"],a=e.size,s=(e=this.getPathPoints(e)).startPoint,u=e.endPoint,l=this.getControlPoints(e),c=[s];l&&(c=c.concat(l)),c.push(u);var f=o.attr(),d=e.style||{};void 0===d.stroke&&(d.stroke=e.color);var h=e.sourceNode,p=e.targetNode,g={radius:d.radius};l||(g={source:h,target:p,offset:d.offset,radius:d.radius});var v=this.getPath(c,g),m={};"move"===n?m={path:v}:(f.endArrow&&!1===d.endArrow&&(e.style.endArrow={path:""}),f.startArrow&&!1===d.startArrow&&(e.style.startArrow={path:""}),void 0===(m=(0,Ir.__assign)({},e.style)).lineWidth&&(m.lineWdith=((0,Dr.isNumber)(a)?a:null===a||void 0===a?void 0:a[0])||f.lineWidth),void 0===m.path&&(m.path=v),void 0===m.stroke&&(m.stroke=f.stroke||e.color)),o&&o.attr(m)},getLabelStyleByPosition:function(e,t,n){var r,i=t.position||this.labelPosition,o={},a=null===n||void 0===n?void 0:n.shapeMap[Nd];r="start"===i?0:"end"===i?1:.5;var s,u=t.refX||this.refX,l=t.refY||this.refY;if(e.startPoint.x===e.endPoint.x&&e.startPoint.y===e.endPoint.y)return o.x=e.startPoint.x+u,o.y=e.startPoint.y+l,o.text=e.label,o;s=(0,Dr.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate;var c=Ca(a,r,u,l,s);return o.x=c.x,o.y=c.y,o.rotate=c.rotate,o.textAlign=this._getTextAlign(i,c.angle),o.text=e.label,o},getLabelBgStyleByPosition:function(e,t){if(!e)return{};var n=e.getBBox(),r=t.style&&t.style.background;if(!r)return{};var i=r.padding,o=n.width+i[1]+i[3],a=n.height+i[0]+i[2],s=(0,Ir.__assign)((0,Ir.__assign)({},r),{width:o,height:a,x:n.minX-i[3],y:n.minY-i[0],matrix:[1,0,0,0,1,0,0,0,1]});return((0,Dr.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate)&&(s.matrix=e.attr("matrix")||[1,0,0,0,1,0,0,0,1]),s},_getTextAlign:function(e,t){var n="center";return t?(t%=2*Math.PI,"center"!==e&&(n=t>=0&&t<=Math.PI/2||t>=1.5*Math.PI&&t<2*Math.PI?e:function(e){var t=e;return"start"===e?t="end":"end"===e&&(t="start"),t}(e)),n):e},getControlPoints:function(e){return e.controlPoints},getPathPoints:function(e){return e},drawShape:function(e,t){var n=this.getShapeStyle(e),r=t.addShape("path",{className:Nd,name:Nd,attrs:n});return t.shapeMap[Nd]=r,r},drawLabel:function(e,t){var n=this.options.labelCfg,r=(0,Dr.deepMix)({},n,e.labelCfg),i=this.getLabelStyle(e,r,t),o=i.rotate;delete i.rotate;var a=t.addShape("text",{attrs:i,name:"text-shape",labelRelated:!0});if(t.shapeMap["text-shape"]=a,isNaN(o)||""===o||a.rotateAtStart(o),i.background){var s=this.drawLabelBg(e,t,a,i,o),u=this.itemType+kd;s.set("classname",u),t.shapeMap[u]=s,a.toFront()}return a},drawLabelBg:function(e,t,n,r,i){var o=this.options.labelCfg,a=(0,Dr.deepMix)({},o,e.labelCfg),s=this.getLabelBgStyleByPosition(n,a),u=t.addShape("rect",{name:"text-bg-shape",attrs:s,labelRelated:!0});return t.shapeMap["text-bg-shape"]=u,u}},Id=(0,Ir.__assign)((0,Ir.__assign)({},Cd),Pd);yf.registerEdge("single-edge",Id),yf.registerEdge("line",{getControlPoints:function(){}},"single-edge"),yf.registerEdge("spline",{getPath:function(e){return Kf(e)}},"single-edge"),yf.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(e){var t,n,r=e.startPoint,i=e.endPoint,o=(r.x+i.x)/2,a=(r.y+i.y)/2;if(void 0!==e.controlPoints){if(n=e.controlPoints[0],t=jo(r,n,i),r.x<=i.x&&r.y>i.y?this.clockwise=t.x>n.x?0:1:r.x<=i.x&&r.y<i.y?this.clockwise=t.x>n.x?1:0:r.x>i.x&&r.y<=i.y?this.clockwise=t.y<n.y?0:1:this.clockwise=t.y<n.y?1:0,(n.x-r.x)/(n.y-r.y)===(i.x-r.x)/(i.y-r.y))return[]}else{void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),(0,Dr.isArray)(e.curveOffset)&&(e.curveOffset=e.curveOffset[0]),e.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:i.x-r.x,y:i.y-r.y},u=Math.atan2(s.y,s.x);n={x:e.curveOffset*Math.cos(-Math.PI/2+u)+o,y:e.curveOffset*Math.sin(-Math.PI/2+u)+a},t=jo(r,n,i)}var l=Bo(r,t);return[{x:l,y:l}]},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),2===e.length?t.push(["L",e[1].x,e[1].y]):t.push(["A",e[1].x,e[1].y,0,0,this.clockwise,e[2].x,e[2].y]),t}},"single-edge"),yf.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(e){var t=e.controlPoints;if(!t||!t.length){var n=e.startPoint,r=e.endPoint;void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),void 0===e.curvePosition&&(e.curvePosition=this.curvePosition),(0,Dr.isArray)(this.curveOffset)&&(e.curveOffset=e.curveOffset[0]),(0,Dr.isArray)(this.curvePosition)&&(e.curvePosition=e.curveOffset[0]),t=[qf(n,r,e.curvePosition,e.curveOffset)]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["Q",e[1].x,e[1].y,e[2].x,e[2].y]),t}},"single-edge"),yf.registerEdge("cubic",{curvePosition:[.5,.5],curveOffset:[-20,20],getControlPoints:function(e){var t=e.controlPoints;if(void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),void 0===e.curvePosition&&(e.curvePosition=this.curvePosition),(0,Dr.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,Dr.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]),!t||!t.length||t.length<2){var n=e.startPoint,r=e.endPoint;t=[qf(n,r,e.curvePosition[0],e.curveOffset[0]),qf(n,r,e.curvePosition[1],e.curveOffset[1])]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["C",e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y]),t}},"single-edge"),yf.registerEdge("cubic-vertical",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(e){var t=e.startPoint,n=e.endPoint;void 0===e.curvePosition&&(e.curvePosition=this.curvePosition),void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),void 0===e.minCurveOffset&&(e.minCurveOffset=this.minCurveOffset),(0,Dr.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,Dr.isNumber)(e.minCurveOffset)&&(e.minCurveOffset=[e.minCurveOffset,-e.minCurveOffset]),(0,Dr.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]);var r=n.y-t.y,i=[0,0];return e.curveOffset?i=e.curveOffset:Math.abs(r)<Math.abs(e.minCurveOffset[0])&&(i=e.minCurveOffset),[{x:t.x,y:t.y+r*this.curvePosition[0]+i[0]},{x:n.x,y:n.y-r*this.curvePosition[1]+i[1]}]}},"cubic"),yf.registerEdge("cubic-horizontal",{curvePosition:[.5,.5],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(e){var t=e.startPoint,n=e.endPoint;void 0===e.curvePosition&&(e.curvePosition=this.curvePosition),void 0===e.curveOffset&&(e.curveOffset=this.curveOffset),void 0===e.minCurveOffset&&(e.minCurveOffset=this.minCurveOffset),(0,Dr.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,Dr.isNumber)(e.minCurveOffset)&&(e.minCurveOffset=[e.minCurveOffset,-e.minCurveOffset]),(0,Dr.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]);var r=n.x-t.x,i=[0,0];return e.curveOffset?i=e.curveOffset:Math.abs(r)<Math.abs(e.minCurveOffset[0])&&(i=e.minCurveOffset),[{x:t.x+r*this.curvePosition[0]+i[0],y:t.y},{x:n.x-r*this.curvePosition[1]+i[1],y:n.y}]}},"cubic"),yf.registerEdge("loop",{getPathPoints:function(e){return ka(e)},getControlPoints:function(e){return e.controlPoints},afterDraw:function(e){e.controlPoints=void 0},afterUpdate:function(e){e.controlPoints=void 0}},"cubic");var Dd={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:ya.comboLabel.refX,refY:ya.comboLabel.refY,options:{style:{stroke:ya.defaultCombo.style.stroke,fill:ya.defaultCombo.style.fill,lineWidth:ya.defaultCombo.style.lineWidth},labelCfg:{style:{fill:ya.comboLabel.style.fill,fontSize:ya.comboLabel.style.fontSize,fontFamily:ya.windowFontFamily}},stateStyles:(0,Ir.__assign)({},ya.comboStateStyles)},getSize:function(e){var t=(0,Dr.clone)(e.size||this.options.size||ya.defaultCombo.size);return(0,Dr.isArray)(t)&&1===t.length&&(t=[t[0],t[0]]),(0,Dr.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(e,t){var n=t.position||this.labelPosition,r=e.style,i=e.padding||this.options.padding;(0,Dr.isArray)(i)&&(i=i[0]);var o=t.refX,a=t.refY;(0,Dr.isNil)(o)&&(o=this.refX),(0,Dr.isNil)(a)&&(a=this.refY);var s,u=this.getSize(e),l=(Math.max(r.r,u[0]/2)||u[0]/2)+i;switch(n){case"top":s={x:0,y:-l-a,textBaseline:"bottom",textAlign:"center"};break;case"bottom":s={x:0,y:l+a,textBaseline:"bottom",textAlign:"center"};break;case"left":s={x:-l+o,y:0,textAlign:"left"};break;case"center":s={x:0,y:0,text:e.label,textAlign:"center"};break;default:s={x:l+o,y:0,textAlign:"right"}}return s.text=e.label,s},drawShape:function(e,t){var n=this.shapeType,r=this.getShapeStyle(e);return t.addShape(n,{attrs:r,draggable:!0,name:"combo-shape"})},updateShape:function(e,t,n){var r=t.get("keyShape");(void 0===e.animate?this.options.animate:e.animate)&&r.animate?r.animate(n,{duration:200,easing:"easeLinear"}):r.attr((0,Ir.__assign)({},n)),this.updateLabel(e,t)}},Od=(0,Ir.__assign)((0,Ir.__assign)({},Cd),Dd);yf.registerCombo("single-combo",Od),yf.registerCombo("circle",{options:{size:[ya.defaultCombo.size[0],ya.defaultCombo.size[0]],padding:ya.defaultCombo.padding[0],animate:!0,style:{stroke:ya.defaultCombo.style.stroke,fill:ya.defaultCombo.style.fill,lineWidth:ya.defaultCombo.style.lineWidth},labelCfg:{style:{fill:ya.comboLabel.style.fill,fontSize:ya.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:(0,Ir.__assign)({},ya.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(e,t){var n=this.getShapeStyle(e);return delete n.height,delete n.width,t.addShape("circle",{attrs:n,className:"circle-combo",name:"circle-combo",draggable:!0})},getShapeStyle:function(e){var t=this.options.style,n=e.padding||this.options.padding;(0,Dr.isArray)(n)&&(n=n[0]);var r,i={stroke:e.color},o=(0,Dr.mix)({},t,i,e.style);if(e.fixSize)r=(0,Dr.isNumber)(e.fixSize)?e.fixSize:e.fixSize[0];else{var a=this.getSize(e);r=!(0,Dr.isNumber)(o.r)||isNaN(o.r)?a[0]/2||ya.defaultCombo.style.r:Math.max(o.r,a[0]/2)||a[0]/2}o.r=r+n;var s=(0,Ir.__assign)({x:0,y:0},o);return e.style?e.style.r=r:e.style={r:r},s},update:function(e,t){var n=this.getSize(e),r=e.padding||this.options.padding;(0,Dr.isArray)(r)&&(r=r[0]);var i,o=(0,Dr.clone)(e.style);i=e.fixSize?(0,Dr.isNumber)(e.fixSize)?e.fixSize:e.fixSize[0]:Math.max(o.r,n[0]/2)||n[0]/2,o.r=i+r;var a=t.get("sizeCache");a&&(a.r=o.r);var s={stroke:e.color},u=t.get("keyShape"),l=(0,Dr.mix)({},u.attr(),s,o);e.style?e.style.r=i:e.style={r:i},this.updateShape(e,t,l,!0)}},"single-combo"),yf.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:ya.defaultCombo.style.stroke,fill:ya.defaultCombo.style.fill,lineWidth:ya.defaultCombo.style.lineWidth},labelCfg:{style:{fill:ya.comboLabel.style.fill,fontSize:ya.comboLabel.style.fontSize,fontFamily:ya.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,Ir.__assign)({},ya.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(e,t){var n=this.getShapeStyle(e);return t.addShape("rect",{attrs:n,className:"rect-combo",name:"rect-combo",draggable:!0})},getLabelStyleByPosition:function(e,t){var n=t.position||this.labelPosition,r=e.style,i=e.padding||this.options.padding;(0,Dr.isNumber)(i)&&(i=[i,i,i,i]);var o=t.refX,a=t.refY;(0,Dr.isNil)(o)&&(o=this.refX),(0,Dr.isNil)(a)&&(a=this.refY);var s,u=r.width/2+i[3],l=r.height/2+i[0];switch(n){case"top":s={x:0-u+o,y:0-l+a,textBaseline:"top",textAlign:"left"};break;case"bottom":s={x:0,y:l+a,textBaseline:"bottom",textAlign:"center"};break;case"left":s={x:0-u+a,y:0,textAlign:"left"};break;case"center":s={x:0,y:0,text:e.label,textAlign:"center"};break;default:s={x:u+o,y:0,textAlign:"right"}}return s.text=e.label,s},getShapeStyle:function(e){var t=this.options.style,n=e.padding||this.options.padding;(0,Dr.isNumber)(n)&&(n=[n,n,n,n]);var r,i,o={stroke:e.color},a=(0,Dr.mix)({},t,o,e.style),s=this.getSize(e),u=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize;u?(0,Dr.isNumber)(u)?(r=u,i=u):(r=u[0],i=u[1]):(r=!(0,Dr.isNumber)(a.width)||isNaN(a.width)?s[0]||ya.defaultCombo.style.width:Math.max(a.width,s[0])||s[0],i=!(0,Dr.isNumber)(a.height)||isNaN(a.height)?s[1]||ya.defaultCombo.style.height:Math.max(a.height,s[1])||s[1]);var l=-r/2-n[3],c=-i/2-n[0];a.width=r+n[1]+n[3],a.height=i+n[0]+n[2];var f=(0,Ir.__assign)({x:l,y:c},a);return e.style?(e.style.width=r,e.style.height=i):e.style={width:r,height:i},f},update:function(e,t){var n=this.getSize(e),r=e.padding||this.options.padding;(0,Dr.isNumber)(r)&&(r=[r,r,r,r]);var i,o,a=(0,Dr.clone)(e.style),s=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize;s?(0,Dr.isNumber)(s)?(i=s,o=s):(i=s[0],o=s[1]):(i=Math.max(a.width,n[0])||n[0],o=Math.max(a.height,n[1])||n[1]),a.width=i+r[1]+r[3],a.height=o+r[0]+r[2];var u=t.get("sizeCache");u&&(u.width=a.width,u.height=a.height),a.x=-i/2-r[3],a.y=-o/2-r[0];var l={stroke:e.color},c=t.get("keyShape"),f=(0,Dr.mix)({},c.attr(),l,a);e.style?(e.style.width=i,e.style.height=o):e.style={width:i,height:o},this.updateShape(e,t,f,!1)},updateShape:function(e,t,n){var r=t.get("keyShape");(void 0===e.animate?this.options.animate:e.animate)&&r.animate?r.animate(n,{duration:200,easing:"easeLinear"}):r.attr((0,Ir.__assign)({},n)),this.updateLabel(e,t)}},"single-combo"),yf.registerNode("simple-circle",{options:{size:ya.defaultNode.size,style:{x:0,y:0,stroke:ya.defaultNode.style.stroke,fill:ya.defaultNode.style.fill,lineWidth:ya.defaultNode.style.lineWidth},labelCfg:{style:{fill:ya.nodeLabel.style.fill,fontSize:ya.nodeLabel.style.fontSize,fontFamily:ya.windowFontFamily}},stateStyles:(0,Ir.__assign)({},ya.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",shapeMap:{},drawShape:function(e,t){var n=this.getShapeStyle(e),r="".concat(this.type,"-keyShape"),i=t.addShape("circle",{attrs:n,className:"".concat(this.type,"-keyShape"),name:r,draggable:!0});return t.shapeMap[r]=i,i},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,Dr.deepMix)({},t,n),i=this.getSize(e)[0]/2;return(0,Ir.__assign)({x:0,y:0,r:i},r)},update:function(e,t,n){var r=this.getSize(e),i={stroke:e.color,r:r[0]/2},o=t.get("keyShape"),a=(0,Dr.deepMix)({},o.attr(),i,e.style);this.updateShape(e,t,a,!0,n)}},"single-node"),yf.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:ya.defaultNode.style.stroke,fill:ya.defaultNode.style.fill,lineWidth:ya.defaultNode.style.lineWidth},labelCfg:{style:{fill:ya.nodeLabel.style.fill,fontSize:ya.nodeLabel.style.fontSize,fontFamily:ya.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,Ir.__assign)({},ya.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(e,t){var n=this.getShapeStyle(e);return t.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0})},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,Dr.mix)({},t,n),i=this.getSize(e),o=r.width||i[0],a=r.height||i[1];return(0,Ir.__assign)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(e,t,n){t.getContainer();var r=(this.mergeStyle||this.getOptions(e)).style,i=this.getSize(e),o=t.get("keyShape");e.size||(i[0]=o.attr("width")||r.width,i[1]=o.attr("height")||r.height);var a={stroke:e.color,x:-i[0]/2,y:-i[1]/2,width:i[0],height:i[1]},s=(0,Dr.mix)({},r,o.attr(),a);s=(0,Dr.mix)(s,e.style),this.updateShape(e,t,s,!1,n)}},"single-node"),yf.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,labelCfg:{style:{fontFamily:ya.windowFontFamily}},clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(e,t){var n=this.shapeType,r=this.getShapeStyle(e);delete r.fill;var i=t.addShape(n,{attrs:r,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return this.drawClip(e,i),i},drawClip:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).clipCfg;if(n.show){var r=n.type,i=n.x,o=n.y,a=n.style;if("circle"===r){var s=n.r;t.setClip({type:"circle",attrs:(0,Ir.__assign)({r:s,x:i,y:o},a)})}else if("rect"===r){var u=n.width,l=n.height,c=i-u/2,f=o-l/2;t.setClip({type:"rect",attrs:(0,Ir.__assign)({x:c,y:f,width:u,height:l},a)})}else if("ellipse"===r){var d=n.rx,h=n.ry;t.setClip({type:"ellipse",attrs:(0,Ir.__assign)({x:i,y:o,rx:d,ry:h},a)})}else if("polygon"===r){var p=n.points;t.setClip({type:"polygon",attrs:(0,Ir.__assign)({points:p},a)})}else if("path"===r){var g=n.path;t.setClip({type:"path",attrs:(0,Ir.__assign)({path:g},a)})}}},getShapeStyle:function(e){var t=this.mergeStyle||this.getOptions(e),n=t.style,r=t.img,i=this.getSize(e),o=i[0],a=i[1];return n&&(o=n.width||i[0],a=n.height||i[1]),(0,Ir.__assign)({x:-o/2,y:-a/2,width:o,height:a,img:r},n)},updateShapeStyle:function(e,t){var n=t.getContainer(),r="".concat(this.itemType,"-shape"),i=n.shapeMap[r]||n.find((function(e){return e.get("className")===r}))||t.getKeyShape(),o=this.getShapeStyle(e);i&&!i.destroyed&&i.attr(o)}},"single-node");var Rd,Ld={triangle:function(e,t,n){void 0===e&&(e=10),void 0===t&&(t=15),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",0 L ").concat(r+t,",-").concat(e/2," L ").concat(r+t,",").concat(e/2," Z")},vee:function(e,t,n){void 0===e&&(e=15),void 0===t&&(t=20),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",0 L ").concat(r+t,",-").concat(e/2,"\n        L ").concat(r+2*t/3,",0 L ").concat(r+t,",").concat(e/2," Z")},circle:function(e,t){return void 0===e&&(e=5),void 0===t&&(t=0),"M ".concat(2*t,", 0\n            a ").concat(e,",").concat(e," 0 1,0 ").concat(2*e,",0\n            a ").concat(e,",").concat(e," 0 1,0 ").concat(2*-e,",0")},rect:function(e,t,n){void 0===e&&(e=10),void 0===t&&(t=10),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",").concat(-e/2," \n        L ").concat(r+t,",").concat(-e/2," \n        L ").concat(r+t,",").concat(e/2," \n        L ").concat(r,",").concat(e/2," Z")},diamond:function(e,t,n){void 0===e&&(e=15),void 0===t&&(t=15),void 0===n&&(n=0);var r=2*n;return"M ".concat(r,",0 \n        L ").concat(r+t/2,",").concat(-e/2," \n        L ").concat(r+t,",0 \n        L ").concat(r+t/2,",").concat(e/2," Z")},triangleRect:function(e,t,n,r,i,o){void 0===e&&(e=15),void 0===t&&(t=15),void 0===n&&(n=15),void 0===r&&(r=3),void 0===i&&(i=5),void 0===o&&(o=0);var a=2*o,s=a+t+i;return"M ".concat(a,",0 L ").concat(a+t,",-").concat(e/2," L ").concat(a+t,",").concat(e/2," Z\n            M ").concat(s,", -").concat(n/2,"\n            L ").concat(s+r," -").concat(n/2,"\n            L ").concat(s+r," ").concat(n/2,"\n            L ").concat(s," ").concat(n/2,"\n            Z")}},jd={collapse:function(e,t,n){return[["M",e-n,t],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",e-n+4,t],["L",e+n-4,t]]},expand:function(e,t,n){return[["M",e-n,t],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0],["M",e-n+4,t],["L",e-n+2*n-4,t],["M",e-n+n,t-n+4],["L",e,t+n-4]]},upTriangle:function(e,t,n){var r=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[["M",e-r,t+i],["L",e+r,t+i],["L",e,t-n],["Z"]]},downTriangle:function(e,t,n){var r=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[["M",e-r,t-i],["L",e+r,t-i],["L",e,t+n],["Z"]]}},Bd=yf,Fd=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"],zd=Wr,Yd=(0,Ir.__assign)((0,Ir.__assign)((0,Ir.__assign)((0,Ir.__assign)((0,Ir.__assign)((0,Ir.__assign)({},a),r),s),t),u),{transform:zd,mat3:zr}),Gd=function(){function e(e){this.graph=e,this.layoutCfg=e.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return e.prototype.initLayout=function(){},e.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},e.prototype.getLayoutCfgType=function(e){var t=e.type;if(t)return t;var n=e.pipes;return Array.isArray(n)?n.map((function(e){return(null===e||void 0===e?void 0:e.type)||""})):null},e.prototype.isLayoutTypeSame=function(e){var t=this.getLayoutCfgType(e);return Array.isArray(this.layoutType)?this.layoutType.every((function(e,n){return e===t[n]})):(null===e||void 0===e?void 0:e.type)===this.layoutType},e.prototype.refreshLayout=function(){var e=this,t=e.graph,n=e.layoutType;e.data;t&&(t.get("animate")?t.positionsAnimate("comboCombined"===n):t.refreshPositions("comboCombined"===n))},e.prototype.changeLayout=function(e){this.layoutCfg=e,this.destoryLayoutMethods(),this.layout()},e.prototype.changeData=function(){this.destoryLayoutMethods(),this.layout()},e.prototype.destoryLayoutMethods=function(){var e=this.layoutMethods;null===e||void 0===e||e.forEach((function(e){e.destroy()})),this.layoutMethods=[]},e.prototype.destroyLayout=function(){var e=this.graph;this.destoryLayoutMethods(),e.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},e.prototype.setDataFromGraph=function(){for(var e=[],t=[],n=[],r=[],i=[],o=[],a=[],s=this.graph.getNodes(),u=this.graph.getEdges(),l=this.graph.getCombos(),c=s.length,f=0;f<c;f++){var d=s[f];if(d&&!d.destroyed){var h=d.getModel();d.isVisible()?e.push(h):t.push(h)}}var p=u.length;for(f=0;f<p;f++){var g=u[f];if(g&&!g.destroyed){h=g.getModel();g.isVisible()?h.isComboEdge?i.push(h):n.push(h):r.push(h)}}var v=l.length;for(f=0;f<v;f++){var m=l[f];if(!m.destroyed){h=m.getModel();m.isVisible()?o.push(h):a.push(h)}}return{nodes:e,hiddenNodes:t,edges:n,hiddenEdges:r,combos:o,hiddenCombos:a,comboEdges:i}},e.prototype.reLayoutMethod=function(e,t){var n=this;return new Promise((function(r,i){var o=n.graph,a=null===t||void 0===t?void 0:t.type;t.onLayoutEnd=function(){o.emit("aftersublayout",{type:a}),r()},e.init(n.data),"force"===a&&(e.ticking=!1,e.forceSimulation.stop()),o.emit("beforesublayout",{type:a}),e.execute(),e.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd()}))},e.prototype.relayout=function(e){var t=this,n=this,r=n.graph,i=n.layoutMethods,o=n.layoutCfg;if(e){this.data=this.setDataFromGraph();var a=this.data.nodes;if(!a)return!1;this.initPositions(o.center,a)}r.emit("beforelayout");var s=Promise.resolve();null===i||void 0===i||i.forEach((function(e,n){var r=o[n];s=s.then((function(){return t.reLayoutMethod(e,r)}))})),(null===i||void 0===i?void 0:i.length)&&s.then((function(){o.onAllLayoutEnd&&o.onAllLayoutEnd()})).catch((function(e){console.warn("relayout failed",e)}))},e.prototype.filterLayoutData=function(e,t){var n,r,i=e.nodes,o=e.edges,a=(0,Ir.__rest)(e,["nodes","edges"]);if(!i)return e;n=(0,Dr.isFunction)(null===t||void 0===t?void 0:t.nodesFilter)?t.nodesFilter:function(){return!0};var s=i.filter(n);if((0,Dr.isFunction)(null===t||void 0===t?void 0:t.edgesFilter))r=t.edgesFilter;else{var u=s.reduce((function(e,t){return e[t.id]=!0,e}),{});r=function(e){return u[e.source]&&u[e.target]}}return(0,Ir.__assign)({nodes:s,edges:o.filter(r)},a)},e.prototype.getLayoutBBox=function(e){var t=this.graph,n=(0,Dr.groupBy)(t.getNodes(),(function(e){return e.getModel().layoutOrder})),r=Object.values(n).map((function(e){var t=nf(e);return t.size=[t.width,t.height],t}));return{groupNodes:Object.values((0,Dr.groupBy)(e,"layoutOrder")),layoutNodes:r}},e.prototype.layoutAnimate=function(){},e.prototype.moveToZero=function(){var e=this.graph.get("data").nodes;if(void 0!==e[0].x&&null!==e[0].x&&!tf(e[0].x)){for(var t=[0,0],n=e.length,r=0;r<n;r++){var i=e[r];t[0]+=i.x,t[1]+=i.y}t[0]/=e.length,t[1]/=e.length;for(r=0;r<n;r++){(i=e[r]).x-=t[0],i.y-=t[1]}}},e.prototype.initPositions=function(e,t){var n=this.graph;if(!t)return!1;var r=t?t.length:0;if(r){var i=.85*n.get("width"),o=.85*n.get("height"),a=Math.ceil(Math.sqrt(r)*(i/o)),s=i/(a-1),u=o/(Math.ceil(r/a)-1);isFinite(s)&&s||(s=0),isFinite(u)&&s||(u=0);for(var l=e[0]-i/2,c=e[1]-o/2,f=!0,d=0;d<r;d++){var h=t[d];tf(+h.x)&&(f=!1,h.x=d%a*s+l),tf(+h.y)&&(f=!1,h.y=Math.floor(d/a)*u+c)}return f}},e.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},e}(),Vd=Gd,Ud=function(e){this.graph=e,this.destroyed=!1,this.initEvents()},Wd=Ud;!function(e){e.CLICK="click",e.DBLCLICK="dblclick",e.MOUSEDOWN="mousedown",e.MOUDEUP="mouseup",e.CONTEXTMENU="contextmenu",e.MOUSEENTER="mouseenter",e.MOUSEOUT="mouseout",e.MOUSEOVER="mouseover",e.MOUSEMOVE="mousemove",e.MOUSELEAVE="mouseleave",e.DRAGSTART="dragstart",e.DRAGEND="dragend",e.DRAG="drag",e.DRAGENTER="dragenter",e.DRAGLEAVE="dragleave",e.DRAGOVER="dragover",e.DRAGOUT="dragout",e.DDROP="drop",e.KEYUP="keyup",e.KEYDOWN="keydown",e.WHEEL="wheel",e.FOCUS="focus",e.BLUR="blur",e.TOUCHSTART="touchstart",e.TOUCHMOVE="touchmove",e.TOUCHEND="touchend",e.CANVAS_TOUCHSTART="canvas:touchstart",e.CANVAS_TOUCHMOVE="canvas:touchmove",e.CANVAS_TOUCHEND="canvas:touchend",e.NODE_TOUCHSTART="node:touchstart",e.NODE_TOUCHMOVE="node:touchmove",e.NODE_TOUCHEND="node:touchend",e.COMBO_TOUCHSTART="combo:touchstart",e.COMBO_TOUCHMOVE="combo:touchmove",e.COMBO_TOUCHEND="combo:touchend",e.EDGE_TOUCHSTART="edge:touchstart",e.EDGE_TOUCHMOVE="edge:touchmove",e.EDGE_TOUCHEND="edge:touchend",e.NODE_CONTEXTMENU="node:contextmenu",e.NODE_CLICK="node:click",e.NODE_DBLCLICK="node:dblclick",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEOUT="node:mouseout",e.NODE_MOUSEOVER="node:mouseover",e.NODE_DROP="node:drop",e.NODE_DRAGOVER="node:dragover",e.NODE_DRAGENTER="node:dragenter",e.NODE_DRAGLEAVE="node:dragleave",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DRAGEND="node:dragend",e.NODE_TAP="node:tap",e.NODE_PANSTART="node:panstart",e.NODE_PANMOVE="node:panmove",e.NODE_PANEND="node:panend",e.COMBO_CONTEXTMENU="combo:contextmenu",e.COMBO_CLICK="combo:click",e.COMBO_DBLCLICK="combo:dblclick",e.COMBO_MOUSEDOWN="combo:mousedown",e.COMBO_MOUSEUP="combo:mouseup",e.COMBO_MOUSEENTER="combo:mouseenter",e.COMBO_MOUSELEAVE="combo:mouseleave",e.COMBO_MOUSEMOVE="combo:mousemove",e.COMBO_MOUSEOUT="combo:mouseout",e.COMBO_MOUSEOVER="combo:mouseover",e.COMBO_DROP="combo:drop",e.COMBO_DRAGOVER="combo:dragover",e.COMBO_DRAGENTER="combo:dragenter",e.COMBO_DRAGLEAVE="combo:dragleave",e.COMBO_DRAGSTART="combo:dragstart",e.COMBO_DRAG="combo:drag",e.COMBO_DRAGEND="combo:dragend",e.COMBO_TAP="combo:tap",e.COMBO_PANSTART="combo:panstart",e.COMBO_PANMOVE="combo:panmove",e.COMBO_PANEND="combo:panend",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_CLICK="edge:click",e.EDGE_DBLCLICK="edge:dblclick",e.EDGE_MOUSEDOWN="edge:mousedown",e.EDGE_MOUSEUP="edge:mouseup",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_MOUSEMOVE="edge:mousemove",e.EDGE_MOUSEOUT="edge:mouseout",e.EDGE_MOUSEOVER="edge:mouseover",e.EDGE_DROP="edge:drop",e.EDGE_DRAGOVER="edge:dragover",e.EDGE_DRAGENTER="edge:dragenter",e.EDGE_DRAGLEAVE="edge:dragleave",e.CANVAS_CONTEXTMENU="canvas:contextmenu",e.CANVAS_CLICK="canvas:click",e.CANVAS_DBLCLICK="canvas:dblclick",e.CANVAS_MOUSEDOWN="canvas:mousedown",e.CANVAS_MOUSEUP="canvas:mouseup",e.CANVAS_MOUSEENTER="canvas:mouseenter",e.CANVAS_MOUSELEAVE="canvas:mouseleave",e.CANVAS_MOUSEMOVE="canvas:mousemove",e.CANVAS_MOUSEOUT="canvas:mouseout",e.CANVAS_MOUSEOVER="canvas:mouseover",e.CANVAS_DROP="canvas:drop",e.CANVAS_DRAGENTER="canvas:dragenter",e.CANVAS_DRAGLEAVE="canvas:dragleave",e.CANVAS_DRAGSTART="canvas:dragstart",e.CANVAS_DRAG="canvas:drag",e.CANVAS_DRAGEND="canvas:dragend",e.CANVAS_TAP="canvas:tap",e.CANVAS_PANSTART="canvas:panstart",e.CANVAS_PANMOVE="canvas:panmove",e.CANVAS_PANEND="canvas:panend",e.BEFORERENDER="beforerender",e.AFTERRENDER="afterrender",e.BEFOREADDITEM="beforeadditem",e.AFTERADDITEM="afteradditem",e.BEFOREREMOVEITEM="beforeremoveitem",e.AFTERREMOVEITEM="afterremoveitem",e.BEFOREUPDATEITEM="beforeupdateitem",e.AFTERUPDATEITEM="afterupdateitem",e.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",e.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",e.BEFOREITEMSTATECHANGE="beforeitemstatechange",e.AFTERITEMSTATECHANGE="afteritemstatechange",e.BEFOREITEMREFRESH="beforeitemrefresh",e.AFTERITEMREFRESH="afteritemrefresh",e.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",e.AFTERITEMSTATESCLEAR="afteritemstatesclear",e.BEFOREMODECHANGE="beforemodechange",e.AFTERMODECHANGE="aftermodechange",e.BEFORELAYOUT="beforelayout",e.AFTERLAYOUT="afterlayout",e.BEFORECREATEEDGE="beforecreateedge",e.AFTERCREATEEDGE="aftercreateedge",e.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",e.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",e.BEFOREGRAPHREFRESH="beforegraphrefresh",e.AFTERGRAPHREFRESH="aftergraphrefresh",e.BEFOREANIMATE="beforeanimate",e.AFTERANIMATE="afteranimate",e.BEFOREPAINT="beforepaint",e.AFTERPAINT="afterpaint",e.BEFORECOLLAPSEEXPANDCOMBO="beforecollapseexpandcombo",e.AFTERCOLLAPSEEXPANDCOMBO="aftercollapseexpandcombo",e.GRAPHSTATECHANGE="graphstatechange",e.AFTERACTIVATERELATIONS="afteractivaterelations",e.NODESELECTCHANGE="nodeselectchange",e.TOOLTIPCHANGE="tooltipchange",e.WHEELZOOM="wheelzoom",e.VIEWPORTCHANGE="viewportchange",e.DRAGNODEEND="dragnodeend",e.STACKCHANGE="stackchange",e.TAP="tap",e.PINCHSTART="pinchstart",e.PINCHMOVE="pinchmove",e.PANSTART="panstart",e.PANMOVE="panmove",e.PANEND="panend"}(Rd||(Rd={}));var Zd=Bd.registerNode,Hd=Bd.registerEdge,Xd=Bd.registerCombo,Kd=jr.registerBehavior,qd=ya,Jd=(Bd.registerNode,Bd.registerEdge,Bd.registerCombo,jr.registerBehavior,n(9252));function $d(e,t,n,r){var i=e-n,o=t-r;return Math.sqrt(i*i+o*o)}function Qd(e,t,n,r,i,o){return i>=e&&i<=e+n&&o>=t&&o<=t+r}function eh(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)}function th(e,t){return e[0]===t[0]&&e[1]===t[1]}var nh=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,rh=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,ih=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,oh=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function ah(e,t){var n=e.match(oh);(0,Dr.each)(n,(function(e){var n=e.split(":");t.addColorStop(n[0],n[1])}))}function sh(e,t,n){var r=t.getBBox();if(isNaN(r.x)||isNaN(r.y)||isNaN(r.width)||isNaN(r.height))return n;if((0,Dr.isString)(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return function(e,t,n){var r,i,o=nh.exec(n),a=parseFloat(o[1])%360*(Math.PI/180),s=o[2],u=t.getBBox();a>=0&&a<.5*Math.PI?(r={x:u.minX,y:u.minY},i={x:u.maxX,y:u.maxY}):.5*Math.PI<=a&&a<Math.PI?(r={x:u.maxX,y:u.minY},i={x:u.minX,y:u.maxY}):Math.PI<=a&&a<1.5*Math.PI?(r={x:u.maxX,y:u.maxY},i={x:u.minX,y:u.minY}):(r={x:u.minX,y:u.maxY},i={x:u.maxX,y:u.minY});var l=Math.tan(a),c=l*l,f=(i.x-r.x+l*(i.y-r.y))/(c+1)+r.x,d=l*(i.x-r.x+l*(i.y-r.y))/(c+1)+r.y,h=e.createLinearGradient(r.x,r.y,f,d);return ah(s,h),h}(e,t,n);if("r"===n[0])return function(e,t,n){var r=rh.exec(n),i=parseFloat(r[1]),o=parseFloat(r[2]),a=parseFloat(r[3]),s=r[4];if(0===a){var u=s.match(oh);return u[u.length-1].split(":")[1]}var l=t.getBBox(),c=l.maxX-l.minX,f=l.maxY-l.minY,d=Math.sqrt(c*c+f*f)/2,h=e.createRadialGradient(l.minX+c*i,l.minY+f*o,0,l.minX+c/2,l.minY+f/2,a*d);return ah(s,h),h}(e,t,n);if("p"===n[0])return function(e,t,n){if(t.get("patternSource")&&t.get("patternSource")===n)return t.get("pattern");var r,i,o=ih.exec(n),a=o[1],s=o[2];function u(){r=e.createPattern(i,a),t.set("pattern",r),t.set("patternSource",n)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;default:a="no-repeat"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=s,i.complete?u():(i.onload=u,i.src=i.src),r}(e,t,n)}return n}return n instanceof CanvasPattern?n:void 0}function uh(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function lh(e,t){return uh(e)*uh(t)?(e[0]*t[0]+e[1]*t[1])/(uh(e)*uh(t)):1}function ch(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(lh(e,t))}function fh(e,t){var n=t[1],r=t[2],i=(0,Dr.mod)((0,Dr.toRadian)(t[3]),2*Math.PI),o=t[4],a=t[5],s=e[0],u=e[1],l=t[6],c=t[7],f=Math.cos(i)*(s-l)/2+Math.sin(i)*(u-c)/2,d=-1*Math.sin(i)*(s-l)/2+Math.cos(i)*(u-c)/2,h=f*f/(n*n)+d*d/(r*r);h>1&&(n*=Math.sqrt(h),r*=Math.sqrt(h));var p=n*n*(d*d)+r*r*(f*f),g=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var v=r?g*n*d/r:0,m=n?g*-r*f/n:0,y=(s+l)/2+Math.cos(i)*v-Math.sin(i)*m,b=(u+c)/2+Math.sin(i)*v+Math.cos(i)*m,x=[(f-v)/n,(d-m)/r],w=[(-1*f-v)/n,(-1*d-m)/r],E=ch([1,0],x),S=ch(x,w);return lh(x,w)<=-1&&(S=Math.PI),lh(x,w)>=1&&(S=0),0===a&&S>0&&(S-=2*Math.PI),1===a&&S<0&&(S+=2*Math.PI),{cx:y,cy:b,rx:th(e,[l,c])?0:n,ry:th(e,[l,c])?0:r,startAngle:E,endAngle:E+S,xRotation:i,arcFlag:o,sweepFlag:a}}var dh=Math.sin,hh=Math.cos,ph=Math.atan2,gh=Math.PI;function vh(e,t,n,r,i,o,a){var s=t.stroke,u=t.lineWidth,l=ph(r-o,n-i),c=new op({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*hh(gh/6)+","+10*dh(gh/6)+" L0,0 L"+10*hh(gh/6)+",-"+10*dh(gh/6),stroke:s,lineWidth:u}});c.translate(i,o),c.rotateAtPoint(i,o,l),e.set(a?"startArrowShape":"endArrowShape",c)}function mh(e,t,n,r,i,o,a){var s=t.startArrow,u=t.endArrow,l=t.stroke,c=t.lineWidth,f=a?s:u,d=f.d,h=f.fill,p=f.stroke,g=f.lineWidth,v=(0,Ir.__rest)(f,["d","fill","stroke","lineWidth"]),m=ph(r-o,n-i);d&&(i-=hh(m)*d,o-=dh(m)*d);var y=new op({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:(0,Ir.__assign)((0,Ir.__assign)({},v),{stroke:p||l,lineWidth:g||c,fill:h})});y.translate(i,o),y.rotateAtPoint(i,o,m),e.set(a?"startArrowShape":"endArrowShape",y)}function yh(e,t,n,r,i){var o=ph(r-t,n-e);return{dx:hh(o)*i,dy:dh(o)*i}}function bh(e,t,n,r,i,o){"object"===typeof t.startArrow?mh(e,t,n,r,i,o,!0):t.startArrow?vh(e,t,n,r,i,o,!0):e.set("startArrowShape",null)}function xh(e,t,n,r,i,o){"object"===typeof t.endArrow?mh(e,t,n,r,i,o,!1):t.endArrow?vh(e,t,n,r,i,o,!1):e.set("startArrowShape",null)}var wh={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function Eh(e,t){var n=t.attr();for(var r in n){var i=n[r],o=wh[r]?wh[r]:r;"matrix"===o&&i?e.transform(i[0],i[1],i[3],i[4],i[6],i[7]):"lineDash"===o&&e.setLineDash?(0,Dr.isArray)(i)&&e.setLineDash(i):("strokeStyle"===o||"fillStyle"===o?i=sh(e,t,i):"globalAlpha"===o&&(i*=e.globalAlpha),e[o]=i)}}function Sh(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];i.cfg.visible?i.draw(e,n):i.skipDraw()}}function _h(e,t,n){var r=e.get("refreshElements");(0,Dr.each)(r,(function(t){if(t!==e)for(var n=t.cfg.parent;n&&n!==e&&!n.cfg.refresh;)n.cfg.refresh=!0,n=n.cfg.parent})),r[0]===e?Ch(t,n):Th(t,n)}function Th(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.cfg.visible)if(r.cfg.hasChanged)r.cfg.refresh=!0,r.isGroup()&&Ch(r.cfg.children,t);else if(r.cfg.refresh)r.isGroup()&&Th(r.cfg.children,t);else{var i=Mh(r,t);r.cfg.refresh=i,i&&r.isGroup()&&Th(r.cfg.children,t)}}}function kh(e){for(var t=0;t<e.length;t++){var n=e[t];n.cfg.hasChanged=!1,n.isGroup()&&!n.destroyed&&kh(n.cfg.children)}}function Ch(e,t){for(var n=0;n<e.length;n++){var r=e[n];r.cfg.refresh=!0,r.isGroup()&&Ch(r.get("children"),t)}}function Mh(e,t){var n=e.cfg.cacheCanvasBBox;return e.cfg.isInView&&n&&eh(n,t)}function Ah(e,t,n,r){var i=n.path,o=n.startArrow,a=n.endArrow;if(i){var s=[0,0],u=[0,0],l={dx:0,dy:0};t.beginPath();for(var c=0;c<i.length;c++){var f=i[c],d=f[0];if(0===c&&o&&o.d)l=yh((h=e.getStartTangent())[0][0],h[0][1],h[1][0],h[1][1],o.d);else if(c===i.length-2&&"Z"===i[c+1][0]&&a&&a.d){if("Z"===i[c+1][0])l=yh((h=e.getEndTangent())[0][0],h[0][1],h[1][0],h[1][1],a.d)}else if(c===i.length-1&&a&&a.d){var h;if("Z"!==i[0])l=yh((h=e.getEndTangent())[0][0],h[0][1],h[1][0],h[1][1],a.d)}var p=l.dx,g=l.dy;switch(d){case"M":t.moveTo(f[1]-p,f[2]-g),u=[f[1],f[2]];break;case"L":t.lineTo(f[1]-p,f[2]-g);break;case"Q":t.quadraticCurveTo(f[1],f[2],f[3]-p,f[4]-g);break;case"C":t.bezierCurveTo(f[1],f[2],f[3],f[4],f[5]-p,f[6]-g);break;case"A":var v=void 0;r?(v=r[c])||(v=fh(s,f),r[c]=v):v=fh(s,f);var m=v.cx,y=v.cy,b=v.rx,x=v.ry,w=v.startAngle,E=v.endAngle,S=v.xRotation,_=v.sweepFlag;if(t.ellipse)t.ellipse(m,y,b,x,S,w,E,1-_);else{var T=b>x?b:x,k=b>x?1:b/x,C=b>x?x/b:1;t.translate(m,y),t.rotate(S),t.scale(k,C),t.arc(0,0,T,w,E,1-_),t.scale(1/k,1/C),t.rotate(-S),t.translate(-m,-y)}break;case"Z":t.closePath()}if("Z"===d)s=u;else{var M=f.length;s=[f[M-2],f[M-1]]}}}}function Nh(e,t){var n=e.get("canvas");n&&("remove"===t&&(e._cacheCanvasBBox=e.get("cacheCanvasBBox")),e.get("hasChanged")||(e.set("hasChanged",!0),e.cfg.parent&&e.cfg.parent.get("hasChanged")||(n.refreshElement(e,t,n),n.get("autoDraw")&&n.draw())))}function Ph(e){var t,n,r;if(e.destroyed)t=e._cacheCanvasBBox;else{var i=e.get("cacheCanvasBBox"),o=i&&!(!i.width||!i.height),a=e.getCanvasBBox(),s=a&&!(!a.width||!a.height);o&&s?(r=a,t=(n=i)&&r?{minX:Math.min(n.minX,r.minX),minY:Math.min(n.minY,r.minY),maxX:Math.max(n.maxX,r.maxX),maxY:Math.max(n.maxY,r.maxY)}:n||r):o?t=i:s&&(t=a)}return t}var Ih=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype.onCanvasChange=function(e){Nh(this,e)},t.prototype.getShapeBase=function(){return l},t.prototype.getGroupBase=function(){return t},t.prototype._applyClip=function(e,t){t&&(e.save(),Eh(e,t),t.createPath(e),e.restore(),e.clip(),t._afterDraw())},t.prototype.cacheCanvasBBox=function(){var e=this.cfg.children,t=[],n=[];(0,Dr.each)(e,(function(e){var r=e.cfg.cacheCanvasBBox;r&&e.cfg.isInView&&(t.push(r.minX,r.maxX),n.push(r.minY,r.maxY))}));var r=null;if(t.length){var i=(0,Dr.min)(t),o=(0,Dr.max)(t),a=(0,Dr.min)(n),s=(0,Dr.max)(n);r={minX:i,minY:a,x:i,y:a,maxX:o,maxY:s,width:o-i,height:s-a};var u=this.cfg.canvas;if(u){var l=u.getViewRange();this.set("isInView",eh(r,l))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",r)},t.prototype.draw=function(e,t){var n=this.cfg.children,r=!t||this.cfg.refresh;n.length&&r&&(e.save(),Eh(e,this),this._applyClip(e,this.getClip()),Sh(e,n,t),e.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},t.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},t}(Hl),Dh=Ih,Oh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Ir.__assign)((0,Ir.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},t.prototype.getShapeBase=function(){return l},t.prototype.getGroupBase=function(){return Dh},t.prototype.onCanvasChange=function(e){Nh(this,e)},t.prototype.calculateBBox=function(){var e=this.get("type"),t=this.getHitLineWidth(),n=$l(e)(this),r=t/2,i=n.x-r,o=n.y-r,a=n.x+n.width+r,s=n.y+n.height+r;return{x:i,minX:i,y:o,minY:o,width:n.width+t,height:n.height+t,maxX:a,maxY:s}},t.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},t.prototype.isStroke=function(){return!!this.attrs.stroke},t.prototype._applyClip=function(e,t){t&&(e.save(),Eh(e,t),t.createPath(e),e.restore(),e.clip(),t._afterDraw())},t.prototype.draw=function(e,t){var n=this.cfg.clipShape;if(t){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);if(!eh(t,this.getCanvasBBox()))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}e.save(),Eh(e,this),this._applyClip(e,n),this.drawPath(e),e.restore(),this._afterDraw()},t.prototype.getCanvasViewBox=function(){var e=this.cfg.canvas;return e?e.getViewRange():null},t.prototype.cacheCanvasBBox=function(){var e=this.getCanvasViewBox();if(e){var t=this.getCanvasBBox(),n=eh(t,e);this.set("isInView",n),n?this.set("cacheCanvasBBox",t):this.set("cacheCanvasBBox",null)}},t.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},t.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},t.prototype.drawPath=function(e){this.createPath(e),this.strokeAndFill(e),this.afterDrawPath(e)},t.prototype.fill=function(e){e.fill()},t.prototype.stroke=function(e){e.stroke()},t.prototype.strokeAndFill=function(e){var t=this.attrs,n=t.lineWidth,r=t.opacity,i=t.strokeOpacity,o=t.fillOpacity;this.isFill()&&((0,Dr.isNil)(o)||1===o?this.fill(e):(e.globalAlpha=o,this.fill(e),e.globalAlpha=r)),this.isStroke()&&n>0&&((0,Dr.isNil)(i)||1===i||(e.globalAlpha=i),this.stroke(e)),this.afterDrawPath(e)},t.prototype.createPath=function(e){},t.prototype.afterDrawPath=function(e){},t.prototype.isInShape=function(e,t){var n=this.isStroke(),r=this.isFill(),i=this.getHitLineWidth();return this.isInStrokeOrPath(e,t,n,r,i)},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){return!1},t.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var e=this.attrs;return e.lineWidth+e.lineAppendWidth},t}(Kl),Rh=Oh,Lh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Ir.__assign)((0,Ir.__assign)({},t),{x:0,y:0,r:0})},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.attr(),a=o.x,s=o.y,u=o.r,l=i/2,c=$d(a,s,e,t);return r&&n?c<=u+l:r?c<=u:!!n&&(c>=u-l&&c<=u+l)},t.prototype.createPath=function(e){var t=this.attr(),n=t.x,r=t.y,i=t.r;e.beginPath(),e.arc(n,r,i,0,2*Math.PI,!1),e.closePath()},t}(Rh),jh=Lh;function Bh(e,t,n,r){return e/(n*n)+t/(r*r)}var Fh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Ir.__assign)((0,Ir.__assign)({},t),{x:0,y:0,rx:0,ry:0})},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.attr(),a=i/2,s=o.x,u=o.y,l=o.rx,c=o.ry,f=(e-s)*(e-s),d=(t-u)*(t-u);return r&&n?Bh(f,d,l+a,c+a)<=1:r?Bh(f,d,l,c)<=1:!!n&&(Bh(f,d,l-a,c-a)>=1&&Bh(f,d,l+a,c+a)<=1)},t.prototype.createPath=function(e){var t=this.attr(),n=t.x,r=t.y,i=t.rx,o=t.ry;if(e.beginPath(),e.ellipse)e.ellipse(n,r,i,o,0,0,2*Math.PI,!1);else{var a=i>o?i:o,s=i>o?1:i/o,u=i>o?o/i:1;e.save(),e.translate(n,r),e.scale(s,u),e.arc(0,0,a,0,2*Math.PI),e.restore(),e.closePath()}},t}(Rh),zh=Fh;function Yh(e){return e instanceof HTMLElement&&(0,Dr.isString)(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase()}var Gh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Ir.__assign)((0,Ir.__assign)({},t),{x:0,y:0,width:0,height:0})},t.prototype.initAttrs=function(e){this._setImage(e.img)},t.prototype.isStroke=function(){return!1},t.prototype.isOnlyHitBox=function(){return!0},t.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var e=this.get("canvas");e?e.draw():this.createPath(this.get("context"))}},t.prototype._setImage=function(e){var t=this,n=this.attrs;if((0,Dr.isString)(e)){var r=new Image;r.onload=function(){if(t.destroyed)return!1;t.attr("img",r),t.set("loading",!1),t._afterLoading();var e=t.get("callback");e&&e.call(t)},r.crossOrigin="Anonymous",r.src=e,this.set("loading",!0)}else e instanceof Image?(n.width||(n.width=e.width),n.height||(n.height=e.height)):Yh(e)&&(n.width||(n.width=Number(e.getAttribute("width"))),n.height||(n.height,Number(e.getAttribute("height"))))},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),"img"===t&&this._setImage(n)},t.prototype.createPath=function(e){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",e);var t=this.attr(),n=t.x,r=t.y,i=t.width,o=t.height,a=t.sx,s=t.sy,u=t.swidth,l=t.sheight,c=t.img;(c instanceof Image||Yh(c))&&((0,Dr.isNil)(a)||(0,Dr.isNil)(s)||(0,Dr.isNil)(u)||(0,Dr.isNil)(l)?e.drawImage(c,n,r,i,o):e.drawImage(c,a,s,u,l,n,r,i,o))},t}(Rh),Vh=Gh;function Uh(e,t,n,r,i,o,a){var s=Math.min(e,n),u=Math.max(e,n),l=Math.min(t,r),c=Math.max(t,r),f=i/2;return o>=s-f&&o<=u+f&&a>=l-f&&a<=c+f&&sc.pointToLine(e,t,n,r,o,a)<=i/2}var Wh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Ir.__assign)((0,Ir.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this.setArrow()},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),this.setArrow()},t.prototype.setArrow=function(){var e=this.attr(),t=e.x1,n=e.y1,r=e.x2,i=e.y2,o=e.startArrow,a=e.endArrow;o&&bh(this,e,r,i,t,n),a&&xh(this,e,t,n,r,i)},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){if(!n||!i)return!1;var o=this.attr();return Uh(o.x1,o.y1,o.x2,o.y2,i,e,t)},t.prototype.createPath=function(e){var t=this.attr(),n=t.x1,r=t.y1,i=t.x2,o=t.y2,a=t.startArrow,s=t.endArrow,u={dx:0,dy:0},l={dx:0,dy:0};a&&a.d&&(u=yh(n,r,i,o,t.startArrow.d)),s&&s.d&&(l=yh(n,r,i,o,t.endArrow.d)),e.beginPath(),e.moveTo(n+u.dx,r+u.dy),e.lineTo(i-l.dx,o-l.dy)},t.prototype.afterDrawPath=function(e){var t=this.get("startArrowShape"),n=this.get("endArrowShape");t&&t.draw(e),n&&n.draw(e)},t.prototype.getTotalLength=function(){var e=this.attr(),t=e.x1,n=e.y1,r=e.x2,i=e.y2;return sc.length(t,n,r,i)},t.prototype.getPoint=function(e){var t=this.attr(),n=t.x1,r=t.y1,i=t.x2,o=t.y2;return sc.pointAt(n,r,i,o,e)},t}(Rh),Zh=Wh,Hh={circle:function(e,t,n){return[["M",e-n,t],["A",n,n,0,1,0,e+n,t],["A",n,n,0,1,0,e-n,t]]},square:function(e,t,n){return[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]]},diamond:function(e,t,n){return[["M",e-n,t],["L",e,t-n],["L",e+n,t],["L",e,t+n],["Z"]]},triangle:function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["Z"]]},"triangle-down":function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]}},Xh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype.initAttrs=function(e){this._resetParamsCache()},t.prototype._resetParamsCache=function(){this.set("paramsCache",{})},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),-1!==["symbol","x","y","r","radius"].indexOf(t)&&this._resetParamsCache()},t.prototype.isOnlyHitBox=function(){return!0},t.prototype._getR=function(e){return(0,Dr.isNil)(e.r)?e.radius:e.r},t.prototype._getPath=function(){var e,n,r=this.attr(),i=r.x,o=r.y,a=r.symbol||"circle",s=this._getR(r);if((0,Dr.isFunction)(a))n=Yc(n=(e=a)(i,o,s));else{if(!(e=t.Symbols[a]))return console.warn(a+" marker is not supported."),null;n=e(i,o,s)}return n},t.prototype.createPath=function(e){Ah(this,e,{path:this._getPath()},this.get("paramsCache"))},t.Symbols=Hh,t}(Rh),Kh=Xh;function qh(e,t,n){var r=Ac();return e.createPath(r),r.isPointInPath(t,n)}function Jh(e){return Math.abs(e)<1e-6?0:e<0?-1:1}function $h(e,t,n){return(n[0]-e[0])*(t[1]-e[1])===(t[0]-e[0])*(n[1]-e[1])&&Math.min(e[0],t[0])<=n[0]&&n[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=n[1]&&n[1]<=Math.max(e[1],t[1])}function Qh(e,t,n){var r=!1,i=e.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=e[o],s=e[(o+1)%i];if($h(a,s,[t,n]))return!0;Jh(a[1]-n)>0!==Jh(s[1]-n)>0&&Jh(t-(n-a[1])*(a[0]-s[0])/(a[1]-s[1])-a[0])<0&&(r=!r)}return r}function ep(e,t,n,r,i,o,a,s){var u=(Math.atan2(s-t,a-e)+2*Math.PI)%(2*Math.PI);if(u<r||u>i)return!1;var l={x:e+n*Math.cos(u),y:t+n*Math.sin(u)};return $d(l.x,l.y,a,s)<=o/2}var tp=Wr;var np=(0,Ir.__assign)({hasArc:function(e){for(var t=!1,n=e.length,r=0;r<n;r++){var i=e[r][0];if("C"===i||"A"===i||"Q"===i){t=!0;break}}return t},extractPolygons:function(e){for(var t=e.length,n=[],r=[],i=[],o=0;o<t;o++){var a=e[o],s=a[0];"M"===s?(i.length&&(r.push(i),i=[]),i.push([a[1],a[2]])):"Z"===s?i.length&&(n.push(i),i=[]):i.push([a[1],a[2]])}return i.length>0&&r.push(i),{polygons:n,polylines:r}},isPointInStroke:function(e,t,n,r,i){for(var o=!1,a=t/2,s=0;s<e.length;s++){var u=e[s],l=u.currentPoint,c=u.params,f=u.prePoint,d=u.box;if(!d||Qd(d.x-a,d.y-a,d.width+t,d.height+t,n,r)){switch(u.command){case"L":case"Z":o=Uh(f[0],f[1],l[0],l[1],t,n,r);break;case"Q":o=pc.pointDistance(f[0],f[1],c[1],c[2],c[3],c[4],n,r)<=t/2;break;case"C":o=xc.pointDistance(f[0],f[1],c[1],c[2],c[3],c[4],c[5],c[6],n,r,i)<=t/2;break;case"A":var h=u.arcParams,p=h.cx,g=h.cy,v=h.rx,m=h.ry,y=h.startAngle,b=h.endAngle,x=h.xRotation,w=[n,r,1],E=v>m?v:m,S=tp(null,[["t",-p,-g],["r",-x],["s",1/(v>m?1:v/m),1/(v>m?m/v:1)]]);mo.kK(w,w,S),o=ep(0,0,E,y,b,t,w[0],w[1])}if(o)break}}return o}},i);function rp(e,t,n){for(var r=!1,i=0;i<e.length;i++){if(r=Qh(e[i],t,n))break}return r}var ip=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Ir.__assign)((0,Ir.__assign)({},t),{startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this._setPathArr(e.path),this.setArrow()},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),"path"===t&&this._setPathArr(n),this.setArrow()},t.prototype._setPathArr=function(e){this.attrs.path=Yc(e);var t=np.hasArc(e);this.set("hasArc",t),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},t.prototype.getSegments=function(){var e=this.get("segements");return e||(e=Xc(this.attr("path")),this.set("segments",e)),e},t.prototype.setArrow=function(){var e,t=this.attr(),n=t.startArrow,r=t.endArrow;n&&bh(this,t,(e=this.getStartTangent())[0][0],e[0][1],e[1][0],e[1][1]);r&&xh(this,t,(e=this.getEndTangent())[0][0],e[0][1],e[1][0],e[1][1])},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.getSegments(),a=this.get("hasArc"),s=!1;if(n){var u=this.getTotalLength();s=np.isPointInStroke(o,i,e,t,u)}if(!s&&r)if(a)s=qh(this,e,t);else{var l=this.attr("path"),c=np.extractPolygons(l);s=rp(c.polygons,e,t)||rp(c.polylines,e,t)}return s},t.prototype.createPath=function(e){Ah(this,e,this.attr(),this.get("paramsCache"))},t.prototype.afterDrawPath=function(e){var t=this.get("startArrowShape"),n=this.get("endArrowShape");t&&t.draw(e),n&&n.draw(e)},t.prototype.getTotalLength=function(){var e=this.get("totalLength");return(0,Dr.isNil)(e)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):e},t.prototype.getPoint=function(e){var t,n,r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var i=this.get("curve");if(!r||0===r.length)return i?{x:i[0][1],y:i[0][2]}:null;(0,Dr.each)(r,(function(r,i){e>=r[0]&&e<=r[1]&&(t=(e-r[0])/(r[1]-r[0]),n=i)}));var o=i[n];if((0,Dr.isNil)(o)||(0,Dr.isNil)(n))return null;var a=o.length,s=i[n+1];return xc.pointAt(o[a-2],o[a-1],s[1],s[2],s[3],s[4],s[5],s[6],t)},t.prototype._calculateCurve=function(){var e=this.attr().path;this.set("curve",np.pathToCurve(e))},t.prototype._setTcache=function(){var e,t,n,r,i=0,o=0,a=[],s=this.get("curve");s&&((0,Dr.each)(s,(function(e,t){n=s[t+1],r=e.length,n&&(i+=xc.length(e[r-2],e[r-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)})),this.set("totalLength",i),0!==i?((0,Dr.each)(s,(function(u,l){n=s[l+1],r=u.length,n&&((e=[])[0]=o/i,t=xc.length(u[r-2],u[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),o+=t||0,e[1]=o/i,a.push(e))})),this.set("tCache",a)):this.set("tCache",[]))},t.prototype.getStartTangent=function(){var e,t=this.getSegments();if(t.length>1){var n=t[0].currentPoint,r=t[1].currentPoint,i=t[1].startTangent;e=[],i?(e.push([n[0]-i[0],n[1]-i[1]]),e.push([n[0],n[1]])):(e.push([r[0],r[1]]),e.push([n[0],n[1]]))}return e},t.prototype.getEndTangent=function(){var e,t=this.getSegments(),n=t.length;if(n>1){var r=t[n-2].currentPoint,i=t[n-1].currentPoint,o=t[n-1].endTangent;e=[],o?(e.push([i[0]-o[0],i[1]-o[1]]),e.push([i[0],i[1]])):(e.push([r[0],r[1]]),e.push([i[0],i[1]]))}return e},t}(Rh),op=ip;function ap(e,t,n,r,i){var o=e.length;if(o<2)return!1;for(var a=0;a<o-1;a++){if(Uh(e[a][0],e[a][1],e[a+1][0],e[a+1][1],t,n,r))return!0}if(i){var s=e[0],u=e[o-1];if(Uh(s[0],s[1],u[0],u[1],t,n,r))return!0}return!1}var sp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.attr().points,a=!1;return n&&(a=ap(o,i,e,t,!0)),!a&&r&&(a=Qh(o,e,t)),a},t.prototype.createPath=function(e){var t=this.attr().points;if(!(t.length<2)){e.beginPath();for(var n=0;n<t.length;n++){var r=t[n];0===n?e.moveTo(r[0],r[1]):e.lineTo(r[0],r[1])}e.closePath()}},t}(Rh),up=sp,lp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Ir.__assign)((0,Ir.__assign)({},t),{startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(e){this.setArrow()},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),this.setArrow(),-1!==["points"].indexOf(t)&&this._resetCache()},t.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},t.prototype.setArrow=function(){var e=this.attr(),t=this.attrs,n=t.points,r=t.startArrow,i=t.endArrow,o=n.length,a=n[0][0],s=n[0][1],u=n[o-1][0],l=n[o-1][1];r&&bh(this,e,n[1][0],n[1][1],a,s),i&&xh(this,e,n[o-2][0],n[o-2][1],u,l)},t.prototype.isFill=function(){return!1},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){return!(!n||!i)&&ap(this.attr().points,i,e,t,!1)},t.prototype.isStroke=function(){return!0},t.prototype.createPath=function(e){var t=this.attr(),n=t.points,r=t.startArrow,i=t.endArrow,o=n.length;if(!(n.length<2)){var a,s=n[0][0],u=n[0][1],l=n[o-1][0],c=n[o-1][1];if(r&&r.d)s+=(a=yh(s,u,n[1][0],n[1][1],r.d)).dx,u+=a.dy;if(i&&i.d)l-=(a=yh(n[o-2][0],n[o-2][1],l,c,i.d)).dx,c-=a.dy;e.beginPath(),e.moveTo(s,u);for(var f=0;f<o-1;f++){var d=n[f];e.lineTo(d[0],d[1])}e.lineTo(l,c)}},t.prototype.afterDrawPath=function(e){var t=this.get("startArrowShape"),n=this.get("endArrowShape");t&&t.draw(e),n&&n.draw(e)},t.prototype.getTotalLength=function(){var e=this.attr().points,t=this.get("totalLength");return(0,Dr.isNil)(t)?(this.set("totalLength",Tc(e)),this.get("totalLength")):t},t.prototype.getPoint=function(e){var t,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,Dr.each)(i,(function(r,i){e>=r[0]&&e<=r[1]&&(t=(e-r[0])/(r[1]-r[0]),n=i)})),sc.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],t)},t.prototype._setTcache=function(){var e=this.attr().points;if(e&&0!==e.length){var t=this.getTotalLength();if(!(t<=0)){var n,r,i=0,o=[];(0,Dr.each)(e,(function(a,s){e[s+1]&&((n=[])[0]=i/t,r=sc.length(a[0],a[1],e[s+1][0],e[s+1][1]),i+=r,n[1]=i/t,o.push(n))})),this.set("tCache",o)}}},t.prototype.getStartTangent=function(){var e=this.attr().points,t=[];return t.push([e[1][0],e[1][1]]),t.push([e[0][0],e[0][1]]),t},t.prototype.getEndTangent=function(){var e=this.attr().points,t=e.length-1,n=[];return n.push([e[t-1][0],e[t-1][1]]),n.push([e[t][0],e[t][1]]),n},t}(Rh),cp=lp;var fp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Ir.__assign)((0,Ir.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},t.prototype.isInStrokeOrPath=function(e,t,n,r,i){var o=this.attr(),a=o.x,s=o.y,u=o.width,l=o.height,c=o.radius;if(c){var f=!1;return n&&(f=function(e,t,n,r,i,o,a,s){return Uh(e+i,t,e+n-i,t,o,a,s)||Uh(e+n,t+i,e+n,t+r-i,o,a,s)||Uh(e+n-i,t+r,e+i,t+r,o,a,s)||Uh(e,t+r-i,e,t+i,o,a,s)||ep(e+n-i,t+i,i,1.5*Math.PI,2*Math.PI,o,a,s)||ep(e+n-i,t+r-i,i,0,.5*Math.PI,o,a,s)||ep(e+i,t+r-i,i,.5*Math.PI,Math.PI,o,a,s)||ep(e+i,t+i,i,Math.PI,1.5*Math.PI,o,a,s)}(a,s,u,l,c,i,e,t)),!f&&r&&(f=qh(this,e,t)),f}var d=i/2;return r&&n?Qd(a-d,s-d,u+d,l+d,e,t):r?Qd(a,s,u,l,e,t):n?function(e,t,n,r,i,o,a){var s=i/2;return Qd(e-s,t-s,n,i,o,a)||Qd(e+n-s,t-s,i,r,o,a)||Qd(e+s,t+r-s,n,i,o,a)||Qd(e-s,t+s,i,r,o,a)}(a,s,u,l,i,e,t):void 0},t.prototype.createPath=function(e){var t=this.attr(),n=t.x,r=t.y,i=t.width,o=t.height,a=t.radius;if(e.beginPath(),0===a)e.rect(n,r,i,o);else{var s=function(e){var t=0,n=0,r=0,i=0;return(0,Dr.isArray)(e)?1===e.length?t=n=r=i=e[0]:2===e.length?(t=r=e[0],n=i=e[1]):3===e.length?(t=e[0],n=i=e[1],r=e[2]):(t=e[0],n=e[1],r=e[2],i=e[3]):t=n=r=i=e,[t,n,r,i]}(a),u=s[0],l=s[1],c=s[2],f=s[3];e.moveTo(n+u,r),e.lineTo(n+i-l,r),0!==l&&e.arc(n+i-l,r+l,l,-Math.PI/2,0),e.lineTo(n+i,r+o-c),0!==c&&e.arc(n+i-c,r+o-c,c,0,Math.PI/2),e.lineTo(n+f,r+o),0!==f&&e.arc(n+f,r+o-f,f,Math.PI/2,Math.PI),e.lineTo(n,r+u),0!==u&&e.arc(n+u,r+u,u,Math.PI,1.5*Math.PI),e.closePath()}},t}(Rh),dp=fp,hp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Ir.__assign)((0,Ir.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},t.prototype.isOnlyHitBox=function(){return!0},t.prototype.initAttrs=function(e){this._assembleFont(),e.text&&this._setText(e.text)},t.prototype._assembleFont=function(){var e=this.attrs;e.font=Pc(e)},t.prototype._setText=function(e){var t=null;(0,Dr.isString)(e)&&-1!==e.indexOf("\n")&&(t=e.split("\n")),this.set("textArr",t)},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),t.startsWith("font")&&this._assembleFont(),"text"===t&&this._setText(n)},t.prototype._getSpaceingY=function(){var e=this.attrs,t=e.lineHeight,n=1*e.fontSize;return t?t-n:.14*n},t.prototype._drawTextArr=function(e,t,n){var r,i=this.attrs,o=i.textBaseline,a=i.x,s=i.y,u=1*i.fontSize,l=this._getSpaceingY(),c=Nc(i.text,i.fontSize,i.lineHeight);(0,Dr.each)(t,(function(t,i){r=s+i*(l+u)-c+u,"middle"===o&&(r+=c-u-(c-u)/2),"top"===o&&(r+=c-u),(0,Dr.isNil)(t)||(n?e.fillText(t,a,r):e.strokeText(t,a,r))}))},t.prototype._drawText=function(e,t){var n=this.attr(),r=n.x,i=n.y,o=this.get("textArr");if(o)this._drawTextArr(e,o,t);else{var a=n.text;(0,Dr.isNil)(a)||(t?e.fillText(a,r,i):e.strokeText(a,r,i))}},t.prototype.strokeAndFill=function(e){var t=this.attrs,n=t.lineWidth,r=t.opacity,i=t.strokeOpacity,o=t.fillOpacity;this.isStroke()&&n>0&&((0,Dr.isNil)(i)||1===i||(e.globalAlpha=r),this.stroke(e)),this.isFill()&&((0,Dr.isNil)(o)||1===o?this.fill(e):(e.globalAlpha=o,this.fill(e),e.globalAlpha=r)),this.afterDrawPath(e)},t.prototype.fill=function(e){this._drawText(e,!0)},t.prototype.stroke=function(e){this._drawText(e,!1)},t}(Rh),pp=hp;function gp(e,t,n){var r=e.getTotalMatrix();if(r){var i=function(e,t){return t?zs(Ys(t),e):e}([t,n,1],r);return[i[0],i[1]]}return[t,n]}function vp(e,t,n){if(e.isCanvas&&e.isCanvas())return!0;if(!Ts(e)||!1===e.cfg.isInView)return!1;if(e.cfg.clipShape){var r=gp(e,t,n),i=r[0],o=r[1];if(e.isClipped(i,o))return!1}var a=e.cfg.cacheCanvasBBox||e.getCanvasBBox();return t>=a.minX&&t<=a.maxX&&n>=a.minY&&n<=a.maxY}function mp(e,t,n){if(!vp(e,t,n))return null;for(var r=null,i=e.getChildren(),o=i.length-1;o>=0;o--){var a=i[o];if(a.isGroup())r=mp(a,t,n);else if(vp(a,t,n)){var s=a,u=gp(a,t,n),l=u[0],c=u[1];s.isInShape(l,c)&&(r=a)}if(r)break}return r}var yp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},t.prototype.onCanvasChange=function(e){"attr"!==e&&"sort"!==e&&"changeSize"!==e||(this.set("refreshElements",[this]),this.draw())},t.prototype.getShapeBase=function(){return l},t.prototype.getGroupBase=function(){return Dh},t.prototype.getPixelRatio=function(){var e=this.get("pixelRatio")||(window?window.devicePixelRatio:1);return e>=1?Math.ceil(e):1},t.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},t.prototype.createDom=function(){var e=document.createElement("canvas"),t=e.getContext("2d");return this.set("context",t),e},t.prototype.setDOMSize=function(t,n){e.prototype.setDOMSize.call(this,t,n);var r=this.get("context"),i=this.get("el"),o=this.getPixelRatio();i.width=o*t,i.height=o*n,o>1&&r.scale(o,o)},t.prototype.clear=function(){e.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),n=this.get("el");t.clearRect(0,0,n.width,n.height)},t.prototype.getShape=function(t,n){return this.get("quickHit")?mp(this,t,n):e.prototype.getShape.call(this,t,n,null)},t.prototype._getRefreshRegion=function(){var e,t=this.get("refreshElements"),n=this.getViewRange();t.length&&t[0]===this?e=n:(e=function(e){if(!e.length)return null;var t=[],n=[],r=[],i=[];return(0,Dr.each)(e,(function(e){var o=Ph(e);o&&(t.push(o.minX),n.push(o.minY),r.push(o.maxX),i.push(o.maxY))})),{minX:(0,Dr.min)(t),minY:(0,Dr.min)(n),maxX:(0,Dr.max)(r),maxY:(0,Dr.max)(i)}}(t),e&&(e.minX=Math.floor(e.minX),e.minY=Math.floor(e.minY),e.maxX=Math.ceil(e.maxX),e.maxY=Math.ceil(e.maxY),e.maxY+=1,this.get("clipView")&&(e=function(e,t){return e&&t&&eh(e,t)?{minX:Math.max(e.minX,t.minX),minY:Math.max(e.minY,t.minY),maxX:Math.min(e.maxX,t.maxX),maxY:Math.min(e.maxY,t.maxY)}:null}(e,n))));return e},t.prototype.refreshElement=function(e){this.get("refreshElements").push(e)},t.prototype._clearFrame=function(){var e=this.get("drawFrame");e&&((0,Dr.clearAnimationFrame)(e),this.set("drawFrame",null),this.set("refreshElements",[]))},t.prototype.draw=function(){var e=this.get("drawFrame");this.get("autoDraw")&&e||this._startDraw()},t.prototype._drawAll=function(){var e=this.get("context"),t=this.get("el"),n=this.getChildren();e.clearRect(0,0,t.width,t.height),Eh(e,this),Sh(e,n),this.set("refreshElements",[])},t.prototype._drawRegion=function(){var e=this.get("context"),t=this.get("refreshElements"),n=this.getChildren(),r=this._getRefreshRegion();r?(e.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),e.save(),e.beginPath(),e.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),e.clip(),Eh(e,this),_h(this,n,r),Sh(e,n,r),e.restore()):t.length&&kh(t),(0,Dr.each)(t,(function(e){e.get("hasChanged")&&e.set("hasChanged",!1)})),this.set("refreshElements",[])},t.prototype._startDraw=function(){var e=this,t=this.get("drawFrame");t||(t=(0,Dr.requestAnimationFrame)((function(){e.get("localRefresh")?e._drawRegion():e._drawAll(),e.set("drawFrame",null)})),this.set("drawFrame",t))},t.prototype.skipDraw=function(){},t.prototype.removeDom=function(){var e=this.get("el");e.width=0,e.height=0,e.parentNode.removeChild(e)},t}(Wl),bp=yp,xp={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},wp={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function Ep(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Sp(e){var t=xp[e.type],n=e.getParent();if(!t)throw new Error("the type "+e.type+" is not supported by svg");var r=Ep(t);if(e.get("id")&&(r.id=e.get("id")),e.set("el",r),e.set("attrs",{}),n){var i=n.get("el");i||(i=n.createDom(),n.set("el",i)),i.appendChild(r)}return r}function _p(e,t){var n=e.get("el"),r=(0,Dr.toArray)(n.children).sort(t),i=document.createDocumentFragment();r.forEach((function(e){i.appendChild(e)})),n.appendChild(i)}function Tp(e){var t=e.attr().matrix;if(t){for(var n=e.cfg.el,r=[],i=0;i<9;i+=3)r.push(t[i]+","+t[i+1]);-1===(r=r.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",t)}}function kp(e,t){var n=e.getClip(),r=e.get("el");if(n){if(n&&!r.hasAttribute("clip-path")){Sp(n),n.createPath(t);var i=t.addClip(n);r.setAttribute("clip-path","url(#"+i+")")}}else r.removeAttribute("clip-path")}function Cp(e,t){t.forEach((function(t){t.draw(e)}))}function Mp(e,t){var n=e.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context"),i=e.getParent(),o=i?i.getChildren():[n],a=e.get("el");if("remove"===t)if(e.get("isClipShape")){var s=a&&a.parentNode,u=s&&s.parentNode;s&&u&&u.removeChild(s)}else a&&a.parentNode&&a.parentNode.removeChild(a);else if("show"===t)a.setAttribute("visibility","visible");else if("hide"===t)a.setAttribute("visibility","hidden");else if("zIndex"===t)!function(e,t){var n=e.parentNode,r=Array.from(n.childNodes).filter((function(e){return 1===e.nodeType&&"defs"!==e.nodeName.toLowerCase()})),i=r[t],o=r.indexOf(e);if(i){if(o>t)n.insertBefore(e,i);else if(o<t){var a=r[t+1];a?n.insertBefore(e,a):n.appendChild(e)}}else n.appendChild(e)}(a,o.indexOf(e));else if("sort"===t){var l=e.get("children");l&&l.length&&_p(e,(function(e,t){return l.indexOf(e)-l.indexOf(t)?1:0}))}else"clear"===t?a&&(a.innerHTML=""):"matrix"===t?Tp(e):"clip"===t?kp(e,r):"attr"===t||"add"===t&&e.draw(r)}}var Ap=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ir.__extends)(t,e),t.prototype.isEntityGroup=function(){return!0},t.prototype.createDom=function(){var e=Ep("g");this.set("el",e);var t=this.getParent();if(t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(e)}return e},t.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.createPath(r,t)}},t.prototype.onCanvasChange=function(e){Mp(this,e)},t.prototype.getShapeBase=function(){return c},t.prototype.getGroupBase=function(){return t},t.prototype.draw=function(e){var t=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),kp(this,e),this.createPath(e),t.length&&Cp(e,t))},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,Dr.each)(t||n,(function(e,t){wp[t]&&r.setAttribute(wp[t],e)})),Tp(this)},t}(Hl),Np=Ap,Pp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return(0,Ir.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Ir.__assign)((0,Ir.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},t.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.draw(r,t)}},t.prototype.getShapeBase=function(){return c},t.prototype.getGroupBase=function(){return Np},t.prototype.onCanvasChange=function(e){Mp(this,e)},t.prototype.calculateBBox=function(){var e=this.get("el"),t=null;if(e)t=e.getBBox();else{var n=$l(this.get("type"));n&&(t=n(this))}if(t){var r=t.x,i=t.y,o=t.width,a=t.height,s=this.getHitLineWidth(),u=s/2,l=r-u,c=i-u;return{x:l,y:c,minX:l,minY:c,maxX:r+o+u,maxY:i+a+u,width:o+s,height:a+s}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},t.prototype.isFill=function(){var e=this.attr(),t=e.fill,n=e.fillStyle;return(t||n||this.isClipShape())&&this.canFill},t.prototype.isStroke=function(){var e=this.attr(),t=e.stroke,n=e.strokeStyle;return(t||n)&&this.canStroke},t.prototype.draw=function(e,t){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||Sp(this),kp(this,e),this.createPath(e,t),this.shadow(e,t),this.strokeAndFill(e,t),this.transform(t))},t.prototype.createPath=function(e,t){},t.prototype.strokeAndFill=function(e,t){var n=t||this.attr(),r=n.fill,i=n.fillStyle,o=n.stroke,a=n.strokeStyle,s=n.fillOpacity,u=n.strokeOpacity,l=n.lineWidth,c=this.get("el");this.canFill&&(t?"fill"in n?this._setColor(e,"fill",r):"fillStyle"in n&&this._setColor(e,"fill",i):this._setColor(e,"fill",r||i),s&&c.setAttribute(wp.fillOpacity,s)),this.canStroke&&l>0&&(t?"stroke"in n?this._setColor(e,"stroke",o):"strokeStyle"in n&&this._setColor(e,"stroke",a):this._setColor(e,"stroke",o||a),u&&c.setAttribute(wp.strokeOpacity,u),l&&c.setAttribute(wp.lineWidth,l))},t.prototype._setColor=function(e,t,n){var r=this.get("el");if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n))(i=e.find("gradient",n))||(i=e.addGradient(n)),r.setAttribute(wp[t],"url(#"+i+")");else if(/^[p,P]{1}[\s]*\(/.test(n)){var i;(i=e.find("pattern",n))||(i=e.addPattern(n)),r.setAttribute(wp[t],"url(#"+i+")")}else r.setAttribute(wp[t],n);else r.setAttribute(wp[t],"none")},t.prototype.shadow=function(e,t){var n=this.attr(),r=t||n,i=r.shadowOffsetX,o=r.shadowOffsetY,a=r.shadowBlur,s=r.shadowColor;(i||o||a||s)&&function(e,t){var n=e.cfg.el,r=e.attr(),i={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};if(i.dx||i.dy||i.blur||i.color){var o=t.find("filter",i);o||(o=t.addShadow(i)),n.setAttribute("filter","url(#"+o+")")}else n.removeAttribute("filter")}(this,e)},t.prototype.transform=function(e){var t=this.attr();(e||t).matrix&&Tp(this)},t.prototype.isInShape=function(e,t){return this.isPointInPath(e,t)},t.prototype.isPointInPath=function(e,t){var n=this.get("el"),r=this.get("canvas").get("el").getBoundingClientRect(),i=e+r.left,o=t+r.top,a=document.elementFromPoint(i,o);return!(!a||!a.isEqualNode(n))},t.prototype.getHitLineWidth=function(){var e=this.attrs,t=e.lineWidth,n=e.lineAppendWidth;return this.isStroke()?t+n:0},t}(Kl),Ip=Pp,Dp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return(0,Ir.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Ir.__assign)((0,Ir.__assign)({},t),{x:0,y:0,r:0})},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,Dr.each)(t||n,(function(e,t){"x"===t||"y"===t?r.setAttribute("c"+t,e):wp[t]&&r.setAttribute(wp[t],e)}))},t}(Ip),Op=Dp,Rp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return(0,Ir.__extends)(t,e),t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");if((0,Dr.each)(t||n,(function(e,t){wp[t]&&r.setAttribute(wp[t],e)})),"function"===typeof n.html){var i=n.html.call(this,n);if(i instanceof Element||i instanceof HTMLDocument){for(var o=r.childNodes,a=o.length-1;a>=0;a--)r.removeChild(o[a]);r.appendChild(i)}else r.innerHTML=i}else r.innerHTML=n.html},t}(Ip),Lp=Rp,jp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return(0,Ir.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Ir.__assign)((0,Ir.__assign)({},t),{x:0,y:0,rx:0,ry:0})},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,Dr.each)(t||n,(function(e,t){"x"===t||"y"===t?r.setAttribute("c"+t,e):wp[t]&&r.setAttribute(wp[t],e)}))},t}(Ip),Bp=jp,Fp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return(0,Ir.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Ir.__assign)((0,Ir.__assign)({},t),{x:0,y:0,width:0,height:0})},t.prototype.createPath=function(e,t){var n=this,r=this.attr(),i=this.get("el");(0,Dr.each)(t||r,(function(e,t){"img"===t?n._setImage(r.img):wp[t]&&i.setAttribute(wp[t],e)}))},t.prototype.setAttr=function(e,t){this.attrs[e]=t,"img"===e&&this._setImage(t)},t.prototype._setImage=function(e){var t=this.attr(),n=this.get("el");if((0,Dr.isString)(e))n.setAttribute("href",e);else if(e instanceof window.Image)t.width||(n.setAttribute("width",e.width),this.attr("width",e.width)),t.height||(n.setAttribute("height",e.height),this.attr("height",e.height)),n.setAttribute("href",e.src);else if(e instanceof HTMLElement&&(0,Dr.isString)(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase())n.setAttribute("href",e.toDataURL());else if(e instanceof ImageData){var r=document.createElement("canvas");r.setAttribute("width",""+e.width),r.setAttribute("height",""+e.height),r.getContext("2d").putImageData(e,0,0),t.width||(n.setAttribute("width",""+e.width),this.attr("width",e.width)),t.height||(n.setAttribute("height",""+e.height),this.attr("height",e.height)),n.setAttribute("href",r.toDataURL())}},t}(Ip),zp=Fp,Yp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return(0,Ir.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Ir.__assign)((0,Ir.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,Dr.each)(t||n,(function(t,i){if("startArrow"===i||"endArrow"===i)if(t){var o=(0,Dr.isObject)(t)?e.addArrow(n,wp[i]):e.getDefaultArrow(n,wp[i]);r.setAttribute(wp[i],"url(#"+o+")")}else r.removeAttribute(wp[i]);else wp[i]&&r.setAttribute(wp[i],t)}))},t.prototype.getTotalLength=function(){var e=this.attr(),t=e.x1,n=e.y1,r=e.x2,i=e.y2;return sc.length(t,n,r,i)},t.prototype.getPoint=function(e){var t=this.attr(),n=t.x1,r=t.y1,i=t.x2,o=t.y2;return sc.pointAt(n,r,i,o,e)},t}(Ip),Gp=Yp,Vp={circle:function(e,t,n){return[["M",e,t],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(e,t,n){return[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]]},diamond:function(e,t,n){return[["M",e-n,t],["L",e,t-n],["L",e+n,t],["L",e,t+n],["Z"]]},triangle:function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["z"]]},triangleDown:function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]}},Up={get:function(e){return Vp[e]},register:function(e,t){Vp[e]=t},remove:function(e){delete Vp[e]},getAll:function(){return Vp}},Wp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return(0,Ir.__extends)(t,e),t.prototype.createPath=function(e){this.get("el").setAttribute("d",this._assembleMarker())},t.prototype._assembleMarker=function(){var e=this._getPath();return(0,Dr.isArray)(e)?e.map((function(e){return e.join(" ")})).join(""):e},t.prototype._getPath=function(){var e,t=this.attr(),n=t.x,r=t.y,i=t.r||t.radius,o=t.symbol||"circle";return(e=(0,Dr.isFunction)(o)?o:Up.get(o))?e(n,r,i):(console.warn(e+" symbol is not exist."),null)},t.symbolsFactory=Up,t}(Ip),Zp=Wp,Hp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return(0,Ir.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Ir.__assign)((0,Ir.__assign)({},t),{startArrow:!1,endArrow:!1})},t.prototype.createPath=function(e,t){var n=this,r=this.attr(),i=this.get("el");(0,Dr.each)(t||r,(function(t,o){if("path"===o&&(0,Dr.isArray)(t))i.setAttribute("d",n._formatPath(t));else if("startArrow"===o||"endArrow"===o)if(t){var a=(0,Dr.isObject)(t)?e.addArrow(r,wp[o]):e.getDefaultArrow(r,wp[o]);i.setAttribute(wp[o],"url(#"+a+")")}else i.removeAttribute(wp[o]);else wp[o]&&i.setAttribute(wp[o],t)}))},t.prototype._formatPath=function(e){var t=e.map((function(e){return e.join(" ")})).join("");return~t.indexOf("NaN")?"":t},t.prototype.getTotalLength=function(){var e=this.get("el");return e?e.getTotalLength():null},t.prototype.getPoint=function(e){var t=this.get("el"),n=this.getTotalLength();if(0===n)return null;var r=t?t.getPointAtLength(e*n):null;return r?{x:r.x,y:r.y}:null},t}(Ip),Xp=Hp,Kp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return(0,Ir.__extends)(t,e),t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,Dr.each)(t||n,(function(e,t){"points"===t&&(0,Dr.isArray)(e)&&e.length>=2?r.setAttribute("points",e.map((function(e){return e[0]+","+e[1]})).join(" ")):wp[t]&&r.setAttribute(wp[t],e)}))},t}(Ip),qp=Kp,Jp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return(0,Ir.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Ir.__assign)((0,Ir.__assign)({},t),{startArrow:!1,endArrow:!1})},t.prototype.onAttrChange=function(t,n,r){e.prototype.onAttrChange.call(this,t,n,r),-1!==["points"].indexOf(t)&&this._resetCache()},t.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},t.prototype.createPath=function(e,t){var n=this.attr(),r=this.get("el");(0,Dr.each)(t||n,(function(e,t){"points"===t&&(0,Dr.isArray)(e)&&e.length>=2?r.setAttribute("points",e.map((function(e){return e[0]+","+e[1]})).join(" ")):wp[t]&&r.setAttribute(wp[t],e)}))},t.prototype.getTotalLength=function(){var e=this.attr().points,t=this.get("totalLength");return(0,Dr.isNil)(t)?(this.set("totalLength",Tc(e)),this.get("totalLength")):t},t.prototype.getPoint=function(e){var t,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,Dr.each)(i,(function(r,i){e>=r[0]&&e<=r[1]&&(t=(e-r[0])/(r[1]-r[0]),n=i)})),sc.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],t)},t.prototype._setTcache=function(){var e=this.attr().points;if(e&&0!==e.length){var t=this.getTotalLength();if(!(t<=0)){var n,r,i=0,o=[];(0,Dr.each)(e,(function(a,s){e[s+1]&&((n=[])[0]=i/t,r=sc.length(a[0],a[1],e[s+1][0],e[s+1][1]),i+=r,n[1]=i/t,o.push(n))})),this.set("tCache",o)}}},t.prototype.getStartTangent=function(){var e=this.attr().points,t=[];return t.push([e[1][0],e[1][1]]),t.push([e[0][0],e[0][1]]),t},t.prototype.getEndTangent=function(){var e=this.attr().points,t=e.length-1,n=[];return n.push([e[t-1][0],e[t-1][1]]),n.push([e[t][0],e[t][1]]),n},t}(Ip),$p=Jp;var Qp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return(0,Ir.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Ir.__assign)((0,Ir.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},t.prototype.createPath=function(e,t){var n=this,r=this.attr(),i=this.get("el"),o=!1,a=["x","y","width","height","radius"];(0,Dr.each)(t||r,(function(e,t){-1===a.indexOf(t)||o?-1===a.indexOf(t)&&wp[t]&&i.setAttribute(wp[t],e):(i.setAttribute("d",n._assembleRect(r)),o=!0)}))},t.prototype._assembleRect=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.radius;if(!o)return"M "+t+","+n+" l "+r+",0 l 0,"+i+" l"+-r+" 0 z";var a=function(e){var t=0,n=0,r=0,i=0;return(0,Dr.isArray)(e)?1===e.length?t=n=r=i=e[0]:2===e.length?(t=r=e[0],n=i=e[1]):3===e.length?(t=e[0],n=i=e[1],r=e[2]):(t=e[0],n=e[1],r=e[2],i=e[3]):t=n=r=i=e,{r1:t,r2:n,r3:r,r4:i}}(o);return(0,Dr.isArray)(o)?1===o.length?a.r1=a.r2=a.r3=a.r4=o[0]:2===o.length?(a.r1=a.r3=o[0],a.r2=a.r4=o[1]):3===o.length?(a.r1=o[0],a.r2=a.r4=o[1],a.r3=o[2]):(a.r1=o[0],a.r2=o[1],a.r3=o[2],a.r4=o[3]):a.r1=a.r2=a.r3=a.r4=o,[["M "+(t+a.r1)+","+n],["l "+(r-a.r1-a.r2)+",0"],["a "+a.r2+","+a.r2+",0,0,1,"+a.r2+","+a.r2],["l 0,"+(i-a.r2-a.r3)],["a "+a.r3+","+a.r3+",0,0,1,"+-a.r3+","+a.r3],["l "+(a.r3+a.r4-r)+",0"],["a "+a.r4+","+a.r4+",0,0,1,"+-a.r4+","+-a.r4],["l 0,"+(a.r4+a.r1-i)],["a "+a.r1+","+a.r1+",0,0,1,"+a.r1+","+-a.r1],["z"]].join(" ")},t}(Ip),eg=Qp,tg={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},ng={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},rg={left:"left",start:"left",center:"middle",right:"end",end:"end"},ig=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return(0,Ir.__extends)(t,e),t.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,Ir.__assign)((0,Ir.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},t.prototype.createPath=function(e,t){var n=this,r=this.attr(),i=this.get("el");this._setFont(),(0,Dr.each)(t||r,(function(e,t){"text"===t?n._setText(""+e):"matrix"===t&&e?Tp(n):wp[t]&&i.setAttribute(wp[t],e)})),i.setAttribute("paint-order","stroke"),i.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},t.prototype._setFont=function(){var e=this.get("el"),t=this.attr(),n=t.textBaseline,r=t.textAlign,i=Ls();i&&"firefox"===i.name?e.setAttribute("dominant-baseline",ng[n]||"alphabetic"):e.setAttribute("alignment-baseline",tg[n]||"baseline"),e.setAttribute("text-anchor",rg[r]||"left")},t.prototype._setText=function(e){var t=this.get("el"),n=this.attr(),r=n.x,i=n.textBaseline,o=void 0===i?"bottom":i;if(e)if(~e.indexOf("\n")){var a=e.split("\n"),s=a.length-1,u="";(0,Dr.each)(a,(function(e,t){0===t?"alphabetic"===o?u+='<tspan x="'+r+'" dy="'+-s+'em">'+e+"</tspan>":"top"===o?u+='<tspan x="'+r+'" dy="0.9em">'+e+"</tspan>":"middle"===o?u+='<tspan x="'+r+'" dy="'+-(s-1)/2+'em">'+e+"</tspan>":"bottom"===o?u+='<tspan x="'+r+'" dy="-'+(s+.3)+'em">'+e+"</tspan>":"hanging"===o&&(u+='<tspan x="'+r+'" dy="'+(-(s-1)-.3)+'em">'+e+"</tspan>"):u+='<tspan x="'+r+'" dy="1em">'+e+"</tspan>"})),t.innerHTML=u}else t.innerHTML=e;else t.innerHTML=""},t}(Ip),og=ig,ag=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,sg=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,ug=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function lg(e){var t=e.match(ug);if(!t)return"";var n="";return t.sort((function(e,t){return e=e.split(":"),t=t.split(":"),Number(e[0])-Number(t[0])})),(0,Dr.each)(t,(function(e){e=e.split(":"),n+='<stop offset="'+e[0]+'" stop-color="'+e[1]+'"></stop>'})),n}var cg=function(){function e(e){this.cfg={};var t=null,n=(0,Dr.uniqueId)("gradient_");return"l"===e.toLowerCase()[0]?function(e,t){var n,r,i=ag.exec(e),o=(0,Dr.mod)((0,Dr.toRadian)(parseFloat(i[1])),2*Math.PI),a=i[2];o>=0&&o<.5*Math.PI?(n={x:0,y:0},r={x:1,y:1}):.5*Math.PI<=o&&o<Math.PI?(n={x:1,y:0},r={x:0,y:1}):Math.PI<=o&&o<1.5*Math.PI?(n={x:1,y:1},r={x:0,y:0}):(n={x:0,y:1},r={x:1,y:0});var s=Math.tan(o),u=s*s,l=(r.x-n.x+s*(r.y-n.y))/(u+1)+n.x,c=s*(r.x-n.x+s*(r.y-n.y))/(u+1)+n.y;t.setAttribute("x1",n.x),t.setAttribute("y1",n.y),t.setAttribute("x2",l),t.setAttribute("y2",c),t.innerHTML=lg(a)}(e,t=Ep("linearGradient")):function(e,t){var n=sg.exec(e),r=parseFloat(n[1]),i=parseFloat(n[2]),o=parseFloat(n[3]),a=n[4];t.setAttribute("cx",r),t.setAttribute("cy",i),t.setAttribute("r",o),t.innerHTML=lg(a)}(e,t=Ep("radialGradient")),t.setAttribute("id",n),this.el=t,this.id=n,this.cfg=e,this}return e.prototype.match=function(e,t){return this.cfg===t},e}(),fg=cg,dg={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},hg={x:"-40%",y:"-40%",width:"200%",height:"200%"},pg=function(){function e(e){this.type="filter",this.cfg={},this.type="filter";var t=Ep("filter");return(0,Dr.each)(hg,(function(e,n){t.setAttribute(n,e)})),this.el=t,this.id=(0,Dr.uniqueId)("filter_"),this.el.id=this.id,this.cfg=e,this._parseShadow(e,t),this}return e.prototype.match=function(e,t){if(this.type!==e)return!1;var n=!0,r=this.cfg;return(0,Dr.each)(Object.keys(r),(function(e){if(r[e]!==t[e])return n=!1,!1})),n},e.prototype.update=function(e,t){var n=this.cfg;return n[dg[e]]=t,this._parseShadow(n,this.el),this},e.prototype._parseShadow=function(e,t){var n='<feDropShadow\n      dx="'+(e.dx||0)+'"\n      dy="'+(e.dy||0)+'"\n      stdDeviation="'+(e.blur?e.blur/10:0)+'"\n      flood-color="'+(e.color?e.color:"#000")+'"\n      flood-opacity="'+(e.opacity?e.opacity:1)+'"\n      />';t.innerHTML=n},e}(),gg=pg,vg=function(){function e(e,t){this.cfg={};var n=Ep("marker"),r=(0,Dr.uniqueId)("marker_");n.setAttribute("id",r);var i=Ep("path");i.setAttribute("stroke",e.stroke||"none"),i.setAttribute("fill",e.fill||"none"),n.appendChild(i),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=i,this.id=r;var o=e["marker-start"===t?"startArrow":"endArrow"];return this.stroke=e.stroke||"#000",!0===o?this._setDefaultPath(t,i):(this.cfg=o,this._setMarker(e.lineWidth,i)),this}return e.prototype.match=function(){return!1},e.prototype._setDefaultPath=function(e,t){var n=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},e.prototype._setMarker=function(e,t){var n=this.el,r=this.cfg.path,i=this.cfg.d;(0,Dr.isArray)(r)&&(r=r.map((function(e){return e.join(" ")})).join("")),t.setAttribute("d",r),n.appendChild(t),i&&n.setAttribute("refX",""+i/e)},e.prototype.update=function(e){var t=this.child;t.attr?t.attr("fill",e):t.setAttribute("fill",e)},e}(),mg=vg,yg=function(){function e(e){this.type="clip",this.cfg={};var t=Ep("clipPath");this.el=t,this.id=(0,Dr.uniqueId)("clip_"),t.id=this.id;var n=e.cfg.el;return t.appendChild(n),this.cfg=e,this}return e.prototype.match=function(){return!1},e.prototype.remove=function(){var e=this.el;e.parentNode.removeChild(e)},e}(),bg=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,xg=function(){function e(e){this.cfg={};var t=Ep("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var n=Ep("image");t.appendChild(n);var r=(0,Dr.uniqueId)("pattern_");t.id=r,this.el=t,this.id=r,this.cfg=e;var i=bg.exec(e)[2];n.setAttribute("href",i);var o=new Image;function a(){t.setAttribute("width",""+o.width),t.setAttribute("height",""+o.height)}return i.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=i,o.complete?a():(o.onload=a,o.src=o.src),this}return e.prototype.match=function(e,t){return this.cfg===t},e}(),wg=xg,Eg=function(){function e(e){var t=Ep("defs"),n=(0,Dr.uniqueId)("defs_");t.id=n,e.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=e}return e.prototype.find=function(e,t){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].match(e,t)){r=n[i].id;break}return r},e.prototype.findById=function(e){for(var t=this.children,n=null,r=0;r<t.length;r++)if(t[r].id===e){n=t[r];break}return n},e.prototype.add=function(e){this.children.push(e),e.canvas=this.canvas,e.parent=this},e.prototype.getDefaultArrow=function(e,t){var n=e.stroke||e.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new mg(e,t);return this.defaultArrow[n]=r,this.el.appendChild(r.el),this.add(r),r.id},e.prototype.addGradient=function(e){var t=new fg(e);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addArrow=function(e,t){var n=new mg(e,t);return this.el.appendChild(n.el),this.add(n),n.id},e.prototype.addShadow=function(e){var t=new gg(e);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addPattern=function(e){var t=new wg(e);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addClip=function(e){var t=new yg(e);return this.el.appendChild(t.el),this.add(t),t.id},e}(),Sg=Eg,_g=function(e){function t(t){return e.call(this,(0,Ir.__assign)((0,Ir.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}return(0,Ir.__extends)(t,e),t.prototype.getShapeBase=function(){return c},t.prototype.getGroupBase=function(){return Np},t.prototype.getShape=function(e,t,n){var r=n.target||n.srcElement;if(!xp[r.tagName]){for(var i=r.parentNode;i&&!xp[i.tagName];)i=i.parentNode;r=i}return this.find((function(e){return e.get("el")===r}))},t.prototype.createDom=function(){var e=Ep("svg"),t=new Sg(e);return e.setAttribute("width",""+this.get("width")),e.setAttribute("height",""+this.get("height")),this.set("context",t),e},t.prototype.onCanvasChange=function(e){var t=this.get("context"),n=this.get("el");if("sort"===e){var r=this.get("children");r&&r.length&&_p(this,(function(e,t){return r.indexOf(e)-r.indexOf(t)?1:0}))}else if("clear"===e){if(n){n.innerHTML="";var i=t.el;i.innerHTML="",n.appendChild(i)}}else"matrix"===e?Tp(this):"clip"===e?kp(this,t):"changeSize"===e&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},t.prototype.draw=function(){var e=this.get("context"),t=this.getChildren();kp(this,e),t.length&&Cp(e,t)},t}(Wl),Tg=_g,kg=n(3861),Cg=n.n(kg),Mg=n(7045),Ag=n.n(Mg),Ng=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Pg(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function Ig(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function Dg(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function Og(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=Ag()(e),i=5;i>0;i-=1){var o=r.toHsv(),a=Ag()({h:Pg(o,i,!0),s:Ig(o,i,!0),v:Dg(o,i,!0)}).toHexString();n.push(a)}n.push(r.toHexString());for(var s=1;s<=4;s+=1){var u=r.toHsv(),l=Ag()({h:Pg(u,s),s:Ig(u,s),v:Dg(u,s)}).toHexString();n.push(l)}return"dark"===t.theme?Ng.map((function(e){var r=e.index,i=e.opacity;return Ag().mix(t.backgroundColor||"#141414",n[r],100*i).toHexString()})):n}var Rg={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Lg={},jg={};Object.keys(Rg).forEach((function(e){Lg[e]=Og(Rg[e]),Lg[e].primary=Lg[e][5],jg[e]=Og(Rg[e],{theme:"dark",backgroundColor:"#141414"}),jg[e].primary=jg[e][5]}));Lg.red,Lg.volcano,Lg.gold,Lg.orange,Lg.yellow,Lg.lime,Lg.green,Lg.cyan,Lg.blue,Lg.geekblue,Lg.purple,Lg.magenta,Lg.grey;var Bg=function(e,t,n){var r=Cg()(e),i=Cg()(t);return Cg()([(1-n)*r.red()+n*i.red(),(1-n)*r.green()+n*i.green(),(1-n)*r.blue()+n*i.blue()]).rgb()},Fg=function(e,t,n,r){return void 0===t&&(t="#fff"),void 0===n&&(n="default"),void 0===r&&(r="rgb(150, 150, 150)"),"default"===n?function(e,t,n){void 0===t&&(t="#fff"),void 0===n&&(n="rgb(150, 150, 150)");var r=Bg(t,e,.05).rgb().toString(),i=Bg(t,e,.1).rgb().toString(),o=Bg(t,e,.2).rgb().toString(),a=Bg(t,e,.4).rgb().toString(),s=Bg(t,n,.02).rgb().toString(),u=Bg(t,n,.05).rgb().toString(),l=Bg(t,n,.1).rgb().toString(),c=Bg(t,n,.2).rgb().toString(),f=Bg(t,n,.3).rgb().toString(),d=Og(e,{theme:"default",backgroundColor:t}),h=Cg()(e).hex().toLowerCase(),p=d.indexOf(h),g=e;return-1!==p&&(g=d[p+1]),{mainStroke:e,mainFill:i,activeStroke:e,activeFill:r,inactiveStroke:a,inactiveFill:r,selectedStroke:e,selectedFill:t,highlightStroke:g,highlightFill:o,disableStroke:f,disableFill:u,edgeMainStroke:f,edgeActiveStroke:e,edgeInactiveStroke:c,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:l,comboMainStroke:f,comboMainFill:s,comboActiveStroke:e,comboActiveFill:r,comboInactiveStroke:f,comboInactiveFill:s,comboSelectedStroke:e,comboSelectedFill:s,comboHighlightStroke:g,comboHighlightFill:s,comboDisableStroke:c,comboDisableFill:u}}(e,t,"rgb(150, 150, 150)"):function(e,t,n){void 0===t&&(t="#fff"),void 0===n&&(n="#777");var r=Bg(t,e,.2).rgb().toString(),i=Bg(t,e,.3).rgb().toString(),o=Bg(t,e,.6).rgb().toString(),a=Bg(t,e,.8).rgb().toString(),s=Bg(t,n,.2).rgb().toString(),u=Bg(t,n,.25).rgb().toString(),l=Bg(t,n,.3).rgb().toString(),c=Bg(t,n,.4).rgb().toString(),f=Bg(t,n,.5).rgb().toString(),d=Og(e,{theme:"dark",backgroundColor:t}),h=Cg()(e).hex().toLowerCase(),p=d.indexOf(h),g=e;return-1!==p&&(g=d[p+1]),{mainStroke:a,mainFill:r,activeStroke:e,activeFill:i,inactiveStroke:a,inactiveFill:r,selectedStroke:e,selectedFill:r,highlightStroke:e,highlightFill:o,disableStroke:f,disableFill:u,edgeMainStroke:n,edgeActiveStroke:e,edgeInactiveStroke:n,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:l,comboMainStroke:c,comboMainFill:u,comboActiveStroke:e,comboActiveFill:s,comboInactiveStroke:c,comboInactiveFill:u,comboSelectedStroke:e,comboSelectedFill:s,comboHighlightStroke:g,comboHighlightFill:u,comboDisableStroke:c,comboDisableFill:s}}(e,t,"#777")},zg=function(e,t,n,r){void 0===t&&(t="#fff"),void 0===n&&(n="default"),void 0===r&&(r="rgb(150, 150, 150)");var i=[];return e.forEach((function(e){i.push(Fg(e,t,n,r))})),i},Yg="rgb(0, 0, 0)",Gg=Fg("rgb(95, 149, 255)","rgb(255, 255, 255)"),Vg={version:"0.6.0",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Gg.mainStroke,fill:Gg.mainFill},size:20,color:Gg.mainStroke,linkPoints:{size:8,lineWidth:1,fill:Gg.activeFill,stroke:Gg.activeStroke}},nodeStateStyles:{active:{fill:Gg.activeFill,stroke:Gg.activeStroke,lineWidth:2,shadowColor:Gg.mainStroke,shadowBlur:10},selected:{fill:Gg.selectedFill,stroke:Gg.selectedStroke,lineWidth:4,shadowColor:Gg.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:Gg.highlightFill,stroke:Gg.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:Gg.inactiveFill,stroke:Gg.inactiveStroke,lineWidth:1},disable:{fill:Gg.disableFill,stroke:Gg.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:Yg,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Gg.edgeMainStroke,lineAppendWidth:2},color:Gg.edgeMainStroke},edgeStateStyles:{active:{stroke:Gg.edgeActiveStroke,lineWidth:1},selected:{stroke:Gg.edgeSelectedStroke,lineWidth:2,shadowColor:Gg.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Gg.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:Gg.edgeInactiveStroke,lineWidth:1},disable:{stroke:Gg.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:Yg,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Gg.comboMainFill,lineWidth:1,stroke:Gg.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:Gg.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:Gg.comboActiveStroke,lineWidth:1,fill:Gg.comboActiveFill},selected:{stroke:Gg.comboSelectedStroke,lineWidth:2,fill:Gg.comboSelectedFill,shadowColor:Gg.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Gg.comboHighlightStroke,lineWidth:2,fill:Gg.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:Gg.comboInactiveStroke,fill:Gg.comboInactiveFill,lineWidth:1},disable:{stroke:Gg.comboDisableStroke,fill:Gg.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"};function Ug(e,t,n){if(e){if("function"===typeof e.addEventListener)return e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}};if("function"===typeof e.attachEvent)return e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}}}var Wg=Yd.cloneEvent,Zg=Yd.isViewportChanged,Hg=function(e){function t(t){var n=e.call(this,t)||this;return n.extendEvents=[],n.dragging=!1,n.preItem=null,n.graph=t,n.destroyed=!1,n.initEvents(),n}return(0,Ir.__extends)(t,e),t.prototype.initEvents=function(){var e=this.graph,t=this.extendEvents,n=void 0===t?[]:t,r=e.get("canvas"),i=r.get("el"),o=(0,Dr.wrapBehavior)(this,"onCanvasEvents"),a=(0,Dr.wrapBehavior)(this,"onExtendEvents"),s=(0,Dr.wrapBehavior)(this,"onWheelEvent");r.off("*").on("*",o),this.canvasHandler=o,n.push(Ug(i,"DOMMouseScroll",s)),n.push(Ug(i,"mousewheel",s)),"undefined"!==typeof window&&(n.push(Ug(window,"keydown",a)),n.push(Ug(window,"keyup",a)),n.push(Ug(window,"focus",a)))},t.getItemRoot=function(e){for(;e&&!e.get("item");)e=e.get("parent");return e},t.prototype.onCanvasEvents=function(e){var n=this.graph,r=n.get("canvas"),i=e.target,o=e.type;e.canvasX=e.x,e.canvasY=e.y;var a={x:e.canvasX,y:e.canvasY},s=n.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),Zg(s)&&(a=n.getPointByClient(e.clientX,e.clientY)),e.x=a.x,e.y=a.y,e.currentTarget=n,i===r)return"mousemove"!==o&&"mouseleave"!==o||this.handleMouseMove(e,"canvas"),e.target=r,e.item=null,n.emit(o,e),void n.emit("canvas:".concat(o),e);var u=t.getItemRoot(i);if(u){var l=u.get("item");if(!l.destroyed){var c=l.getType();if(e.target=i,e.item=l,e.canvasX===e.x&&e.canvasY===e.y){var f=n.getCanvasByPoint(e.x,e.y);e.canvasX=f.x,e.canvasY=f.y}n.emit(o,e),e.name&&!e.name.includes(":")?n.emit("".concat(c,":").concat(o),e):n.emit(e.name,e),"dragstart"===o&&(this.dragging=!0),"dragend"===o&&(this.dragging=!1),"mousemove"===o&&this.handleMouseMove(e,c)}}else n.emit(o,e)},t.prototype.onExtendEvents=function(e){this.graph.emit(e.type,e)},t.prototype.onWheelEvent=function(e){(0,Dr.isNil)(e.wheelDelta)&&(e.wheelDelta=-e.detail),this.graph.emit("wheel",e)},t.prototype.handleMouseMove=function(e,t){var n=this.graph,r=this.preItem,i=n.get("canvas"),o=e.target===i?null:e.item;e=Wg(e),r&&r!==o&&!r.destroyed&&(e.item=r,this.emitCustomEvent(r.getType(),"mouseleave",e),this.dragging&&this.emitCustomEvent(r.getType(),"dragleave",e)),o&&r!==o&&(e.item=o,this.emitCustomEvent(t,"mouseenter",e),this.dragging&&this.emitCustomEvent(t,"dragenter",e)),this.preItem=o},t.prototype.emitCustomEvent=function(e,t,n){n.type=t,this.graph.emit("".concat(e,":").concat(t),n)},t.prototype.destroy=function(){var e=this,t=e.graph,n=e.canvasHandler,r=e.extendEvents;t.get("canvas").off("*",n),(0,Dr.each)(r,(function(e){e.remove()})),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},t}(Wd),Xg=Hg,Kg=n(8253),qg=n(7701),Jg=n.n(qg),$g=Yd.traverseTree,Qg=function(e,t){return e?(0,Dr.isNumber)(e)?function(t){return e}:e:function(e){return t||1}},ev=function(e,t){var n=[],r=[],i={},o=0;for(o=0;o<e.length;o++){var a=e[o];i[a.id]=o,n.push(a.x),n.push(a.y),n.push(0),n.push(0),r.push([])}for(o=0;o<t.length;o++){var s=t[o];r[i[s.source]].push(i[s.target]),r[i[s.target]].push(i[s.source])}var u=0;for(o=0;o<e.length;o++){var l=n.length,c=r[o],f=c.length;n[4*o+2]=l,n[4*o+3]=c.length,u=Math.max(u,c.length);for(var d=0;d<f;++d){var h=c[d];n.push(+h)}}for(;n.length%4!==0;)n.push(0);return{array:new Float32Array(n),maxEdgePerVetex:u}},tv=function(e,t,n){var r=[],i=[],o={},a=0;for(a=0;a<e.length;a++){var s=e[a];o[s.id]=a,r.push(s.x),r.push(s.y),r.push(0),r.push(0),i.push([])}for(a=0;a<t.length;a++){var u=t[a];i[o[u.source]].push(o[u.target]),i[o[u.source]].push(n(u)),i[o[u.target]].push(o[u.source]),i[o[u.target]].push(n(u))}var l=0;for(a=0;a<e.length;a++){var c=r.length,f=i[a],d=f.length;r[4*a+2]=c,r[4*a+3]=d/2,l=Math.max(l,d/2);for(var h=0;h<d;++h){var p=f[h];r.push(+p)}}for(;r.length%4!==0;)r.push(0);return{array:new Float32Array(r),maxEdgePerVetex:l}},nv=function(e,t,n,r){var i=[],o=[],a={},s=0;for(s=0;s<e.length;s++){var u=e[s];a[u.id]=s,i.push(u.x),i.push(u.y),i.push(0),i.push(0),o.push([])}for(s=0;s<t.length;s++){var l=t[s];o[a[l.source]].push(a[l.target]),o[a[l.source]].push(n(l)),o[a[l.source]].push(r(l)),o[a[l.source]].push(0),o[a[l.target]].push(a[l.source]),o[a[l.target]].push(n(l)),o[a[l.target]].push(r(l)),o[a[l.target]].push(0)}var c=0;for(s=0;s<e.length;s++){var f=i.length,d=o[s],h=d.length;i[4*s+2]=f+1048576*h/4,i[4*s+3]=0,c=Math.max(c,h/4);for(var p=0;p<h;++p){var g=d[p];i.push(+g)}}for(;i.length%4!==0;)i.push(0);return{array:new Float32Array(i),maxEdgePerVetex:c}},rv=function(e,t){var n=[],r=e.length,i={};return t.forEach((function(t){e.forEach((function(e,o){if(void 0===i[t[e]]&&(i[t[e]]=Object.keys(i).length),n.push(i[t[e]]),o===r-1)for(;n.length%4!==0;)n.push(0)}))})),{array:new Float32Array(n),count:Object.keys(i).length}},iv=function(e){for(var t=[],n=e.length,r=e[0].length,i=function(r){e.forEach((function(e,i){if(t.push(e[r]),i===n-1)for(;t.length%4!==0;)t.push(0)}))},o=0;o<r;o++)i(o);return new Float32Array(t)},ov=function(e,t){var n={x:1/0,y:1/0},r={x:-1/0,y:-1/0},i="x",o="y";t&&["V","TB","BT"].indexOf(t)>=0&&(o="x",i="y");var a=0;$g(e,(function(e){return a++,e.x>r.x&&(r.x=e.x),e.x<n.x&&(n.x=e.x),e.y>r.y&&(r.y=e.y),e.y<n.y&&(n.y=e.y),!0}));var s=2*Math.PI/a,u=r[o]-n[o];return 0===u||$g(e,(function(t){var r=(t[o]-n[o])/u*(2*Math.PI-s)+s,a=Math.abs("x"===i?t.x-e.x:t.y-e.y);return t.x=a*Math.cos(r),t.y=a*Math.sin(r),!0})),e},av=function e(){return"undefined"===typeof window||"undefined"===typeof document?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(t){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(t){var n=void 0!==(t=t||{}).parent?t.parent:document.body,r=void 0!==t.id?t.id:"oldie",i=e().getWebGLErrorMessage();i.id=r,n.appendChild(i)}}},sv=(0,Ir.__assign)((0,Ir.__assign)((0,Ir.__assign)((0,Ir.__assign)({},Yd),f),d),h),uv=sv.radialLayout,lv=function(){function e(e){this.type=e.type,this.radial=e.radial,this.config=e}return e.prototype.init=function(e){var t=this;this.data=e,this.radial?this.layoutMethod=function(e){var n=Jg()[t.type](e,t.config);return uv(n),n}:this.layoutMethod=function(e){return Jg()[t.type](e,t.config)}},e.prototype.execute=function(){return this.layoutMethod(this.data,this.config)},e.prototype.layout=function(e){return this.init(e),this.execute()},e}(),cv=lv;(0,Kg.registerLayout)("grid",Kg.GridLayout),(0,Kg.registerLayout)("random",Kg.RandomLayout),(0,Kg.registerLayout)("force",Kg.ForceLayout),(0,Kg.registerLayout)("circular",Kg.CircularLayout),(0,Kg.registerLayout)("dagre",Kg.DagreLayout),(0,Kg.registerLayout)("dagreCompound",Kg.DagreCompoundLayout),(0,Kg.registerLayout)("radial",Kg.RadialLayout),(0,Kg.registerLayout)("concentric",Kg.ConcentricLayout),(0,Kg.registerLayout)("mds",Kg.MDSLayout),(0,Kg.registerLayout)("fruchterman",Kg.FruchtermanLayout),(0,Kg.registerLayout)("fruchterman-gpu",Kg.FruchtermanGPULayout),(0,Kg.registerLayout)("gForce",Kg.GForceLayout),(0,Kg.registerLayout)("gForce-gpu",Kg.GForceGPULayout),(0,Kg.registerLayout)("comboForce",Kg.ComboForceLayout),(0,Kg.registerLayout)("comboCombined",Kg.ComboCombinedLayout),(0,Kg.registerLayout)("forceAtlas2",Kg.ForceAtlas2Layout);var fv=function(e,t){var n=e.toString(),r=new Blob(["importScripts('".concat(t,"');(").concat(n,")()")],{type:"text/javascript"});return new Worker(URL.createObjectURL(r))},dv=function(e){void 0===e&&(e="https://unpkg.com/@antv/layout@latest/dist/layout.min.js");var t=new fv((function(){var e="LAYOUT_RUN",t="LAYOUT_END",n="LAYOUT_ERROR",r="GPU_LAYOUT_RUN";layout.registerLayout("grid",layout.GridLayout),layout.registerLayout("random",layout.RandomLayout),layout.registerLayout("force",layout.ForceLayout),layout.registerLayout("circular",layout.CircularLayout),layout.registerLayout("dagre",layout.DagreLayout),layout.registerLayout("dagreCompound",layout.DagreCompoundLayout),layout.registerLayout("radial",layout.RadialLayout),layout.registerLayout("concentric",layout.ConcentricLayout),layout.registerLayout("mds",layout.MDSLayout),layout.registerLayout("fruchterman",layout.FruchtermanLayout),layout.registerLayout("fruchterman-gpu",layout.FruchtermanGPULayout),layout.registerLayout("gForce",layout.GForceLayout),layout.registerLayout("gForce-gpu",layout.GForceGPULayout),layout.registerLayout("comboForce",layout.ComboForceLayout),layout.registerLayout("comboCombined",layout.ComboCombinedLayout),layout.registerLayout("forceAtlas2",layout.ForceAtlas2Layout),onmessage=function(i){(function(t){var n=t.data.type;return n===e||n===r})(i)&&function(i){var o=this;switch(i.data.type){case e:var a,s=i.data,u=s.nodes,l=s.edges,c=s.layoutCfg,f=(v=void 0===c?{}:c).type;if(!(d=layout.getLayoutByName(f))){this.postMessage({type:n,message:"layout ".concat(f," not found")});break}v.onLayoutEnd=function(){o.postMessage({type:t,nodes:u}),null===a||void 0===a||a.destroy()},(a=new d(v)).init({nodes:u,edges:l}),a.execute();break;case r:var d,h=i.data,p=h.nodes,g=(l=h.edges,h.layoutCfg),v=void 0===g?{}:g,m=h.canvas;if(f=v.type,!(d=layout.getLayoutByName(f))){this.postMessage({type:n,message:"layout ".concat(f," not found")});break}if("gpu"!==f.split("-")[1]){this.postMessage({type:n,message:"layout ".concat(f," does not support GPU")});break}var y=new d(v);y.init({nodes:p,edges:l}),y.executeWithWorker(m,this)}}(i)}}),e);return t},hv="LAYOUT_RUN",pv="LAYOUT_END",gv="LAYOUT_ERROR",vv="LAYOUT_TICK",mv="GPU_LAYOUT_RUN",yv="GPU_LAYOUT_END";function bv(e){return bv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bv(e)}var xv,wv,Ev,Sv,_v=function(e){return setTimeout(e,16)},Tv=function(e){return clearTimeout(e)},kv=function(e){return("undefined"!==typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||_v)(e)},Cv=function(e){return("undefined"!==typeof window&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||Tv)(e)},Mv=["fruchterman","gForce"],Av=["force","grid","circular"],Nv=function(e){function t(t){var n=e.call(this,t)||this;return n.graph=t,n.layoutCfg=t.get("layout")||{},n.layoutType=n.getLayoutType(),n.worker=null,n.workerData={},n.initLayout(),n}return(0,Ir.__extends)(t,e),t.prototype.initLayout=function(){},t.prototype.getWorker=function(){return this.worker||("undefined"===typeof Worker?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=dv(this.layoutCfg.workerScriptURL)),this.worker},t.prototype.stopWorker=function(){var e=this.workerData;this.worker&&(this.worker.terminate(),this.worker=null,e.requestId&&(Cv(e.requestId),e.requestId=null),e.requestId2&&(Cv(e.requestId2),e.requestId2=null))},t.prototype.execLayoutMethod=function(e,t){var n=this;return new Promise((function(r,i){return(0,Ir.__awaiter)(n,void 0,void 0,(function(){var n,o,a,s,u,l,c;return(0,Ir.__generator)(this,(function(f){switch(f.label){case 0:if(!(n=this.graph)||n.get("destroyed"))return[2];o=e.type,e.onLayoutEnd=function(){n.emit("aftersublayout",{type:o}),r()},o&&this.isGPU&&(this.hasGPUVersion(o)?o="".concat(o,"-gpu"):console.warn("The '".concat(o,"' layout does not support GPU calculation for now, it will run in CPU."))),"force"===o||"g6force"===o||"gForce"===o?(a=e.onTick,l=function(){a&&a(),n.refreshPositions()},e.tick=l):"comboForce"!==o&&"comboCombined"!==o||(e.comboTrees=n.get("comboTrees")),!1;try{s=new Kg.Layouts[o](e)}catch(d){console.warn("The layout method: '".concat(o,"' does not exist! Please specify it first.")),i()}return s.enableTick&&(u=e.onTick,l=function(){u&&u(),n.refreshPositions()},s.tick=l),function(e,t){var n;if(!(null===(n=null===e||void 0===e?void 0:e.nodes)||void 0===n?void 0:n.length))return;e.nodes.forEach((function(e){e.layoutOrder=t}))}(c=this.filterLayoutData(this.data,e),t),s.init(c),n.emit("beforesublayout",{type:o}),[4,s.execute()];case 1:return f.sent(),s.isCustomLayout&&e.onLayoutEnd&&e.onLayoutEnd(),this.layoutMethods[t]=s,[2]}}))}))}))},t.prototype.updateLayoutMethod=function(e,t){var n=this;return new Promise((function(r,i){return(0,Ir.__awaiter)(n,void 0,void 0,(function(){var n,i,o;return(0,Ir.__generator)(this,(function(a){switch(a.label){case 0:return n=this.graph,i=null===t||void 0===t?void 0:t.type,t.onLayoutEnd=function(){n.emit("aftersublayout",{type:i}),r()},o=this.filterLayoutData(this.data,t),e.init(o),e.updateCfg(t),n.emit("beforesublayout",{type:i}),[4,e.execute()];case 1:return a.sent(),e.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd(),[2]}}))}))}))},t.prototype.layout=function(e){var t=this,n=this.graph;this.data=this.setDataFromGraph();var r=this.data,i=r.nodes,o=r.hiddenNodes;if(!i)return!1;var a=n.get("width"),s=n.get("height"),u={};Object.assign(u,{width:a,height:s,center:[a/2,s/2]},this.layoutCfg),this.layoutCfg=u,this.destoryLayoutMethods(),n.emit("beforelayout"),this.initPositions(u.center,i),this.initPositions(u.center,o);var l=u.type;l&&"gpu"===l.split("-")[1]&&(l=l.split("-")[0],u.gpuEnabled=!0);var c=!1;u.gpuEnabled&&(c=!0,av().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),c=!1)),this.isGPU=c;var f=u.onLayoutEnd,d=u.layoutEndFormatted,h=u.adjust;if(d||(u.layoutEndFormatted=!0,u.onAllLayoutEnd=function(){return(0,Ir.__awaiter)(t,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(e){switch(e.label){case 0:return f&&f(),this.refreshLayout(),h&&u.pipes?[4,this.adjustPipesBox(this.data,h)]:[3,2];case 1:e.sent(),this.refreshLayout(),e.label=2;case 2:return n.emit("afterlayout"),[2]}}))}))}),this.stopWorker(),u.workerEnabled&&this.layoutWithWorker(this.data))return!0;var p=Promise.resolve(),g=!1;return u.type?(g=!0,p=p.then((function(){return(0,Ir.__awaiter)(t,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.execLayoutMethod(u,0)];case 1:return[2,e.sent()]}}))}))}))):u.pipes&&(g=!0,u.pipes.forEach((function(e,n){p=p.then((function(){return(0,Ir.__awaiter)(t,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.execLayoutMethod(e,n)];case 1:return[2,t.sent()]}}))}))}))}))),g&&p.then((function(){u.onAllLayoutEnd&&u.onAllLayoutEnd(),e&&e()})).catch((function(e){console.warn("graph layout failed,",e)})),!1},t.prototype.layoutWithWorker=function(e){var t=this,n=this.layoutCfg,r=this.graph,i=this.getWorker(),o=this.workerData;if(!i)return!1;o.requestId=null,o.requestId2=null,o.currentTick=null,o.currentTickData=null,r.emit("beforelayout");var a=Promise.resolve(),s=!1;if(n.type)s=!0,a=a.then((function(){return t.runWebworker(i,e,n)}));else if(n.pipes){s=!0;for(var u=function(n){a=a.then((function(){return t.runWebworker(i,e,n)}))},l=0,c=n.pipes;l<c.length;l++){u(c[l])}}return s&&a.then((function(){n.onAllLayoutEnd&&n.onAllLayoutEnd()})).catch((function(e){console.error("layout failed",e)})),!0},t.prototype.runWebworker=function(e,t,n){var r=this,i=this.isGPU,o=this.filterLayoutData(t,n),a=o.nodes,s=o.edges,u=document.createElement("canvas"),l=i&&"undefined"!==typeof window&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in u,c=function(e,t){var n={};if(e&&"object"===bv(e))return Object.keys(e).forEach((function(r){e.hasOwnProperty(r)&&t(e[r])&&(n[r]=e[r])})),n;return e}(n,(function(e){return"function"!==typeof e}));if(l){var f=u.transferControlToOffscreen();c.type="".concat(c.type,"-gpu"),e.postMessage({type:mv,nodes:a,edges:s,layoutCfg:c,canvas:f},[f])}else e.postMessage({type:hv,nodes:a,edges:s,layoutCfg:c});return new Promise((function(t,i){e.onmessage=function(e){r.handleWorkerMessage(t,i,e,o,n)}}))},t.prototype.handleWorkerMessage=function(e,t,n,r,i){var o=this.graph,a=this.workerData,s=n.data,u=s.type,l=function(){i.onTick&&i.onTick()};switch(u){case vv:a.currentTick=s.currentTick,a.currentTickData=s,a.requestId||(a.requestId=kv((function(){Iv(r,s),o.refreshPositions(),l(),s.currentTick===s.totalTicks?e():a.currentTick===s.totalTicks&&(a.requestId2=kv((function(){Iv(r,a.currentTickData),o.refreshPositions(),a.requestId2=null,l(),e()}))),a.requestId=null})));break;case pv:null==a.currentTick&&(Iv(r,s),e());break;case yv:null==a.currentTick&&(!function(e,t){for(var n=e.nodes,r=t.vertexEdgeData,i=n.length,o=0;o<i;o++){var a=n[o],s=r[4*o],u=r[4*o+1];a.x=s,a.y=u}}(r,s),e());break;case gv:console.warn("Web-Worker layout error!",s.message),t();break;default:t()}},t.prototype.updateLayoutCfg=function(e){var t=this,n=this.graph,r=this.layoutMethods,i=(0,Dr.mix)({},this.layoutCfg,e);if(this.layoutCfg=i,null===r||void 0===r?void 0:r.length){if(this.data=this.setDataFromGraph(),this.stopWorker(),!e.workerEnabled||!this.layoutWithWorker(this.data)){n.emit("beforelayout");var o=Promise.resolve(),a=!1;1===r.length?(a=!0,o=o.then((function(){return(0,Ir.__awaiter)(t,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.updateLayoutMethod(r[0],i)];case 1:return[2,e.sent()]}}))}))}))):(a=!0,null===r||void 0===r||r.forEach((function(e,n){var r=i.pipes[n];o=o.then((function(){return(0,Ir.__awaiter)(t,void 0,void 0,(function(){return(0,Ir.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.updateLayoutMethod(e,r)];case 1:return[2,t.sent()]}}))}))}))}))),a&&o.then((function(){i.onAllLayoutEnd&&i.onAllLayoutEnd()})).catch((function(e){console.warn("layout failed",e)}))}}else this.layout()},t.prototype.adjustPipesBox=function(e,t){var n=this;return new Promise((function(r){var i=e.nodes;(null===i||void 0===i?void 0:i.length)||r(),Av.includes(t)||(console.warn("The adjust type ".concat(t," is not supported yet, please assign it with 'force', 'grid', or 'circular'.")),r());var o={center:n.layoutCfg.center,nodeSize:function(e){return Math.max(e.height,e.width)},preventOverlap:!0,onLayoutEnd:function(){}},a=n.getLayoutBBox(i),s=a.groupNodes,u=a.layoutNodes,l=(0,Dr.clone)(u);o.onLayoutEnd=function(){null===u||void 0===u||u.forEach((function(e,t){var n,r,i,o=e.x-(null===(n=l[t])||void 0===n?void 0:n.x),a=e.y-(null===(r=l[t])||void 0===r?void 0:r.y);null===(i=s[t])||void 0===i||i.forEach((function(e){e.x+=o,e.y+=a}))})),r()},new Kg.Layouts[t](o).layout({nodes:u})}))},t.prototype.hasGPUVersion=function(e){return Mv.includes(e)},t.prototype.destroy=function(){this.destoryLayoutMethods();var e=this.worker;e&&(e.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},t}(Vd),Pv=Nv;function Iv(e,t){for(var n=e.nodes,r=t.nodes,i=n.length,o=0;o<i;o++){var a=n[o];a.x=r[o].x,a.y=r[o].y}}function Dv(e){xv||(xv=document.createElement("table"),wv=document.createElement("tr"),Ev=/^\s*<(\w+|!)[^>]*>/,Sv={tr:document.createElement("tbody"),tbody:xv,thead:xv,tfoot:xv,td:wv,th:wv,"*":document.createElement("div")});var t=Ev.test(e)&&RegExp.$1;t&&t in Sv||(t="*");var n=Sv[t];e="string"===typeof e?e.replace(/(^\s*)|(\s*$)/g,""):e,n.innerHTML=""+e;var r=n.childNodes[0];return r&&n.contains(r)&&n.removeChild(r),r}var Ov=Wr,Rv=function(e){function t(t){var n=e.call(this,t)||this,r=n.get("defaultNode");return r||n.set("defaultNode",{type:"circle"}),r.type||(r.type="circle",n.set("defaultNode",r)),n.destroyed=!1,n}return(0,Ir.__extends)(t,e),t.prototype.initLayoutController=function(){var e=new Pv(this);this.set({layoutController:e})},t.prototype.initEventController=function(){var e=new Xg(this);this.set({eventController:e})},t.prototype.initCanvas=function(){var e=this.get("container");if("string"===typeof e&&(e=document.getElementById(e),this.set("container",e)),!e)throw new Error("invalid container");var t,n=e.clientWidth,r=e.clientHeight,i=this.get("width")||n,o=this.get("height")||r;if(this.get("width")||this.get("height")||(this.set("width",n),this.set("height",r)),"svg"===this.get("renderer"))t=new Tg({container:e,width:i,height:o});else{var a={container:e,width:i,height:o},s=this.get("pixelRatio");s&&(a.pixelRatio=s),t=new bp(a)}this.set("canvas",t)},t.prototype.initPlugins=function(){var e=this;(0,Dr.each)(e.get("plugins"),(function(t){!t.destroyed&&t.initPlugin&&t.initPlugin(e)}))},t.prototype.downloadImageWatermark=function(e,t,n,r){return(0,Ir.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return(0,Ir.__generator)(this,(function(s){switch(s.label){case 0:return i=e.style.backgroundImage,o=i.slice(5,i.length-2),(a=new Image).src=o,[4,new Promise((function(e){a.onload=function(){var i=t.createPattern(a,"repeat");t.rect(0,0,n,r),t.fillStyle=i,t.fill(),e("")}}))];case 1:return s.sent(),[2]}}))}))},t.prototype.asyncToDataUrl=function(e,t,n,r,i,o){var a=this,s=document.querySelector(".g6-graph-watermarker"),u=this.get("canvas"),l=u.getRenderer(),c=o||u.get("el"),f="";e||(e="image/png"),setTimeout((function(){return(0,Ir.__awaiter)(a,void 0,void 0,(function(){var o,a,u,d,h,p,g,v,m,y;return(0,Ir.__generator)(this,(function(b){switch(b.label){case 0:return"svg"!==l?[3,1]:(o=c.cloneNode(!0),a=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),(u=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",a)).replaceChild(o,u.documentElement),d=(new XMLSerializer).serializeToString(u),f="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(d)),[3,4]);case 1:return h=void 0,p=c.getContext("2d"),g=r||this.get("width"),v=i||this.get("height"),m=void 0,s?[4,this.downloadImageWatermark(s,p,g,v)]:[3,3];case 2:b.sent(),b.label=3;case 3:if(t){y="undefined"!==typeof window?window.devicePixelRatio:1;try{h=p.getImageData(0,0,g*y,v*y),m=p.globalCompositeOperation,p.globalCompositeOperation="destination-over",p.fillStyle=t,p.fillRect(0,0,g,v)}catch(x){console.error("Download image failed. Out of memory at ImageData creation")}}f=c.toDataURL(e),t&&(p.clearRect(0,0,g,v),p.putImageData(h,0,0),p.globalCompositeOperation=m),b.label=4;case 4:return n&&n(f),[2]}}))}))}),16)},t.prototype.toDataURL=function(e,t){var n=this.get("canvas"),r=n.getRenderer(),i=n.get("el");e||(e="image/png");var o="";if("svg"===r){var a=i.cloneNode(!0),s=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),u=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",s);u.replaceChild(a,u.documentElement);var l=(new XMLSerializer).serializeToString(u);o="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(l))}else{var c=void 0,f=i.getContext("2d"),d=this.get("width"),h=this.get("height"),p=void 0;if(t){var g="undefined"!==typeof window?window.devicePixelRatio:1;try{c=f.getImageData(0,0,d*g,h*g),p=f.globalCompositeOperation,f.globalCompositeOperation="destination-over",f.fillStyle=t,f.fillRect(0,0,d,h)}catch(v){console.error("Download image failed. Out of memory at ImageData creation")}}o=i.toDataURL(e),t&&(f.clearRect(0,0,d,h),f.putImageData(c,0,0),f.globalCompositeOperation=p)}return o},t.prototype.toFullDataURL=function(e,t,n){var r=this.get("group").getCanvasBBox(),i=r.height,o=r.width,a=this.get("renderer"),s=Dv('<div id="virtual-image"></div>'),u=n?n.backgroundColor:void 0,l=n?n.padding:void 0;l?(0,Dr.isNumber)(l)&&(l=[l,l,l,l]):l=[0,0,0,0];var c=i+l[0]+l[2],f=o+l[1]+l[3],d={container:s,height:c,width:f,quickHit:!0},h="svg"===a?new Tg(d):new bp(d),p=this.get("group").clone(),g=(0,Dr.clone)(p.getMatrix());g||(g=[1,0,0,0,1,0,0,0,1]);var v=(r.maxX+r.minX)/2,m=(r.maxY+r.minY)/2;g=Ov(g,[["t",-v,-m],["t",o/2+l[3],i/2+l[0]]]),p.resetMatrix(),p.setMatrix(g),h.add(p);var y=h.get("el"),b="";t||(t="image/png"),setTimeout((function(){if("svg"===a){var n=y.cloneNode(!0),r=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),i=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",r);i.replaceChild(n,i.documentElement);var o=(new XMLSerializer).serializeToString(i);b="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(o))}else{var s=void 0,l=y.getContext("2d"),d=void 0;if(u){var h="undefined"!==typeof window?window.devicePixelRatio:1;try{s=l.getImageData(0,0,f*h,c*h),d=l.globalCompositeOperation,l.globalCompositeOperation="destination-over",l.fillStyle=u,l.fillRect(0,0,f,c)}catch(p){console.error("Download image failed. Out of memory at ImageData creation")}}b=y.toDataURL(t),u&&(l.clearRect(0,0,f,c),l.putImageData(s,0,0),l.globalCompositeOperation=d)}e&&e(b)}),16)},t.prototype.downloadFullImage=function(e,t,n){var r=this,i=this.get("group").getCanvasBBox(),o=i.height,a=i.width,s=this.get("renderer"),u=Dv('<div id="virtual-image"></div>'),l=document.querySelector(".g6-graph-watermarker"),c=n?n.backgroundColor:void 0,f=n?n.padding:void 0;f?(0,Dr.isNumber)(f)&&(f=[f,f,f,f]):f=[0,0,0,0];var d=o+f[0]+f[2],h=a+f[1]+f[3];if(l){var p=this.get("graphWaterMarker").cfg||{},g=p.width,v=p.height;d=Math.ceil(d/v)*v,h=Math.ceil(h/g)*g}var m={container:u,height:d,width:h},y="svg"===s?new Tg(m):new bp(m),b=this.get("group").clone(),x=(0,Dr.clone)(b.getMatrix());x||(x=[1,0,0,0,1,0,0,0,1]);var w=(i.maxX+i.minX)/2,E=(i.maxY+i.minY)/2;x=Ov(x,[["t",-w,-E],["t",a/2+f[3],o/2+f[0]]]),b.resetMatrix(),b.setMatrix(x),y.add(b);var S=y.get("el");t||(t="image/png"),this.asyncToDataUrl(t,c,(function(n){var i=document.createElement("a"),o=(e||"graph")+("svg"===s?".svg":".".concat(t.split("/")[1]));r.dataURLToImage(n,s,i,o);var a=document.createEvent("MouseEvents");a.initEvent("click",!1,!1),i.dispatchEvent(a)}),h,d,S)},t.prototype.downloadImage=function(e,t,n){var r=this,i=this;i.isAnimating()&&i.stopAnimate();var o=i.get("canvas").getRenderer();t||(t="image/png");var a=(e||"graph")+("svg"===o?".svg":t.split("/")[1]),s=document.createElement("a");i.asyncToDataUrl(t,n,(function(e){r.dataURLToImage(e,o,s,a);var t=document.createEvent("MouseEvents");t.initEvent("click",!1,!1),s.dispatchEvent(t)}))},t.prototype.dataURLToImage=function(e,t,n,r){if(e&&"data:"!==e){if("undefined"!==typeof window)if(window.Blob&&window.URL&&"svg"!==t){var i=e.split(","),o="";if(i&&i.length>0){var a=i[0].match(/:(.*?);/);a&&a.length>=2&&(o=a[1])}for(var s=atob(i[1]),u=s.length,l=new Uint8Array(u);u--;)l[u]=s.charCodeAt(u);var c=new Blob([l],{type:o});window.navigator.msSaveBlob?window.navigator.msSaveBlob(c,r):n.addEventListener("click",(function(){n.download=r,n.href=window.URL.createObjectURL(c)}))}else n.addEventListener("click",(function(){n.download=r,n.href=e}))}else console.error("Download image failed. The graph is too large or there is invalid attribute values in graph items")},t.prototype.addPlugin=function(e){e.destroyed||(this.get("plugins").push(e),e.initPlugin(this))},t.prototype.removePlugin=function(e){var t=this.get("plugins"),n=t.indexOf(e);n>=0&&(e.destroyPlugin(),t.splice(n,1))},t.prototype.setImageWaterMarker=function(e,t){void 0===e&&(e=Vg.waterMarkerImage);var n=this.get("container");(0,Dr.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var r=this.get("graphWaterMarker"),i=(0,Dr.deepMix)({},Vg.imageWaterMarkerConfig,t),o=i.width,a=i.height,s=i.compatible,u=i.image;if(!r){var l={container:n,width:o,height:a,capture:!1},c=this.get("pixelRatio");c&&(l.pixelRatio=c),r=new bp(l),this.set("graphWaterMarker",r)}r.get("el").style.display="none";var f=r.get("context"),d=u.rotate,h=u.x,p=u.y;f.rotate(-d*Math.PI/180);var g=new Image;g.crossOrigin="anonymous",g.src=e,g.onload=function(){if(f.drawImage(g,h,p,u.width,u.height),f.rotate(d*Math.PI/180),s)n.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var e=document.querySelector(".g6-graph-watermarker");e||((e=document.createElement("div")).className="g6-graph-watermarker"),e.className="g6-graph-watermarker",r.destroyed||(e.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;"),n.appendChild(e))}}},t.prototype.setTextWaterMarker=function(e,t){var n=this.get("container");(0,Dr.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var r=this.get("graphWaterMarker"),i=(0,Dr.deepMix)({},Vg.textWaterMarkerConfig,t),o=i.width,a=i.height,s=i.compatible,u=i.text;if(!r){var l={container:n,width:o,height:a,capture:!1},c=this.get("pixelRatio");c&&(l.pixelRatio=c),r=new bp(l),this.set("graphWaterMarker",r)}r.get("el").style.display="none";var f=r.get("context"),d=u.rotate,h=u.fill,p=u.fontFamily,g=u.fontSize,v=u.baseline,m=u.x,y=u.y,b=u.lineHeight;f.rotate(-d*Math.PI/180),f.font="".concat(g,"px ").concat(p),f.fillStyle=h,f.textBaseline=v;for(var x=e.length-1;x>=0;x--)f.fillText(e[x],m,y+x*b);if(f.rotate(d*Math.PI/180),s)n.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var w=document.querySelector(".g6-graph-watermarker");w||((w=document.createElement("div")).className="g6-graph-watermarker"),w.style.cssText="background-image: url(".concat(r.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;"),n.appendChild(w)}},t.prototype.destroy=function(){var t,n,r,i;(0,Dr.each)(this.get("plugins"),(function(e){e.destroyPlugin()}));var o=this.get("tooltips");if(o)for(var a=0;a<o.length;a++){var s=o[a];if(s){var u=s.parentElement;u&&u.removeChild(s)}}null===(t=this.get("eventController"))||void 0===t||t.destroy(),null===(n=this.get("layoutController"))||void 0===n||n.destroy(),null===(r=this.get("graphWaterMarker"))||void 0===r||r.destroy(),null===(i=document.querySelector(".g6-graph-watermarker"))||void 0===i||i.remove(),e.prototype.destroy.call(this)},t}(yd),Lv=Rv,jv=sv.radialLayout,Bv=sv.traverseTree,Fv=function(e){function t(t){var n=e.call(this,t)||this;return n.layoutAnimating=!1,n.set("removeList",[]),n.set("layoutMethod",n.getLayout()),n}return(0,Ir.__extends)(t,e),t.prototype.getLayout=function(){var e=this.get("layout");return e?"function"===typeof e?e:(e.type||(e.type="dendrogram"),e.direction||(e.direction="TB"),e.radial?function(t){var n=Jg()[e.type](t,e);return jv(n),n}:function(t){return Jg()[e.type](t,e)}):null},t.indexOfChild=function(e,t){var n=-1;return(0,Dr.each)(e,(function(e,r){if(t===e.id)return n=r,!1})),n},t.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.animate=!0,t},t.prototype.innerAddChild=function(e,t,n){var r=this,i=e.data;i&&(i.x=e.x,i.y=e.y,i.depth=e.depth);var o=r.addItem("node",i,!1);if(t){if(o.set("parent",t),n){var a=t.get("originAttrs");if(a)o.set("originAttrs",a);else{var s=t.getModel();o.set("originAttrs",{x:s.x,y:s.y})}}var u=t.get("children");u?u.push(o):t.set("children",[o]),r.addItem("edge",{source:t.get("id"),target:o.get("id"),id:"".concat(t.get("id"),":").concat(o.get("id"))},!1)}return(0,Dr.each)(e.children||[],(function(e){r.innerAddChild(e,o,n)})),r.emit("afteraddchild",{item:o,parent:t}),o},t.prototype.innerUpdateChild=function(e,n,r){var i=this,o=i.findById(e.id);if(o){(0,Dr.each)(e.children||[],(function(e){i.innerUpdateChild(e,o,r)}));var a,s,u=o.get("children");if(u)if(u.length>0)for(var l=u.length-1;l>=0;l--){var c=u[l].getModel();-1===t.indexOfChild(e.children||[],c.id)&&(i.innerRemoveChild(c.id,{x:e.x,y:e.y},r),u.splice(l,1))}o.get("originAttrs")&&(a=o.get("originAttrs").x,s=o.get("originAttrs").y);var f=o.getModel();r&&o.set("originAttrs",{x:f.x,y:f.y}),o.set("model",e.data),a===e.x&&s===e.y||o.updatePosition({x:e.x,y:e.y})}else i.innerAddChild(e,n,r)},t.prototype.innerRemoveChild=function(e,t,n){var r=this,i=r.findById(e);if(i)if((0,Dr.each)(i.get("children"),(function(e){r.innerRemoveChild(e.getModel().id,t,n)})),n){var o=i.getModel();i.set("to",t),i.set("originAttrs",{x:o.x,y:o.y}),r.get("removeList").push(i)}else r.removeItem(i,!1)},t.prototype.changeData=function(e){var t=this;this.getNodes().map((function(e){return t.clearItemStates(e)})),this.getEdges().map((function(e){return t.clearItemStates(e)})),e?(t.data(e),t.render()):t.layout(this.get("fitView"))},t.prototype.changeLayout=function(e){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");this.updateLayout(e)},t.prototype.updateLayout=function(e){var t=this;e?(t.set("layout",e),t.set("layoutMethod",t.getLayout()),t.layout()):console.warn("layout cannot be null")},t.prototype.refreshLayout=function(e){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");this.layout(e)},t.prototype.layout=function(e){var t=this,n=t.get("data"),r=t.get("layoutMethod"),i=r?r(n,t.get("layout")):n,o=t.get("animate");(t.emit("beforerefreshlayout",{data:n,layoutData:i}),t.emit("beforelayout"),t.innerUpdateChild(i,void 0,o),e)&&t.get("viewController").fitView();o?t.layoutAnimate(i):(t.refresh(),t.paint()),t.emit("afterrefreshlayout",{data:n,layoutData:i}),t.emit("afterlayout")},t.prototype.addChild=function(e,t){var n=this;n.emit("beforeaddchild",{model:e,parent:t}),(0,Dr.isString)(t)||(t=t.get("id"));var r=n.findDataById(t);r&&(r.children||(r.children=[]),r.children.push(e),n.changeData())},t.prototype.updateChildren=function(e,t){var n=this;t&&n.findById(t)?(n.findDataById(t).children=e,n.changeData()):console.warn("Update children failed! There is no node with id '".concat(t,"'"))},t.prototype.updateChild=function(e,n){var r=this;if(n&&r.findById(n)){var i=r.findDataById(n),o=r.findById(e.id);if(i.children||(i.children=[]),o){var a=t.indexOfChild(i.children,e.id);i.children[a]=e}else i.children.push(e);r.changeData()}else r.changeData(e)},t.prototype.removeChild=function(e){var n=this,r=n.findById(e);if(r){var i=r.get("parent");if(i&&!i.destroyed){var o=n.findDataById(i.get("id")),a=o&&o.children||[],s=r.getModel(),u=t.indexOfChild(a,s.id);a.splice(u,1)}n.changeData()}},t.prototype.findDataById=function(e,t){var n=this;if(t||(t=n.get("data")),e===t.id)return t;var r=null;return(0,Dr.each)(t.children||[],(function(t){return t.id===e?(r=t,!1):!(r=n.findDataById(e,t))&&void 0})),r},t.prototype.layoutAnimate=function(e,t){var n=this,r=this.get("animateCfg");n.emit("beforeanimate",{data:e}),n.getEdges().forEach((function(e){var t=e.get("model");t.sourceAnchor||(t.sourceAnchor=e.get("sourceAnchorIndex"))})),this.get("canvas").animate((function(r){Bv(e,(function(i){var o=n.findById(i.id);if(o){var a=o.get("originAttrs"),s=o.get("model");if(a||(a={x:s.x,y:s.y},o.set("originAttrs",a)),t){var u=t(o,r,a,e);o.set("model",Object.assign(s,u))}else s.x=a.x+(i.x-a.x)*r,s.y=a.y+(i.y-a.y)*r}return!0})),(0,Dr.each)(n.get("removeList"),(function(e){var t=e.getModel(),n=e.get("originAttrs"),i=e.get("to");t.x=n.x+(i.x-n.x)*r,t.y=n.y+(i.y-n.y)*r})),n.refreshPositions()}),{duration:r.duration,easing:r.ease,callback:function(){(0,Dr.each)(n.getNodes(),(function(e){e.set("originAttrs",null)})),(0,Dr.each)(n.get("removeList"),(function(e){n.removeItem(e)})),n.set("removeList",[]),r.callback&&r.callback(),n.emit("afteranimate",{data:e})},delay:r.delay})},t.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},t.prototype.isLayoutAnimating=function(){return this.layoutAnimating},t.prototype.render=function(){var e=this,t=e.get("data");if(!t||!(0,Dr.isObject)(t)||!Object.keys(t).length)throw new Error("data must be defined first");e.clear(),e.emit("beforerender"),e.layout(this.get("fitView")),e.emit("afterrender")},t.prototype.save=function(){return this.get("data")},t}(Lv),zv=Fv;function Yv(e,t){if(e)for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);return e}var Gv=function(){function e(e){this._cfgs=(0,Dr.deepMix)(this.getDefaultCfgs(),e),this._events={},this.destroyed=!1}return e.prototype.getDefaultCfgs=function(){return{}},e.prototype.initPlugin=function(e){var t=this;t.set("graph",e);var n=t.getEvents(),r={};(0,Dr.each)(n,(function(n,i){var o=(0,Dr.wrapBehavior)(t,n);r[i]=o,e.on(i,o)})),this._events=r,this.init()},e.prototype.getEvents=function(){return{}},e.prototype.get=function(e){var t;return null===(t=this._cfgs)||void 0===t?void 0:t[e]},e.prototype.set=function(e,t){this._cfgs[e]=t},e.prototype.destroy=function(){},e.prototype.destroyPlugin=function(){this.destroy();var e=this.get("graph"),t=this._events;(0,Dr.each)(t,(function(t,n){e.off(n,t)})),this._events=null,this._cfgs=null,this.destroyed=!0},e}(),Vv=Gv,Uv=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wv="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",Zv=function(e){function t(t){return e.call(this,t)||this}return Uv(t,e),t.prototype.getDefaultCfgs=function(){return{img:Wv,follow:!0}},t.prototype.init=function(){var e=this.get("graph"),t=e.get("container"),n=e.get("canvas").get("el"),r=this.get("img")||Wv,i=Dv("<div class='g6-grid-container' style=\"position:absolute;overflow:hidden;z-index: -1;\"></div>"),o=Dv("<div\n        class='g6-grid'\n        style='position:absolute;\n        background-image: ".concat(r,";\n        user-select: none\n        '></div>"));this.set("container",i),this.set("gridContainer",o),this.positionInit(),i.appendChild(o),t.insertBefore(i,n)},t.prototype.positionInit=function(){var e=this.get("graph"),t=e.get("minZoom"),n=e.get("width"),r=e.get("height");Yv(this.get("container"),{width:"".concat(n,"px"),height:"".concat(r,"px")});var i=80*n/t,o=80*r/t;Yv(this.get("gridContainer"),{width:"".concat(i,"px"),height:"".concat(o,"px"),left:"-".concat(i/2,"px"),top:"-".concat(o/2,"px")})},t.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},t.prototype.updateGrid=function(e){var t=this.get("gridContainer"),n=e.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var r=this.get("follow");Yv(t,{transform:"matrix(".concat(n[0],", ").concat(n[1],", ").concat(n[3],", ").concat(n[4],", ").concat(r?n[6]:"0",", ").concat(r?n[7]:"0",")")})},t.prototype.getContainer=function(){return this.get("container")},t.prototype.destroy=function(){var e=this.get("graph").get("container"),t=this.get("container");e.removeChild(t)},t}(Vv),Hv=Zv,Xv=n(5929),Kv=n.n(Xv),qv=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!==typeof document&&Kv()("\n  .g6-component-contextmenu {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .g6-contextmenu-ul {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n  }\n\n");var Jv=function(e){function t(t){return e.call(this,t)||this}return qv(t,e),t.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(e){return"\n          <ul class='g6-contextmenu-ul'>\n            <li>\u83dc\u5355\u98791</li>\n            <li>\u83dc\u5355\u98792</li>\n          </ul>\n        "},shouldBegin:function(e){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"],trigger:"contextmenu"}},t.prototype.getEvents=function(){return"click"===this.get("trigger")?{click:"onMenuShow",touchend:"onMenuShow"}:{contextmenu:"onMenuShow"}},t.prototype.init=function(){var e=this.get("className"),t=Dv("<div class=".concat(e||"g6-component-contextmenu","></div>"));Yv(t,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),(0,Dr.isString)(n)&&(n=document.getElementById(n)),n.appendChild(t),this.set("menu",t)},t.prototype.onMenuShow=function(e){var t=this;e.preventDefault();var n=this.get("itemTypes");if(e.item){if(e.item&&e.item.getType&&-1===n.indexOf(e.item.getType()))return void t.onMenuHide()}else if(-1===n.indexOf("canvas"))return void t.onMenuHide();if(this.get("shouldBegin")(e)){var r=this.get("menu"),i=this.get("getContent"),o=this.get("graph"),a=i(e,o);(0,Dr.isString)(a)?r.innerHTML=a:r.innerHTML=a.outerHTML,this.removeMenuEventListener();var s=this.get("handleMenuClick");if(s){var u=function(t){s(t.target,e.item,o)};this.set("handleMenuClickWrapper",u),r.addEventListener("click",u)}var l=o.get("width"),c=o.get("height"),f=r.getBoundingClientRect(),d=this.get("offsetX")||0,h=this.get("offsetY")||0,p=o.getContainer().offsetTop,g=o.getContainer().offsetLeft,v=e.canvasX+g+d,m=e.canvasY+p+h;v+f.width>l&&(v=e.canvasX-f.width-d+g),m+f.height>c&&(m=e.canvasY-f.height-h+p),Yv(r,{top:"".concat(m,"px"),left:"".concat(v,"px"),visibility:"visible"});var y="click"===this.get("trigger"),b=function(e){y?y=!1:t.onMenuHide()};document.body.addEventListener("click",b),this.set("handler",b)}},t.prototype.removeMenuEventListener=function(){var e=this.get("handleMenuClickWrapper"),t=this.get("handler");e&&(this.get("menu").removeEventListener("click",e),this.set("handleMenuClickWrapper",null));t&&document.body.removeEventListener("click",t)},t.prototype.onMenuHide=function(){var e=this.get("menu");e&&Yv(e,{visibility:"hidden"}),this.removeMenuEventListener()},t.prototype.destroy=function(){var e=this.get("menu");if(this.removeMenuEventListener(),e){var t=this.get("container");t||(t=this.get("graph").get("container")),(0,Dr.isString)(t)&&(t=document.getElementById(t)),t.removeChild(e)}},t}(Vv),$v=Jv,Qv=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),em=function(){return em=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},em.apply(this,arguments)},tm=Math.max,nm=Wr,rm=function(e){function t(t){var n=e.call(this,t)||this;return n.handleUpdateCanvas=(0,Dr.debounce)((function(e){var t=n;t.destroyed||t.updateCanvas()}),100,!1),n}return Qv(t,e),t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},t.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},t.prototype.disableRefresh=function(){this.set("refresh",!1)},t.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},t.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},t.prototype.initViewport=function(){var e=this,t=this._cfgs,n=t.size,r=t.graph;if(!this.destroyed){var i=this.get("canvas").get("container"),o=Dv("\n      <div\n        class=".concat(t.viewportClassName,"\n        style='position:absolute;\n          left:0;\n          top:0;\n          box-sizing:border-box;\n          outline: 2px solid #1980ff'\n        draggable=true>\n      </div>")),a=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,s=0,u=0,l=!1,c=0,f=0,d=0,h=0,p=0,g=0;o.addEventListener("dragstart",(function(i){var a,v;if(i.dataTransfer){var m=new Image;m.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",null===(v=(a=i.dataTransfer).setDragImage)||void 0===v||v.call(a,m,0,0);try{i.dataTransfer.setData("text/html","view-port-minimap")}catch(b){i.dataTransfer.setData("text","view-port-minimap")}}if(t.refresh=!1,i.target===o){var y=o.style;c=parseInt(y.left,10),f=parseInt(y.top,10),d=parseInt(y.width,10),h=parseInt(y.height,10),d>n[0]||h>n[1]||(g=r.getZoom(),p=e.get("ratio"),l=!0,s=i.clientX,u=i.clientY)}}),!1),o.addEventListener(a?"dragover":"drag",(function(e){if(l&&!(0,Dr.isNil)(e.clientX)&&!(0,Dr.isNil)(e.clientY)){var t=s-e.clientX,i=u-e.clientY;(c-t<0||c-t+d>=n[0])&&(t=0),(f-i<0||f-i+h>=n[1])&&(i=0),f-=i,Yv(o,{left:"".concat(c-=t,"px"),top:"".concat(f,"px")}),r.translate(t*g/p,i*g/p),s=e.clientX,u=e.clientY}}),!1),o.addEventListener("dragend",(function(){l=!1,t.refresh=!0}),!1),this.set("viewport",o),i.appendChild(o)}},t.prototype.updateViewport=function(){if(!this.destroyed){var e=this.get("ratio"),t=(this.get("dx"),this.get("dy"),this.get("totaldx")),n=this.get("totaldy"),r=this.get("graph"),i=this.get("size"),o=r.get("width"),a=r.get("height"),s=r.getPointByCanvas(0,0),u=r.getPointByCanvas(o,a),l=this.get("viewport");l||this.initViewport();var c=(u.x-s.x)*e,f=(u.y-s.y)*e,d=s.x*e+t,h=s.y*e+n,p=d+c,g=h+f;d<0&&(c+=d,d=0),p>i[0]&&(c-=p-i[0]),h<0&&(f+=h,h=0),g>i[1]&&(f-=g-i[1]),this.set("ratio",e),Yv(l,{left:"".concat(d,"px"),top:"".concat(h,"px"),width:"".concat(c,"px"),height:"".concat(f,"px")})}},t.prototype.updateGraphShapes=function(){var e=this._cfgs.graph,t=this.get("canvas"),n=e.get("group");if(!n.destroyed){var r=n.clone();r.resetMatrix(),t.clear(),t.add(r),"svg"===e.get("renderer")&&this.updateVisible(r)}},t.prototype.updateVisible=function(e){var t=this;if(e.isGroup()||e.get("visible")){var n=e.get("children");if(!n||!n.length)return;n.forEach((function(e){e.get("visible")||e.hide(),t.updateVisible(e)}))}else e.hide()},t.prototype.updateKeyShapes=function(){var e=this,t=this._cfgs.graph,n=this.get("canvas"),r=n.get("children")[0]||n.addGroup();(0,Dr.each)(t.getEdges(),(function(t){e.updateOneEdgeKeyShape(t,r)})),(0,Dr.each)(t.getNodes(),(function(t){e.updateOneNodeKeyShape(t,r)}));var i=t.getCombos();if(i&&i.length){var o=r.find((function(e){return"comboGroup"===e.get("name")}))||r.addGroup({name:"comboGroup"});setTimeout((function(){e.destroyed||((0,Dr.each)(i,(function(t){e.updateOneComboKeyShape(t,o)})),null===o||void 0===o||o.sort(),null===o||void 0===o||o.toBack(),e.updateCanvas())}),250)}this.clearDestroyedShapes()},t.prototype.updateOneComboKeyShape=function(e,t){if(!this.destroyed){var n=this.get("itemMap")||{},r=n[e.get("id")],i=e.getBBox(),o=e.get("keyShape").clone(),a=o.attr(),s={x:i.centerX,y:i.centerY};r?s=Object.assign(a,s):(r=o,t.add(r));var u=r.get("type");"rect"!==u&&"image"!==u||(s.x=i.minX,s.y=i.minY),r.attr(s),e.isVisible()?r.show():r.hide(),r.exist=!0;var l=e.getModel().depth;isNaN(l)||r.set("zIndex",l),n[e.get("id")]=r,this.set("itemMap",n)}},t.prototype.updateOneNodeKeyShape=function(e,t){var n=this.get("itemMap")||{},r=n[e.get("id")],i=e.getBBox(),o=e.get("keyShape").clone(),a=o.attr(),s={x:i.centerX,y:i.centerY};r?s=Object.assign(a,s):(r=o,t.add(r));var u=r.get("type");"rect"!==u&&"image"!==u||(s.x=i.minX,s.y=i.minY),r.attr(s),e.isVisible()?r.show():r.hide(),r.exist=!0;var l=e.getModel().depth;isNaN(l)||r.set("zIndex",l),n[e.get("id")]=r,this.set("itemMap",n)},t.prototype.updateDelegateShapes=function(){var e=this,t=this._cfgs.graph,n=this.get("canvas"),r=n.get("children")[0]||n.addGroup();(0,Dr.each)(t.getEdges(),(function(t){e.updateOneEdgeKeyShape(t,r)})),(0,Dr.each)(t.getNodes(),(function(t){e.updateOneNodeDelegateShape(t,r)}));var i=t.getCombos();if(i&&i.length){var o=r.find((function(e){return"comboGroup"===e.get("name")}))||r.addGroup({name:"comboGroup"});setTimeout((function(){e.destroyed||((0,Dr.each)(i,(function(t){e.updateOneComboKeyShape(t,o)})),null===o||void 0===o||o.sort(),null===o||void 0===o||o.toBack(),e.updateCanvas())}),250)}this.clearDestroyedShapes()},t.prototype.clearDestroyedShapes=function(){var e=this.get("itemMap")||{},t=Object.keys(e);if(t&&0!==t.length)for(var n=t.length-1;n>=0;n--){var r=e[t[n]],i=r.exist;r.exist=!1,i||(r.remove(),delete e[t[n]])}},t.prototype.updateOneEdgeKeyShape=function(e,t){var n=this.get("itemMap")||{},r=n[e.get("id")];if(r){var i=e.get("keyShape").attr("path");r.attr("path",i)}else r=e.get("keyShape").clone(),t.add(r);e.isVisible()?r.show():r.hide(),r.exist=!0,n[e.get("id")]=r,this.set("itemMap",n)},t.prototype.updateOneNodeDelegateShape=function(e,t){var n=this.get("delegateStyle"),r=this.get("itemMap")||{},i=r[e.get("id")],o=e.getBBox();if(i){var a={x:o.minX,y:o.minY,width:o.width,height:o.height};i.attr(a)}else i=t.addShape("rect",{attrs:em({x:o.minX,y:o.minY,width:o.width,height:o.height},n),name:"minimap-node-shape"});e.isVisible()?i.show():i.hide(),i.exist=!0,r[e.get("id")]=i,this.set("itemMap",r)},t.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},t.prototype.initContainer=function(){var e=this,t=e.get("graph"),n=e.get("size"),r=e.get("className"),i=e.get("container"),o=Dv("<div class='".concat(r,"' style='width: ").concat(n[0],"px; height: ").concat(n[1],"px; overflow: hidden'></div>"));(0,Dr.isString)(i)&&(i=document.getElementById(i)),i?i.appendChild(o):t.get("container").appendChild(o),e.set("container",o);var a,s=Dv('<div class="g6-minimap-container" style="position: relative;"></div>');o.appendChild(s),s.addEventListener("dragenter",(function(e){e.preventDefault()})),s.addEventListener("dragover",(function(e){e.preventDefault()})),a="svg"===t.get("renderer")?new Tg({container:s,width:n[0],height:n[1]}):new bp({container:s,width:n[0],height:n[1]}),e.set("canvas",a),e.updateCanvas()},t.prototype.updateCanvas=function(){if(!this.destroyed&&this.get("refresh")){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var t=this.get("size"),n=this.get("canvas"),r=this.get("type"),i=this.get("padding");if(!n.destroyed){switch(r){case"default":this.updateGraphShapes();break;case"keyShape":this.updateKeyShapes();break;case"delegate":this.updateDelegateShapes()}var o=n.get("children")[0];if(o){o.resetMatrix();var a=o.getCanvasBBox(),s=e.get("canvas").getCanvasBBox(),u=e.getZoom()||1,l=s.width/u,c=s.height/u;Number.isFinite(a.width)&&(l=tm(a.width,l),c=tm(a.height,c)),l+=2*i,c+=2*i;var f=Math.min(t[0]/l,t[1]/c),d=[1,0,0,0,1,0,0,0,1],h=0,p=0;Number.isFinite(a.minX)&&(h=-a.minX),Number.isFinite(a.minY)&&(p=-a.minY);var g=(t[0]-(l-2*i)*f)/2,v=(t[1]-(c-2*i)*f)/2;d=nm(d,[["t",h,p],["s",f,f],["t",g,v]]),o.setMatrix(d),this.set("ratio",f),this.set("totaldx",g+h*f),this.set("totaldy",v+p*f),this.set("dx",g),this.set("dy",v),this.updateViewport()}}}}},t.prototype.getCanvas=function(){return this.get("canvas")},t.prototype.getViewport=function(){return this.get("viewport")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.destroy=function(){var e;null===(e=this.get("canvas"))||void 0===e||e.destroy();var t=this.get("container");(null===t||void 0===t?void 0:t.parentNode)&&t.parentNode.removeChild(t)},t}(Vv),im=rm,om=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function am(e,t,n){var r=e.x-t.x,i=e.y-t.y;return!n||Math.abs(r)>n||Math.abs(i)>n?Math.sqrt(r*r+i*i):n}function sm(e,t){var n=(t.source.y-t.target.y)/(t.source.x-t.target.x),r=(n*n*t.source.x+n*(e.y-t.source.y)+e.x)/(n*n+1);return{x:r,y:n*(r-t.source.x)+t.source.y}}var um=function(e){function t(t){return e.call(this,t)||this}return om(t,e),t.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},t.prototype.init=function(){var e=this.get("graph"),t=this.get("onTick");this.set("tick",(function(){t&&t(),e.refreshPositions()}))},t.prototype.bundling=function(e){var t=this;if(t.set("data",e),!t.isTicking()){var n=e.edges||[],r=e.nodes||[],i={},o=!1;if(r.forEach((function(e){null!==e.x&&null!==!e.y&&void 0!==e.x&&void 0!==!e.y||(o=!0),i[e.id]=e})),o)throw new Error("please layout the graph or assign x and y for nodes first");t.set("nodeIdMap",i);var a=t.get("divisions"),s=t.get("divRate"),u=t.divideEdges(a);t.set("edgePoints",u);var l=t.getEdgeBundles();t.set("edgeBundles",l);for(var c=t.get("cycles"),f=t.get("iterations"),d=t.get("iterRate"),h=t.get("lambda"),p=0;p<c;p++){for(var g=function(e){var r=[];n.forEach((function(e,n){if(e.source!==e.target){var o=i[e.source],s=i[e.target];r[n]=t.getEdgeForces({source:o,target:s},n,a,h);for(var l=0;l<a+1;l++)u[n][l].x+=r[n][l].x,u[n][l].y+=r[n][l].y}}))},v=0;v<f;v++)g();h/=2,a*=s,f*=d,u=t.divideEdges(a),t.set("edgePoints",u)}n.forEach((function(e,t){e.source!==e.target&&(e.type="polyline",e.controlPoints=u[t].slice(1,u[t].length-1))})),t.get("graph").refresh()}},t.prototype.updateBundling=function(e){var t=this,n=e.data;if(n&&t.set("data",n),t.get("ticking")&&t.set("ticking",!1),Object.keys(e).forEach((function(n){t.set(n,e[n])})),e.onTick){var r=this.get("graph");t.set("tick",(function(){e.onTick(),r.refresh()}))}t.bundling(n)},t.prototype.divideEdges=function(e){var t=this,n=t.get("data").edges,r=t.get("nodeIdMap"),i=t.get("edgePoints");return i&&void 0!==i||(i=[]),n.forEach((function(n,o){i[o]&&void 0!==i[o]||(i[o]=[]);var a=r[n.source],s=r[n.target];if(1===e)i[o].push({x:a.x,y:a.y}),i[o].push({x:.5*(a.x+s.x),y:.5*(a.y+s.y)}),i[o].push({x:s.x,y:s.y});else{var u=(i[o]&&i[o]!==[]?t.getEdgeLength(i[o]):am({x:a.x,y:a.y},{x:s.x,y:s.y}))/(e+1),l=u,c=[{x:a.x,y:a.y}];i[o].forEach((function(e,t){if(0!==t){for(var n=am(e,i[o][t-1]);n>l;){var r=l/n,a={x:i[o][t-1].x,y:i[o][t-1].y};a.x+=r*(e.x-i[o][t-1].x),a.y+=r*(e.y-i[o][t-1].y),c.push(a),n-=l,l=u}l-=n}})),c.push({x:s.x,y:s.y}),i[o]=c}})),i},t.prototype.getEdgeLength=function(e){var t=0;return e.forEach((function(n,r){0!==r&&(t+=am(n,e[r-1]))})),t},t.prototype.getEdgeBundles=function(){var e=this,t=e.get("data").edges||[],n=e.get("bundleThreshold"),r=e.get("nodeIdMap"),i=e.get("edgeBundles");return i||(i=[]),t.forEach((function(e,t){i[t]&&void 0!==i[t]||(i[t]=[])})),t.forEach((function(o,a){var s=r[o.source],u=r[o.target];t.forEach((function(t,o){if(!(o<=a)){var l=r[t.source],c=r[t.target];e.getBundleScore({source:s,target:u},{source:l,target:c})>=n&&(i[a].push(o),i[o].push(a))}}))})),i},t.prototype.getBundleScore=function(e,t){var n=this;return e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.length=am({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y}),t.length=am({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),n.getAngleScore(e,t)*n.getScaleScore(e,t)*n.getPositionScore(e,t)*n.getVisibilityScore(e,t)},t.prototype.getAngleScore=function(e,t){var n=function(e,t){return e.x*t.x+e.y*t.y}({x:e.vx,y:e.vy},{x:t.vx,y:t.vy});return n/(e.length*t.length)},t.prototype.getScaleScore=function(e,t){var n=(e.length+t.length)/2;return 2/(n/Math.min(e.length,t.length)+Math.max(e.length,t.length)/n)},t.prototype.getPositionScore=function(e,t){var n=(e.length+t.length)/2;return n/(n+am({x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},{x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2}))},t.prototype.getVisibilityScore=function(e,t){var n=this.getEdgeVisibility(e,t),r=this.getEdgeVisibility(t,e);return n<r?n:r},t.prototype.getEdgeVisibility=function(e,t){var n=sm(t.source,e),r=sm(t.target,e),i={x:(n.x+r.x)/2,y:(n.y+r.y)/2},o={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2};return Math.max(0,1-2*am(i,o)/am(n,r))},t.prototype.getEdgeForces=function(e,t,n,r){for(var i=this,o=i.get("edgePoints"),a=i.get("K")/(am(e.source,e.target)*(n+1)),s=[{x:0,y:0}],u=1;u<n;u++){var l={x:0,y:0},c=i.getSpringForce({pre:o[t][u-1],cur:o[t][u],next:o[t][u+1]},a),f=i.getElectrostaticForce(u,t);l.x=r*(c.x+f.x),l.y=r*(c.y+f.y),s.push(l)}return s.push({x:0,y:0}),s},t.prototype.getSpringForce=function(e,t){var n=e.pre.x+e.next.x-2*e.cur.x,r=e.pre.y+e.next.y-2*e.cur.y;return{x:n*=t,y:r*=t}},t.prototype.getElectrostaticForce=function(e,t){var n=this,r=n.get("eps"),i=n.get("edgeBundles"),o=n.get("edgePoints"),a=i[t],s={x:0,y:0};return a.forEach((function(n){var i={x:o[n][e].x-o[t][e].x,y:o[n][e].y-o[t][e].y};if(Math.abs(i.x)>r||Math.abs(i.y)>r){var a=1/am(o[n][e],o[t][e]);s.x+=i.x*a,s.y+=i.y*a}})),s},t.prototype.isTicking=function(){return this.get("ticking")},t.prototype.getSimulation=function(){return this.get("forceSimulation")},t.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),e.prototype.destroy.call(this)},t}(Vv),lm=um,cm=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fm=function(){return fm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fm.apply(this,arguments)},dm={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},hm=function(e){function t(t){return e.call(this,t)||this}return cm(t,e),t.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,Dr.clone)(dm),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},t.prototype.getEvents=function(){var e;switch(this.get("trigger")){case"click":e={click:"magnify"};break;case"drag":e={click:"createDelegate"};break;default:e={mousemove:"magnify"}}return e},t.prototype.init=function(){var e=this,t=e.get("r");e.set("cachedMagnifiedModels",[]),e.set("cachedOriginPositions",{}),e.set("r2",t*t);var n=e.get("d");e.set("molecularParam",(n+1)*t)},t.prototype.createDelegate=function(e){var t=this,n=this,r=n.get("delegate");r&&!r.destroyed||(n.magnify(e),(r=n.get("delegate")).on("dragstart",(function(e){n.set("delegateCenterDiff",{x:r.attr("x")-e.x,y:r.attr("y")-e.y})})),r.on("drag",(function(e){n.magnify(e)})),"wheel"===this.get("scaleDBy")&&r.on("mousewheel",(function(e){t.scaleDByWheel(e)})),"wheel"===this.get("scaleRBy")&&r.on("mousewheel",(function(e){n.scaleRByWheel(e)})))},t.prototype.scaleRByWheel=function(e){var t=this;if(e&&e.originalEvent){e.preventDefault&&e.preventDefault();var n,r=t.get("graph"),i=t.get("delegate"),o=(i?{x:i.attr("x"),y:i.attr("y")}:void 0)||r.getPointByClient(e.clientX,e.clientY);n=e.originalEvent.wheelDelta<0?.95:1/.95;var a=t.get("maxR"),s=t.get("minR"),u=t.get("r");(u>(a||r.get("height"))&&n>1||u<(s||.05*r.get("height"))&&n<1)&&(n=1),u*=n,t.set("r",u),t.set("r2",u*u);var l=t.get("d");t.set("molecularParam",(l+1)*u),t.set("delegateCenterDiff",void 0),t.magnify(e,o)}},t.prototype.scaleRByDrag=function(e){var t=this;if(e){var n,r=t.get("dragPrePos"),i=t.get("graph"),o=i.getPointByClient(e.clientX,e.clientY);n=e.x-r.x<0?.95:1/.95;var a=t.get("maxR"),s=t.get("minR"),u=t.get("r");(u>(a||i.get("height"))&&n>1||u<(s||.05*i.get("height"))&&n<1)&&(n=1),u*=n,t.set("r",u),t.set("r2",u*u);var l=t.get("d");t.set("molecularParam",(l+1)*u),t.magnify(e,o),t.set("dragPrePos",{x:e.x,y:e.y})}},t.prototype.scaleDByWheel=function(e){var t=this;if(e||e.originalEvent){e.preventDefault&&e.preventDefault();var n=0;n=e.originalEvent.wheelDelta<0?-.1:.1;var r=t.get("d")+n,i=t.get("maxD"),o=t.get("minD");if(r<i&&r>o){t.set("d",r);var a=t.get("r");t.set("molecularParam",(r+1)*a);var s=t.get("delegate"),u=s?{x:s.attr("x"),y:s.attr("y")}:void 0;t.set("delegateCenterDiff",void 0),t.magnify(e,u)}}},t.prototype.scaleDByDrag=function(e){var t=this,n=t.get("dragPrePos"),r=e.x-n.x>0?.1:-.1,i=t.get("d")+r,o=t.get("maxD"),a=t.get("minD");if(i<o&&i>a){t.set("d",i);var s=t.get("r");t.set("molecularParam",(i+1)*s),t.magnify(e)}t.set("dragPrePos",{x:e.x,y:e.y})},t.prototype.magnify=function(e,t){var n=this;n.restoreCache();var r=n.get("graph"),i=n.get("cachedMagnifiedModels"),o=n.get("cachedOriginPositions"),a=n.get("showLabel"),s=n.get("r"),u=n.get("r2"),l=n.get("d"),c=n.get("molecularParam"),f=r.getNodes(),d=f.length,h=t?{x:t.x,y:t.y}:{x:e.x,y:e.y};!n.get("dragging")||"mousemove"!==n.get("trigger")&&"click"!==n.get("trigger")||(h=n.get("cacheCenter"));var p=n.get("delegateCenterDiff");p&&(h.x+=p.x,h.y+=p.y),n.updateDelegate(h,s);for(var g=0;g<d;g++){var v=f[g].getModel(),m=v.x,y=v.y;if(!isNaN(m)&&!isNaN(y)){var b=(m-h.x)*(m-h.x)+(y-h.y)*(y-h.y);if(!isNaN(b)&&b<u&&0!==b){var x=Math.sqrt(b),w=c*x/(l*x+s),E=(m-h.x)/x,S=(y-h.y)/x;if(v.x=E*w+h.x,v.y=S*w+h.y,o[v.id]||(o[v.id]={x:m,y:y,texts:[]}),i.push(v),a&&2*x<s)for(var _=f[g].getContainer().getChildren(),T=_.length,k=0;k<T;k++){var C=_[k];"text"===C.get("type")&&(o[v.id].texts.push({visible:C.get("visible"),shape:C}),C.set("visible",!0))}}}}r.refreshPositions()},t.prototype.restoreCache=function(){for(var e=this,t=e.get("cachedMagnifiedModels"),n=e.get("cachedOriginPositions"),r=t.length,i=0;i<r;i++){var o=t[i],a=n[o.id];o.x=a.x,o.y=a.y;for(var s=a.texts.length,u=0;u<s;u++){var l=a.texts[u];l.shape.set("visible",l.visible)}}e.set("cachedMagnifiedModels",[]),e.set("cachedOriginPositions",{})},t.prototype.updateParams=function(e){var t=this,n=e.r,r=e.d,i=e.trigger,o=e.minD,a=e.maxD,s=e.minR,u=e.maxR,l=e.scaleDBy,c=e.scaleRBy;isNaN(e.r)||(t.set("r",n),t.set("r2",n*n)),isNaN(r)||t.set("d",r),isNaN(a)||t.set("maxD",a),isNaN(o)||t.set("minD",o),isNaN(u)||t.set("maxR",u),isNaN(s)||t.set("minR",s);var f,d=t.get("d"),h=t.get("r");(t.set("molecularParam",(d+1)*h),"mousemove"!==i&&"click"!==i&&"drag"!==i||t.set("trigger",i),"drag"===l||"wheel"===l||"unset"===l)&&(t.set("scaleDBy",l),t.get("delegate").remove(),t.get("delegate").destroy(),(f=t.get("dPercentText"))&&(f.remove(),f.destroy()));"drag"!==c&&"wheel"!==c&&"unset"!==c||(t.set("scaleRBy",c),t.get("delegate").remove(),t.get("delegate").destroy(),(f=t.get("dPercentText"))&&(f.remove(),f.destroy()))},t.prototype.updateDelegate=function(e,t){var n=this,r=this,i=r.get("graph"),o=r.get("delegate");if(!o||o.destroyed){var a=i.get("group"),s=r.get("delegateStyle")||dm;o=a.addShape("circle",{attrs:fm({r:t/1.5,x:e.x,y:e.y},s),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&("wheel"===this.get("scaleRBy")?o.on("mousewheel",(function(e){r.scaleRByWheel(e)})):"drag"===this.get("scaleRBy")&&(o.on("dragstart",(function(e){r.set("dragging",!0),r.set("cacheCenter",{x:e.x,y:e.y}),r.set("dragPrePos",{x:e.x,y:e.y})})),o.on("drag",(function(e){r.scaleRByDrag(e)})),o.on("dragend",(function(e){r.set("dragging",!1)}))),"wheel"===this.get("scaleDBy")?o.on("mousewheel",(function(e){n.scaleDByWheel(e)})):"drag"===this.get("scaleDBy")&&(o.on("dragstart",(function(e){r.set("dragging",!0),r.set("cacheCenter",{x:e.x,y:e.y}),r.set("dragPrePos",{x:e.x,y:e.y})})),o.on("drag",(function(e){n.scaleDByDrag(e)})),o.on("dragend",(function(e){r.set("dragging",!1)}))))}else o.attr({x:e.x,y:e.y,r:t/1.5});if(r.get("showDPercent")){var u=Math.round((r.get("d")-r.get("minD"))/(r.get("maxD")-r.get("minD"))*100),l=r.get("dPercentText"),c=e.y+t/1.5+16;if(!l||l.destroyed)l=i.get("group").addShape("text",{attrs:{text:"".concat(u,"%"),x:e.x,y:c,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),r.set("dPercentText",l);else l.attr({text:"".concat(u,"%"),x:e.x,y:c})}r.set("delegate",o)},t.prototype.clear=function(){var e=this.get("graph");this.restoreCache(),e.refreshPositions();var t=this.get("delegate");t&&!t.destroyed&&(t.remove(),t.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},t.prototype.destroy=function(){this.clear()},t}(Vv),pm=hm,gm=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!==typeof document&&Kv()("\n  .g6-component-toolbar {\n    position: absolute;\n    list-style-type: none;\n    padding: 6px;\n    left: 0px;\n    top: 0px;\n    background-color: rgba(255, 255, 255, 0.9);\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    margin: 0;\n  }\n  .g6-component-toolbar li {\n    float: left;\n    text-align: center;\n    width: 35px;\n    height: 24px;\n    cursor: pointer;\n\t\tlist-style-type:none;\n    list-style: none;\n    margin-left: 0px;\n  }\n  .g6-component-toolbar li .icon {\n    opacity: 0.7;\n  }\n  .g6-component-toolbar li .icon:hover {\n    opacity: 1;\n  }\n");var vm=function(e){function t(t){return e.call(this,t)||this}return gm(t,e),t.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(e){return'\n          <ul class=\'g6-component-toolbar\'>\n            <li code=\'redo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>\n              </svg>\n            </li>\n            <li code=\'undo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>\n              </svg>\n            </li>\n            <li  code=\'zoomOut\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>\n              </svg>\n            </li>\n            <li code=\'zoomIn\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>\n              </svg>\n            </li>\n            <li code=\'realZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>\n              </svg>\n            </li>\n            <li code=\'autoZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>\n              </svg>\n            </li>\n          </ul>\n        '},zoomSensitivity:2}},t.prototype.init=function(){var e=this,t=this.get("graph"),n=this.get("getContent")(t),r=n;(0,Dr.isString)(n)&&(r=Dv(n));var i=this.get("className");r.setAttribute("class",i||"g6-component-toolbar");var o=this.get("container");o||(o=this.get("graph").get("container")),(0,Dr.isString)(o)&&(o=document.getElementById(o)),o.appendChild(r),this.set("toolBar",r);var a=this.get("handleClick");r.addEventListener("click",(function(n){var r=function(e){if(!e)return[];if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;){if(t.push(n),"HTML"===n.tagName)return t.push(document,window),t;n=n.parentElement}return t}(n).filter((function(e){return"LI"===e.nodeName}));if(0!==r.length){var i=r[0].getAttribute("code");i&&(a?a(i,t):e.handleDefaultOperator(i,t))}}));var s=this.get("position");s&&Yv(r,{top:"".concat(s.y,"px"),left:"".concat(s.x,"px")}),this.bindUndoRedo()},t.prototype.bindUndoRedo=function(){var e=this.get("graph"),t=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),r=document.querySelector('.g6-component-toolbar li[code="redo"]'),i=document.querySelector('.g6-component-toolbar li[code="redo"] svg');t&&n&&r&&i&&e.on("stackchange",(function(e){var o=e.undoStack,a=e.redoStack,s=o.length,u=a.length;1===s?(t.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(t.removeAttribute("style"),n.removeAttribute("style")),0===u?(r.setAttribute("style","cursor: not-allowed"),i.setAttribute("style","opacity: 0.4")):(r.removeAttribute("style"),i.removeAttribute("style"))}))},t.prototype.undo=function(){var e=this.get("graph"),t=e.getUndoStack();if(t&&1!==t.length){var n=t.pop();if(n){var r=n.action;e.pushStack(r,(0,Dr.clone)(n.data),"redo");var i=n.data.before;if("add"===r&&(i=n.data.after),!i)return;switch(r){case"visible":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){var n=e.findById(t.id);t.visible?e.showItem(n,!1):e.hideItem(n,!1)}))}));break;case"render":case"update":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){e.updateItem(t.id,t,!1)}))}));break;case"changedata":e.changeData(i,!1);break;case"delete":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){var n=t.itemType;delete t.itemType,e.addItem(n,t,!1)}))}));break;case"add":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){e.removeItem(t.id,!1)}))}));break;case"updateComboTree":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){e.updateComboTree(t.id,t.parentId,!1)}))}))}}}},t.prototype.redo=function(){var e=this.get("graph"),t=e.getRedoStack();if(t&&0!==t.length){var n=t.pop();if(n){var r=n.action,i=n.data.after;if(e.pushStack(r,(0,Dr.clone)(n.data)),"delete"===r&&(i=n.data.before),!i)return;switch(r){case"visible":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){var n=e.findById(t.id);t.visible?e.showItem(n,!1):e.hideItem(n,!1)}))}));break;case"render":case"update":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){e.updateItem(t.id,t,!1)}))}));break;case"changedata":e.changeData(i,!1);break;case"delete":i.edges&&i.edges.forEach((function(t){e.removeItem(t.id,!1)})),i.nodes&&i.nodes.forEach((function(t){e.removeItem(t.id,!1)})),i.combos&&i.combos.forEach((function(t){e.removeItem(t.id,!1)}));break;case"add":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){var n=t.itemType;delete t.itemType,e.addItem(n,t,!1)}))}));break;case"updateComboTree":Object.keys(i).forEach((function(t){var n=i[t];n&&n.forEach((function(t){e.updateComboTree(t.id,t.parentId,!1)}))}))}}}},t.prototype.handleDefaultOperator=function(e,t){var n=t.getZoom();switch(e){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":var r=1/(1-.05*this.get("zoomSensitivity"));if(r*n>(this.get("maxZoom")||t.get("maxZoom")))return;t.zoomTo(n*r);break;case"zoomIn":var i=1-.05*this.get("zoomSensitivity");if(i*n<(this.get("minZoom")||t.get("minZoom")))return;t.zoomTo(n*i);break;case"realZoom":t.zoomTo(1);break;case"autoZoom":t.fitView([20,20])}},t.prototype.destroy=function(){var e=this.get("toolBar");if(e){var t=this.get("container");t||(t=this.get("graph").get("container")),(0,Dr.isString)(t)&&(t=document.getElementById(t)),t.removeChild(e)}var n=this.get("handleClick");n&&e.removeEventListener("click",n)},t}(Vv),mm=vm,ym=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();"undefined"!==typeof document&&Kv()("\n  .g6-component-tooltip {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .tooltip-type {\n    padding: 0;\n    margin: 0;\n  }\n  .tooltip-id {\n    color: #531dab;\n  }\n");var bm=function(e){function t(t){return e.call(this,t)||this}return ym(t,e),t.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(e){return"\n          <h4 class='tooltip-type'>\u7c7b\u578b\uff1a".concat(e.item.getType(),"</h4>\n          <span class='tooltip-id'>ID\uff1a").concat(e.item.getID(),"</span>\n        ")},shouldBegin:function(e){return!0},itemTypes:["node","edge","combo"],trigger:"mouseenter",fixToNode:void 0}},t.prototype.getEvents=function(){return"click"===this.get("trigger")?{"node:click":"onClick","edge:click":"onClick","combo:click":"onClick","canvas:click":"onMouseLeave",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave",drag:"onMouseLeave"}:{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},t.prototype.init=function(){var e=this,t=e.get("className")||"g6-component-tooltip",n=Dv("<div class=".concat(t,"></div>")),r=e.get("container");r||(r=e.get("graph").get("container")),(0,Dr.isString)(r)&&(r=document.getElementById(r)),Yv(n,{position:"absolute",visibility:"hidden",display:"none"}),r.appendChild(n),"click"!==e.get("trigger")&&(n.addEventListener("mouseenter",(function(e){Yv(n,{visibility:"visible",display:"unset"})})),n.addEventListener("mouseleave",(function(t){e.hideTooltip()}))),e.set("tooltip",n)},t.prototype.onClick=function(e){var t=this.get("itemTypes");if(!e.item||!e.item.getType||-1!==t.indexOf(e.item.getType())){var n=e.item,r=this.get("graph");this.currentTarget===n?(this.currentTarget=null,this.hideTooltip(),r.emit("tooltipchange",{item:e.item,action:"hide"})):(this.currentTarget=n,this.showTooltip(e),r.emit("tooltipchange",{item:e.item,action:"show"}))}},t.prototype.onMouseEnter=function(e){var t=this.get("itemTypes");if(!e.item||!e.item.getType||-1!==t.indexOf(e.item.getType())){var n=e.item,r=this.get("graph");this.currentTarget=n,this.showTooltip(e),r.emit("tooltipchange",{item:e.item,action:"show"})}},t.prototype.onMouseMove=function(e){var t=this.get("itemTypes");e.item&&e.item.getType&&-1===t.indexOf(e.item.getType())||this.currentTarget&&e.item===this.currentTarget&&this.showTooltip(e)},t.prototype.onMouseLeave=function(){this.hideTooltip(),this.get("graph").emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},t.prototype.clearContainer=function(){var e=this.get("tooltip");e&&(e.innerHTML="")},t.prototype.showTooltip=function(e){if(e.item){var t=this.get("itemTypes");if(!e.item.getType||-1!==t.indexOf(e.item.getType())){var n=this.get("tooltip"),r=this.get("getContent")(e);(0,Dr.isString)(r)?n.innerHTML=r:(this.clearContainer(),n.appendChild(r)),this.updatePosition(e)}}},t.prototype.hideTooltip=function(){var e=this.get("tooltip");e&&Yv(e,{visibility:"hidden",display:"none"})},t.prototype.updatePosition=function(e){var t=this.get("shouldBegin"),n=this.get("tooltip");if(t(e)){var r=this.get("graph"),i=r.get("width"),o=r.get("height"),a=this.get("offsetX")||0,s=this.get("offsetY")||0,u=r.getPointByClient(e.clientX,e.clientY),l=this.get("fixToNode"),c=e.item;if(c.getType&&"node"===c.getType()&&l&&(0,Dr.isArray)(l)&&l.length>=2){var f=c.getBBox();u={x:f.minX+f.width*l[0],y:f.minY+f.height*l[1]}}var d=r.getCanvasByPoint(u.x,u.y),h=d.x,p=d.y,g=r.getContainer(),v={x:h+g.offsetLeft+a,y:p+g.offsetTop+s};Yv(n,{visibility:"visible",display:"unset"});var m=n.getBoundingClientRect();h+m.width+a>i&&(v.x-=m.width+a),p+m.height+s>o&&(v.y-=m.height+s),Yv(n,{left:"".concat(v.x,"px"),top:"".concat(v.y,"px")})}else Yv(n,{visibility:"hidden",display:"none"})},t.prototype.hide=function(){this.onMouseLeave()},t.prototype.destroy=function(){var e=this.get("tooltip");if(e){var t=this.get("container");t||(t=this.get("graph").get("container")),(0,Dr.isString)(t)&&(t=document.getElementById(t)),t.removeChild(e)}},t}(Vv),xm=bm,wm={};function Em(e,t){wm[e]=t}var Sm=function(){function e(e){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=e,this.initCfg(),this.init()}return e.prototype.translate=function(e){return e},e.prototype.change=function(e){(0,Dr.assign)(this.__cfg__,e),this.init()},e.prototype.clone=function(){return this.constructor(this.__cfg__)},e.prototype.getTicks=function(){var e=this;return(0,Dr.map)(this.ticks,(function(t,n){return(0,Dr.isObject)(t)?t:{text:e.getText(t,n),tickValue:t,value:e.scale(t)}}))},e.prototype.getText=function(e,t){var n=this.formatter,r=n?n(e,t):e;return(0,Dr.isNil)(r)||!(0,Dr.isFunction)(r.toString)?"":r.toString()},e.prototype.getConfig=function(e){return this.__cfg__[e]},e.prototype.init=function(){(0,Dr.assign)(this,this.__cfg__),this.setDomain(),(0,Dr.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},e.prototype.initCfg=function(){},e.prototype.setDomain=function(){},e.prototype.calculateTicks=function(){var e=this.tickMethod,t=[];if((0,Dr.isString)(e)){var n=wm[e];if(!n)throw new Error("There is no method to to calculate ticks!");t=n(this)}else(0,Dr.isFunction)(e)&&(t=e(this));return t},e.prototype.rangeMin=function(){return this.range[0]},e.prototype.rangeMax=function(){return this.range[1]},e.prototype.calcPercent=function(e,t,n){return(0,Dr.isNumber)(e)?(e-t)/(n-t):NaN},e.prototype.calcValue=function(e,t,n){return t+e*(n-t)},e}(),_m=Sm,Tm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return(0,Ir.__extends)(t,e),t.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var e=0;e<this.values.length;e++)this.translateIndexMap.set(this.values[e],e)}},t.prototype.translate=function(e){this.buildIndexMap();var t=this.translateIndexMap.get(e);return void 0===t&&(t=(0,Dr.isNumber)(e)?e:NaN),t},t.prototype.scale=function(e){var t=this.translate(e),n=this.calcPercent(t,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},t.prototype.invert=function(e){var t=this.max-this.min,n=this.calcPercent(e,this.rangeMin(),this.rangeMax()),r=Math.round(t*n)+this.min;return r<this.min||r>this.max?NaN:this.values[r]},t.prototype.getText=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=t;return(0,Dr.isNumber)(t)&&!this.values.includes(t)&&(i=this.values[i]),e.prototype.getText.apply(this,(0,Ir.__spreadArray)([i],n,!1))},t.prototype.initCfg=function(){this.tickMethod="cat"},t.prototype.setDomain=function(){if((0,Dr.isNil)(this.getConfig("min"))&&(this.min=0),(0,Dr.isNil)(this.getConfig("max"))){var e=this.values.length;this.max=e>1?e-1:e}this.translateIndexMap&&(this.translateIndexMap=void 0)},t}(_m),km=Tm,Cm=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Mm="[1-9]\\d?",Am="\\d\\d",Nm="[^\\s]+",Pm=/\[([^]*?)\]/gm;function Im(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n.push(e[r].substr(0,t));return n}var Dm=function(e){return function(t,n){var r=n[e].map((function(e){return e.toLowerCase()})),i=r.indexOf(t.toLowerCase());return i>-1?i:null}};function Om(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];for(var a in o)e[a]=o[a]}return e}var Rm=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Lm=["January","February","March","April","May","June","July","August","September","October","November","December"],jm=Im(Lm,3),Bm={dayNamesShort:Im(Rm,3),dayNames:Rm,monthNamesShort:jm,monthNames:Lm,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10?1:0)*e%10]}},Fm=Om({},Bm),zm=function(e){return Fm=Om(Fm,e)},Ym=function(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Gm=function(e,t){for(void 0===t&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},Vm={D:function(e){return String(e.getDate())},DD:function(e){return Gm(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return Gm(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return Gm(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return Gm(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return Gm(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return Gm(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return Gm(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return Gm(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return Gm(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return Gm(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return Gm(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+Gm(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+Gm(Math.floor(Math.abs(t)/60),2)+":"+Gm(Math.abs(t)%60,2)}},Um=function(e){return+e-1},Wm=[null,Mm],Zm=[null,Nm],Hm=["isPm",Nm,function(e,t){var n=e.toLowerCase();return n===t.amPm[0]?0:n===t.amPm[1]?1:null}],Xm=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(e){var t=(e+"").match(/([+-]|\d\d)/gi);if(t){var n=60*+t[1]+parseInt(t[2],10);return"+"===t[0]?n:-n}return 0}],Km={D:["day",Mm],DD:["day",Am],Do:["day","[1-9]\\d?[^\\s]+",function(e){return parseInt(e,10)}],M:["month",Mm,Um],MM:["month",Am,Um],YY:["year",Am,function(e){var t=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+e>68?t-1:t)+e)}],h:["hour",Mm,void 0,"isPm"],hh:["hour",Am,void 0,"isPm"],H:["hour",Mm],HH:["hour",Am],m:["minute",Mm],mm:["minute",Am],s:["second",Mm],ss:["second",Am],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(e){return 100*+e}],SS:["millisecond",Am,function(e){return 10*+e}],SSS:["millisecond","\\d{3}"],d:Wm,dd:Wm,ddd:Zm,dddd:Zm,MMM:["month",Nm,Dm("monthNamesShort")],MMMM:["month",Nm,Dm("monthNames")],a:Hm,A:Hm,ZZ:Xm,Z:Xm},qm={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Jm=function(e){return Om(qm,e)},$m=function(e,t,n){if(void 0===t&&(t=qm.default),void 0===n&&(n={}),"number"===typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");var r=[];t=(t=qm[t]||t).replace(Pm,(function(e,t){return r.push(t),"@@@"}));var i=Om(Om({},Fm),n);return(t=t.replace(Cm,(function(t){return Vm[t](e,i)}))).replace(/@@@/g,(function(){return r.shift()}))};function Qm(e,t,n){if(void 0===n&&(n={}),"string"!==typeof t)throw new Error("Invalid format in fecha parse");if(t=qm[t]||t,e.length>1e3)return null;var r={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},i=[],o=[],a=t.replace(Pm,(function(e,t){return o.push(Ym(t)),"@@@"})),s={},u={};a=Ym(a).replace(Cm,(function(e){var t=Km[e],n=t[0],r=t[1],o=t[3];if(s[n])throw new Error("Invalid format. "+n+" specified twice in format");return s[n]=!0,o&&(u[o]=!0),i.push(t),"("+r+")"})),Object.keys(u).forEach((function(e){if(!s[e])throw new Error("Invalid format. "+e+" is required in specified format")})),a=a.replace(/@@@/g,(function(){return o.shift()}));var l=e.match(new RegExp(a,"i"));if(!l)return null;for(var c=Om(Om({},Fm),n),f=1;f<l.length;f++){var d=i[f-1],h=d[0],p=d[2],g=p?p(l[f],c):+l[f];if(null==g)return null;r[h]=g}1===r.isPm&&null!=r.hour&&12!==+r.hour?r.hour=+r.hour+12:0===r.isPm&&12===+r.hour&&(r.hour=0);for(var v=new Date(r.year,r.month,r.day,r.hour,r.minute,r.second,r.millisecond),m=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],y=(f=0,m.length);f<y;f++)if(s[m[f][0]]&&r[m[f][0]]!==v[m[f][1]]())return null;return null==r.timezoneOffset?v:new Date(Date.UTC(r.year,r.month,r.day,r.hour,r.minute-r.timezoneOffset,r.second,r.millisecond))}var ey={format:$m,parse:Qm,defaultI18n:Bm,setGlobalDateI18n:zm,setGlobalDateMasks:Jm};function ty(e,t){return(p.format||ey.format)(e,t)}function ny(e){return(0,Dr.isString)(e)&&(e=e.indexOf("T")>0?new Date(e).getTime():new Date(e.replace(/-/gi,"/")).getTime()),(0,Dr.isDate)(e)&&(e=e.getTime()),e}var ry=1e3,iy=6e4,oy=36e5,ay=24*oy,sy=31*ay,uy=365*ay,ly=[["HH:mm:ss",ry],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",iy],["HH:mm",6e5],["HH:mm",18e5],["HH",oy],["HH",6*oy],["HH",12*oy],["YYYY-MM-DD",ay],["YYYY-MM-DD",4*ay],["YYYY-WW",7*ay],["YYYY-MM",sy],["YYYY-MM",4*sy],["YYYY-MM",6*sy],["YYYY",380*ay]];function cy(e,t,n){var r,i=(r=function(e){return e[1]},function(e,t,n,i){for(var o=(0,Dr.isNil)(n)?0:n,a=(0,Dr.isNil)(i)?e.length:i;o<a;){var s=o+a>>>1;r(e[s])>t?a=s:o=s+1}return o})(ly,(t-e)/n)-1,o=ly[i];return i<0?o=ly[0]:i>=ly.length&&(o=(0,Dr.last)(ly)),o}var fy=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="timeCat",t}return(0,Ir.__extends)(t,e),t.prototype.translate=function(e){e=ny(e);var t=this.values.indexOf(e);return-1===t&&(t=(0,Dr.isNumber)(e)&&e<this.values.length?e:NaN),t},t.prototype.getText=function(e,t){var n=this.translate(e);if(n>-1){var r=this.values[n],i=this.formatter;return r=i?i(r,t):ty(r,this.mask)}return e},t.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},t.prototype.setDomain=function(){var t=this.values;(0,Dr.each)(t,(function(e,n){t[n]=ny(e)})),t.sort((function(e,t){return e-t})),e.prototype.setDomain.call(this)},t}(km),dy=fy,hy=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isContinuous=!0,t}return(0,Ir.__extends)(t,e),t.prototype.scale=function(e){if((0,Dr.isNil)(e))return NaN;var t=this.rangeMin(),n=this.rangeMax();return this.max===this.min?t:t+this.getScalePercent(e)*(n-t)},t.prototype.init=function(){e.prototype.init.call(this);var t=this.ticks,n=(0,Dr.head)(t),r=(0,Dr.last)(t);n<this.min&&(this.min=n),r>this.max&&(this.max=r),(0,Dr.isNil)(this.minLimit)||(this.min=n),(0,Dr.isNil)(this.maxLimit)||(this.max=r)},t.prototype.setDomain=function(){var e=(0,Dr.getRange)(this.values),t=e.min,n=e.max;(0,Dr.isNil)(this.min)&&(this.min=t),(0,Dr.isNil)(this.max)&&(this.max=n),this.min>this.max&&(this.min=t,this.max=n)},t.prototype.calculateTicks=function(){var t=this,n=e.prototype.calculateTicks.call(this);return this.nice||(n=(0,Dr.filter)(n,(function(e){return e>=t.min&&e<=t.max}))),n},t.prototype.getScalePercent=function(e){var t=this.max,n=this.min;return(e-n)/(t-n)},t.prototype.getInvertPercent=function(e){return(e-this.rangeMin())/(this.rangeMax()-this.rangeMin())},t}(_m),py=hy,gy=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return(0,Ir.__extends)(t,e),t.prototype.invert=function(e){var t=this.getInvertPercent(e);return this.min+t*(this.max-this.min)},t.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},t}(py),vy=gy;function my(e,t){var n=Math.E;return t>=0?Math.pow(n,Math.log(t)/e):-1*Math.pow(n,Math.log(-t)/e)}function yy(e,t){return 1===e?1:Math.log(t)/Math.log(e)}function by(e,t,n){(0,Dr.isNil)(n)&&(n=Math.max.apply(null,e));var r=n;return(0,Dr.each)(e,(function(e){e>0&&e<r&&(r=e)})),r===n&&(r=n/t),r>1&&(r=1),r}var xy=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="log",t}return(0,Ir.__extends)(t,e),t.prototype.invert=function(e){var t,n=this.base,r=yy(n,this.max),i=this.rangeMin(),o=this.rangeMax()-i,a=this.positiveMin;if(a){if(0===e)return 0;var s=1/(r-(t=yy(n,a/n)))*o;if(e<s)return e/s*a}else t=yy(n,this.min);var u=(e-i)/o*(r-t)+t;return Math.pow(n,u)},t.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},t.prototype.setDomain=function(){e.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===t&&(this.positiveMin=by(this.values,this.base,this.max))},t.prototype.getScalePercent=function(e){var t=this.max,n=this.min;if(t===n)return 0;if(e<=0)return 0;var r=this.base,i=this.positiveMin;return i&&(n=1*i/r),e<i?e/i/(yy(r,t)-yy(r,n)):(yy(r,e)-yy(r,n))/(yy(r,t)-yy(r,n))},t}(py),wy=xy,Ey=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="pow",t}return(0,Ir.__extends)(t,e),t.prototype.invert=function(e){var t=this.getInvertPercent(e),n=this.exponent,r=my(n,this.max),i=my(n,this.min),o=t*(r-i)+i,a=o>=0?1:-1;return Math.pow(o,n)*a},t.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},t.prototype.getScalePercent=function(e){var t=this.max,n=this.min;if(t===n)return 0;var r=this.exponent;return(my(r,e)-my(r,n))/(my(r,t)-my(r,n))},t}(py),Sy=Ey,_y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="time",t}return(0,Ir.__extends)(t,e),t.prototype.getText=function(e,t){var n=this.translate(e),r=this.formatter;return r?r(n,t):ty(n,this.mask)},t.prototype.scale=function(t){var n=t;return((0,Dr.isString)(n)||(0,Dr.isDate)(n))&&(n=this.translate(n)),e.prototype.scale.call(this,n)},t.prototype.translate=function(e){return ny(e)},t.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},t.prototype.setDomain=function(){var e=this.values,t=this.getConfig("min"),n=this.getConfig("max");if((0,Dr.isNil)(t)&&(0,Dr.isNumber)(t)||(this.min=this.translate(this.min)),(0,Dr.isNil)(n)&&(0,Dr.isNumber)(n)||(this.max=this.translate(this.max)),e&&e.length){var r=[],i=1/0,o=i,a=0;(0,Dr.each)(e,(function(e){var t=ny(e);if(isNaN(t))throw new TypeError("Invalid Time: "+e+" in time scale!");i>t?(o=i,i=t):o>t&&(o=t),a<t&&(a=t),r.push(t)})),e.length>1&&(this.minTickInterval=o-i),(0,Dr.isNil)(t)&&(this.min=i),(0,Dr.isNil)(n)&&(this.max=a)}},t}(vy),Ty=_y,ky=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="quantize",t}return(0,Ir.__extends)(t,e),t.prototype.invert=function(e){var t=this.ticks,n=t.length,r=this.getInvertPercent(e),i=Math.floor(r*(n-1));if(i>=n-1)return(0,Dr.last)(t);if(i<0)return(0,Dr.head)(t);var o=t[i],a=i/(n-1);return o+(r-a)/((i+1)/(n-1)-a)*(t[i+1]-o)},t.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},t.prototype.calculateTicks=function(){var t=e.prototype.calculateTicks.call(this);return this.nice||((0,Dr.last)(t)!==this.max&&t.push(this.max),(0,Dr.head)(t)!==this.min&&t.unshift(this.min)),t},t.prototype.getScalePercent=function(e){var t=this.ticks;if(e<(0,Dr.head)(t))return 0;if(e>(0,Dr.last)(t))return 1;var n=0;return(0,Dr.each)(t,(function(t,r){if(!(e>=t))return!1;n=r})),n/(t.length-1)},t}(py),Cy=ky,My=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="quantile",t}return(0,Ir.__extends)(t,e),t.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},t}(Cy),Ay=My,Ny={};function Py(e,t){if(function(e){return Ny[e]}(e))throw new Error("type '"+e+"' existed.");Ny[e]=t}var Iy=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return(0,Ir.__extends)(t,e),t.prototype.calculateTicks=function(){return this.values},t.prototype.scale=function(e){return this.values[0]!==e&&(0,Dr.isNumber)(e)?e:this.range[0]},t.prototype.invert=function(e){var t=this.range;return e<t[0]||e>t[1]?NaN:this.values[0]},t}(_m),Dy=Iy;function Oy(e){return Math.abs(e)<1e-15?e:parseFloat(e.toFixed(15))}var Ry=[1,5,2,2.5,4,3],Ly=100*Number.EPSILON;function jy(e,t,n,r,i,o){var a=(0,Dr.size)(t),s=(0,Dr.indexOf)(t,e),u=0,l=function(e,t){return(e%t+t)%t}(r,o);return(l<Ly||o-l<Ly)&&r<=0&&i>=0&&(u=1),1-s/(a-1)-n+u}function By(e,t,n){var r=(0,Dr.size)(t);return 1-(0,Dr.indexOf)(t,e)/(r-1)-n+1}function Fy(e,t,n,r,i,o){var a=(e-1)/(o-i),s=(t-1)/(Math.max(o,r)-Math.min(n,i));return 2-Math.max(a/s,s/a)}function zy(e,t){return e>=t?2-(e-1)/(t-1):1}function Yy(e,t,n,r){var i=t-e;return 1-.5*(Math.pow(t-r,2)+Math.pow(e-n,2))/Math.pow(.1*i,2)}function Gy(e,t,n){var r=t-e;if(n>r){var i=(n-r)/2;return 1-Math.pow(i,2)/Math.pow(.1*r,2)}return 1}function Vy(e,t,n,r,i,o){void 0===n&&(n=5),void 0===r&&(r=!0),void 0===i&&(i=Ry),void 0===o&&(o=[.25,.2,.5,.05]);var a=n<0?0:Math.round(n);if(Number.isNaN(e)||Number.isNaN(t)||"number"!==typeof e||"number"!==typeof t||!a)return{min:0,max:0,ticks:[]};if(t-e<1e-15||1===a)return{min:e,max:t,ticks:[e]};for(var s={score:-2,lmin:0,lmax:0,lstep:0},u=1;u<1/0;){for(var l=0;l<i.length;l+=1){var c=i[l],f=By(c,i,u);if(o[0]*f+o[1]+o[2]+o[3]<s.score){u=1/0;break}for(var d=2;d<1/0;){var h=zy(d,a);if(o[0]*f+o[1]+o[2]*h+o[3]<s.score)break;for(var p=(t-e)/(d+1)/u/c,g=Math.ceil(Math.log10(p));g<1/0;){var v=u*c*Math.pow(10,g),m=Gy(e,t,v*(d-1));if(o[0]*f+o[1]*m+o[2]*h+o[3]<s.score)break;var y=Math.floor(t/v)*u-(d-1)*u,b=Math.ceil(e/v)*u;if(y<=b)for(var x=b-y,w=0;w<=x;w+=1){var E=(y+w)*(v/u),S=E+v*(d-1),_=v,T=jy(c,i,u,E,S,_),k=Yy(e,t,E,S),C=Fy(d,a,e,t,E,S),M=o[0]*T+o[1]*k+o[2]*C+1*o[3];M>s.score&&(!r||E<=e&&S>=t)&&(s.lmin=E,s.lmax=S,s.lstep=_,s.score=M)}g+=1}d+=1}}u+=1}var A=Oy(s.lmax),N=Oy(s.lmin),P=Oy(s.lstep),I=Math.floor(function(e){return Math.round(1e12*e)/1e12}((A-N)/P))+1,D=new Array(I);D[0]=Oy(N);for(l=1;l<I;l++)D[l]=Oy(D[l-1]+P);return{min:Math.min(e,(0,Dr.head)(D)),max:Math.max(t,(0,Dr.last)(D)),ticks:D}}function Uy(e){var t=e.values,n=e.tickInterval,r=e.tickCount,i=t;if((0,Dr.isNumber)(n))return(0,Dr.filter)(i,(function(e,t){return t%n===0}));var o=e.min,a=e.max;if((0,Dr.isNil)(o)&&(o=0),(0,Dr.isNil)(a)&&(a=t.length-1),(0,Dr.isNumber)(r)&&r<a-o){var s=Vy(o,a,r,!1,[1,2,5,3,4,7,6,8,9]).ticks;return(0,Dr.filter)(s,(function(e){return e>=o&&e<=a})).map((function(e){return t[e]}))}return t.slice(o,a+1)}var Wy=Math.sqrt(50),Zy=Math.sqrt(10),Hy=Math.sqrt(2),Xy=function(){function e(){this._domain=[0,1]}return e.prototype.domain=function(e){return e?(this._domain=Array.from(e,Number),this):this._domain.slice()},e.prototype.nice=function(e){var t,n;void 0===e&&(e=5);var r,i=this._domain.slice(),o=0,a=this._domain.length-1,s=this._domain[o],u=this._domain[a];return u<s&&(s=(t=[u,s])[0],u=t[1],o=(n=[a,o])[0],a=n[1]),(r=Ky(s,u,e))>0?r=Ky(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,e):r<0&&(r=Ky(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,e)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,this.domain(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,this.domain(i)),this},e.prototype.ticks=function(e){return void 0===e&&(e=5),function(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];(r=t<e)&&(i=e,e=t,t=i);if(0===(a=Ky(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(e-s)/a;r&&o.reverse();return o}(this._domain[0],this._domain[this._domain.length-1],e||5)},e}();function Ky(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Wy?10:o>=Zy?5:o>=Hy?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Wy?10:o>=Zy?5:o>=Hy?2:1)}function qy(e,t,n){return("ceil"===n?Math.ceil(e/t):"floor"===n?Math.floor(e/t):Math.round(e/t))*t}function Jy(e,t,n){var r=qy(e,n,"floor"),i=qy(t,n,"ceil");r=(0,Dr.fixedBase)(r,n),i=(0,Dr.fixedBase)(i,n);for(var o=[],a=r;a<=i;a+=n){var s=(0,Dr.fixedBase)(a,n);o.push(s)}return{min:r,max:i,ticks:o}}function $y(e,t,n){var r,i=e.minLimit,o=e.maxLimit,a=e.min,s=e.max,u=e.tickCount,l=void 0===u?5:u,c=(0,Dr.isNil)(i)?(0,Dr.isNil)(t)?a:t:i,f=(0,Dr.isNil)(o)?(0,Dr.isNil)(n)?s:n:o;if(c>f&&(f=(r=[c,f])[0],c=r[1]),l<=2)return[c,f];for(var d=(f-c)/(l-1),h=[],p=0;p<l;p++)h.push(c+d*p);return h}function Qy(e,t,n){if(void 0===n&&(n=5),e===t)return{max:t,min:e,ticks:[e]};var r=n<0?0:Math.round(n);if(0===r)return{max:t,min:e,ticks:[]};var i=(t-e)/r,o=Math.pow(10,Math.floor(Math.log10(i))),a=o;2*o-i<1.5*(i-a)&&5*o-i<2.75*(i-(a=2*o))&&10*o-i<1.5*(i-(a=5*o))&&(a=10*o);for(var s=Math.ceil(t/a),u=Math.floor(e/a),l=Math.max(s*a,t),c=Math.min(u*a,e),f=Math.floor((l-c)/a)+1,d=new Array(f),h=0;h<f;h++)d[h]=Oy(c+h*a);return{min:c,max:l,ticks:d}}function eb(e,t){var n=e.length*t;return 1===t?e[e.length-1]:0===t?e[0]:n%1!==0?e[Math.ceil(n)-1]:e.length%2===0?(e[n-1]+e[n])/2:e[n]}function tb(e){return new Date(e).getFullYear()}function nb(e){return new Date(e,0,1).getTime()}function rb(e){return new Date(e).getMonth()}function ib(e,t){return new Date(e,t,1).getTime()}Em("cat",Uy),Em("time-cat",(function(e){var t=Uy(e),n=(0,Dr.last)(e.values);return n!==(0,Dr.last)(t)&&t.push(n),t})),Em("wilkinson-extended",(function(e){var t=e.min,n=e.max,r=e.tickCount,i=e.nice,o=e.tickInterval,a=e.minLimit,s=e.maxLimit,u=Vy(t,n,r,i).ticks;return(0,Dr.isNil)(a)&&(0,Dr.isNil)(s)?o?Jy(t,n,o).ticks:u:$y(e,(0,Dr.head)(u),(0,Dr.last)(u))})),Em("r-pretty",(function(e){var t=e.min,n=e.max,r=e.tickCount,i=e.tickInterval,o=e.minLimit,a=e.maxLimit,s=Qy(t,n,r).ticks;return(0,Dr.isNil)(o)&&(0,Dr.isNil)(a)?i?Jy(t,n,i).ticks:s:$y(e,(0,Dr.head)(s),(0,Dr.last)(s))})),Em("time",(function(e){var t=e.min,n=e.max,r=e.minTickInterval,i=e.tickInterval,o=e.tickCount;if(i)o=Math.ceil((n-t)/i);else{var a=(n-t)/(i=cy(t,n,o)[1])/o;a>1&&(i*=Math.ceil(a)),r&&i<r&&(i=r)}for(var s=[],u=t;u<n+i;u+=i)s.push(u);return s})),Em("time-pretty",(function(e){var t=e.min,n=e.max,r=e.minTickInterval,i=e.tickCount,o=e.tickInterval,a=[];o||(o=(n-t)/i,r&&o<r&&(o=r));var s=tb(t);if(o>uy)for(var u=tb(n),l=Math.ceil(o/uy),c=s;c<=u+l;c+=l)a.push(nb(c));else if(o>sy){var f=Math.ceil(o/sy),d=rb(t),h=function(e,t){var n=tb(e),r=tb(t),i=rb(e);return 12*(r-n)+(rb(t)-i)%12}(t,n);for(c=0;c<=h+f;c+=f)a.push(ib(s,c+d))}else if(o>ay){var p=(b=new Date(t)).getFullYear(),g=b.getMonth(),v=b.getDate(),m=Math.ceil(o/ay),y=function(e,t){return Math.ceil((t-e)/ay)}(t,n);for(c=0;c<y+m;c+=m)a.push(new Date(p,g,v+c).getTime())}else if(o>oy){p=(b=new Date(t)).getFullYear(),g=b.getMonth(),m=b.getDate();var b,x=b.getHours(),w=Math.ceil(o/oy),E=function(e,t){return Math.ceil((t-e)/oy)}(t,n);for(c=0;c<=E+w;c+=w)a.push(new Date(p,g,m,x+c).getTime())}else if(o>iy){var S=function(e,t){return Math.ceil((t-e)/6e4)}(t,n),_=Math.ceil(o/iy);for(c=0;c<=S+_;c+=_)a.push(t+c*iy)}else{var T=o;T<ry&&(T=ry);var k=Math.floor(t/ry)*ry,C=Math.ceil((n-t)/ry),M=Math.ceil(T/ry);for(c=0;c<C+M;c+=M)a.push(k+c*ry)}return a.length>=512&&console.warn("Notice: current ticks length("+a.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+o+") is too small, increase the value to solve the problem!"),a})),Em("log",(function(e){var t,n=e.base,r=e.tickCount,i=e.min,o=e.max,a=e.values,s=yy(n,o);if(i>0)t=Math.floor(yy(n,i));else{var u=by(a,n,o);t=Math.floor(yy(n,u))}for(var l=s-t,c=Math.ceil(l/r),f=[],d=t;d<s+c;d+=c)f.push(Math.pow(n,d));return i<=0&&f.unshift(0),f})),Em("pow",(function(e){var t=e.exponent,n=e.tickCount,r=Math.ceil(my(t,e.max));return Qy(Math.floor(my(t,e.min)),r,n).ticks.map((function(e){var n=e>=0?1:-1;return Math.pow(e,t)*n}))})),Em("quantile",(function(e){var t=e.tickCount,n=e.values;if(!n||!n.length)return[];for(var r=n.slice().sort((function(e,t){return e-t})),i=[],o=0;o<t;o++){var a=o/(t-1);i.push(eb(r,a))}return i})),Em("d3-linear",(function(e){var t=e.min,n=e.max,r=e.tickInterval,i=e.minLimit,o=e.maxLimit,a=function(e){var t=e.min,n=e.max,r=e.nice,i=e.tickCount,o=new Xy;return o.domain([t,n]),r&&o.nice(i),o.ticks(i)}(e);return(0,Dr.isNil)(i)&&(0,Dr.isNil)(o)?r?Jy(t,n,r).ticks:a:$y(e,(0,Dr.head)(a),(0,Dr.last)(a))})),Py("cat",km),Py("category",km),Py("identity",Dy),Py("linear",vy),Py("log",wy),Py("pow",Sy),Py("time",Ty),Py("timeCat",dy),Py("quantize",Cy),Py("quantile",Ay);var ob=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function ab(e){return function(e){return(0,Dr.map)(e,(function(e,t){return[0===t?"M":"L",e[0],e[1]]}))}(e)}function sb(e,t,n,r){void 0===r&&(r=!0);var i=new vy({values:e}),o=new km({values:(0,Dr.map)(e,(function(e,t){return t}))}),a=(0,Dr.map)(e,(function(e,r){return[o.scale(r)*t,n-i.scale(e)*n]}));return r?function(e){if(e.length<=2)return ab(e);var t=[];(0,Dr.each)(e,(function(e){(0,Dr.isEqual)(e,t.slice(t.length-2))||t.push(e[0],e[1])}));var n=Rc(t,!1),r=(0,Dr.head)(e),i=r[0],o=r[1];return n.unshift(["M",i,o]),n}(a):ab(a)}function ub(e,t,n,r){void 0===r&&(r=5);for(var i=new vy({values:e}),o=new km({values:(0,Dr.map)(e,(function(e,t){return t}))}),a=(0,Dr.map)(e,(function(e,r){return[o.scale(r)*t,n-i.scale(e)*n]})),s=[],u=0;u<a.length;u++){var l=a[u],c=cb({x:l[0],y:l[1],y0:n,size:r});s.push.apply(s,c)}return function(e,t){void 0===t&&(t=!0);var n=[],r=e[0];n.push(["M",r.x,r.y]);for(var i=1,o=e.length;i<o;i++)n.push(["L",e[i].x,e[i].y]);t&&(n.push(["L",r.x,r.y]),n.push(["z"]));return n}(s)}function lb(e,t,n,r){var i=ob([],e,!0),o=function(e,t){var n=new vy({values:e}),r=Math.max(0,n.min);return t-n.scale(r)*t}(r,n);return i.push(["L",t,o]),i.push(["L",0,o]),i.push(["Z"]),i}function cb(e){var t,n,r,i,o=e.x,a=e.y,s=e.y0,u=e.size;(0,Dr.isArray)(a)?(t=a[0],n=a[1]):(t=s,n=a),(0,Dr.isArray)(o)?(r=o[0],i=o[1]):(r=o-u/2,i=o+u/2);var l=[{x:r,y:t},{x:r,y:n}];return l.push({x:i,y:n},{x:i,y:t}),l}var fb=function(){return fb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fb.apply(this,arguments)},db={stroke:"#C5C5C5",strokeOpacity:.85},hb={fill:"#CACED4",opacity:.85},pb=function(){function e(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.width,a=void 0===o?200:o,s=e.height,u=void 0===s?26:s,l=e.smooth,c=void 0===l||l,f=e.isArea,d=void 0!==f&&f,h=e.data,p=void 0===h?[]:h,g=e.lineStyle,v=e.areaStyle,m=e.group,y=e.interval,b=void 0===y?null:y;this.group=m,this.x=n,this.y=i,this.width=a,this.height=u,this.data=p,this.smooth=c,this.isArea=d,this.lineStyle=Object.assign({},db,g),this.areaStyle=Object.assign({},hb,v),this.intervalConfig=b,this.renderLine()}return e.prototype.renderLine=function(){var e=this,t=e.x,n=e.y,r=e.width,i=e.height,o=(e.barWidth,e.data),a=e.smooth,s=e.isArea,u=e.lineStyle,l=e.areaStyle,c=this.group.addGroup({name:"trend-group"});if(o){var f=sb(o,r,i,a);if(c.addShape("path",{attrs:fb({path:f},u),name:"trend-line"}),s){var d=lb(f,r,i,o);c.addShape("path",{attrs:fb({path:d},l),name:"trend-area"})}}this.intervalConfig&&c.addShape("path",{attrs:fb({path:ub(this.intervalConfig.data,r,i,this.intervalConfig.style.barWidth)},this.intervalConfig.style),name:"trend-interval"}),c.move(t,n)},e.prototype.destory=function(){this.group.destroy()},e}(),gb=pb,vb=function(){return vb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},vb.apply(this,arguments)},mb={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},yb={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},bb=function(){function e(e){var t=e.group,n=e.name,r=e.type,i=e.x,o=void 0===i?0:i,a=e.y,s=void 0===a?0:a,u=e.width,l=void 0===u?2:u,c=e.height,f=void 0===c?24:c,d=e.style,h=void 0===d?{}:d;this.group=t,this.name=n,this.handleType=r,this.x=o,this.y=s,this.width=l,this.height=f,"trend"===r?this.style=vb(vb({},mb),h):"simple"===r&&(this.style=vb(vb({},yb),h)),this.renderHandle()}return e.prototype.setX=function(e){this.setXY(e,void 0)},e.prototype.setY=function(e){this.setXY(void 0,e)},e.prototype.setXY=function(e,t){(0,Dr.isNumber)(e)&&(this.x=e),(0,Dr.isNumber)(t)&&(this.y=t),this.updateXY()},e.prototype.renderHandle=function(){var e=this,t=e.width,n=e.height,r=e.style,i=e.name,o=r.fill,a=r.stroke,s=r.radius,u=r.opacity,l=r.cursor;this.handleGroup=this.group.addGroup(),"trend"===this.handleType?(this.verticalLine=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:n,fill:o,stroke:a,radius:s,opacity:u,cursor:l},name:"".concat(i,"-handler")}),this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:o,stroke:a,radius:s,opacity:u,cursor:l,lineAppendWidth:12},name:"".concat(i,"-handler")}),this.bottomCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:n,r:2*t,fill:o,stroke:a,radius:s,opacity:u,cursor:l},name:"".concat(i,"-handler")})):"simple"===this.handleType&&(this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:n/2,r:2*t,fill:o,stroke:a,radius:s,opacity:u,cursor:l,lineWidth:2},name:"".concat(i,"-handler")})),this.updateXY(),"trend"===this.handleType?this.bindTrendEvents():"simple"===this.handleType&&this.bindSimpleEvents()},e.prototype.bindSimpleEvents=function(){var e=this,t=this.name;this.handleGroup.on("".concat(t,"-handler:mouseenter"),(function(){var t=e.style.highLightFill;e.topCircle.attr("fill",t)})),this.handleGroup.on("".concat(t,"-handler:mouseleave"),(function(){var t=e.style.fill;e.topCircle.attr("fill",t)}))},e.prototype.bindTrendEvents=function(){var e=this,t=this.name;this.handleGroup.on("".concat(t,"-handler:mouseenter"),(function(){var t=e.style.highLightFill;e.verticalLine.attr("fill",t),e.topCircle.attr("fill",t),e.bottomCircle.attr("fill",t)})),this.handleGroup.on("".concat(t,"-handler:mouseleave"),(function(){var t=e.style.fill;e.verticalLine.attr("fill",t),e.topCircle.attr("fill",t),e.bottomCircle.attr("fill",t)}))},e.prototype.show=function(){this.handleGroup.show()},e.prototype.hide=function(){this.handleGroup.hide()},e.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},e}(),xb=bb,wb="timebarstartplay",Eb="timebarendplay",Sb="valuechange",_b="timebarConfigChanged",Tb="playPauseBtn",kb="nextStepBtn",Cb="preStepBtn",Mb=function(){return Mb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Mb.apply(this,arguments)},Ab=function(){function e(e){this.config=(0,Dr.deepMix)({},e),this.init()}return e.prototype.update=function(e){this.config=(0,Dr.deepMix)({},this.config,e),this.updateElement(),this.renderMarker()},e.prototype.init=function(){this.initElement(),this.renderMarker()},e.prototype.initElement=function(){var e=this.config,t=e.group,n=e.style,r=n.scale,i=void 0===r?1:r,o=n.offsetX,a=void 0===o?0:o,s=n.offsetY,u=void 0===s?0:s,l=this.config.x+a,c=this.config.y+u,f=t.addGroup({name:Tb});this.startMarkerGroup=f.addGroup({name:Tb}),this.circle=t.addShape("circle",{attrs:Mb({x:l,y:c,r:this.config.r*i},n),name:Tb}),this.startMarker=this.startMarkerGroup.addShape("path",{attrs:{path:this.getStartMarkerPath(l,c,i),fill:n.stroke||"#aaa"},name:"start-marker"}),this.pauseMarkerGroup=f.addGroup({name:Tb});var d=.25*this.config.r*i,h=.5*this.config.r*Math.sqrt(3)*i;this.pauseLeftMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:l-.375*this.config.r*i,y:c-h/2,width:d,height:h,fill:n.stroke||"#aaa",lineWidth:0}}),this.pauseRightMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:l+1/8*this.config.r*i,y:c-h/2,width:d,height:h,fill:n.stroke||"#aaa",lineWidth:0}})},e.prototype.updateElement=function(){var e=this.config.style,t=e.scale,n=void 0===t?1:t,r=e.offsetX,i=void 0===r?0:r,o=e.offsetY,a=void 0===o?0:o,s=this.config.x+i,u=this.config.y+a;this.circle.attr("x",s),this.circle.attr("y",u),this.circle.attr("r",this.config.r*n),this.startMarker.attr("path",this.getStartMarkerPath(s,u,n));var l=.25*this.config.r*n,c=.5*this.config.r*Math.sqrt(3)*n;this.pauseLeftMarker.attr("x",s-.375*this.config.r*n),this.pauseLeftMarker.attr("y",u-c/2),this.pauseLeftMarker.attr("width",l),this.pauseLeftMarker.attr("height",c),this.pauseRightMarker.attr("x",s+1/8*this.config.r*n),this.pauseRightMarker.attr("y",u-c/2),this.pauseRightMarker.attr("width",l),this.pauseRightMarker.attr("height",c)},e.prototype.renderMarker=function(){this.config.isPlay?(this.startMarkerGroup.hide(),this.pauseMarkerGroup.show()):(this.startMarkerGroup.show(),this.pauseMarkerGroup.hide())},e.prototype.getStartMarkerPath=function(e,t,n){var r=.5*this.config.r*Math.sqrt(3)*n;return[["M",e-r/Math.sqrt(3)/2,t-r/2],["L",e+r/Math.sqrt(3),t],["L",e-r/Math.sqrt(3)/2,t+r/2]]},e}(),Nb=Ab,Pb=function(){return Pb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pb.apply(this,arguments)},Ib=Wr,Db={fill:"#aaa",fillOpacity:.35,stroke:"#aaa"},Ob={fill:"#fff"},Rb={fill:"green"},Lb={pointer:{fill:"#aaa",lineWidth:0},scroller:{stroke:"#aaa",fill:"#aaa",lineWidth:1,lineAppendWidth:5,cursor:"pointer"},text:{fill:"#aaa",textBaseline:"top"}},jb={check:{stroke:"green",lineWidth:3},box:{fill:"#fff",stroke:"#aaa",lineWidth:2,radius:3,width:12,height:12},text:{fill:"#aaa",fontSize:12,textBaseline:"top"}},Bb={speed:1,loop:!1,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa",stroke:"#aaa"},nextBtnStyle:{fill:"#aaa",stroke:"#aaa"},playBtnStyle:{fill:"#aaa",stroke:"#aaa",fillOpacity:.05},speedControllerStyle:Lb,timeTypeControllerStyle:jb},Fb=50,zb=function(){function e(e){this.controllerCfg=(0,Dr.deepMix)({},Bb,e),this.group=e.group,this.controllerGroup=this.group.addGroup({name:"controller-group"}),this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.fontFamily=e.fontFamily||"Arial, sans-serif",this.init()}return e.prototype.init=function(){this.renderPlayButton()},e.prototype.getNextMarkerPath=function(e,t,n){return[["M",e,t-n],["L",e+n,t],["L",e,t+n],["Z",e,t-n],["M",e,t],["L",e-n,t-n],["L",e-n,t+n],["Z"]]},e.prototype.getPreMarkerPath=function(e,t,n){return[["M",e,t-n],["L",e-n,t],["L",e,t+n],["L",e,t-n],["M",e,t],["L",e+n,t-n],["L",e+n,t+n],["Z"]]},e.prototype.renderPlayButton=function(){var e=this.controllerCfg,t=e.width,n=e.height,r=e.x,i=e.y,o=e.hideTimeTypeController,a=e.fill,s=void 0===a?"#aaa":a,u=e.stroke,l=void 0===u?"green":u,c=e.containerStyle,f=void 0===c?{}:c,d=Pb(Pb({},Db),e.playBtnStyle||{}),h=Pb(Pb({},Ob),e.preBtnStyle||{}),p=Pb(Pb({},Rb),e.nextBtnStyle||{}),g=n/2-5,v=i+10,m=this.controllerGroup.addShape("rect",{attrs:Pb({x:r,y:v,width:t,height:n,stroke:l,fill:s},f),name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:v,r:g}):this.playButton=new Nb({group:this.controllerGroup,x:t/2,y:v+g+5,r:g,isPlay:this.isPlay,style:d});var y=h.offsetX||0,b=h.offsetY||0,x=(h.scale||1)*g;this.controllerGroup.addShape("path",{attrs:Pb({path:this.getPreMarkerPath(t/2-5*g+y,v+g+5+b,.5*x)},h),name:Cb});var w=p.offsetX||0,E=p.offsetY||0,S=(p.scale||1)*g;this.controllerGroup.addShape("path",{attrs:Pb({path:this.getNextMarkerPath(t/2+5*g+w,v+g+5+E,.5*S)},p),name:kb}),m.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent();var _=this.controllerCfg.scale,T=void 0===_?1:_,k=this.controllerGroup.getCanvasBBox(),C=(k.maxX+k.minX)/2,M=(k.maxY+k.minY)/2,A=Ib([1,0,0,0,1,0,0,0,1],[["t",-C,-M],["s",T,T],["t",C,M]]);this.controllerGroup.setMatrix(A)},e.prototype.renderSpeedBtn=function(){var e=this.controllerCfg,t=e.y,n=e.width,r=e.hideTimeTypeController,i=Pb(Pb({},Lb),this.controllerCfg.speedControllerStyle||{}),o=i.scroller,a=void 0===o?{}:o,s=i.text,u=void 0===s?{}:s,l=i.pointer,c=void 0===l?{}:l,f=i.scale,d=void 0===f?1:f,h=i.offsetX,p=void 0===h?0:h,g=i.offsetY,v=void 0===g?0:g,m=this.controllerGroup.addGroup({name:"speed-group"});this.speedGroup=m;var y=[],b=5;this.speedAxisY=[19,22,26,32,39];for(var x=0;x<5;x++){var w=t+this.speedAxisY[x],E=n-(r?Fb:110);m.addShape("line",{attrs:Pb({x1:E,x2:E+15,y1:w,y2:w},a),speed:b,name:"speed-rect"}),this.speedAxisY[x]=w,y.push(b),b-=1}this.speedText=m.addShape("text",{attrs:Pb({x:n-(r?Fb:110)+20,y:this.speedAxisY[0]+4,text:"1.0X",fontFamily:this.fontFamily||"Arial, sans-serif"},u),name:"speed-text"}),this.speedPoint=m.addShape("path",{attrs:Pb({path:this.getPointerPath(n-(r?Fb:110),0),matrix:[1,0,0,0,1,0,0,this.speedAxisY[4],1]},c),name:"speed-pointer"});var S=this.speedGroup.getCanvasBBox(),_=(S.maxX+S.minX)/2,T=(S.maxY+S.minY)/2,k=this.speedGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];k=Ib(k,[["t",-_,-T],["s",d,d],["t",_+p*d,T+v*d]]),this.speedGroup.setMatrix(k)},e.prototype.getPointerPath=function(e,t){return[["M",e,t],["L",e-10,t-4],["L",e-10,t+4],["Z"]]},e.prototype.renderToggleTime=function(){var e,t=this.controllerCfg.width,n=Pb(Pb({},jb),this.controllerCfg.timeTypeControllerStyle||{}),r=n.scale,i=void 0===r?1:r,o=n.offsetX,a=void 0===o?0:o,s=n.offsetY,u=void 0===s?0:s,l=n.box,c=void 0===l?{}:l,f=n.check,d=void 0===f?{}:f,h=n.text,p=void 0===h?{}:h;this.toggleGroup=this.controllerGroup.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:Pb({x:t-Fb,y:this.speedAxisY[0]+3.5},c),isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:Pb({path:[["M",t-Fb+3,this.speedAxisY[1]+6],["L",t-Fb+7,this.speedAxisY[1]+10],["L",t-Fb+12,this.speedAxisY[1]+4]]},d),capture:!1,name:"check-icon"}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:Pb({text:(null===(e=this.controllerCfg)||void 0===e?void 0:e.timePointControllerText)||"\u5355\u4e00\u65f6\u95f4",x:t-Fb+15,y:this.speedAxisY[0]+4,fontFamily:"undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},p),name:"checked-text"});var g=this.toggleGroup.getCanvasBBox(),v=(g.maxX+g.minX)/2,m=(g.maxY+g.minY)/2,y=this.toggleGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];y=Ib(y,[["t",-v,-m],["s",i,i],["t",v+a*i,m+u*i]]),this.toggleGroup.setMatrix(y)},e.prototype.bindEvent=function(){var e=this;this.speedGroup.on("speed-rect:click",(function(t){var n=t.target.attr("y1"),r=e.speedPoint.attr("matrix"),i=e.speedAxisY.indexOf(r[7]||0),o=e.speedAxisY.indexOf(n),a=e.speedAxisY[o]-e.speedAxisY[i];r=Ib(r,[["t",0,a]]),e.speedPoint.setMatrix(r),e.currentSpeed=e.speedAxisY.length-o,e.speedText.attr("text","".concat(e.currentSpeed,".0X")),e.group.emit(_b,{speed:e.currentSpeed,type:e.currentType})})),this.speedGroup.on("mousewheel",(function(t){t.preventDefault();var n=e.speedPoint.attr("matrix")||[1,0,0,0,1,0,0,0,1],r=n[7],i=e.speedAxisY.indexOf(r);if(-1===i){var o=1/0;e.speedAxisY.forEach((function(e,t){var n=Math.abs(e-r);o>n&&(o=n,i=t)}))}i=t.originalEvent.deltaY>0?Math.max(0,i-1):Math.min(e.speedAxisY.length-1,i+1);var a=e.speedAxisY[i]-r;n=Ib(n,[["t",0,a]]),e.speedPoint.setMatrix(n),e.currentSpeed=e.speedAxisY.length-i,e.speedText.attr("text","".concat(e.currentSpeed,".0X")),e.group.emit(_b,{speed:e.currentSpeed,type:e.currentType})})),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",(function(t){var n,r,i=t.target.get("isChecked");i?(e.checkedIcon.hide(),e.checkedText.attr("text",(null===(r=e.controllerCfg)||void 0===r?void 0:r.timePointControllerText)||"\u5355\u4e00\u65f6\u95f4"),e.currentType="range"):(e.checkedIcon.show(),e.checkedText.attr("text",(null===(n=e.controllerCfg)||void 0===n?void 0:n.timeRangeControllerText)||"\u65f6\u95f4\u8303\u56f4"),e.currentType="single"),t.target.set("isChecked",!i),e.group.emit(_b,{type:e.currentType,speed:e.currentSpeed})}))},e.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},e}(),Yb=zb,Gb=function(){return Gb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Gb.apply(this,arguments)},Vb=Wr,Ub={fill:"#416180",opacity:.05},Wb={fill:"#416180",opacity:.15,radius:5},Zb={fill:"#5B8FF9",opacity:.3,cursor:"grab"},Hb={width:2,height:24},Xb={textBaseline:"middle",fill:"#000",opacity:.45},Kb={textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35},qb={lineWidth:1,stroke:"#ccc"},Jb=function(){function e(e){var t=this;this.prevX=0,this.onMouseDown=function(e){return function(n){t.currentHandler=e;var r=n.originalEvent;r.stopPropagation(),r.preventDefault(),t.prevX=(0,Dr.get)(r,"touches.0.pageX",r.pageX);var i=t.canvas.get("container");i.addEventListener("mousemove",t.onMouseMove),i.addEventListener("mouseup",t.onMouseUp),i.addEventListener("mouseleave",t.onMouseUp),i.addEventListener("touchmove",t.onMouseMove),i.addEventListener("touchend",t.onMouseUp),i.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(e){e.stopPropagation(),e.preventDefault();var n=(0,Dr.get)(e,"touches.0.pageX",e.pageX),r=n-t.prevX,i=t.adjustOffsetRange(r/t.width);t.updateStartEnd(i),t.updateUI(),t.prevX=n},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var e=t.canvas.get("container");e&&(e.removeEventListener("mousemove",t.onMouseMove),e.removeEventListener("mouseup",t.onMouseUp),e.removeEventListener("mouseleave",t.onMouseUp),e.removeEventListener("touchmove",t.onMouseMove),e.removeEventListener("touchend",t.onMouseUp),e.removeEventListener("touchcancel",t.onMouseUp))};var n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.width,s=void 0===a?100:a,u=e.height,l=e.padding,c=void 0===l?10:l,f=e.trendCfg,d=e.controllerCfg,h=void 0===d?{speed:1}:d,p=e.backgroundStyle,g=void 0===p?{}:p,v=e.foregroundStyle,m=void 0===v?{}:v,y=e.handlerStyle,b=void 0===y?{}:y,x=e.textStyle,w=void 0===x?{}:x,E=e.start,S=void 0===E?0:E,_=e.end,T=void 0===_?1:_,k=e.minText,C=void 0===k?"":k,M=e.maxText,A=void 0===M?"":M,N=e.group,P=e.graph,I=e.canvas,D=e.tick,O=void 0===D?{tickLabelStyle:{},tickLineStyle:{},tickLabelFormatter:function(e){return e},ticks:[]}:D,R=e.type;this.graph=P,this.canvas=I,this.group=N,this.timeBarType=R,this.x=r,this.y=o,this.width=s,this.height=u,this.padding=c,this.ticks=O.ticks,this.trendCfg=f,this.controllerCfg=h,this.currentSpeed=h.speed||1,this.tickLabelFormatter=O.tickLabelFormatter,"trend"===R?this.backgroundStyle=Gb(Gb({},Ub),g):"simple"===R&&(this.backgroundStyle=Gb(Gb({},Wb),g)),this.foregroundStyle=Gb(Gb({},Zb),m),this.handlerStyle=Gb(Gb({},Hb),b),this.textStyle=Gb(Gb({},Xb),w),this.tickLabelStyle=Gb(Gb({},Kb),O.tickLabelStyle),this.tickLineStyle=Gb(Gb({},qb),O.tickLineStyle),this.currentMode="range",this.start=S,this.end=T,this.minText=C,this.maxText=A,this.fontFamily="undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return e.prototype.update=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.minText,a=e.maxText,s=e.start,u=e.end;this.start=Math.min(1,Math.max(s,0)),this.end=Math.min(1,Math.max(u,0)),(0,Dr.assign)(this,{x:t,y:n,width:r,height:i,minText:o,maxText:a}),this.updateUI()},e.prototype.setText=function(e,t){this.minTextShape.attr("text",e),this.maxTextShape.attr("text",t)},e.prototype.renderSlider=function(){var e=this,t=this,n=t.width,r=t.height,i=t.timeBarType;if("trend"===i&&(0,Dr.size)((0,Dr.get)(this.trendCfg,"data"))){var o=new gb(Gb(Gb({x:this.x,y:this.y,width:n,height:r},this.trendCfg),{group:this.group}));this.trendComponent=o}var a=this.group.addGroup({name:"slider-group"});a.addShape("rect",{attrs:Gb({x:0,y:0,width:n,height:r},this.backgroundStyle),name:"background"});var s=this.group.addGroup();"trend"===i?(this.minTextShape=s.addShape("text",{attrs:Gb({x:0,y:r/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=s.addShape("text",{attrs:Gb({y:r/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})):(this.minTextShape=s.addShape("text",{attrs:Gb({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=s.addShape("text",{attrs:Gb({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:Gb({x:0,y:this.y,height:r},this.foregroundStyle),name:"foreground-shape"}),this.foregroundShape.on("mousedown",(function(e){e.target.attr("cursor","grabbing")})),this.foregroundShape.on("mouseup",(function(t){t.target.attr("cursor",e.foregroundStyle.cursor||"grab")}));var u=(0,Dr.get)(this.handlerStyle,"width",2),l=(0,Dr.get)(this.handlerStyle,"height",24),c=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new xb({name:"minHandlerShape",group:c,type:i,x:this.x,y:this.y,width:u,height:l,style:this.handlerStyle});var f=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new xb({name:"maxHandlerShape",group:f,type:i,x:this.x,y:this.y,width:u,height:l,style:this.handlerStyle});var d=this.ticks,h=n/(d.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach((function(e){e.destroy()}));var p=-1/0,g=this.tickLabelStyle.rotate;delete this.tickLabelStyle.rotate,this.textList=d.map((function(t,n){var i;e.tickPosList.push(e.x+n*h),e.tickLabelFormatter?(i=e.tickLabelFormatter(t),!(0,Dr.isString)(i)&&i&&(i=t.date)):i=t.date;var o=e.x+n*h,a=e.y+r+5,s=e.group.addShape("text",{attrs:Gb({x:o,y:a,text:i,fontFamily:e.fontFamily||"Arial, sans-serif"},e.tickLabelStyle),name:"tick-label"});if((0,Dr.isNumber)(g)&&n!==d.length-1){var u=Vb([1,0,0,0,1,0,0,0,1],[["t",-o,-a],["r",g],["t",o-5,a+2]]);s.attr({textAlign:"left",matrix:u})}0===n?s.attr({textAlign:"left"}):n!==d.length-1&&s.attr({textAlign:"right"});var l=e.group.addShape("line",{attrs:Gb({x1:e.x+n*h,y1:e.y+r+2,x2:e.x+n*h,y2:e.y+r+6},e.tickLineStyle),name:"tick-line"});l.toBack();var c=s.getBBox();return c.minX>p?(s.show(),l.show(),p=c.minX+c.width+10):(s.hide(),l.hide()),s})),this.controllerBtnGroup=new Yb(Gb({group:this.group,x:this.x,y:this.y+r+25,width:n,height:35},this.controllerCfg)),this.updateStartEnd(0),this.updateUI(),a.move(this.x,this.y),this.bindEvents()},e.prototype.bindEvents=function(){var e=this,t=this.group.find((function(e){return"minHandlerShape"===e.get("name")}));t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var n=this.group.find((function(e){return"maxHandlerShape"===e.get("name")}));n&&(n.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),n.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on("".concat(Tb,":click"),(function(){e.isPlay=!e.isPlay,e.currentHandler=e.maxHandlerShape,e.changePlayStatus()})),this.group.on("".concat(kb,":click"),(function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(.01),e.updateUI()})),this.group.on("".concat(Cb,":click"),(function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(-.01),e.updateUI()})),this.group.on(_b,(function(t){var n=t.type,r=t.speed;e.currentSpeed=r,e.currentMode=n,"single"===n?(e.minHandlerShape.hide(),e.foregroundShape.hide(),e.minTextShape.hide()):"range"===n&&(e.minHandlerShape.show(),e.foregroundShape.show(),e.minTextShape.show())}))},e.prototype.adjustTickIndex=function(e){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=e&&e<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-e)<Math.abs(e-this.tickPosList[t+1])?t:t+1;return 0},e.prototype.adjustOffsetRange=function(e){switch(this.currentHandler){case this.minHandlerShape:var t=0-this.start,n=1-this.start;return Math.min(n,Math.max(t,e));case this.maxHandlerShape:t=0-this.end,n=1-this.end;return Math.min(n,Math.max(t,e));case this.foregroundShape:t=0-this.start,n=1-this.end;return Math.min(n,Math.max(t,e));default:return 0}},e.prototype.updateStartEnd=function(e){var t=this.ticks[this.adjustTickIndex(this.start*this.width)],n=this.ticks[this.adjustTickIndex(this.end*this.width)];if(!this.currentHandler)return this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):null===t||void 0===t?void 0:t.date,void(this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):null===n||void 0===n?void 0:n.date);switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=e,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date;break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=e,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date;break;case this.foregroundShape:this.start+=e,this.end+=e,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date}},e.prototype.updateUI=function(){var e=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.x+this.start*this.width,n=this.x+this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",n-t);var r=(0,Dr.get)(this.handlerStyle,"width",2);this.setText(this.minText,this.maxText);var i=this.dodgeText([t,n]),o=i[0],a=i[1];this.minHandlerShape.setX(t-r/2),(0,Dr.each)(o,(function(t,n){return e.minTextShape.attr(n,t)})),this.maxHandlerShape.setX(n-r/2),(0,Dr.each)(a,(function(t,n){return e.maxTextShape.attr(n,t)})),"range"===this.currentMode?this.graph.emit(Sb,{value:[this.start,this.end].sort()}):"single"===this.currentMode&&this.graph.emit(Sb,{value:[this.end,this.end]})},e.prototype.dodgeText=function(e){var t,n,r=(0,Dr.get)(this.handlerStyle,"width",2),i=this.minTextShape,o=this.maxTextShape,a=e[0],s=e[1],u=!1;a>s&&(a=(t=[s,a])[0],s=t[1],i=(n=[o,i])[0],o=n[1],u=!0);var l=i.getBBox(),c=o.getBBox(),f=null,d=null;return"trend"===this.timeBarType?(f=a-l.width<this.x+2?{x:a+r/2+2,textAlign:"left"}:{x:a-r/2-2,textAlign:"right"},d=s+c.width>this.x+this.width?{x:s-r/2-2,textAlign:"right"}:{x:s+r/2+2,textAlign:"left"}):"simple"===this.timeBarType&&(f=i.attr("x")>l.width?{x:a,textAlign:"center"}:{x:a,textAlign:"left"},d=o.attr("x")>this.width-c.width?{x:s,textAlign:"right"}:{x:s,textAlign:"center"}),u?[d,f]:[f,d]},e.prototype.startPlay=function(){var e=this;return"undefined"!==typeof window?window.requestAnimationFrame((function(){var t=e,n=t.ticks,r=t.width,i=e.currentSpeed,o=r/n.length/(1e3*(10-i)/60),a=e.adjustOffsetRange(o/e.width);e.updateStartEnd(a),e.updateUI(),e.isPlay&&(e.playHandler=e.startPlay())})):void 0},e.prototype.changePlayStatus=function(e){void 0===e&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(wb,null)):this.playHandler&&("undefined"!==typeof window&&window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(Eb,null))},e.prototype.destory=function(){this.graph.off(Sb);var e=this.group,t=e.find((function(e){return"minHandlerShape"===e.get("name")}));t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var n=e.find((function(e){return"maxHandlerShape"===e.get("name")}));n&&(n.off("maxHandlerShape-handler:mousedown"),n.off("maxHandlerShape-handler:touchstart"),n.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),e.off("".concat(Tb,":click")),e.off("".concat(kb,":click")),e.off("".concat(Cb,":click")),e.off(_b),e.destroy(),this.trendComponent&&this.trendComponent.destory()},e}(),$b=Jb,Qb=function(){function e(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,o=e.container,a=e.text,s=e.padding,u=void 0===s?[4,4,4,4]:s,l=e.className,c=void 0===l?"g6-component-timebar-tooltip":l,f=e.backgroundColor,d=void 0===f?"#000":f,h=e.textColor,p=void 0===h?"#fff":h,g=e.opacity,v=void 0===g?.8:g,m=e.fontSize,y=void 0===m?12:m;this.container=o,this.className=c,this.backgroundColor=d,this.textColor=p,this.x=n,this.y=i,this.text=a,this.padding=u,this.opacity=v,this.fontSize=y,this.render()}return e.prototype.render=function(){var e=this,t=e.className,n=(e.x,e.y,e.backgroundColor),r=e.textColor,i=e.text,o=e.padding,a=e.opacity,s=e.fontSize,u=e.container,l=Dv("<div class='".concat(t,"' style=\"position: absolute; width: fit-content; height: fit-content; opacity: ").concat(a,'"></div>'));(0,Dr.isString)(u)&&(u=document.getElementById(u)),u.appendChild(l),e.parentHeight=u.offsetHeight,e.parentWidth=u.offsetWidth,Yv(l,{visibility:"hidden",top:0,left:0});var c=Dv("\n      <div style='position: absolute; white-space:nowrap; background-color: ".concat(n,"; font-size: ").concat(s,"px; border-radius: 4px; width: fit-content; height: fit-content; color: ").concat(r,"; padding: ").concat(o[0],"px ").concat(o[1],"px ").concat(o[2],"px ").concat(o[3],"px'></div>"));c.innerHTML=i,l.appendChild(c),e.backgroundDOM=c;var f=Dv("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid ".concat(n,"'></div>"));l.appendChild(f),e.arrowDOM=f,e.container=l},e.prototype.show=function(e){var t=this,n=e.text,r=e.x;e.y,e.clientX,e.clientY;t.backgroundDOM.innerHTML=n;var i=t.backgroundDOM.offsetWidth,o=t.backgroundDOM.offsetHeight,a=t.arrowDOM.offsetWidth,s=t.arrowDOM.offsetHeight;Yv(t.container,{top:"".concat(-o-s,"px"),left:"".concat(r,"px"),visibility:"visible"}),Yv(t.backgroundDOM,{marginLeft:"".concat(-i/2,"px")}),Yv(t.arrowDOM,{marginLeft:"".concat(-a/2,"px"),top:"".concat(o,"px")});var u=r-i/2,l=r+i/2;u<0?Yv(t.backgroundDOM,{marginLeft:"".concat(-i/2-u,"px")}):l>t.parentWidth&&Yv(t.backgroundDOM,{marginLeft:"".concat(-i/2-l+t.parentWidth+12,"px")})},e.prototype.hide=function(){Yv(this.container,{top:0,left:0,visibility:"hidden"})},e}(),ex=Qb,tx=function(){return tx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},tx.apply(this,arguments)},nx=Wr,rx={fill:"#5B8FF9"},ix={fill:"#e6e8e9"},ox=function(){function e(e){this.frameCount=0,this.fontFamily="Arial, sans-serif";var t=e.graph,n=e.canvas,r=e.group,i=e.width,o=e.height,a=e.padding,s=e.data,u=e.start,l=e.end,c=e.x,f=void 0===c?0:c,d=e.y,h=void 0===d?0:d,p=e.tickLabelFormatter,g=e.selectedTickStyle,v=void 0===g?rx:g,m=e.unselectedTickStyle,y=void 0===m?ix:m,b=e.tooltipBackgroundColor,x=e.tooltipFomatter,w=e.tickLabelStyle;this.graph=t,this.group=r,this.sliceGroup=r.addGroup({name:"slice-group"}),this.canvas=n,this.width=i,this.height=o,this.padding=a,this.data=s,this.start=u,this.end=l,this.tickLabelFormatter=p,this.tickLabelStyle=w||{},this.selectedTickStyle=v,this.unselectedTickStyle=y,this.x=f,this.y=h,this.tooltipBackgroundColor=b,this.tooltipFomatter=x,this.fontFamily="undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return e.prototype.renderSlices=function(){var e=this,t=this,n=t.width,r=t.height,i=t.padding,o=t.data,a=t.start,s=t.end,u=t.tickLabelFormatter,l=t.selectedTickStyle,c=t.unselectedTickStyle,f=t.tickLabelStyle,d=n-2*i,h=r-(3*i+4+10)-2*i,p=o.length,g=(d-2*(p-1))/p;this.tickWidth=g;var v=this.sliceGroup,m=[],y=[],b=Math.round(p*a),x=Math.round(p*s);this.startTickRectId=b,this.endTickRectId=x;var w=f.rotate;delete f.rotate,o.forEach((function(t,r){var o=r>=b&&r<=x?l:c,a=v.addShape("rect",{attrs:tx({x:i+r*(g+2),y:i,width:g,height:h},o),draggable:!0,name:"tick-rect-".concat(r)}),s=v.addShape("rect",{attrs:{x:i+r*g+2*(2*r-1)/2,y:i,width:0===r||r===p-1?g+1:g+2,height:h,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-".concat(r)});s.toFront();var d,E=a.getBBox(),S=(E.minX+E.maxX)/2;if(m.push({rect:a,pickRect:s,value:t.date,x:S,y:E.minY}),u?(d=u(t),!(0,Dr.isString)(d)&&d&&(d=t.date)):r%Math.round(p/10)===0&&(d=t.date),d){y.push(d);var _=E.maxY+2*i;v.addShape("line",{attrs:{stroke:"#BFBFBF",x1:S,y1:_,x2:S,y2:_+4},name:"tick-line"});var T=_+4+i,k=v.addShape("text",{attrs:tx({fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:S,y:T,textAlign:"center",text:d,textBaseline:"top",fontSize:10,fontFamily:e.fontFamily||"Arial, sans-serif"},f),capture:!1,name:"tick-label"}),C=k.getBBox();if(C.maxX>n?k.attr("textAlign","right"):C.minX<0&&k.attr("textAlign","left"),(0,Dr.isNumber)(w)&&10!==y.length){var M=nx([1,0,0,0,1,0,0,0,1],[["t",-S,-T],["r",w],["t",S-5,T+2]]);k.attr({textAlign:"left",matrix:M})}1===y.length?k.attr({textAlign:"left"}):10===y.length&&k.attr({textAlign:"right"})}})),this.tickRects=m;var E=this.group;this.currentSpeed=1,this.controllerBtnGroup=new Yb({group:E,x:this.x,y:this.y+r+5,width:n,height:40,hideTimeTypeController:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"})},e.prototype.initEvent=function(){var e=this,t=this.sliceGroup;t.on("click",(function(t){var n=t.target;if("rect"===n.get("type")&&n.get("name")){var r=parseInt(n.get("name").split("-")[2],10);if(!isNaN(r)){var i=e.tickRects,o=e.unselectedTickStyle;i.forEach((function(e){e.rect.attr(o)}));var a=e.selectedTickStyle;i[r].rect.attr(a),e.startTickRectId=r,e.endTickRectId=r;var s=r/i.length;e.graph.emit(Sb,{value:[s,s]})}}})),t.on("dragstart",(function(t){var n=e.tickRects,r=e.unselectedTickStyle;n.forEach((function(e){e.rect.attr(r)}));var i=t.target,o=parseInt(i.get("name").split("-")[2],10),a=e.selectedTickStyle;n[o].rect.attr(a),e.startTickRectId=o;var s=o/n.length;e.graph.emit(Sb,{value:[s,s]}),e.dragging=!0})),t.on("dragover",(function(t){if(e.dragging&&"rect"===t.target.get("type")){for(var n=parseInt(t.target.get("name").split("-")[2],10),r=e.startTickRectId,i=e.tickRects,o=e.selectedTickStyle,a=e.unselectedTickStyle,s=0;s<i.length;s++){var u=s>=r&&s<=n?o:a;i[s].rect.attr(u)}var l=i.length;e.endTickRectId=n;var c=r/l,f=n/l;e.graph.emit(Sb,{value:[c,f]})}})),t.on("drop",(function(t){if(e.dragging&&(e.dragging=!1,"rect"===t.target.get("type"))){var n=e.startTickRectId,r=parseInt(t.target.get("name").split("-")[2],10);if(!(r<n)){var i=e.selectedTickStyle,o=e.tickRects;o[r].rect.attr(i),e.endTickRectId=r;var a=o.length,s=n/a,u=r/a;e.graph.emit(Sb,{value:[s,u]})}}}));var n=this,r=n.tooltipBackgroundColor,i=n.tooltipFomatter,o=n.canvas,a=new ex({container:o.get("container"),backgroundColor:r}),s=this.tickRects;s.forEach((function(e){var t=e.pickRect;t.on("mouseenter",(function(e){var t=e.target;if("rect"===t.get("type")){var n=parseInt(t.get("name").split("-")[2],10),r=o.getClientByPoint(s[n].x,s[n].y);a.show({x:s[n].x,y:s[n].y,clientX:r.x,clientY:r.y,text:i?i(s[n].value):s[n].value})}})),t.on("mouseleave",(function(e){a.hide()}))}));var u=this.group;u.on("".concat(Tb,":click"),(function(){e.isPlay=!e.isPlay,e.changePlayStatus()})),u.on("".concat(kb,":click"),(function(){e.updateStartEnd(1)})),u.on("".concat(Cb,":click"),(function(){e.updateStartEnd(-1)})),u.on(_b,(function(t){t.type;var n=t.speed;e.currentSpeed=n}))},e.prototype.changePlayStatus=function(e){void 0===e&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(wb,null)):this.playHandler&&("undefined"!==typeof window&&window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(Eb,null))},e.prototype.startPlay=function(){var e=this;return"undefined"!==typeof window?window.requestAnimationFrame((function(){var t=e.currentSpeed;e.frameCount%(60/t)===0&&(e.frameCount=0,e.updateStartEnd(1)),e.frameCount++,e.isPlay&&(e.playHandler=e.startPlay())})):void 0},e.prototype.updateStartEnd=function(e){var t=this,n=this.tickRects,r=n.length,i=this.unselectedTickStyle,o=this.selectedTickStyle,a=t.endTickRectId;if(e>0?t.endTickRectId++:(n[t.endTickRectId].rect.attr(i),t.endTickRectId--),a!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var s=t.startTickRectId;s<=t.endTickRectId-1;s++)n[s].rect.attr(i);t.startTickRectId=t.endTickRectId}if(n[t.endTickRectId]){n[t.endTickRectId].rect.attr(o);var u=t.startTickRectId/r,l=t.endTickRectId/r;this.graph.emit(Sb,{value:[u,l]})}},e.prototype.destory=function(){this.graph.off(Sb);var e=this.sliceGroup;e.off("click"),e.off("dragstart"),e.off("dragover"),e.off("drop"),this.tickRects.forEach((function(e){var t=e.pickRect;t.off("mouseenter"),t.off("mouseleave")})),this.tickRects.length=0,e.off("".concat(Tb,":click")),e.off("".concat(kb,":click")),e.off("".concat(Cb,":click")),e.off(_b),this.sliceGroup.destroy()},e}(),ax=ox,sx=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ux=function(){return ux=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ux.apply(this,arguments)},lx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},cx=function(e){function t(t){return e.call(this,t)||this}return sx(t,e),t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:1,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{},filterEdge:!1,filterItemTypes:["node"],containerCSS:{}}},t.prototype.initContainer=function(){var e,t,n=this.get("graph"),r=this._cfgs,i=r.width,o=r.height,a=this.get("className")||"g6-component-timebar",s=this.get("container"),u=this.get("graph").get("container");s?((0,Dr.isString)(s)&&(s=document.getElementById(s)),e=s):Yv(e=Dv("<div class='".concat(a,"'></div>")),{position:"relative"}),u.appendChild(e),this.set("timeBarContainer",e),t="SVG"===n.get("renderer")?new Tg({container:e,width:i,height:o}):new bp({container:e,width:i,height:o}),this.get("containerCSS")&&Yv(e,this.get("containerCSS")),this.set("canvas",t)},t.prototype.init=function(){this.initContainer();var e=this.get("canvas").addGroup({name:"timebar-group"});this.set("timeBarGroup",e),this.renderTrend(),this.initEvent();var t="undefined"!==typeof window&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",t)},t.prototype.renderTrend=function(){var e=this,t=this._cfgs,n=t.width,r=t.x,i=t.y,o=t.padding,a=t.type,s=t.trend,u=t.slider,l=t.controllerCfg,c=t.textStyle,f=t.tick,d=t.backgroundStyle,h=t.foregroundStyle,p=s.data,g=lx(s,["data"]),v=n-2*o,m="trend"===a?26:4,y=this.get("graph"),b=this.get("timeBarGroup"),x=this.get("canvas"),w=null;if("trend"===a||"simple"===a){var E=this.get("getValue");w=new $b(ux(ux({graph:y,canvas:x,group:b,type:a,x:r+o,y:"trend"===a?i+o:i+o+15,width:v,height:m,padding:o,backgroundStyle:d,foregroundStyle:h,trendCfg:ux(ux({},g),{data:p.map((function(e){return(null===E||void 0===E?void 0:E(e))||e.value}))})},u),{tick:{ticks:p,tickLabelFormatter:f.tickLabelFormatter,tickLabelStyle:f.tickLabelStyle,tickLineStyle:f.tickLineStyle},handlerStyle:ux(ux({},u.handlerStyle),{height:u.height||m}),controllerCfg:l,textStyle:c}))}else"tick"===a&&(w=new ax(ux({graph:y,canvas:x,group:b,x:r+o,y:i+o,width:n,height:42,padding:2},f)));var S=function t(){var n=e.get("timebar");n.draggingHandler=!1,n.isPlay&&(n.isPlay=!1,n.currentHandler=n.maxHandlerShape,n.changePlayStatus()),document.removeEventListener("mouseup",t)};x.on("mousedown",(function(e){"maxHandlerShape-handler"!==e.target.get("name")&&"minHandlerShape-handler"!==e.target.get("name")&&e.target!==w.foregroundShape||document.addEventListener("mouseup",S)})),this.set("timebar",w)},t.prototype.filterData=function(e){var t,n=e.value,r=null,i=this._cfgs.type;if("trend"===i||"simple"===i?r=this._cfgs.trend.data:"tick"===i&&(r=this._cfgs.tick.data),r&&0!==r.length){var o=this.get("rangeChange"),a=this.get("graph"),s=Math.round(r.length*n[0]),u=Math.round(r.length*n[1]);u=u>=r.length?r.length-1:u,s=s>=r.length?r.length-1:s;var l=null===(t=this._cfgs.tick)||void 0===t?void 0:t.tickLabelFormatter,c=l?l(r[s]):r[s].date,f=l?l(r[u]):r[u].date;if("tick"!==i)this.get("timebar").setText(c,f);if(o)o(a,c,f);else{(!this.cacheGraphData||this.cacheGraphData.nodes&&0===this.cacheGraphData.nodes.length)&&(this.cacheGraphData=a.get("data"));var d=this.get("filterItemTypes"),h=this.get("changeData"),p=this.get("getDate"),g=this.get("shouldIgnore"),v=r[s].date,m=r[u].date;if(h||void 0===h){var y=this.cacheGraphData.nodes,b=this.cacheGraphData.edges;if(d.includes("node")){y=y.filter((function(e){var t=+((null===p||void 0===p?void 0:p(e))||e.date);return t>=v&&t<=m||(null===g||void 0===g?void 0:g("node",e,{min:v,max:m}))}));var x=y.map((function(e){return e.id}));b&&(b=b.filter((function(e){return x.includes(e.source)&&x.includes(e.target)||(null===g||void 0===g?void 0:g("edge",e,{min:v,max:m}))})))}(this.get("filterEdge")||d.includes("edge"))&&(b=b.filter((function(e){var t=+((null===p||void 0===p?void 0:p(e))||e.date);return t>=v&&t<=m||(null===g||void 0===g?void 0:g("edge",e,{min:v,max:m}))}))),a.changeData({nodes:y,edges:b})}else d.includes("node")&&a.getNodes().forEach((function(e){var t=e.getModel();if(!(null===g||void 0===g?void 0:g("node",t,{min:v,max:m}))){var n=+((null===p||void 0===p?void 0:p(t))||t.date);n<v||n>m?a.hideItem(e):a.showItem(e)}})),(this.get("filterEdge")||d.includes("edge"))&&a.getEdges().forEach((function(e){var t=e.getModel();if(!(null===g||void 0===g?void 0:g("edge",t,{min:r[s].date,max:r[u].date}))){var n=+((null===p||void 0===p?void 0:p(t))||t.date);n<r[s].date||n>r[u].date?a.hideItem(e):a.showItem(e)}}))}}else console.warn("\u8bf7\u914d\u7f6e TimeBar \u7ec4\u4ef6\u7684\u6570\u636e")},t.prototype.initEvent=function(){var e=this,t=0,n=0,r=this._cfgs.type;r&&"trend"!==r&&"simple"!==r?"tick"===r&&(t=this._cfgs.tick.start,n=this._cfgs.tick.end):(t=this._cfgs.slider.start,n=this._cfgs.slider.end);var i=this.get("graph");i.on("afterrender",(function(r){e.filterData({value:[t,n]})})),i.on(Sb,(0,Dr.throttle)((function(t){e.filterData(t)}),200,{trailing:!0,leading:!0}))},t.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),e.prototype.destroy.call(this);var n=this.get("timeBarContainer");if(n){var r=this.get("container");r||(r=this.get("graph").get("container")),(0,Dr.isString)(r)&&(r=document.getElementById(r)),r.removeChild(n)}},t}(Vv),fx=cx,dx=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hx=Yd.applyMatrix;var px=function(e){function t(t){return e.call(this,t)||this}return dx(t,e),t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},t.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},t.prototype.disableRefresh=function(){this.set("refresh",!1)},t.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},t.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},t.prototype.initViewport=function(){var e=this,t=this._cfgs,n=t.graph;if(!this.destroyed){var r=this.get("container");(0,Dr.isString)(r)&&(r=document.getElementById(r));var i=Dv("<div class=".concat(t.viewportClassName,"\n      style='position:absolute;\n        left:0;\n        top:0;\n        box-sizing:border-box;\n        border: 2px solid #1980ff'>\n      </div>")),o=0,a=0,s=!1,u=0,l=0,c=0,f=0,d=0,h=0;r.addEventListener("mousedown",(function(r){if(t.refresh=!1,r.target===i){var u=i.style;c=parseInt(u.width,10),f=parseInt(u.height,10);var l=e.get("width"),p=e.get("height");c>l||f>p||(h=n.getZoom(),d=e.get("ratio"),s=!0,o=r.clientX,a=r.clientY)}}),!1),r.addEventListener("mousemove",(function(t){if(s&&!(0,Dr.isNil)(t.clientX)&&!(0,Dr.isNil)(t.clientY)){var r=e.get("width"),p=e.get("height"),g=i.style;u=parseInt(g.left,10),l=parseInt(g.top,10),c=parseInt(g.width,10),f=parseInt(g.height,10);var v=o-t.clientX,m=a-t.clientY;u-v<0?v=u:u-v+c>=r&&(v=0),l-m<0?m=l:l-m+f>=p&&(m=0),l-=m,Yv(i,{left:"".concat(u-=v,"px"),top:"".concat(l,"px")}),n.translate(v*h/d,m*h/d),o=t.clientX,a=t.clientY}}),!1),r.addEventListener("mouseleave",(function(){s=!1,t.refresh=!0}),!1),r.addEventListener("mouseup",(function(){s=!1,t.refresh=!0}),!1),this.set("viewport",i),r.appendChild(i)}},t.prototype.updateViewport=function(){if(!this.destroyed){var e=this.get("ratio"),t=this.get("width"),n=this.get("height"),r=this.get("graph"),i=r.get("width"),o=i/r.get("height"),a=r.getGroup(),s=a.getCanvasBBox(),u=[(s.minX+s.maxX)/2,(s.minY+s.maxY)/2],l=[s.maxX-s.minX,s.maxY-s.minY],c={centerX:u[0],centerY:u[1],width:0,height:0,minX:0,minY:0};s[0]/s[1]>o?(c.width=l[0],c.height=c.width/o):(c.height=l[1],c.width=c.height*o),c.minX=u[0]-c.width/2,c.minY=u[1]-c.height/2;var f=a.getMatrix();f||(f=[1,0,0,0,1,0,0,0,1]);var d=zr.invert([1,0,0,0,1,0,0,0,1],f),h=hx({x:c.minX,y:c.minY},d),p=r.getCanvasByPoint(h.x,h.y),g=this.get("viewport");g||this.initViewport();var v=i/c.width,m=v*t,y=v*n,b=t*-p.x/c.width,x=n*-p.y/c.height,w=b+m,E=x+y;b<0&&(m+=b,b=0),w>t&&(m-=w-t),x<0&&(y+=x,x=0),E>n&&(y-=E-n),this.set("ratio",e),Yv(g,{left:"".concat(b,"px"),top:"".concat(x,"px"),width:"".concat(m,"px"),height:"".concat(y,"px")})}},t.prototype.init=function(){this.initContainer()},t.prototype.initContainer=function(){var e=this,t=e.get("graph"),n=t.get("width"),r=t.get("height")/n,i=e.get("className"),o=e.get("container"),a=e.get("width"),s=e.get("height");a||s||(a=200),a?(s=r*a,e.set("height",s)):(a=1/r*s,e.set("width",a));var u=Dv("<div class='".concat(i,"' style='width: ").concat(a,"px; height: ").concat(s,"px; overflow: hidden; position: relative;'></div>"));(0,Dr.isString)(o)&&(o=document.getElementById(o)),o?o.appendChild(u):t.get("container").appendChild(u),e.set("container",u);var l=Dv('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');u.appendChild(l);var c=Dv('<span style="display: table-cell; vertical-align: middle; "></span>');l.appendChild(c),e.set("containerDOM",l),e.set("containerSpan",c);var f=Dv('<img alt="" src="'.concat(this.get("graphImg"),'" style="display: inline-block; user-select: none;" draggable="false" />'));e.set("imgDOM",f),e.updateImgSize(),c.appendChild(f),e.updateCanvas()},t.prototype.updateImgSize=function(){var e=this,t=e.get("imgDOM"),n=e.get("width"),r=e.get("height");t.onload=function(){var e=function(e,t){var n,r;if(e.naturalWidth)n=e.naturalWidth,r=e.naturalHeight;else{var i=new Image;i.src=e.src,i.onload=function(){t&&t(i.width,i.height)}}return[n,r]}(t);e[0]>e[1]?t.width=n:t.height=r}},t.prototype.updateCanvas=function(){if(this.get("refresh")){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var t=this.get("width")/e.get("canvas").getCanvasBBox().width;this.set("ratio",t),this.updateViewport()}}},t.prototype.getViewport=function(){return this.get("viewport")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.updateGraphImg=function(e){var t=this;t.get("imgDOM").remove(),t.set("graphImg",e);var n=Dv('<img alt="" src="'.concat(e,'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>'));t.set("imgDOM",n),n.src=e,t.updateImgSize(),t.get("containerSpan").appendChild(n),t.updateCanvas()},t.prototype.destroy=function(){var e=this.get("container");e.parentNode.removeChild(e)},t}(Vv),gx=px,vx=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mx=function(){return mx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mx.apply(this,arguments)},yx=Yd.distance,bx={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},xx=function(e){function t(t){return e.call(this,t)||this}return vx(t,e),t.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,Dr.clone)(bx),showLabel:"edge",scaleRBy:"wheel"}},t.prototype.getEvents=function(){var e;switch(this.get("trigger")){case"click":e={click:"filter"};break;case"drag":e={click:"createDelegate"};break;default:e={mousemove:"filter"}}return e},t.prototype.init=function(){var e=this,t=e.get("showLabel"),n="node"===t||"both"===t,r="edge"===t||"both"===t;e.set("showNodeLabel",n),e.set("showEdgeLabel",r),e.get("shouldShow")||e.set("shouldShow",(function(){return!0}))},t.prototype.createDelegate=function(e){var t=this,n=t.get("delegate");n&&!n.destroyed||(t.filter(e),(n=t.get("delegate")).on("dragstart",(function(e){})),n.on("drag",(function(e){t.filter(e)})),"wheel"===this.get("scaleRBy")&&n.on("mousewheel",(function(e){t.scaleRByWheel(e)})))},t.prototype.scaleRByWheel=function(e){var t=this;if(e&&e.originalEvent){e.preventDefault&&e.preventDefault();var n,r=t.get("graph"),i=t.get("delegate");(i?{x:i.attr("x"),y:i.attr("y")}:void 0)||r.getPointByClient(e.clientX,e.clientY);n=e.originalEvent.wheelDelta<0?.95:1/.95;var o=t.get("maxR"),a=t.get("minR"),s=t.get("r");(s>(o||r.get("height"))&&n>1||s<(a||.05*r.get("height"))&&n<1)&&(n=1),s*=n,t.set("r",s),t.filter(e)}},t.prototype.filter=function(e){var t=this,n=t.get("graph"),r=n.getNodes(),i={},o=t.get("r"),a=t.get("type"),s={x:e.x,y:e.y};t.updateDelegate(s,o);var u=t.get("shouldShow"),l=t.get("vShapes");l&&l.forEach((function(e){e.remove(),e.destroy()})),l=[],r.forEach((function(e){var t=e.getModel(),n=t.x,r=t.y;yx({x:n,y:r},s)<o&&(i[t.id]=e)}));var c=n.getEdges(),f=[];c.forEach((function(e){var t=e.getModel(),n=t.source,r=t.target;u(t)&&("only-source"===a||"one"===a?i[n]&&!i[r]&&f.push(e):"only-target"===a||"one"===a?i[r]&&!i[n]&&f.push(e):"both"===a&&i[n]&&i[r]&&f.push(e))}));var d=t.get("showNodeLabel"),h=t.get("showEdgelabel"),p=n.get("group");f.forEach((function(e){e.get("group").get("children").forEach((function(e){var t=e.get("type"),n=p.addShape(t,{attrs:e.attr()});l.push(n),d&&"text"===t&&n.set("visible",!0)}))})),Object.keys(i).forEach((function(e){var t=i[e].get("group").clone();if(p.add(t),l.push(t),h)for(var n=t.get("children"),r=0;r<n.length;r++){var o=n[r];"text"===o.get("type")&&o.set("visible",!0)}})),t.set("vShapes",l)},t.prototype.updateParams=function(e){var t=this,n=e.r,r=e.trigger,i=e.minR,o=e.maxR,a=e.scaleRBy,s=e.showLabel,u=e.shouldShow;if(isNaN(e.r)||t.set("r",n),isNaN(o)||t.set("maxR",o),isNaN(i)||t.set("minR",i),"mousemove"!==r&&"click"!==r||t.set("trigger",r),"wheel"===a||"unset"===a){t.set("scaleRBy",a),t.get("delegate").remove(),t.get("delegate").destroy();var l=t.get("dPercentText");l&&(l.remove(),l.destroy())}"node"!==s&&"both"!==s||t.set("showNodeLabel",!0),"edge"!==s&&"both"!==s||t.set("showEdgeLabel",!0),u&&t.set("shouldShow",u)},t.prototype.updateDelegate=function(e,t){var n=this,r=n.get("graph"),i=n.get("delegate");if(!i||i.destroyed){var o=r.get("group"),a=n.get("delegateStyle")||bx;i=o.addShape("circle",{attrs:mx({r:t,x:e.x,y:e.y},a),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&"wheel"===this.get("scaleRBy")&&i.on("mousewheel",(function(e){n.scaleRByWheel(e)}))}else i.attr({x:e.x,y:e.y,r:t});n.set("delegate",i)},t.prototype.clear=function(){var e=this,t=e.get("vShapes");t&&t.forEach((function(e){e.remove(),e.destroy()})),t=[],e.set("vShapes",t);var n=e.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},t.prototype.destroy=function(){this.clear()},t}(Vv),wx=xx,Ex=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sx=Yd.pointLineDistance,_x={stroke:"#FA8C16",lineWidth:1},Tx=function(e){function t(t){return e.call(this,t)||this}return Ex(t,e),t.prototype.getDefaultCfgs=function(){return{line:_x,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},t.prototype.init=function(){},t.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},t.prototype.onDragStart=function(){this.initBoxLine()},t.prototype.onDrag=function(e){var t=e.item,n=(t.get("delegateShape")||t).getBBox(),r=t.getModel(),i=r.x-n.x,o=r.y-n.y;this.show({x:n.minX+i,y:n.minY+o},{width:n.width,height:n.height})},t.prototype.onDragEnd=function(){this.destory()},t.prototype.initBoxLine=function(){var e=this._cfgs,t=e.horizontalLines,n=e.verticalLines,r=e.itemAlignType;this.get("graph").getNodes().forEach((function(e){var i=e.getBBox(),o=e.get("id");!0===r||"horizontal"===r?(t["".concat(o,"tltr")]=[i.minX,i.minY,i.maxX,i.minY,e],t["".concat(o,"lcrc")]=[i.minX,i.centerY,i.maxX,i.centerY,e],t["".concat(o,"blbr")]=[i.minX,i.maxY,i.maxX,i.maxY,e]):"center"===r&&(t["".concat(o,"lcrc")]=[i.minX,i.centerY,i.maxX,i.centerY,e]),!0===r||"vertical"===r?(n["".concat(o,"tlbl")]=[i.minX,i.minY,i.minX,i.maxY,e],n["".concat(o,"tcbc")]=[i.centerX,i.minY,i.centerX,i.maxY,e],n["".concat(o,"trbr")]=[i.maxX,i.minY,i.maxX,i.maxY,e]):"center"===r&&(n["".concat(o,"tcbc")]=[i.centerX,i.minY,i.centerX,i.maxY,e])}))},t.prototype.show=function(e,t){var n=(0,Dr.mix)({},e);return this.itemAlign(e,t,n),e},t.prototype.itemAlign=function(e,t,n){var r=this,i=this._cfgs,o=i.horizontalLines,a=i.verticalLines,s=i.tolerance,u={x:n.x+t.width/2,y:n.y},l={x:n.x+t.width/2,y:n.y+t.height/2},c={x:n.x+t.width/2,y:n.y+t.height},f={x:n.x,y:n.y+t.height/2},d={x:n.x+t.width,y:n.y+t.height/2},h=[],p=[],g=null;if(this.clearAlignLine(),(0,Dr.each)(o,(function(e){e[4].isVisible&&(h.push(r.getLineDisObject(e,u)),h.push(r.getLineDisObject(e,l)),h.push(r.getLineDisObject(e,c)))})),(0,Dr.each)(a,(function(e){e[4].isVisible&&(p.push(r.getLineDisObject(e,f)),p.push(r.getLineDisObject(e,l)),p.push(r.getLineDisObject(e,d)))})),h.sort((function(e,t){return e.dis-t.dis})),p.sort((function(e,t){return e.dis-t.dis})),0!==h.length&&h[0].dis<s){e.y=h[0].line[1]-h[0].point.y+n.y,g={type:"item",horizontals:[h[0]]};for(var v=1;v<3;v++)h[0].dis===h[v].dis&&g.horizontals.push(h[v])}if(0!==p.length&&p[0].dis<s){e.x=p[0].line[0]-p[0].point.x+n.x,g?g.verticals=[p[0]]:g={type:"item",verticals:[p[0]]};for(v=1;v<3;v++)p[0].dis===p[v].dis&&g.verticals.push(p[v])}g&&(g.bbox=t,this.addAlignLine(g))},t.prototype.addAlignLine=function(e){var t=e.bbox,n=e.type,r=e.horizontals,i=e.verticals,o=this._cfgs,a=o.line,s=o.alignLines,u=this.get("graph").get("group");"item"===n&&(r&&(0,Dr.each)(r,(function(e){var n,r,i=e.line,o=e.point,l=(i[0]+i[2])/2;o.x<l?(n=o.x-t.width/2,r=Math.max(i[0],i[2])):(n=o.x+t.width/2,r=Math.min(i[0],i[2]));var c=(0,Dr.mix)({x1:n,y1:i[1],x2:r,y2:i[1]},a),f=u.addShape("line",{attrs:c,capture:!1});s.push(f)})),i&&(0,Dr.each)(i,(function(e){var n,r,i=e.line,o=e.point,l=(i[1]+i[3])/2;o.y<l?(n=o.y-t.height/2,r=Math.max(i[1],i[3])):(n=o.y+t.height/2,r=Math.min(i[1],i[3]));var c=(0,Dr.mix)({x1:i[0],y1:n,x2:i[0],y2:r},a),f=u.addShape("line",{attrs:c,capture:!1});s.push(f)})))},t.prototype.getLineDisObject=function(e,t){return{line:e,point:t,dis:Sx(e,t)}},t.prototype.getContainer=function(){return this.get("container")},t.prototype.clearAlignLine=function(){var e=this._cfgs.alignLines;(0,Dr.each)(e,(function(e){e.remove()})),e.length=0},t.prototype.destory=function(){var e=this._cfgs,t=e.horizontalLines,n=e.verticalLines;this.get("graph").getNodes().forEach((function(e){var r=e.get("id");delete t["".concat(r,"tltr")],delete t["".concat(r,"lcrc")],delete t["".concat(r,"blbr")],delete n["".concat(r,"tlbl")],delete n["".concat(r,"tcbc")],delete n["".concat(r,"trbr")]})),this.clearAlignLine()},t}(Vv),kx=Tx,Cx=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mx=function(){return Mx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Mx.apply(this,arguments)},Ax=["click","mouseenter"],Nx=function(e){function t(t){return e.call(this,t)||this}return Cx(t,e),t.prototype.getDefaultCfgs=function(){return{data:{},position:"top",padding:8,margin:8,offsetX:0,offsetY:0,layout:"horizontal",flipPage:!1,containerStyle:{},align:void 0,horiSep:8,vertiSep:8,filter:{enable:!1,trigger:"click"}}},t.prototype.init=function(){this.formatArray("padding"),this.formatArray("margin");var e=this.get("filter")||{};e.multiple&&"mouseenter"===e.trigger&&this.set("multiple",!1);var t=this.get("align");if(!t){var n=this.get("position").split("-");n.includes("left")&&(t="left"),t=n.includes("right")?"right":"center",this.set("align",t)}var r=this.get("graph").get("container"),i=Dv("<div class='g6-legend-container' style=\"position: absolute;\"></div>");r.appendChild(i),this.set("container",i);var o=this.render();Yv(i,this.getContainerPos(o)),this.bindEvents()},t.prototype.getContainerPos=function(e){void 0===e&&(e=[0,0]);var t=this.get("graph"),n=this.get("offsetX"),r=this.get("offsetY"),i=this.get("margin"),o=this.get("position").split("-"),a={top:0,right:1,bottom:2,left:3},s={left:(t.getWidth()-e[0])/2+0,top:(t.getHeight()-e[1])/2+0};return o.forEach((function(n){var r=i[a[n]],o=n;switch(n){case"top":case"left":r+=0;break;case"bottom":r=t.getHeight()-e[1]-r+0,o="top";break;default:r=t.getWidth()-e[0]-r+0,o="left"}s[o]=r})),s.top+=r+t.getContainer().offsetTop,s.left+=n+t.getContainer().offsetLeft,Object.keys(s).forEach((function(e){s[e]="".concat(s[e],"px")})),s},t.prototype.bindEvents=function(){var e=this,t=e.get("filter");if(t&&t.enable){var n=t.trigger||"click";Ax.includes(n)||(console.warn("Trigger for legend filterling must be 'click' or 'mouseenter', 'click' will take effect by default."),n="click");var r=e.get("legendCanvas");"mouseenter"===n?(r.on("node-container:mouseenter",(function(t){return e.filterData(t)})),r.on("node-container:mouseleave",(function(t){e.clearFilter(),e.clearActiveLegend()}))):(r.on("node-container:click",(function(t){return e.filterData(t)})),r.on("click",(function(t){t.target&&t.target.isCanvas&&t.target.isCanvas()&&(e.clearFilter(),e.clearActiveLegend())})))}},t.prototype.changeData=function(e){this.set("data",e);var t=this.render();Yv(this.get("container"),this.getContainerPos(t))},t.prototype.activateLegend=function(e){var t=this.get("filter");(null===t||void 0===t?void 0:t.multiple)||this.clearActiveLegend();var n=e.get("parent");n.get("active")?(n.set("active",!1),this.findLegendItemsByState("active").length&&n.set("inactive",!0)):(n.set("inactive",!1),n.set("active",!0)),this.findLegendItemsByState("active").length?this.findLegendItemsByState("active","all",!1).forEach((function(e){e.set("inactive",!0)})):this.clearActiveLegend();var r=(null===t||void 0===t?void 0:t.lengedStateStyles)||{},i=(null===r||void 0===r?void 0:r.inactive)||{opacity:.5,"text-shape":{opacity:.5}},o=i["text-shape"]||{};this.findLegendItemsByState("inactive").forEach((function(e){var t=e.get("children"),n=t[0],r=t[1];n.attr(Mx(Mx({},n.get("oriAttrs")),i)),r.attr(Mx(Mx({},r.get("oriAttrs")),o))}));var a=(null===r||void 0===r?void 0:r.active)||{stroke:"#000",lineWidth:2,"text-shape":{fontWeight:"bold"}},s=a["text-shape"]||{};this.findLegendItemsByState("active").forEach((function(e){var t=e.get("children"),n=t[0],r=t[1];n.attr(Mx(Mx({},n.get("oriAttrs")),a)),r.attr(Mx(Mx({},r.get("oriAttrs")),s))}))},t.prototype.findLegendItemsByState=function(e,t,n){void 0===t&&(t="all"),void 0===n&&(n=!0);var r=this.get("legendCanvas").find((function(e){return"root"===e.get("name")})),i=r.find((function(e){return"node-group"===e.get("name")})),o=r.find((function(e){return"edge-group"===e.get("name")}));return"node"===t?i.get("children").filter((function(t){return!!t.get(e)===n})):"edge"===t?o.get("children").filter((function(t){return!!t.get(e)===n})):i.get("children").filter((function(t){return!!t.get(e)===n})).concat(o.get("children").filter((function(t){return!!t.get(e)===n})))},t.prototype.clearActiveLegend=function(){var e=this.get("legendCanvas").find((function(e){return"root"===e.get("name")})),t=[e.find((function(e){return"node-group"===e.get("name")})),e.find((function(e){return"edge-group"===e.get("name")}))];t.forEach((function(e){e.get("children").forEach((function(e){e.set("active",!1),e.set("inactive",!1);var t=e.get("children"),n=t[0],r=t[1];n.attr(n.get("oriAttrs")),r.attr(r.get("oriAttrs"))}))}))},t.prototype.filterData=function(e){var t=this.get("filter"),n=null===t||void 0===t?void 0:t.filterFunctions;if(t&&n){var r=this.get("legendCanvas"),i=this.get("graph"),o=t.graphActiveState||"active",a=t.graphInactiveState||"inactive",s=t.multiple;this.clearFilter(),s||this.clearActiveLegend(),this.activateLegend(e.target);var u=r.find((function(e){return"root"===e.get("name")})),l=u.find((function(e){return"node-group"===e.get("name")})),c=u.find((function(e){return"edge-group"===e.get("name")})),f=l.get("children").filter((function(e){return e.get("active")})),d=c.get("children").filter((function(e){return e.get("active")})),h=0,p=["getNodes","getEdges"];p.forEach((function(e){i[e]().forEach((function(t){var r=!1;("getNodes"===e?f:d).forEach((function(e){var i=n[e.get("id")];r=r||i(t.getModel())})),r?(i.setItemState(t,a,!1),i.setItemState(t,o,!0),h++):(i.setItemState(t,o,!1),i.setItemState(t,a,!0))}))})),h||p.forEach((function(e){i[e]().forEach((function(e){i.clearItemStates(e,[a])}))}))}},t.prototype.clearFilter=function(){var e=this.get("graph"),t=this.get("filter");if(t){var n=t.graphActiveState||"active",r=t.graphInactiveState||"inactive";e.getNodes().forEach((function(t){e.clearItemStates(t,[n,r])})),e.getEdges().forEach((function(t){e.clearItemStates(t,[n,r])}))}},t.prototype.render=function(){var e=this;this.processData();var t=this.get("legendCanvas");if(!t){var n=(t=new bp({container:this.get("container"),width:200,height:200})).addGroup({name:"root"});n.addGroup({name:"node-group"}),n.addGroup({name:"edge-group"}),this.set("legendCanvas",t)}var r=t.find((function(e){return"root"===e.get("name")})),i=r.find((function(e){return"node-group"===e.get("name")})),o=r.find((function(e){return"edge-group"===e.get("name")})),a=this.get("itemsData"),s=[i,o];["nodes","edges"].forEach((function(t,n){a[t].forEach((function(r){var i,o,a=s[n].addGroup({id:r.id,name:"node-container"}),u=r.type,l=e.getShapeSize(r),c=l.width,f=l.height,d=l.r,h=e.getStyle(t.substr(0,4),r);switch(r.type){case"circle":default:o={r:d,x:0,y:0};break;case"rect":o={width:c,height:f,x:-c/2,y:-f/2};break;case"ellipse":o={r1:c,r2:f,x:0,y:0};break;case"line":o={x1:-c/2,y1:0,x2:c/2,y2:0},u="line";break;case"quadratic":o={path:[["M",-c/2,0],["Q",0,c/2,c/2,0]]},u="path";break;case"cubic":o={path:[["M",-c/2,0],["C",-c/6,c/2,c/6,-c/2,c/2,0]]},u="path"}var p=a.addShape(u,{attrs:Mx(Mx({},o),h),name:"".concat(r.type,"-node-keyShape"),oriAttrs:Mx({opacity:1},h)});if(r.label){var g=p.getBBox(),v=(null===(i=r.labelCfg)||void 0===i?void 0:i.style)||{},m=Mx({textAlign:"begin",fontSize:12,textBaseline:"middle",fill:"#000",opacity:1,fontWeight:"normal"},v);a.addShape("text",{attrs:Mx({x:g.maxX+4,y:0,text:r.label},m),className:"legend-label",name:"".concat(r.type,"-node-text"),oriAttrs:m})}}))}));var u,l=this.get("padding"),c=r.find((function(e){return"title-container"===e.get("name")})),f={height:0,maxY:0,width:0};if(this.get("title")){c||(c=r.addGroup({name:"title-container"}));var d={fontSize:20,fontFamily:"Arial",fontWeight:300,textBaseline:"top",textAlign:"center",fill:"#000",x:0,y:l[0]},h=this.get("titleConfig")||{},p=Object.assign(d,h.style||{});u=c.addShape("text",{attrs:Mx({text:this.get("title")},p)}),f=c.getCanvasBBox(),c.setMatrix([1,0,0,0,1,0,h.offsetX,h.offsetY,1])}this.layoutItems();var g=r.getCanvasBBox(),v=i.getCanvasBBox(),m=v.minX<0?Math.abs(v.minX)+l[3]:l[3],y=f.maxY<v.minY?Math.abs(f.maxY-v.minY)+l[0]:f.maxY+l[0],b=[1,0,0,0,1,0,m,y,1];i.setMatrix(b);var x=[(g=r.getCanvasBBox()).minX+g.width+l[1],g.minY+g.height+l[2]];if(u){h=Mx({position:"center",offsetX:0,offsetY:0},this.get("titleConfig"));f=c.getCanvasBBox();var w=c.getMatrix()||[1,0,0,0,1,0,0,0,1];"center"===h.position?w[6]=x[0]/2+h.offsetX:"right"===h.position?(w[6]=x[0]-l[3]+h.offsetX,u.attr({textAlign:"right"})):(w[6]=l[3]+h.offsetX,u.attr({textAlign:"left"})),c.setMatrix(w),f=c.getCanvasBBox(),b=[1,0,0,0,1,0,m=v.minX<0?Math.abs(v.minX)+l[3]:l[3],y=v.minY<f.maxY?Math.abs(f.maxY-v.minY)+l[0]:f.maxY+l[0],1],i.setMatrix(b);var E=[1,0,0,0,1,0,m,y,1];"vertical"===this.get("layout")?E[6]+=v.maxX+this.get("horiSep"):E[7]+=v.maxY+this.get("vertiSep"),o.setMatrix(E)}else{v=i.getCanvasBBox();var S=[1,0,0,0,1,0,0,0,1];"vertical"===this.get("layout")?S[6]+=b[6]+v.maxX+this.get("horiSep"):S[7]+=b[7]+v.maxY+this.get("vertiSep"),o.setMatrix(S)}g=r.getCanvasBBox(),v=i.getCanvasBBox(),b=i.getMatrix()||[1,0,0,0,1,0,0,0,1];var _=o.getMatrix()||[1,0,0,0,1,0,0,0,1],T=o.getCanvasBBox();x=[Math.max(v.width+b[6],T.width+_[6])+l[1],Math.max(v.height+b[7],T.height+_[7])+l[2]],t.changeSize(x[0],x[1]);var k=this.get("containerStyle"),C=r.getMatrix()||[1,0,0,0,1,0,0,0,1],M=Yd.invertMatrix({x:0,y:0},C);return r.addShape("rect",{attrs:Mx({x:M.x+(k.lineWidth||1),y:M.y+(k.lineWidth||1),width:x[0]-2*(k.lineWidth||1),height:x[1]-2*(k.lineWidth||1),fill:"#f00",stroke:"#000",lineWidth:1,opacity:.5},k),name:"legend-back-rect",capture:!1}).toBack(),x},t.prototype.layoutItems=function(){var e=this.get("legendCanvas"),t=this.get("horiSep"),n=this.get("vertiSep"),r=this.get("layout"),i=this.get("align"),o=[0,0],a=e.find((function(e){return"root"===e.get("name")})),s=a.find((function(e){return"node-group"===e.get("name")})),u=a.find((function(e){return"edge-group"===e.get("name")})),l={min:0,max:-1/0},c=-1/0;s.get("children").forEach((function(e,i){0===i&&(l.min=o[0]);var a=e.get("children")[0],s=e.getCanvasBBox(),u=a.getBBox(),f=u.width,d=u.height,h=0,p=0,g=0;"vertical"===r?(p=o[1],g=o[0]+f/2,o[0]=g+s.height+n,h=s.maxX+p+f/2):(p=o[0]+f/2,g=o[1],o[0]=p+s.width+t,h=s.maxY+g+d/2),o[0]>l.max&&(l.max=o[0]),h>c&&(c=h),e.setMatrix([1,0,0,0,1,0,p,g,1])}));var f=l.max-l.min,d={min:0,max:-1/0},h=s.getCanvasBBox();o[0]=0,o[1]="vertical"===r?h.maxX+t:h.maxY+n,u.get("children").forEach((function(e,i){0===i&&(d.min=o[0]);var a=e.get("children")[0],s=e.getCanvasBBox(),u=a.getBBox(),l=u.width,c=u.height,f=0,h=0;"vertical"===r?(f=o[1],h=o[0],o[0]=h+s.height+n,e.setMatrix([1,0,0,0,1,0,0,h+c/2,1])):(f=o[0],h=o[1],o[0]=f+s.width+t,e.setMatrix([1,0,0,0,1,0,f+l/2,0,1])),o[0]>d.max&&(d.max=o[0])}));var p=d.max-d.min;if(i&&""!==i&&"left"!==i){var g=f-p,v="center"===i?Math.abs(g)/2:Math.abs(g);(g<0?s:u).get("children").forEach((function(e){var t=e.getMatrix()||[1,0,0,0,1,0,0,0,1];"vertical"===r?t[7]+=v:t[6]+=v,e.setMatrix(t)}))}},t.prototype.processData=function(){var e=this.get("data"),t={nodes:[],edges:[]};e.nodes&&(e.nodes.sort((function(e,t){return e.order-t.order})),e.nodes.forEach((function(e){var n,r,i,o,a,s=e.size||[(null===(n=e.style)||void 0===n?void 0:n.width)||(null===(r=e.style)||void 0===r?void 0:r.r)||8,(null===(i=e.style)||void 0===i?void 0:i.height)||(null===(o=e.style)||void 0===o?void 0:o.r)||8],u=(null===(a=e.labelCfg)||void 0===a?void 0:a.style)||{};t.nodes.push({id:e.id||(0,Dr.uniqueId)(),type:e.type||"circle",style:Mx({},e.style),order:e.order,label:e.label,itemType:"node",size:s,labelCfg:{position:"right",style:Mx({fontFamily:"Arial"},u)}})}))),e.edges&&(e.edges.sort((function(e,t){return e.order-t.order})),e.edges.forEach((function(e){var n,r,i=e.type||"line";"cubic-horizontal"===e.type&&(i="cubic");var o=(null===(n=e.labelCfg)||void 0===n?void 0:n.style)||{},a=e.size||[(null===(r=e.style)||void 0===r?void 0:r.width)||8,1];t.edges.push({id:e.id||(0,Dr.uniqueId)(),type:i,size:a,style:Mx({lineWidth:(0,Dr.isArray)(a)?a[1]:1},e.style),order:e.order,label:e.label,itemType:"edge",labelCfg:{position:"right",style:Mx({fontFamily:"Arial"},o)}})}))),this.set("itemsData",t)},t.prototype.getContainer=function(){return this.get("container")},t.prototype.formatArray=function(e){var t=this.get(e);if((0,Dr.isNumber)(t))this.set(e,[t,t,t,t]);else if((0,Dr.isArray)(t))switch(t.length){case 0:this.set(e,[0,0,0,0]);break;case 1:this.set(e,[t[0],t[0],t[0],t[0]]);break;case 2:this.set(e,[t[0],t[1],t[0],t[1]]);break;case 3:this.set(e,[t[0],t[1],t[2],t[1]])}return this.get(e)},t.prototype.getShapeSize=function(e){var t,n,r;return e.size&&((0,Dr.isArray)(e.size)?(t=e.size[0],n=e.size[1]||e.size[0],r=e.size[0]/2):(0,Dr.isNumber)(e.size)&&(t=e.size,n=e.size,r=e.size/2)),e.style&&(e.style.width&&(t=e.style.width),e.style.height&&(n=e.style.height),e.style.r&&(r=e.style.r)),r||(r=5),t||(t=r),n||(n=r),{width:t,height:n,r:r}},t.prototype.getStyle=function(e,t){return Mx(Mx({},"node"===e?{fill:"#ccc",lineWidth:0}:{stroke:"#000",lineWidth:1}),t.style||{})},t.prototype.destroy=function(){var e=this.get("graph").get("container"),t=this.get("container");e.removeChild(t)},t}(Vv),Px={PluginBase:Vv,Menu:$v,Grid:Hv,Minimap:im,Bundling:lm,ToolBar:mm,Tooltip:xm,Fisheye:pm,TimeBar:fx,ImageMinimap:gx,EdgeFilterLens:wx,SnapLine:kx,Legend:Nx};Zd("circle",{options:{size:qd.defaultNode.size,style:{x:0,y:0,stroke:qd.defaultNode.style.stroke,fill:qd.defaultNode.style.fill,lineWidth:qd.defaultNode.style.lineWidth},labelCfg:{style:{fill:qd.nodeLabel.style.fill,fontSize:qd.nodeLabel.style.fontSize,fontFamily:qd.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:qd.defaultNode.linkPoints.size,lineWidth:qd.defaultNode.linkPoints.lineWidth,fill:qd.defaultNode.linkPoints.fill,stroke:qd.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Ir.__assign)({},qd.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=(0,Dr.deepMix)({},r,e.icon),a="".concat(this.type,"-keyShape"),s=t.addShape("circle",{attrs:i,className:a,name:a,draggable:!0});t.shapeMap[a]=s;var u=o.width,l=o.height,c=o.show,f=o.text;if(c){var d="".concat(this.type,"-icon");t.shapeMap[d]=f?t.addShape("text",{attrs:(0,Ir.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:d,name:d,draggable:!0}):t.addShape("image",{attrs:(0,Ir.__assign)({x:-u/2,y:-l/2},o),className:d,name:d,draggable:!0})}return this.drawLinkPoints(e,t),s},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints;if(n){var r=n||{},i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,l=r.r,c=(0,Ir.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e)[0]/2;if(o){var d="link-point-left";t.shapeMap[d]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},c),{x:-f,y:0,r:u/2||l||5}),className:d,name:d,isAnchorPoint:!0})}if(a){var h="link-point-right";t.shapeMap[h]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},c),{x:f,y:0,r:u/2||l||5}),className:h,name:h,isAnchorPoint:!0})}if(i){var p="link-point-top";t.shapeMap[p]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},c),{x:0,y:-f,r:u/2||l||5}),className:p,name:p,isAnchorPoint:!0})}if(s){var g="link-point-bottom";t.shapeMap[g]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},c),{x:0,y:f,r:u/2||l||5}),className:g,name:g,isAnchorPoint:!0})}}},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,Dr.deepMix)({},t,n),i=this.getSize(e)[0]/2;return(0,Ir.__assign)({x:0,y:0,r:i},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getSize(e),o=(0,Ir.__assign)({},e.style);void 0===e.style.stroke&&e.color&&(o.stroke=e.color),void 0!==e.style.r||isNaN(i[0])||(o.r=i[0]/2),this.updateShape(e,t,o,!0,n),this.updateLinkPoints(e,r)}},"single-node"),Zd("rect",{options:{size:[100,30],style:{radius:0,stroke:qd.defaultNode.style.stroke,fill:qd.defaultNode.style.fill,lineWidth:qd.defaultNode.style.lineWidth},labelCfg:{style:{fill:qd.nodeLabel.style.fill,fontSize:qd.nodeLabel.style.fontSize,fontFamily:qd.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:qd.defaultNode.linkPoints.size,lineWidth:qd.defaultNode.linkPoints.lineWidth,fill:qd.defaultNode.linkPoints.fill,stroke:qd.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,Ir.__assign)({},qd.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(e,t){var n=this.getShapeStyle(e),r=t.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return t.shapeMap["".concat(this.type,"-keyShape")]=r,this.drawLinkPoints(e,t),r},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,l=r.r,c=(0,Ir.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e),d=f[0],h=f[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},c),{x:-d/2,y:0,r:u/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},c),{x:d/2,y:0,r:u/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},c),{x:0,y:-h/2,r:u/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},c),{x:0,y:h/2,r:u/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,Dr.mix)({},t,n),i=this.getSize(e),o=r.width||i[0],a=r.height||i[1];return(0,Ir.__assign)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getSize(e),a=t.get("keyShape");e.size||(o[0]=a.attr("width")||i.width,o[1]=a.attr("height")||i.height);var s={stroke:e.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},u=(0,Dr.mix)({},i,a.attr(),s);u=(0,Dr.mix)(u,e.style),this.updateShape(e,t,u,!1,n),this.updateLinkPoints(e,r)}},"single-node"),Zd("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:qd.defaultNode.style.stroke,fill:qd.defaultNode.style.fill,lineWidth:qd.defaultNode.style.lineWidth},labelCfg:{style:{fill:qd.nodeLabel.style.fill,fontSize:qd.nodeLabel.style.fontSize,fontFamily:qd.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:qd.defaultNode.linkPoints.size,lineWidth:qd.defaultNode.linkPoints.lineWidth,fill:qd.defaultNode.linkPoints.fill,stroke:qd.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Ir.__assign)({},qd.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=t.addShape("ellipse",{attrs:i,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0});t.shapeMap["ellipse-keyShape"]=o;var a=r.width,s=r.height,u=r.show,l=r.text;return u&&(t.shapeMap["".concat(this.type,"-icon")]=l?t.addShape("text",{attrs:(0,Ir.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.addShape("image",{attrs:(0,Ir.__assign)({x:-a/2,y:-s/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,l=r.r,c=(0,Ir.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e),d=f[0]/2,h=f[1]/2;o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},c),{x:-d,y:0,r:u/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},c),{x:d,y:0,r:u/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},c),{x:0,y:-h,r:u/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},c),{x:0,y:h,r:u/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,Dr.mix)({},t,n),i=this.getSize(e),o=i[0]/2,a=i[1]/2;return(0,Ir.__assign)({x:0,y:0,rx:o,ry:a},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getSize(e),a={stroke:e.color,rx:o[0]/2,ry:o[1]/2},s=t.get("keyShape"),u=(0,Dr.mix)({},i,s.attr(),a);u=(0,Dr.mix)(u,e.style),this.updateShape(e,t,u,!0,n),this.updateLinkPoints(e,r)}},"single-node"),Zd("diamond",{options:{size:[80,80],style:{stroke:qd.defaultNode.style.stroke,fill:qd.defaultNode.style.fill,lineWidth:qd.defaultNode.style.lineWidth},labelCfg:{style:{fill:qd.nodeLabel.style.fill,fontSize:qd.nodeLabel.style.fontSize,fontFamily:qd.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:qd.defaultNode.linkPoints.size,lineWidth:qd.defaultNode.linkPoints.lineWidth,fill:qd.defaultNode.linkPoints.fill,stroke:qd.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Ir.__assign)({},qd.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=t.addShape("path",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=o;var a=r.width,s=r.height,u=r.show,l=r.text;return u&&(t.shapeMap["".concat(this.type,"-icon")]=l?t.addShape("text",{attrs:(0,Ir.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.addShape("image",{attrs:(0,Ir.__assign)({x:-a/2,y:-s/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,l=r.r,c=(0,Ir.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e),d=f[0],h=f[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},c),{x:-d/2,y:0,r:u/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},c),{x:d/2,y:0,r:u/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},c),{x:0,y:-h/2,r:u/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},c),{x:0,y:h/2,r:u/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getPath:function(e){var t=this.getSize(e),n=t[0],r=t[1];return[["M",0,-r/2],["L",n/2,0],["L",0,r/2],["L",-n/2,0],["Z"]]},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,Dr.mix)({},t,n),i=this.getPath(e);return(0,Ir.__assign)({path:i},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getPath(e),a={stroke:e.color,path:o},s=t.get("keyShape"),u=(0,Dr.mix)({},i,s.attr(),a);u=(0,Dr.mix)(u,e.style),this.updateShape(e,t,u,!0,n),this.updateLinkPoints(e,r)}},"single-node"),Zd("triangle",{options:{size:40,direction:"up",style:{stroke:qd.defaultNode.style.stroke,fill:qd.defaultNode.style.fill,lineWidth:qd.defaultNode.style.lineWidth},labelCfg:{style:{fill:qd.nodeLabel.style.fill,fontSize:qd.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:qd.defaultNode.linkPoints.size,lineWidth:qd.defaultNode.linkPoints.lineWidth,fill:qd.defaultNode.linkPoints.fill,stroke:qd.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:(0,Ir.__assign)({},qd.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(e,t){var n=this.mergeStyle||this.getOptions(e),r=n.icon,i=void 0===r?{}:r,o=n.direction,a=this.getShapeStyle(e),s=e.direction||o,u=t.addShape("path",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=u;var l=i.width,c=i.height,f=i.show,d=i.offset,h=i.text;if(f)if(h)t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,Ir.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0});else{var p=-l/2,g=-c/2;"up"!==s&&"down"!==s||(g+=d),"left"!==s&&"right"!==s||(p+=d),t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,Ir.__assign)({x:p,y:g},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})}return this.drawLinkPoints(e,t),u},drawLinkPoints:function(e,t){var n=this.mergeStyle||this.getOptions(e),r=n.linkPoints,i=void 0===r?{}:r,o=n.direction,a=e.direction||o,s=i.top,u=i.left,l=i.right,c=i.bottom,f=i.size,d=i.r,h=(0,Ir.__rest)(i,["top","left","right","bottom","size","r"]),p=this.getSize(e)[0];if(u){var g=null,v=p*Math.sin(1/3*Math.PI),m=p*Math.sin(1/3*Math.PI);"up"===a?g=[-m,v]:"down"===a?g=[-m,-v]:"left"===a&&(g=[-m,m-v]),g&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},h),{x:g[0],y:g[1],r:f/2||d||5}),className:"link-point-left",name:"link-point-left"}))}if(l){var y=null;v=p*Math.sin(1/3*Math.PI),m=p*Math.sin(1/3*Math.PI);"up"===a?y=[m,v]:"down"===a?y=[m,-v]:"right"===a&&(y=[m,m-v]),y&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},h),{x:y[0],y:y[1],r:f/2||d||5}),className:"link-point-right",name:"link-point-right"}))}if(s){var b=null;v=p*Math.sin(1/3*Math.PI),m=p*Math.sin(1/3*Math.PI);"up"===a?b=[m-v,-v]:"left"===a?b=[m,-v]:"right"===a&&(b=[-m,-v]),b&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},h),{x:b[0],y:b[1],r:f/2||d||5}),className:"link-point-top",name:"link-point-top"}))}if(c){var x=null;v=p*Math.sin(1/3*Math.PI),m=p*Math.sin(1/3*Math.PI);"down"===a?x=[-m+v,v]:"left"===a?x=[m,v]:"right"===a&&(x=[-m,v]),x&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},h),{x:x[0],y:x[1],r:f/2||d||5}),className:"link-point-bottom",name:"link-point-bottom"}))}},getPath:function(e){var t=(this.mergeStyle||this.getOptions(e)).direction,n=e.direction||t,r=this.getSize(e)[0],i=r*Math.sin(1/3*Math.PI),o=r*Math.sin(1/3*Math.PI),a=[["M",-o,i],["L",0,-i],["L",o,i],["Z"]];return"down"===n?a=[["M",-o,-i],["L",o,-i],["L",0,i],["Z"]]:"left"===n?a=[["M",-o,o-i],["L",o,-o],["L",o,o],["Z"]]:"right"===n&&(a=[["M",o,o-i],["L",-o,o],["L",-o,-o],["Z"]]),a},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,Dr.mix)({},t,n),i=this.getPath(e);return(0,Ir.__assign)({path:i},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getPath(e),a={stroke:e.color,path:o},s=t.get("keyShape"),u=(0,Dr.mix)({},i,s.attr(),a);u=(0,Dr.mix)(u,e.style),this.updateShape(e,t,u,!0,n),this.updateLinkPoints(e,r)},updateLinkPoints:function(e,t){var n=this.getOptions({}),r=n.linkPoints,i=n.direction,o=e.direction||i,a=t.shapeMap["link-point-left"]||t.find((function(e){return"link-point-left"===e.get("className")})),s=t.shapeMap["link-point-right"]||t.find((function(e){return"link-point-right"===e.get("className")})),u=t.shapeMap["link-point-top"]||t.find((function(e){return"link-point-top"===e.get("className")})),l=t.shapeMap["link-point-bottom"]||t.find((function(e){return"link-point-bottom"===e.get("className")})),c=r,f=a||s||u||l;f&&(c=f.attr());var d=(0,Dr.mix)({},c,e.linkPoints),h=d.fill,p=d.stroke,g=d.lineWidth,v=d.size/2;v||(v=d.r);var m=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},y=m.left,b=m.right,x=m.top,w=m.bottom,E=this.getSize(e)[0],S={r:v,fill:h,stroke:p,lineWidth:g},_=null,T=E*Math.sin(1/3*Math.PI),k=E*Math.sin(1/3*Math.PI);"up"===o?_=[-k,T]:"down"===o?_=[-k,-T]:"left"===o&&(_=[-k,k-T]),_&&(a?y||void 0===y?a.attr((0,Ir.__assign)((0,Ir.__assign)({},S),{x:_[0],y:_[1]})):(a.remove(),delete t.shapeMap["link-point-left"]):y&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},S),{x:_[0],y:_[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})));var C=null;"up"===o?C=[k,T]:"down"===o?C=[k,-T]:"right"===o&&(C=[k,k-T]),C&&(s?b||void 0===b?s.attr((0,Ir.__assign)((0,Ir.__assign)({},S),{x:C[0],y:C[1]})):(s.remove(),delete t.shapeMap["link-point-right"]):b&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},S),{x:C[0],y:C[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})));var M=null;"up"===o?M=[k-T,-T]:"left"===o?M=[k,-T]:"right"===o&&(M=[-k,-T]),M&&(u?x||void 0===x?u.attr((0,Ir.__assign)((0,Ir.__assign)({},S),{x:M[0],y:M[1]})):(u.remove(),delete t.shapeMap["link-point-top"]):x&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},S),{x:M[0],y:M[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})));var A=null;"down"===o?A=[-k+T,T]:"left"===o?A=[k,T]:"right"===o&&(A=[-k,T]),A&&(l?w||void 0===w?l.attr((0,Ir.__assign)((0,Ir.__assign)({},S),{x:A[0],y:A[1]})):(l.remove(),delete t.shapeMap["link-point-bottom"]):w&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},S),{x:A[0],y:A[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})))}},"single-node"),Zd("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:qd.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14,fontFamily:qd.windowFontFamily},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf",fontFamily:qd.windowFontFamily},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).preRect,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=this.getSize(e),a=o[0],s=o[1],u=t.addShape("rect",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=u;var l=r.show,c=(0,Ir.__rest)(r,["show"]);return l&&(t.shapeMap["pre-rect"]=t.addShape("rect",{attrs:(0,Ir.__assign)({x:-a/2,y:-s/2,height:s},c),className:"pre-rect",name:"pre-rect",draggable:!0})),this.drawLogoIcon(e,t),this.drawStateIcon(e,t),this.drawLinkPoints(e,t),u},drawLogoIcon:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).logoIcon,r=void 0===n?{}:n,i=this.getSize(e)[0];if(r.show){var o=r.width,a=r.height,s=r.x,u=r.y,l=r.offset,c=r.text,f=(0,Ir.__rest)(r,["width","height","x","y","offset","text"]);t.shapeMap["rect-logo-icon"]=c?t.addShape("text",{attrs:(0,Ir.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},f),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):t.addShape("image",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},f),{x:s||-i/2+o+l,y:u||-a/2,width:o,height:a}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).stateIcon,r=void 0===n?{}:n,i=this.getSize(e)[0];if(r.show){var o=r.width,a=r.height,s=r.x,u=r.y,l=r.offset,c=r.text,f=(0,Ir.__rest)(r,["width","height","x","y","offset","text"]);t.shapeMap["rect-state-icon"]=c?t.addShape("text",{attrs:(0,Ir.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},f),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):t.addShape("image",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},f),{x:s||i/2-o+l,y:u||-a/2,width:o,height:a}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.bottom,u=r.size,l=r.r,c=(0,Ir.__rest)(r,["top","left","right","bottom","size","r"]),f=this.getSize(e),d=f[0],h=f[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},c),{x:-d/2,y:0,r:u/2||l||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},c),{x:d/2,y:0,r:u/2||l||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},c),{x:0,y:-h/2,r:u/2||l||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},c),{x:0,y:h/2,r:u/2||l||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},drawLabel:function(e,t){var n=this.getOptions(e),r=n.labelCfg,i=void 0===r?{}:r,o=n.logoIcon,a=void 0===o?{}:o,s=n.descriptionCfg,u=void 0===s?{}:s,l=this.getSize(e)[0],c=null,f=a.show,d=a.width,h=-l/2+i.offset;f&&(h=-l/2+d+i.offset);var p=i.style,g=u.style,v=u.paddingTop;return(0,Dr.isString)(e.description)?(c=t.addShape("text",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},p),{x:h,y:-5,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),t.shapeMap["text-shape"]=c,t.shapeMap["rect-description"]=t.addShape("text",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},g),{x:h,y:17+(v||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})):(c=t.addShape("text",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},p),{x:h,y:7,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),t.shapeMap["text-shape"]=c),c},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,Dr.mix)({},t,n),i=this.getSize(e),o=r.width||i[0],a=r.height||i[1];return(0,Ir.__assign)({x:-o/2,y:-a/2,width:o,height:a},r)},update:function(e,t){var n=this.mergeStyle||this.getOptions(e),r=n.style,i=void 0===r?{}:r,o=n.labelCfg,a=void 0===o?{}:o,s=n.descriptionCfg,u=void 0===s?{}:s,l=this.getSize(e),c=l[0],f=l[1];t.get("keyShape").attr((0,Ir.__assign)((0,Ir.__assign)({},i),{x:-c/2,y:-f/2,width:c,height:f}));var d=t.getContainer(),h=d.shapeMap["rect-logo-icon"]||d.find((function(e){return"rect-logo-icon"===e.get("className")})),p=h?h.attr():{},g=(0,Dr.mix)({},p,e.logoIcon),v=g.width;void 0===v&&(v=this.options.logoIcon.width);var m=e.logoIcon?e.logoIcon.show:void 0,y=a.offset,b=-c/2+v+y;m||void 0===m||(b=-c/2+y);var x=d.shapeMap["node-label"]||d.find((function(e){return"node-label"===e.get("className")})),w=d.shapeMap["rect-description"]||d.find((function(e){return"rect-description"===e.get("className")}));if(e.label)if(x){var E=e.labelCfg?e.labelCfg.style:{},S=(0,Dr.mix)({},x.attr(),E);e.label&&(S.text=e.label),S.x=b,(0,Dr.isString)(e.description)&&(S.y=-5),w&&(w.resetMatrix(),w.attr({x:b})),x.resetMatrix(),x.attr(S)}else d.shapeMap["node-label"]=d.addShape("text",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},a.style),{x:b,y:e.description?-5:7,text:e.label}),className:"node-label",name:"node-label",draggable:!0,labelRelated:!0});if((0,Dr.isString)(e.description)){var _=u.paddingTop;if(w){E=e.descriptionCfg?e.descriptionCfg.style:{};var T=(0,Dr.mix)({},w.attr(),E);(0,Dr.isString)(e.description)&&(T.text=e.description),T.x=b,w.resetMatrix(),w.attr((0,Ir.__assign)((0,Ir.__assign)({},T),{y:17+(_||0)}))}else d.shapeMap["rect-description"]=d.addShape("text",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},u.style),{x:b,y:17+(_||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})}var k=d.shapeMap["pre-rect"]||d.find((function(e){return"pre-rect"===e.get("className")}));if(k&&!k.destroyed){var C=(0,Dr.mix)({},k.attr(),e.preRect);k.attr((0,Ir.__assign)((0,Ir.__assign)({},C),{x:-c/2,y:-f/2,height:f}))}if(h&&!h.destroyed)if(m||void 0===m){var M=g.width,A=g.height,N=g.x,P=g.y,I=g.offset,D=(0,Ir.__rest)(g,["width","height","x","y","offset"]);h.attr((0,Ir.__assign)((0,Ir.__assign)({},D),{x:N||-c/2+M+I,y:P||-A/2,width:M,height:A}))}else h.remove(),delete d.shapeMap["pre-rect"];else m&&this.drawLogoIcon(e,d);var O=d.shapeMap["rect-state-icon"]||d.find((function(e){return"rect-state-icon"===e.get("className")})),R=O?O.attr():{},L=(0,Dr.mix)({},R,e.stateIcon);if(O){L.show||void 0===L.show||(O.remove(),delete d.shapeMap["rect-state-icon"]);var j=L.width,B=(A=L.height,N=L.x,P=L.y,L.offset),F=(0,Ir.__rest)(L,["width","height","x","y","offset"]);O.attr((0,Ir.__assign)((0,Ir.__assign)({},F),{x:N||c/2-j+B,y:P||-A/2,width:j,height:A}))}else L.show&&this.drawStateIcon(e,d);this.updateLinkPoints(e,d)}},"single-node"),Zd("star",{options:{size:60,style:{stroke:qd.defaultNode.style.stroke,fill:qd.defaultNode.style.fill,lineWidth:qd.defaultNode.style.lineWidth},labelCfg:{style:{fill:qd.nodeLabel.style.fill,fontSize:qd.nodeLabel.style.fontSize,fontFamily:qd.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:qd.defaultNode.linkPoints.size,lineWidth:qd.defaultNode.linkPoints.lineWidth,fill:qd.defaultNode.linkPoints.fill,stroke:qd.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Ir.__assign)({},qd.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=t.addShape("path",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=o;var a=r.width,s=r.height,u=r.show,l=r.text;return u&&(t.shapeMap["".concat(this.type,"-icon")]=l?t.addShape("text",{attrs:(0,Ir.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.addShape("image",{attrs:(0,Ir.__assign)({x:-a/2,y:-s/2},r),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,r=void 0===n?{}:n,i=r.top,o=r.left,a=r.right,s=r.leftBottom,u=r.rightBottom,l=r.size,c=r.r,f=(0,Ir.__rest)(r,["top","left","right","leftBottom","rightBottom","size","r"]),d=this.getSize(e)[0];if(a){var h=Math.cos(.1*Math.PI)*d,p=Math.sin(.1*Math.PI)*d;t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},f),{x:h,y:-p,r:l/2||c||5}),className:"link-point-right",name:"link-point-right"})}if(i){h=Math.cos(.5*Math.PI)*d,p=Math.sin(.5*Math.PI)*d;t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},f),{x:h,y:-p,r:l/2||c||5}),className:"link-point-top",name:"link-point-top"})}if(o){h=Math.cos(.9*Math.PI)*d,p=Math.sin(.9*Math.PI)*d;t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},f),{x:h,y:-p,r:l/2||c||5}),className:"link-point-left",name:"link-point-left"})}if(s){h=Math.cos(1.3*Math.PI)*d,p=Math.sin(1.3*Math.PI)*d;t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},f),{x:h,y:-p,r:l/2||c||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(u){h=Math.cos(1.7*Math.PI)*d,p=Math.sin(1.7*Math.PI)*d;t.shapeMap["link-point-right-bottom"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},f),{x:h,y:-p,r:l/2||c||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(e){for(var t=this.getSize(e)[0],n=3*t/8,r=e.innerR||n,i=[],o=0;o<5;o++){var a=Math.cos((18+72*o)/180*Math.PI)*t,s=Math.sin((18+72*o)/180*Math.PI)*t,u=Math.cos((54+72*o)/180*Math.PI)*r,l=Math.sin((54+72*o)/180*Math.PI)*r;0===o?i.push(["M",a,-s]):i.push(["L",a,-s]),i.push(["L",u,-l])}return i.push(["Z"]),i},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},r=(0,Dr.mix)({},t,n),i=this.getPath(e);return(0,Ir.__assign)({path:i},r)},update:function(e,t,n){var r=t.getContainer(),i=this.getOptions({}).style,o=this.getPath(e),a={stroke:e.color,path:o},s=t.get("keyShape"),u=(0,Dr.mix)({},i,s.attr(),a);u=(0,Dr.mix)(u,e.style),this.updateShape(e,t,u,!0,n),this.updateLinkPoints(e,r)},updateLinkPoints:function(e,t){var n=this.getOptions({}).linkPoints,r=t.shapeMap["link-point-left"]||t.find((function(e){return"link-point-left"===e.get("className")})),i=t.shapeMap["link-point-right"]||t.find((function(e){return"link-point-right"===e.get("className")})),o=t.shapeMap["link-point-top"]||t.find((function(e){return"link-point-top"===e.get("className")})),a=t.shapeMap["link-point-left-bottom"]||t.find((function(e){return"link-point-left-bottom"===e.get("className")})),s=t.shapeMap["link-point-left-bottom"]||t.find((function(e){return"link-point-right-bottom"===e.get("className")})),u=n,l=r||i||o||a||s;l&&(u=l.attr());var c=(0,Dr.mix)({},u,e.linkPoints),f=c.fill,d=c.stroke,h=c.lineWidth,p=c.size/2;p||(p=c.r);var g=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},v=g.left,m=g.right,y=g.top,b=g.leftBottom,x=g.rightBottom,w=this.getSize(e)[0],E={r:p,fill:f,stroke:d,lineWidth:h},S=Math.cos(.1*Math.PI)*w,_=Math.sin(.1*Math.PI)*w;i?m||void 0===m?i.attr((0,Ir.__assign)((0,Ir.__assign)({},E),{x:S,y:-_})):(i.remove(),delete t.shapeMap["link-point-right"]):m&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},E),{x:S,y:-_}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),S=Math.cos(.5*Math.PI)*w,_=Math.sin(.5*Math.PI)*w,o?y||void 0===y?o.attr((0,Ir.__assign)((0,Ir.__assign)({},E),{x:S,y:-_})):(o.remove(),delete t.shapeMap["link-point-top"]):y&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},E),{x:S,y:-_}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),S=Math.cos(.9*Math.PI)*w,_=Math.sin(.9*Math.PI)*w,r?v||void 0===v?r.attr((0,Ir.__assign)((0,Ir.__assign)({},E),{x:S,y:-_})):(r.remove(),delete t.shapeMap["link-point-left"]):v&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},E),{x:S,y:-_}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),S=Math.cos(1.3*Math.PI)*w,_=Math.sin(1.3*Math.PI)*w,a?b||void 0===b?a.attr((0,Ir.__assign)((0,Ir.__assign)({},E),{x:S,y:-_})):(a.remove(),delete t.shapeMap["link-point-left-bottom"]):b&&(t.shapeMap["link-point-left-bottom"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},E),{x:S,y:-_}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0})),S=Math.cos(1.7*Math.PI)*w,_=Math.sin(1.7*Math.PI)*w,s?x||void 0===x?s.attr((0,Ir.__assign)((0,Ir.__assign)({},E),{x:S,y:-_})):(a.remove(),delete t.shapeMap["link-point-right-bottom"]):x&&(t.shapeMap["link-point-right-bottom"]=t.addShape("circle",{attrs:(0,Ir.__assign)((0,Ir.__assign)({},E),{x:S,y:-_}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0}))}},"single-node");var Ix=Yd.defaultSubjectColors;Zd("donut",{options:{size:qd.defaultNode.size,style:{x:0,y:0,stroke:qd.defaultNode.style.stroke,fill:qd.defaultNode.style.fill,lineWidth:qd.defaultNode.style.lineWidth},labelCfg:{style:{fill:qd.nodeLabel.style.fill,fontSize:qd.nodeLabel.style.fontSize,fontFamily:qd.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:qd.defaultNode.linkPoints.size,lineWidth:qd.defaultNode.linkPoints.lineWidth,fill:qd.defaultNode.linkPoints.fill,stroke:qd.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Ir.__assign)({},qd.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,r=void 0===n?{}:n,i=this.getShapeStyle(e),o=(0,Dr.deepMix)({},r,e.icon),a=t.addShape("circle",{attrs:i,className:"".concat(this.type,"-keyShape"),draggable:!0,name:"".concat(this.type,"-keyShape")});t.shapeMap["".concat(this.type,"-keyShape")]=a;var s=o.width,u=o.height,l=o.show,c=o.text;l&&(t.shapeMap["".concat(this.type,"-icon")]=c?t.addShape("text",{attrs:(0,Ir.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.addShape("image",{attrs:(0,Ir.__assign)({x:-s/2,y:-u/2},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}));var f=a.attr("r"),d=.6*f,h=(f+d)/2,p=e,g=p.donutAttrs,v=void 0===g?{}:g,m=p.donutColorMap,y=void 0===m?{}:m,b=Object.keys(v).length;if(v&&b>1){var x=[],w=0;if(Object.keys(v).forEach((function(e){var t=v[e]||0;(0,Dr.isNumber)(t)&&(x.push({key:e,value:t,color:y[e]}),w+=t)})),w){var E=f-d;if(1===b)return void(t.shapeMap["fan-shape-0"]=t.addShape("circle",{attrs:{r:h,x:0,y:0,stroke:x[0].color||Ix[0],lineWidth:E},name:"fan-shape-0"}));var S=[h,0],_=0;x.forEach((function(e,n){var r=e.value/w;if(!(r<.001))if(r>.999&&(r=1),1!==r){e.percent=r,e.angle=r*Math.PI*2,e.beginAgnle=_,_+=e.angle,e.endAngle=_,e.arcBegin=S,e.arcEnd=[h*Math.cos(e.endAngle),-h*Math.sin(e.endAngle)];var i=e.angle>Math.PI?1:0,o=[["M",e.arcBegin[0],e.arcBegin[1]],["A",h,h,0,i,0,e.arcEnd[0],e.arcEnd[1]],["L",e.arcEnd[0],e.arcEnd[1]]];t.shapeMap["fan-shape-".concat(n)]=t.addShape("path",{attrs:{path:o,lineWidth:E,stroke:e.color||Ix[n%Ix.length]},name:"fan-shape-".concat(n)}),S=e.arcEnd}else t.shapeMap["fan-shape-".concat(n)]=t.addShape("circle",{attrs:{r:h,x:0,y:0,stroke:e.color||Ix[n%Ix.length],lineWidth:E},name:"fan-shape-".concat(n)})}))}}return this.drawLinkPoints(e,t),a},update:void 0},"circle");var Dx=function(e){var t=e.x,n=e.y;return{x:t,y:n,centerX:t,centerY:n,minX:t,minY:n,maxX:t,maxY:n,height:0,width:0}},Ox=function(e){for(var t=[],n={},r=e.length-1;r>=0;r--){var i=e[r];i.id="".concat(i.x,"|||").concat(i.y),n[i.id]=i,t.push(i)}return t},Rx=function(e){return Ox(e)},Lx=function(e,t){return e.width||e.height?{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}:e},jx=function(e,t,n){var r=function(e,t){var n=Math.abs(e.x-t.centerX),r=Math.abs(e.y-t.centerY);return 0===n&&0===r?0:n/t.width>r/t.height}(t,e);if(0===r){var i=e.centerX,o=e.centerY;return n.y<t.y?o=e.minY:n.x>t.x?i=e.maxX:n.x<t.x?i=e.minX:n.x===t.x&&(o=e.maxY),{x:i,y:o}}return r?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},Bx=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),i=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},Fx=function(e){return[{x:e.minX,y:e.minY},{x:e.maxX,y:e.minY},{x:e.maxX,y:e.maxY},{x:e.minX,y:e.maxY}]},zx=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},Yx=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},Gx=function(e,t,n,r,i){return Yx(e,t)+Yx(e,n)+function(e,t){var n=0;return t.forEach((function(t){t&&(e.x===t.x&&(n+=-2),e.y===t.y&&(n+=-2))})),n}(e,[t,n,r,i])},Vx=function e(t,n,r,i,o){void 0===o&&(o=0),t.unshift(n[i]),r[i]&&r[i]!==i&&o<=100&&e(t,n,r,r[i],o+1)},Ux=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},Wx=function(e,t,n,r){var i=n.x-e.x,o=n.y-e.y,a=r.x-e.x,s=r.y-e.y,u=n.x-t.x,l=n.y-t.y,c=r.x-t.x,f=r.y-t.y;return(i*s-o*a)*(u*f-l*c)<=0&&(i*l-o*u)*(a*f-s*c)<=0},Zx=function(e,t,n){if(n.width||n.height){var r=Fx(n),i=r[0],o=r[1],a=r[2],s=r[3];return Wx(e,t,i,o)||Wx(e,t,i,s)||Wx(e,t,o,a)||Wx(e,t,a,s)}return!1},Hx=function(e,t,n,r){var i=[];return e.forEach((function(e){if(e!==t&&(e.x===t.x||e.y===t.y)){if(Zx(e,t,n)||Zx(e,t,r))return;i.push(e)}})),Ox(i)},Xx=function(e,t){var n=[],r=e[0];return n.push("M".concat(r.x," ").concat(r.y)),e.forEach((function(r,i){var o=e[i+1],a=e[i+2];if(o&&a)if(function(e,t,n){return!(e.x===t.x&&t.x===n.x||e.y===t.y&&t.y===n.y)}(r,o,a)){var s=function(e,t,n,r){var i=Yx(e,t),o=Yx(n,t);return i<r&&(r=i),o<r&&(r=o),[{x:t.x-r/i*(t.x-e.x),y:t.y-r/i*(t.y-e.y)},{x:t.x-r/o*(t.x-n.x),y:t.y-r/o*(t.y-n.y)}]}(r,o,a,t),u=s[0],l=s[1];n.push("L".concat(u.x," ").concat(u.y)),n.push("Q".concat(o.x," ").concat(o.y," ").concat(l.x," ").concat(l.y)),n.push("L".concat(l.x," ").concat(l.y))}else n.push("L".concat(o.x," ").concat(o.y));else o&&n.push("L".concat(o.x," ").concat(o.y))})),n.join("")},Kx=function(e,t,n,r,i){var o,a;if(n&&n.getType())if("combo"===n.getType()){(o=n.getKeyShape().getCanvasBBox()||Dx(e)).centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=n.getBBox();else o=Dx(e);if(r&&r.getType())if("combo"===r.getType()){var s=r.getKeyShape().getBBox();if(s){var u=r.getModel(),l=u.x,c=u.y;(a={x:l,y:c,width:s.width,height:s.height,minX:s.minX+l,maxX:s.maxX+l,minY:s.minY+c,maxY:s.maxY+c}).centerX=(a.minX+a.maxX)/2,a.centerY=(a.minY+a.maxY)/2}else a=Dx(t)}else a=r&&r.getBBox();else a=Dx(t);var f=Lx(o,i),d=Lx(a,i),h=jx(f,e,t),p=jx(d,t,e),g=function(e){void 0===e&&(e=[]);var t=[],n=[];e.forEach((function(e){t.push(e.x),n.push(e.y)}));var r=Math.min.apply(Math,t),i=Math.max.apply(Math,t),o=Math.min.apply(Math,n),a=Math.max.apply(Math,n);return{centerX:(r+i)/2,centerY:(o+a)/2,maxX:i,maxY:a,minX:r,minY:o,height:a-o,width:i-r}}([h,p]),v=Bx(f,g),m=Bx(d,g),y=[];y=y.concat(Fx(v)).concat(Fx(m));var b={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[g,v,m].forEach((function(e){y=y.concat(function(e,t){return function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]}(e,t.x).concat(function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]}(e,t.y))}(e,b).filter((function(e){return zx(e,f)&&zx(e,d)})))})),[{x:h.x,y:p.y},{x:p.x,y:h.y}].forEach((function(e){zx(e,f)&&zx(e,d)&&y.push(e)})),y.unshift(h),y.push(p);var x=function(e,t,n,r,i,o,a){var s=[],u=[t],l={},c={},f={};c[t.id]=0,f[t.id]=Gx(t,n,t);var d,h,p={};for(e.forEach((function(e){p[e.id]=e}));u.length;){if(d=void 0,h=1/0,u.forEach((function(e){f[e.id]<=h&&(h=f[e.id],d=e)})),d===n){var g=[];return Vx(g,p,l,n.id),g}Ux(u,d),s.push(d),Hx(e,d,r,i).forEach((function(e){if(-1===s.indexOf(e)){-1===u.indexOf(e)&&u.push(e);var r=f[d.id]+Yx(d,e);c[e.id]&&r>=c[e.id]||(l[e.id]=d.id,c[e.id]=r,f[e.id]=c[e.id]+Gx(e,n,t,o,a))}}))}return[t,n]}(y=Ox(y),h,p,o,a,e,t);return x.unshift(e),x.push(t),Rx(x)},qx={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},fallbackRoute:function(e,t,n,r,i){return Rx(Kx(e,t,n,r,i.offset))}},Jx=(Math.PI,function(e,t){var n=Math.round(Math.abs(e/t));return n<0?0:(e<0?-1:1)*n}),$x=function(e,t){var n=t.x-e.x,r=t.y-e.y;return n||r?Math.atan2(r,n):0},Qx=function(e,t){var n=Math.abs(e-t);return n>Math.PI?2*Math.PI-n:n},ew=function(e,t,n){for(var r=1/0,i=0,o=t.length;i<o;i++){var a=n(e,t[i]);a<r&&(r=a)}return r},tw=function(e,t,n,r,i){var o=[];if(!n)return[e];var a=i.directions,s=i.offset,u=n.getBBox(),l=t.x>u.minX&&t.x<u.maxX&&t.y>u.minY&&t.y<u.maxY,c=Lx(u,s);for(var f in c)c[f]=Jx(c[f],i.gridSize);if(l){for(var d=0,h=a;d<h.length;d++){var p=h[d],g=[[{x:c.minX,y:c.minY},{x:c.maxX,y:c.minY}],[{x:c.minX,y:c.minY},{x:c.minX,y:c.maxY}],[{x:c.maxX,y:c.minY},{x:c.maxX,y:c.maxY}],[{x:c.minX,y:c.maxY},{x:c.maxX,y:c.maxY}]];for(f=0;f<4;f++){var v=g[f],m=Yd.getLineIntersect(e,{x:e.x+p.stepX*c.width,y:e.y+p.stepY*c.height},v[0],v[1]);m&&!Zx(e,m,u)&&(m.id="".concat(m.x,"|||").concat(m.y),o.push(m))}}return o}var y=jx(c,e,r);return y.id="".concat(y.x,"|||").concat(y.y),[y]},nw=function(e,t,n,r){var i=$x(e,t);if(!n[e.id]){var o=$x(r,e);return Qx(o,i)}var a=$x({x:n[e.id].x,y:n[e.id].y},e);return Qx(a,i)},rw=function(e,t,n,r,i,o,a){var s=[r],u=e.id,l=e.x,c=e.y,f={x:l,y:c,id:u};for(nw(f,o,t,n)&&s.unshift({x:o.x===r.x?r.x:f.x*a,y:o.y===r.y?r.y:f.y*a});t[u]&&t[u].id!==u;){var d={x:l,y:c,id:u},h=t[u].id,p=t[u].x,g=t[u].y,v={x:p,y:g,id:h};nw(v,d,t,n)&&s.unshift({x:v.x===d.x?s[0].x:v.x*a,y:v.y===d.y?s[0].y:v.y*a}),u=h,l=p,c=g}var m=l,y=c;return s[0].x=m===n.x?i.x:s[0].x,s[0].y=y===n.y?i.y:s[0].y,s.unshift(i),s},iw=function(e,t,n,r,i){if(isNaN(e.x)||isNaN(t.x))return[];var o=(0,Dr.deepMix)(qx,i);o.obstacles=o.obstacles||[];var a=o.gridSize,s=function(e,t,n){var r={};return e.forEach((function(e){if(e)for(var i=Lx(e.getBBox(),n),o=Jx(i.minX,t);o<=Jx(i.maxX,t);o+=1)for(var a=Jx(i.minY,t);a<=Jx(i.maxY,t);a+=1)r["".concat(o,"|||").concat(a)]=!0})),r}(o.obstacles.concat([n,r]),a,o.offset),u={x:Jx(e.x,a),y:Jx(e.y,a)},l={x:Jx(t.x,a),y:Jx(t.y,a)};e.id="".concat(u.x,"|||").concat(u.y),t.id="".concat(l.x,"|||").concat(l.y);var c=tw(u,e,n,l,o),f=tw(l,t,r,u,o);c.forEach((function(e){delete s[e.id]})),f.forEach((function(e){delete s[e.id]}));for(var d={},h={},p={},g={},v={},m=0;m<c.length;m++){var y=c[m];d[y.id]=y,g[y.id]=0,v[y.id]=ew(y,f,o.distFunc)}for(var b,x,w,E,S,_,T,k=o.maximumLoops,C=o.penalties;Object.keys(d).length>0&&k>0&&(b=void 0,x=1/0,Object.keys(d).forEach((function(e){var t=d[e].id;v[t]<=x&&(x=v[t],b=d[t])})),b);){if(f.findIndex((function(e){return e.x===b.x&&e.y===b.y}))>-1)return rw(b,p,u,t,e,l,a);delete d[b.id],h[b.id]=!0;for(m=0;m<o.directions.length;m++)w=o.directions[m],h[(E={x:b.x+w.stepX,y:b.y+w.stepY,id:"".concat(Math.round(b.x)+w.stepX,"|||").concat(Math.round(b.y)+w.stepY)}).id]||(T=nw(b,E,p,u))>o.maxAllowedDirectionChange||s[E.id]||(d[E.id]||(d[E.id]=E),S=o.distFunc(b,E)+(isNaN(C[T])?a:C[T]),_=g[b.id]+S,g[E.id]&&_>=g[E.id]||(p[E.id]=b,g[E.id]=_,v[E.id]=_+ew(E,f,o.distFunc)));k-=1}return o.fallbackRoute(e,t,n,r,o)};Hd("polyline",{options:{color:qd.defaultEdge.color,size:qd.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:qd.defaultEdge.style.stroke,lineAppendWidth:qd.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:qd.edgeLabel.style.fill,fontSize:qd.edgeLabel.style.fontSize,fontFamily:qd.windowFontFamily}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:(0,Ir.__assign)({},qd.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(e,t){var n=this.getShapeStyle(e);0===n.radius&&delete n.radius;var r=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:n});return t.shapeMap["edge-shape"]=r,r},getShapeStyle:function(e){var t=this.options.style,n={stroke:e.color},r=(0,Dr.mix)({},t,n,e.style);e=this.getPathPoints(e),this.radius=r.radius,this.offset=r.offset;var i=e.startPoint,o=e.endPoint,a=this.getControlPoints(e),s=[i];a&&(s=s.concat(a)),s.push(o);var u=e.sourceNode,l=e.targetNode,c=r.radius,f=this.options.routeCfg,d=(0,Dr.mix)({},f,e.routeCfg);d.offset=r.offset;var h=this.getPath(s,u,l,c,d);return((0,Dr.isArray)(h)&&h.length<=1||(0,Dr.isString)(h)&&-1===h.indexOf("L"))&&(h="M0 0, L0 0"),(isNaN(i.x)||isNaN(i.y)||isNaN(o.x)||isNaN(o.y))&&(h="M0 0, L0 0"),(0,Dr.mix)({},qd.defaultEdge.style,r,{lineWidth:e.size,path:h})},updateShapeStyle:function(e,t){var n=t.getContainer();if(t.isVisible()){var r={stroke:e.color},i=n.shapeMap["edge-shape"]||n.find((function(e){return"edge-shape"===e.get("className")}))||t.getKeyShape(),o=e.size,a=(e=this.getPathPoints(e)).startPoint,s=e.endPoint,u=this.getControlPoints(e),l=[a];u&&(l=l.concat(u)),l.push(s);var c=i.attr(),f=(0,Dr.mix)({},r,c,e.style),d=e.sourceNode,h=e.targetNode,p=f.radius,g=this.options.routeCfg,v=(0,Dr.mix)({},g,e.routeCfg);v.offset=f.offset;var m=this.getPath(l,d,h,p,v);((0,Dr.isArray)(m)&&m.length<=1||(0,Dr.isString)(m)&&-1===m.indexOf("L"))&&(m="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(s.x)||isNaN(s.y))&&(m="M0 0, L0 0"),c.endArrow&&!1===f.endArrow&&(e.style.endArrow={path:""}),c.startArrow&&!1===f.startArrow&&(e.style.startArrow={path:""});var y=(0,Dr.mix)(r,i.attr(),{lineWidth:o,path:m},e.style);i&&i.attr(y)}},getPath:function(e,t,n,r,i){var o=i.offset,a=i.simple;if(!o||e.length>2){if(r)return Xx(e,r);var s=[];return(0,Dr.each)(e,(function(e,t){0===t?s.push(["M",e.x,e.y]):s.push(["L",e.x,e.y])})),s}var u=a?Kx(e[e.length-1],e[0],n,t,o):iw(e[0],e[e.length-1],t,n,i);return u&&u.length?r?Xx(u,r):Yd.pointsToPolygon(u):"M0 0, L0 0"}},"single-edge");var ow=sv.cloneEvent,aw=sv.isNaN,sw=Math.abs,uw=["shift","ctrl","alt","control"],lw={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onMouseUp"}},updateViewport:function(e){var t=this.origin,n=+e.clientX,r=+e.clientY;if(!aw(n)&&!aw(r)){var i=n-t.x,o=r-t.y;"x"===this.get("direction")?o=0:"y"===this.get("direction")&&(i=0),this.origin={x:n,y:r};var a=this.graph.get("width"),s=this.graph.get("height"),u=this.graph.get("canvas").getCanvasBBox(),l=this.scalableRange,c=this.scalableRange;l<1&&l>-1&&(l*=a,c*=s),(u.minX<=a+l&&u.minX+i>a+l||u.maxX+l>=0&&u.maxX+l+i<0)&&(i=0),(u.minY<=s+c&&u.minY+o>s+c||u.maxY+c>=0&&u.maxY+c+o<0)&&(o=0),this.graph.translate(i,o)}},onTouchStart:function(e){var t=e.originalEvent.touches,n=t[0],r=t[1];n&&r||(e.preventDefault(),this.onMouseDown(e))},onMouseDown:function(e){var t=this,n=e.originalEvent;if((!n||e.name===Rd.TOUCHSTART||0===n.button)&&(e.name===Rd.TOUCHSTART||"undefined"===typeof window||!window.event||window.event.buttons||window.event.button)&&this.shouldBegin.call(this,e)&&!t.keydown){var r=e.target,i=r&&r.isCanvas&&r.isCanvas();if((this.allowDragOnItem||i)&&(t.origin={x:e.clientX,y:e.clientY},t.dragging=!1,this.enableOptimize)){for(var o=this.graph,a=o.getEdges(),s=0,u=a.length;s<u;s++){var l=a[s].get("group").get("children");l&&l.forEach((function(e){e.set("ori-visibility",e.get("ori-visibility")||e.get("visible")),e.hide()}))}for(var c=o.getNodes(),f=0,d=c.length;f<d;f++)for(var h=0,p=c[f].getContainer().get("children");h<p.length;h++){var g=p[h];g.get("isKeyShape")||(g.set("ori-visibility",g.get("ori-visibility")||g.get("visible")),g.hide())}}}},onTouchMove:function(e){var t=e.originalEvent.touches,n=t[0],r=t[1];n&&r?this.onMouseUp(e):(e.preventDefault(),this.onMouseMove(e))},onMouseMove:function(e){var t=this.graph;if(!this.keydown){var n=e.target,r=n&&n.isCanvas&&n.isCanvas();if((this.allowDragOnItem||r)&&(e=ow(e),this.origin)){if(this.dragging)e.type="drag",t.emit("canvas:drag",e);else{if(sw(this.origin.x-e.clientX)+sw(this.origin.y-e.clientY)<10)return;this.shouldBegin.call(this,e)&&(e.type="dragstart",t.emit("canvas:dragstart",e),this.originPosition={x:e.clientX,y:e.clientY},this.dragging=!0)}this.shouldUpdate.call(this,e)&&this.updateViewport(e)}}},onMouseUp:function(e){var t,n,r=this.graph;if(!this.keydown){var i=r.getZoom(),o=r.get("modeController"),a=null===(n=null===(t=null===o||void 0===o?void 0:o.modes[o.mode])||void 0===t?void 0:t.filter((function(e){return"zoom-canvas"===e.type})))||void 0===n?void 0:n[0],s=a?a.optimizeZoom||.1:0;if(this.enableOptimize){for(var u=r.getEdges(),l=0,c=u.length;l<c;l++){var f=u[l].get("group").get("children");f&&f.forEach((function(e){e.get("ori-visibility")&&e.show()}))}if(i>s)for(var d=r.getNodes(),h=0,p=d.length;h<p;h++)for(var g=0,v=d[h].getContainer().get("children");g<v.length;g++){var m=v[g];if(!m.get("isKeyShape"))m.get("ori-visibility")&&m.show()}}this.dragging?(e=ow(e),this.shouldEnd.call(this,e)&&this.updateViewport(e),e.type="dragend",e.dx=e.clientX-this.originPosition.x,e.dy=e.clientY-this.originPosition.y,r.emit("canvas:dragend",e),this.endDrag()):this.origin=null}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(e){var t=e.key;t&&(uw.indexOf(t.toLowerCase())>-1?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},cw={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected",enableOptimize:!1,enableDebounce:!1,enableStack:!0}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onDragEnd"}},validationCombo:function(e){return!(!this.origin||!e||e.destroyed)&&"combo"===e.getType()},onTouchStart:function(e){if(e.item){try{var t=e.originalEvent.touches,n=t[0],r=t[1];if(n&&r)return;e.preventDefault()}catch(e){console.warn("Touch original event not exist!")}this.onDragStart(e)}},onTouchMove:function(e){try{var t=e.originalEvent.touches,n=t[0],r=t[1];if(n&&r)return void this.onDragEnd(e);e.preventDefault()}catch(e){console.warn("Touch original event not exist!")}this.onDrag(e)},onDragStart:function(e){var t=this;if(this.currentShouldEnd=!0,this.shouldBegin.call(this,e)){var n=e.item;if(n&&!n.destroyed&&!n.hasLocked()){n.getContainer().set("capture",!1),this.cachedCaptureItems||(this.cachedCaptureItems=[]),this.cachedCaptureItems.push(n);var r=e.target;if(r)if(r.get("isAnchorPoint"))return;var i=this.graph;this.targets=[],this.targetCombo=null;var o=i.findAllByState("node",this.selectedState),a=n.get("id"),s=o.filter((function(e){var t=e.get("id");return a===t}));0===s.length?this.targets.push(n):o.length>1?o.forEach((function(e){e.hasLocked()||t.targets.push(e)})):this.targets.push(n);var u=[];this.targets.forEach((function(e){u.push((0,Dr.clone)(e.getModel()))})),this.set("beforeDragNodes",u),this.hidenEdge={},this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach((function(e){e.getEdges().forEach((function(e){e.isVisible()&&(t.hidenEdge[e.getID()]=!0,e.hide())}))})),this.origin={x:e.x,y:e.y},this.point={},this.originPoint={}}}},onDrag:function(e){var t=this;this.origin&&this.shouldUpdate.call(this,e)&&(this.get("enableDelegate")?this.updateDelegate(e):this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge")}):this.targets.map((function(n){t.update(n,e)})))},onDragEnd:function(e){var t,n=this;if(this.origin){null===(t=this.cachedCaptureItems)||void 0===t||t.forEach((function(e){e.getContainer().set("capture",!0)})),this.cachedCaptureItems=[],this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach((function(e){e.getEdges().forEach((function(e){n.hidenEdge[e.getID()]&&e.show(),e.refresh()}))})),this.hidenEdge={};var r=this.graph;if(r.get("enabledStack")&&this.enableStack){var i={before:{nodes:[],edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.get("beforeDragNodes").forEach((function(e){i.before.nodes.push({id:e.id,x:e.x,y:e.y})})),this.targets.forEach((function(e){var t=e.getModel();i.after.nodes.push({id:t.id,x:t.x,y:t.y})})),r.pushStack("update",(0,Dr.clone)(i))}r.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(e){var t=e.item;if(this.currentShouldEnd=this.shouldEnd.call(this,e,t),this.updatePositions(e,!this.currentShouldEnd),this.currentShouldEnd&&this.validationCombo(t)){var n=this.graph;if(this.comboActiveState&&n.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)n.updateCombos();else{var r=t.getModel();this.targets.map((function(e){e.getModel().comboId!==r.id&&n.updateComboTree(e,r.id)})),n.updateCombo(t)}n.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(e){var t=this.graph;this.currentShouldEnd=this.shouldEnd.call(this,e,void 0),this.updatePositions(e,!this.currentShouldEnd),this.targets&&0!==this.targets.length&&this.currentShouldEnd&&(this.onlyChangeComboSize?t.updateCombos():this.targets.map((function(e){e.getModel().comboId&&t.updateComboTree(e)})))},onDropNode:function(e){if(this.targets&&0!==this.targets.length){var t=this,n=e.item,r=t.graph,i=n.getModel().comboId,o=i?r.findById(i):void 0;if(this.currentShouldEnd=this.shouldEnd.call(this,e,o),this.updatePositions(e,!this.currentShouldEnd),this.currentShouldEnd){if(this.onlyChangeComboSize)r.updateCombos();else if(i){var a=r.findById(i);t.comboActiveState&&r.setItemState(a,t.comboActiveState,!1),this.targets.map((function(e){var t=e.getModel();i!==t.comboId&&r.updateComboTree(e,i)})),r.updateCombo(a)}else this.targets.map((function(e){e.getModel().comboId&&r.updateComboTree(e)}));r.emit("dragnodeend",{items:this.targets,targetItem:n})}}},onDragEnter:function(e){var t=e.item;if(this.validationCombo(t)){var n=this.graph;this.comboActiveState&&n.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(e){var t=e.item;if(this.validationCombo(t)){var n=this.graph;this.comboActiveState&&n.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(e,t){var n=this;this.targets&&0!==this.targets.length&&(this.get("enableDelegate")?this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge"),updateFunc:this.update}):t||this.targets.map((function(t){return n.update(t,e)})):this.targets.map((function(r){return n.update(r,e,t)})))},update:function(e,t,n){var r=this.origin,i=e.get("model"),o=e.get("id");this.point[o]||(this.point[o]={x:i.x||0,y:i.y||0});var a=t.x-r.x+this.point[o].x,s=t.y-r.y+this.point[o].y;n&&(a+=r.x-t.x,s+=r.y-t.y);var u={x:a,y:s};this.get("updateEdge")?this.graph.updateItem(e,u,!1):e.updatePosition(u)},debounceUpdate:(0,Dr.debounce)((function(e){var t=e.targets,n=e.graph,r=e.point,i=e.origin,o=e.evt,a=e.updateEdge;e.updateFunc;t.map((function(e){var t=e.get("model"),s=e.get("id");r[s]||(r[s]={x:t.x||0,y:t.y||0});var u={x:o.x-i.x+r[s].x,y:o.y-i.y+r[s].y};a?n.updateItem(e,u,!1):e.updatePosition(u)}))}),50,!0),updateDelegate:function(e){var t=this.graph;if(this.delegateRect){var n=e.x-this.origin.x+this.originPoint.minX,r=e.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:n,y:r})}else{var i=t.get("group"),o=(0,Dr.deepMix)({},Vg.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(e),s=a.x,u=a.y,l=a.width,c=a.height,f=a.minX,d=a.minY;this.originPoint={x:s,y:u,width:l,height:c,minX:f,minY:d},this.delegateRect=i.addShape("rect",{attrs:(0,Ir.__assign)({width:l,height:c,x:s,y:u},o),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(e){var t=this.targets;0===t.length&&t.push(e.item);for(var n=1/0,r=-1/0,i=1/0,o=-1/0,a=0;a<t.length;a++){var s=t[a].getBBox(),u=s.minX,l=s.minY,c=s.maxX,f=s.maxY;u<n&&(n=u),l<i&&(i=l),c>r&&(r=c),f>o&&(o=f)}return{x:Math.floor(n),y:Math.floor(i),width:Math.ceil(r)-Math.floor(n),height:Math.ceil(o)-Math.floor(i),minX:n,minY:i}}},fw={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return"mouseenter"===this.get("trigger")?{"node:mouseenter":"setAllItemStates","combo:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState","combo:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","combo:click":"setAllItemStates","canvas:click":"clearActiveState","node:touchstart":"setOnTouchStart","combo:touchstart":"setOnTouchStart","canvas:touchstart":"clearOnTouchStart"}},setOnTouchStart:function(e){try{var t=e.originalEvent.touches,n=t[0],r=t[1];if(n&&r)return;e.preventDefault()}catch(e){console.warn("Touch original event not exist!")}this.setAllItemStates(e)},clearOnTouchStart:function(e){try{var t=e.originalEvent.touches,n=t[0],r=t[1];if(n&&r)return;e.preventDefault()}catch(e){console.warn("Touch original event not exist!")}this.clearActiveState(e)},setAllItemStates:function(e){var t=e.item,n=this.graph;if(this.item=t,this.shouldUpdate(e.item,{event:e,action:"activate"})){for(var r=this.activeState,i=this.inactiveState,o=n.getNodes(),a=n.getCombos(),s=n.getEdges(),u=n.get("vedges"),l=o.length,c=a.length,f=s.length,d=u.length,h=0;h<l;h++){var p=o[h],g=p.hasState("selected");this.resetSelected&&g&&n.setItemState(p,"selected",!1),n.setItemState(p,r,!1),i&&n.setItemState(p,i,!0)}for(h=0;h<c;h++){var v=a[h];g=v.hasState("selected");this.resetSelected&&g&&n.setItemState(v,"selected",!1),n.setItemState(v,r,!1),i&&n.setItemState(v,i,!0)}for(h=0;h<f;h++){var m=s[h];n.setItemState(m,r,!1),i&&n.setItemState(m,i,!0)}for(h=0;h<d;h++){var y=u[h];n.setItemState(y,r,!1),i&&n.setItemState(y,i,!0)}i&&n.setItemState(t,i,!1),n.setItemState(t,r,!0);var b=t.getEdges(),x=b.length;for(h=0;h<x;h++){var w=void 0;w=(m=b[h]).getSource()===t?m.getTarget():m.getSource(),i&&n.setItemState(w,i,!1),n.setItemState(w,r,!0),n.setItemState(m,i,!1),n.setItemState(m,r,!0),m.toFront()}n.emit("afteractivaterelations",{item:e.item,action:"activate"})}},clearActiveState:function(e){var t=this,n=t.get("graph");if(t.shouldUpdate(e.item,{event:e,action:"deactivate"})){var r=this.activeState,i=this.inactiveState,o=n.get("autoPaint");n.setAutoPaint(!1);for(var a=n.getNodes()||[],s=n.getCombos()||[],u=n.getEdges()||[],l=n.get("vedges")||[],c=a.length,f=s.length,d=u.length,h=l.length,p=0;p<c;p++){var g=a[p];n.clearItemStates(g,[r,i])}for(p=0;p<f;p++){var v=s[p];n.clearItemStates(v,[r,i])}for(p=0;p<d;p++){var m=u[p];n.clearItemStates(m,[r,i,"deactivate"])}for(p=0;p<h;p++){var y=l[p];n.clearItemStates(y,[r,i,"deactivate"])}n.paint(),n.setAutoPaint(o),n.emit("afteractivaterelations",{item:e.item||t.get("item"),action:"deactivate"})}}},dw=Math.min,hw=Math.max,pw=Math.abs,gw="shift",vw=["drag","shift","ctrl","alt","control"],mw={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:gw,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return vw.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=gw,console.warn("Behavior brush-select \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),"drag"===this.trigger?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(e){var t=e.item,n=this.brush;t||("drag"===this.trigger||this.keydown)&&(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates(),n||(n=this.createBrush()),this.originPoint={x:e.canvasX,y:e.canvasY},n.attr({width:0,height:0}),n.show(),this.dragging=!0)},onMouseMove:function(e){this.dragging&&("drag"===this.trigger||this.keydown)&&this.updateBrush(e)},onMouseUp:function(e){this.graph;(this.brush||this.dragging)&&("drag"===this.trigger||this.keydown)&&(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(e),this.dragging=!1)},clearStates:function(){var e=this.graph,t=this.selectedState,n=e.findAllByState("node",t),r=e.findAllByState("edge",t);n.forEach((function(n){return e.setItemState(n,t,!1)})),r.forEach((function(n){return e.setItemState(n,t,!1)})),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),e.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(e){var t=this,n=this,r=n.graph,i=n.originPoint,o=n.shouldUpdate,a=this.selectedState,s={x:e.x,y:e.y},u=r.getPointByCanvas(i.x,i.y),l=dw(s.x,u.x),c=hw(s.x,u.x),f=dw(s.y,u.y),d=hw(s.y,u.y),h=[],p=[];r.getNodes().forEach((function(e){if(e.isVisible()){var t=e.getBBox();if(t.centerX>=l&&t.centerX<=c&&t.centerY>=f&&t.centerY<=d&&o(e,"select")){h.push(e);var n=e.getModel();p.push(n.id),r.setItemState(e,a,!0)}}}));var g=[];this.includeEdges&&h.forEach((function(e){e.getOutEdges().forEach((function(e){if(e.isVisible()){var n=e.getModel(),i=n.source,a=n.target;p.includes(i)&&p.includes(a)&&o(e,"select")&&(g.push(e),r.setItemState(e,t.selectedState,!0))}}))})),this.selectedEdges=g,this.selectedNodes=h,this.onSelect&&this.onSelect(h,g),r.emit("nodeselectchange",{selectedItems:{nodes:h,edges:g},select:!0})},createBrush:function(){var e=this.graph.get("canvas").addShape("rect",{attrs:this.brushStyle,capture:!1,name:"brush-shape"});return this.brush=e,this.delegate=e,e},updateBrush:function(e){var t=this.originPoint;this.brush.attr({width:pw(e.canvasX-t.x),height:pw(e.canvasY-t.y),x:dw(e.canvasX,t.x),y:dw(e.canvasY,t.y)})},onKeyDown:function(e){var t=e.key;if(t){var n=this.trigger.toLowerCase(),r=t.toLowerCase();this.keydown=r===n||"control"===r&&"ctrl"===n||"ctrl"===r&&"control"===n}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},yw="shift",bw=["shift","ctrl","alt","control"],xw={getDefaultCfg:function(){return{multiple:!0,trigger:yw,selectedState:"selected"}},getEvents:function(){var e=this;return bw.indexOf(e.trigger.toLowerCase())>-1||(e.trigger=yw,console.warn("Behavior brush-select \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),e.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(e){var t=this,n=e.item;if(n&&!n.destroyed){n.getType();var r=t.graph,i=t.keydown,o=t.multiple,a=t.shouldUpdate;if(t.shouldBegin.call(t,e)){if(!i||!o){var s=r.findAllByState("node",t.selectedState).concat(r.findAllByState("combo",t.selectedState));(0,Dr.each)(s,(function(e){e!==n&&r.setItemState(e,t.selectedState,!1)}))}if(n.hasState(t.selectedState)){a.call(t,e)&&r.setItemState(n,t.selectedState,!1);var u=r.findAllByState("node",t.selectedState),l=r.findAllByState("combo",t.selectedState);r.emit("nodeselectchange",{target:n,selectedItems:{nodes:u,combos:l},select:!1})}else{a.call(t,e)&&r.setItemState(n,t.selectedState,!0);u=r.findAllByState("node",t.selectedState),l=r.findAllByState("combo",t.selectedState);r.emit("nodeselectchange",{target:n,selectedItems:{nodes:u,combos:l},select:!0})}}}},onCanvasClick:function(e){var t=this,n=this.graph;if(this.shouldBegin.call(this,e)){var r=n.findAllByState("node",this.selectedState);(0,Dr.each)(r,(function(e){n.setItemState(e,t.selectedState,!1)}));var i=n.findAllByState("combo",this.selectedState);(0,Dr.each)(i,(function(e){n.setItemState(e,t.selectedState,!1)})),n.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})}},onKeyDown:function(e){var t=e.key;t&&(t.toLowerCase()===this.trigger.toLowerCase()||"control"===t.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},ww=Wr,Ew={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"},animate:!1,animateCfg:{duration:500}}},getEvents:function(){var e=this.fixSelectedItems;return e.fixState||(e.fixState="selected"),e.fixAll&&(e.fixLineWidth=!0,e.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(e){var t=e.originalEvent.touches,n=t[0],r=t[1];e.preventDefault(),r&&(this.shouldBegin&&!this.shouldBegin.call(this,e)||(this.startPoint={pageX:n.pageX,pageY:n.pageY},this.moveable=!0,r&&(this.endPoint={pageX:r.pageX,pageY:r.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(e){if(this.moveable){e.preventDefault();var t=e.originalEvent.touches,n=t[0],r=t[1];if(r){this.endPoint||(this.endPoint={pageX:r.pageX,pageY:r.pageY});var i=function(e,t){return Math.hypot(t.x-e.x,t.y-e.y)},o=i({x:n.pageX,y:n.pageY},{x:r.pageX,y:r.pageY})/i({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),a=this.originScale*o;this.currentScale=a;var s=this.get("minZoom")||this.graph.get("minZoom");if(!(a>(this.get("maxZoom")||this.graph.get("maxZoom"))||a<s)){var u=this.get("animate"),l=this.get("animateCfg"),c=this.graph.get("canvas").getPointByClient(e.clientX,e.clientY);this.graph.zoomTo(a,{x:c.x,y:c.y},u,l),this.graph.emit("wheelzoom",e)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(e){var t=this,n=this.graph,r=this.fixSelectedItems;if((!this.shouldBegin||this.shouldBegin.call(this,e))&&this.shouldUpdate.call(this,e)){e.preventDefault();var i,o=n.get("canvas").getPointByClient(e.clientX,e.clientY),a=this.get("sensitivity"),s=n.getZoom();i=s*(e.wheelDelta<0?1-.05*a:1/(1-.05*a));var u=this.get("minZoom")||n.get("minZoom");if(!(i>(this.get("maxZoom")||n.get("maxZoom"))||i<u)){if(this.get("enableOptimize")){var l=this.get("optimizeZoom"),c=this.get("optimized"),f=n.getNodes(),d=n.getEdges(),h=f.length,p=d.length;if(!c){for(var g=0;g<h;g++){if(!(T=f[g]).destroyed)for(var v=(H=T.get("group").get("children")).length,m=0;m<v;m++){(R=H[m]).destoryed||R.get("isKeyShape")||(R.set("ori-visibility",R.get("ori-visibility")||R.get("visible")),R.hide())}}for(var y=0;y<p;y++)for(v=(H=(Z=d[y]).get("group").get("children")).length,m=0;m<v;m++){(R=H[m]).set("ori-visibility",R.get("ori-visibility")||R.get("visible")),R.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var b=setTimeout((function(){var e=n.getZoom();if(t.get("optimized")){t.set("optimized",!1);for(var r=0;r<h;r++){var i=f[r],o=(c=i.get("group").get("children")).length;if(e<l)(s=(g=i.getKeyShape()).get("ori-visibility"))&&g.show();else for(var a=0;a<o;a++){var s=(m=c[a]).get("ori-visibility");!m.get("visible")&&s&&s&&m.show()}}for(var u=0;u<p;u++){var c,g,v=d[u];o=(c=v.get("group").get("children")).length;if(e<l)(s=(g=v.getKeyShape()).get("ori-visibility"))&&g.show();else for(a=0;a<o;a++){var m;if(!(m=c[a]).get("visible"))(s=m.get("ori-visibility"))&&m.show()}}}}),100);this.set("timeout",b)}if(s<=1){var x=void 0,w=void 0;if(r.fixAll||r.fixLineWidth||r.fixLabel){x=n.findAllByState("node",r.fixState),w=n.findAllByState("edge",r.fixState);for(var E=s/i,S=x.length,_=0;_<S;_++){var T,k=(T=x[_]).getContainer(),C=T.getModel(),M=T.getOriginStyle(),A=T.getStateStyle(r.fixState),N=T.get("shapeFactory").getShape(C.type).getStateStyle(r.fixState,T)[r.fixState];if(r.fixAll){if(i<=1){var P=(0,Dr.clone)(k.getMatrix());P||(P=[1,0,0,0,1,0,0,0,1]);var I=T.getModel(),D=I.x,O=I.y;P=ww(P,[["t",-D,-O],["s",E,E],["t",D,O]]),k.setMatrix(P)}}else for(v=(H=k.get("children")).length,m=0;m<v;m++){var R=H[m],L=void 0,j=void 0;if(r.fixLabel)if("text"===R.get("type")){L=R.attr("fontSize")||12;var B=A[R.get("name")],F=N[R.get("name")],z=B?B.fontSize:12,Y=F?F.fontSize:12,G=z||Y||12;if(i<=1&&R.attr("fontSize",G/i),j)break}if(r.fixLineWidth&&R.get("isKeyShape")){j=R.attr("lineWidth")||0;var V=A.lineWidth||N.lineWidth||M.lineWidth||0;if(i<=1&&R.attr("lineWidth",V/i),L)break}}}for(var U=w.length,W=0;W<U;W++){var Z,H=(k=(Z=w[W]).getContainer()).get("children");for(C=Z.getModel(),A=Z.getStateStyle(r.fixState),N=Z.get("shapeFactory").getShape(C.type).getStateStyle(r.fixState,Z)[r.fixState],v=H.length,m=0;m<v;m++){R=H[m],L=void 0,j=void 0;if(r.fixLabel||r.fixAll)if("text"===R.get("type")){L=R.attr("fontSize")||12;B=A[R.get("name")],F=N[R.get("name")],z=B?B.fontSize:12,Y=F?F.fontSize:12,G=z||Y||12;if(i<=1&&R.attr("fontSize",G/i),j)break}if((r.fixLineWidth||r.fixAll)&&R.get("isKeyShape")){j=R.attr("lineWidth")||0;V=A.lineWidth||N.lineWidth||1;if(i<=1&&R.attr("lineWidth",V/i),L)break}}}}}var X=this.get("animate"),K=this.get("animateCfg");n.zoomTo(i,{x:o.x,y:o.y},X,K),n.emit("wheelzoom",e)}}}},Sw={onMouseEnter:function(e){var t=e.item;this.currentTarget=t,this.showTooltip(e),this.graph.emit("tooltipchange",{item:e.item,action:"show"})},onMouseMove:function(e){this.shouldUpdate(e)?this.currentTarget&&e.item===this.currentTarget&&this.updatePosition(e):this.hideTooltip()},onMouseLeave:function(e){this.shouldEnd(e)&&(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(e){var t=this.container;if(e.item&&!e.item.destroyed){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var n=this.formatText(e.item.get("model"),e);t.innerHTML=n,Yv(this.container,{visibility:"visible"}),this.updatePosition(e)}},hideTooltip:function(){Yv(this.container,{visibility:"hidden"})},updatePosition:function(e){var t=this.get("shouldBegin"),n=this,r=n.width,i=n.height,o=n.container,a=n.graph;if(t(e)){var s=a.getPointByClient(e.clientX,e.clientY),u=a.getCanvasByPoint(s.x,s.y),l=u.x,c=u.y,f=o.getBoundingClientRect();l>r/2?l-=f.width:l+=this.offset,c>i/2?c-=f.height:c+=this.offset;var d="".concat(l,"px"),h="".concat(c,"px");Yv(this.container,{left:d,top:h,visibility:"visible"})}else Yv(o,{visibility:"hidden"})},createTooltip:function(e){var t=e.get("el");t.style.position="relative";var n=Dv('<div class="g6-tooltip g6-'.concat(this.item,'-tooltip"></div>'));return t.parentNode.appendChild(n),Yv(n,{position:"absolute",visibility:"visible"}),this.width=e.get("width"),this.height=e.get("height"),this.container=n,this.graph.get("tooltips").push(n),n}},_w=(0,Ir.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(e){return e.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},Sw),Tw=(0,Ir.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(e){return"source: ".concat(e.source," target: ").concat(e.target)}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},Sw),kw="click",Cw=["click","dblclick"],Mw={getDefaultCfg:function(){return{trigger:kw,onChange:function(){}}},getEvents:function(){var e,t;return Cw.includes(this.trigger)?t=this.trigger:(t=kw,console.warn("Behavior collapse-expand \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'click' \u6216 'dblclick'")),(e={})["node:".concat(t)]="onNodeClick",e.touchstart="onNodeClick",e},onNodeClick:function(e){var t=e.item;if(t){var n=this.graph.findDataById(t.get("id"));if(n){var r=n.children;if(r&&0!==r.length){var i=!n.collapsed;this.shouldBegin(e,i)&&(n.collapsed=i,t.getModel().collapsed=i,this.graph.emit("itemcollapsed",{item:e.item,collapsed:i}),this.shouldUpdate(e,i)&&(this.onChange(t,i),this.graph.layout()))}}}}},Aw=sv.calculationItemsBBox,Nw=function e(t,n){if(!1!==n(t)&&t){var r=t.get("combos");if(0===r.length)return!1;(0,Dr.each)(r,(function(t){e(t,n)}))}},Pw={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(e){var t=e.item;return!(!t||t.destroyed)&&(!!this.shouldUpdate.call(this,e)&&"combo"===t.getType())},onDragStart:function(e){var t=this,n=this.graph,r=e.item;if(this.currentShouldEnd=!0,this.validationCombo(e)){this.targets=[];var i=n.findAllByState("combo",this.selectedState),o=r.get("id"),a=i.filter((function(e){var t=e.get("id");return o===t}));0===a.length?this.targets.push(r):this.targets=i,this.activeState&&this.targets.map((function(e){var r=e.getModel();if(r.parentId){var i=n.findById(r.parentId);i&&n.setItemState(i,t.activeState,!0)}})),this.point={},this.originPoint={},this.origin={x:e.x,y:e.y},this.currentItemChildCombos=[],Nw(r,(function(e){if(e.destroyed)return!1;var n=e.getModel();return t.currentItemChildCombos.push(n.id),!0}))}},onDrag:function(e){var t=this;if(this.origin&&this.validationCombo(e))if(this.enableDelegate)this.updateDelegate(e);else{if(this.activeState){var n=this.graph,r=e.item,i=r.getModel(),o=n.getCombos(),a=r.getBBox(),s=a.centerX,u=a.centerY,l=a.width,c=o.filter((function(e){var n=e.getModel();return i.parentId,n.id!==i.id&&!t.currentItemChildCombos.includes(n.id)}));c.map((function(e){var r=e.getBBox(),i=r.centerX,o=r.centerY,a=r.width,c=s-i,f=u-o,d=2*Math.sqrt(c*c+f*f);l+a-d>.8*l?n.setItemState(e,t.activeState,!0):n.setItemState(e,t.activeState,!1)}))}(0,Dr.each)(this.targets,(function(n){t.updateCombo(n,e)}))}},updatePositions:function(e,t){var n=this;(this.enableDelegate||t)&&(0,Dr.each)(this.targets,(function(r){n.updateCombo(r,e,t)}))},onDrop:function(e){var t=this,n=e.item;if(this.currentShouldEnd=this.shouldEnd.call(this,e,n),this.updatePositions(e,!this.currentShouldEnd),this.currentShouldEnd&&n&&this.targets&&!n.destroyed){var r=this.graph,i=n.getModel();this.targets.map((function(e){e.getModel().parentId!==i.id?(t.activeState&&r.setItemState(n,t.activeState,!1),t.onlyChangeComboSize?r.updateCombo(e):r.updateComboTree(e,i.id)):r.updateCombo(n)})),this.end(n,e),this.endComparison=!0}},onNodeDrop:function(e){var t=this;if(this.targets&&0!==this.targets.length){var n=this.graph,r=e.item.getModel().comboId,i=r?n.findById(r):void 0;if(this.currentShouldEnd=this.shouldEnd.call(this,e,i),this.updatePositions(e,!this.currentShouldEnd),this.currentShouldEnd){var o;if(r){if(this.activeState){var a=n.findById(r);n.setItemState(a,this.activeState,!1)}this.targets.map((function(e){t.onlyChangeComboSize?n.updateCombo(e):r!==e.getID()&&(o=n.findById(r),r!==e.getModel().parentId&&n.updateComboTree(e,r))}))}else this.targets.map((function(e){t.onlyChangeComboSize?n.updateCombo(e):e.getModel().comboId&&n.updateComboTree(e)}));this.endComparison=!0,this.end(o,e)}}},onDragEnter:function(e){if(this.origin&&this.validationCombo(e)){var t=e.item,n=this.graph;this.activeState&&n.setItemState(t,this.activeState,!0)}},onDragLeave:function(e){if(this.origin&&this.validationCombo(e)){var t=e.item,n=this.graph;this.activeState&&n.setItemState(t,this.activeState,!1)}},onDragEnd:function(e){if(this.targets&&0!==this.targets.length){var t=e.item;this.currentShouldEnd&&this.updatePositions(e);var n=this.getParentCombo(t.getModel().parentId),r=this.graph;n&&this.activeState&&r.setItemState(n,this.activeState,!1),this.end(void 0,e)}},end:function(e,t){var n=this;if(this.origin){var r=this.graph;if(this.delegateShape)r.get("delegateGroup").clear(),this.delegateShape=null;e&&this.activeState&&r.setItemState(e,this.activeState,!1),e||this.targets.map((function(e){n.onlyChangeComboSize?r.updateCombo(e):r.updateComboTree(e)})),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(e,t){var n=this;if(!1!==t(e)&&e){var r=e.get("combos");(0,Dr.each)(r,(function(e){n.traverse(e,t)}));var i=e.get("nodes");(0,Dr.each)(i,(function(e){n.traverse(e,t)}))}},updateCombo:function(e,t,n){var r=this;this.traverse(e,(function(e){return!e.destroyed&&(r.updateSignleItem(e,t,n),!0)}))},updateSignleItem:function(e,t,n){var r=this.origin,i=this.graph,o=e.getModel(),a=e.get("id");this.point[a]||(this.point[a]={x:o.x,y:o.y});var s=t.x-r.x+this.point[a].x,u=t.y-r.y+this.point[a].y;n&&(s+=r.x-t.x,u+=r.y-t.y),i.updateItem(e,{x:s,y:u})},getParentCombo:function(e){var t=this.graph;if(e){var n=t.findById(e);if(n)return n}},updateDelegate:function(e){var t=this.graph;if(this.delegateShape){var n=e.x-this.origin.x+this.originPoint.minX,r=e.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:n,y:r})}else{var i=t.get("delegateGroup"),o=null,a=(o=this.targets.length>1?Aw(this.targets):this.targets[0].getBBox()).x,s=o.y,u=o.width,l=o.height,c=o.minX,f=o.minY;this.originPoint={x:a,y:s,width:u,height:l,minX:c,minY:f};var d=(0,Ir.__assign)((0,Ir.__assign)({},Vg.delegateStyle),this.delegateStyle);this.delegateShape=i.addShape("rect",{attrs:(0,Ir.__assign)({width:o.width,height:o.height,x:o.x,y:o.y},d),name:"combo-delegate-shape"}),this.delegateShape.set("capture",!1),this.delegate=this.delegateShape}}},Iw="dblclick",Dw=["click","dblclick"],Ow={getDefaultCfg:function(){return{trigger:Iw,relayout:!0}},getEvents:function(){var e,t;return Dw.includes(this.trigger)?t=this.trigger:(t=Iw,console.warn("Behavior collapse-expand-group \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'click' \u6216 'dblclick'")),(e={})["combo:".concat(t)]="onComboClick",e},onComboClick:function(e){var t=e.item,n=this.graph,r=this.relayout;if(t&&!t.destroyed&&"combo"===t.getType()){var i=t.getModel().id;i&&(n.collapseExpandCombo(i),r&&n.get("layout")?n.layout():n.refreshPositions())}}},Rw=sv.isPolygonsIntersect,Lw=sv.pathToPoints,jw="shift",Bw=["drag","shift","ctrl","alt","control"],Fw={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:jw,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return Bw.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=jw,console.warn("Behavior lasso-select \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),"drag"===this.trigger?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(e){var t=this.lasso;e.item||("drag"===this.trigger||this.keydown)&&(this.selectedNodes&&0!==this.selectedNodes.length&&this.clearStates(),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:e.x,y:e.y},this.points.push(this.originPoint),t.show())},onDragMove:function(e){this.dragging&&("drag"===this.trigger||this.keydown)&&(this.points.push({x:e.x,y:e.y}),this.updateLasso(e))},onDragEnd:function(e){(this.lasso||this.dragging)&&("drag"===this.trigger||this.keydown)&&(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var e=this.points,t=[];return e.length&&(e.forEach((function(e,n){0===n?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])})),t.push(["L",e[0].x,e[0].y])),t},clearStates:function(){var e=this.graph,t=this.selectedState,n=e.findAllByState("node",t),r=e.findAllByState("edge",t);n.forEach((function(n){return e.setItemState(n,t,!1)})),r.forEach((function(n){return e.setItemState(n,t,!1)})),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],e.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var e=this,t=this.graph,n=this.shouldUpdate,r=this.points.map((function(e){return[t.getCanvasByPoint(e.x,e.y).x,t.getCanvasByPoint(e.x,e.y).y]})),i=this.selectedState,o=[],a=[];t.getNodes().forEach((function(e){if(e.isVisible()&&function(e,t){var n,r=e.getKeyShape();if("path"===e.get("type"))n=Lw(r.attr("path"));else{var i=r.getCanvasBBox();n=[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}return Rw(t,n)}(e,r)&&n(e,"select")){o.push(e);var s=e.getModel();a.push(s.id),t.setItemState(e,i,!0)}}));var s=[];this.includeEdges&&o.forEach((function(r){r.getOutEdges().forEach((function(r){if(r.isVisible()){var i=r.getModel(),o=i.source,u=i.target;a.includes(o)&&a.includes(u)&&n(r,"select")&&(s.push(r),t.setItemState(r,e.selectedState,!0))}}))})),this.selectedEdges=s,this.selectedNodes=o,this.onSelect&&this.onSelect(o,s),t.emit("nodeselectchange",{selectedItems:{nodes:o,edges:s},select:!0})},createLasso:function(){var e=this.graph.get("delegateGroup").addShape("path",{attrs:(0,Ir.__assign)({path:[]},this.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=e,this.delegate=e,this.points=[],e},updateLasso:function(e){this.lasso.attr({path:this.getLassoPath()})},onKeyDown:function(e){var t=e.key;t&&(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},zw="click",Yw=["click","drag"],Gw=void 0,Vw=["shift","ctrl","control","alt","meta",void 0],Uw={getDefaultCfg:function(){return{trigger:zw,key:Gw,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var e,t=this;return Yw.indexOf(t.trigger.toLowerCase())>-1||(t.trigger=zw,console.warn("Behavior create-edge \u7684 trigger \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'click'\uff0c'drag'")),t.key&&-1===Vw.indexOf(t.key.toLowerCase())&&(t.trigger=Gw,console.warn("Behavior create-edge \u7684 key \u53c2\u6570\u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'shift'\uff0c'ctrl'\uff0c'alt'\uff0c'control'\uff0c\u6216 undefined")),"drag"===t.trigger?e={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:"click"===t.trigger&&(e={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),t.key&&(e.keydown="onKeyDown",e.keyup="onKeyUp"),e},onDragEnd:function(e){var t=this;if(!t.key||t.keydown){var n=e.item;n&&n.getID()!==t.source&&"node"===n.getType()||t.cancelCreating({item:t.edge,x:e.x,y:e.y})}},onClick:function(e){var t=this;if(!t.key||t.keydown){var n=e.item,r=t.graph,i=n.getModel(),o=t.getEdgeConfig;if(t.addingEdge&&t.edge){if(!t.shouldEnd.call(t,e))return;var a=void 0;a=o&&(0,Dr.isFunction)(o)?o({source:t.source,target:i.id}):t.edgeConfig;var s=(0,Ir.__assign)({target:i.id},a);if(t.source===i.id&&(s.type="loop"),r.emit("beforecreateedge",{}),r.updateItem(t.edge,s,!1),r.get("enabledStack")){var u=(0,Ir.__assign)((0,Ir.__assign)({},t.edge.getModel()),{itemType:"edge"}),l={};l.edges=[u],r.pushStack("add",{before:{},after:l})}r.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin.call(t,e))return;a=void 0;a=o&&(0,Dr.isFunction)(o)?o({source:i.id,target:i.id}):t.edgeConfig,t.edge=r.addItem("edge",(0,Ir.__assign)({source:i.id,target:i.id},a),!1),t.source=i.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(e){var t=this;if(!t.key||t.keydown){t.edge&&t.edge.destroyed&&t.cancelCreating({item:t.edge});var n={x:e.x,y:e.y};t.graph.findById(t.source)?t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:n},!1):t.addingEdge=!1}},cancelCreating:function(e){var t,n,r=this;if(!r.key||r.keydown){var i=r.graph,o=e.item;return r.addingEdge&&(r.edge===o||(null===(n=null===(t=e.target)||void 0===t?void 0:t.isCanvas)||void 0===n?void 0:n.call(t)))?(r.edge&&!r.edge.destroyed&&i.removeItem(r.edge,!1),r.edge=null,void(r.addingEdge=!1)):void 0}},onKeyDown:function(e){var t=this,n=e.key;n&&(n.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var e=this;e.addingEdge&&e.edge&&(e.graph.removeItem(e.edge,!1),e.addingEdge=!1,e.edge=null),this.keydown=!1}},Ww="ctrl",Zw=["shift","ctrl","alt","control"],Hw={getDefaultCfg:function(){return{trigger:Ww,combinedKey:"1",functionName:"fitView",functionParams:[]}},getEvents:function(){return Zw.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Ww,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53c2\u6570 '".concat(this.trigger,"' \u4e0d\u5408\u6cd5\uff0c\u8bf7\u8f93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'"))),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(e){var t=e.key;if(t){var n=this.trigger.toLowerCase(),r=t.toLowerCase();this.triggerKeydown||(this.triggerKeydown=r===n||"control"===r&&"ctrl"===n||"ctrl"===r&&"control"===n);var i=this.graph;if(!i[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53c2\u6570 '".concat(this.functionName,"' \u4e0d\u5408\u6cd5\uff0c\u5b83\u4e0d\u662f Graph \u7684\u4e00\u4e2a\u51fd\u6570\u540d")),{};if(!this.triggerKeydown||this.combinedKey){var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(r===o||"control"===r&&"ctrl"===o||"ctrl"===r&&"control"===o)&&(this.functionParams&&this.functionParams.length?i[this.functionName].apply(i,this.functionParams):i[this.functionName]())}else this.functionParams&&this.functionParams.length?i[this.functionName].apply(i,this.functionParams):i[this.functionName]()}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},Xw=["shift","ctrl","alt","control"],Kw={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,zoomKey:"ctrl",scalableRange:0}},getEvents:function(){return this.zoomKey&&-1!==Xw.indexOf(this.zoomKey)||(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(e){var t=this,n=this.graph,r=e["".concat(this.zoomKey,"Key")];if("control"===this.zoomKey&&(r=e.ctrlKey),r){var i=n.get("canvas").getPointByClient(e.clientX,e.clientY),o=n.getZoom();e.wheelDelta>0?o+=.05*o:o-=.05*o,n.zoomTo(o,{x:i.x,y:i.y})}else{var a=e.deltaX||e.movementX,s=e.deltaY||e.movementY;!s&&navigator.userAgent.indexOf("Firefox")>-1&&(s=125*-e.wheelDelta/3);var u=this.graph.get("width"),l=this.graph.get("height"),c=this.graph.get("canvas").getCanvasBBox(),f=this.scalableRange,d=this.scalableRange;f<1&&f>-1&&(f*=u,d*=l);var h=c.minX,p=c.maxX,g=c.minY,v=c.maxY;a>0?p<-f?a=0:p-a<-f&&(a=p+f):a<0&&(h>u+f?a=0:h-a>u+f&&(a=h-(u+f))),s>0?v<-d?s=0:v-s<-d&&(s=v+d):s<0&&(g>l+d?s=0:g-s>l+d&&(s=g-(l+d))),"x"===this.get("direction")?s=0:"y"===this.get("direction")&&(a=0),n.translate(-a,-s)}if(e.preventDefault(),this.get("enableOptimize")){var m=this.get("optimizeZoom"),y=this.get("optimized"),b=n.getNodes(),x=n.getEdges(),w=b.length,E=x.length;if(!y){for(var S=0;S<w;S++){var _=b[S];if(!_.destroyed)for(var T=(M=_.get("group").get("children")).length,k=0;k<T;k++){(A=M[k]).destoryed||A.get("isKeyShape")||(A.set("ori-visibility",A.get("ori-visibility")||A.get("visible")),A.hide())}}for(var C=0;C<E;C++){var M;for(T=(M=x[C].get("group").get("children")).length,k=0;k<T;k++){var A;(A=M[k]).set("ori-visibility",A.get("ori-visibility")||A.get("visible")),A.hide()}}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var N=setTimeout((function(){var e=n.getZoom();if(t.get("optimized")){t.set("optimized",!1);for(var r=0;r<w;r++){var i=b[r],o=(l=i.get("group").get("children")).length;if(e<m)(s=(c=i.getKeyShape()).get("ori-visibility"))&&c.show();else for(var a=0;a<o;a++){var s=(d=l[a]).get("ori-visibility");!d.get("visible")&&s&&s&&d.show()}}for(var u=0;u<E;u++){var l,c,f=x[u];o=(l=f.get("group").get("children")).length;if(e<m)(s=(c=f.getKeyShape()).get("ori-visibility"))&&c.show();else for(a=0;a<o;a++){var d;if(!(d=l[a]).get("visible"))(s=d.get("ori-visibility"))&&d.show()}}}}),100);this.set("timeout",N)}}},qw={"drag-canvas":lw,"zoom-canvas":Ew,"drag-node":cw,"activate-relations":fw,"brush-select":mw,"click-select":xw,"lasso-select":Fw,tooltip:_w,"edge-tooltip":Tw,"collapse-expand":Mw,"drag-combo":Pw,"collapse-expand-combo":Ow,"create-edge":Uw,"shortcuts-call":Hw,"scroll-canvas":Kw};(0,Dr.each)(qw,(function(e,t){Kd(t,e)}));var Jw=(0,Ir.__assign)((0,Ir.__assign)({},e),Jd),$w=Px.Fisheye,Qw=Px.TimeBar,eE=Px.ImageMinimap,tE=Px.EdgeFilterLens,nE=Px.SnapLine,rE={version:Vg.version,Graph:Lv,TreeGraph:zv,Util:sv,Layout:Kg.Layouts,TreeLayout:cv,registerLayout:function(e,t){t.isCustomLayout=!0,Kg.Layouts[e]=(0,Kg.registerLayout)(e,t)},Global:Vg,registerBehavior:Kd,registerCombo:Xd,registerEdge:Hd,registerNode:Zd,Minimap:Px.Minimap,Grid:Px.Grid,Bundling:Px.Bundling,Menu:Px.Menu,ToolBar:Px.ToolBar,Tooltip:Px.Tooltip,Legend:Px.Legend,TimeBar:Qw,SnapLine:nE,Fisheye:$w,ImageMinimap:eE,EdgeFilterLens:tE,Algorithm:Jw,Arrow:Ld,Marker:jd,Shape:Bd};rE.version="4.6.0";var iE=rE,oE=function(e){return function(){if(e&&!e.destroyed){var t=e.getZoom(),n=e.get("canvas"),r=n.getPointByClient(n.get("width")/2,n.get("height")/2),i=n.get("pixelRatio")||1,o=1.25;if(!(o*t>5))return e.zoom(o,{x:r.x/i,y:r.y/i}),{text:"".concat(Math.round(o*t*100),"%"),ratio:o*t}}}},aE=function(e){return function(){if(e&&!e.destroyed){var t=e.getZoom(),n=e.get("canvas"),r=n.getPointByClient(n.get("width")/2,n.get("height")/2),i=n.get("pixelRatio")||1,o=.75;if(!(o*t<.3))return e.zoom(o,{x:r.x/i,y:r.y/i}),{text:"".concat(Math.round(o*t*100),"%"),ratio:o*t}}}},sE=function(e){return function(t){var n=t.text,r=t.ratio;if(e&&!e.destroyed){var i=e.get("canvas"),o=i.getPointByClient(i.get("width")/2,i.get("height")/2),a=i.get("pixelRatio")||1;return e.zoomTo(r,{x:o.x/a,y:o.y/a}),{text:n,ratio:r}}}},uE=function(e){return function(){if(e&&!e.destroyed){var t=e.getZoom();return e.zoom(1/t),e.fitCenter(),{text:"100%",ratio:1}}}},lE=function(e){return function(){if(e&&!e.destroyed){e.getNodes().length>0&&e.fitView([20,20]);var t=e.getZoom();return{text:"".concat(Math.round(100*t),"%"),ratio:t}}}},cE=function(e){return function(t){e.getNodes().forEach((function(n){e.clearItemStates(n,["active","inactive"]),-1!==t.indexOf(n.get("id"))?e.setItemState(n,"active",!0):e.setItemState(n,"active",!1)}))}},fE=function(e){return function(t){if(e&&"string"===typeof t){var n=e.findById(t);n?(e.focusItem(t,!0,{duration:300,easing:"easeCubic"}),e.setItemState(n,"selected",!0),n.toFront()):console.warn("The node ".concat(t," does not exist!"))}}};var dE=Object.assign(Object.assign({},g),v),hE=function(e){return Object.keys(dE).reduce((function(t,n){return Object.assign(Object.assign({},t),function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,dE[n](e)))}),{})},pE={graph:{},apis:{},theme:{},layout:{}},gE=m.createContext(pE),vE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},mE=function(e){var t=e.type,n=e.defaultConfig,r=e.userProps,i=e.mode,o=void 0===i?"default":i,a=m.useContext(gE).graph,s=r.disabled,u=vE(r,["disabled"]);m.useEffect((function(){if(a.removeBehaviors(t,o),!s)return a.addBehaviors(Object.assign(Object.assign({type:t},n),u),o),function(){a.destroyed||a.removeBehaviors(t,o)}}),[])},yE={disabled:!1,trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1},bE={disabled:!1,brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0},xE={disabled:!1,multiple:!0,trigger:"shift",selectedState:"selected"},wE={direction:"both",enableOptimize:!1,scalableRange:0,shouldBegin:function(){return!0},disabled:!1},EE={disabled:!1,enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"},SE={disabled:!1,updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"},_E=function(e){var t=m.useContext(gE),n=t.graph,r=t.layout,i=t.dragNodes,o=t.updateContext,a=e.autoPin,s=e.dragNodeMass,u=void 0===s?1e10:s,l=r.instance;return(0,m.useEffect)((function(){var e=l.simulation,t=l.type,r=function(){console.log("drag-start",l),e&&e.stop()},s=function(e){if("graphin-force"===t&&e.item){var r=e.item.get("model");r.x=e.x,r.y=e.y,r.layout=Object.assign(Object.assign({},r.layout),{force:{mass:a?u:null}});var s=[];n.getNodes().forEach((function(e){if(e.hasState("selected")){var t=e.get("model");t.layout.force={mass:a?u:null},s.push(t)}}));var l=i.concat([r]);s.length>1&&(l=l.concat(s)),o({dragNodes:l})}};return n.on("node:dragstart",r),n.on("node:dragend",s),function(){n.off("node:dragstart",r),n.off("node:dragend",s)}}),[n,a,l,i,o]),null},TE=function(e){var t=e.padding,n=e.isBindLayoutChange,r=m.useContext(gE).graph;return(0,m.useEffect)((function(){var e=function(){r.fitView(t)};return e(),n&&r.on("afterlayout",e),function(){n&&r.off("afterlayout",e)}}),[]),null},kE=function(){var e=m.useContext(gE).graph;return m.useEffect((function(){var t=setTimeout((function(){e.getNodes().forEach((function(t){e.setItemState(t,"normal",!0)})),e.paint()}),1600);return function(){clearTimeout(t)}}),[]),null},CE=function(e){var t=m.useContext(gE),n=e.bindType,r=void 0===n?"node":n,i=e.disabled,o=t.graph;return m.useEffect((function(){if(!i){var e=function(e){o.setItemState(e.item,"hover",!0)},t=function(e){o.setItemState(e.item,"hover",!1)},n=function(e){o.setItemState(e.item,"hover",!0)},a=function(e){o.setItemState(e.item,"hover",!1)};return"node"===r&&(o.on("node:mouseenter",e),o.on("node:mouseleave",t)),"edge"===r&&(o.on("edge:mouseenter",n),o.on("edge:mouseleave",a)),function(){"node"===r&&(o.off("node:mouseenter",e),o.off("node:mouseleave",t)),"edge"===r&&(o.off("edge:mouseenter",n),o.off("edge:mouseleave",a))}}}),[o,i]),null},ME={disabled:!1,delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0},AE=function(e){var t=e.graphDOM,n=m.useContext(gE);return m.useEffect((function(){var e=n.graph,r=(0,Dr.debounce)((function(){var n=t.clientWidth,r=t.clientHeight;e.set("width",n),e.set("height",r);var i=e.get("canvas");i&&(i.changeSize(n,r),e.autoPaint())}),200);return window.addEventListener("resize",r,!1),function(){window.removeEventListener("resize",r,!1)}}),[]),null},NE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},PE={trigger:"click"},IE=function(e){var t=e.onChange,n=NE(e,["onChange"]),r=m.useContext(gE).graph;return mE({defaultConfig:PE,userProps:n,type:"collapse-expand"}),m.useEffect((function(){var e=function(e){var n=e.item,r=e.collapsed;n.get("model").collapsed=r,t&&t(n,r)};return r.on("itemcollapsed",e),function(){r.off("itemcollapsed",e)}}),[]),null},DE={sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"},disabled:!1,animate:!1,animateCfg:{duration:500}},OE={DragCanvas:function(e){return mE({type:"drag-canvas",userProps:e,defaultConfig:wE}),null},ZoomCanvas:function(e){return mE({type:"zoom-canvas",userProps:e,defaultConfig:DE}),null},ClickSelect:function(e){return mE({type:"click-select",userProps:e,defaultConfig:xE}),null},BrushSelect:function(e){return mE({type:"brush-select",userProps:e,defaultConfig:bE}),null},DragNode:function(e){return mE({type:"drag-node",userProps:e,defaultConfig:SE}),null},ResizeCanvas:AE,LassoSelect:function(e){return mE({type:"lasso-select",userProps:e,defaultConfig:ME}),null},DragCombo:function(e){return mE({type:"drag-combo",userProps:e,defaultConfig:EE}),null},ActivateRelations:function(e){return mE({type:"activate-relations",userProps:e,defaultConfig:yE}),null},TreeCollapse:IE,FitView:TE,FontPaint:kE,DragNodeWithForce:_E,Hoverable:CE},RE={type:"compactBox",direction:"LR",getId:function(e){return e.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 80},getHGap:function(){return 20}},LE=["dendrogram","compactBox","mindmap","indented"],jE=function(){return Math.round(80*(Math.random()-.5))},BE=function(e,t){var n=e.nodes,r=e.edges,i=t.nodes,o=new Map;i.forEach((function(e){var t=e.id,n=e.x,r=e.y;o.set(t,{x:n,y:r})}));var a=new Map;n.forEach((function(e){var t=e.id,n=o.get(t);n?(e.x=n.x,e.y=n.y):a.set(t,e)}));var s=new Map;return r.forEach((function(e){var t=e.source,n=e.target,r=a.get(t),i=a.get(n),u=o.get(t),l=o.get(n);r&&l&&s.set(t,{x:l.x+jE(),y:l.y+jE()}),i&&u&&s.set(n,{x:u.x+jE(),y:u.y+jE()})})),n.forEach((function(e){var t=e.id,n=o.get(t)||s.get(t);n?(e.x=n.x,e.y=n.y):(e.x=250+Math.round(500*Math.random()),e.y=150+Math.round(300*Math.random()))})),Object.assign(Object.assign({},e),{nodes:n,edges:r})};var FE=[{type:"graphin-force",options:{},title:"\u6e10\u8fdb\u529b\u5bfc"},{type:"force",title:"D3\u529b\u5bfc",options:{preventOverlap:!0,linkDistance:250,nodeStrength:30,edgeStrength:.1,collideStrength:.8,nodeSize:30,alpha:.3,alphaDecay:.028,alphaMin:.01,forceSimulation:null,clustering:!1}},{type:"concentric",title:"\u540c\u5fc3\u5706\u5e03\u5c40",options:{minNodeSpacing:60,preventOverlap:!0,nodeSize:60}},{type:"grid",options:{},title:"\u7f51\u683c\u5e03\u5c40"},{type:"radial",options:{},title:"\u8f90\u5c04\u5e03\u5c40"},{type:"dagre",title:"\u5c42\u6b21\u5e03\u5c40",options:{}},{type:"circular",options:{},title:"\u73af\u5f62\u5e03\u5c40"},{type:"gForce",options:{linkDistance:function(){return 200},preventOverlap:!0},title:"G6\u529b\u5bfc"},{type:"mds",options:{},title:"\u964d\u7ef4\u5e03\u5c40"},{type:"random",options:{},title:"\u968f\u673a\u5e03\u5c40"}],zE=FE.map((function(e){var t=e.type,n=e.options;return Object.assign({type:t},n)})).reduce((function(e,t){return Object.assign(Object.assign({},e),function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t.type,t))}),{}),YE=zE;function GE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var VE=function(e){return!e||!e.nodes||0===e.nodes.length},UE=["force","graphin-force","g6force","gForce","comboForce"],WE=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.updateOptions=function(){var e=n.graphin,t=e.width,r=e.height,i=e.props.layout,o=void 0===i?{type:"concentric"}:i,a=o.type,s=void 0===a?"concentric":a,u=o.preset,l={width:t,height:r,center:[t/2,r/2]};if(n.options=Object.assign(Object.assign(Object.assign({},l),YE[s]||{}),o),VE(n.graphin.data))n.prevOptions={};else if(-1!==UE.indexOf(s)){var c=n.prevOptions.type||"grid";(null===u||void 0===u?void 0:u.type)&&(c=u.type),VE(n.graphin.data)&&(c=u.type||"grid"),n.options.preset=Object.assign(Object.assign(Object.assign({type:c},l),YE[c]||{}),u)}},this.processForce=function(){var e=n,t=e.options,r=e.graphin,i=r.graph,o=t.type;if("graphin-force"===o&&(e.options.graph=i),"force"===o||"g6force"===o||"gForce"===o||"comboCombined"===o){var a=e.options.onTick;e.options.tick=function(){a&&a()};var s=e.options.onLayoutEnd;e.options.onLayoutEnd=function(){e.refreshPosition(),null===s||void 0===s||s(),i.emit("afterlayout")}}"comboForce"!==o&&"comboCombined"!==o||(e.options.comboTrees=i.get("comboTrees"));var u=-1!==UE.indexOf(e.prevOptions.type),l=-1!==UE.indexOf(e.options.type),c=e.options.type===e.prevOptions.type;if(!VE(r.data)){if(l&&!c){var f=e.options.preset;e.presetLayout=new iE.Layout[f.type](Object.assign({},f)||{}),e.presetLayout.init(r.data),e.presetLayout.execute(),e.presetLayout.data=Object.assign({},r.data)}if(l&&u&&!e.hasPosition()){var d=e.graph.save(),h=e.options.preset;VE(d)&&(e.presetLayout=new iE.Layout[h.type](Object.assign({},h)||{}),e.presetLayout.init(r.data),e.presetLayout.execute(),d=r.data),r.data=BE(r.data,d)}}},this.refreshPosition=function(){var e=n.graphin.options,t=e.animate,r=e.layoutAnimate,i=n.options.type;t||r?n.graph.positionsAnimate("comboCombined"===i):n.graph.refreshPositions("comboCombined"===i)},this.destroy=function(){n.presetLayout&&n.presetLayout.destroy&&n.presetLayout.destroy(),n.instance&&n.instance.destroy&&n.instance.destroy(),n.presetLayout=null,n.instance=null},this.getDataFromGraph=function(){for(var e=[],t=[],r=[],i=[],o=n.graph.getNodes(),a=n.graph.getEdges(),s=n.graph.getCombos(),u=o.length,l=0;l<u;l++){var c=o[l];if(c&&c.isVisible()){var f=c.getModel();e.push(f)}}for(var d=a.length,h=0;h<d;h++){var p=a[h];if(p&&p.isVisible()){var g=p.getModel();g.isComboEdge?i.push(g):t.push(g)}}for(var v=s.length,m=0;m<v;m++){var y=s[m];if(y&&y.isVisible()){var b=y.getModel();r.push(b)}}return{nodes:e,edges:t,combos:r,comboEdges:i}},this.graphin=t,this.graph=this.graphin.graph,this.presetLayout=null,this.prevOptions={},this.init()}var t,n,r;return t=e,n=[{key:"hasPosition",value:function(){var e=this.graphin.data,t=void 0===e?{}:e;return!!t.nodes&&0!==t.nodes.length&&t.nodes.every((function(e){return!window.isNaN(Number(e.x))&&!window.isNaN(Number(e.y))}))}},{key:"init",value:function(){this.updateOptions();var e=this.options,t=this.graphin.data,n=e.type;this.processForce(),iE.Layout[n]||console.warn("".concat(n," layout not found, current layout is grid"));var r=iE.Layout[n]||iE.Layout.grid;this.graph.emit("beforelayout"),this.instance=new r(this.options),this.instance.init(t)}},{key:"start",value:function(){var e=this.options.type;this.instance.execute(),"force"!==e&&"g6force"!==e&&"gForce"!==e&&"comboCombined"!==e&&this.refreshPosition(),this.graph.emit("afterlayout")}},{key:"changeLayout",value:function(){var e=this.graphin,t=e.graph,n=e.data,r=e.isTree,i=e.layoutCache;if(!t||t.destroyed||!n||!n.nodes||!n.nodes.length||i&&this.hasPosition()||r)return!1;-1!==UE.indexOf(this.options.type)&&this.destroy(),this.prevOptions=Object.assign({},this.options),this.init(),this.start()}}],n&&GE(t.prototype,n),r&&GE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ZE=WE,HE=function(){return{type:"circle",style:{labelCfg:{position:"top"}},status:{}}},XE={primaryEdgeColor:"#ddd",edgeSize:1,mode:"light"},KE=function(e){var t=Object.assign(Object.assign({},XE),e),n=t.edgeSize,r=t.primaryEdgeColor,i={light:{stroke:r,label:r,disabled:"#ddd"},dark:{stroke:r,label:r,disabled:"#ddd3"}}[t.mode];return{type:"graphin-line",style:{keyshape:{type:"line",lineWidth:n,stroke:i.stroke,strokeOpacity:1,lineAppendWidth:9,cursor:"pointer"},halo:{visible:!1,cursor:"pointer",strokeOpacity:.4},label:{value:"",position:"top",fill:i.label,fontSize:12,textAlign:"center"}},status:{hover:{halo:{visible:!0}},selected:{halo:{visible:!0},keyshape:{lineWidth:2}},active:{halo:{visible:!0},keyshape:{lineWidth:2}},inactive:{halo:{visible:!1},keyshape:{strokeOpacity:.1}},disabled:{halo:{visible:!1},keyshape:{lineWidth:.5,stroke:i.disabled}}}}},qE={primaryColor:"#FF6A00",nodeSize:26,mode:"light"},JE=function(e){var t=Object.assign(Object.assign({},qE),e),n=t.nodeSize,r=t.primaryColor,i={light:{fill:r,fillOpacity:.1,stroke:r,strokeOpacity:1,icon:r,badge:{fill:r,stroke:r,font:"#fff"},label:"#000",disabled:"#ddd"},dark:{fill:r,fillOpacity:.3,stroke:r,strokeOpacity:1,icon:"#fff",badge:{fill:r,stroke:r,font:"#fff"},label:"#fff",disabled:"#ddd3"}}[t.mode];return{type:"graphin-circle",style:{keyshape:{size:n,fill:i.fill,fillOpacity:i.fillOpacity,stroke:i.stroke,strokeOpacity:i.strokeOpacity,lineWidth:1,opacity:1,type:"circle"},label:{position:"bottom",value:"",fill:i.label,fontSize:12,offset:0,background:void 0,fillOpacity:1},icon:{type:"text",value:"",size:n/2,fill:i.icon,fillOpacity:1,offset:[0,0]},badges:[],halo:{visible:!1,fillOpacity:.1}},status:{normal:{},selected:{halo:{visible:!0},keyshape:{lineWidth:5}},hover:{halo:{visible:!0}},active:{},inactive:{keyshape:{fillOpacity:.04,strokeOpacity:.04},icon:{fillOpacity:.04},label:{fillOpacity:.04}},disabled:{halo:{visible:!1},keyshape:{fill:i.disabled,stroke:i.disabled},icon:{fill:i.disabled},label:{fill:i.disabled}}}}},$E={mode:"light",primaryColor:"#873bf4",nodeSize:26,edgeSize:1,primaryEdgeColor:"#ddd"},QE=function(e){var t=Object.assign(Object.assign({},$E),e),n=t.primaryColor,r=t.primaryEdgeColor,i=t.nodeSize,o=t.edgeSize,a=t.mode,s=t.background,u=JE({primaryColor:n,nodeSize:i,mode:a}),l=KE({primaryEdgeColor:r,edgeSize:o,mode:a}),c=HE();return Object.assign(Object.assign({},t),{mode:a,background:s||{light:"#fff",dark:"#1f1f1f"}[a],defaultNodeStyle:{type:u.type,style:u.style},defaultNodeStatusStyle:{status:u.status},defaultEdgeStyle:{type:l.type,style:l.style},defaultEdgeStatusStyle:{status:l.status},defaultComboStyle:{type:c.type,style:c.style},defaultComboStatusStyle:{status:c.status}})},eS=n(3941),tS=function e(t,n){if(window.isNaN(t)&&window.isNaN(n)&&"number"===typeof t&&"number"===typeof n)return!0;if(t===n)return!0;if("function"===typeof t&&"function"===typeof n||t instanceof Date&&n instanceof Date||t instanceof RegExp&&n instanceof RegExp||t instanceof String&&n instanceof String||t instanceof Number&&n instanceof Number)return t.toString()===n.toString();if(!(t instanceof Object&&n instanceof Object))return!1;var r=[],i=Object.keys(t),o=Object.keys(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++){var s=i[a],u=e(t[s],n[s]);r.push(u)}return r.every((function(e){return e}))};function nS(e){return nS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nS(e)}function rS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iS(e,t){return iS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},iS(e,t)}function oS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=uS(e);if(t){var i=uS(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return aS(this,n)}}function aS(e,t){if(t&&("object"===nS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sS(e)}function sS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uS(e){return uS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},uS(e)}var lS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},cS=OE.DragCanvas,fS=OE.ZoomCanvas,dS=OE.DragNode,hS=OE.DragCombo,pS=OE.ClickSelect,gS=OE.BrushSelect,vS=OE.ResizeCanvas,mS=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iS(e,t)}(o,e);var t,n,r,i=oS(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).graphDOM=null,t.initData=function(e){e.children&&(t.isTree=!0),t.data=(0,eS.Z)(e)},t.initGraphInstance=function(){var e=t.props,n=e.theme,r=e.data,i=e.layout,o=e.width,a=e.height,s=e.defaultCombo,u=void 0===s?{style:{},type:"graphin-combo"}:s,l=e.defaultEdge,c=void 0===l?{style:{},type:"graphin-line"}:l,f=e.defaultNode,d=void 0===f?{style:{},type:"graphin-circle"}:f,h=e.nodeStateStyles,p=e.edgeStateStyles,g=e.comboStateStyles,v=e.modes,m=void 0===v?{default:[]}:v,y=e.animate,b=e.handleAfterLayout,x=lS(e,["theme","data","layout","width","height","defaultCombo","defaultEdge","defaultNode","nodeStateStyles","edgeStateStyles","comboStateStyles","modes","animate","handleAfterLayout"]);m.default.length>0&&console.info("%c suggestion: you can use @antv/graphin Behaviors components","color:lightgreen");var w=t.graphDOM,E=w.clientWidth,S=w.clientHeight;t.initData(r),t.width=Number(o)||E||500,t.height=Number(a)||S||500;var _=QE(n),T=(_.defaultNodeStyle,_.defaultEdgeStyle,_.defaultComboStyle,_.defaultNodeStatusStyle,_.defaultEdgeStatusStyle,_.defaultComboStatusStyle,lS(_,["defaultNodeStyle","defaultEdgeStyle","defaultComboStyle","defaultNodeStatusStyle","defaultEdgeStatusStyle","defaultComboStatusStyle"]));t.isTree=Boolean(r.children)||-1!==LE.indexOf(String(i&&i.type));var k={defaultNode:{style:Object.assign(Object.assign({},d.style),{_theme:n}),type:d.type||"graphin-circle"},defaultEdge:{style:Object.assign(Object.assign({},c.style),{_theme:n}),type:c.type||"graphin-line"},defaultCombo:{style:Object.assign(Object.assign({},u.style),{_theme:n}),type:u.type||"combo"},nodeStateStyles:h,edgeStateStyles:p,comboStateStyles:g};t.theme=Object.assign(Object.assign({},k),T),t.options=Object.assign(Object.assign(Object.assign({container:t.graphDOM,renderer:"canvas",width:t.width,height:t.height,animate:!1!==y},k),{modes:m}),x),t.isTree?(t.options.layout=i||RE,t.graph=new iE.TreeGraph(t.options)):t.graph=new iE.Graph(t.options),t.graph.on("afterlayout",(function(){b&&b(t.graph)})),t.graph.data(t.data),t.graph.render(),t.isTree||(t.layout=new ZE(sS(t)),t.layout.start()),t.initStatus(),t.apis=hE(t.graph),t.setState({isReady:!0,context:{graph:t.graph,apis:t.apis,theme:t.theme,layout:t.layout,dragNodes:t.dragNodes,updateContext:t.updateContext}})},t.updateLayout=function(){t.layout.changeLayout()},t.updateOptions=function(){return lS(t.props,[])},t.initStatus=function(){if(!t.isTree){var e=t.props.data,n=e.nodes,r=void 0===n?[]:n,i=e.edges,o=void 0===i?[]:i;r.forEach((function(e){var n=e.status;n&&Object.keys(n).forEach((function(r){t.graph.setItemState(e.id,r,Boolean(n[r]))}))})),o.forEach((function(e){var n=e.status;n&&Object.keys(n).forEach((function(r){t.graph.setItemState(e.id,r,Boolean(n[r]))}))}))}},t.updateContext=function(e){t.setState((function(t){return{context:Object.assign(Object.assign({},t.context),e)}}))},t.clear=function(){t.layout&&t.layout.destroy&&t.layout.destroy(),t.layout={},t.graph.clear(),t.data={nodes:[],edges:[],combos:[]},t.graph.destroy()};var n=e.data,r=e.layout,a=e.width,s=e.height,u=e.layoutCache,l=lS(e,["data","layout","width","height","layoutCache"]);return t.data=n,t.isTree=Boolean(e.data&&e.data.children)||-1!==LE.indexOf(String(r&&r.type)),t.graph={},t.height=Number(s),t.width=Number(a),t.theme={},t.apis={},t.layoutCache=u,t.layout={},t.dragNodes=[],t.options=Object.assign({},l),t.state={isReady:!1,context:{graph:t.graph,apis:t.apis,theme:t.theme,layout:t.layout,dragNodes:t.dragNodes,updateContext:t.updateContext}},t}return t=o,n=[{key:"componentDidMount",value:function(){this.initGraphInstance()}},{key:"componentDidUpdate",value:function(e){var t,n,r=this,i=this.shouldUpdate(e,"data"),o=this.shouldUpdate(e,"layout"),a=(this.shouldUpdate(e,"options"),this.shouldUpdate(e,"theme"),this.props),s=a.data,u=a.layoutCache,l=a.layout;if(this.layoutCache=u,i){if(this.initData(s),this.isTree)this.graph.changeData(this.data);else{var c=this.state.context.dragNodes;null===(n=null===(t=this.data)||void 0===t?void 0:t.nodes)||void 0===n||n.forEach((function(e){var t,n,r=c.find((function(t){return t.id===e.id}));r&&(e.layout=Object.assign(Object.assign({},e.layout),{force:{mass:null===(n=null===(t=r.layout)||void 0===t?void 0:t.force)||void 0===n?void 0:n.mass}}))})),this.graph.data(this.data),this.graph.set("layoutController",null),this.graph.changeData(this.data),this.data=this.layout.getDataFromGraph(),this.layout.changeLayout()}return this.initStatus(),this.apis=hE(this.graph),void this.setState((function(e){return Object.assign(Object.assign({},e),{context:{graph:r.graph,apis:r.apis,theme:r.theme,layout:r.layout,dragNodes:e.context.dragNodes,updateContext:r.updateContext}})}),(function(){r.graph.emit("graphin:datachange"),o&&r.graph.emit("graphin:layoutchange",{prevLayout:e.layout,layout:l})}))}if(o){if(this.isTree)return void this.graph.updateLayout(this.props.layout);this.data=this.layout.getDataFromGraph(),this.layout.changeLayout(),this.layout.refreshPosition(),this.graph.emit("graphin:layoutchange",{prevLayout:e.layout,layout:l})}}},{key:"componentWillUnmount",value:function(){this.clear()}},{key:"componentDidCatch",value:function(e,t){console.error("Catch component error: ",e,t)}},{key:"shouldUpdate",value:function(e,t){var n=e[t],r=this.props[t];return!tS(n,r)}},{key:"render",value:function(){var e,t=this,n=this.state.isReady,r=this.props,i=r.modes,o=r.style;return m.createElement(gE.Provider,{value:this.state.context},m.createElement("div",{id:"graphin-container"},m.createElement("div",{"data-testid":"custom-element",className:"graphin-core",ref:function(e){t.graphDOM=e},style:Object.assign({background:null===(e=this.theme)||void 0===e?void 0:e.background},o)}),m.createElement("div",{className:"graphin-components"},n&&m.createElement(m.Fragment,null,!i&&m.createElement(m.Fragment,null,m.createElement(cS,null),m.createElement(fS,null),m.createElement(dS,null),m.createElement(hS,null),m.createElement(pS,null),m.createElement(gS,null)),m.createElement(vS,{graphDOM:this.graphDOM}),this.props.children))))}}],r=[{key:"registerBehavior",value:function(e,t){iE.registerBehavior(e,t)}},{key:"registerFontFamily",value:function(e){var t=e(),n=t.glyphs,r=t.fontFamily,i=n.map((function(e){return{name:e.name,unicode:String.fromCodePoint(e.unicode_decimal)}}));return new Proxy(i,{get:function(e,t){var n=e.find((function(e){return e.name===t}));return n?null===n||void 0===n?void 0:n.unicode:(console.error("%c fontFamily:".concat(r,",does not found ").concat(t," icon")),"")}})}},{key:"registerLayout",value:function(e,t){iE.registerLayout(e,t)}}],n&&rS(t.prototype,n),r&&rS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(m.PureComponent);mS.registerNode=function(e,t,n){iE.registerNode(e,t,n)},mS.registerEdge=function(e,t,n){iE.registerEdge(e,t,n)},mS.registerCombo=function(e,t,n){iE.registerCombo(e,t,n)};var yS=mS,bS=function(e){return Math.floor(Math.random()*e)},xS={},wS=function(e){xS[e]||(xS[e]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=bS(255),n=bS(255),r=bS(255);return"rgba(".concat(t,",").concat(n,",").concat(r,",").concat(e,")")}());xS[e];return function(){}},ES=function(e){return"#"===e.charAt(0)?e.slice(1):e},SS=function(e){var t=3===e.length||4===e.length;return{r:t?"".concat(e.slice(0,1)).concat(e.slice(0,1)):e.slice(0,2),g:t?"".concat(e.slice(1,2)).concat(e.slice(1,2)):e.slice(2,4),b:t?"".concat(e.slice(2,3)).concat(e.slice(2,3)):e.slice(4,6),a:(t?"".concat(e.slice(3,4)).concat(e.slice(3,4)):e.slice(6,8))||"ff"}},_S=function(e){return parseInt(e,16)},TS=function(e){var t=e.r,n=e.g,r=e.b,i=e.a;return{r:_S(t),g:_S(n),b:_S(r),a:+(_S(i)/255).toFixed(2)}},kS=function(e,t){var n=e.r,r=e.g,i=e.b,o=e.a,a=function(e){return!isNaN(parseFloat(String(e)))&&isFinite(Number(e))}(t)?t:o;return"rgba(".concat(n,", ").concat(r,", ").concat(i,", ").concat(a,")")},CS=function(e,t){var n=ES(e),r=SS(n),i=TS(r);return kS(i,t)};function MS(e){return function(e){if(Array.isArray(e))return AS(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return AS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AS(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PS(e,t,n){return t&&NS(e.prototype,t),n&&NS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var IS=PS((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.nodeIds=[],this.bfs=function(e){var t;if(n.root){var r=[];for(r.push(n.root);r.length;){var i=r.shift();if(e(i))return i;(null===(t=null===i||void 0===i?void 0:i.children)||void 0===t?void 0:t.length)&&r.push.apply(r,MS(i.children))}}},this.getRoot=function(){return n.root},this.getNode=function(e){var t=n.bfs((function(t){return t.id===e}));return t},this.addRoot=function(e,t){n.root={id:e,children:[]},n.nodeIds.push(e)},this.addNode=function(e){var t=e.parentId,r=e.id,i=e.data;if(n.root){var o;if(t)o=n.getNode(t);else{var a=Math.floor(Math.random()*n.nodeIds.length);o=n.getNode(n.nodeIds[a])}o?(n.nodeIds.push(r),o.children.push({id:r,parent:o,children:[]})):console.error("Parent node doesn't exist!")}else n.addRoot(r,i)},t&&(this.root=t)})),DS=function e(t,n){n(t),t.children&&t.children.length>0&&t.children.forEach((function(t){e(t,n)}))};function OS(e){return function(e){if(Array.isArray(e))return RS(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return RS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RS(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jS(e,t,n){return t&&LS(e.prototype,t),n&&LS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var BS={nodeCount:10,nodeType:"company"},FS=jS((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initNodes=function(){var e=n.options,t=e.nodeCount,r=e.nodeType,i=Array.from({length:t});n.nodes=i.map((function(e,t){return{id:"node-".concat(t),label:"node-".concat(t),type:r}}));for(var o=0;o<t;o+=1)for(var a=0;a<t-1;a+=1)n.edges.push({source:"node-".concat(o),target:"node-".concat(a)});n.nodeIds=n.nodes.map((function(e){return e.id}))},this.expand=function(e){return n.edges=[],n.nodes=[],e.forEach((function(e){for(var t=0;t<n.options.nodeCount;t+=1)n.nodes.push({id:"".concat(e.id,"-").concat(t),type:e.type}),n.edges.push({source:"".concat(e.id,"-").concat(t),target:e.id})})),n},this.type=function(e){return n.nodes=n.nodes.map((function(t){return Object.assign(Object.assign({},t),{type:e})})),n},this.circle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e;return-1===n.nodeIds.indexOf(t)&&(t="node-0"),n.edges=n.edges.filter((function(e){return e.source===t||e.target===t})),n},this.random=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,t=n.options.nodeCount,r=parseInt(String(t*e)),i=n.nodeIds.sort((function(){return Math.random()-.5})).slice(0,r);return n.edges=n.edges.filter((function(e){return-1!==i.indexOf(e.target)})),n.edges=n.edges.sort((function(){return Math.random()-.5})).slice(0,r),n},this.tree=function(){n.edges=[],n.treeData=new IS;var e=n.nodeIds[0];return n.nodeIds.forEach((function(e){n.treeData.addNode({id:e,style:{label:{value:e}}})})),n.treeData.bfs((function(t){var r;return t.id!==e&&n.edges.push({source:null===(r=null===t||void 0===t?void 0:t.parent)||void 0===r?void 0:r.id,target:t.id,properties:[]}),!1})),n},this.value=function(){return{nodes:n.nodes,edges:n.edges}},this.combos=function(e){var t=new Set;return n.nodes=n.nodes.map((function(n,r){var i=Math.ceil((r+1)/e),o="combo-".concat(i);return t.add(o),Object.assign(Object.assign({},n),{comboId:o})})),n.combosData=OS(t).map((function(e){return{id:e,label:e}})),n},this.graphin=function(){return{nodes:n.nodes.map((function(e){return Object.assign(Object.assign({},e),{id:e.id,type:"graphin-circle",comboId:e.comboId,style:{label:{value:"".concat(e.id)}}})})),edges:n.edges.map((function(e){return{source:e.source,target:e.target}})),combos:n.combosData}},this.graphinTree=function(){var e=n.treeData.getRoot();return DS(e,(function(e){delete e.parent})),e},this.options=BS,this.options.nodeCount=t,this.nodes=[],this.edges=[],this.nodeIds=[],this.treeData=new IS,this.initNodes()}));function zS(e){return e%2===0}function YS(e){return!zS(e)}var GS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{poly:50,loop:10},n=t.poly,r=void 0===n?50:n,i=t.loop,o=void 0===i?10:i,a={};e.forEach((function(e){var t=e.source,n=e.target,r="".concat(t,"-").concat(n),i="".concat(n,"-").concat(t);a[r]?a[r].push(e):a[i]?(e.revert=!0,a[i].push(e)):a[r]=[e]}));var s=Object.values(a),u=[];return s.forEach((function(e){if(e.length>1){var t=zS(e.length);e.forEach((function(e,n){var i,a=e.source===e.target,s=n;if(t){var l=Math.ceil((s+1)/2);i=r*l}else{var c=YS(s)?s+1:s,f=Math.ceil(c/2);i=r*f}var d=zS(s)?i:-i;e.revert&&(d=-d,delete e.revert);var h={type:"poly",poly:{distance:d}};a&&(h={type:"loop",loop:{distance:s*o}}),(0,Dr.deepMix)(e,{style:{keyshape:h}}),u.push(e)}))}else u.push(e[0])})),u},VS=function(e,t){var n=!0,r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var o=0;o<r.length;o++){var a=r[o];if(e[a]!==t[a]){n=!1;break}}return n},US=function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return"".concat(e()+e(),"-").concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e()).concat(e()).concat(e())},WS={hexToRgba:CS,debug:wS,mock:function(e){return new FS(e)},shallowEqual:VS,hexToRgbaToHex:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=ES(e),r=SS(n),i=TS(r),o=i.r,a=i.g,s=i.b,u=o.toString(16),l=a.toString(16),c=s.toString(16),f=Math.round(255*Number(t)).toString(16);return 1===u.length&&(u="0".concat(u)),1===l.length&&(l="0".concat(l)),1===c.length&&(c="0".concat(c)),1===f.length&&(f="0".concat(f)),"#".concat(u).concat(l).concat(c).concat(f)},getNodeStyleByTheme:JE,getEdgeStyleByTheme:KE,getComboStyleByTheme:HE,deepMix:Dr.deepMix,cloneDeep:eS.Z,uuid:US,walk:DS,processEdges:GS,layouts:FE,uniqBy:function(e,t){return e.reduce((function(e,n){return e.some((function(e){return t(n,e)}))||e.push(n),e}),[])}};function ZS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function HS(e,t,n){return t&&ZS(e.prototype,t),n&&ZS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var XS=HS((function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getvec=function(){return r},this.add=function(t){return new e(r.x+t.x,r.y+t.y)},this.subtract=function(t){return new e(r.x-t.x,r.y-t.y)},this.magnitude=function(){return Math.sqrt(r.x*r.x+r.y*r.y)},this.normalise=function(){return r.divide(r.magnitude())},this.divide=function(t){return new e(r.x/t||0,r.y/t||0)},this.scalarMultip=function(t){return new e(r.x*t,r.y*t)},this.x=t,this.y=n})),KS=XS;function qS(e){return function(e){if(Array.isArray(e))return JS(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return JS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JS(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $S=function(e,t,n){var r,i;return"source"===e?(null===(r=null===n||void 0===n?void 0:n.find((function(e){var n;return(null===(n=e.target)||void 0===n?void 0:n.id)===t.id})))||void 0===r?void 0:r.source)||{}:(null===(i=null===n||void 0===n?void 0:n.find((function(e){var n;return(null===(n=e.source)||void 0===n?void 0:n.id)===t.id})))||void 0===i?void 0:i.target)||{}},QS=function(e,t,n,r){var i,o=(null===(i=null===n||void 0===n?void 0:n.data)||void 0===i?void 0:i[t])||"",a=(null===r||void 0===r?void 0:r.filter((function(e){var n;return(null===(n=null===e||void 0===e?void 0:e.data)||void 0===n?void 0:n[t])===o})))||[];return"leaf"===e&&(a=a.filter((function(e){var t,n,r,i;return 0===(null===(n=null===(t=e.data)||void 0===t?void 0:t.layout)||void 0===n?void 0:n.sDegree)||0===(null===(i=null===(r=e.data)||void 0===r?void 0:r.layout)||void 0===i?void 0:i.tDegree)}))),a},e_=function(e,t,n){var r=[];switch(e){case"source":r=null===n||void 0===n?void 0:n.filter((function(e){var n;return(null===(n=e.source)||void 0===n?void 0:n.id)===t.id})).map((function(e){return e.target}));break;case"target":r=null===n||void 0===n?void 0:n.filter((function(e){var n;return(null===(n=e.target)||void 0===n?void 0:n.id)===t.id})).map((function(e){return e.source}));break;case"both":r=null===n||void 0===n?void 0:n.filter((function(e){var n;return(null===(n=e.source)||void 0===n?void 0:n.id)===t.id})).map((function(e){return e.target})).concat(null===n||void 0===n?void 0:n.filter((function(e){var n;return(null===(n=e.target)||void 0===n?void 0:n.id)===t.id})).map((function(e){return e.source})))}return r=WS.uniqBy(r,(function(e,t){return e.id===t.id})),r},t_=function(e,t){var n=e.data.id,r=0,i=0,o=0;return t.forEach((function(e){e.source.id===n&&(i+=1,r+=1),e.target.id===n&&(o+=1,r+=1)})),{degree:r,sDegree:i,tDegree:o}},n_=function(e,t){return qS(new Set(null===e||void 0===e?void 0:e.map((function(e){var n;return null===(n=null===e||void 0===e?void 0:e.data)||void 0===n?void 0:n[t]}))))||[]},r_=function(e,t,n,r){var i,o=(null===(i=null===t||void 0===t?void 0:t.data)||void 0===i?void 0:i.layout)||{},a=o.sDegree,s=o.tDegree,u=t,l=[];return 0===a?(u=$S("source",t,n),l=e_("both",u,n)):0===s&&(u=$S("target",t,n),l=e_("both",u,n)),l=l.filter((function(e){var t,n;return 0===(null===(t=e.data)||void 0===t?void 0:t.layout.sDegree)||0===(null===(n=e.data)||void 0===n?void 0:n.layout.tDegree)})),{coreNode:u,relativeLeafNodes:l,sameTypeLeafNodes:QS(e,r,t,l)}},i_=function(e){var t=new KS(0,0);e.forEach((function(e){t=t.add(new KS(e.x,e.y))}));var n=t.divide(e.length).getvec();return{x:n.x,y:n.y}};function o_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a_(e,t,n){return t&&o_(e.prototype,t),n&&o_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u_=a_((function e(t){s_(this,e),this.id=t.id,this.data=t||{},this.x=t.x||0,this.y=t.y||0})),l_=a_((function e(t,n,r,i){s_(this,e),this.id=t,this.source=n,this.target=r,this.data=i||{}}));function c_(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,u,l,c,f,d,h=e._root,p={data:r},g=e._x0,v=e._y0,m=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((l=t>=(o=(g+m)/2))?g=o:m=o,(c=n>=(a=(v+y)/2))?v=a:y=a,i=h,!(h=h[f=c<<1|l]))return i[f]=p,e;if(s=+e._x.call(null,h.data),u=+e._y.call(null,h.data),t===s&&n===u)return p.next=h,i?i[f]=p:e._root=p,e;do{i=i?i[f]=new Array(4):e._root=new Array(4),(l=t>=(o=(g+m)/2))?g=o:m=o,(c=n>=(a=(v+y)/2))?v=a:y=a}while((f=c<<1|l)===(d=(u>=a)<<1|s>=o));return i[d]=h,i[f]=p,e}function f_(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function d_(e){return e[0]}function h_(e){return e[1]}function p_(e,t,n){var r=new g_(null==t?d_:t,null==n?h_:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function g_(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function v_(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var m_=p_.prototype=g_.prototype;m_.copy=function(){var e,t,n=new g_(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=v_(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=v_(t));return n},m_.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return c_(this.cover(t,n),t,n,e)},m_.addAll=function(e){var t,n,r,i,o=e.length,a=new Array(o),s=new Array(o),u=1/0,l=1/0,c=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(a[n]=r,s[n]=i,r<u&&(u=r),r>c&&(c=r),i<l&&(l=i),i>f&&(f=i));if(u>c||l>f)return this;for(this.cover(u,l).cover(c,f),n=0;n<o;++n)c_(this,a[n],s[n],e[n]);return this},m_.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a,s,u=i-n||1,l=this._root;n>e||e>=i||r>t||t>=o;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=l,l=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},m_.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},m_.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},m_.find=function(e,t,n){var r,i,o,a,s,u,l,c=this._x0,f=this._y0,d=this._x1,h=this._y1,p=[],g=this._root;for(g&&p.push(new f_(g,c,f,d,h)),null==n?n=1/0:(c=e-n,f=t-n,d=e+n,h=t+n,n*=n);u=p.pop();)if(!(!(g=u.node)||(i=u.x0)>d||(o=u.y0)>h||(a=u.x1)<c||(s=u.y1)<f))if(g.length){var v=(i+a)/2,m=(o+s)/2;p.push(new f_(g[3],v,m,a,s),new f_(g[2],i,m,v,s),new f_(g[1],v,o,a,m),new f_(g[0],i,o,v,m)),(l=(t>=m)<<1|e>=v)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=u)}else{var y=e-+this._x.call(null,g.data),b=t-+this._y.call(null,g.data),x=y*y+b*b;if(x<n){var w=Math.sqrt(n=x);c=e-w,f=t-w,d=e+w,h=t+w,r=g.data}}return r},m_.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,u,l,c,f,d,h=this._root,p=this._x0,g=this._y0,v=this._x1,m=this._y1;if(!h)return this;if(h.length)for(;;){if((l=o>=(s=(p+v)/2))?p=s:v=s,(c=a>=(u=(g+m)/2))?g=u:m=u,t=h,!(h=h[f=c<<1|l]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=i,this)},m_.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},m_.root=function(){return this._root},m_.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},m_.visit=function(e){var t,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new f_(u,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(u=t.node,r=t.x0,i=t.y0,o=t.x1,a=t.y1)&&u.length){var l=(r+o)/2,c=(i+a)/2;(n=u[3])&&s.push(new f_(n,l,c,o,a)),(n=u[2])&&s.push(new f_(n,r,c,l,a)),(n=u[1])&&s.push(new f_(n,l,i,o,c)),(n=u[0])&&s.push(new f_(n,r,i,l,c))}return this},m_.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new f_(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,u=t.x1,l=t.y1,c=(a+u)/2,f=(s+l)/2;(o=i[0])&&n.push(new f_(o,a,s,c,f)),(o=i[1])&&n.push(new f_(o,c,s,u,f)),(o=i[2])&&n.push(new f_(o,a,f,c,l)),(o=i[3])&&n.push(new f_(o,c,f,u,l))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},m_.x=function(e){return arguments.length?(this._x=e,this):this._x},m_.y=function(e){return arguments.length?(this._y=e,this):this._y};var y_=.1;function b_(e,t,n){var r=n/(t*t),i=e.map((function(e,t){return Object.assign(Object.assign({index:t},e),{vx:0,vy:0,weight:r})})),o=p_(i,(function(e){return e.x}),(function(e){return e.y})).visitAfter(x_);return i.forEach((function(e){!function(e,t){var n=function(t,n,r,i,o){var a=e.x-t.x||.001,s=e.y-t.y||.001,u=i-n,l=a*a+s*s+y_,c=Math.sqrt(l)+y_;return u*u/.81<l?(e.vx+=a/c*t.weight/l,e.vy+=s/c*t.weight/l,!0):!t.length&&void(t.data!==e&&(e.vx+=a/c*t.data.weight/l,e.vy+=s/c*t.data.weight/l))};t.visit(n)}(e,o)})),i.map((function(e){return{vx:e.vx,vy:e.vy}}))}function x_(e){var t=0,n=0,r=0;if(e.length){for(var i=0;i<4;i++){var o=e[i];o&&o.weight&&(t+=o.weight,n+=o.x*o.weight,r+=o.y*o.weight)}e.x=n/t,e.y=r/t,e.weight=t}else{var a=e;e.x=a.data.x,e.y=a.data.y,e.weight=a.data.weight}}function w_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E_(e,t,n){return t&&w_(e.prototype,t),n&&w_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var __=E_((function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;S_(this,e),this.updateAcc=function(e){i.a=i.a.add(e.divide(i.m))},this.p=t,this.m=o,this.v=new KS(0,0),this.a=new KS(0,0),this.id=n,this.data=r})),T_=__;function k_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C_(e,t,n){return t&&k_(e.prototype,t),n&&k_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var M_=C_((function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.source=t,this.target=n,this.length=r}));function A_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N_(e,t,n){return t&&A_(e.prototype,t),n&&A_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var P_=N_((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.updateOptions=function(e){e&&Object.keys(e).forEach((function(t){n.props[t]=e[t]}))},this.setData=function(e){n.nodes=[],n.edges=[],n.nodeSet={},n.edgeSet={},n.nodePoints=new Map,n.edgeSprings=new Map,n.sourceData=e,n.judgingDistance=0,("nodes"in e||"edges"in e)&&(n.addNodes(e.nodes),n.addEdges(e.edges))},this.getMass=function(e){var t,r=e.layout||{},i=r.degree,o=void 0===i?null===(t=t_(e,n.edges))||void 0===t?void 0:t.degree:i,a=r.force;return a&&a.mass?a.mass:o<5?1:5*o},this.init=function(){var e=n.props,t=e.width,r=e.height,i=n.props.centripetalOptions,o=n.props,a=o.leafCluster,s=o.clustering,u=o.nodeClusterBy,l=o.clusterNodeStrength,c=function(e){return"function"===typeof l?l(e):l};if(a&&(i={single:100,leaf:function(e,t,n){var r=n_(t,u),i=r_("leaf",e,n,u),o=i.relativeLeafNodes,a=i.sameTypeLeafNodes;return(null===a||void 0===a?void 0:a.length)===(null===o||void 0===o?void 0:o.length)||1===(null===r||void 0===r?void 0:r.length)?1:c(e)},others:1,center:function(e,t,n){var r,i,o=((null===(r=e.data)||void 0===r?void 0:r.layout)||{}).degree;if(!o)return{x:100,y:100};if(1===o){var a=r_("leaf",e,n,u).sameTypeLeafNodes;1===a.length?i=void 0:a.length>1&&(i=i_(a))}else i=void 0;return{x:null===i||void 0===i?void 0:i.x,y:null===i||void 0===i?void 0:i.y}}}),s){var f=Array.from(new Set(n.nodes.map((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t[u]})))).filter((function(e){return void 0!==e})),d={};f.forEach((function(e){var t=n.nodes.filter((function(t){var n;return(null===(n=t.data)||void 0===n?void 0:n[u])===e}));d[e]=i_(t)})),i={single:function(e){return c(e)},leaf:function(e){return c(e)},others:function(e){return c(e)},center:function(e,t,n){var r,i=d[null===(r=e.data)||void 0===r?void 0:r[u]];return{x:null===i||void 0===i?void 0:i.x,y:null===i||void 0===i?void 0:i.y}}}}n.centripetalOptions=Object.assign(Object.assign({},n.centripetalOptions),i),n.nodes.forEach((function(e){var i=e.data.x||t/2,o=e.data.y||r/2,a=new KS(i,o);e.data.layout||(e.data.layout={});var s=t_(e,n.edges);e.data.layout=Object.assign(Object.assign({},e.data.layout),s);var u=n.getMass(e.data);n.nodePoints.set(e.id,new T_(a,String(e.id),e.data,u))})),n.edges.forEach((function(e){var t=n.nodePoints.get(e.source.id),r=n.nodePoints.get(e.target.id),i=n.props.defSpringLen(e,t,r);n.edgeSprings.set(e.id,new M_(t,r,i))}));var h=n.nodePoints.size,p=Math.pow(10,2);n.props.minEnergyThreshold=.5*Math.pow(1,2)*1*h*p},this.start=function(){n.init(),n.props.animation?n.animation():n.slienceForce()},this.calTotalEnergy=function(){var e=0;return n.nodes.forEach((function(t){var r=n.nodePoints.get(t.id),i=r.v.magnitude(),o=r.m;e+=o*Math.pow(i,2)*.5})),e},this.slienceForce=function(){for(var e=n.props,t=e.done,r=e.maxIterations,i=e.minDistanceThreshold,o=0;(n.judgingDistance>i||o<1)&&o<r;o++)n.tick(n.props.tickInterval),n.iterations++;n.render(),t&&t(n.renderNodes)},this.requestAnimationFrame=function(e){return n.props.enableWorker?setInterval((function(){e()}),16):window.requestAnimationFrame(e)},this.cancelAnimationFrame=function(e){n.props.enableWorker?clearInterval(e):window.cancelAnimationFrame(e)},this.animation=function(){var e=n.props,t=e.enableWorker,r=e.maxIterations,i=e.minDistanceThreshold,o=e.done,a=e.tickInterval;if(t)for(var s=(new Date).valueOf(),u=function(e){return e>10?2e3:20*e*e},l=0;l<r;l++){var c=Math.max(.02,.22-.002*l);n.tick(c),(new Date).valueOf()-s>=u(l)&&(n.render(),s=(new Date).valueOf());var f=n.calTotalEnergy(),d=n.registers.get("monitor");if(d&&d(n.reportMointor(f)),n.judgingDistance<i)return n.render(),void(o&&o(n.renderNodes))}else{n.timer=n.requestAnimationFrame((function e(){n.tick(a),n.render(),n.iterations++;var t=n.calTotalEnergy(),r=n.registers.get("monitor");r&&r(n.reportMointor(t)),n.judgingDistance<i||n.iterations>n.props.maxIterations?(n.cancelAnimationFrame(n.timer),n.iterations=0,n.done=!0,o&&o(n.renderNodes)):n.timer=n.requestAnimationFrame(e)}))}},this.render=function(){var e=n.registers.get("render");n.renderNodes=[],n.nodePoints.forEach((function(e){n.renderNodes.push(Object.assign(Object.assign({},n.nodeSet[e.id]&&n.nodeSet[e.id].data),{x:e.p.x,y:e.p.y}))})),e?e({nodes:n.renderNodes,edges:n.sourceData.edges}):console.error("need a render function")},this.reportMointor=function(e){return{energy:e,iterations:n.iterations,nodes:n.nodes,edges:n.edges}},this.tick=function(e){n.updateCoulombsLawOptimized(),n.updateHookesLaw(),n.attractToCentre(),n.updateVelocity(e),n.updatePosition(e)},this.updateCoulombsLawOptimized=function(){var e=n.props.coulombDisScale,t=n.props.repulsion,r=n.nodes.map((function(e){var t=n.nodePoints.get(e.id).p;return{x:t.x,y:t.y}})),i=b_(r,e,t);n.nodes.forEach((function(e,t){n.nodePoints.get(e.id).updateAcc(new KS(i[t].vx,i[t].vy))}))},this.updateCoulombsLaw=function(){for(var e=n.nodes.length,t=0;t<e;t++)for(var r=t+1;r<e;r++)if(t!==r){var i=n.nodes[t],o=n.nodes[r],a=n.props.coulombDisScale,s=n.props.repulsion,u=n.nodePoints.get(i.id).p.subtract(n.nodePoints.get(o.id).p),l=(u.magnitude()+.1)*a,c=u.normalise();n.nodePoints.get(i.id).updateAcc(c.scalarMultip(1*s).divide(Math.pow(l,2))),n.nodePoints.get(o.id).updateAcc(c.scalarMultip(1*s).divide(-Math.pow(l,2)))}},this.updateHookesLaw=function(){n.edges.forEach((function(e){var t=n.edgeSprings.get(e.id),r=t.target.p.subtract(t.source.p),i=t.length-r.magnitude(),o=r.normalise();t.source.updateAcc(o.scalarMultip(-n.props.stiffness*i)),t.target.updateAcc(o.scalarMultip(n.props.stiffness*i))}))},this.attractToCentre=function(){var e=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=n.nodePoints.get(e.id),o=i.p.subtract(t);i.updateAcc(o.scalarMultip(-r))};n.nodes.forEach((function(t){var r,i=null===(r=t.data)||void 0===r?void 0:r.layout,o=i.degree,a=i.sDegree,s=i.tDegree,u=n.centripetalOptions,l=u.leaf,c=u.single,f=u.others,d=u.center,h=n.props,p=h.width,g=h.height;if(void 0!==d){var v=d(t,n.nodes,n.edges,p,g),m=v.x,y=v.y,b=v.centerStrength;if(void 0!==m&&void 0!==y){var x=new KS(m,y);if(b)e(t,x,b);else{var w="function"===typeof l?l(t,n.nodes,n.edges):l,E="function"===typeof c?c(t):c,S="function"===typeof f?f(t):f;0!==w&&0!==E&&0!==S&&e(t,x,0===o?E:0===s||0===a?w:S)}}}}))},this.updateVelocity=function(e){n.nodes.forEach((function(t){var r=n.nodePoints.get(t.id);r.v=r.v.add(r.a.scalarMultip(e)).scalarMultip(n.props.damping),r.v.magnitude()>n.props.maxSpeed&&(r.v=r.v.normalise().scalarMultip(n.props.maxSpeed)),r.a=new KS(0,0)}))},this.updatePosition=function(e){var t;if(null===(t=n.nodes)||void 0===t?void 0:t.length){var r=n.props.distanceThresholdMode,i=0;"max"===r?n.judgingDistance=-1/0:"min"===r&&(n.judgingDistance=1/0),n.nodes.forEach((function(t){var o=n.nodePoints.get(t.id);o.p=o.p.add(o.v.scalarMultip(e));var a=o.v.scalarMultip(e).magnitude();switch(r){case"max":n.judgingDistance<a&&(n.judgingDistance=a);break;case"min":n.judgingDistance>a&&(n.judgingDistance=a);break;default:i+=a}})),r&&"mean"!==r||(n.judgingDistance=i/n.nodes.length)}else n.judgingDistance=0},this.addNode=function(e){var t=n.props.ignore;t&&t(e)||(e.id in n.nodeSet||n.nodes.push(e),n.nodeSet[e.id]=e)},this.addNodes=function(e){e.forEach((function(e){n.addNode(new u_(e))}))},this.addEdge=function(e){return e.id in n.edgeSet||n.edges.push(e),n.edgeSet[e.id]=e,e},this.addEdges=function(e){try{for(var t=e.length,r=0;r<t;r++){var i=e[r],o=i.source,a=i.target,s=n.nodeSet[o];if(void 0===s)throw new TypeError("invalid node name: ".concat(i.source));var u=n.nodeSet[a];if(void 0===u)throw new TypeError("invalid node name: ".concat(i.target));var l=i.data,c=new l_(String(n.nextEdgeId++),s,u,l);n.addEdge(c)}}catch(f){console.error(f)}},this.register=function(e,t){n.registers.set(e,t)},this.restart=function(e,t){var r=n.props.ignore;t.getNodes().forEach((function(e){var t=e.get("model");if(!r||!r(t)){var i=new KS(t.x,t.y),o=n.nodePoints.get(t.id);o&&(o.p=i,n.nodePoints.set(t.id,o))}}));e.forEach((function(e){var t=new KS(e.x,e.y),r=n.getMass(e);n.nodePoints.set(e.id,new T_(t,e.id,e.data,r)),n.edges.forEach((function(t){var r=n.nodePoints.get(t.source.id),i=n.nodePoints.get(t.target.id);if(r.id===e.id||i.id===e.id){var o=n.edgeSprings.get(t.id).length||100;n.edgeSprings.set(t.id,new M_(r,i,o))}}))})),n.props.restartAnimation?n.animation():n.slienceForce()},this.stop=function(){window.cancelAnimationFrame(n.timer),n.done=!0},this.props={stiffness:200,enableWorker:!1,defSpringLen:function(e){return e.data.spring||200},repulsion:1e3,centripetalOptions:{leaf:2,single:2},leafCluster:!1,clustering:!1,nodeClusterBy:"cluster",clusterNodeStrength:20,damping:.9,minEnergyThreshold:.1,maxSpeed:1e3,coulombDisScale:.005,tickInterval:.02,groupFactor:4,maxIterations:7440,minDistanceThreshold:.4,distanceThresholdMode:"mean",animation:!0,restartAnimation:!0,width:200,height:200},this.updateOptions(t),this.sourceData={nodes:[],edges:[],combos:[]},this.nodes=[],this.edges=[],this.nodeSet={},this.edgeSet={},this.renderNodes=[],this.nodePoints=new Map,this.edgeSprings=new Map,this.registers=new Map,this.done=!1,this.judgingDistance=0,this.iterations=0,this.nextEdgeId=0,this.timer=0,this.center=new KS(0,0),this.centripetalOptions={leaf:2,single:2,others:1,center:function(e){return{x:n.props.width/2,y:n.props.height/2}}},this.dragNodes=[]})),I_=P_,D_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function O_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return R_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},j_=function(e,t,n){if(t)try{e.forEach((function(e){var r=e.cfg.name;if(t[r]){var i=n(t,r),o=i.animate,a=i.visible,s=L_(i,["animate","visible"]);if(!e.attrs.img&&(e.attr(s),e.cfg.visible=!1!==a,o)){var u=o.attrs,l=L_(o,["attrs"]);e.animate(u,l)}}}))}catch(r){console.error(r)}};function B_(e){return Object.keys(e).forEach((function(t){void 0===e[t]&&delete e[t]})),e}var F_=function(e){if(!e)return[0,0];var t=0,n=0;if((0,Dr.isNumber)(e))t=e,n=e;else if((0,Dr.isArray)(e))if(1===e.length){var r=O_(e,1)[0];t=r,n=r}else if(2===e.length){var i=O_(e,2);t=i[0],n=i[1]}return[t,n]};function z_(e){return function(e){if(Array.isArray(e))return V_(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||G_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||G_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G_(e,t){if(e){if("string"===typeof e)return V_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V_(e,t):void 0}}function V_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var U_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function W_(e){var t;return(0,Dr.isNumber)(e)?t=e/2:(0,Dr.isArray)(e)&&(t=e[0]/2),t}var Z_=function(e){var t,n,r,i=e.halo,o=e.keyshape,a=i.size,s=i.visible,u=i.fill,l=i.fillOpacity,c=U_(i,["size","visible","fill","fillOpacity"]),f=W_(a);o&&o.size&&(t=W_(o.size)+15);return o&&o.fill&&(n=o.fill),o&&o.stroke&&(r=o.stroke),{name:"halo",visible:!1!==s,attrs:B_(Object.assign({x:0,y:0,r:f||t,fill:u||n||r,fillOpacity:l||.1,visible:!1!==s},c))}},H_=function(e){var t=e.keyshape,n=t.size,r=t.visible,i=t.stroke,o=t.fill,a=t.fillOpacity,s=t.strokeOpacity,u=U_(t,["size","visible","stroke","fill","fillOpacity","strokeOpacity"]),l=W_(n);return{name:"keyshape",visible:!1!==r,attrs:B_(Object.assign({x:0,y:0,r:l,cursor:"pointer",visible:!1!==r,stroke:i,strokeOpacity:s||1,fill:o||i,fillOpacity:a||.2},u))}},X_=function(e){var t=e.label,n=t.value,r=t.fill,i=t.fontSize,o=t.visible,a=U_(t,["value","fill","fontSize","visible"]),s=function(e){var t=e.label,n=e.keyshape;if(!(null===n||void 0===n?void 0:n.size)&&!(null===t||void 0===t?void 0:t.offset))return{x:void 0,y:void 0,textBaseline:null===t||void 0===t?void 0:t.textBaseline};!(null===n||void 0===n?void 0:n.size)&&(null===t||void 0===t?void 0:t.offset)&&(n.size=26,console.info("you should set keyshape.size when you update label position,the default keyshape size value is  26"));var r=n.size,i=[0,0],o=t.position,a=t.offset,s=void 0===a?i:a;"number"!==typeof s&&"string"!==typeof s||(i=[Number(s),Number(s)]),s.length>0&&(i=s);var u=O_(i,2),l=u[0],c=u[1];if("center"===o)return{x:0+l,y:0+c};var f,d=F_(r),h=d[0],p=d[1];switch(o){case"top":f={x:0+l,y:-p/2-c,textBaseline:"bottom"};break;case"bottom":default:f={x:0+l,y:p/2+c,textBaseline:"top"};break;case"left":f={x:0-h-l,y:0+c,textAlign:"right"};break;case"right":f={x:0+h+l,y:0+c,textAlign:"left"}}return f}(e);return{name:"label",visible:!1!==o,attrs:B_(Object.assign({x:s.x,y:s.y,fontSize:i,text:n,textAlign:"center",fill:r,textBaseline:s.textBaseline,visible:!1!==o},a))}},K_=function(e){var t=e.icon,n=t.value,r=void 0===n?"":n,i=t.type,o=t.fontFamily,a=t.textAlign,s=void 0===a?"center":a,u=t.textBaseline,l=void 0===u?"middle":u,c=t.fill,f=t.size,d=t.visible,h=(t.clip,U_(t,["value","type","fontFamily","textAlign","textBaseline","fill","size","visible","clip"])),p=Y_(F_(f),2),g=p[0],v=p[1],m={name:"icon",visible:!1!==d,capture:!1};return"text"===i||"font"===i?Object.assign(Object.assign({},m),{attrs:Object.assign({x:0,y:0,textAlign:s,textBaseline:l,text:r,fontSize:g,fontFamily:o,fill:c,visible:!1!==d},h)}):Object.assign(Object.assign({},m),{attrs:Object.assign({x:-g/2,y:-v/2,img:r,width:g,height:v,visible:!1!==d},h)})},q_=function(e,t){return"keyshape"===t?H_(e).attrs:"halo"===t?Z_(e).attrs:"label"===t?X_(e).attrs:"icon"===t?K_(e).attrs:e[t]||{}},J_=function(e,t,n){var r=e.type,i=e.position,o=e.value,a=void 0===o?"":o,s=e.size,u=e.fill,l=e.stroke,c=e.color,f=e.fontSize,d=e.fontFamily,h=e.padding,p=void 0===h?0:h,g=e.offset,v=void 0===g?[0,0]:g,m=e.id,y=F_(v),b=Y_(F_(s),2),x=b[0],w=b[1],E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"RT",t=arguments.length>1?arguments[1]:void 0,n=0,r=0;return"LT"===e?(n=t*Math.cos(3*Math.PI/4),r=-t*Math.sin(3*Math.PI/4)):"LB"===e?(n=t*Math.cos(5*Math.PI/4),r=-t*Math.sin(5*Math.PI/4)):"RT"===e?(n=t*Math.cos(1*Math.PI/4),r=-t*Math.sin(1*Math.PI/4)):"RB"===e&&(n=t*Math.cos(7*Math.PI/4),r=-t*Math.sin(7*Math.PI/4)),{x:n,y:r}}(i,n),S=E.x,_=E.y,T=S,k=_;if(x===w){var C={attrs:{r:x/2+p,fill:u,stroke:l,x:T+=y[0],y:k+=y[1]},name:"badges-circle"};m&&(C.id=m),t.addShape("circle",C)}else{T=S-x-2*p,k=_-w-2*p,"LB"===i?k=_:"RT"===i?(T=S,k=_-w-2*p):"RB"===i&&(T=S,k=_);var M={attrs:{width:x+2*p,height:w+2*p,fill:u,stroke:l,x:T+=y[0],y:k+=y[1],radius:(w+2*p)/3},name:"badges-rect"};m&&(M.id=m),t.addShape("rect",M)}"font"===r||"text"===r?t.addShape("text",{attrs:{x:x!==w?T+x/2+p:T,y:x!==w?k+w/2+p:k,text:a,fontSize:f,textAlign:"center",textBaseline:"middle",fontFamily:d,fill:c},capture:!1,name:"badges-text"}):"image"===r&&t.addShape("image",{attrs:{x:T-x/2,y:T-w/2,width:x,height:w,img:a},capture:!1,name:"badges-image"})};function $_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Q_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var eT,tT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function nT(e){return Object.keys(e).forEach((function(t){void 0===e[t]&&delete e[t]})),e}!function(e){e.NORMAL="normal",e.SELECTED="selected",e.HOVERED="hovered",e.DISABLED="disabled"}(eT||(eT={}));var rT=function(e,t){return"keyshape"===t?function(e){var t=tT(e,[]);return nT(Object.assign({id:"keyshape"},t))}(e.keyshape||{}):"halo"===t?function(e){var t=tT(e,[]);return nT(Object.assign({id:"halo"},t))}(e.halo||{}):"label"===t?function(e){var t=e.value,n=tT(e,["value"]);return nT(Object.assign({id:"label",text:t},n))}(e.label||{}):{}},iT=function(e,t,n){var r=(t.x+e.x)/2,i=(t.y+e.y)/2,o=t.x-e.x,a=t.y-e.y,s=Math.sqrt(Math.pow(o,2)+Math.pow(a,2));return{x:r+a*n/s||0,y:i-o*n/s||0}};yS.registerLayout("graphin-force",{getDefaultCfg:function(){return{preset:{name:"grid",options:{}},stiffness:200,repulsion:1e3,centripetalOptions:{leaf:1.6,single:1.6},damping:.9,minEnergyThreshold:.1,maxSpeed:1e3,MaxIterations:1e4,animation:!0}},init:function(e){this.nodes=e.nodes,this.edges=e.edges;var t=this.graph,n=D_(this,["graph"]),r=Object.assign(Object.assign({},this.getDefaultCfg()),n),i=r.width,o=r.height,a=r.animation,s=r.done,u=void 0===s?function(){}:s,l=D_(r,["width","height","animation","done"]);this.simulation=new I_(Object.assign(Object.assign(Object.assign({width:i,height:o,animation:a},l),n),{done:function(e){u(t,e)}})),this.simulation.setData(e),this.simulation.register("render",(function(n){if(!a&&e&&e.nodes&&e.nodes.length>0){var r=n.nodes;return e.nodes.forEach((function(e,t){var n=r[t];if(n&&n.id===e.id)e.x=r[t].x,e.y=r[t].y;else{var i=r.find((function(t){return t.id===e.id}));i&&(e.x=i.x,e.y=i.y)}})),Object.assign({},n)}try{if(!t||t.destroyed)return;var i=!1;n.nodes.forEach((function(e){var n=t.findById(e.id);if(n){var r=n.get("model");r.x=e.x,r.y=e.y,"combo"===n.getType()&&(i=!0)}})),t.refreshPositions(i)}catch(o){console.error(o)}}))},execute:function(){this.simulation.start()},layout:function(e){this.init(e),this.execute()},updateCfg:function(e){this.cfg=Object.assign(Object.assign({},this.cfg),e)},destroy:function(){this.destroyed=!0,this.simulation.stop(),this.simulation=null},getType:function(){return"graphin-force"}}),yS.registerLayout("preset",{init:function(){},execute:function(){},destroy:function(){this.destroyed=!0}}),iE.registerNode("graphin-circle",{options:{style:{},status:{}},draw:function(e,t){var n=e.style._theme;this.options=function(){var e=QE(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=e.defaultNodeStyle,n=e.defaultNodeStatusStyle;return{style:t.style,status:n.status}}(n);var r=(0,Dr.deepMix)({},this.options.style,e.style);e._initialStyle=Object.assign({},r);var i=r.icon,o=r.badges,a=void 0===o?[]:o,s=W_(r.keyshape.size);t.addShape("circle",Z_(r));var u=t.addShape("circle",H_(r));t.addShape("text",X_(r));var l=i.type;if("text"!==l&&"font"!==l||t.addShape("text",K_(r)),"image"===l){var c=K_(r),f=t.addShape("image",c),d=r.icon.clip;if(d){var h=d.r,p=U_(d,["r"]);f.setClip({type:"circle",attrs:Object.assign({x:0,y:0,r:h},p)})}}return a.forEach((function(e){J_(e,t,s)})),u},setState:function(e,t,n){var r;if(e){var i=n.getModel(),o=n.getContainer().get("children"),a=(0,Dr.deepMix)({},this.options.status,i.style.status),s=n.getModel()._initialStyle,u=(null===(r=n._cfg)||void 0===r?void 0:r.states)||[];try{Object.keys(a).forEach((function(n){e===n&&(t?j_(o,a[n],q_):(j_(o,s,q_),u.forEach((function(e){j_(o,a[e],q_)}))))}))}catch(l){console.error(l)}}},update:function(e,t){if(e.style)try{var n=(0,Dr.deepMix)({},e._initialStyle,e.style);e._initialStyle=Object.assign({},n);var r=n.badges,i=W_(n.keyshape.size),o=t.getContainer(),a=o.get("children");j_(a,n,q_);var s=z_(a);if(r){var u=0;s.forEach((function(e){e.cfg.name.startsWith("badges")?a.splice(u,1):u+=1})),r.forEach((function(e){J_(e,o,i)}))}}catch(l){console.error("error")}}}),iE.registerEdge("graphin-line",{draw:function(e,t){var n,r,i,o,a,s=e.style._theme;this.options=function(){var e=QE(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=e.defaultEdgeStyle,n=e.defaultEdgeStatusStyle;return{style:t.style,status:n.status}}(s);var u=(0,Dr.deepMix)({},this.options.style,e.style);e&&(e._initialStyle=Object.assign({},u));var l=e.startPoint,c=void 0===l?{x:0,y:0}:l,f=e.endPoint,d=void 0===f?{x:0,y:0}:f,h=e.sourceNode,p=e.targetNode,g=u.label,v=u.halo,m=u.keyshape,y=h.get("model"),b=(null===(n=p)||void 0===n?void 0:n.get("model"))||{id:"temp"},x=(null===(i=null===(r=y.style)||void 0===r?void 0:r.keyshape)||void 0===i?void 0:i.size)||28,w="loop"===(null===m||void 0===m?void 0:m.type)||y.id===b.id,E=g.value,S="poly"===(null===m||void 0===m?void 0:m.type),_=iT(c,d,(null===(o=null===m||void 0===m?void 0:m.poly)||void 0===o?void 0:o.distance)||0),T=(null===m||void 0===m?void 0:m.lineWidth)||1,k=T+5,C=function(e,t){var n,r,i,o=e.startPoint,a=void 0===o?{x:0,y:0}:o,s=e.endPoint,u=void 0===s?{x:0,y:0}:s,l=e.sourceNode,c=e.targetNode,f=t.keyshape,d=f.type,h=void 0===d?"line":d,p=f.poly,g=void 0===p?{distance:0}:p,v=f.loop,m=void 0===v?{}:v,y=l.get("model"),b=(null===(n=c)||void 0===n?void 0:n.get("model"))||{id:"temp"};if("loop"===h||y.id===b.id){var x=(null===(i=null===(r=y.style)||void 0===r?void 0:r.keyshape)||void 0===i?void 0:i.size)||26,w=Object.assign({distance:0,dx:8,rx:void 0,ry:void 0},m),E=w.distance,S=w.dx,_=w.rx,T=w.ry,k=x/2,C=Math.sqrt(Math.pow(k,2)-Math.pow(S,2)),M=_||2*k*.5,A=T||2*k*.6;return[["M",a.x-S,a.y-C],["A",M+E,A+E,0,1,1,a.x+S,a.y-C]]}if("poly"===h){var N=iT(a,u,(null===g||void 0===g?void 0:g.distance)||0);return[["M",a.x,a.y],["Q",N.x,N.y,u.x,u.y]]}return[["M",a.x,a.y],["L",u.x,u.y]]}(e,u);t.addShape("path",{attrs:Object.assign({id:"halo",path:C,lineWidth:T+10,stroke:v.stroke||m.stroke,strokeOpacity:v.strokeOpacity||.4},v),draggable:!0,name:"halo",visible:!1!==v.visible});var M=t.addShape("path",{attrs:Object.assign({id:"keyshape",path:C,endArrow:w?void 0:{d:0,path:"M 0,0 L ".concat(k,",").concat(k/2," L ").concat(k,",-").concat(k/2," Z"),fill:m.stroke}},m),draggable:!0,name:"keyshape"});if(E){var A=g.value,N=g.fontSize,P=void 0===N?8:N,I=g.offset,D=void 0===I?[0,0]:I,O=g.background,R=tT(g,["value","fontSize","offset","background"]),L=Boolean(O),j=$_(D,2),B=j[0],F=j[1],z=Math.atan((d.y-c.y)/(d.x-c.x)),Y=[(c.x+d.x)/2,(c.y+d.y)/2];if(S&&(Y=[(_.x+Y[0])/2,(_.y+Y[1])/2]),d.x-c.x===0&&(z=Math.PI/2),w&&(z=2*Math.PI),L){var G={fill:"#fff",width:String(A).length*P*.6,height:1.8*P,stroke:m.stroke,lineWidth:1,radius:6},V=Object.assign(Object.assign({},G),O),U=V.fill,W=V.width,Z=V.height,H=V.stroke,X=tT(V,["fill","width","height","stroke"]),K=t.addShape("rect",{attrs:Object.assign({id:"label-background",x:-W/2+B,y:-Z/2+F,width:W,height:Z,fill:U,stroke:H},X),draggable:!0,name:"label-background"});K.rotate(z),K.translate(Y[0],Y[1])}var q=F-P/2;w&&(q=F-1.6*x-2*((null===(a=null===m||void 0===m?void 0:m.loop)||void 0===a?void 0:a.distance)||0)),L&&(q=F+P/2);var J=t.addShape("text",{attrs:Object.assign({id:"label",x:B,y:q,text:A,fontSize:P},R),draggable:!0,name:"label"});J.rotate(z),J.translate(Y[0],Y[1])}return M},setState:function(e,t,n){var r;if(e){var i=n.getModel(),o=n.getContainer().get("children"),a=(0,Dr.deepMix)({},this.options.status,i.style.status),s=n.getModel()._initialStyle,u=(null===(r=n._cfg)||void 0===r?void 0:r.states)||[];try{Object.keys(a).forEach((function(n){e===n&&(t?j_(o,a[n],rT):(j_(o,s,rT),u.forEach((function(e){j_(o,a[e],rT)}))))}))}catch(l){console.error(l)}}}});yS.registerFontFamily;var oT=yS,aT=n(184),sT=WS.mock(13).circle().graphin();var uT=function(){return console.log(sT),(0,aT.jsx)("div",{className:"TestChart",children:(0,aT.jsx)(oT,{data:sT,layout:{name:"concentric"}})})},lT=n(2426),cT=n.n(lT),fT={getNow:function(){return cT()()},getFixedDate:function(e){return cT()(e,"YYYY-MM-DD")},getEndDate:function(e){return e.clone().endOf("month")},getWeekDay:function(e){var t=e.clone().locale("en_US");return t.weekday()+t.localeData().firstDayOfWeek()},getYear:function(e){return e.year()},getMonth:function(e){return e.month()},getDate:function(e){return e.date()},getHour:function(e){return e.hour()},getMinute:function(e){return e.minute()},getSecond:function(e){return e.second()},addYear:function(e,t){return e.clone().add(t,"year")},addMonth:function(e,t){return e.clone().add(t,"month")},addDate:function(e,t){return e.clone().add(t,"day")},setYear:function(e,t){return e.clone().year(t)},setMonth:function(e,t){return e.clone().month(t)},setDate:function(e,t){return e.clone().date(t)},setHour:function(e,t){return e.clone().hour(t)},setMinute:function(e,t){return e.clone().minute(t)},setSecond:function(e,t){return e.clone().second(t)},isAfter:function(e,t){return e.isAfter(t)},isValidate:function(e){return e.isValid()},locale:{getWeekFirstDay:function(e){return cT()().locale(e).localeData().firstDayOfWeek()},getWeekFirstDate:function(e,t){return t.clone().locale(e).weekday(0)},getWeek:function(e,t){return t.clone().locale(e).week()},getShortWeekDays:function(e){return cT()().locale(e).localeData().weekdaysMin()},getShortMonths:function(e){return cT()().locale(e).localeData().monthsShort()},format:function(e,t,n){return t.clone().locale(e).format(n)},parse:function(e,t,n){for(var r=[],i=0;i<n.length;i+=1){var o=n[i],a=t;if(o.includes("wo")||o.includes("Wo")){var s=(o=o.replace(/wo/g,"w").replace(/Wo/g,"W")).match(/[-YyMmDdHhSsWwGg]+/g),u=a.match(/[-\d]+/g);s&&u?(o=s.join(""),a=u.join("")):r.push(o.replace(/o/g,""))}var l=cT()(a,o,e,!0);if(l.isValid())return l}for(var c=0;c<r.length;c+=1){var f=cT()(t,r[c],e,!1);if(f.isValid())return Wn(Un,!1,"Not match any format strictly and fallback to fuzzy match. Please help to fire a issue about this."),f}return null}}},dT=fT,hT=(0,Lt.Z)((function e(t){(0,Rt.Z)(this,e),this.error=new Error("unreachable case: ".concat(JSON.stringify(t)))})),pT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},gT=function(e){return m.createElement(nn,null,(function(t){var n,r=t.getPrefixCls,i=t.direction,o=e.prefixCls,a=e.size,s=e.className,u=pT(e,["prefixCls","size","className"]),l=r("btn-group",o),c="";switch(a){case"large":c="lg";break;case"small":c="sm";break;case"middle":case void 0:break;default:console.warn(new hT(a).error)}var f=Ot()(l,(n={},(0,xe.Z)(n,"".concat(l,"-").concat(c),c),(0,xe.Z)(n,"".concat(l,"-rtl"),"rtl"===i),n),s);return m.createElement("div",wt({},u,{className:f}))}))},vT=n(7326),mT=n(3873);function yT(e,t,n){var r=m.useRef({});return"value"in r.current&&!n(r.current.condition,t)||(r.current.value=e(),r.current.condition=t),r.current.value}function bT(e,t){"function"===typeof e?e(t):"object"===(0,mn.Z)(e)&&e&&"current"in e&&(e.current=t)}function xT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){bT(t,e)}))}}function wT(e){var t,n,r=(0,mT.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}var ET=function(e){return+setTimeout(e,16)},ST=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(ET=function(e){return window.requestAnimationFrame(e)},ST=function(e){return window.cancelAnimationFrame(e)});var _T=0,TT=new Map;function kT(e){TT.delete(e)}function CT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=_T+=1;function r(t){if(0===t)kT(n),e();else{var i=ET((function(){r(t-1)}));TT.set(n,i)}}return r(t),n}CT.cancel=function(e){var t=TT.get(e);return kT(t),ST(t)};var MT=0,AT={};function NT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=MT++,r=t;function i(){(r-=1)<=0?(e(),delete AT[n]):AT[n]=CT(i)}return AT[n]=CT(i),n}NT.cancel=function(e){void 0!==e&&(CT.cancel(AT[e]),delete AT[e])},NT.ids=AT;var PT,IT=m.isValidElement;function DT(e,t){return function(e,t,n){return IT(e)?m.cloneElement(e,"function"===typeof n?n(e.props||{}):n):t}(e,e,t)}function OT(e){return!e||null===e.offsetParent||e.hidden}function RT(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}var LT=function(e){(0,jt.Z)(n,e);var t=(0,Bt.Z)(n);function n(){var e;return(0,Rt.Z)(this,n),(e=t.apply(this,arguments)).containerRef=m.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,n){var r,i,o=e.props,a=o.insertExtraNode;if(!(o.disabled||!t||OT(t)||t.className.indexOf("-leave")>=0)){e.extraNode=document.createElement("div");var s=(0,vT.Z)(e).extraNode,u=e.context.getPrefixCls;s.className="".concat(u(""),"-click-animating-node");var l=e.getAttributeName();if(t.setAttribute(l,"true"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&RT(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n){s.style.borderColor=n;var c=(null===(r=t.getRootNode)||void 0===r?void 0:r.call(t))||t.ownerDocument,f=c instanceof Document?c.body:null!==(i=c.firstChild)&&void 0!==i?i:c;PT=er("\n      [".concat(u(""),"-click-animating-without-extra-node='true']::after, .").concat(u(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:e.csp,attachTo:f})}a&&t.appendChild(s),["transition","animation"].forEach((function(n){t.addEventListener("".concat(n,"start"),e.onTransitionStart),t.addEventListener("".concat(n,"end"),e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var n=e.containerRef.current;t&&t.target===n&&!e.animationStart&&e.resetEffect(n)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!OT(n.target)){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,r)}),0),NT.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=NT((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.renderWave=function(t){var n=t.csp,r=e.props.children;if(e.csp=n,!m.isValidElement(r))return r;var i=e.containerRef;return wT(r)&&(i=xT(r.ref,e.containerRef)),DT(r,{ref:i})},e}return(0,Lt.Z)(n,[{key:"componentDidMount",value:function(){var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();e.setAttribute(r,"false"),PT&&(PT.innerHTML=""),n&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(n){e.removeEventListener("".concat(n,"start"),t.onTransitionStart),e.removeEventListener("".concat(n,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return m.createElement(nn,null,this.renderWave)}}]),n}(m.Component);LT.contextType=tn;var jT=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},BT=function(e,t,n){Zn(e,"[antd: ".concat(t,"] ").concat(n))},FT=m.createContext(void 0),zT=FT;function YT(e){return e instanceof HTMLElement?e:y.findDOMNode(e)}function GT(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var VT=function(e,t){var n={animationend:GT("Animation","AnimationEnd"),transitionend:GT("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(Hn(),"undefined"!==typeof window?window:{}),UT={};if(Hn()){var WT=document.createElement("div");UT=WT.style}var ZT={};function HT(e){if(ZT[e])return ZT[e];var t=VT[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in UT)return ZT[e]=t[o],ZT[e]}return""}var XT=HT("animationend"),KT=HT("transitionend"),qT=!(!XT||!KT),JT=XT||"animationend",$T=KT||"transitionend";function QT(e,t){if(!e)return null;if("object"===(0,mn.Z)(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}var ek="none",tk="appear",nk="enter",rk="leave",ik="none",ok="prepare",ak="start",sk="active",uk="end";function lk(e){var t=(0,m.useRef)(!1),n=(0,m.useState)(e),r=(0,It.Z)(n,2),i=r[0],o=r[1];return(0,m.useEffect)((function(){return function(){t.current=!0}}),[]),[i,function(e){t.current||o(e)}]}var ck=Hn()?m.useLayoutEffect:m.useEffect,fk=[ok,ak,sk,uk];function dk(e){return e===sk||e===uk}var hk=function(e,t){var n=lk(ik),r=(0,It.Z)(n,2),i=r[0],o=r[1],a=function(){var e=m.useRef(null);function t(){CT.cancel(e.current)}return m.useEffect((function(){return function(){t()}}),[]),[function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var o=CT((function(){i<=1?r({isCanceled:function(){return o!==e.current}}):n(r,i-1)}));e.current=o},t]}(),s=(0,It.Z)(a,2),u=s[0],l=s[1];return ck((function(){if(i!==ik&&i!==uk){var e=fk.indexOf(i),n=fk[e+1],r=t(i);false===r?o(n):u((function(e){function t(){e.isCanceled()||o(n)}!0===r?t():Promise.resolve(r).then(t)}))}}),[e,i]),m.useEffect((function(){return function(){l()}}),[]),[function(){o(ok)},i]};function pk(e,t,n,r){var i=r.motionEnter,o=void 0===i||i,a=r.motionAppear,s=void 0===a||a,u=r.motionLeave,l=void 0===u||u,c=r.motionDeadline,f=r.motionLeaveImmediately,d=r.onAppearPrepare,h=r.onEnterPrepare,p=r.onLeavePrepare,g=r.onAppearStart,v=r.onEnterStart,y=r.onLeaveStart,b=r.onAppearActive,x=r.onEnterActive,w=r.onLeaveActive,E=r.onAppearEnd,S=r.onEnterEnd,_=r.onLeaveEnd,T=r.onVisibleChanged,k=lk(),C=(0,It.Z)(k,2),M=C[0],A=C[1],N=lk(ek),P=(0,It.Z)(N,2),I=P[0],D=P[1],O=lk(null),R=(0,It.Z)(O,2),L=R[0],j=R[1],B=(0,m.useRef)(!1),F=(0,m.useRef)(null),z=(0,m.useRef)(!1),Y=(0,m.useRef)(null);function G(){return n()||Y.current}var V=(0,m.useRef)(!1);function U(e){var t,n=G();e&&!e.deadline&&e.target!==n||(I===tk&&V.current?t=null===E||void 0===E?void 0:E(n,e):I===nk&&V.current?t=null===S||void 0===S?void 0:S(n,e):I===rk&&V.current&&(t=null===_||void 0===_?void 0:_(n,e)),!1===t||z.current||(D(ek),j(null)))}var W=function(e){var t=(0,m.useRef)(),n=(0,m.useRef)(e);n.current=e;var r=m.useCallback((function(e){n.current(e)}),[]);function i(e){e&&(e.removeEventListener($T,r),e.removeEventListener(JT,r))}return m.useEffect((function(){return function(){i(t.current)}}),[]),[function(e){t.current&&t.current!==e&&i(t.current),e&&e!==t.current&&(e.addEventListener($T,r),e.addEventListener(JT,r),t.current=e)},i]}(U),Z=(0,It.Z)(W,1)[0],H=m.useMemo((function(){var e,t,n;switch(I){case tk:return e={},(0,xe.Z)(e,ok,d),(0,xe.Z)(e,ak,g),(0,xe.Z)(e,sk,b),e;case nk:return t={},(0,xe.Z)(t,ok,h),(0,xe.Z)(t,ak,v),(0,xe.Z)(t,sk,x),t;case rk:return n={},(0,xe.Z)(n,ok,p),(0,xe.Z)(n,ak,y),(0,xe.Z)(n,sk,w),n;default:return{}}}),[I]),X=hk(I,(function(e){if(e===ok){var t=H.prepare;return!!t&&t(G())}var n;J in H&&j((null===(n=H[J])||void 0===n?void 0:n.call(H,G(),null))||null);return J===sk&&(Z(G()),c>0&&(clearTimeout(F.current),F.current=setTimeout((function(){U({deadline:!0})}),c))),true})),K=(0,It.Z)(X,2),q=K[0],J=K[1],$=dk(J);V.current=$,ck((function(){A(t);var n,r=B.current;(B.current=!0,e)&&(!r&&t&&s&&(n=tk),r&&t&&o&&(n=nk),(r&&!t&&l||!r&&f&&!t&&l)&&(n=rk),n&&(D(n),q()))}),[t]),(0,m.useEffect)((function(){(I===tk&&!s||I===nk&&!o||I===rk&&!l)&&D(ek)}),[s,o,l]),(0,m.useEffect)((function(){return function(){clearTimeout(F.current),z.current=!0}}),[]),(0,m.useEffect)((function(){void 0!==M&&I===ek&&(null===T||void 0===T||T(M))}),[M,I]);var Q=L;return H.prepare&&J===ak&&(Q=Ee({transition:"none"},Q)),[I,J,Q,null!==M&&void 0!==M?M:t]}var gk=function(e){(0,jt.Z)(n,e);var t=(0,Bt.Z)(n);function n(){return(0,Rt.Z)(this,n),t.apply(this,arguments)}return(0,Lt.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(m.Component),vk=gk;var mk=function(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===(0,mn.Z)(e)&&(t=e.transitionSupport);var r=m.forwardRef((function(e,t){var r=e.visible,i=void 0===r||r,o=e.removeOnLeave,a=void 0===o||o,s=e.forceRender,u=e.children,l=e.motionName,c=e.leavedClassName,f=e.eventProps,d=n(e),h=(0,m.useRef)(),p=(0,m.useRef)();var g=pk(d,i,(function(){try{return h.current instanceof HTMLElement?h.current:YT(p.current)}catch(e){return null}}),e),v=(0,It.Z)(g,4),y=v[0],b=v[1],x=v[2],w=v[3],E=m.useRef(w);w&&(E.current=!0);var S,_=m.useCallback((function(e){h.current=e,bT(t,e)}),[]),T=Ee(Ee({},f),{},{visible:i});if(u)if(y!==ek&&n(e)){var k,C;b===ok?C="prepare":dk(b)?C="active":b===ak&&(C="start"),S=u(Ee(Ee({},T),{},{className:Ot()(QT(l,y),(k={},(0,xe.Z)(k,QT(l,"".concat(y,"-").concat(C)),C),(0,xe.Z)(k,l,"string"===typeof l),k)),style:x}),_)}else S=w?u(Ee({},T),_):!a&&E.current?u(Ee(Ee({},T),{},{className:c}),_):s?u(Ee(Ee({},T),{},{style:{display:"none"}}),_):null;else S=null;return m.createElement(vk,{ref:p},S)}));return r.displayName="CSSMotion",r}(qT),yk="add",bk="keep",xk="remove",wk="removed";function Ek(e){var t;return Ee(Ee({},t=e&&"object"===(0,mn.Z)(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function Sk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(Ek)}function _k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,o=Sk(e),a=Sk(t);o.forEach((function(e){for(var t=!1,o=r;o<i;o+=1){var s=a[o];if(s.key===e.key){r<o&&(n=n.concat(a.slice(r,o).map((function(e){return Ee(Ee({},e),{},{status:yk})}))),r=o),n.push(Ee(Ee({},s),{},{status:bk})),r+=1,t=!0;break}}t||n.push(Ee(Ee({},e),{},{status:xk}))})),r<i&&(n=n.concat(a.slice(r).map((function(e){return Ee(Ee({},e),{},{status:yk})}))));var s={};n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1}));var u=Object.keys(s).filter((function(e){return s[e]>1}));return u.forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==xk}))).forEach((function(t){t.key===e&&(t.status=bk)}))})),n}var Tk=["component","children","onVisibleChanged"],kk=["status"],Ck=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mk,n=function(e){(0,jt.Z)(r,e);var n=(0,Bt.Z)(r);function r(){var e;(0,Rt.Z)(this,r);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={keyEntities:[]},e.removeKey=function(t){e.setState((function(e){return{keyEntities:e.keyEntities.map((function(e){return e.key!==t?e:Ee(Ee({},e),{},{status:wk})}))}}))},e}return(0,Lt.Z)(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,i=r.component,o=r.children,a=r.onVisibleChanged,s=gn(r,Tk),u=i||m.Fragment,l={};return Ck.forEach((function(e){l[e]=s[e],delete s[e]})),delete s.keys,m.createElement(u,s,n.map((function(n){var r=n.status,i=gn(n,kk),s=r===yk||r===bk;return m.createElement(t,wt({},l,{key:i.key,visible:s,eventProps:i,onVisibleChanged:function(t){null===a||void 0===a||a(t,{key:i.key}),t||e.removeKey(i.key)}}),o)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=Sk(n);return{keyEntities:_k(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==wk||e.status!==xk}))}}}]),r}(m.Component);n.defaultProps={component:"div"}}(qT);var Mk=mk,Ak={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},Nk=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:Ak}))};Nk.displayName="LoadingOutlined";var Pk=m.forwardRef(Nk),Ik=function(){return{width:0,opacity:0,transform:"scale(0)"}},Dk=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},Ok=function(e){var t=e.prefixCls,n=!!e.loading;return e.existIcon?m.createElement("span",{className:"".concat(t,"-loading-icon")},m.createElement(Pk,null)):m.createElement(Mk,{visible:n,motionName:"".concat(t,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:Ik,onAppearActive:Dk,onEnterStart:Ik,onEnterActive:Dk,onLeaveStart:Dk,onLeaveActive:Ik},(function(e,n){var r=e.className,i=e.style;return m.createElement("span",{className:"".concat(t,"-loading-icon"),style:i,ref:n},m.createElement(Pk,{className:r}))}))},Rk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Lk=/^[\u4e00-\u9fa5]{2}$/,jk=Lk.test.bind(Lk);function Bk(e){return"text"===e||"link"===e}function Fk(e,t){if(null!=e){var n=t?" ":"";return"string"!==typeof e&&"number"!==typeof e&&function(e){return"string"===typeof e}(e.type)&&jk(e.props.children)?DT(e,{children:e.props.children.split("").join(n)}):"string"===typeof e?jk(e)?m.createElement("span",null,e.split("").join(n)):m.createElement("span",null,e):function(e){return m.isValidElement(e)&&e.type===m.Fragment}(e)?m.createElement("span",null,e):e}}jT("default","primary","ghost","dashed","link","text"),jT("default","circle","round"),jT("submit","button","reset");var zk=function(e,t){var n,r=e.loading,i=void 0!==r&&r,o=e.prefixCls,a=e.type,s=void 0===a?"default":a,u=e.danger,l=e.shape,c=void 0===l?"default":l,f=e.size,d=e.className,h=e.children,p=e.icon,g=e.ghost,v=void 0!==g&&g,y=e.block,b=void 0!==y&&y,x=e.htmlType,w=void 0===x?"button":x,E=Rk(e,["loading","prefixCls","type","danger","shape","size","className","children","icon","ghost","block","htmlType"]),S=m.useContext(zT),_=m.useState(!!i),T=(0,It.Z)(_,2),k=T[0],C=T[1],M=m.useState(!1),A=(0,It.Z)(M,2),N=A[0],P=A[1],I=m.useContext(tn),D=I.getPrefixCls,O=I.autoInsertSpaceInButton,R=I.direction,L=t||m.createRef(),j=function(){return 1===m.Children.count(h)&&!p&&!Bk(s)},B="object"===(0,mn.Z)(i)&&i.delay?i.delay||!0:!!i;m.useEffect((function(){var e=null;return"number"===typeof B?e=window.setTimeout((function(){e=null,C(B)}),B):C(B),function(){e&&(window.clearTimeout(e),e=null)}}),[B]),m.useEffect((function(){if(L&&L.current&&!1!==O){var e=L.current.textContent;j()&&jk(e)?N||P(!0):N&&P(!1)}}),[L]);var F=function(t){var n,r=e.onClick,i=e.disabled;k||i?t.preventDefault():null===(n=r)||void 0===n||n(t)};BT(!("string"===typeof p&&p.length>2),"Button","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(p,"` at https://ant.design/components/icon")),BT(!(v&&Bk(s)),"Button","`link` or `text` button can't be a `ghost` button.");var z=D("btn",o),Y=!1!==O,G=f||S,V=G&&{large:"lg",small:"sm",middle:void 0}[G]||"",U=k?"loading":p,W=Ot()(z,(n={},(0,xe.Z)(n,"".concat(z,"-").concat(c),"default"!==c&&c),(0,xe.Z)(n,"".concat(z,"-").concat(s),s),(0,xe.Z)(n,"".concat(z,"-").concat(V),V),(0,xe.Z)(n,"".concat(z,"-icon-only"),!h&&0!==h&&!!U),(0,xe.Z)(n,"".concat(z,"-background-ghost"),v&&!Bk(s)),(0,xe.Z)(n,"".concat(z,"-loading"),k),(0,xe.Z)(n,"".concat(z,"-two-chinese-chars"),N&&Y),(0,xe.Z)(n,"".concat(z,"-block"),b),(0,xe.Z)(n,"".concat(z,"-dangerous"),!!u),(0,xe.Z)(n,"".concat(z,"-rtl"),"rtl"===R),n),d),Z=p&&!k?p:m.createElement(Ok,{existIcon:!!p,prefixCls:z,loading:!!k}),H=h||0===h?function(e,t){var n=!1,r=[];return m.Children.forEach(e,(function(e){var t=(0,mn.Z)(e),i="string"===t||"number"===t;if(n&&i){var o=r.length-1,a=r[o];r[o]="".concat(a).concat(e)}else r.push(e);n=i})),m.Children.map(r,(function(e){return Fk(e,t)}))}(h,j()&&Y):null,X=hn(E,["navigate"]);if(void 0!==X.href)return m.createElement("a",wt({},X,{className:W,onClick:F,ref:L}),Z,H);var K=m.createElement("button",wt({},E,{type:w,className:W,onClick:F,ref:L}),Z,H);return Bk(s)?K:m.createElement(LT,{disabled:!!k},K)},Yk=m.forwardRef(zk);Yk.displayName="Button",Yk.Group=gT,Yk.__ANT_BUTTON=!0;var Gk=Yk;var Vk={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},Uk=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:Vk}))};Uk.displayName="CloseOutlined";var Wk=m.forwardRef(Uk),Zk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Hk=function(e){var t,n=e.prefixCls,r=e.className,i=e.checked,o=e.onChange,a=e.onClick,s=Zk(e,["prefixCls","className","checked","onChange","onClick"]),u=(0,m.useContext(tn).getPrefixCls)("tag",n),l=Ot()(u,(t={},(0,xe.Z)(t,"".concat(u,"-checkable"),!0),(0,xe.Z)(t,"".concat(u,"-checkable-checked"),i),t),r);return m.createElement("span",wt({},s,{className:l,onClick:function(e){null===o||void 0===o||o(!i),null===a||void 0===a||a(e)}}))},Xk=jT("success","processing","error","default","warning"),Kk=jT("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"),qk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Jk=new RegExp("^(".concat(Kk.join("|"),")(-inverse)?$")),$k=new RegExp("^(".concat(Xk.join("|"),")$")),Qk=function(e,t){var n,r=e.prefixCls,i=e.className,o=e.style,a=e.children,s=e.icon,u=e.color,l=e.onClose,c=e.closeIcon,f=e.closable,d=void 0!==f&&f,h=qk(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),p=m.useContext(tn),g=p.getPrefixCls,v=p.direction,y=m.useState(!0),b=(0,It.Z)(y,2),x=b[0],w=b[1];m.useEffect((function(){"visible"in h&&w(h.visible)}),[h.visible]);var E=function(){return!!u&&(Jk.test(u)||$k.test(u))},S=wt({backgroundColor:u&&!E()?u:void 0},o),_=E(),T=g("tag",r),k=Ot()(T,(n={},(0,xe.Z)(n,"".concat(T,"-").concat(u),_),(0,xe.Z)(n,"".concat(T,"-has-color"),u&&!_),(0,xe.Z)(n,"".concat(T,"-hidden"),!x),(0,xe.Z)(n,"".concat(T,"-rtl"),"rtl"===v),n),i),C=function(e){e.stopPropagation(),null===l||void 0===l||l(e),e.defaultPrevented||"visible"in h||w(!1)},M="onClick"in h||a&&"a"===a.type,A=hn(h,["visible"]),N=s||null,P=N?m.createElement(m.Fragment,null,N,m.createElement("span",null,a)):a,I=m.createElement("span",wt({},A,{ref:t,className:k,style:S}),P,d?c?m.createElement("span",{className:"".concat(T,"-close-icon"),onClick:C},c):m.createElement(Wk,{className:"".concat(T,"-close-icon"),onClick:C}):null);return M?m.createElement(LT,null,I):I},eC=m.forwardRef(Qk);eC.displayName="Tag",eC.CheckableTag=Hk;var tC=eC;var nC={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},rC=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:nC}))};rC.displayName="CalendarOutlined";var iC=m.forwardRef(rC),oC={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},aC=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:oC}))};aC.displayName="ClockCircleOutlined";var sC=m.forwardRef(aC),uC={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},lC=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:uC}))};lC.displayName="CloseCircleFilled";var cC=m.forwardRef(lC);function fC(e,t){var n=t||{},r=n.defaultValue,i=n.value,o=n.onChange,a=n.postState,s=m.useState((function(){return void 0!==i?i:void 0!==r?"function"===typeof r?r():r:"function"===typeof e?e():e})),u=(0,It.Z)(s,2),l=u[0],c=u[1],f=void 0!==i?i:l;a&&(f=a(f));var d=m.useRef(o);d.current=o;var h=m.useCallback((function(e){c(e),f!==e&&d.current&&d.current(e,f)}),[f,d]),p=m.useRef(!0);return m.useEffect((function(){p.current?p.current=!1:void 0===i&&c(i)}),[i]),[f,h]}var dC={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=dC.F1&&t<=dC.F12)return!1;switch(t){case dC.ALT:case dC.CAPS_LOCK:case dC.CONTEXT_MENU:case dC.CTRL:case dC.DOWN:case dC.END:case dC.ESC:case dC.HOME:case dC.INSERT:case dC.LEFT:case dC.MAC_FF_META:case dC.META:case dC.NUMLOCK:case dC.NUM_CENTER:case dC.PAGE_DOWN:case dC.PAGE_UP:case dC.PAUSE:case dC.PRINT_SCREEN:case dC.RIGHT:case dC.SHIFT:case dC.UP:case dC.WIN_KEY:case dC.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=dC.ZERO&&e<=dC.NINE)return!0;if(e>=dC.NUM_ZERO&&e<=dC.NUM_MULTIPLY)return!0;if(e>=dC.A&&e<=dC.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case dC.SPACE:case dC.QUESTION_MARK:case dC.NUM_PLUS:case dC.NUM_MINUS:case dC.NUM_PERIOD:case dC.NUM_DIVISION:case dC.SEMICOLON:case dC.DASH:case dC.EQUALS:case dC.COMMA:case dC.PERIOD:case dC.SLASH:case dC.APOSTROPHE:case dC.SINGLE_QUOTE:case dC.OPEN_SQUARE_BRACKET:case dC.BACKSLASH:case dC.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},hC=dC,pC=m.createContext({}),gC={visibility:"hidden"};var vC=function(e){var t=e.prefixCls,n=e.prevIcon,r=void 0===n?"\u2039":n,i=e.nextIcon,o=void 0===i?"\u203a":i,a=e.superPrevIcon,s=void 0===a?"\xab":a,u=e.superNextIcon,l=void 0===u?"\xbb":u,c=e.onSuperPrev,f=e.onSuperNext,d=e.onPrev,h=e.onNext,p=e.children,g=m.useContext(pC),v=g.hideNextBtn,y=g.hidePrevBtn;return m.createElement("div",{className:t},c&&m.createElement("button",{type:"button",onClick:c,tabIndex:-1,className:"".concat(t,"-super-prev-btn"),style:y?gC:{}},s),d&&m.createElement("button",{type:"button",onClick:d,tabIndex:-1,className:"".concat(t,"-prev-btn"),style:y?gC:{}},r),m.createElement("div",{className:"".concat(t,"-view")},p),h&&m.createElement("button",{type:"button",onClick:h,tabIndex:-1,className:"".concat(t,"-next-btn"),style:v?gC:{}},o),f&&m.createElement("button",{type:"button",onClick:f,tabIndex:-1,className:"".concat(t,"-super-next-btn"),style:v?gC:{}},l))};var mC=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.viewDate,i=e.onPrevDecades,o=e.onNextDecades;if(m.useContext(pC).hideHeader)return null;var a="".concat(t,"-header"),s=n.getYear(r),u=Math.floor(s/OC)*OC,l=u+OC-1;return m.createElement(vC,wt({},e,{prefixCls:a,onSuperPrev:i,onSuperNext:o}),u,"-",l)};function yC(e,t,n,r,i){var o=e.setHour(t,n);return o=e.setMinute(o,r),o=e.setSecond(o,i)}function bC(e,t,n){if(!n)return t;var r=t;return r=e.setHour(r,e.getHour(n)),r=e.setMinute(r,e.getMinute(n)),r=e.setSecond(r,e.getSecond(n))}function xC(e,t){var n=e.getYear(t),r=e.getMonth(t)+1,i=e.getEndDate(e.getFixedDate("".concat(n,"-").concat(r,"-01"))),o=e.getDate(i),a=r<10?"0".concat(r):"".concat(r);return"".concat(n,"-").concat(a,"-").concat(o)}function wC(e){for(var t=e.prefixCls,n=e.disabledDate,r=e.onSelect,i=e.picker,o=e.rowNum,a=e.colNum,s=e.prefixColumn,u=e.rowClassName,l=e.baseDate,c=e.getCellClassName,f=e.getCellText,d=e.getCellNode,h=e.getCellDate,p=e.generateConfig,g=e.titleCell,v=e.headerCells,y=m.useContext(pC),b=y.onDateMouseEnter,x=y.onDateMouseLeave,w=y.mode,E="".concat(t,"-cell"),S=[],_=0;_<o;_+=1){for(var T=[],k=void 0,C=function(e){var t,o=h(l,_*a+e),u=XC({cellDate:o,mode:w,disabledDate:n,generateConfig:p});0===e&&(k=o,s&&T.push(s(k)));var v=g&&g(o);T.push(m.createElement("td",{key:e,title:v,className:Ot()(E,Ee((t={},(0,xe.Z)(t,"".concat(E,"-disabled"),u),(0,xe.Z)(t,"".concat(E,"-start"),1===f(o)||"year"===i&&Number(v)%10===0),(0,xe.Z)(t,"".concat(E,"-end"),v===xC(p,o)||"year"===i&&Number(v)%10===9),t),c(o))),onClick:function(){u||r(o)},onMouseEnter:function(){!u&&b&&b(o)},onMouseLeave:function(){!u&&x&&x(o)}},d?d(o):m.createElement("div",{className:"".concat(E,"-inner")},f(o))))},M=0;M<a;M+=1)C(M);S.push(m.createElement("tr",{key:_,className:u&&u(k)},T))}return m.createElement("div",{className:"".concat(t,"-body")},m.createElement("table",{className:"".concat(t,"-content")},v&&m.createElement("thead",null,m.createElement("tr",null,v)),m.createElement("tbody",null,S)))}var EC=function(e){var t=DC-1,n=e.prefixCls,r=e.viewDate,i=e.generateConfig,o="".concat(n,"-cell"),a=i.getYear(r),s=Math.floor(a/DC)*DC,u=Math.floor(a/OC)*OC,l=u+OC-1,c=i.setYear(r,u-Math.ceil((12*DC-OC)/2));return m.createElement(wC,wt({},e,{rowNum:4,colNum:3,baseDate:c,getCellText:function(e){var n=i.getYear(e);return"".concat(n,"-").concat(n+t)},getCellClassName:function(e){var n,r=i.getYear(e),a=r+t;return n={},(0,xe.Z)(n,"".concat(o,"-in-view"),u<=r&&a<=l),(0,xe.Z)(n,"".concat(o,"-selected"),r===s),n},getCellDate:function(e,t){return i.addYear(e,t*DC)}}))},SC=function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();if(n.width||n.height)return!0}return!1},_C=new Map;function TC(e,t,n){if(_C.get(e)&&cancelAnimationFrame(_C.get(e)),n<=0)_C.set(e,requestAnimationFrame((function(){e.scrollTop=t})));else{var r=(t-e.scrollTop)/n*10;_C.set(e,requestAnimationFrame((function(){e.scrollTop+=r,e.scrollTop!==t&&TC(e,t,n-10)})))}}function kC(e,t){var n=t.onLeftRight,r=t.onCtrlLeftRight,i=t.onUpDown,o=t.onPageUpDown,a=t.onEnter,s=e.which,u=e.ctrlKey,l=e.metaKey;switch(s){case hC.LEFT:if(u||l){if(r)return r(-1),!0}else if(n)return n(-1),!0;break;case hC.RIGHT:if(u||l){if(r)return r(1),!0}else if(n)return n(1),!0;break;case hC.UP:if(i)return i(-1),!0;break;case hC.DOWN:if(i)return i(1),!0;break;case hC.PAGE_UP:if(o)return o(-1),!0;break;case hC.PAGE_DOWN:if(o)return o(1),!0;break;case hC.ENTER:if(a)return a(),!0}return!1}function CC(e,t,n,r){var i=e;if(!i)switch(t){case"time":i=r?"hh:mm:ss a":"HH:mm:ss";break;case"week":i="gggg-wo";break;case"month":i="YYYY-MM";break;case"quarter":i="YYYY-[Q]Q";break;case"year":i="YYYY";break;default:i=n?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD"}return i}function MC(e,t,n){var r="time"===e?8:10,i="function"===typeof t?t(n.getNow()).length:t.length;return Math.max(r,i)+2}var AC=null,NC=new Set;var PC={year:function(e){return"month"===e||"date"===e?"year":e},month:function(e){return"date"===e?"month":e},quarter:function(e){return"month"===e||"date"===e?"quarter":e},week:function(e){return"date"===e?"week":e},time:null,date:null};function IC(e,t){return e.some((function(e){return e&&e.contains(t)}))}var DC=10,OC=10*DC;var RC=function(e){var t=e.prefixCls,n=e.onViewDateChange,r=e.generateConfig,i=e.viewDate,o=e.operationRef,a=e.onSelect,s=e.onPanelChange,u="".concat(t,"-decade-panel");o.current={onKeyDown:function(e){return kC(e,{onLeftRight:function(e){a(r.addYear(i,e*DC),"key")},onCtrlLeftRight:function(e){a(r.addYear(i,e*OC),"key")},onUpDown:function(e){a(r.addYear(i,e*DC*3),"key")},onEnter:function(){s("year",i)}})}};var l=function(e){var t=r.addYear(i,e*OC);n(t),s(null,t)};return m.createElement("div",{className:u},m.createElement(mC,wt({},e,{prefixCls:t,onPrevDecades:function(){l(-1)},onNextDecades:function(){l(1)}})),m.createElement(EC,wt({},e,{prefixCls:t,onSelect:function(e){a(e,"mouse"),s("year",e)}})))};function LC(e,t){return!e&&!t||!(!e||!t)&&void 0}function jC(e,t,n){var r=LC(t,n);return"boolean"===typeof r?r:e.getYear(t)===e.getYear(n)}function BC(e,t){return Math.floor(e.getMonth(t)/3)+1}function FC(e,t,n){var r=LC(t,n);return"boolean"===typeof r?r:jC(e,t,n)&&BC(e,t)===BC(e,n)}function zC(e,t,n){var r=LC(t,n);return"boolean"===typeof r?r:jC(e,t,n)&&e.getMonth(t)===e.getMonth(n)}function YC(e,t,n){var r=LC(t,n);return"boolean"===typeof r?r:e.getYear(t)===e.getYear(n)&&e.getMonth(t)===e.getMonth(n)&&e.getDate(t)===e.getDate(n)}function GC(e,t,n,r){var i=LC(n,r);return"boolean"===typeof i?i:e.locale.getWeek(t,n)===e.locale.getWeek(t,r)}function VC(e,t,n){return YC(e,t,n)&&function(e,t,n){var r=LC(t,n);return"boolean"===typeof r?r:e.getHour(t)===e.getHour(n)&&e.getMinute(t)===e.getMinute(n)&&e.getSecond(t)===e.getSecond(n)}(e,t,n)}function UC(e,t,n,r){return!!(t&&n&&r)&&(!YC(e,t,r)&&!YC(e,n,r)&&e.isAfter(r,t)&&e.isAfter(n,r))}function WC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;switch(t){case"year":return n.addYear(e,10*r);case"quarter":case"month":return n.addYear(e,r);default:return n.addMonth(e,r)}}function ZC(e,t){var n=t.generateConfig,r=t.locale,i=t.format;return"function"===typeof i?i(e):n.locale.format(r.locale,e,i)}function HC(e,t){var n=t.generateConfig,r=t.locale,i=t.formatList;return e&&"function"!==typeof i[0]?n.locale.parse(r.locale,e,i):null}function XC(e){var t=e.cellDate,n=e.mode,r=e.disabledDate,i=e.generateConfig;if(!r)return!1;var o=function(e,n,o){for(var a=n;a<=o;){var s=void 0;switch(e){case"date":if(s=i.setDate(t,a),!r(s))return!1;break;case"month":if(!XC({cellDate:s=i.setMonth(t,a),mode:"month",generateConfig:i,disabledDate:r}))return!1;break;case"year":if(!XC({cellDate:s=i.setYear(t,a),mode:"year",generateConfig:i,disabledDate:r}))return!1}a+=1}return!0};switch(n){case"date":case"week":return r(t);case"month":return o("date",1,i.getDate(i.getEndDate(t)));case"quarter":var a=3*Math.floor(i.getMonth(t)/3);return o("month",a,a+2);case"year":return o("month",0,11);case"decade":var s=i.getYear(t),u=Math.floor(s/DC)*DC;return o("year",u,u+DC-1)}}var KC=function(e){if(m.useContext(pC).hideHeader)return null;var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.value,o=e.format,a="".concat(t,"-header");return m.createElement(vC,{prefixCls:a},i?ZC(i,{locale:r,format:o,generateConfig:n}):"\xa0")};var qC=function(e){var t=e.prefixCls,n=e.units,r=e.onSelect,i=e.value,o=e.active,a=e.hideDisabledOptions,s="".concat(t,"-cell"),u=m.useContext(pC).open,l=(0,m.useRef)(null),c=(0,m.useRef)(new Map),f=(0,m.useRef)();return(0,m.useLayoutEffect)((function(){var e=c.current.get(i);e&&!1!==u&&TC(l.current,e.offsetTop,120)}),[i]),(0,m.useLayoutEffect)((function(){if(u){var e=c.current.get(i);e&&(f.current=function(e,t){var n;return function r(){SC(e)?t():n=CT((function(){r()}))}(),function(){CT.cancel(n)}}(e,(function(){TC(l.current,e.offsetTop,0)})))}return function(){var e;null===(e=f.current)||void 0===e||e.call(f)}}),[u]),m.createElement("ul",{className:Ot()("".concat(t,"-column"),(0,xe.Z)({},"".concat(t,"-column-active"),o)),ref:l,style:{position:"relative"}},n.map((function(e){var t;return a&&e.disabled?null:m.createElement("li",{key:e.value,ref:function(t){c.current.set(e.value,t)},className:Ot()(s,(t={},(0,xe.Z)(t,"".concat(s,"-disabled"),e.disabled),(0,xe.Z)(t,"".concat(s,"-selected"),i===e.value),t)),onClick:function(){e.disabled||r(e.value)}},m.createElement("div",{className:"".concat(s,"-inner")},e.label))})))};function JC(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",r=String(e);r.length<t;)r="".concat(n).concat(e);return r}function $C(e){return null===e||void 0===e?[]:Array.isArray(e)?e:[e]}function QC(e){var t={};return Object.keys(e).forEach((function(n){"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n&&"name"!==n||"data-__"===n.substr(0,7)||(t[n]=e[n])})),t}function eM(e,t){return e?e[t]:null}function tM(e,t,n){var r=[eM(e,0),eM(e,1)];return r[n]="function"===typeof t?t(r[n]):t,r[0]||r[1]?r:null}function nM(e,t){if(e.length!==t.length)return!0;for(var n=0;n<e.length;n+=1)if(e[n].disabled!==t[n].disabled)return!0;return!1}function rM(e,t,n,r){for(var i=[],o=e;o<=t;o+=n)i.push({label:JC(o,2),value:o,disabled:(r||[]).includes(o)});return i}var iM=function(e){var t,n=e.generateConfig,r=e.prefixCls,i=e.operationRef,o=e.activeColumnIndex,a=e.value,s=e.showHour,u=e.showMinute,l=e.showSecond,c=e.use12Hours,f=e.hourStep,d=void 0===f?1:f,h=e.minuteStep,p=void 0===h?1:h,g=e.secondStep,v=void 0===g?1:g,y=e.disabledHours,b=e.disabledMinutes,x=e.disabledSeconds,w=e.hideDisabledOptions,E=e.onSelect,S=[],_="".concat(r,"-content"),T="".concat(r,"-time-panel"),k=a?n.getHour(a):-1,C=k,M=a?n.getMinute(a):-1,A=a?n.getSecond(a):-1,N=function(e,t,r,i){var o=a||n.getNow(),s=Math.max(0,t),u=Math.max(0,r),l=Math.max(0,i);return o=yC(n,o,c&&e?s+12:s,u,l)},P=rM(0,23,d,y&&y()),I=yT((function(){return P}),P,nM);c&&(t=C>=12,C%=12);var D=m.useMemo((function(){if(!c)return[!1,!1];var e=[!0,!0];return I.forEach((function(t){var n=t.disabled,r=t.value;n||(r>=12?e[1]=!1:e[0]=!1)})),e}),[c,I]),O=(0,It.Z)(D,2),R=O[0],L=O[1],j=m.useMemo((function(){return c?I.filter(t?function(e){return e.value>=12}:function(e){return e.value<12}).map((function(e){var t=e.value%12,n=0===t?"12":JC(t,2);return Ee(Ee({},e),{},{label:n,value:t})})):I}),[c,t,I]),B=rM(0,59,p,b&&b(k)),F=rM(0,59,v,x&&x(k,M));function z(e,t,n,r,i){!1!==e&&S.push({node:m.cloneElement(t,{prefixCls:T,value:n,active:o===S.length,onSelect:i,units:r,hideDisabledOptions:w}),onSelect:i,value:n,units:r})}i.current={onUpDown:function(e){var t=S[o];if(t)for(var n=t.units.findIndex((function(e){return e.value===t.value})),r=t.units.length,i=1;i<r;i+=1){var a=t.units[(n+e*i+r)%r];if(!0!==a.disabled){t.onSelect(a.value);break}}}},z(s,m.createElement(qC,{key:"hour"}),C,j,(function(e){E(N(t,e,M,A),"mouse")})),z(u,m.createElement(qC,{key:"minute"}),M,B,(function(e){E(N(t,C,e,A),"mouse")})),z(l,m.createElement(qC,{key:"second"}),A,F,(function(e){E(N(t,C,M,e),"mouse")}));var Y=-1;return"boolean"===typeof t&&(Y=t?1:0),z(!0===c,m.createElement(qC,{key:"12hours"}),Y,[{label:"AM",value:0,disabled:R},{label:"PM",value:1,disabled:L}],(function(e){E(N(!!e,C,M,A),"mouse")})),m.createElement("div",{className:_},S.map((function(e){return e.node})))};var oM=function(e){var t=e.generateConfig,n=e.format,r=void 0===n?"HH:mm:ss":n,i=e.prefixCls,o=e.active,a=e.operationRef,s=e.showHour,u=e.showMinute,l=e.showSecond,c=e.use12Hours,f=void 0!==c&&c,d=e.onSelect,h=e.value,p="".concat(i,"-time-panel"),g=m.useRef(),v=m.useState(-1),y=(0,It.Z)(v,2),b=y[0],x=y[1],w=[s,u,l,f].filter((function(e){return!1!==e})).length;return a.current={onKeyDown:function(e){return kC(e,{onLeftRight:function(e){x((b+e+w)%w)},onUpDown:function(e){-1===b?x(0):g.current&&g.current.onUpDown(e)},onEnter:function(){d(h||t.getNow(),"key"),x(-1)}})},onBlur:function(){x(-1)}},m.createElement("div",{className:Ot()(p,(0,xe.Z)({},"".concat(p,"-active"),o))},m.createElement(KC,wt({},e,{format:r,prefixCls:i})),m.createElement(iM,wt({},e,{prefixCls:i,activeColumnIndex:b,operationRef:g})))},aM=m.createContext({});function sM(e){var t=e.cellPrefixCls,n=e.generateConfig,r=e.rangedValue,i=e.hoverRangedValue,o=e.isInView,a=e.isSameCell,s=e.offsetCell,u=e.today,l=e.value;return function(e){var c,f=s(e,-1),d=s(e,1),h=eM(r,0),p=eM(r,1),g=eM(i,0),v=eM(i,1),m=UC(n,g,v,e);function y(e){return a(h,e)}function b(e){return a(p,e)}var x=a(g,e),w=a(v,e),E=(m||w)&&(!o(f)||b(f)),S=(m||x)&&(!o(d)||y(d));return c={},(0,xe.Z)(c,"".concat(t,"-in-view"),o(e)),(0,xe.Z)(c,"".concat(t,"-in-range"),UC(n,h,p,e)),(0,xe.Z)(c,"".concat(t,"-range-start"),y(e)),(0,xe.Z)(c,"".concat(t,"-range-end"),b(e)),(0,xe.Z)(c,"".concat(t,"-range-start-single"),y(e)&&!p),(0,xe.Z)(c,"".concat(t,"-range-end-single"),b(e)&&!h),(0,xe.Z)(c,"".concat(t,"-range-start-near-hover"),y(e)&&(a(f,g)||UC(n,g,v,f))),(0,xe.Z)(c,"".concat(t,"-range-end-near-hover"),b(e)&&(a(d,v)||UC(n,g,v,d))),(0,xe.Z)(c,"".concat(t,"-range-hover"),m),(0,xe.Z)(c,"".concat(t,"-range-hover-start"),x),(0,xe.Z)(c,"".concat(t,"-range-hover-end"),w),(0,xe.Z)(c,"".concat(t,"-range-hover-edge-start"),E),(0,xe.Z)(c,"".concat(t,"-range-hover-edge-end"),S),(0,xe.Z)(c,"".concat(t,"-range-hover-edge-start-near-range"),E&&a(f,p)),(0,xe.Z)(c,"".concat(t,"-range-hover-edge-end-near-range"),S&&a(d,h)),(0,xe.Z)(c,"".concat(t,"-today"),a(u,e)),(0,xe.Z)(c,"".concat(t,"-selected"),a(l,e)),c}}var uM=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.prefixColumn,i=e.locale,o=e.rowCount,a=e.viewDate,s=e.value,u=e.dateRender,l=m.useContext(aM),c=l.rangedValue,f=l.hoverRangedValue,d=function(e,t,n){var r=t.locale.getWeekFirstDay(e),i=t.setDate(n,1),o=t.getWeekDay(i),a=t.addDate(i,r-o);return t.getMonth(a)===t.getMonth(n)&&t.getDate(a)>1&&(a=t.addDate(a,-7)),a}(i.locale,n,a),h="".concat(t,"-cell"),p=n.locale.getWeekFirstDay(i.locale),g=n.getNow(),v=[],y=i.shortWeekDays||(n.locale.getShortWeekDays?n.locale.getShortWeekDays(i.locale):[]);r&&v.push(m.createElement("th",{key:"empty","aria-label":"empty cell"}));for(var b=0;b<7;b+=1)v.push(m.createElement("th",{key:b},y[(b+p)%7]));var x=sM({cellPrefixCls:h,today:g,value:s,generateConfig:n,rangedValue:r?null:c,hoverRangedValue:r?null:f,isSameCell:function(e,t){return YC(n,e,t)},isInView:function(e){return zC(n,e,a)},offsetCell:function(e,t){return n.addDate(e,t)}}),w=u?function(e){return u(e,g)}:void 0;return m.createElement(wC,wt({},e,{rowNum:o,colNum:7,baseDate:d,getCellNode:w,getCellText:n.getDate,getCellClassName:x,getCellDate:n.addDate,titleCell:function(e){return ZC(e,{locale:i,format:"YYYY-MM-DD",generateConfig:n})},headerCells:v}))};var lM=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.viewDate,o=e.onNextMonth,a=e.onPrevMonth,s=e.onNextYear,u=e.onPrevYear,l=e.onYearClick,c=e.onMonthClick;if(m.useContext(pC).hideHeader)return null;var f="".concat(t,"-header"),d=r.shortMonths||(n.locale.getShortMonths?n.locale.getShortMonths(r.locale):[]),h=n.getMonth(i),p=m.createElement("button",{type:"button",key:"year",onClick:l,tabIndex:-1,className:"".concat(t,"-year-btn")},ZC(i,{locale:r,format:r.yearFormat,generateConfig:n})),g=m.createElement("button",{type:"button",key:"month",onClick:c,tabIndex:-1,className:"".concat(t,"-month-btn")},r.monthFormat?ZC(i,{locale:r,format:r.monthFormat,generateConfig:n}):d[h]),v=r.monthBeforeYear?[g,p]:[p,g];return m.createElement(vC,wt({},e,{prefixCls:f,onSuperPrev:u,onPrev:a,onNext:o,onSuperNext:s}),v)};var cM=function(e){var t=e.prefixCls,n=e.panelName,r=void 0===n?"date":n,i=e.keyboardConfig,o=e.active,a=e.operationRef,s=e.generateConfig,u=e.value,l=e.viewDate,c=e.onViewDateChange,f=e.onPanelChange,d=e.onSelect,h="".concat(t,"-").concat(r,"-panel");a.current={onKeyDown:function(e){return kC(e,Ee({onLeftRight:function(e){d(s.addDate(u||l,e),"key")},onCtrlLeftRight:function(e){d(s.addYear(u||l,e),"key")},onUpDown:function(e){d(s.addDate(u||l,7*e),"key")},onPageUpDown:function(e){d(s.addMonth(u||l,e),"key")}},i))}};var p=function(e){var t=s.addYear(l,e);c(t),f(null,t)},g=function(e){var t=s.addMonth(l,e);c(t),f(null,t)};return m.createElement("div",{className:Ot()(h,(0,xe.Z)({},"".concat(h,"-active"),o))},m.createElement(lM,wt({},e,{prefixCls:t,value:u,viewDate:l,onPrevYear:function(){p(-1)},onNextYear:function(){p(1)},onPrevMonth:function(){g(-1)},onNextMonth:function(){g(1)},onMonthClick:function(){f("month",l)},onYearClick:function(){f("year",l)}})),m.createElement(uM,wt({},e,{onSelect:function(e){return d(e,"mouse")},prefixCls:t,value:u,viewDate:l,rowCount:6})))},fM=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}("date","time");var dM=function(e){var t=e.prefixCls,n=e.operationRef,r=e.generateConfig,i=e.value,o=e.defaultValue,a=e.disabledTime,s=e.showTime,u=e.onSelect,l="".concat(t,"-datetime-panel"),c=m.useState(null),f=(0,It.Z)(c,2),d=f[0],h=f[1],p=m.useRef({}),g=m.useRef({}),v="object"===(0,mn.Z)(s)?Ee({},s):{},y=function(e){g.current.onBlur&&g.current.onBlur(e),h(null)};n.current={onKeyDown:function(e){if(e.which===hC.TAB){var t=function(e){var t=fM.indexOf(d)+e;return fM[t]||null}(e.shiftKey?-1:1);return h(t),t&&e.preventDefault(),!0}if(d){var n="date"===d?p:g;return n.current&&n.current.onKeyDown&&n.current.onKeyDown(e),!0}return!![hC.LEFT,hC.RIGHT,hC.UP,hC.DOWN].includes(e.which)&&(h("date"),!0)},onBlur:y,onClose:y};var b=function(e,t){var n=e;"date"===t&&!i&&v.defaultValue?(n=r.setHour(n,r.getHour(v.defaultValue)),n=r.setMinute(n,r.getMinute(v.defaultValue)),n=r.setSecond(n,r.getSecond(v.defaultValue))):"time"===t&&!i&&o&&(n=r.setYear(n,r.getYear(o)),n=r.setMonth(n,r.getMonth(o)),n=r.setDate(n,r.getDate(o))),u&&u(n,"mouse")},x=a?a(i||null):{};return m.createElement("div",{className:Ot()(l,(0,xe.Z)({},"".concat(l,"-active"),d))},m.createElement(cM,wt({},e,{operationRef:p,active:"date"===d,onSelect:function(e){b(bC(r,e,s&&"object"===(0,mn.Z)(s)?s.defaultValue:null),"date")}})),m.createElement(oM,wt({},e,{format:void 0},v,x,{defaultValue:void 0,operationRef:g,active:"time"===d,onSelect:function(e){b(e,"time")}})))};var hM=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.value,o="".concat(t,"-cell"),a="".concat(t,"-week-panel-row");return m.createElement(cM,wt({},e,{panelName:"week",prefixColumn:function(e){return m.createElement("td",{key:"week",className:Ot()(o,"".concat(o,"-week"))},n.locale.getWeek(r.locale,e))},rowClassName:function(e){return Ot()(a,(0,xe.Z)({},"".concat(a,"-selected"),GC(n,r.locale,i,e)))},keyboardConfig:{onLeftRight:null}}))};var pM=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.viewDate,o=e.onNextYear,a=e.onPrevYear,s=e.onYearClick;if(m.useContext(pC).hideHeader)return null;var u="".concat(t,"-header");return m.createElement(vC,wt({},e,{prefixCls:u,onSuperPrev:a,onSuperNext:o}),m.createElement("button",{type:"button",onClick:s,className:"".concat(t,"-year-btn")},ZC(i,{locale:r,format:r.yearFormat,generateConfig:n})))};var gM=function(e){var t=e.prefixCls,n=e.locale,r=e.value,i=e.viewDate,o=e.generateConfig,a=e.monthCellRender,s=m.useContext(aM),u=s.rangedValue,l=s.hoverRangedValue,c=sM({cellPrefixCls:"".concat(t,"-cell"),value:r,generateConfig:o,rangedValue:u,hoverRangedValue:l,isSameCell:function(e,t){return zC(o,e,t)},isInView:function(){return!0},offsetCell:function(e,t){return o.addMonth(e,t)}}),f=n.shortMonths||(o.locale.getShortMonths?o.locale.getShortMonths(n.locale):[]),d=o.setMonth(i,0),h=a?function(e){return a(e,n)}:void 0;return m.createElement(wC,wt({},e,{rowNum:4,colNum:3,baseDate:d,getCellNode:h,getCellText:function(e){return n.monthFormat?ZC(e,{locale:n,format:n.monthFormat,generateConfig:o}):f[o.getMonth(e)]},getCellClassName:c,getCellDate:o.addMonth,titleCell:function(e){return ZC(e,{locale:n,format:"YYYY-MM",generateConfig:o})}}))};var vM=function(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,i=e.generateConfig,o=e.value,a=e.viewDate,s=e.onPanelChange,u=e.onSelect,l="".concat(t,"-month-panel");n.current={onKeyDown:function(e){return kC(e,{onLeftRight:function(e){u(i.addMonth(o||a,e),"key")},onCtrlLeftRight:function(e){u(i.addYear(o||a,e),"key")},onUpDown:function(e){u(i.addMonth(o||a,3*e),"key")},onEnter:function(){s("date",o||a)}})}};var c=function(e){var t=i.addYear(a,e);r(t),s(null,t)};return m.createElement("div",{className:l},m.createElement(pM,wt({},e,{prefixCls:t,onPrevYear:function(){c(-1)},onNextYear:function(){c(1)},onYearClick:function(){s("year",a)}})),m.createElement(gM,wt({},e,{prefixCls:t,onSelect:function(e){u(e,"mouse"),s("date",e)}})))};var mM=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,i=e.viewDate,o=e.onNextYear,a=e.onPrevYear,s=e.onYearClick;if(m.useContext(pC).hideHeader)return null;var u="".concat(t,"-header");return m.createElement(vC,wt({},e,{prefixCls:u,onSuperPrev:a,onSuperNext:o}),m.createElement("button",{type:"button",onClick:s,className:"".concat(t,"-year-btn")},ZC(i,{locale:r,format:r.yearFormat,generateConfig:n})))};var yM=function(e){var t=e.prefixCls,n=e.locale,r=e.value,i=e.viewDate,o=e.generateConfig,a=m.useContext(aM),s=a.rangedValue,u=a.hoverRangedValue,l=sM({cellPrefixCls:"".concat(t,"-cell"),value:r,generateConfig:o,rangedValue:s,hoverRangedValue:u,isSameCell:function(e,t){return FC(o,e,t)},isInView:function(){return!0},offsetCell:function(e,t){return o.addMonth(e,3*t)}}),c=o.setDate(o.setMonth(i,0),1);return m.createElement(wC,wt({},e,{rowNum:1,colNum:4,baseDate:c,getCellText:function(e){return ZC(e,{locale:n,format:n.quarterFormat||"[Q]Q",generateConfig:o})},getCellClassName:l,getCellDate:function(e,t){return o.addMonth(e,3*t)},titleCell:function(e){return ZC(e,{locale:n,format:"YYYY-[Q]Q",generateConfig:o})}}))};var bM=function(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,i=e.generateConfig,o=e.value,a=e.viewDate,s=e.onPanelChange,u=e.onSelect,l="".concat(t,"-quarter-panel");n.current={onKeyDown:function(e){return kC(e,{onLeftRight:function(e){u(i.addMonth(o||a,3*e),"key")},onCtrlLeftRight:function(e){u(i.addYear(o||a,e),"key")},onUpDown:function(e){u(i.addYear(o||a,e),"key")}})}};var c=function(e){var t=i.addYear(a,e);r(t),s(null,t)};return m.createElement("div",{className:l},m.createElement(mM,wt({},e,{prefixCls:t,onPrevYear:function(){c(-1)},onNextYear:function(){c(1)},onYearClick:function(){s("year",a)}})),m.createElement(yM,wt({},e,{prefixCls:t,onSelect:function(e){u(e,"mouse")}})))};var xM=function(e){var t=e.prefixCls,n=e.generateConfig,r=e.viewDate,i=e.onPrevDecade,o=e.onNextDecade,a=e.onDecadeClick;if(m.useContext(pC).hideHeader)return null;var s="".concat(t,"-header"),u=n.getYear(r),l=Math.floor(u/EM)*EM,c=l+EM-1;return m.createElement(vC,wt({},e,{prefixCls:s,onSuperPrev:i,onSuperNext:o}),m.createElement("button",{type:"button",onClick:a,className:"".concat(t,"-decade-btn")},l,"-",c))};var wM=function(e){var t=e.prefixCls,n=e.value,r=e.viewDate,i=e.locale,o=e.generateConfig,a=m.useContext(aM),s=a.rangedValue,u=a.hoverRangedValue,l="".concat(t,"-cell"),c=o.getYear(r),f=Math.floor(c/EM)*EM,d=f+EM-1,h=o.setYear(r,f-Math.ceil((12-EM)/2)),p=sM({cellPrefixCls:l,value:n,generateConfig:o,rangedValue:s,hoverRangedValue:u,isSameCell:function(e,t){return jC(o,e,t)},isInView:function(e){var t=o.getYear(e);return f<=t&&t<=d},offsetCell:function(e,t){return o.addYear(e,t)}});return m.createElement(wC,wt({},e,{rowNum:4,colNum:3,baseDate:h,getCellText:o.getYear,getCellClassName:p,getCellDate:o.addYear,titleCell:function(e){return ZC(e,{locale:i,format:"YYYY",generateConfig:o})}}))},EM=10;var SM=function(e){var t=e.prefixCls,n=e.operationRef,r=e.onViewDateChange,i=e.generateConfig,o=e.value,a=e.viewDate,s=e.sourceMode,u=e.onSelect,l=e.onPanelChange,c="".concat(t,"-year-panel");n.current={onKeyDown:function(e){return kC(e,{onLeftRight:function(e){u(i.addYear(o||a,e),"key")},onCtrlLeftRight:function(e){u(i.addYear(o||a,e*EM),"key")},onUpDown:function(e){u(i.addYear(o||a,3*e),"key")},onEnter:function(){l("date"===s?"date":"month",o||a)}})}};var f=function(e){var t=i.addYear(a,10*e);r(t),l(null,t)};return m.createElement("div",{className:c},m.createElement(xM,wt({},e,{prefixCls:t,onPrevDecade:function(){f(-1)},onNextDecade:function(){f(1)},onDecadeClick:function(){l("decade",a)}})),m.createElement(wM,wt({},e,{prefixCls:t,onSelect:function(e){l("date"===s?"date":"month",e),u(e,"mouse")}})))};function _M(e,t,n){return n?m.createElement("div",{className:"".concat(e,"-footer-extra")},n(t)):null}function TM(e){var t,n,r=e.prefixCls,i=e.rangeList,o=void 0===i?[]:i,a=e.components,s=void 0===a?{}:a,u=e.needConfirmButton,l=e.onNow,c=e.onOk,f=e.okDisabled,d=e.showNow,h=e.locale;if(o.length){var p=s.rangeItem||"span";t=m.createElement(m.Fragment,null,o.map((function(e){var t=e.label,n=e.onClick,i=e.onMouseEnter,o=e.onMouseLeave;return m.createElement("li",{key:t,className:"".concat(r,"-preset")},m.createElement(p,{onClick:n,onMouseEnter:i,onMouseLeave:o},t))})))}if(u){var g=s.button||"button";l&&!t&&!1!==d&&(t=m.createElement("li",{className:"".concat(r,"-now")},m.createElement("a",{className:"".concat(r,"-now-btn"),onClick:l},h.now))),n=u&&m.createElement("li",{className:"".concat(r,"-ok")},m.createElement(g,{disabled:f,onClick:c},h.ok))}return t||n?m.createElement("ul",{className:"".concat(r,"-ranges")},t,n):null}var kM=function(e){var t,n=e.prefixCls,r=void 0===n?"rc-picker":n,i=e.className,o=e.style,a=e.locale,s=e.generateConfig,u=e.value,l=e.defaultValue,c=e.pickerValue,f=e.defaultPickerValue,d=e.disabledDate,h=e.mode,p=e.picker,g=void 0===p?"date":p,v=e.tabIndex,y=void 0===v?0:v,b=e.showNow,x=e.showTime,w=e.showToday,E=e.renderExtraFooter,S=e.hideHeader,_=e.onSelect,T=e.onChange,k=e.onPanelChange,C=e.onMouseDown,M=e.onPickerValueChange,A=e.onOk,N=e.components,P=e.direction,I=e.hourStep,D=void 0===I?1:I,O=e.minuteStep,R=void 0===O?1:O,L=e.secondStep,j=void 0===L?1:L,B="date"===g&&!!x||"time"===g,F=24%D===0,z=60%R===0,Y=60%j===0,G=m.useContext(pC),V=G.operationRef,U=G.panelRef,W=G.onSelect,Z=G.hideRanges,H=G.defaultOpenValue,X=m.useContext(aM),K=X.inRange,q=X.panelPosition,J=X.rangedValue,$=X.hoverRangedValue,Q=m.useRef({}),ee=m.useRef(!0),te=fC(null,{value:u,defaultValue:l,postState:function(e){return!e&&H&&"time"===g?H:e}}),ne=(0,It.Z)(te,2),re=ne[0],ie=ne[1],oe=fC(null,{value:c,defaultValue:f||re,postState:function(e){var t=s.getNow();return e?!re&&x?"object"===(0,mn.Z)(x)?bC(s,Array.isArray(e)?e[0]:e,x.defaultValue||t):bC(s,Array.isArray(e)?e[0]:e,l||t):e:t}}),ae=(0,It.Z)(oe,2),se=ae[0],ue=ae[1],le=function(e){ue(e),M&&M(e)},ce=function(e){var t=PC[g];return t?t(e):e},fe=fC((function(){return"time"===g?"time":ce("date")}),{value:h}),de=(0,It.Z)(fe,2),he=de[0],pe=de[1];m.useEffect((function(){pe(g)}),[g]);var ge,ve=m.useState((function(){return he})),me=(0,It.Z)(ve,2),ye=me[0],be=me[1],we=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(he===g||n)&&(ie(e),_&&_(e),W&&W(e,t),!T||VC(s,e,re)||(null===d||void 0===d?void 0:d(e))||T(e))},Se=function(e){return Q.current&&Q.current.onKeyDown?([hC.LEFT,hC.RIGHT,hC.UP,hC.DOWN,hC.PAGE_UP,hC.PAGE_DOWN,hC.ENTER].includes(e.which)&&e.preventDefault(),Q.current.onKeyDown(e)):(Zn(!1,"Panel not correct handle keyDown event. Please help to fire issue about this."),!1)};V&&"right"!==q&&(V.current={onKeyDown:Se,onClose:function(){Q.current&&Q.current.onClose&&Q.current.onClose()}}),m.useEffect((function(){u&&!ee.current&&ue(u)}),[u]),m.useEffect((function(){ee.current=!1}),[]);var _e,Te,ke,Ce=Ee(Ee({},e),{},{operationRef:Q,prefixCls:r,viewDate:se,value:re,onViewDateChange:le,sourceMode:ye,onPanelChange:function(e,t){var n=ce(e||he);be(he),pe(n),k&&(he!==n||VC(s,se,se))&&k(t,n)},disabledDate:d});switch(delete Ce.onChange,delete Ce.onSelect,he){case"decade":ge=m.createElement(RC,wt({},Ce,{onSelect:function(e,t){le(e),we(e,t)}}));break;case"year":ge=m.createElement(SM,wt({},Ce,{onSelect:function(e,t){le(e),we(e,t)}}));break;case"month":ge=m.createElement(vM,wt({},Ce,{onSelect:function(e,t){le(e),we(e,t)}}));break;case"quarter":ge=m.createElement(bM,wt({},Ce,{onSelect:function(e,t){le(e),we(e,t)}}));break;case"week":ge=m.createElement(hM,wt({},Ce,{onSelect:function(e,t){le(e),we(e,t)}}));break;case"time":delete Ce.showTime,ge=m.createElement(oM,wt({},Ce,"object"===(0,mn.Z)(x)?x:null,{onSelect:function(e,t){le(e),we(e,t)}}));break;default:ge=x?m.createElement(dM,wt({},Ce,{onSelect:function(e,t){le(e),we(e,t)}})):m.createElement(cM,wt({},Ce,{onSelect:function(e,t){le(e),we(e,t)}}))}if(Z||(_e=_M(r,he,E),Te=TM({prefixCls:r,components:N,needConfirmButton:B,okDisabled:!re||d&&d(re),locale:a,showNow:b,onNow:B&&function(){var e=s.getNow(),t=function(e,t,n,r,i,o){var a=Math.floor(e/r)*r;if(a<e)return[a,60-i,60-o];var s=Math.floor(t/i)*i;return s<t?[a,s,60-o]:[a,s,Math.floor(n/o)*o]}(s.getHour(e),s.getMinute(e),s.getSecond(e),F?D:1,z?R:1,Y?j:1),n=yC(s,e,t[0],t[1],t[2]);we(n,"submit")},onOk:function(){re&&(we(re,"submit",!0),A&&A(re))}})),w&&"date"===he&&"date"===g&&!x){var Me=s.getNow(),Ae="".concat(r,"-today-btn"),Ne=d&&d(Me);ke=m.createElement("a",{className:Ot()(Ae,Ne&&"".concat(Ae,"-disabled")),"aria-disabled":Ne,onClick:function(){Ne||we(Me,"mouse",!0)}},a.today)}return m.createElement(pC.Provider,{value:Ee(Ee({},G),{},{mode:he,hideHeader:"hideHeader"in e?S:G.hideHeader,hidePrevBtn:K&&"right"===q,hideNextBtn:K&&"left"===q})},m.createElement("div",{tabIndex:y,className:Ot()("".concat(r,"-panel"),i,(t={},(0,xe.Z)(t,"".concat(r,"-panel-has-range"),J&&J[0]&&J[1]),(0,xe.Z)(t,"".concat(r,"-panel-has-range-hover"),$&&$[0]&&$[1]),(0,xe.Z)(t,"".concat(r,"-panel-rtl"),"rtl"===P),t)),style:o,onKeyDown:Se,onBlur:function(e){Q.current&&Q.current.onBlur&&Q.current.onBlur(e)},onMouseDown:C,ref:U},ge,_e||Te||ke?m.createElement("div",{className:"".concat(r,"-footer")},_e,Te,ke):null))};function CM(e,t){return!!e&&e.contains(t)}function MM(e,t,n,r){var i=y.unstable_batchedUpdates?function(e){y.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,i)}}}var AM=(0,m.forwardRef)((function(e,t){var n=e.didUpdate,r=e.getContainer,i=e.children,o=(0,m.useRef)();(0,m.useImperativeHandle)(t,(function(){return{}}));var a=(0,m.useRef)(!1);return!a.current&&Hn()&&(o.current=r(),a.current=!0),(0,m.useEffect)((function(){null===n||void 0===n||n(e)})),(0,m.useEffect)((function(){return function(){var e,t;null===(e=o.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(o.current)}}),[]),o.current?y.createPortal(i,o.current):null})),NM=AM;function PM(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}var IM,DM=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4)))};function OM(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function RM(e){var t=e.prefixCls,n=e.visible,r=e.zIndex,i=e.mask,o=e.maskMotion,a=e.maskAnimation,s=e.maskTransitionName;if(!i)return null;var u={};return(o||s||a)&&(u=Ee({motionAppear:!0},OM({motion:o,prefixCls:t,transitionName:s,animation:a}))),m.createElement(Mk,wt({},u,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return m.createElement("div",{style:{zIndex:r},className:Ot()("".concat(t,"-mask"),n)})}))}function LM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LM(Object(n),!0).forEach((function(t){FM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BM(e){return BM="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BM(e)}function FM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zM={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function YM(){if(void 0!==IM)return IM;IM="";var e=document.createElement("p").style;for(var t in zM)t+"Transform"in e&&(IM=t);return IM}function GM(){return YM()?"".concat(YM(),"TransitionProperty"):"transitionProperty"}function VM(){return YM()?"".concat(YM(),"Transform"):"transform"}function UM(e,t){var n=GM();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function WM(e,t){var n=VM();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var ZM,HM=/matrix\((.*)\)/,XM=/matrix3d\((.*)\)/;function KM(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function qM(e,t,n){var r=n;if("object"!==BM(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):ZM(e,t);for(var i in t)t.hasOwnProperty(i)&&qM(e,i,t[i])}function JM(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function $M(e){return JM(e)}function QM(e){return JM(e,!0)}function eA(e){var t=function(e){var t,n,r,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return n=(t=e.getBoundingClientRect()).left,r=t.top,{left:n-=a.clientLeft||o.clientLeft||0,top:r-=a.clientTop||o.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=$M(r),t.top+=QM(r),t}function tA(e){return null!==e&&void 0!==e&&e==e.window}function nA(e){return tA(e)?e.document:9===e.nodeType?e:e.ownerDocument}var rA=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),iA=/^(top|right|bottom|left)$/;function oA(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function aA(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function sA(e,t,n){"static"===qM(e,"position")&&(e.style.position="relative");var r=-999,i=-999,o=oA("left",n),a=oA("top",n),s=aA(o),u=aA(a);"left"!==o&&(r=999),"top"!==a&&(i=999);var l="",c=eA(e);("left"in t||"top"in t)&&(l=function(e){return e.style.transitionProperty||e.style[GM()]}(e)||"",UM(e,"none")),"left"in t&&(e.style[s]="",e.style[o]="".concat(r,"px")),"top"in t&&(e.style[u]="",e.style[a]="".concat(i,"px")),KM(e);var f=eA(e),d={};for(var h in t)if(t.hasOwnProperty(h)){var p=oA(h,n),g="left"===h?r:i,v=c[h]-f[h];d[p]=p===h?g+v:g-v}qM(e,d),KM(e),("left"in t||"top"in t)&&UM(e,l);var m={};for(var y in t)if(t.hasOwnProperty(y)){var b=oA(y,n),x=t[y]-c[y];m[b]=y===b?d[b]+x:d[b]-x}qM(e,m)}function uA(e,t){var n=eA(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(VM());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(VM());if(r&&"none"!==r){var i,o=r.match(HM);o?(i=(o=o[1]).split(",").map((function(e){return parseFloat(e,10)})),i[4]=t.x,i[5]=t.y,WM(e,"matrix(".concat(i.join(","),")"))):(i=r.match(XM)[1].split(",").map((function(e){return parseFloat(e,10)})),i[12]=t.x,i[13]=t.y,WM(e,"matrix3d(".concat(i.join(","),")")))}else WM(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,i)}function lA(e,t){for(var n=0;n<e.length;n++)t(e[n])}function cA(e){return"border-box"===ZM(e,"boxSizing")}"undefined"!==typeof window&&(ZM=window.getComputedStyle?function(e,t,n){var r=n,i="",o=nA(e);return(r=r||o.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(rA.test(n)&&!iA.test(t)){var r=e.style,i=r.left,o=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=i,e.runtimeStyle.left=o}return""===n?"auto":n});var fA=["margin","border","padding"];function dA(e,t,n){var r,i={},o=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=o[r],o[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(o[r]=i[r])}function hA(e,t,n){var r,i,o,a=0;for(i=0;i<t.length;i++)if(r=t[i])for(o=0;o<n.length;o++){var s=void 0;s="border"===r?"".concat(r).concat(n[o],"Width"):r+n[o],a+=parseFloat(ZM(e,s))||0}return a}var pA={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function gA(e,t,n){var r=n;if(tA(e))return"width"===t?pA.viewportWidth(e):pA.viewportHeight(e);if(9===e.nodeType)return"width"===t?pA.docWidth(e):pA.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?e.getBoundingClientRect().width:e.getBoundingClientRect().height,a=cA(e),s=0;(null===o||void 0===o||o<=0)&&(o=void 0,(null===(s=ZM(e,t))||void 0===s||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===r&&(r=a?1:-1);var u=void 0!==o||a,l=o||s;return-1===r?u?l-hA(e,["border","padding"],i):s:u?1===r?l:l+(2===r?-hA(e,["border"],i):hA(e,["margin"],i)):s+hA(e,fA.slice(r),i)}lA(["Width","Height"],(function(e){pA["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],pA["viewport".concat(e)](n))},pA["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,o=r.documentElement[n];return"CSS1Compat"===r.compatMode&&o||i&&i[n]||o}}));var vA={position:"absolute",visibility:"hidden",display:"block"};function mA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=gA.apply(void 0,t):dA(i,vA,(function(){r=gA.apply(void 0,t)})),r}function yA(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}lA(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);pA["outer".concat(t)]=function(t,n){return t&&mA(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];pA[e]=function(t,r){var i=r;return void 0!==i?t?(cA(t)&&(i+=hA(t,["padding","border"],n)),qM(t,e,i)):void 0:t&&mA(t,e,-1)}}));var bA={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:nA,offset:function(e,t,n){if("undefined"===typeof t)return eA(e);!function(e,t,n){if(n.ignoreShake){var r=eA(e),i=r.left.toFixed(0),o=r.top.toFixed(0),a=t.left.toFixed(0),s=t.top.toFixed(0);if(i===a&&o===s)return}n.useCssRight||n.useCssBottom?sA(e,t,n):n.useCssTransform&&VM()in document.body.style?uA(e,t):sA(e,t,n)}(e,t,n||{})},isWindow:tA,each:lA,css:qM,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:yA,getWindowScrollLeft:function(e){return $M(e)},getWindowScrollTop:function(e){return QM(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)bA.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};yA(bA,pA);var xA=bA.getParent;function wA(e){if(bA.isWindow(e)||9===e.nodeType)return null;var t,n=bA.getDocument(e).body,r=bA.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:xA(e);for(t=xA(e);t&&t!==n&&9!==t.nodeType;t=xA(t))if("static"!==(r=bA.css(t,"position")))return t;return null}var EA=bA.getParent;function SA(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=wA(e),i=bA.getDocument(e),o=i.defaultView||i.parentWindow,a=i.body,s=i.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===a||r===s||"visible"===bA.css(r,"overflow")){if(r===a||r===s)break}else{var u=bA.offset(r);u.left+=r.clientLeft,u.top+=r.clientTop,n.top=Math.max(n.top,u.top),n.right=Math.min(n.right,u.left+r.clientWidth),n.bottom=Math.min(n.bottom,u.top+r.clientHeight),n.left=Math.max(n.left,u.left)}r=wA(r)}var l=null;bA.isWindow(e)||9===e.nodeType||(l=e.style.position,"absolute"===bA.css(e,"position")&&(e.style.position="fixed"));var c=bA.getWindowScrollLeft(o),f=bA.getWindowScrollTop(o),d=bA.viewportWidth(o),h=bA.viewportHeight(o),p=s.scrollWidth,g=s.scrollHeight,v=window.getComputedStyle(a);if("hidden"===v.overflowX&&(p=o.innerWidth),"hidden"===v.overflowY&&(g=o.innerHeight),e.style&&(e.style.position=l),t||function(e){if(bA.isWindow(e)||9===e.nodeType)return!1;var t=bA.getDocument(e),n=t.body,r=null;for(r=EA(e);r&&r!==n&&r!==t;r=EA(r))if("fixed"===bA.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,c),n.top=Math.max(n.top,f),n.right=Math.min(n.right,c+d),n.bottom=Math.min(n.bottom,f+h);else{var m=Math.max(p,c+d);n.right=Math.min(n.right,m);var y=Math.max(g,f+h);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function _A(e){var t,n,r;if(bA.isWindow(e)||9===e.nodeType){var i=bA.getWindow(e);t={left:bA.getWindowScrollLeft(i),top:bA.getWindowScrollTop(i)},n=bA.viewportWidth(i),r=bA.viewportHeight(i)}else t=bA.offset(e),n=bA.outerWidth(e),r=bA.outerHeight(e);return t.width=n,t.height=r,t}function TA(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,o=e.height,a=e.left,s=e.top;return"c"===n?s+=o/2:"b"===n&&(s+=o),"c"===r?a+=i/2:"r"===r&&(a+=i),{left:a,top:s}}function kA(e,t,n,r,i){var o=TA(t,n[1]),a=TA(e,n[0]),s=[a.left-o.left,a.top-o.top];return{left:Math.round(e.left-s[0]+r[0]-i[0]),top:Math.round(e.top-s[1]+r[1]-i[1])}}function CA(e,t,n){return e.left<n.left||e.left+t.width>n.right}function MA(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function AA(e,t,n){var r=[];return bA.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function NA(e,t){return e[t]=-e[t],e}function PA(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function IA(e,t){e[0]=PA(e[0],t.width),e[1]=PA(e[1],t.height)}function DA(e,t,n,r){var i=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,u=n.source||e;o=[].concat(o),a=[].concat(a);var l={},c=0,f=SA(u,!(!(s=s||{})||!s.alwaysByViewport)),d=_A(u);IA(o,d),IA(a,t);var h=kA(d,t,i,o,a),p=bA.merge(d,h);if(f&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&CA(h,d,f)){var g=AA(i,/[lr]/gi,{l:"r",r:"l"}),v=NA(o,0),m=NA(a,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(kA(d,t,g,v,m),d,f)||(c=1,i=g,o=v,a=m)}if(s.adjustY&&MA(h,d,f)){var y=AA(i,/[tb]/gi,{t:"b",b:"t"}),b=NA(o,1),x=NA(a,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(kA(d,t,y,b,x),d,f)||(c=1,i=y,o=b,a=x)}c&&(h=kA(d,t,i,o,a),bA.mix(p,h));var w=CA(h,d,f),E=MA(h,d,f);if(w||E){var S=i;w&&(S=AA(i,/[lr]/gi,{l:"r",r:"l"})),E&&(S=AA(i,/[tb]/gi,{t:"b",b:"t"})),i=S,o=n.offset||[0,0],a=n.targetOffset||[0,0]}l.adjustX=s.adjustX&&w,l.adjustY=s.adjustY&&E,(l.adjustX||l.adjustY)&&(p=function(e,t,n,r){var i=bA.clone(e),o={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),bA.mix(i,o)}(h,d,f,l))}return p.width!==d.width&&bA.css(u,"width",bA.width(u)+p.width-d.width),p.height!==d.height&&bA.css(u,"height",bA.height(u)+p.height-d.height),bA.offset(u,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:l}}function OA(e,t,n){var r=n.target||t,i=_A(r),o=!function(e,t){var n=SA(e,t),r=_A(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return DA(e,i,n,o)}OA.__getOffsetParent=wA,OA.__getVisibleRectForElement=SA;var RA=n(8111),LA=n.n(RA),jA=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),BA="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,FA="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),zA="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(FA):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var YA=["top","right","bottom","left","width","height","size","weight"],GA="undefined"!==typeof MutationObserver,VA=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){zA(o)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){BA&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),GA?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){BA&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;YA.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),UA=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},WA=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||FA},ZA=$A(0,0,0,0);function HA(e){return parseFloat(e)||0}function XA(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+HA(e["border-"+n+"-width"])}),0)}function KA(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return ZA;var r=WA(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=HA(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=HA(r.width),u=HA(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=XA(r,"left","right")+o),Math.round(u+a)!==n&&(u-=XA(r,"top","bottom")+a)),!function(e){return e===WA(e).document.documentElement}(e)){var l=Math.round(s+o)-t,c=Math.round(u+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(c)&&(u-=c)}return $A(i.left,i.top,s,u)}var qA="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof WA(e).SVGGraphicsElement}:function(e){return e instanceof WA(e).SVGElement&&"function"===typeof e.getBBox};function JA(e){return BA?qA(e)?function(e){var t=e.getBBox();return $A(0,0,t.width,t.height)}(e):KA(e):ZA}function $A(e,t,n,r){return{x:e,y:t,width:n,height:r}}var QA=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=$A(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=JA(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),eN=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return UA(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);UA(this,{target:e,contentRect:n})},tN=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new jA,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof WA(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new QA(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof WA(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new eN(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),nN="undefined"!==typeof WeakMap?new WeakMap:new jA,rN=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=VA.getInstance(),r=new tN(t,n,this);nN.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){rN.prototype[e]=function(){var t;return(t=nN.get(this))[e].apply(t,arguments)}}));var iN="undefined"!==typeof FA.ResizeObserver?FA.ResizeObserver:rN;function oN(e,t){var n=null,r=null;var i=new iN((function(e){var i=(0,It.Z)(e,1)[0].target;if(document.documentElement.contains(i)){var o=i.getBoundingClientRect(),a=o.width,s=o.height,u=Math.floor(a),l=Math.floor(s);n===u&&r===l||Promise.resolve().then((function(){t({width:u,height:l})})),n=u,r=l}}));return e&&i.observe(e),function(){i.disconnect()}}function aN(e){return"function"!==typeof e?null:e()}function sN(e){return"object"===(0,mn.Z)(e)&&e?e:null}var uN=function(e,t){var n=e.children,r=e.disabled,i=e.target,o=e.align,a=e.onAlign,s=e.monitorWindowResize,u=e.monitorBufferTime,l=void 0===u?0:u,c=m.useRef({}),f=m.useRef(),d=m.Children.only(n),h=m.useRef({});h.current.disabled=r,h.current.target=i,h.current.align=o,h.current.onAlign=a;var p=function(e,t){var n=m.useRef(!1),r=m.useRef(null);function i(){window.clearTimeout(r.current)}return[function o(a){if(n.current&&!0!==a)i(),r.current=window.setTimeout((function(){n.current=!1,o()}),t);else{if(!1===e())return;n.current=!0,i(),r.current=window.setTimeout((function(){n.current=!1}),t)}},function(){n.current=!1,i()}]}((function(){var e=h.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign;if(!t&&n){var o,a=f.current,s=aN(n),u=sN(n);c.current.element=s,c.current.point=u,c.current.align=r;var l=document.activeElement;return s&&SC(s)?o=OA(a,s,r):u&&(o=function(e,t,n){var r,i,o=bA.getDocument(e),a=o.defaultView||o.parentWindow,s=bA.getWindowScrollLeft(a),u=bA.getWindowScrollTop(a),l=bA.viewportWidth(a),c=bA.viewportHeight(a),f={left:r="pageX"in t?t.pageX:s+t.clientX,top:i="pageY"in t?t.pageY:u+t.clientY,width:0,height:0},d=r>=0&&r<=s+l&&i>=0&&i<=u+c,h=[n.points[0],"cc"];return DA(e,f,jM(jM({},n),{},{points:h}),d)}(a,u,r)),function(e,t){e!==document.activeElement&&CM(t,e)&&"function"===typeof e.focus&&e.focus()}(l,a),i&&o&&i(a,o),!0}return!1}),l),g=(0,It.Z)(p,2),v=g[0],y=g[1],b=m.useRef({cancel:function(){}}),x=m.useRef({cancel:function(){}});m.useEffect((function(){var e,t,n=aN(i),r=sN(i);f.current!==x.current.element&&(x.current.cancel(),x.current.element=f.current,x.current.cancel=oN(f.current,v)),c.current.element===n&&((e=c.current.point)===(t=r)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))&&LA()(c.current.align,o)||(v(),b.current.element!==n&&(b.current.cancel(),b.current.element=n,b.current.cancel=oN(n,v)))})),m.useEffect((function(){r?y():v()}),[r]);var w=m.useRef(null);return m.useEffect((function(){s?w.current||(w.current=MM(window,"resize",v)):w.current&&(w.current.remove(),w.current=null)}),[s]),m.useEffect((function(){return function(){b.current.cancel(),x.current.cancel(),w.current&&w.current.remove(),y()}}),[]),m.useImperativeHandle(t,(function(){return{forceAlign:function(){return v(!0)}}})),m.isValidElement(d)&&(d=m.cloneElement(d,{ref:xT(d.ref,f)})),d},lN=m.forwardRef(uN);lN.displayName="Align";var cN=lN,fN=n(7757),dN=n.n(fN),hN=n(5861),pN=["measure","align",null,"motion"],gN=m.forwardRef((function(e,t){var n=e.visible,r=e.prefixCls,i=e.className,o=e.style,a=e.children,s=e.zIndex,u=e.stretch,l=e.destroyPopupOnHide,c=e.forceRender,f=e.align,d=e.point,h=e.getRootDomNode,p=e.getClassNameFromAlign,g=e.onAlign,v=e.onMouseEnter,y=e.onMouseLeave,b=e.onMouseDown,x=e.onTouchStart,w=(0,m.useRef)(),E=(0,m.useRef)(),S=(0,m.useState)(),_=(0,It.Z)(S,2),T=_[0],k=_[1],C=function(e){var t=m.useState({width:0,height:0}),n=(0,It.Z)(t,2),r=n[0],i=n[1],o=m.useMemo((function(){var t={};if(e){var n=r.width,i=r.height;-1!==e.indexOf("height")&&i?t.height=i:-1!==e.indexOf("minHeight")&&i&&(t.minHeight=i),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,r]);return[o,function(e){i({width:e.offsetWidth,height:e.offsetHeight})}]}(u),M=(0,It.Z)(C,2),A=M[0],N=M[1];var P=function(e,t){var n=(0,m.useState)(null),r=(0,It.Z)(n,2),i=r[0],o=r[1],a=(0,m.useRef)(),s=(0,m.useRef)(!1);function u(e){s.current||o(e)}function l(){CT.cancel(a.current)}return(0,m.useEffect)((function(){u("measure")}),[e]),(0,m.useEffect)((function(){"measure"===i&&t(),i&&(a.current=CT((0,hN.Z)(dN().mark((function e(){var t,n;return dN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=pN.indexOf(i),(n=pN[t+1])&&-1!==t&&u(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,m.useEffect)((function(){return function(){s.current=!0,l()}}),[]),[i,function(e){l(),a.current=CT((function(){u((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(n,(function(){u&&N(h())})),I=(0,It.Z)(P,2),D=I[0],O=I[1],R=(0,m.useRef)();function L(){var e;null===(e=w.current)||void 0===e||e.forceAlign()}function j(e,t){var n=p(t);T!==n&&k(n),"align"===D&&(T!==n?Promise.resolve().then((function(){L()})):O((function(){var e;null===(e=R.current)||void 0===e||e.call(R)})),null===g||void 0===g||g(e,t))}var B=Ee({},OM(e));function F(){return new Promise((function(e){R.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=B[e];B[e]=function(e,n){return O(),null===t||void 0===t?void 0:t(e,n)}})),m.useEffect((function(){B.motionName||"motion"!==D||O()}),[B.motionName,D]),m.useImperativeHandle(t,(function(){return{forceAlign:L,getElement:function(){return E.current}}}));var z=Ee(Ee({},A),{},{zIndex:s,opacity:"motion"!==D&&"stable"!==D&&n?0:void 0,pointerEvents:"stable"===D?void 0:"none"},o),Y=!0;!(null===f||void 0===f?void 0:f.points)||"align"!==D&&"stable"!==D||(Y=!1);var G=a;return m.Children.count(a)>1&&(G=m.createElement("div",{className:"".concat(r,"-content")},a)),m.createElement(Mk,wt({visible:n,ref:E,leavedClassName:"".concat(r,"-hidden")},B,{onAppearPrepare:F,onEnterPrepare:F,removeOnLeave:l,forceRender:c}),(function(e,t){var n=e.className,o=e.style,a=Ot()(r,i,T,n);return m.createElement(cN,{target:d||h,key:"popup",ref:w,monitorWindowResize:!0,disabled:Y,align:f,onAlign:j},m.createElement("div",{ref:t,className:a,onMouseEnter:v,onMouseLeave:y,onMouseDownCapture:b,onTouchStartCapture:x,style:Ee(Ee({},o),z)},G))}))}));gN.displayName="PopupInner";var vN=gN,mN=m.forwardRef((function(e,t){var n=e.prefixCls,r=e.visible,i=e.zIndex,o=e.children,a=e.mobile,s=(a=void 0===a?{}:a).popupClassName,u=a.popupStyle,l=a.popupMotion,c=void 0===l?{}:l,f=a.popupRender,d=m.useRef();m.useImperativeHandle(t,(function(){return{forceAlign:function(){},getElement:function(){return d.current}}}));var h=Ee({zIndex:i},u),p=o;return m.Children.count(o)>1&&(p=m.createElement("div",{className:"".concat(n,"-content")},o)),f&&(p=f(p)),m.createElement(Mk,wt({visible:r,ref:d,removeOnLeave:!0},c),(function(e,t){var r=e.className,i=e.style,o=Ot()(n,s,r);return m.createElement("div",{ref:t,className:o,style:Ee(Ee({},i),h)},p)}))}));mN.displayName="MobilePopupInner";var yN=mN,bN=["visible","mobile"],xN=m.forwardRef((function(e,t){var n=e.visible,r=e.mobile,i=gn(e,bN),o=(0,m.useState)(n),a=(0,It.Z)(o,2),s=a[0],u=a[1],l=(0,m.useState)(!1),c=(0,It.Z)(l,2),f=c[0],d=c[1],h=Ee(Ee({},i),{},{visible:s});(0,m.useEffect)((function(){u(n),n&&r&&d(DM())}),[n,r]);var p=f?m.createElement(yN,wt({},h,{mobile:r,ref:t})):m.createElement(vN,wt({},h,{ref:t}));return m.createElement("div",null,m.createElement(RM,h),p)}));xN.displayName="Popup";var wN=xN,EN=m.createContext(null);function SN(){}function _N(){return""}function TN(e){return e?e.ownerDocument:window.document}var kN=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var CN=function(e){var t=function(t){(0,jt.Z)(r,t);var n=(0,Bt.Z)(r);function r(e){var t,i;return(0,Rt.Z)(this,r),(t=n.call(this,e)).popupRef=m.createRef(),t.triggerRef=m.createRef(),t.attachId=void 0,t.clickOutsideHandler=void 0,t.touchOutsideHandler=void 0,t.contextMenuOutsideHandler1=void 0,t.contextMenuOutsideHandler2=void 0,t.mouseDownTimeout=void 0,t.focusTime=void 0,t.preClickTime=void 0,t.preTouchTime=void 0,t.delayTimer=void 0,t.hasPopupMouseDown=void 0,t.onMouseEnter=function(e){var n=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e),t.delaySetPopupVisible(!0,n,n?null:e)},t.onMouseMove=function(e){t.fireEvents("onMouseMove",e),t.setPoint(e)},t.onMouseLeave=function(e){t.fireEvents("onMouseLeave",e),t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onPopupMouseEnter=function(){t.clearDelayTimer()},t.onPopupMouseLeave=function(e){var n;e.relatedTarget&&!e.relatedTarget.setTimeout&&CM(null===(n=t.popupRef.current)||void 0===n?void 0:n.getElement(),e.relatedTarget)||t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onFocus=function(e){t.fireEvents("onFocus",e),t.clearDelayTimer(),t.isFocusToShow()&&(t.focusTime=Date.now(),t.delaySetPopupVisible(!0,t.props.focusDelay))},t.onMouseDown=function(e){t.fireEvents("onMouseDown",e),t.preClickTime=Date.now()},t.onTouchStart=function(e){t.fireEvents("onTouchStart",e),t.preTouchTime=Date.now()},t.onBlur=function(e){t.fireEvents("onBlur",e),t.clearDelayTimer(),t.isBlurToHide()&&t.delaySetPopupVisible(!1,t.props.blurDelay)},t.onContextMenu=function(e){e.preventDefault(),t.fireEvents("onContextMenu",e),t.setPopupVisible(!0,e)},t.onContextMenuClose=function(){t.isContextMenuToShow()&&t.close()},t.onClick=function(e){if(t.fireEvents("onClick",e),t.focusTime){var n;if(t.preClickTime&&t.preTouchTime?n=Math.min(t.preClickTime,t.preTouchTime):t.preClickTime?n=t.preClickTime:t.preTouchTime&&(n=t.preTouchTime),Math.abs(n-t.focusTime)<20)return;t.focusTime=0}t.preClickTime=0,t.preTouchTime=0,t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!t.state.popupVisible;(t.isClickToHide()&&!r||r&&t.isClickToShow())&&t.setPopupVisible(!t.state.popupVisible,e)},t.onPopupMouseDown=function(){var e;(t.hasPopupMouseDown=!0,clearTimeout(t.mouseDownTimeout),t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=!1}),0),t.context)&&(e=t.context).onPopupMouseDown.apply(e,arguments)},t.onDocumentClick=function(e){if(!t.props.mask||t.props.maskClosable){var n=e.target,r=t.getRootDomNode(),i=t.getPopupDomNode();CM(r,n)&&!t.isContextMenuOnly()||CM(i,n)||t.hasPopupMouseDown||t.close()}},t.getRootDomNode=function(){var e=t.props.getTriggerDOMNode;if(e)return e(t.triggerRef.current);try{var n=YT(t.triggerRef.current);if(n)return n}catch(r){}return y.findDOMNode((0,vT.Z)(t))},t.getPopupClassNameFromAlign=function(e){var n=[],r=t.props,i=r.popupPlacement,o=r.builtinPlacements,a=r.prefixCls,s=r.alignPoint,u=r.getPopupClassNameFromAlign;return i&&o&&n.push(function(e,t,n,r){for(var i=n.points,o=Object.keys(e),a=0;a<o.length;a+=1){var s=o[a];if(PM(e[s].points,i,r))return"".concat(t,"-placement-").concat(s)}return""}(o,a,e,s)),u&&n.push(u(e)),n.join(" ")},t.getComponent=function(){var e=t.props,n=e.prefixCls,r=e.destroyPopupOnHide,i=e.popupClassName,o=e.onPopupAlign,a=e.popupMotion,s=e.popupAnimation,u=e.popupTransitionName,l=e.popupStyle,c=e.mask,f=e.maskAnimation,d=e.maskTransitionName,h=e.maskMotion,p=e.zIndex,g=e.popup,v=e.stretch,y=e.alignPoint,b=e.mobile,x=e.forceRender,w=t.state,E=w.popupVisible,S=w.point,_=t.getPopupAlign(),T={};return t.isMouseEnterToShow()&&(T.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(T.onMouseLeave=t.onPopupMouseLeave),T.onMouseDown=t.onPopupMouseDown,T.onTouchStart=t.onPopupMouseDown,m.createElement(wN,wt({prefixCls:n,destroyPopupOnHide:r,visible:E,point:y&&S,className:i,align:_,onAlign:o,animation:s,getClassNameFromAlign:t.getPopupClassNameFromAlign},T,{stretch:v,getRootDomNode:t.getRootDomNode,style:l,mask:c,zIndex:p,transitionName:u,maskAnimation:f,maskTransitionName:d,maskMotion:h,ref:t.popupRef,motion:a,mobile:b,forceRender:x}),"function"===typeof g?g():g)},t.attachParent=function(e){CT.cancel(t.attachId);var n,r=t.props,i=r.getPopupContainer,o=r.getDocument,a=t.getRootDomNode();i?(a||0===i.length)&&(n=i(a)):n=o(t.getRootDomNode()).body,n?n.appendChild(e):t.attachId=CT((function(){t.attachParent(e)}))},t.getContainer=function(){var e=(0,t.props.getDocument)(t.getRootDomNode()).createElement("div");return e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",t.attachParent(e),e},t.setPoint=function(e){t.props.alignPoint&&e&&t.setState({point:{pageX:e.pageX,pageY:e.pageY}})},t.handlePortalUpdate=function(){t.state.prevPopupVisible!==t.state.popupVisible&&t.props.afterPopupVisibleChange(t.state.popupVisible)},t.triggerContextValue={onPopupMouseDown:t.onPopupMouseDown},i="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,t.state={prevPopupVisible:i,popupVisible:i},kN.forEach((function(e){t["fire".concat(e)]=function(n){t.fireEvents(e,n)}})),t}return(0,Lt.Z)(r,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=MM(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=MM(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=MM(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=MM(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),CT.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){return Ee(Ee({},e[t]||{}),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var o=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,o),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var t=this.state.popupVisible,n=this.props,r=n.children,i=n.forceRender,o=n.alignPoint,a=n.className,s=n.autoDestroy,u=m.Children.only(r),l={key:"trigger"};this.isContextMenuToShow()?l.onContextMenu=this.onContextMenu:l.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(l.onClick=this.onClick,l.onMouseDown=this.onMouseDown,l.onTouchStart=this.onTouchStart):(l.onClick=this.createTwoChains("onClick"),l.onMouseDown=this.createTwoChains("onMouseDown"),l.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(l.onMouseEnter=this.onMouseEnter,o&&(l.onMouseMove=this.onMouseMove)):l.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?l.onMouseLeave=this.onMouseLeave:l.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(l.onFocus=this.onFocus,l.onBlur=this.onBlur):(l.onFocus=this.createTwoChains("onFocus"),l.onBlur=this.createTwoChains("onBlur"));var c=Ot()(u&&u.props&&u.props.className,a);c&&(l.className=c);var f=Ee({},l);wT(u)&&(f.ref=xT(this.triggerRef,u.ref));var d,h=m.cloneElement(u,f);return(t||this.popupRef.current||i)&&(d=m.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!t&&s&&(d=null),m.createElement(EN.Provider,{value:this.triggerContextValue},h,d)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),r}(m.Component);return t.contextType=EN,t.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:_N,getDocument:TN,onPopupVisibleChange:SN,afterPopupVisibleChange:SN,onPopupAlign:SN,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},t}(NM),MN={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};var AN=function(e){var t,n=e.prefixCls,r=e.popupElement,i=e.popupStyle,o=e.visible,a=e.dropdownClassName,s=e.dropdownAlign,u=e.transitionName,l=e.getPopupContainer,c=e.children,f=e.range,d=e.popupPlacement,h=e.direction,p="".concat(n,"-dropdown");return m.createElement(CN,{showAction:[],hideAction:[],popupPlacement:void 0!==d?d:"rtl"===h?"bottomRight":"bottomLeft",builtinPlacements:MN,prefixCls:p,popupTransitionName:u,popup:r,popupAlign:s,popupVisible:o,popupClassName:Ot()(a,(t={},(0,xe.Z)(t,"".concat(p,"-range"),f),(0,xe.Z)(t,"".concat(p,"-rtl"),"rtl"===h),t)),popupStyle:i,getPopupContainer:l},c)};function NN(e){var t=e.open,n=e.value,r=e.isClickOutside,i=e.triggerOpen,o=e.forwardKeyDown,a=e.onKeyDown,s=e.blurToCancel,u=e.onSubmit,l=e.onCancel,c=e.onFocus,f=e.onBlur,d=(0,m.useState)(!1),h=(0,It.Z)(d,2),p=h[0],g=h[1],v=(0,m.useState)(!1),y=(0,It.Z)(v,2),b=y[0],x=y[1],w=(0,m.useRef)(!1),E=(0,m.useRef)(!1),S=(0,m.useRef)(!1),_={onMouseDown:function(){g(!0),i(!0)},onKeyDown:function(e){if(a(e,(function(){S.current=!0})),!S.current){switch(e.which){case hC.ENTER:return t?!1!==u()&&g(!0):i(!0),void e.preventDefault();case hC.TAB:return void(p&&t&&!e.shiftKey?(g(!1),e.preventDefault()):!p&&t&&!o(e)&&e.shiftKey&&(g(!0),e.preventDefault()));case hC.ESC:return g(!0),void l()}t||[hC.SHIFT].includes(e.which)?p||o(e):i(!0)}},onFocus:function(e){g(!0),x(!0),c&&c(e)},onBlur:function(e){!w.current&&r(document.activeElement)?(s?setTimeout((function(){for(var e=document.activeElement;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;r(e)&&l()}),0):t&&(i(!1),E.current&&u()),x(!1),f&&f(e)):w.current=!1}};return(0,m.useEffect)((function(){E.current=!1}),[t]),(0,m.useEffect)((function(){E.current=!0}),[n]),(0,m.useEffect)((function(){return e=function(e){var n=function(e){var t,n=e.target;return e.composed&&n.shadowRoot&&(null===(t=e.composedPath)||void 0===t?void 0:t.call(e)[0])||n}(e);if(t){var o=r(n);o?b&&!o||i(!1):(w.current=!0,requestAnimationFrame((function(){w.current=!1})))}},!AC&&"undefined"!==typeof window&&window.addEventListener&&(AC=function(e){(0,Pt.Z)(NC).forEach((function(t){t(e)}))},window.addEventListener("mousedown",AC)),NC.add(e),function(){NC.delete(e),0===NC.size&&(window.removeEventListener("mousedown",AC),AC=null)};var e})),[_,{focused:b,typing:p}]}function PN(e){var t=e.valueTexts,n=e.onTextChange,r=m.useState(""),i=(0,It.Z)(r,2),o=i[0],a=i[1],s=m.useRef([]);function u(){a(s.current[0])}return s.current=t,m.useEffect((function(){t.every((function(e){return e!==o}))&&u()}),[t.join("||")]),[o,function(e){a(e),n(e)},u]}var IN=n(9613),DN=n.n(IN);function ON(e,t){var n=t.formatList,r=t.generateConfig,i=t.locale;return yT((function(){if(!e)return[[""],""];for(var t="",o=[],a=0;a<n.length;a+=1){var s=n[a],u=ZC(e,{generateConfig:r,locale:i,format:s});o.push(u),0===a&&(t=u)}return[o,t]}),[e,n],(function(e,t){return e[0]!==t[0]||!DN()(e[1],t[1])}))}function RN(e,t){var n=t.formatList,r=t.generateConfig,i=t.locale,o=(0,m.useState)(null),a=(0,It.Z)(o,2),s=a[0],u=a[1],l=(0,m.useRef)(null);function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];cancelAnimationFrame(l.current),t?u(e):l.current=requestAnimationFrame((function(){u(e)}))}var f=ON(s,{formatList:n,generateConfig:r,locale:i}),d=(0,It.Z)(f,2)[1];function h(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];c(null,e)}return(0,m.useEffect)((function(){h(!0)}),[e]),(0,m.useEffect)((function(){return function(){return cancelAnimationFrame(l.current)}}),[]),[d,function(e){c(e)},h]}function LN(e){var t,n=e.prefixCls,r=void 0===n?"rc-picker":n,i=e.id,o=e.tabIndex,a=e.style,s=e.className,u=e.dropdownClassName,l=e.dropdownAlign,c=e.popupStyle,f=e.transitionName,d=e.generateConfig,h=e.locale,p=e.inputReadOnly,g=e.allowClear,v=e.autoFocus,y=e.showTime,b=e.picker,x=void 0===b?"date":b,w=e.format,E=e.use12Hours,S=e.value,_=e.defaultValue,T=e.open,k=e.defaultOpen,C=e.defaultOpenValue,M=e.suffixIcon,A=e.clearIcon,N=e.disabled,P=e.disabledDate,I=e.placeholder,D=e.getPopupContainer,O=e.pickerRef,R=e.panelRender,L=e.onChange,j=e.onOpenChange,B=e.onFocus,F=e.onBlur,z=e.onMouseDown,Y=e.onMouseUp,G=e.onMouseEnter,V=e.onMouseLeave,U=e.onContextMenu,W=e.onClick,Z=e.onKeyDown,H=e.onSelect,X=e.direction,K=e.autoComplete,q=void 0===K?"off":K,J=m.useRef(null),$="date"===x&&!!y||"time"===x,Q=$C(CC(w,x,y,E)),ee=m.useRef(null),te=m.useRef(null),ne=m.useRef(null),re=fC(null,{value:S,defaultValue:_}),ie=(0,It.Z)(re,2),oe=ie[0],ae=ie[1],se=m.useState(oe),ue=(0,It.Z)(se,2),le=ue[0],ce=ue[1],fe=m.useRef(null),de=fC(!1,{value:T,defaultValue:k,postState:function(e){return!N&&e},onChange:function(e){j&&j(e),!e&&fe.current&&fe.current.onClose&&fe.current.onClose()}}),he=(0,It.Z)(de,2),pe=he[0],ge=he[1],ve=ON(le,{formatList:Q,generateConfig:d,locale:h}),me=(0,It.Z)(ve,2),ye=me[0],be=me[1],we=PN({valueTexts:ye,onTextChange:function(e){var t=HC(e,{locale:h,formatList:Q,generateConfig:d});!t||P&&P(t)||ce(t)}}),Se=(0,It.Z)(we,3),_e=Se[0],Te=Se[1],ke=Se[2],Ce=function(e){ce(e),ae(e),L&&!VC(d,oe,e)&&L(e,e?ZC(e,{generateConfig:d,locale:h,format:Q[0]}):"")},Me=function(e){N&&e||ge(e)},Ae=NN({blurToCancel:$,open:pe,value:_e,triggerOpen:Me,forwardKeyDown:function(e){return pe&&fe.current&&fe.current.onKeyDown?fe.current.onKeyDown(e):(Zn(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},isClickOutside:function(e){return!IC([ee.current,te.current,ne.current],e)},onSubmit:function(){return!(!le||P&&P(le))&&(Ce(le),Me(!1),ke(),!0)},onCancel:function(){Me(!1),ce(oe),ke()},onKeyDown:function(e,t){null===Z||void 0===Z||Z(e,t)},onFocus:B,onBlur:F}),Ne=(0,It.Z)(Ae,2),Pe=Ne[0],Ie=Ne[1],De=Ie.focused,Oe=Ie.typing;m.useEffect((function(){pe||(ce(oe),ye.length&&""!==ye[0]?be!==_e&&ke():Te(""))}),[pe,ye]),m.useEffect((function(){pe||ke()}),[x]),m.useEffect((function(){ce(oe)}),[oe]),O&&(O.current={focus:function(){J.current&&J.current.focus()},blur:function(){J.current&&J.current.blur()}});var Re=RN(_e,{formatList:Q,generateConfig:d,locale:h}),Le=(0,It.Z)(Re,3),je=Le[0],Be=Le[1],Fe=Le[2],ze=Ee(Ee({},e),{},{className:void 0,style:void 0,pickerValue:void 0,onPickerValueChange:void 0,onChange:null}),Ye=m.createElement(kM,wt({},ze,{generateConfig:d,className:Ot()((0,xe.Z)({},"".concat(r,"-panel-focused"),!Oe)),value:le,locale:h,tabIndex:-1,onSelect:function(e){null===H||void 0===H||H(e),ce(e)},direction:X,onPanelChange:function(t,n){var r=e.onPanelChange;Fe(!0),null===r||void 0===r||r(t,n)}}));R&&(Ye=R(Ye));var Ge,Ve,Ue=m.createElement("div",{className:"".concat(r,"-panel-container"),onMouseDown:function(e){e.preventDefault()}},Ye);M&&(Ge=m.createElement("span",{className:"".concat(r,"-suffix")},M)),g&&oe&&!N&&(Ve=m.createElement("span",{onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},onMouseUp:function(e){e.preventDefault(),e.stopPropagation(),Ce(null),Me(!1)},className:"".concat(r,"-clear"),role:"button"},A||m.createElement("span",{className:"".concat(r,"-clear-btn")})));var We="rtl"===X?"bottomRight":"bottomLeft";return m.createElement(pC.Provider,{value:{operationRef:fe,hideHeader:"time"===x,panelRef:ee,onSelect:function(e,t){("submit"===t||"key"!==t&&!$)&&(Ce(e),Me(!1))},open:pe,defaultOpenValue:C,onDateMouseEnter:Be,onDateMouseLeave:Fe}},m.createElement(AN,{visible:pe,popupElement:Ue,popupStyle:c,prefixCls:r,dropdownClassName:u,dropdownAlign:l,getPopupContainer:D,transitionName:f,popupPlacement:We,direction:X},m.createElement("div",{ref:ne,className:Ot()(r,s,(t={},(0,xe.Z)(t,"".concat(r,"-disabled"),N),(0,xe.Z)(t,"".concat(r,"-focused"),De),(0,xe.Z)(t,"".concat(r,"-rtl"),"rtl"===X),t)),style:a,onMouseDown:z,onMouseUp:function(){Y&&Y.apply(void 0,arguments),J.current&&(J.current.focus(),Me(!0))},onMouseEnter:G,onMouseLeave:V,onContextMenu:U,onClick:W},m.createElement("div",{className:Ot()("".concat(r,"-input"),(0,xe.Z)({},"".concat(r,"-input-placeholder"),!!je)),ref:te},m.createElement("input",wt({id:i,tabIndex:o,disabled:N,readOnly:p||"function"===typeof Q[0]||!Oe,value:je||_e,onChange:function(e){Te(e.target.value)},autoFocus:v,placeholder:I,ref:J,title:_e},Pe,{size:MC(x,Q[0],d)},QC(e),{autoComplete:q})),Ge,Ve))))}var jN=function(e){(0,jt.Z)(n,e);var t=(0,Bt.Z)(n);function n(){var e;(0,Rt.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).pickerRef=m.createRef(),e.focus=function(){e.pickerRef.current&&e.pickerRef.current.focus()},e.blur=function(){e.pickerRef.current&&e.pickerRef.current.blur()},e}return(0,Lt.Z)(n,[{key:"render",value:function(){return m.createElement(LN,wt({},this.props,{pickerRef:this.pickerRef}))}}]),n}(m.Component),BN=jN;function FN(e,t,n,r){var i=WC(e,n,r,1);function o(n){return n(e,t)?"same":n(i,t)?"closing":"far"}switch(n){case"year":return o((function(e,t){return function(e,t,n){var r=LC(t,n);return"boolean"===typeof r?r:Math.floor(e.getYear(t)/10)===Math.floor(e.getYear(n)/10)}(r,e,t)}));case"quarter":case"month":return o((function(e,t){return jC(r,e,t)}));default:return o((function(e,t){return zC(r,e,t)}))}}function zN(e){var t=e.values,n=e.picker,r=e.defaultDates,i=e.generateConfig,o=m.useState((function(){return[eM(r,0),eM(r,1)]})),a=(0,It.Z)(o,2),s=a[0],u=a[1],l=m.useState(null),c=(0,It.Z)(l,2),f=c[0],d=c[1],h=eM(t,0),p=eM(t,1);return[function(e){return s[e]?s[e]:eM(f,e)||function(e,t,n,r){var i=eM(e,0),o=eM(e,1);if(0===t)return i;if(i&&o)switch(FN(i,o,n,r)){case"same":case"closing":return i;default:return WC(o,n,r,-1)}return i}(t,e,n,i)||h||p||i.getNow()},function(e,n){if(e){var r=tM(f,e,n);u(tM(s,null,n)||[null,null]);var i=(n+1)%2;eM(t,i)||(r=tM(r,e,i)),d(r)}else(h||p)&&d(null)}]}function YN(e,t){return e&&e[0]&&e[1]&&t.isAfter(e[0],e[1])?[e[1],e[0]]:e}function GN(e,t,n,r){return!!e||(!(!r||!r[t])||!!n[(t+1)%2])}function VN(e){var t,n,r,i=e.prefixCls,o=void 0===i?"rc-picker":i,a=e.id,s=e.style,u=e.className,l=e.popupStyle,c=e.dropdownClassName,f=e.transitionName,d=e.dropdownAlign,h=e.getPopupContainer,p=e.generateConfig,g=e.locale,v=e.placeholder,y=e.autoFocus,b=e.disabled,x=e.format,w=e.picker,E=void 0===w?"date":w,S=e.showTime,_=e.use12Hours,T=e.separator,k=void 0===T?"~":T,C=e.value,M=e.defaultValue,A=e.defaultPickerValue,N=e.open,P=e.defaultOpen,I=e.disabledDate,D=e.disabledTime,O=e.dateRender,R=e.panelRender,L=e.ranges,j=e.allowEmpty,B=e.allowClear,F=e.suffixIcon,z=e.clearIcon,Y=e.pickerRef,G=e.inputReadOnly,V=e.mode,U=e.renderExtraFooter,W=e.onChange,Z=e.onOpenChange,H=e.onPanelChange,X=e.onCalendarChange,K=e.onFocus,q=e.onBlur,J=e.onMouseEnter,$=e.onMouseLeave,Q=e.onOk,ee=e.onKeyDown,te=e.components,ne=e.order,re=e.direction,ie=e.activePickerIndex,oe=e.autoComplete,ae=void 0===oe?"off":oe,se="date"===E&&!!S||"time"===E,ue=(0,m.useRef)({}),le=(0,m.useRef)(null),ce=(0,m.useRef)(null),fe=(0,m.useRef)(null),de=(0,m.useRef)(null),he=(0,m.useRef)(null),pe=(0,m.useRef)(null),ge=(0,m.useRef)(null),ve=$C(CC(x,E,S,_)),me=fC(0,{value:ie}),ye=(0,It.Z)(me,2),be=ye[0],we=ye[1],Se=(0,m.useRef)(null),_e=m.useMemo((function(){return Array.isArray(b)?b:[b||!1,b||!1]}),[b]),Te=fC(null,{value:C,defaultValue:M,postState:function(e){return"time"!==E||ne?YN(e,p):e}}),ke=(0,It.Z)(Te,2),Ce=ke[0],Me=ke[1],Ae=zN({values:Ce,picker:E,defaultDates:A,generateConfig:p}),Ne=(0,It.Z)(Ae,2),Pe=Ne[0],Ie=Ne[1],De=fC(Ce,{postState:function(e){var t=e;if(_e[0]&&_e[1])return t;for(var n=0;n<2;n+=1)!_e[n]||eM(t,n)||eM(j,n)||(t=tM(t,p.getNow(),n));return t}}),Oe=(0,It.Z)(De,2),Re=Oe[0],Le=Oe[1],je=fC([E,E],{value:V}),Be=(0,It.Z)(je,2),Fe=Be[0],ze=Be[1];(0,m.useEffect)((function(){ze([E,E])}),[E]);var Ye=function(e,t){ze(e),H&&H(t,e)},Ge=function(e,t,n){var r=e.picker,i=e.locale,o=e.selectedValue,a=e.disabledDate,s=e.disabled,u=e.generateConfig,l=eM(o,0),c=eM(o,1);function f(e){return u.locale.getWeekFirstDate(i.locale,e)}function d(e){return 100*u.getYear(e)+u.getMonth(e)}function h(e){return 10*u.getYear(e)+BC(u,e)}var p=m.useCallback((function(e){if(a&&a(e))return!0;if(s[1]&&c)return!YC(u,e,c)&&u.isAfter(e,c);if(t&&c)switch(r){case"quarter":return h(e)>h(c);case"month":return d(e)>d(c);case"week":return f(e)>f(c);default:return!YC(u,e,c)&&u.isAfter(e,c)}return!1}),[a,s[1],c,t]),g=m.useCallback((function(e){if(a&&a(e))return!0;if(s[0]&&l)return!YC(u,e,c)&&u.isAfter(l,e);if(n&&l)switch(r){case"quarter":return h(e)<h(l);case"month":return d(e)<d(l);case"week":return f(e)<f(l);default:return!YC(u,e,l)&&u.isAfter(l,e)}return!1}),[a,s[0],l,n]);return[p,g]}({picker:E,selectedValue:Re,locale:g,disabled:_e,disabledDate:I,generateConfig:p},ue.current[1],ue.current[0]),Ve=(0,It.Z)(Ge,2),Ue=Ve[0],We=Ve[1],Ze=fC(!1,{value:N,defaultValue:P,postState:function(e){return!_e[be]&&e},onChange:function(e){Z&&Z(e),!e&&Se.current&&Se.current.onClose&&Se.current.onClose()}}),He=(0,It.Z)(Ze,2),Xe=He[0],Ke=He[1],qe=Xe&&0===be,Je=Xe&&1===be,$e=(0,m.useState)(0),Qe=(0,It.Z)($e,2),et=Qe[0],tt=Qe[1];(0,m.useEffect)((function(){!Xe&&le.current&&tt(le.current.offsetWidth)}),[Xe]);var nt=m.useRef();function rt(e,t){if(e)clearTimeout(nt.current),ue.current[t]=!0,we(t),Ke(e),Xe||Ie(null,t);else if(be===t){Ke(e);var n=ue.current;nt.current=setTimeout((function(){n===ue.current&&(ue.current={})}))}}function it(e){rt(!0,e),setTimeout((function(){var t=[pe,ge][e];t.current&&t.current.focus()}),0)}function ot(e,t){var n=e,r=eM(n,0),i=eM(n,1);r&&i&&p.isAfter(r,i)&&("week"===E&&!GC(p,g.locale,r,i)||"quarter"===E&&!FC(p,r,i)||"week"!==E&&"quarter"!==E&&"time"!==E&&!YC(p,r,i)?(0===t?(n=[r,null],i=null):(r=null,n=[null,i]),ue.current=(0,xe.Z)({},t,!0)):"time"===E&&!1===ne||(n=YN(n,p))),Le(n);var o=n&&n[0]?ZC(n[0],{generateConfig:p,locale:g,format:ve[0]}):"",a=n&&n[1]?ZC(n[1],{generateConfig:p,locale:g,format:ve[0]}):"";X&&X(n,[o,a],{range:0===t?"start":"end"});var s=GN(r,0,_e,j),u=GN(i,1,_e,j);(null===n||s&&u)&&(Me(n),!W||VC(p,eM(Ce,0),r)&&VC(p,eM(Ce,1),i)||W(n,[o,a]));var l=null;0!==t||_e[1]?1!==t||_e[0]||(l=0):l=1,null===l||l===be||ue.current[l]&&eM(n,l)||!eM(n,t)?rt(!1,t):it(l)}var at=function(e){return Xe&&Se.current&&Se.current.onKeyDown?Se.current.onKeyDown(e):(Zn(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},st={formatList:ve,generateConfig:p,locale:g},ut=ON(eM(Re,0),st),lt=(0,It.Z)(ut,2),ct=lt[0],ft=lt[1],dt=ON(eM(Re,1),st),ht=(0,It.Z)(dt,2),pt=ht[0],gt=ht[1],vt=function(e,t){var n=HC(e,{locale:g,formatList:ve,generateConfig:p});n&&!(0===t?Ue:We)(n)&&(Le(tM(Re,n,t)),Ie(n,t))},mt=PN({valueTexts:ct,onTextChange:function(e){return vt(e,0)}}),yt=(0,It.Z)(mt,3),bt=yt[0],xt=yt[1],Et=yt[2],St=PN({valueTexts:pt,onTextChange:function(e){return vt(e,1)}}),_t=(0,It.Z)(St,3),Tt=_t[0],kt=_t[1],Ct=_t[2],Mt=(0,m.useState)(null),At=(0,It.Z)(Mt,2),Nt=At[0],Pt=At[1],Dt=(0,m.useState)(null),Rt=(0,It.Z)(Dt,2),Lt=Rt[0],jt=Rt[1],Bt=RN(bt,{formatList:ve,generateConfig:p,locale:g}),Ft=(0,It.Z)(Bt,3),zt=Ft[0],Yt=Ft[1],Gt=Ft[2],Vt=RN(Tt,{formatList:ve,generateConfig:p,locale:g}),Ut=(0,It.Z)(Vt,3),Wt=Ut[0],Zt=Ut[1],Ht=Ut[2],Xt=function(e,t){return{blurToCancel:se,forwardKeyDown:at,onBlur:q,isClickOutside:function(e){return!IC([ce.current,fe.current,de.current,le.current],e)},onFocus:function(t){we(e),K&&K(t)},triggerOpen:function(t){rt(t,e)},onSubmit:function(){ot(Re,e),t()},onCancel:function(){rt(!1,e),Le(Ce),t()}}},Kt=NN(Ee(Ee({},Xt(0,Et)),{},{open:qe,value:bt,onKeyDown:function(e,t){null===ee||void 0===ee||ee(e,t)}})),qt=(0,It.Z)(Kt,2),Jt=qt[0],$t=qt[1],Qt=$t.focused,en=$t.typing,tn=NN(Ee(Ee({},Xt(1,Ct)),{},{open:Je,value:Tt,onKeyDown:function(e,t){null===ee||void 0===ee||ee(e,t)}})),nn=(0,It.Z)(tn,2),rn=nn[0],on=nn[1],an=on.focused,sn=on.typing,un=Ce&&Ce[0]?ZC(Ce[0],{locale:g,format:"YYYYMMDDHHmmss",generateConfig:p}):"",ln=Ce&&Ce[1]?ZC(Ce[1],{locale:g,format:"YYYYMMDDHHmmss",generateConfig:p}):"";(0,m.useEffect)((function(){Xe||(Le(Ce),ct.length&&""!==ct[0]?ft!==bt&&Et():xt(""),pt.length&&""!==pt[0]?gt!==Tt&&Ct():kt(""))}),[Xe,ct,pt]),(0,m.useEffect)((function(){Le(Ce)}),[un,ln]),Y&&(Y.current={focus:function(){pe.current&&pe.current.focus()},blur:function(){pe.current&&pe.current.blur(),ge.current&&ge.current.blur()}});var cn=Object.keys(L||{}).map((function(e){var t=L[e],n="function"===typeof t?t():t;return{label:e,onClick:function(){ot(n,null),rt(!1,be)},onMouseEnter:function(){Pt(n)},onMouseLeave:function(){Pt(null)}}}));function fn(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null;Xe&&Lt&&Lt[0]&&Lt[1]&&p.isAfter(Lt[1],Lt[0])&&(r=Lt);var i=S;if(S&&"object"===(0,mn.Z)(S)&&S.defaultValue){var a=S.defaultValue;i=Ee(Ee({},S),{},{defaultValue:eM(a,be)||void 0})}var s=null;return O&&(s=function(e,t){return O(e,t,{range:be?"end":"start"})}),m.createElement(aM.Provider,{value:{inRange:!0,panelPosition:t,rangedValue:Nt||Re,hoverRangedValue:r}},m.createElement(kM,wt({},e,n,{dateRender:s,showTime:i,mode:Fe[be],generateConfig:p,style:void 0,direction:re,disabledDate:0===be?Ue:We,disabledTime:function(e){return!!D&&D(e,0===be?"start":"end")},className:Ot()((0,xe.Z)({},"".concat(o,"-panel-focused"),0===be?!en:!sn)),value:eM(Re,be),locale:g,tabIndex:-1,onPanelChange:function(e,n){0===be&&Gt(!0),1===be&&Ht(!0),Ye(tM(Fe,n,be),tM(Re,e,be));var r=e;"right"===t&&Fe[be]===n&&(r=WC(r,n,p,-1)),Ie(r,be)},onOk:null,onSelect:void 0,onChange:void 0,defaultValue:eM(Re,0===be?1:0)})))}var dn=0,hn=0;be&&fe.current&&he.current&&ce.current&&(dn=fe.current.offsetWidth+he.current.offsetWidth,ce.current.offsetWidth&&dn>ce.current.offsetWidth&&(hn=dn));var pn="rtl"===re?{right:dn}:{left:dn};var gn,vn,yn=m.createElement("div",{className:Ot()("".concat(o,"-range-wrapper"),"".concat(o,"-").concat(E,"-range-wrapper")),style:{minWidth:et}},m.createElement("div",{className:"".concat(o,"-range-arrow"),style:pn}),function(){var e,t=_M(o,Fe[be],U),n=TM({prefixCls:o,components:te,needConfirmButton:se,okDisabled:!eM(Re,be)||I&&I(Re[be]),locale:g,rangeList:cn,onOk:function(){eM(Re,be)&&(ot(Re,be),Q&&Q(Re))}});if("time"===E||S)e=fn();else{var r=Pe(be),i=WC(r,E,p),a=Fe[be]===E,s=fn(!!a&&"left",{pickerValue:r,onPickerValueChange:function(e){Ie(e,be)}}),u=fn("right",{pickerValue:i,onPickerValueChange:function(e){Ie(WC(e,E,p,-1),be)}});e="rtl"===re?m.createElement(m.Fragment,null,u,a&&s):m.createElement(m.Fragment,null,s,a&&u)}var l=m.createElement(m.Fragment,null,m.createElement("div",{className:"".concat(o,"-panels")},e),(t||n)&&m.createElement("div",{className:"".concat(o,"-footer")},t,n));return R&&(l=R(l)),m.createElement("div",{className:"".concat(o,"-panel-container"),style:{marginLeft:hn},ref:ce,onMouseDown:function(e){e.preventDefault()}},l)}());F&&(gn=m.createElement("span",{className:"".concat(o,"-suffix")},F)),B&&(eM(Ce,0)&&!_e[0]||eM(Ce,1)&&!_e[1])&&(vn=m.createElement("span",{onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},onMouseUp:function(e){e.preventDefault(),e.stopPropagation();var t=Ce;_e[0]||(t=tM(t,null,0)),_e[1]||(t=tM(t,null,1)),ot(t,null),rt(!1,be)},className:"".concat(o,"-clear")},z||m.createElement("span",{className:"".concat(o,"-clear-btn")})));var bn={size:MC(E,ve[0],p)},xn=0,wn=0;fe.current&&de.current&&he.current&&(0===be?wn=fe.current.offsetWidth:(xn=dn,wn=de.current.offsetWidth));var En="rtl"===re?{right:xn}:{left:xn};return m.createElement(pC.Provider,{value:{operationRef:Se,hideHeader:"time"===E,onDateMouseEnter:function(e){jt(tM(Re,e,be)),0===be?Yt(e):Zt(e)},onDateMouseLeave:function(){jt(tM(Re,null,be)),0===be?Gt():Ht()},hideRanges:!0,onSelect:function(e,t){var n=tM(Re,e,be);"submit"===t||"key"!==t&&!se?(ot(n,be),0===be?Gt():Ht()):Le(n)},open:Xe}},m.createElement(AN,{visible:Xe,popupElement:yn,popupStyle:l,prefixCls:o,dropdownClassName:c,dropdownAlign:d,getPopupContainer:h,transitionName:f,range:!0,direction:re},m.createElement("div",wt({ref:le,className:Ot()(o,"".concat(o,"-range"),u,(t={},(0,xe.Z)(t,"".concat(o,"-disabled"),_e[0]&&_e[1]),(0,xe.Z)(t,"".concat(o,"-focused"),0===be?Qt:an),(0,xe.Z)(t,"".concat(o,"-rtl"),"rtl"===re),t)),style:s,onClick:function(e){Xe||pe.current.contains(e.target)||ge.current.contains(e.target)||(_e[0]?_e[1]||it(1):it(0))},onMouseEnter:J,onMouseLeave:$,onMouseDown:function(e){!Xe||!Qt&&!an||pe.current.contains(e.target)||ge.current.contains(e.target)||e.preventDefault()}},QC(e)),m.createElement("div",{className:Ot()("".concat(o,"-input"),(n={},(0,xe.Z)(n,"".concat(o,"-input-active"),0===be),(0,xe.Z)(n,"".concat(o,"-input-placeholder"),!!zt),n)),ref:fe},m.createElement("input",wt({id:a,disabled:_e[0],readOnly:G||"function"===typeof ve[0]||!en,value:zt||bt,onChange:function(e){xt(e.target.value)},autoFocus:y,placeholder:eM(v,0)||"",ref:pe},Jt,bn,{autoComplete:ae}))),m.createElement("div",{className:"".concat(o,"-range-separator"),ref:he},k),m.createElement("div",{className:Ot()("".concat(o,"-input"),(r={},(0,xe.Z)(r,"".concat(o,"-input-active"),1===be),(0,xe.Z)(r,"".concat(o,"-input-placeholder"),!!Wt),r)),ref:de},m.createElement("input",wt({disabled:_e[1],readOnly:G||"function"===typeof ve[0]||!sn,value:Wt||Tt,onChange:function(e){kt(e.target.value)},placeholder:eM(v,1)||"",ref:ge},rn,bn,{autoComplete:ae}))),m.createElement("div",{className:"".concat(o,"-active-bar"),style:Ee(Ee({},En),{},{width:wn,position:"absolute"})}),gn,vn)))}var UN=function(e){(0,jt.Z)(n,e);var t=(0,Bt.Z)(n);function n(){var e;(0,Rt.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).pickerRef=m.createRef(),e.focus=function(){e.pickerRef.current&&e.pickerRef.current.focus()},e.blur=function(){e.pickerRef.current&&e.pickerRef.current.blur()},e}return(0,Lt.Z)(n,[{key:"render",value:function(){return m.createElement(VN,wt({},this.props,{pickerRef:this.pickerRef}))}}]),n}(m.Component),WN=UN,ZN=BN;function HN(e,t,n){return void 0!==n?n:"year"===e&&t.lang.yearPlaceholder?t.lang.yearPlaceholder:"quarter"===e&&t.lang.quarterPlaceholder?t.lang.quarterPlaceholder:"month"===e&&t.lang.monthPlaceholder?t.lang.monthPlaceholder:"week"===e&&t.lang.weekPlaceholder?t.lang.weekPlaceholder:"time"===e&&t.timePickerLocale.placeholder?t.timePickerLocale.placeholder:t.lang.placeholder}function XN(e,t,n){return void 0!==n?n:"year"===e&&t.lang.yearPlaceholder?t.lang.rangeYearPlaceholder:"month"===e&&t.lang.monthPlaceholder?t.lang.rangeMonthPlaceholder:"week"===e&&t.lang.weekPlaceholder?t.lang.rangeWeekPlaceholder:"time"===e&&t.timePickerLocale.placeholder?t.timePickerLocale.rangePlaceholder:t.lang.rangePlaceholder}var KN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var qN={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"},JN=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:qN}))};JN.displayName="SwapRightOutlined";var $N=m.forwardRef(JN),QN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var eP={button:function(e){return m.createElement(Gk,wt({size:"small",type:"primary"},e))},rangeItem:function(e){return m.createElement(tC,wt({color:"blue"},e))}};function tP(e){var t,n=e.format,r=e.picker,i=e.showHour,o=e.showMinute,a=e.showSecond,s=e.use12Hours,u=(t=n,t?Array.isArray(t)?t:[t]:[])[0],l=wt({},e);return u&&"string"===typeof u&&(u.includes("s")||void 0!==a||(l.showSecond=!1),u.includes("m")||void 0!==o||(l.showMinute=!1),u.includes("H")||u.includes("h")||void 0!==i||(l.showHour=!1),(u.includes("a")||u.includes("A"))&&void 0===s&&(l.use12Hours=!0)),"time"===r?l:("function"===typeof u&&delete l.format,{showTime:l})}var nP=function(e){var t=function(e){function t(t,n){var r=function(r){(0,jt.Z)(o,r);var i=(0,Bt.Z)(o);function o(r){var a;return(0,Rt.Z)(this,o),(a=i.call(this,r)).pickerRef=m.createRef(),a.focus=function(){a.pickerRef.current&&a.pickerRef.current.focus()},a.blur=function(){a.pickerRef.current&&a.pickerRef.current.blur()},a.renderPicker=function(n){var r=wt(wt({},n),a.props.locale),i=a.context,o=i.getPrefixCls,s=i.direction,u=i.getPopupContainer,l=a.props,c=l.prefixCls,f=l.getPopupContainer,d=l.className,h=l.size,p=l.bordered,g=void 0===p||p,v=l.placeholder,y=KN(l,["prefixCls","getPopupContainer","className","size","bordered","placeholder"]),b=a.props,x=b.format,w=b.showTime,E=o("picker",c),S={showToday:!0},_={};t&&(_.picker=t);var T=t||a.props.picker;_=wt(wt(wt({},_),w?tP(wt({format:x,picker:T},w)):{}),"time"===T?tP(wt(wt({format:x},a.props),{picker:T})):{});var k=o();return m.createElement(zT.Consumer,null,(function(t){var n,i=h||t;return m.createElement(ZN,wt({ref:a.pickerRef,placeholder:HN(T,r,v),suffixIcon:"time"===T?m.createElement(sC,null):m.createElement(iC,null),clearIcon:m.createElement(cC,null),prevIcon:m.createElement("span",{className:"".concat(E,"-prev-icon")}),nextIcon:m.createElement("span",{className:"".concat(E,"-next-icon")}),superPrevIcon:m.createElement("span",{className:"".concat(E,"-super-prev-icon")}),superNextIcon:m.createElement("span",{className:"".concat(E,"-super-next-icon")}),allowClear:!0,transitionName:"".concat(k,"-slide-up")},S,y,_,{locale:r.lang,className:Ot()((n={},(0,xe.Z)(n,"".concat(E,"-").concat(i),i),(0,xe.Z)(n,"".concat(E,"-borderless"),!g),n),d),prefixCls:E,getPopupContainer:f||u,generateConfig:e,components:eP,direction:s}))}))},BT("quarter"!==t,n,"DatePicker.".concat(n," is legacy usage. Please use DatePicker[picker='").concat(t,"'] directly.")),a}return(0,Lt.Z)(o,[{key:"render",value:function(){return m.createElement(Zt,{componentName:"DatePicker",defaultLocale:Yt},this.renderPicker)}}]),o}(m.Component);return r.contextType=tn,n&&(r.displayName=n),r}return{DatePicker:t(),WeekPicker:t("week","WeekPicker"),MonthPicker:t("month","MonthPicker"),YearPicker:t("year","YearPicker"),TimePicker:t("time","TimePicker"),QuarterPicker:t("quarter","QuarterPicker")}}(e),n=t.DatePicker,r=t.WeekPicker,i=t.MonthPicker,o=t.YearPicker,a=t.TimePicker,s=t.QuarterPicker,u=function(e){var t=function(t){(0,jt.Z)(r,t);var n=(0,Bt.Z)(r);function r(){var t;return(0,Rt.Z)(this,r),(t=n.apply(this,arguments)).pickerRef=m.createRef(),t.focus=function(){t.pickerRef.current&&t.pickerRef.current.focus()},t.blur=function(){t.pickerRef.current&&t.pickerRef.current.blur()},t.renderPicker=function(n){var r=wt(wt({},n),t.props.locale),i=t.context,o=i.getPrefixCls,a=i.direction,s=i.getPopupContainer,u=t.props,l=u.prefixCls,c=u.getPopupContainer,f=u.className,d=u.size,h=u.bordered,p=void 0===h||h,g=u.placeholder,v=QN(u,["prefixCls","getPopupContainer","className","size","bordered","placeholder"]),y=t.props,b=y.format,x=y.showTime,w=y.picker,E=o("picker",l),S={};S=wt(wt(wt({},S),x?tP(wt({format:b,picker:w},x)):{}),"time"===w?tP(wt(wt({format:b},t.props),{picker:w})):{});var _=o();return m.createElement(zT.Consumer,null,(function(n){var i,o=d||n;return m.createElement(WN,wt({separator:m.createElement("span",{"aria-label":"to",className:"".concat(E,"-separator")},m.createElement($N,null)),ref:t.pickerRef,placeholder:XN(w,r,g),suffixIcon:"time"===w?m.createElement(sC,null):m.createElement(iC,null),clearIcon:m.createElement(cC,null),prevIcon:m.createElement("span",{className:"".concat(E,"-prev-icon")}),nextIcon:m.createElement("span",{className:"".concat(E,"-next-icon")}),superPrevIcon:m.createElement("span",{className:"".concat(E,"-super-prev-icon")}),superNextIcon:m.createElement("span",{className:"".concat(E,"-super-next-icon")}),allowClear:!0,transitionName:"".concat(_,"-slide-up")},v,S,{className:Ot()((i={},(0,xe.Z)(i,"".concat(E,"-").concat(o),o),(0,xe.Z)(i,"".concat(E,"-borderless"),!p),i),f),locale:r.lang,prefixCls:E,getPopupContainer:c||s,generateConfig:e,components:eP,direction:a}))}))},t}return(0,Lt.Z)(r,[{key:"render",value:function(){return m.createElement(Zt,{componentName:"DatePicker",defaultLocale:Yt},this.renderPicker)}}]),r}(m.Component);return t.contextType=tn,t}(e),l=n;return l.WeekPicker=r,l.MonthPicker=i,l.YearPicker=o,l.RangePicker=u,l.TimePicker=a,l.QuarterPicker=s,l},rP=nP(dT);function iP(e,t,n,r,i){var o;return Ot()(e,(o={},(0,xe.Z)(o,"".concat(e,"-sm"),"small"===n),(0,xe.Z)(o,"".concat(e,"-lg"),"large"===n),(0,xe.Z)(o,"".concat(e,"-disabled"),r),(0,xe.Z)(o,"".concat(e,"-rtl"),"rtl"===i),(0,xe.Z)(o,"".concat(e,"-borderless"),!t),o))}function oP(e){return!!(e.prefix||e.suffix||e.allowClear)}var aP=jT("text","input");function sP(e){return!(!e.addonBefore&&!e.addonAfter)}var uP=function(e){(0,jt.Z)(n,e);var t=(0,Bt.Z)(n);function n(){var e;return(0,Rt.Z)(this,n),(e=t.apply(this,arguments)).containerRef=m.createRef(),e.onInputMouseUp=function(t){var n;if(null===(n=e.containerRef.current)||void 0===n?void 0:n.contains(t.target)){var r=e.props.triggerFocus;null===r||void 0===r||r()}},e}return(0,Lt.Z)(n,[{key:"renderClearIcon",value:function(e){var t,n=this.props,r=n.allowClear,i=n.value,o=n.disabled,a=n.readOnly,s=n.handleReset,u=n.suffix;if(!r)return null;var l=!o&&!a&&i,c="".concat(e,"-clear-icon");return m.createElement(cC,{onClick:s,onMouseDown:function(e){return e.preventDefault()},className:Ot()((t={},(0,xe.Z)(t,"".concat(c,"-hidden"),!l),(0,xe.Z)(t,"".concat(c,"-has-suffix"),!!u),t),c),role:"button"})}},{key:"renderSuffix",value:function(e){var t=this.props,n=t.suffix,r=t.allowClear;return n||r?m.createElement("span",{className:"".concat(e,"-suffix")},this.renderClearIcon(e),n):null}},{key:"renderLabeledIcon",value:function(e,t){var n,r=this.props,i=r.focused,o=r.value,a=r.prefix,s=r.className,u=r.size,l=r.suffix,c=r.disabled,f=r.allowClear,d=r.direction,h=r.style,p=r.readOnly,g=r.bordered,v=r.hidden;if(!oP(this.props))return DT(t,{value:o});var y=this.renderSuffix(e),b=a?m.createElement("span",{className:"".concat(e,"-prefix")},a):null,x=Ot()("".concat(e,"-affix-wrapper"),(n={},(0,xe.Z)(n,"".concat(e,"-affix-wrapper-focused"),i),(0,xe.Z)(n,"".concat(e,"-affix-wrapper-disabled"),c),(0,xe.Z)(n,"".concat(e,"-affix-wrapper-sm"),"small"===u),(0,xe.Z)(n,"".concat(e,"-affix-wrapper-lg"),"large"===u),(0,xe.Z)(n,"".concat(e,"-affix-wrapper-input-with-clear-btn"),l&&f&&o),(0,xe.Z)(n,"".concat(e,"-affix-wrapper-rtl"),"rtl"===d),(0,xe.Z)(n,"".concat(e,"-affix-wrapper-readonly"),p),(0,xe.Z)(n,"".concat(e,"-affix-wrapper-borderless"),!g),(0,xe.Z)(n,"".concat(s),!sP(this.props)&&s),n));return m.createElement("span",{ref:this.containerRef,className:x,style:h,onMouseUp:this.onInputMouseUp,hidden:v},b,DT(t,{style:null,value:o,className:iP(e,g,u,c)}),y)}},{key:"renderInputWithLabel",value:function(e,t){var n,r=this.props,i=r.addonBefore,o=r.addonAfter,a=r.style,s=r.size,u=r.className,l=r.direction,c=r.hidden;if(!sP(this.props))return t;var f="".concat(e,"-group"),d="".concat(f,"-addon"),h=i?m.createElement("span",{className:d},i):null,p=o?m.createElement("span",{className:d},o):null,g=Ot()("".concat(e,"-wrapper"),f,(0,xe.Z)({},"".concat(f,"-rtl"),"rtl"===l)),v=Ot()("".concat(e,"-group-wrapper"),(n={},(0,xe.Z)(n,"".concat(e,"-group-wrapper-sm"),"small"===s),(0,xe.Z)(n,"".concat(e,"-group-wrapper-lg"),"large"===s),(0,xe.Z)(n,"".concat(e,"-group-wrapper-rtl"),"rtl"===l),n),u);return m.createElement("span",{className:v,style:a,hidden:c},m.createElement("span",{className:g},h,DT(t,{style:null}),p))}},{key:"renderTextAreaWithClearIcon",value:function(e,t){var n,r=this.props,i=r.value,o=r.allowClear,a=r.className,s=r.style,u=r.direction,l=r.bordered,c=r.hidden;if(!o)return DT(t,{value:i});var f=Ot()("".concat(e,"-affix-wrapper"),"".concat(e,"-affix-wrapper-textarea-with-clear-btn"),(n={},(0,xe.Z)(n,"".concat(e,"-affix-wrapper-rtl"),"rtl"===u),(0,xe.Z)(n,"".concat(e,"-affix-wrapper-borderless"),!l),(0,xe.Z)(n,"".concat(a),!sP(this.props)&&a),n));return m.createElement("span",{className:f,style:s,hidden:c},DT(t,{style:null,value:i}),this.renderClearIcon(e))}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.inputType,r=e.element;return n===aP[0]?this.renderTextAreaWithClearIcon(t,r):this.renderInputWithLabel(t,this.renderLabeledIcon(t,r))}}]),n}(m.Component),lP=uP;function cP(e){return"undefined"===typeof e||null===e?"":String(e)}function fP(e,t,n,r){if(n){var i=t;if("click"===t.type){var o=e.cloneNode(!0);return i=Object.create(t,{target:{value:o},currentTarget:{value:o}}),o.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}}function dP(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}var hP=function(e){(0,jt.Z)(n,e);var t=(0,Bt.Z)(n);function n(e){var r;(0,Rt.Z)(this,n),(r=t.call(this,e)).direction="ltr",r.focus=function(e){dP(r.input,e)},r.saveClearableInput=function(e){r.clearableInput=e},r.saveInput=function(e){r.input=e},r.onFocus=function(e){var t=r.props.onFocus;r.setState({focused:!0},r.clearPasswordValueAttribute),null===t||void 0===t||t(e)},r.onBlur=function(e){var t=r.props.onBlur;r.setState({focused:!1},r.clearPasswordValueAttribute),null===t||void 0===t||t(e)},r.handleReset=function(e){r.setValue("",(function(){r.focus()})),fP(r.input,e,r.props.onChange)},r.renderInput=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.props,a=o.className,s=o.addonBefore,u=o.addonAfter,l=o.size,c=o.disabled,f=o.htmlSize,d=hn(r.props,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","inputType","bordered","htmlSize","showCount"]);return m.createElement("input",wt({autoComplete:i.autoComplete},d,{onChange:r.handleChange,onFocus:r.onFocus,onBlur:r.onBlur,onKeyDown:r.handleKeyDown,className:Ot()(iP(e,n,l||t,c,r.direction),(0,xe.Z)({},a,a&&!s&&!u)),ref:r.saveInput,size:f}))},r.clearPasswordValueAttribute=function(){r.removePasswordTimeout=setTimeout((function(){r.input&&"password"===r.input.getAttribute("type")&&r.input.hasAttribute("value")&&r.input.removeAttribute("value")}))},r.handleChange=function(e){r.setValue(e.target.value,r.clearPasswordValueAttribute),fP(r.input,e,r.props.onChange)},r.handleKeyDown=function(e){var t=r.props,n=t.onPressEnter,i=t.onKeyDown;n&&13===e.keyCode&&n(e),null===i||void 0===i||i(e)},r.renderShowCountSuffix=function(e){var t=r.state.value,n=r.props,i=n.maxLength,o=n.suffix,a=n.showCount,s=Number(i)>0;if(o||a){var u=(0,Pt.Z)(cP(t)).length,l=null;return l="object"===(0,mn.Z)(a)?a.formatter({count:u,maxLength:i}):"".concat(u).concat(s?" / ".concat(i):""),m.createElement(m.Fragment,null,!!a&&m.createElement("span",{className:Ot()("".concat(e,"-show-count-suffix"),(0,xe.Z)({},"".concat(e,"-show-count-has-suffix"),!!o))},l),o)}return null},r.renderComponent=function(e){var t=e.getPrefixCls,n=e.direction,i=e.input,o=r.state,a=o.value,s=o.focused,u=r.props,l=u.prefixCls,c=u.bordered,f=void 0===c||c,d=t("input",l);r.direction=n;var h=r.renderShowCountSuffix(d);return m.createElement(zT.Consumer,null,(function(e){return m.createElement(lP,wt({size:e},r.props,{prefixCls:d,inputType:"input",value:cP(a),element:r.renderInput(d,e,f,i),handleReset:r.handleReset,ref:r.saveClearableInput,direction:n,focused:s,triggerFocus:r.focus,bordered:f,suffix:h}))}))};var i="undefined"===typeof e.value?e.defaultValue:e.value;return r.state={value:i,focused:!1,prevValue:e.value},r}return(0,Lt.Z)(n,[{key:"componentDidMount",value:function(){this.clearPasswordValueAttribute()}},{key:"componentDidUpdate",value:function(){}},{key:"getSnapshotBeforeUpdate",value:function(e){return oP(e)!==oP(this.props)&&BT(this.input!==document.activeElement,"Input","When Input is focused, dynamic add or remove prefix / suffix will make it lose focus caused by dom structure change. Read more: https://ant.design/components/input/#FAQ"),null}},{key:"componentWillUnmount",value:function(){this.removePasswordTimeout&&clearTimeout(this.removePasswordTimeout)}},{key:"blur",value:function(){this.input.blur()}},{key:"setSelectionRange",value:function(e,t,n){this.input.setSelectionRange(e,t,n)}},{key:"select",value:function(){this.input.select()}},{key:"setValue",value:function(e,t){void 0===this.props.value?this.setState({value:e},t):null===t||void 0===t||t()}},{key:"render",value:function(){return m.createElement(nn,null,this.renderComponent)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevValue,r={prevValue:e.value};return void 0===e.value&&n===e.value||(r.value=e.value),e.disabled&&(r.focused=!1),r}}]),n}(m.Component);hP.defaultProps={type:"text"};var pP=hP,gP=function(e){return m.createElement(nn,null,(function(t){var n,r=t.getPrefixCls,i=t.direction,o=e.prefixCls,a=e.className,s=void 0===a?"":a,u=r("input-group",o),l=Ot()(u,(n={},(0,xe.Z)(n,"".concat(u,"-lg"),"large"===e.size),(0,xe.Z)(n,"".concat(u,"-sm"),"small"===e.size),(0,xe.Z)(n,"".concat(u,"-compact"),e.compact),(0,xe.Z)(n,"".concat(u,"-rtl"),"rtl"===i),n),s);return m.createElement("span",{className:l,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},e.children)}))},vP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},mP=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:vP}))};mP.displayName="SearchOutlined";var yP=m.forwardRef(mP),bP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},xP=m.forwardRef((function(e,t){var n,r,i=e.prefixCls,o=e.inputPrefixCls,a=e.className,s=e.size,u=e.suffix,l=e.enterButton,c=void 0!==l&&l,f=e.addonAfter,d=e.loading,h=e.disabled,p=e.onSearch,g=e.onChange,v=bP(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange"]),y=m.useContext(tn),b=y.getPrefixCls,x=y.direction,w=m.useContext(zT),E=s||w,S=m.useRef(null),_=function(e){var t;document.activeElement===(null===(t=S.current)||void 0===t?void 0:t.input)&&e.preventDefault()},T=function(e){var t;p&&p(null===(t=S.current)||void 0===t?void 0:t.input.value,e)},k=b("input-search",i),C=b("input",o),M="boolean"===typeof c?m.createElement(yP,null):null,A="".concat(k,"-button"),N=c||{},P=N.type&&!0===N.type.__ANT_BUTTON;r=P||"button"===N.type?DT(N,wt({onMouseDown:_,onClick:function(e){var t,n;null===(n=null===(t=null===N||void 0===N?void 0:N.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),T(e)},key:"enterButton"},P?{className:A,size:E}:{})):m.createElement(Gk,{className:A,type:c?"primary":void 0,size:E,disabled:h,key:"enterButton",onMouseDown:_,onClick:T,loading:d,icon:M},c),f&&(r=[r,DT(f,{key:"addonAfter"})]);var I=Ot()(k,(n={},(0,xe.Z)(n,"".concat(k,"-rtl"),"rtl"===x),(0,xe.Z)(n,"".concat(k,"-").concat(E),!!E),(0,xe.Z)(n,"".concat(k,"-with-button"),!!c),n),a);return m.createElement(pP,wt({ref:xT(S,t),onPressEnter:T},v,{size:E,prefixCls:C,addonAfter:r,suffix:u,onChange:function(e){e&&e.target&&"click"===e.type&&p&&p(e.target.value,e),g&&g(e)},className:I,disabled:h}))}));xP.displayName="Search";var wP=xP;function EP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return m.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(EP(e)):(0,mT.isFragment)(e)&&e.props?n=n.concat(EP(e.props.children,t)):n.push(e))})),n}var SP=new Map;var _P=new iN((function(e){e.forEach((function(e){var t,n=e.target;null===(t=SP.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var TP=function(e){(0,jt.Z)(n,e);var t=(0,Bt.Z)(n);function n(){return(0,Rt.Z)(this,n),t.apply(this,arguments)}return(0,Lt.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(m.Component),kP=m.createContext(null);function CP(e){var t=e.children,n=e.disabled,r=m.useRef(null),i=m.useRef(null),o=m.useContext(kP),a="function"===typeof t,s=a?t(r):t,u=m.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),l=!a&&m.isValidElement(s)&&wT(s),c=l?s.ref:null,f=m.useMemo((function(){return xT(c,r)}),[c,r]),d=m.useRef(e);d.current=e;var h=m.useCallback((function(e){var t=d.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),a=i.width,s=i.height,l=e.offsetWidth,c=e.offsetHeight,f=Math.floor(a),h=Math.floor(s);if(u.current.width!==f||u.current.height!==h||u.current.offsetWidth!==l||u.current.offsetHeight!==c){var p={width:f,height:h,offsetWidth:l,offsetHeight:c};u.current=p;var g=l===Math.round(a)?a:l,v=c===Math.round(s)?s:c,m=Ee(Ee({},p),{},{offsetWidth:g,offsetHeight:v});null===o||void 0===o||o(m,e,r),n&&Promise.resolve().then((function(){n(m,e)}))}}),[]);return m.useEffect((function(){var e,t,o=YT(r.current)||YT(i.current);return o&&!n&&(e=o,t=h,SP.has(e)||(SP.set(e,new Set),_P.observe(e)),SP.get(e).add(t)),function(){return function(e,t){SP.has(e)&&(SP.get(e).delete(t),SP.get(e).size||(_P.unobserve(e),SP.delete(e)))}(o,h)}}),[r.current,n]),m.createElement(TP,{ref:i},l?m.cloneElement(s,{ref:f}):s)}function MP(e){var t=e.children;return("function"===typeof t?[t]:EP(t)).map((function(t,n){var r=(null===t||void 0===t?void 0:t.key)||"".concat("rc-observer-key","-").concat(n);return m.createElement(CP,wt({},e,{key:r}),t)}))}MP.Collection=function(e){var t=e.children,n=e.onBatchResize,r=m.useRef(0),i=m.useRef([]),o=m.useContext(kP),a=m.useCallback((function(e,t,a){r.current+=1;var s=r.current;i.current.push({size:e,element:t,data:a}),Promise.resolve().then((function(){s===r.current&&(null===n||void 0===n||n(i.current),i.current=[])})),null===o||void 0===o||o(e,t,a)}),[n,o]);return m.createElement(kP.Provider,{value:a},t)};var AP,NP,PP=MP,IP="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",DP=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],OP={};function RP(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&OP[n])return OP[n];var r=window.getComputedStyle(e),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),a=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=DP.map((function(e){return"".concat(e,":").concat(r.getPropertyValue(e))})).join(";"),u={sizingStyle:s,paddingSize:o,borderSize:a,boxSizing:i};return t&&n&&(OP[n]=u),u}!function(e){e[e.NONE=0]="NONE",e[e.RESIZING=1]="RESIZING",e[e.RESIZED=2]="RESIZED"}(NP||(NP={}));var LP=function(e){(0,jt.Z)(n,e);var t=(0,Bt.Z)(n);function n(e){var r;return(0,Rt.Z)(this,n),(r=t.call(this,e)).nextFrameActionId=void 0,r.resizeFrameId=void 0,r.textArea=void 0,r.saveTextArea=function(e){r.textArea=e},r.handleResize=function(e){var t=r.state.resizeStatus,n=r.props,i=n.autoSize,o=n.onResize;t===NP.NONE&&("function"===typeof o&&o(e),i&&r.resizeOnNextFrame())},r.resizeOnNextFrame=function(){cancelAnimationFrame(r.nextFrameActionId),r.nextFrameActionId=requestAnimationFrame(r.resizeTextarea)},r.resizeTextarea=function(){var e=r.props.autoSize;if(e&&r.textArea){var t=e.minRows,n=e.maxRows,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;AP||((AP=document.createElement("textarea")).setAttribute("tab-index","-1"),AP.setAttribute("aria-hidden","true"),document.body.appendChild(AP)),e.getAttribute("wrap")?AP.setAttribute("wrap",e.getAttribute("wrap")):AP.removeAttribute("wrap");var i=RP(e,t),o=i.paddingSize,a=i.borderSize,s=i.boxSizing,u=i.sizingStyle;AP.setAttribute("style","".concat(u,";").concat(IP)),AP.value=e.value||e.placeholder||"";var l,c=Number.MIN_SAFE_INTEGER,f=Number.MAX_SAFE_INTEGER,d=AP.scrollHeight;if("border-box"===s?d+=a:"content-box"===s&&(d-=o),null!==n||null!==r){AP.value=" ";var h=AP.scrollHeight-o;null!==n&&(c=h*n,"border-box"===s&&(c=c+o+a),d=Math.max(c,d)),null!==r&&(f=h*r,"border-box"===s&&(f=f+o+a),l=d>f?"":"hidden",d=Math.min(f,d))}return{height:d,minHeight:c,maxHeight:f,overflowY:l,resize:"none"}}(r.textArea,!1,t,n);r.setState({textareaStyles:i,resizeStatus:NP.RESIZING},(function(){cancelAnimationFrame(r.resizeFrameId),r.resizeFrameId=requestAnimationFrame((function(){r.setState({resizeStatus:NP.RESIZED},(function(){r.resizeFrameId=requestAnimationFrame((function(){r.setState({resizeStatus:NP.NONE}),r.fixFirefoxAutoScroll()}))}))}))}))}},r.renderTextArea=function(){var e=r.props,t=e.prefixCls,n=void 0===t?"rc-textarea":t,i=e.autoSize,o=e.onResize,a=e.className,s=e.disabled,u=r.state,l=u.textareaStyles,c=u.resizeStatus,f=hn(r.props,["prefixCls","onPressEnter","autoSize","defaultValue","onResize"]),d=Ot()(n,a,(0,xe.Z)({},"".concat(n,"-disabled"),s));"value"in f&&(f.value=f.value||"");var h=Ee(Ee(Ee({},r.props.style),l),c===NP.RESIZING?{overflowX:"hidden",overflowY:"hidden"}:null);return m.createElement(PP,{onResize:r.handleResize,disabled:!(i||o)},m.createElement("textarea",wt({},f,{className:d,style:h,ref:r.saveTextArea})))},r.state={textareaStyles:{},resizeStatus:NP.NONE},r}return(0,Lt.Z)(n,[{key:"componentDidUpdate",value:function(e){e.value===this.props.value&&DN()(e.autoSize,this.props.autoSize)||this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.nextFrameActionId),cancelAnimationFrame(this.resizeFrameId)}},{key:"fixFirefoxAutoScroll",value:function(){try{if(document.activeElement===this.textArea){var e=this.textArea.selectionStart,t=this.textArea.selectionEnd;this.textArea.setSelectionRange(e,t)}}catch(n){}}},{key:"render",value:function(){return this.renderTextArea()}}]),n}(m.Component),jP=LP,BP=function(e){(0,jt.Z)(n,e);var t=(0,Bt.Z)(n);function n(e){var r;(0,Rt.Z)(this,n),(r=t.call(this,e)).resizableTextArea=void 0,r.focus=function(){r.resizableTextArea.textArea.focus()},r.saveTextArea=function(e){r.resizableTextArea=e},r.handleChange=function(e){var t=r.props.onChange;r.setValue(e.target.value,(function(){r.resizableTextArea.resizeTextarea()})),t&&t(e)},r.handleKeyDown=function(e){var t=r.props,n=t.onPressEnter,i=t.onKeyDown;13===e.keyCode&&n&&n(e),i&&i(e)};var i="undefined"===typeof e.value||null===e.value?e.defaultValue:e.value;return r.state={value:i},r}return(0,Lt.Z)(n,[{key:"setValue",value:function(e,t){"value"in this.props||this.setState({value:e},t)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return m.createElement(jP,wt({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value}:null}}]),n}(m.Component),FP=BP,zP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function YP(e,t){return(0,Pt.Z)(e||"").slice(0,t).join("")}function GP(e,t,n,r){var i=n;return e?i=YP(n,r):(0,Pt.Z)(t||"").length<n.length&&(0,Pt.Z)(n||"").length>r&&(i=t),i}var VP=m.forwardRef((function(e,t){var n,r=e.prefixCls,i=e.bordered,o=void 0===i||i,a=e.showCount,s=void 0!==a&&a,u=e.maxLength,l=e.className,c=e.style,f=e.size,d=e.onCompositionStart,h=e.onCompositionEnd,p=e.onChange,g=zP(e,["prefixCls","bordered","showCount","maxLength","className","style","size","onCompositionStart","onCompositionEnd","onChange"]),v=m.useContext(tn),y=v.getPrefixCls,b=v.direction,x=m.useContext(zT),w=m.useRef(null),E=m.useRef(null),S=m.useState(!1),_=(0,It.Z)(S,2),T=_[0],k=_[1],C=m.useRef(),M=m.useRef(0),A=fC(g.defaultValue,{value:g.value}),N=(0,It.Z)(A,2),P=N[0],I=N[1],D=g.hidden,O=function(e,t){void 0===g.value&&(I(e),null===t||void 0===t||t())},R=Number(u)>0,L=y("input",r);m.useImperativeHandle(t,(function(){var e;return{resizableTextArea:null===(e=w.current)||void 0===e?void 0:e.resizableTextArea,focus:function(e){var t,n;dP(null===(n=null===(t=w.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:function(){var e;return null===(e=w.current)||void 0===e?void 0:e.blur()}}}));var j=m.createElement(FP,wt({},hn(g,["allowClear"]),{className:Ot()((n={},(0,xe.Z)(n,"".concat(L,"-borderless"),!o),(0,xe.Z)(n,l,l&&!s),(0,xe.Z)(n,"".concat(L,"-sm"),"small"===x||"small"===f),(0,xe.Z)(n,"".concat(L,"-lg"),"large"===x||"large"===f),n)),style:s?void 0:c,prefixCls:L,onCompositionStart:function(e){k(!0),C.current=P,M.current=e.currentTarget.selectionStart,null===d||void 0===d||d(e)},onChange:function(e){var t=e.target.value;!T&&R&&(t=GP(e.target.selectionStart>=u+1||e.target.selectionStart===t.length||!e.target.selectionStart,P,t,u));O(t),fP(e.currentTarget,e,p,t)},onCompositionEnd:function(e){var t;k(!1);var n=e.currentTarget.value;R&&(n=GP(M.current>=u+1||M.current===(null===(t=C.current)||void 0===t?void 0:t.length),C.current,n,u));n!==P&&(O(n),fP(e.currentTarget,e,p,n)),null===h||void 0===h||h(e)},ref:w})),B=cP(P);T||!R||null!==g.value&&void 0!==g.value||(B=YP(B,u));var F=m.createElement(lP,wt({},g,{prefixCls:L,direction:b,inputType:"text",value:B,element:j,handleReset:function(e){var t,n;O("",(function(){var e;null===(e=w.current)||void 0===e||e.focus()})),fP(null===(n=null===(t=w.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e,p)},ref:E,bordered:o,style:s?void 0:c}));if(s){var z=(0,Pt.Z)(B).length,Y="";return Y="object"===(0,mn.Z)(s)?s.formatter({count:z,maxLength:u}):"".concat(z).concat(R?" / ".concat(u):""),m.createElement("div",{hidden:D,className:Ot()("".concat(L,"-textarea"),(0,xe.Z)({},"".concat(L,"-textarea-rtl"),"rtl"===b),"".concat(L,"-textarea-show-count"),l),style:c,"data-count":Y},F)}return F})),UP=VP,WP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},ZP=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:WP}))};ZP.displayName="EyeOutlined";var HP=m.forwardRef(ZP),XP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},KP=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:XP}))};KP.displayName="EyeInvisibleOutlined";var qP=m.forwardRef(KP),JP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},$P={click:"onClick",hover:"onMouseOver"},QP=m.forwardRef((function(e,t){var n=(0,m.useState)(!1),r=(0,It.Z)(n,2),i=r[0],o=r[1],a=function(){e.disabled||o(!i)},s=function(n){var r=n.getPrefixCls,o=e.className,s=e.prefixCls,u=e.inputPrefixCls,l=e.size,c=e.visibilityToggle,f=JP(e,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),d=r("input",u),h=r("input-password",s),p=c&&function(t){var n,r=e.action,o=e.iconRender,s=$P[r]||"",u=(void 0===o?function(){return null}:o)(i),l=(n={},(0,xe.Z)(n,s,a),(0,xe.Z)(n,"className","".concat(t,"-icon")),(0,xe.Z)(n,"key","passwordIcon"),(0,xe.Z)(n,"onMouseDown",(function(e){e.preventDefault()})),(0,xe.Z)(n,"onMouseUp",(function(e){e.preventDefault()})),n);return m.cloneElement(m.isValidElement(u)?u:m.createElement("span",null,u),l)}(h),g=Ot()(h,o,(0,xe.Z)({},"".concat(h,"-").concat(l),!!l)),v=wt(wt({},hn(f,["suffix","iconRender"])),{type:i?"text":"password",className:g,prefixCls:d,suffix:p});return l&&(v.size=l),m.createElement(pP,wt({ref:t},v))};return m.createElement(nn,null,s)}));QP.defaultProps={action:"click",visibilityToggle:!0,iconRender:function(e){return e?m.createElement(HP,null):m.createElement(qP,null)}},QP.displayName="Password";var eI=QP;pP.Group=gP,pP.Search=wP,pP.TextArea=UP,pP.Password=eI;var tI=pP,nI=(0,m.createContext)({}),rI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var iI=["xs","sm","md","lg","xl","xxl"],oI=m.forwardRef((function(e,t){var n,r=m.useContext(tn),i=r.getPrefixCls,o=r.direction,a=m.useContext(nI),s=a.gutter,u=a.wrap,l=a.supportFlexGap,c=e.prefixCls,f=e.span,d=e.order,h=e.offset,p=e.push,g=e.pull,v=e.className,y=e.children,b=e.flex,x=e.style,w=rI(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),E=i("col",c),S={};iI.forEach((function(t){var n,r={},i=e[t];"number"===typeof i?r.span=i:"object"===(0,mn.Z)(i)&&(r=i||{}),delete w[t],S=wt(wt({},S),(n={},(0,xe.Z)(n,"".concat(E,"-").concat(t,"-").concat(r.span),void 0!==r.span),(0,xe.Z)(n,"".concat(E,"-").concat(t,"-order-").concat(r.order),r.order||0===r.order),(0,xe.Z)(n,"".concat(E,"-").concat(t,"-offset-").concat(r.offset),r.offset||0===r.offset),(0,xe.Z)(n,"".concat(E,"-").concat(t,"-push-").concat(r.push),r.push||0===r.push),(0,xe.Z)(n,"".concat(E,"-").concat(t,"-pull-").concat(r.pull),r.pull||0===r.pull),(0,xe.Z)(n,"".concat(E,"-rtl"),"rtl"===o),n))}));var _=Ot()(E,(n={},(0,xe.Z)(n,"".concat(E,"-").concat(f),void 0!==f),(0,xe.Z)(n,"".concat(E,"-order-").concat(d),d),(0,xe.Z)(n,"".concat(E,"-offset-").concat(h),h),(0,xe.Z)(n,"".concat(E,"-push-").concat(p),p),(0,xe.Z)(n,"".concat(E,"-pull-").concat(g),g),n),v,S),T={};if(s&&s[0]>0){var k=s[0]/2;T.paddingLeft=k,T.paddingRight=k}if(s&&s[1]>0&&!l){var C=s[1]/2;T.paddingTop=C,T.paddingBottom=C}return b&&(T.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(b),!1!==u||T.minWidth||(T.minWidth=0)),m.createElement("div",wt({},w,{style:wt(wt({},T),x),className:_,ref:t}),y)}));oI.displayName="Col";var aI=oI,sI=Hn()?m.useLayoutEffect:m.useEffect,uI=n(3878),lI=n(9199),cI=n(181),fI=n(5267);function dI(e){return(0,uI.Z)(e)||(0,lI.Z)(e)||(0,cI.Z)(e)||(0,fI.Z)()}function hI(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!==r&&void 0!==r?r:void 0!==n?n:"rc-index-key-".concat(t)}function pI(e,t){var n=e||{};return{label:n.label||(t?"children":"label"),value:n.value||"value",options:n.options||"options"}}function gI(e){var t=Ee({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return Zn(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var vI=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],mI=function(e,t){var n=e.prefixCls,r=(e.disabled,e.visible),i=e.children,o=e.popupElement,a=e.containerWidth,s=e.animation,u=e.transitionName,l=e.dropdownStyle,c=e.dropdownClassName,f=e.direction,d=void 0===f?"ltr":f,h=e.placement,p=e.dropdownMatchSelectWidth,g=e.dropdownRender,v=e.dropdownAlign,y=e.getPopupContainer,b=e.empty,x=e.getTriggerDOMNode,w=e.onPopupVisibleChange,E=e.onPopupMouseEnter,S=gn(e,vI),_="".concat(n,"-dropdown"),T=o;g&&(T=g(o));var k=m.useMemo((function(){return function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}}(p)}),[p]),C=s?"".concat(_,"-").concat(s):u,M=m.useRef(null);m.useImperativeHandle(t,(function(){return{getPopupElement:function(){return M.current}}}));var A=Ee({minWidth:a},l);return"number"===typeof p?A.width=p:p&&(A.width=a),m.createElement(CN,wt({},S,{showAction:w?["click"]:[],hideAction:w?["click"]:[],popupPlacement:h||("rtl"===d?"bottomRight":"bottomLeft"),builtinPlacements:k,prefixCls:_,popupTransitionName:C,popup:m.createElement("div",{ref:M,onMouseEnter:E},T),popupAlign:v,popupVisible:r,getPopupContainer:y,popupClassName:Ot()(c,(0,xe.Z)({},"".concat(_,"-empty"),b)),popupStyle:A,getTriggerDOMNode:x,onPopupVisibleChange:w}),i)},yI=m.forwardRef(mI);yI.displayName="SelectTrigger";var bI=yI,xI="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),wI="aria-",EI="data-";function SI(e,t){return 0===e.indexOf(t)}function _I(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:Ee({},n);var r={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||SI(n,wI))||t.data&&SI(n,EI)||t.attr&&xI.includes(n))&&(r[n]=e[n])})),r}var TI=["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","className","style","children","display","order","component"],kI=void 0;function CI(e,t){var n=e.prefixCls,r=e.invalidate,i=e.item,o=e.renderItem,a=e.responsive,s=e.registerSize,u=e.itemKey,l=e.className,c=e.style,f=e.children,d=e.display,h=e.order,p=e.component,g=void 0===p?"div":p,v=gn(e,TI),y=a&&!d;function b(e){s(u,e)}m.useEffect((function(){return function(){b(null)}}),[]);var x,w=o&&i!==kI?o(i):f;r||(x={opacity:y?0:1,height:y?0:kI,overflowY:y?"hidden":kI,order:a?h:kI,pointerEvents:y?"none":kI,position:y?"absolute":kI});var E={};y&&(E["aria-hidden"]=!0);var S=m.createElement(g,wt({className:Ot()(!r&&n,l),style:Ee(Ee({},x),c)},E,v,{ref:t}),w);return a&&(S=m.createElement(PP,{onResize:function(e){b(e.offsetWidth)}},S)),S}var MI=m.forwardRef(CI);MI.displayName="Item";var AI=MI;var NI=["component"],PI=["className"],II=["className"],DI=function(e,t){var n=m.useContext(jI);if(!n){var r=e.component,i=void 0===r?"div":r,o=gn(e,NI);return m.createElement(i,wt({},o,{ref:t}))}var a=n.className,s=gn(n,PI),u=e.className,l=gn(e,II);return m.createElement(jI.Provider,{value:null},m.createElement(AI,wt({ref:t,className:Ot()(a,u)},s,l)))},OI=m.forwardRef(DI);OI.displayName="RawItem";var RI=OI,LI=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],jI=m.createContext(null),BI="responsive",FI="invalidate";function zI(e){return"+ ".concat(e.length," ...")}function YI(e,t){var n=e.prefixCls,r=void 0===n?"rc-overflow":n,i=e.data,o=void 0===i?[]:i,a=e.renderItem,s=e.renderRawItem,u=e.itemKey,l=e.itemWidth,c=void 0===l?10:l,f=e.ssr,d=e.style,h=e.className,p=e.maxCount,g=e.renderRest,v=e.renderRawRest,y=e.suffix,b=e.component,x=void 0===b?"div":b,w=e.itemComponent,E=e.onVisibleChange,S=gn(e,LI),_=function(){var e=(0,m.useState)({}),t=(0,It.Z)(e,2)[1],n=(0,m.useRef)([]),r=(0,m.useRef)(!1),i=0,o=0;return(0,m.useEffect)((function(){return function(){r.current=!0}}),[]),function(e){var a=i;return i+=1,n.current.length<a+1&&(n.current[a]=e),[n.current[a],function(e){n.current[a]="function"===typeof e?e(n.current[a]):e,CT.cancel(o),o=CT((function(){r.current||t({})}))}]}}(),T="full"===f,k=_(null),C=(0,It.Z)(k,2),M=C[0],A=C[1],N=M||0,P=_(new Map),I=(0,It.Z)(P,2),D=I[0],O=I[1],R=_(0),L=(0,It.Z)(R,2),j=L[0],B=L[1],F=_(0),z=(0,It.Z)(F,2),Y=z[0],G=z[1],V=_(0),U=(0,It.Z)(V,2),W=U[0],Z=U[1],H=(0,m.useState)(null),X=(0,It.Z)(H,2),K=X[0],q=X[1],J=(0,m.useState)(null),$=(0,It.Z)(J,2),Q=$[0],ee=$[1],te=m.useMemo((function(){return null===Q&&T?Number.MAX_SAFE_INTEGER:Q||0}),[Q,M]),ne=(0,m.useState)(!1),re=(0,It.Z)(ne,2),ie=re[0],oe=re[1],ae="".concat(r,"-item"),se=Math.max(j,Y),ue=o.length&&p===BI,le=p===FI,ce=ue||"number"===typeof p&&o.length>p,fe=(0,m.useMemo)((function(){var e=o;return ue?e=null===M&&T?o:o.slice(0,Math.min(o.length,N/c)):"number"===typeof p&&(e=o.slice(0,p)),e}),[o,c,M,p,ue]),de=(0,m.useMemo)((function(){return ue?o.slice(te+1):o.slice(fe.length)}),[o,fe,ue,te]),he=(0,m.useCallback)((function(e,t){var n;return"function"===typeof u?u(e):null!==(n=u&&(null===e||void 0===e?void 0:e[u]))&&void 0!==n?n:t}),[u]),pe=(0,m.useCallback)(a||function(e){return e},[a]);function ge(e,t){ee(e),t||(oe(e<o.length-1),null===E||void 0===E||E(e))}function ve(e,t){O((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function me(e){return D.get(he(fe[e],e))}sI((function(){if(N&&se&&fe){var e=W,t=fe.length,n=t-1;if(!t)return ge(0),void q(null);for(var r=0;r<t;r+=1){var i=me(r);if(void 0===i){ge(r-1,!0);break}if(e+=i,0===n&&e<=N||r===n-1&&e+me(n)<=N){ge(n),q(null);break}if(e+se>N){ge(r-1),q(e-i-W+Y);break}}y&&me(0)+W>N&&q(null)}}),[N,D,Y,W,he,fe]);var ye=ie&&!!de.length,be={};null!==K&&ue&&(be={position:"absolute",left:K,top:0});var xe,we={prefixCls:ae,responsive:ue,component:w,invalidate:le},Se=s?function(e,t){var n=he(e,t);return m.createElement(jI.Provider,{key:n,value:Ee(Ee({},we),{},{order:t,item:e,itemKey:n,registerSize:ve,display:t<=te})},s(e,t))}:function(e,t){var n=he(e,t);return m.createElement(AI,wt({},we,{order:t,key:n,item:e,renderItem:pe,itemKey:n,registerSize:ve,display:t<=te}))},_e={order:ye?te:Number.MAX_SAFE_INTEGER,className:"".concat(ae,"-rest"),registerSize:function(e,t){G(t),B(Y)},display:ye};if(v)v&&(xe=m.createElement(jI.Provider,{value:Ee(Ee({},we),_e)},v(de)));else{var Te=g||zI;xe=m.createElement(AI,wt({},we,_e),"function"===typeof Te?Te(de):Te)}var ke=m.createElement(x,wt({className:Ot()(!le&&r,h),style:d,ref:t},S),fe.map(Se),ce?xe:null,y&&m.createElement(AI,wt({},we,{order:te,className:"".concat(ae,"-suffix"),registerSize:function(e,t){Z(t)},display:!0,style:be}),y));return ue&&(ke=m.createElement(PP,{onResize:function(e,t){A(t.clientWidth)}},ke)),ke}var GI=m.forwardRef(YI);GI.displayName="Overflow",GI.Item=RI,GI.RESPONSIVE=BI,GI.INVALIDATE=FI;var VI=GI,UI=function(e){var t,n=e.className,r=e.customizeIcon,i=e.customizeIconProps,o=e.onMouseDown,a=e.onClick,s=e.children;return t="function"===typeof r?r(i):r,m.createElement("span",{className:n,onMouseDown:function(e){e.preventDefault(),o&&o(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},void 0!==t?t:m.createElement("span",{className:Ot()(n.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},s))},WI=function(e,t){var n,r,i=e.prefixCls,o=e.id,a=e.inputElement,s=e.disabled,u=e.tabIndex,l=e.autoFocus,c=e.autoComplete,f=e.editable,d=e.activeDescendantId,h=e.value,p=e.maxLength,g=e.onKeyDown,v=e.onMouseDown,y=e.onChange,b=e.onPaste,x=e.onCompositionStart,w=e.onCompositionEnd,E=e.open,S=e.attrs,_=a||m.createElement("input",null),T=_,k=T.ref,C=T.props,M=C.onKeyDown,A=C.onChange,N=C.onMouseDown,P=C.onCompositionStart,I=C.onCompositionEnd,D=C.style;return _=m.cloneElement(_,Ee(Ee({id:o,ref:xT(t,k),disabled:s,tabIndex:u,autoComplete:c||"off",type:"search",autoFocus:l,className:Ot()("".concat(i,"-selection-search-input"),null===(n=_)||void 0===n||null===(r=n.props)||void 0===r?void 0:r.className),style:Ee(Ee({},D),{},{opacity:f?null:0}),role:"combobox","aria-expanded":E,"aria-haspopup":"listbox","aria-owns":"".concat(o,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(o,"_list"),"aria-activedescendant":d},S),{},{value:f?h:"",maxLength:p,readOnly:!f,unselectable:f?null:"on",onKeyDown:function(e){g(e),M&&M(e)},onMouseDown:function(e){v(e),N&&N(e)},onChange:function(e){y(e),A&&A(e)},onCompositionStart:function(e){x(e),P&&P(e)},onCompositionEnd:function(e){w(e),I&&I(e)},onPaste:b}))},ZI=m.forwardRef(WI);ZI.displayName="Input";var HI=ZI;function XI(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var KI="undefined"!==typeof window&&window.document&&window.document.documentElement;var qI=function(e){e.preventDefault(),e.stopPropagation()},JI=function(e){var t,n,r=e.id,i=e.prefixCls,o=e.values,a=e.open,s=e.searchValue,u=e.inputRef,l=e.placeholder,c=e.disabled,f=e.mode,d=e.showSearch,h=e.autoFocus,p=e.autoComplete,g=e.activeDescendantId,v=e.tabIndex,y=e.removeIcon,b=e.maxTagCount,x=e.maxTagTextLength,w=e.maxTagPlaceholder,E=void 0===w?function(e){return"+ ".concat(e.length," ...")}:w,S=e.tagRender,_=e.onToggleOpen,T=e.onRemove,k=e.onInputChange,C=e.onInputPaste,M=e.onInputKeyDown,A=e.onInputMouseDown,N=e.onInputCompositionStart,P=e.onInputCompositionEnd,I=m.useRef(null),D=(0,m.useState)(0),O=(0,It.Z)(D,2),R=O[0],L=O[1],j=(0,m.useState)(!1),B=(0,It.Z)(j,2),F=B[0],z=B[1],Y="".concat(i,"-selection"),G=a||"tags"===f?s:"",V="tags"===f||d&&(a||F);function U(e,t,n,r,i){return m.createElement("span",{className:Ot()("".concat(Y,"-item"),(0,xe.Z)({},"".concat(Y,"-item-disabled"),n)),title:"string"===typeof e||"number"===typeof e?e.toString():void 0},m.createElement("span",{className:"".concat(Y,"-item-content")},t),r&&m.createElement(UI,{className:"".concat(Y,"-item-remove"),onMouseDown:qI,onClick:i,customizeIcon:y},"\xd7"))}t=function(){L(I.current.scrollWidth)},n=[G],KI?m.useLayoutEffect(t,n):m.useEffect(t,n);var W=m.createElement("div",{className:"".concat(Y,"-search"),style:{width:R},onFocus:function(){z(!0)},onBlur:function(){z(!1)}},m.createElement(HI,{ref:u,open:a,prefixCls:i,id:r,inputElement:null,disabled:c,autoFocus:h,autoComplete:p,editable:V,activeDescendantId:g,value:G,onKeyDown:M,onMouseDown:A,onChange:k,onPaste:C,onCompositionStart:N,onCompositionEnd:P,tabIndex:v,attrs:_I(e,!0)}),m.createElement("span",{ref:I,className:"".concat(Y,"-search-mirror"),"aria-hidden":!0},G,"\xa0")),Z=m.createElement(VI,{prefixCls:"".concat(Y,"-overflow"),data:o,renderItem:function(e){var t=e.disabled,n=e.label,r=e.value,i=!c&&!t,o=n;if("number"===typeof x&&("string"===typeof n||"number"===typeof n)){var s=String(o);s.length>x&&(o="".concat(s.slice(0,x),"..."))}var u=function(t){t&&t.stopPropagation(),T(e)};return"function"===typeof S?function(e,t,n,r,i){return m.createElement("span",{onMouseDown:function(e){qI(e),_(!a)}},S({label:t,value:e,disabled:n,closable:r,onClose:i}))}(r,o,t,i,u):U(n,o,t,i,u)},renderRest:function(e){var t="function"===typeof E?E(e):E;return U(t,t,!1)},suffix:W,itemKey:"key",maxCount:b});return m.createElement(m.Fragment,null,Z,!o.length&&!G&&m.createElement("span",{className:"".concat(Y,"-placeholder")},l))},$I=function(e){var t=e.inputElement,n=e.prefixCls,r=e.id,i=e.inputRef,o=e.disabled,a=e.autoFocus,s=e.autoComplete,u=e.activeDescendantId,l=e.mode,c=e.open,f=e.values,d=e.placeholder,h=e.tabIndex,p=e.showSearch,g=e.searchValue,v=e.activeValue,y=e.maxLength,b=e.onInputKeyDown,x=e.onInputMouseDown,w=e.onInputChange,E=e.onInputPaste,S=e.onInputCompositionStart,_=e.onInputCompositionEnd,T=m.useState(!1),k=(0,It.Z)(T,2),C=k[0],M=k[1],A="combobox"===l,N=A||p,P=f[0],I=g||"";A&&v&&!C&&(I=v),m.useEffect((function(){A&&M(!1)}),[A,v]);var D=!("combobox"!==l&&!c&&!p)&&!!I,O=!P||"string"!==typeof P.label&&"number"!==typeof P.label?void 0:P.label.toString();return m.createElement(m.Fragment,null,m.createElement("span",{className:"".concat(n,"-selection-search")},m.createElement(HI,{ref:i,prefixCls:n,id:r,open:c,inputElement:t,disabled:o,autoFocus:a,autoComplete:s,editable:N,activeDescendantId:u,value:I,onKeyDown:b,onMouseDown:x,onChange:function(e){M(!0),w(e)},onPaste:E,onCompositionStart:S,onCompositionEnd:_,tabIndex:h,attrs:_I(e,!0),maxLength:A?y:void 0})),!A&&P&&!D&&m.createElement("span",{className:"".concat(n,"-selection-item"),title:O},P.label),function(){if(P)return null;var e=D?{visibility:"hidden"}:void 0;return m.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:e},d)}())};function QI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=m.useRef(null),n=m.useRef(null);function r(r){(r||null===t.current)&&(t.current=r),window.clearTimeout(n.current),n.current=window.setTimeout((function(){t.current=null}),e)}return m.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return t.current},r]}var eD=function(e,t){var n=(0,m.useRef)(null),r=(0,m.useRef)(!1),i=e.prefixCls,o=e.open,a=e.mode,s=e.showSearch,u=e.tokenWithEnter,l=e.onSearch,c=e.onSearchSubmit,f=e.onToggleOpen,d=e.onInputKeyDown,h=e.domRef;m.useImperativeHandle(t,(function(){return{focus:function(){n.current.focus()},blur:function(){n.current.blur()}}}));var p=QI(0),g=(0,It.Z)(p,2),v=g[0],y=g[1],b=(0,m.useRef)(null),x=function(e){!1!==l(e,!0,r.current)&&f(!0)},w={inputRef:n,onInputKeyDown:function(e){var t,n=e.which;n!==hC.UP&&n!==hC.DOWN||e.preventDefault(),d&&d(e),n!==hC.ENTER||"tags"!==a||r.current||o||null===c||void 0===c||c(e.target.value),t=n,[hC.ESC,hC.SHIFT,hC.BACKSPACE,hC.TAB,hC.WIN_KEY,hC.ALT,hC.META,hC.WIN_KEY_RIGHT,hC.CTRL,hC.SEMICOLON,hC.EQUALS,hC.CAPS_LOCK,hC.CONTEXT_MENU,hC.F1,hC.F2,hC.F3,hC.F4,hC.F5,hC.F6,hC.F7,hC.F8,hC.F9,hC.F10,hC.F11,hC.F12].includes(t)||f(!0)},onInputMouseDown:function(){y(!0)},onInputChange:function(e){var t=e.target.value;if(u&&b.current&&/[\r\n]/.test(b.current)){var n=b.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,b.current)}b.current=null,x(t)},onInputPaste:function(e){var t=e.clipboardData.getData("text");b.current=t},onInputCompositionStart:function(){r.current=!0},onInputCompositionEnd:function(e){r.current=!1,"combobox"!==a&&x(e.target.value)}},E="multiple"===a||"tags"===a?m.createElement(JI,wt({},e,w)):m.createElement($I,wt({},e,w));return m.createElement("div",{ref:h,className:"".concat(i,"-selector"),onClick:function(e){e.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(e){var t=v();e.target===n.current||t||e.preventDefault(),("combobox"===a||s&&t)&&o||(o&&l("",!0,!1),f())}},E)},tD=m.forwardRef(eD);tD.displayName="Selector";var nD=tD;var rD=m.createContext(null);var iD=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],oD=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function aD(e){return"tags"===e||"multiple"===e}var sD=m.forwardRef((function(e,t){var n,r,i=e.id,o=e.prefixCls,a=e.className,s=e.showSearch,u=e.tagRender,l=e.direction,c=e.omitDomProps,f=e.displayValues,d=e.onDisplayValuesChange,h=e.emptyOptions,p=e.notFoundContent,g=void 0===p?"Not Found":p,v=e.onClear,y=e.mode,b=e.disabled,x=e.loading,w=e.getInputElement,E=e.getRawInputElement,S=e.open,_=e.defaultOpen,T=e.onDropdownVisibleChange,k=e.activeValue,C=e.onActiveValueChange,M=e.activeDescendantId,A=e.searchValue,N=e.onSearch,P=e.onSearchSplit,I=e.tokenSeparators,D=e.allowClear,O=e.showArrow,R=e.inputIcon,L=e.clearIcon,j=e.OptionList,B=e.animation,F=e.transitionName,z=e.dropdownStyle,Y=e.dropdownClassName,G=e.dropdownMatchSelectWidth,V=e.dropdownRender,U=e.dropdownAlign,W=e.placement,Z=e.getPopupContainer,H=e.showAction,X=void 0===H?[]:H,K=e.onFocus,q=e.onBlur,J=e.onKeyUp,$=e.onKeyDown,Q=e.onMouseDown,ee=gn(e,iD),te=aD(y),ne=(void 0!==s?s:te)||"combobox"===y,re=Ee({},ee);oD.forEach((function(e){delete re[e]})),null===c||void 0===c||c.forEach((function(e){delete re[e]}));var ie=m.useState(!1),oe=(0,It.Z)(ie,2),ae=oe[0],se=oe[1];m.useEffect((function(){se(DM())}),[]);var ue=m.useRef(null),le=m.useRef(null),ce=m.useRef(null),fe=m.useRef(null),de=m.useRef(null),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=m.useState(!1),n=(0,It.Z)(t,2),r=n[0],i=n[1],o=m.useRef(null),a=function(){window.clearTimeout(o.current)};m.useEffect((function(){return a}),[]);var s=function(t,n){a(),o.current=window.setTimeout((function(){i(t),n&&n()}),e)};return[r,s,a]}(),pe=(0,It.Z)(he,3),ge=pe[0],ve=pe[1],me=pe[2];m.useImperativeHandle(t,(function(){var e,t;return{focus:null===(e=fe.current)||void 0===e?void 0:e.focus,blur:null===(t=fe.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=de.current)||void 0===t?void 0:t.scrollTo(e)}}}));var ye=m.useMemo((function(){var e;if("combobox"!==y)return A;var t=null===(e=f[0])||void 0===e?void 0:e.value;return"string"===typeof t||"number"===typeof t?String(t):""}),[A,y,f]),be="combobox"===y&&"function"===typeof w&&w()||null,we="function"===typeof E&&E(),Se=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yT((function(){return xT.apply(void 0,t)}),t,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}))}(le,null===we||void 0===we||null===(n=we.props)||void 0===n?void 0:n.ref),_e=fC(void 0,{defaultValue:_,value:S}),Te=(0,It.Z)(_e,2),ke=Te[0],Ce=Te[1],Me=ke,Ae=!g&&h;(b||Ae&&Me&&"combobox"===y)&&(Me=!1);var Ne=!Ae&&Me,Pe=m.useCallback((function(e){var t=void 0!==e?e:!Me;Me===t||b||(Ce(t),null===T||void 0===T||T(t))}),[b,Me,Ce,T]),Ie=m.useMemo((function(){return(I||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[I]),De=function(e,t,n){var r=!0,i=e;null===C||void 0===C||C(null);var o=n?null:function(e,t){if(!t||!t.length)return null;var n=!1,r=function e(t,r){var i=dI(r),o=i[0],a=i.slice(1);if(!o)return[t];var s=t.split(o);return n=n||s.length>1,s.reduce((function(t,n){return[].concat((0,Pt.Z)(t),(0,Pt.Z)(e(n,a)))}),[]).filter((function(e){return e}))}(e,t);return n?r:null}(e,I);return"combobox"!==y&&o&&(i="",null===P||void 0===P||P(o),Pe(!1),r=!1),N&&ye!==i&&N(i,{source:t?"typing":"effect"}),r};m.useEffect((function(){Me||te||"combobox"===y||De("",!1,!1)}),[Me]),m.useEffect((function(){ke&&b&&Ce(!1),b&&ve(!1)}),[b]);var Oe=QI(),Re=(0,It.Z)(Oe,2),Le=Re[0],je=Re[1],Be=m.useRef(!1),Fe=[];m.useEffect((function(){return function(){Fe.forEach((function(e){return clearTimeout(e)})),Fe.splice(0,Fe.length)}}),[]);var ze,Ye=m.useState(null),Ge=(0,It.Z)(Ye,2),Ve=Ge[0],Ue=Ge[1],We=m.useState({}),Ze=(0,It.Z)(We,2)[1];sI((function(){if(Ne){var e,t=Math.ceil(null===(e=ue.current)||void 0===e?void 0:e.offsetWidth);Ve===t||Number.isNaN(t)||Ue(t)}}),[Ne]),we&&(ze=function(e){Pe(e)}),function(e,t,n){var r=m.useRef(null);r.current={open:t,triggerOpen:n},m.useEffect((function(){function t(t){var n=t.target;n.shadowRoot&&t.composed&&(n=t.composedPath()[0]||n),r.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(n)&&e!==n}))&&r.current.triggerOpen(!1)}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}((function(){var e;return[ue.current,null===(e=ce.current)||void 0===e?void 0:e.getPopupElement()]}),Ne,Pe);var He,Xe,Ke=m.useMemo((function(){return Ee(Ee({},e),{},{notFoundContent:g,open:Me,triggerOpen:Ne,id:i,showSearch:ne,multiple:te,toggleOpen:Pe})}),[e,g,Ne,Me,i,ne,te,Pe]),qe=void 0!==O?O:x||!te&&"combobox"!==y;qe&&(He=m.createElement(UI,{className:Ot()("".concat(o,"-arrow"),(0,xe.Z)({},"".concat(o,"-arrow-loading"),x)),customizeIcon:R,customizeIconProps:{loading:x,searchValue:ye,open:Me,focused:ge,showSearch:ne}}));!b&&D&&(f.length||ye)&&(Xe=m.createElement(UI,{className:"".concat(o,"-clear"),onMouseDown:function(){null===v||void 0===v||v(),d([],{type:"clear",values:f}),De("",!1,!1)},customizeIcon:L},"\xd7"));var Je,$e=m.createElement(j,{ref:de}),Qe=Ot()(o,a,(r={},(0,xe.Z)(r,"".concat(o,"-focused"),ge),(0,xe.Z)(r,"".concat(o,"-multiple"),te),(0,xe.Z)(r,"".concat(o,"-single"),!te),(0,xe.Z)(r,"".concat(o,"-allow-clear"),D),(0,xe.Z)(r,"".concat(o,"-show-arrow"),qe),(0,xe.Z)(r,"".concat(o,"-disabled"),b),(0,xe.Z)(r,"".concat(o,"-loading"),x),(0,xe.Z)(r,"".concat(o,"-open"),Me),(0,xe.Z)(r,"".concat(o,"-customize-input"),be),(0,xe.Z)(r,"".concat(o,"-show-search"),ne),r)),et=m.createElement(bI,{ref:ce,disabled:b,prefixCls:o,visible:Ne,popupElement:$e,containerWidth:Ve,animation:B,transitionName:F,dropdownStyle:z,dropdownClassName:Y,direction:l,dropdownMatchSelectWidth:G,dropdownRender:V,dropdownAlign:U,placement:W,getPopupContainer:Z,empty:h,getTriggerDOMNode:function(){return le.current},onPopupVisibleChange:ze,onPopupMouseEnter:function(){Ze({})}},we?m.cloneElement(we,{ref:Se}):m.createElement(nD,wt({},e,{domRef:le,prefixCls:o,inputElement:be,ref:fe,id:i,showSearch:ne,mode:y,activeDescendantId:M,tagRender:u,values:f,open:Me,onToggleOpen:Pe,activeValue:k,searchValue:ye,onSearch:De,onSearchSubmit:function(e){e&&e.trim()&&N(e,{source:"submit"})},onRemove:function(e){var t=f.filter((function(t){return t!==e}));d(t,{type:"remove",values:[e]})},tokenWithEnter:Ie})));return Je=we?et:m.createElement("div",wt({className:Qe},re,{ref:ue,onMouseDown:function(e){var t,n=e.target,r=null===(t=ce.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var i=setTimeout((function(){var e,t=Fe.indexOf(i);-1!==t&&Fe.splice(t,1),me(),ae||r.contains(document.activeElement)||null===(e=fe.current)||void 0===e||e.focus()}));Fe.push(i)}for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];null===Q||void 0===Q||Q.apply(void 0,[e].concat(a))},onKeyDown:function(e){var t,n=Le(),r=e.which;if(r===hC.ENTER&&("combobox"!==y&&e.preventDefault(),Me||Pe(!0)),je(!!ye),r===hC.BACKSPACE&&!n&&te&&!ye&&f.length){for(var i=(0,Pt.Z)(f),o=null,a=i.length-1;a>=0;a-=1){var s=i[a];if(!s.disabled){i.splice(a,1),o=s;break}}o&&d(i,{type:"remove",values:[o]})}for(var u=arguments.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=arguments[c];Me&&de.current&&(t=de.current).onKeyDown.apply(t,[e].concat(l)),null===$||void 0===$||$.apply(void 0,[e].concat(l))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;Me&&de.current&&(i=de.current).onKeyUp.apply(i,[e].concat(n)),null===J||void 0===J||J.apply(void 0,[e].concat(n))},onFocus:function(){ve(!0),b||(K&&!Be.current&&K.apply(void 0,arguments),X.includes("focus")&&Pe(!0)),Be.current=!0},onBlur:function(){ve(!1,(function(){Be.current=!1,Pe(!1)})),b||(ye&&("tags"===y?N(ye,{source:"submit"}):"multiple"===y&&N("",{source:"blur"})),q&&q.apply(void 0,arguments))}}),ge&&!Me&&m.createElement("span",{style:{width:0,height:0,display:"flex",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(f.map((function(e){var t=e.label,n=e.value;return["number","string"].includes((0,mn.Z)(t))?t:n})).join(", "))),et,He,Xe),m.createElement(rD.Provider,{value:Ke},Je)}));var uD=sD;function lD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lD(Object(n),!0).forEach((function(t){fD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dD=m.forwardRef((function(e,t){var n=e.height,r=e.offset,i=e.children,o=e.prefixCls,a=e.onInnerResize,s={},u={display:"flex",flexDirection:"column"};return void 0!==r&&(s={height:n,position:"relative",overflow:"hidden"},u=cD(cD({},u),{},{transform:"translateY(".concat(r,"px)"),position:"absolute",left:0,right:0,top:0})),m.createElement("div",{style:s},m.createElement(PP,{onResize:function(e){e.offsetHeight&&a&&a()}},m.createElement("div",{style:u,className:Ot()(fD({},"".concat(o,"-holder-inner"),o)),ref:t},i)))}));dD.displayName="Filler";var hD=dD;function pD(e){return pD="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pD(e)}function gD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yD(e,t){return yD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yD(e,t)}function bD(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wD(e);if(t){var i=wD(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xD(this,n)}}function xD(e,t){if(t&&("object"===pD(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function wD(e){return wD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wD(e)}function ED(e){return"touches"in e?e.touches[0].pageY:e.pageY}var SD=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yD(e,t)}(o,e);var t,n,r,i=bD(o);function o(){var e;vD(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).moveRaf=null,e.scrollbarRef=m.createRef(),e.thumbRef=m.createRef(),e.visibleTimeout=null,e.state={dragging:!1,pageY:null,startTop:null,visible:!1},e.delayHidden=function(){clearTimeout(e.visibleTimeout),e.setState({visible:!0}),e.visibleTimeout=setTimeout((function(){e.setState({visible:!1})}),2e3)},e.onScrollbarTouchStart=function(e){e.preventDefault()},e.onContainerMouseDown=function(e){e.stopPropagation(),e.preventDefault()},e.patchEvents=function(){window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp),e.thumbRef.current.addEventListener("touchmove",e.onMouseMove),e.thumbRef.current.addEventListener("touchend",e.onMouseUp)},e.removeEvents=function(){window.removeEventListener("mousemove",e.onMouseMove),window.removeEventListener("mouseup",e.onMouseUp),e.scrollbarRef.current.removeEventListener("touchstart",e.onScrollbarTouchStart),e.thumbRef.current.removeEventListener("touchstart",e.onMouseDown),e.thumbRef.current.removeEventListener("touchmove",e.onMouseMove),e.thumbRef.current.removeEventListener("touchend",e.onMouseUp),CT.cancel(e.moveRaf)},e.onMouseDown=function(t){var n=e.props.onStartMove;e.setState({dragging:!0,pageY:ED(t),startTop:e.getTop()}),n(),e.patchEvents(),t.stopPropagation(),t.preventDefault()},e.onMouseMove=function(t){var n=e.state,r=n.dragging,i=n.pageY,o=n.startTop,a=e.props.onScroll;if(CT.cancel(e.moveRaf),r){var s=o+(ED(t)-i),u=e.getEnableScrollRange(),l=e.getEnableHeightRange(),c=l?s/l:0,f=Math.ceil(c*u);e.moveRaf=CT((function(){a(f)}))}},e.onMouseUp=function(){var t=e.props.onStopMove;e.setState({dragging:!1}),t(),e.removeEvents()},e.getSpinHeight=function(){var t=e.props,n=t.height,r=n/t.count*10;return r=Math.max(r,20),r=Math.min(r,n/2),Math.floor(r)},e.getEnableScrollRange=function(){var t=e.props;return t.scrollHeight-t.height||0},e.getEnableHeightRange=function(){return e.props.height-e.getSpinHeight()||0},e.getTop=function(){var t=e.props.scrollTop,n=e.getEnableScrollRange(),r=e.getEnableHeightRange();return 0===t||0===n?0:t/n*r},e.showScroll=function(){var t=e.props,n=t.height;return t.scrollHeight>n},e}return t=o,(n=[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(e){e.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var e=this.state,t=e.dragging,n=e.visible,r=this.props.prefixCls,i=this.getSpinHeight(),o=this.getTop(),a=this.showScroll(),s=a&&n;return m.createElement("div",{ref:this.scrollbarRef,className:Ot()("".concat(r,"-scrollbar"),gD({},"".concat(r,"-scrollbar-show"),a)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:s?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},m.createElement("div",{ref:this.thumbRef,className:Ot()("".concat(r,"-scrollbar-thumb"),gD({},"".concat(r,"-scrollbar-thumb-moving"),t)),style:{width:"100%",height:i,top:o,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}])&&mD(t.prototype,n),r&&mD(t,r),o}(m.Component);function _D(e){var t=e.children,n=e.setRef,r=m.useCallback((function(e){n(e)}),[]);return m.cloneElement(t,{ref:r})}function TD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var kD=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.maps=void 0,this.maps=Object.create(null)}var t,n,r;return t=e,n=[{key:"set",value:function(e,t){this.maps[e]=t}},{key:"get",value:function(e){return this.maps[e]}}],n&&TD(t.prototype,n),r&&TD(t,r),e}(),CD=kD;function MD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return AD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AD(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ND(e){return ND="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ND(e)}function PD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ID(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ID(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ID(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DD(e,t,n){var r=PD(m.useState(e),2),i=r[0],o=r[1],a=PD(m.useState(null),2),s=a[0],u=a[1];return m.useEffect((function(){var r=function(e,t,n){var r,i,o=e.length,a=t.length;if(0===o&&0===a)return null;o<a?(r=e,i=t):(r=t,i=e);var s={__EMPTY_ITEM__:!0};function u(e){return void 0!==e?n(e):s}for(var l=null,c=1!==Math.abs(o-a),f=0;f<i.length;f+=1){var d=u(r[f]);if(d!==u(i[f])){l=f,c=c||d!==u(i[f+1]);break}}return null===l?null:{index:l,multiple:c}}(i||[],e||[],t);void 0!==(null===r||void 0===r?void 0:r.index)&&(null===n||void 0===n||n(r.index),u(e[r.index])),o(e)}),[e]),[s]}function OD(e){return OD="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OD(e)}var RD="object"===("undefined"===typeof navigator?"undefined":OD(navigator))&&/Firefox/i.test(navigator.userAgent),LD=function(e,t){var n=(0,m.useRef)(!1),r=(0,m.useRef)(null);function i(){clearTimeout(r.current),n.current=!0,r.current=setTimeout((function(){n.current=!1}),50)}var o=(0,m.useRef)({top:e,bottom:t});return o.current.top=e,o.current.bottom=t,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e<0&&o.current.top||e>0&&o.current.bottom;return t&&a?(clearTimeout(r.current),n.current=!1):a&&!n.current||i(),!n.current&&a}};var jD=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll","onVisibleChange"];function BD(){return BD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BD.apply(this,arguments)}function FD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FD(Object(n),!0).forEach((function(t){YD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function YD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return VD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VD(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var WD=[],ZD={overflowY:"auto",overflowAnchor:"none"};function HD(e,t){var n=e.prefixCls,r=void 0===n?"rc-virtual-list":n,i=e.className,o=e.height,a=e.itemHeight,s=e.fullHeight,u=void 0===s||s,l=e.style,c=e.data,f=e.children,d=e.itemKey,h=e.virtual,p=e.component,g=void 0===p?"div":p,v=e.onScroll,y=e.onVisibleChange,b=UD(e,jD),x=!(!1===h||!o||!a),w=x&&c&&a*c.length>o,E=GD((0,m.useState)(0),2),S=E[0],_=E[1],T=GD((0,m.useState)(!1),2),k=T[0],C=T[1],M=Ot()(r,i),A=c||WD,N=(0,m.useRef)(),P=(0,m.useRef)(),I=(0,m.useRef)(),D=m.useCallback((function(e){return"function"===typeof d?d(e):null===e||void 0===e?void 0:e[d]}),[d]),O={getKey:D};function R(e){_((function(t){var n=function(e){var t=e;Number.isNaN(J.current)||(t=Math.min(t,J.current));return t=Math.max(t,0)}("function"===typeof e?e(t):e);return N.current.scrollTop=n,n}))}var L=(0,m.useRef)({start:0,end:A.length}),j=(0,m.useRef)(),B=GD(DD(A,D),1)[0];j.current=B;var F=function(e,t,n){var r=MD(m.useState(0),2),i=r[0],o=r[1],a=(0,m.useRef)(new Map),s=(0,m.useRef)(new CD),u=(0,m.useRef)(0);function l(){u.current+=1;var e=u.current;Promise.resolve().then((function(){e===u.current&&(a.current.forEach((function(e,t){if(e&&e.offsetParent){var n=YT(e),r=n.offsetHeight;s.current.get(t)!==r&&s.current.set(t,n.offsetHeight)}})),o((function(e){return e+1})))}))}return[function(r,i){var o=e(r),s=a.current.get(o);i?(a.current.set(o,i),l()):a.current.delete(o),!s!==!i&&(i?null===t||void 0===t||t(r):null===n||void 0===n||n(r))},l,s.current,i]}(D,null,null),z=GD(F,4),Y=z[0],G=z[1],V=z[2],U=z[3],W=m.useMemo((function(){if(!x)return{scrollHeight:void 0,start:0,end:A.length-1,offset:void 0};var e;if(!w)return{scrollHeight:(null===(e=P.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:A.length-1,offset:void 0};for(var t,n,r,i=0,s=A.length,u=0;u<s;u+=1){var l=A[u],c=D(l),f=V.get(c),d=i+(void 0===f?a:f);d>=S&&void 0===t&&(t=u,n=i),d>S+o&&void 0===r&&(r=u),i=d}return void 0===t&&(t=0,n=0),void 0===r&&(r=A.length-1),{scrollHeight:i,start:t,end:r=Math.min(r+1,A.length),offset:n}}),[w,x,S,A,U,o]),Z=W.scrollHeight,H=W.start,X=W.end,K=W.offset;L.current.start=H,L.current.end=X;var q=Z-o,J=(0,m.useRef)(q);J.current=q;var $=S<=0,Q=S>=q,ee=LD($,Q);var te=function(e,t,n,r){var i=(0,m.useRef)(0),o=(0,m.useRef)(null),a=(0,m.useRef)(null),s=(0,m.useRef)(!1),u=LD(t,n);return[function(t){if(e){CT.cancel(o.current);var n=t.deltaY;i.current+=n,a.current=n,u(n)||(RD||t.preventDefault(),o.current=CT((function(){var e=s.current?10:1;r(i.current*e),i.current=0})))}},function(t){e&&(s.current=t.detail===a.current)}]}(x,$,Q,(function(e){R((function(t){return t+e}))})),ne=GD(te,2),re=ne[0],ie=ne[1];!function(e,t,n){var r,i=(0,m.useRef)(!1),o=(0,m.useRef)(0),a=(0,m.useRef)(null),s=(0,m.useRef)(null),u=function(e){if(i.current){var t=Math.ceil(e.touches[0].pageY),r=o.current-t;o.current=t,n(r)&&e.preventDefault(),clearInterval(s.current),s.current=setInterval((function(){(!n(r*=.9333333333333333,!0)||Math.abs(r)<=.1)&&clearInterval(s.current)}),16)}},l=function(){i.current=!1,r()},c=function(e){r(),1!==e.touches.length||i.current||(i.current=!0,o.current=Math.ceil(e.touches[0].pageY),a.current=e.target,a.current.addEventListener("touchmove",u),a.current.addEventListener("touchend",l))};r=function(){a.current&&(a.current.removeEventListener("touchmove",u),a.current.removeEventListener("touchend",l))},m.useLayoutEffect((function(){return e&&t.current.addEventListener("touchstart",c),function(){t.current.removeEventListener("touchstart",c),r(),clearInterval(s.current)}}),[e])}(x,N,(function(e,t){return!ee(e,t)&&(re({preventDefault:function(){},deltaY:e}),!0)})),(0,m.useLayoutEffect)((function(){function e(e){x&&e.preventDefault()}return N.current.addEventListener("wheel",re),N.current.addEventListener("DOMMouseScroll",ie),N.current.addEventListener("MozMousePixelScroll",e),function(){N.current.removeEventListener("wheel",re),N.current.removeEventListener("DOMMouseScroll",ie),N.current.removeEventListener("MozMousePixelScroll",e)}}),[x]);var oe=function(e,t,n,r,i,o,a,s){var u=m.useRef();return function(l){if(null!==l&&void 0!==l){if(CT.cancel(u.current),"number"===typeof l)a(l);else if(l&&"object"===ND(l)){var c,f=l.align;c="index"in l?l.index:t.findIndex((function(e){return i(e)===l.key}));var d=l.offset,h=void 0===d?0:d;!function s(l,d){if(!(l<0)&&e.current){var p=e.current.clientHeight,g=!1,v=d;if(p){for(var m=d||f,y=0,b=0,x=0,w=Math.min(t.length,c),E=0;E<=w;E+=1){var S=i(t[E]);b=y;var _=n.get(S);y=x=b+(void 0===_?r:_),E===c&&void 0===_&&(g=!0)}var T=null;switch(m){case"top":T=b-h;break;case"bottom":T=x-p+h;break;default:var k=e.current.scrollTop;b<k?v="top":x>k+p&&(v="bottom")}null!==T&&T!==e.current.scrollTop&&a(T)}u.current=CT((function(){g&&o(),s(l-1,v)}))}}(3)}}else s()}}(N,A,V,a,D,G,R,(function(){var e;null===(e=I.current)||void 0===e||e.delayHidden()}));m.useImperativeHandle(t,(function(){return{scrollTo:oe}})),(0,m.useLayoutEffect)((function(){if(y){var e=A.slice(H,X+1);y(e,A)}}),[H,X,A]);var ae=function(e,t,n,r,i,o){var a=o.getKey;return e.slice(t,n+1).map((function(e,n){var o=i(e,t+n,{}),s=a(e);return m.createElement(_D,{key:s,setRef:function(t){return r(e,t)}},o)}))}(A,H,X,Y,f,O),se=null;return o&&(se=zD(YD({},u?"height":"maxHeight",o),ZD),x&&(se.overflowY="hidden",k&&(se.pointerEvents="none"))),m.createElement("div",BD({style:zD(zD({},l),{},{position:"relative"}),className:M},b),m.createElement(g,{className:"".concat(r,"-holder"),style:se,ref:N,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==S&&R(t),null===v||void 0===v||v(e)}},m.createElement(hD,{prefixCls:r,height:Z,offset:K,onInnerResize:G,ref:P},ae)),x&&m.createElement(SD,{ref:I,prefixCls:r,scrollTop:S,height:o,scrollHeight:Z,count:A.length,onScroll:function(e){R(e)},onStartMove:function(){C(!0)},onStopMove:function(){C(!1)}}))}var XD=m.forwardRef(HD);XD.displayName="List";var KD=XD;var qD=m.createContext(null),JD=["disabled","title","children","style","className"],$D=function(e,t){var n=m.useContext(rD),r=n.prefixCls,i=n.id,o=n.open,a=n.multiple,s=n.searchValue,u=n.toggleOpen,l=n.notFoundContent,c=n.onPopupScroll,f=m.useContext(qD),d=f.flattenOptions,h=f.onActiveValue,p=f.defaultActiveFirstOption,g=f.onSelect,v=f.menuItemSelectedIcon,y=f.rawValues,b=f.fieldNames,x=f.virtual,w=f.listHeight,E=f.listItemHeight,S="".concat(r,"-item"),_=yT((function(){return d}),[o,d],(function(e,t){return t[0]&&e[1]!==t[1]})),T=m.useRef(null),k=function(e){e.preventDefault()},C=function(e){T.current&&T.current.scrollTo({index:e})},M=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=_.length,r=0;r<n;r+=1){var i=(e+r*t+n)%n,o=_[i],a=o.group,s=o.data;if(!a&&!s.disabled)return i}return-1},A=m.useState((function(){return M(0)})),N=(0,It.Z)(A,2),P=N[0],I=N[1],D=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];I(e);var n={source:t?"keyboard":"mouse"},r=_[e];r?h(r.value,e,n):h(null,-1,n)};(0,m.useEffect)((function(){D(!1!==p?M(0):-1)}),[_.length,s]),(0,m.useEffect)((function(){var e,t=setTimeout((function(){if(!a&&o&&1===y.size){var e=Array.from(y)[0],t=_.findIndex((function(t){return t.data.value===e}));-1!==t&&(D(t),C(t))}}));o&&(null===(e=T.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[o,s]);var O=function(e){void 0!==e&&g(e,{selected:!y.has(e)}),a||u(!1)};if(m.useImperativeHandle(t,(function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case hC.N:case hC.P:case hC.UP:case hC.DOWN:var r=0;if(t===hC.UP?r=-1:t===hC.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===hC.N?r=1:t===hC.P&&(r=-1)),0!==r){var i=M(P+r,r);C(i),D(i,!0)}break;case hC.ENTER:var a=_[P];a&&!a.data.disabled?O(a.value):O(void 0),o&&e.preventDefault();break;case hC.ESC:u(!1),o&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){C(e)}}})),0===_.length)return m.createElement("div",{role:"listbox",id:"".concat(i,"_list"),className:"".concat(S,"-empty"),onMouseDown:k},l);var R=Object.keys(b).map((function(e){return b[e]})),L=function(e){return e.label},j=function(e){var t=_[e];if(!t)return null;var n=t.data||{},r=n.value,o=t.group,a=_I(n,!0),s=L(t);return t?m.createElement("div",wt({"aria-label":"string"!==typeof s||o?null:s},a,{key:e,role:o?"presentation":"option",id:"".concat(i,"_list_").concat(e),"aria-selected":y.has(r)}),r):null};return m.createElement(m.Fragment,null,m.createElement("div",{role:"listbox",id:"".concat(i,"_list"),style:{height:0,width:0,overflow:"hidden"}},j(P-1),j(P),j(P+1)),m.createElement(KD,{itemKey:"key",ref:T,data:_,height:w,itemHeight:E,fullHeight:!1,onMouseDown:k,onScroll:c,virtual:x},(function(e,t){var n,r=e.group,i=e.groupOption,o=e.data,a=e.label,s=e.value,u=o.key;if(r)return m.createElement("div",{className:Ot()(S,"".concat(S,"-group"))},void 0!==a?a:u);var l=o.disabled,c=o.title,f=(o.children,o.style),d=o.className,h=hn(gn(o,JD),R),p=y.has(s),g="".concat(S,"-option"),b=Ot()(S,g,d,(n={},(0,xe.Z)(n,"".concat(g,"-grouped"),i),(0,xe.Z)(n,"".concat(g,"-active"),P===t&&!l),(0,xe.Z)(n,"".concat(g,"-disabled"),l),(0,xe.Z)(n,"".concat(g,"-selected"),p),n)),x=L(e),w=!v||"function"===typeof v||p,E="number"===typeof x?x:x||s,_="string"===typeof E||"number"===typeof E?E.toString():void 0;return void 0!==c&&(_=c),m.createElement("div",wt({},h,{"aria-selected":p,className:b,title:_,onMouseMove:function(){P===t||l||D(t)},onClick:function(){l||O(s)},style:f}),m.createElement("div",{className:"".concat(g,"-content")},E),m.isValidElement(v)||p,w&&m.createElement(UI,{className:"".concat(S,"-option-state"),customizeIcon:v,customizeIconProps:{isSelected:p}},p?"\u2713":null))})))},QD=m.forwardRef($D);QD.displayName="OptionList";var eO=QD,tO=function(){return null};tO.isSelectOption=!0;var nO=tO,rO=function(){return null};rO.isSelectOptGroup=!0;var iO=rO,oO=["children","value"],aO=["children"];function sO(e){var t=e.key,n=e.props,r=n.children,i=n.value;return Ee({key:t,value:void 0!==i?i:t,children:r},gn(n,oO))}function uO(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return EP(e).map((function(e,n){if(!m.isValidElement(e)||!e.type)return null;var r=e.type.isSelectOptGroup,i=e.key,o=e.props,a=o.children,s=gn(o,aO);return t||!r?sO(e):Ee(Ee({key:"__RC_SELECT_GRP__".concat(null===i?n:i,"__"),label:i},s),{},{options:uO(a)})})).filter((function(e){return e}))}function lO(e,t,n){return m.useMemo((function(){var r=e;!e&&(r=uO(t));var i=new Map,o=new Map;return function e(t){for(var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=0;a<t.length;a+=1){var s=t[a];!s[n.options]||r?(i.set(s[n.value],s),o.set(s[n.label],s)):e(s[n.options],!0)}}(r),{options:r,valueOptions:i,labelOptions:o}}),[e,t,n])}var cO=0,fO=Hn();function dO(e){var t=m.useState(),n=(0,It.Z)(t,2),r=n[0],i=n[1];return m.useEffect((function(){i("rc_select_".concat(function(){var e;return fO?(e=cO,cO+=1):e="TEST_OR_SSR",e}()))}),[]),e||r}function hO(e){var t=m.useRef();t.current=e;var n=m.useCallback((function(){return t.current.apply(t,arguments)}),[]);return n}function pO(e,t){return XI(e).join("").toUpperCase().includes(t)}var gO=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],vO=["inputValue"];var mO=m.forwardRef((function(e,t){var n=e.id,r=e.mode,i=e.prefixCls,o=void 0===i?"rc-select":i,a=e.backfill,s=e.fieldNames,u=e.inputValue,l=e.searchValue,c=e.onSearch,f=e.autoClearSearchValue,d=void 0===f||f,h=e.onSelect,p=e.onDeselect,g=e.dropdownMatchSelectWidth,v=void 0===g||g,y=e.filterOption,b=e.filterSort,x=e.optionFilterProp,w=e.optionLabelProp,E=e.options,S=e.children,_=e.defaultActiveFirstOption,T=e.menuItemSelectedIcon,k=e.virtual,C=e.listHeight,M=void 0===C?200:C,A=e.listItemHeight,N=void 0===A?20:A,P=e.value,I=e.defaultValue,D=e.labelInValue,O=e.onChange,R=gn(e,gO),L=dO(n),j=aD(r),B=!(E||!S),F=m.useMemo((function(){return(void 0!==y||"combobox"!==r)&&y}),[y,r]),z=m.useMemo((function(){return pI(s,B)}),[JSON.stringify(s),B]),Y=fC("",{value:void 0!==l?l:u,postState:function(e){return e||""}}),G=(0,It.Z)(Y,2),V=G[0],U=G[1],W=lO(E,S,z),Z=W.valueOptions,H=W.labelOptions,X=W.options,K=m.useCallback((function(e){return XI(e).map((function(e){var t,n,r,i,o;(function(e){return!e||"object"!==(0,mn.Z)(e)})(e)?t=e:(r=e.key,n=e.label,t=null!==(o=e.value)&&void 0!==o?o:r);var a,s=Z.get(t);s&&(void 0===n&&(n=null===s||void 0===s?void 0:s[w||z.label]),void 0===r&&(r=null!==(a=null===s||void 0===s?void 0:s.key)&&void 0!==a?a:t),i=null===s||void 0===s?void 0:s.disabled);return{label:n,value:t,key:r,disabled:i}}))}),[z,w,Z]),q=fC(I,{value:P}),J=(0,It.Z)(q,2),$=J[0],Q=J[1],ee=function(e,t){var n=m.useRef({values:new Map,options:new Map}),r=m.useMemo((function(){var r=n.current,i=r.values,o=r.options,a=e.map((function(e){var t;return void 0===e.label?Ee(Ee({},e),{},{label:null===(t=i.get(e.value))||void 0===t?void 0:t.label}):e})),s=new Map,u=new Map;return a.forEach((function(e){s.set(e.value,e),u.set(e.value,t.get(e.value)||o.get(e.value))})),n.current.values=s,n.current.options=u,a}),[e,t]);return[r,m.useCallback((function(e){return t.get(e)||n.current.options.get(e)}),[t])]}(m.useMemo((function(){var e,t=K($);return"combobox"!==r||(null===(e=t[0])||void 0===e?void 0:e.value)?t:[]}),[$,K,r]),Z),te=(0,It.Z)(ee,2),ne=te[0],re=te[1],ie=m.useMemo((function(){if(!r&&1===ne.length){var e=ne[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return ne.map((function(e){var t;return Ee(Ee({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[r,ne]),oe=m.useMemo((function(){return new Set(ne.map((function(e){return e.value})))}),[ne]);m.useEffect((function(){if("combobox"===r){var e,t=null===(e=ne[0])||void 0===e?void 0:e.value;void 0!==t&&null!==t&&U(String(t))}}),[ne]);var ae=hO((function(e,t){var n,r=null!==t&&void 0!==t?t:e;return n={},(0,xe.Z)(n,z.value,e),(0,xe.Z)(n,z.label,r),n})),se=m.useMemo((function(){if("tags"!==r)return X;var e=(0,Pt.Z)(X);return(0,Pt.Z)(ne).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var n=t.value;(function(e){return Z.has(e)})(n)||e.push(ae(n,t.label))})),e}),[ae,X,Z,ne,r]),ue=function(e,t,n,r,i){return m.useMemo((function(){if(!n||!1===r)return e;var o=t.options,a=t.label,s=t.value,u=[],l="function"===typeof r,c=n.toUpperCase(),f=l?r:function(e,t){return i?pO(t[i],c):t[o]?pO(t["children"!==a?a:"label"],c):pO(t[s],c)},d=l?function(e){return gI(e)}:function(e){return e};return e.forEach((function(e){if(e[o])if(f(n,d(e)))u.push(e);else{var t=e[o].filter((function(e){return f(n,d(e))}));t.length&&u.push(Ee(Ee({},e),{},(0,xe.Z)({},o,t)))}else f(n,d(e))&&u.push(e)})),u}),[e,r,i,n,t])}(se,z,V,F,x),le=m.useMemo((function(){return"tags"!==r||!V||ue.some((function(e){return e[x||"value"]===V}))?ue:[ae(V)].concat((0,Pt.Z)(ue))}),[ae,x,r,ue,V]),ce=m.useMemo((function(){return b?(0,Pt.Z)(le).sort((function(e,t){return b(e,t)})):le}),[le,b]),fe=m.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,i=[],o=pI(n,!1),a=o.label,s=o.value,u=o.options;function l(e,t){e.forEach((function(e){var n=e[a];if(t||!(u in e)){var o=e[s];i.push({key:hI(e,i.length),groupOption:t,data:e,label:n,value:o})}else{var c=n;void 0===c&&r&&(c=e.label),i.push({key:hI(e,i.length),group:!0,data:e,label:c}),l(e[u],!0)}}))}return l(e,!1),i}(ce,{fieldNames:z,childrenAsData:B})}),[ce,z,B]),de=function(e){var t=K(e);if(Q(t),O&&(t.length!==ne.length||t.some((function(e,t){var n;return(null===(n=ne[t])||void 0===n?void 0:n.value)!==(null===e||void 0===e?void 0:e.value)})))){var n=D?t:t.map((function(e){return e.value})),r=t.map((function(e){return gI(re(e.value))}));O(j?n:n[0],j?r:r[0])}},he=m.useState(null),pe=(0,It.Z)(he,2),ge=pe[0],ve=pe[1],me=m.useState(0),ye=(0,It.Z)(me,2),be=ye[0],we=ye[1],Se=void 0!==_?_:"combobox"!==r,_e=m.useCallback((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.source,o=void 0===i?"keyboard":i;we(t),a&&"combobox"===r&&null!==e&&"keyboard"===o&&ve(String(e))}),[a,r]),Te=function(e,t){var n=function(){var t,n=re(e);return[D?{label:null===n||void 0===n?void 0:n[z.label],value:e,key:null!==(t=n.key)&&void 0!==t?t:e}:e,gI(n)]};if(t&&h){var r=n(),i=(0,It.Z)(r,2),o=i[0],a=i[1];h(o,a)}else if(!t&&p){var s=n(),u=(0,It.Z)(s,2),l=u[0],c=u[1];p(l,c)}},ke=hO((function(e,t){var n,i=!j||t.selected;n=i?j?[].concat((0,Pt.Z)(ne),[e]):[e]:ne.filter((function(t){return t.value!==e})),de(n),Te(e,i),"combobox"===r?ve(""):aD&&!d||(U(""),ve(""))})),Ce=m.useMemo((function(){var e=!1!==k&&!1!==v;return Ee(Ee({},W),{},{flattenOptions:fe,onActiveValue:_e,defaultActiveFirstOption:Se,onSelect:ke,menuItemSelectedIcon:T,rawValues:oe,fieldNames:z,virtual:e,listHeight:M,listItemHeight:N,childrenAsData:B})}),[W,fe,_e,Se,ke,T,oe,z,k,v,M,N,B]);return m.createElement(qD.Provider,{value:Ce},m.createElement(uD,wt({},R,{id:L,prefixCls:o,ref:t,omitDomProps:vO,mode:r,displayValues:ie,onDisplayValuesChange:function(e,t){de(e),"remove"!==t.type&&"clear"!==t.type||t.values.forEach((function(e){Te(e.value,!1)}))},searchValue:V,onSearch:function(e,t){if(U(e),ve(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===r&&de(e),null===c||void 0===c||c(e));else{var n=(e||"").trim();if(n){var i=Array.from(new Set([].concat((0,Pt.Z)(oe),[n])));de(i),Te(n,!0),U("")}}},onSearchSplit:function(e){var t=e;"tags"!==r&&(t=e.map((function(e){var t=H.get(e);return null===t||void 0===t?void 0:t.value})).filter((function(e){return void 0!==e})));var n=Array.from(new Set([].concat((0,Pt.Z)(oe),(0,Pt.Z)(t))));de(n),n.forEach((function(e){Te(e,!0)}))},dropdownMatchSelectWidth:v,OptionList:eO,emptyOptions:!fe.length,activeValue:ge,activeDescendantId:"".concat(L,"_list_").concat(be)})))}));var yO=mO;yO.Option=nO,yO.OptGroup=iO;var bO=yO,xO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},wO=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:xO}))};wO.displayName="DownOutlined";var EO=m.forwardRef(wO),SO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},_O=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:SO}))};_O.displayName="CheckOutlined";var TO=m.forwardRef(_O);var kO=function(){return{height:0,opacity:0}},CO=function(e){return{height:e.scrollHeight,opacity:1}},MO=function(e,t){return!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName},AO={motionName:"ant-motion-collapse",onAppearStart:kO,onEnterStart:kO,onAppearActive:CO,onEnterActive:CO,onLeaveStart:function(e){return{height:e?e.offsetHeight:0}},onLeaveActive:kO,onAppearEnd:MO,onEnterEnd:MO,onLeaveEnd:MO,motionDeadline:500},NO=function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)},PO=AO,IO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},DO="SECRET_COMBOBOX_MODE_DO_NOT_USE",OO=function(e,t){var n,r,i=e.prefixCls,o=e.bordered,a=void 0===o||o,s=e.className,u=e.getPopupContainer,l=e.dropdownClassName,c=e.listHeight,f=void 0===c?256:c,d=e.listItemHeight,h=void 0===d?24:d,p=e.size,g=e.notFoundContent,v=IO(e,["prefixCls","bordered","className","getPopupContainer","dropdownClassName","listHeight","listItemHeight","size","notFoundContent"]),y=m.useContext(tn),b=y.getPopupContainer,x=y.getPrefixCls,w=y.renderEmpty,E=y.direction,S=y.virtual,_=y.dropdownMatchSelectWidth,T=m.useContext(zT),k=x("select",i),C=x(),M=m.useMemo((function(){var e=v.mode;if("combobox"!==e)return e===DO?"combobox":e}),[v.mode]),A="multiple"===M||"tags"===M;r=void 0!==g?g:"combobox"===M?null:w("Select");var N=function(e){var t=e.suffixIcon,n=e.clearIcon,r=e.menuItemSelectedIcon,i=e.removeIcon,o=e.loading,a=e.multiple,s=e.prefixCls,u=n;n||(u=m.createElement(cC,null));var l=null;if(void 0!==t)l=t;else if(o)l=m.createElement(Pk,{spin:!0});else{var c="".concat(s,"-suffix");l=function(e){var t=e.open,n=e.showSearch;return t&&n?m.createElement(yP,{className:c}):m.createElement(EO,{className:c})}}return{clearIcon:u,suffixIcon:l,itemIcon:void 0!==r?r:a?m.createElement(TO,null):null,removeIcon:void 0!==i?i:m.createElement(Wk,null)}}(wt(wt({},v),{multiple:A,prefixCls:k})),P=N.suffixIcon,I=N.itemIcon,D=N.removeIcon,O=N.clearIcon,R=hn(v,["suffixIcon","itemIcon"]),L=Ot()(l,(0,xe.Z)({},"".concat(k,"-dropdown-").concat(E),"rtl"===E)),j=p||T,B=Ot()((n={},(0,xe.Z)(n,"".concat(k,"-lg"),"large"===j),(0,xe.Z)(n,"".concat(k,"-sm"),"small"===j),(0,xe.Z)(n,"".concat(k,"-rtl"),"rtl"===E),(0,xe.Z)(n,"".concat(k,"-borderless"),!a),n),s);return m.createElement(bO,wt({ref:t,virtual:S,dropdownMatchSelectWidth:_},R,{transitionName:NO(C,"slide-up",v.transitionName),listHeight:f,listItemHeight:h,mode:M,prefixCls:k,direction:E,inputIcon:P,menuItemSelectedIcon:I,removeIcon:D,clearIcon:O,notFoundContent:r,className:B,getPopupContainer:u||b,dropdownClassName:L}))},RO=m.forwardRef(OO);RO.SECRET_COMBOBOX_MODE_DO_NOT_USE=DO,RO.Option=nO,RO.OptGroup=iO;var LO,jO=RO,BO=["xxl","xl","lg","md","sm","xs"],FO={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},zO=new Map,YO=-1,GO={},VO={matchHandlers:{},dispatch:function(e){return GO=e,zO.forEach((function(e){return e(GO)})),zO.size>=1},subscribe:function(e){return zO.size||this.register(),YO+=1,zO.set(YO,e),e(GO),YO},unsubscribe:function(e){zO.delete(e),zO.size||this.unregister()},unregister:function(){var e=this;Object.keys(FO).forEach((function(t){var n=FO[t],r=e.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),zO.clear()},register:function(){var e=this;Object.keys(FO).forEach((function(t){var n=FO[t],r=function(n){var r=n.matches;e.dispatch(wt(wt({},GO),(0,xe.Z)({},t,r)))},i=window.matchMedia(n);i.addListener(r),e.matchHandlers[n]={mql:i,listener:r},r(i)}))}},UO=VO,WO=function(){if(!Hn()||!window.document.documentElement)return!1;if(void 0!==LO)return LO;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),LO=1===e.scrollHeight,document.body.removeChild(e),LO},ZO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},HO=(jT("top","middle","bottom","stretch"),jT("start","end","center","space-around","space-between"),m.forwardRef((function(e,t){var n,r=e.prefixCls,i=e.justify,o=e.align,a=e.className,s=e.style,u=e.children,l=e.gutter,c=void 0===l?0:l,f=e.wrap,d=ZO(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),h=m.useContext(tn),p=h.getPrefixCls,g=h.direction,v=m.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),y=(0,It.Z)(v,2),b=y[0],x=y[1],w=function(){var e=m.useState(!1),t=(0,It.Z)(e,2),n=t[0],r=t[1];return m.useEffect((function(){r(WO())}),[]),n}(),E=m.useRef(c);m.useEffect((function(){var e=UO.subscribe((function(e){var t=E.current||0;(!Array.isArray(t)&&"object"===(0,mn.Z)(t)||Array.isArray(t)&&("object"===(0,mn.Z)(t[0])||"object"===(0,mn.Z)(t[1])))&&x(e)}));return function(){return UO.unsubscribe(e)}}),[]);var S=p("row",r),_=function(){var e=[0,0];return(Array.isArray(c)?c:[c,0]).forEach((function(t,n){if("object"===(0,mn.Z)(t))for(var r=0;r<BO.length;r++){var i=BO[r];if(b[i]&&void 0!==t[i]){e[n]=t[i];break}}else e[n]=t||0})),e}(),T=Ot()(S,(n={},(0,xe.Z)(n,"".concat(S,"-no-wrap"),!1===f),(0,xe.Z)(n,"".concat(S,"-").concat(i),i),(0,xe.Z)(n,"".concat(S,"-").concat(o),o),(0,xe.Z)(n,"".concat(S,"-rtl"),"rtl"===g),n),a),k={},C=_[0]>0?_[0]/-2:void 0,M=_[1]>0?_[1]/-2:void 0;if(C&&(k.marginLeft=C,k.marginRight=C),w){var A=(0,It.Z)(_,2);k.rowGap=A[1]}else M&&(k.marginTop=M,k.marginBottom=M);var N=(0,It.Z)(_,2),P=N[0],I=N[1],D=m.useMemo((function(){return{gutter:[P,I],wrap:f,supportFlexGap:w}}),[P,I,f,w]);return m.createElement(nI.Provider,{value:D},m.createElement("div",wt({},d,{className:T,style:wt(wt({},k),s),ref:t}),u))})));HO.displayName="Row";var XO=HO,KO=Nt,qO=n(7762),JO={data:"Type of Data",problem:"Type of Problem",model:"Type of Model to be Explained",task:"Type of Task",explanation:"Type of Explanation",method:"Method used to explain"};var $O=rP.RangePicker,QO=tI.Search;function eR(e){var t=e.placeholder,n=e.enumerator,r=e.handleChange;return(0,aT.jsx)(aI,{span:4,children:(0,aT.jsx)(jO,{mode:"multiple",style:{width:"100%"},placeholder:t,defaultValue:[],onChange:r,optionLabelProp:"label",children:Object.values(n).map((function(e,t){return(0,aT.jsx)(jO,{value:e,children:e},t)}))})})}var tR=function(){var e=kt();return(0,aT.jsxs)(XO,{justify:"end",gutter:4,style:{marginTop:10},children:[(0,aT.jsx)(eR,{placeholder:"Type of Data",enumerator:qe,handleChange:function(t){e(dt.setData(t))}}),(0,aT.jsx)(eR,{placeholder:"Type of Problem",enumerator:$e,handleChange:function(t){e(dt.setProblem(t))}}),(0,aT.jsx)(eR,{placeholder:"Type of Model to be Explained",enumerator:Qe,handleChange:function(t){e(dt.setModel(t))}}),(0,aT.jsx)(eR,{placeholder:"Type of Task",enumerator:et,handleChange:function(t){e(dt.setTask(t))}}),(0,aT.jsx)(eR,{placeholder:"Type of Explanation",enumerator:Je,handleChange:function(t){e(dt.setExplanation(t))}}),(0,aT.jsx)(eR,{placeholder:"Method used to explain",enumerator:tt,handleChange:function(t){e(dt.setMethod(t))}}),(0,aT.jsx)(aI,{children:(0,aT.jsx)($O,{})}),(0,aT.jsx)(aI,{children:(0,aT.jsx)(QO,{placeholder:"input search text",style:{width:200}})})]})},nR=["children","locked"],rR=m.createContext(null);function iR(e){var t=e.children,n=e.locked,r=gn(e,nR),i=m.useContext(rR),o=yT((function(){return function(e,t){var n=Ee({},e);return Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}(i,r)}),[i,r],(function(e,t){return!n&&(e[0]!==t[0]||!DN()(e[1],t[1]))}));return m.createElement(rR.Provider,{value:o},t)}function oR(e,t,n,r){var i=m.useContext(rR),o=i.activeKey,a=i.onActive,s=i.onInactive,u={active:o===e};return t||(u.onMouseEnter=function(t){null===n||void 0===n||n({key:e,domEvent:t}),a(e)},u.onMouseLeave=function(t){null===r||void 0===r||r({key:e,domEvent:t}),s(e)}),u}var aR=["item"];function sR(e){var t=e.item,n=gn(e,aR);return Object.defineProperty(n,"item",{get:function(){return Zn(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function uR(e){var t=e.icon,n=e.props,r=e.children;return("function"===typeof t?m.createElement(t,Ee({},n)):t)||r||null}function lR(e){var t=m.useContext(rR),n=t.mode,r=t.rtl,i=t.inlineIndent;if("inline"!==n)return null;return r?{paddingRight:e*i}:{paddingLeft:e*i}}var cR=[],fR=m.createContext(null);function dR(){return m.useContext(fR)}var hR=m.createContext(cR);function pR(e){var t=m.useContext(hR);return m.useMemo((function(){return void 0!==e?[].concat((0,Pt.Z)(t),[e]):t}),[t,e])}var gR=m.createContext(null),vR=m.createContext(null);function mR(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function yR(e){return mR(m.useContext(vR),e)}var bR=m.createContext({}),xR=["title","attribute","elementRef"],wR=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],ER=["active"],SR=function(e){(0,jt.Z)(n,e);var t=(0,Bt.Z)(n);function n(){return(0,Rt.Z)(this,n),t.apply(this,arguments)}return(0,Lt.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,r=e.elementRef,i=hn(gn(e,xR),["eventKey"]);return Zn(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),m.createElement(VI.Item,wt({},n,{title:"string"===typeof t?t:void 0},i,{ref:r}))}}]),n}(m.Component),_R=function(e){var t,n=e.style,r=e.className,i=e.eventKey,o=(e.warnKey,e.disabled),a=e.itemIcon,s=e.children,u=e.role,l=e.onMouseEnter,c=e.onMouseLeave,f=e.onClick,d=e.onKeyDown,h=e.onFocus,p=gn(e,wR),g=yR(i),v=m.useContext(rR),y=v.prefixCls,b=v.onItemClick,x=v.disabled,w=v.overflowDisabled,E=v.itemIcon,S=v.selectedKeys,_=v.onActive,T=m.useContext(bR)._internalRenderMenuItem,k="".concat(y,"-item"),C=m.useRef(),M=m.useRef(),A=x||o,N=pR(i);var P=function(e){return{key:i,keyPath:(0,Pt.Z)(N).reverse(),item:C.current,domEvent:e}},I=a||E,D=oR(i,A,l,c),O=D.active,R=gn(D,ER),L=S.includes(i),j=lR(N.length),B={};"option"===e.role&&(B["aria-selected"]=L);var F=m.createElement(SR,wt({ref:C,elementRef:M,role:null===u?"none":u||"menuitem",tabIndex:o?null:-1,"data-menu-id":w&&g?null:g},p,R,B,{component:"li","aria-disabled":o,style:Ee(Ee({},j),n),className:Ot()(k,(t={},(0,xe.Z)(t,"".concat(k,"-active"),O),(0,xe.Z)(t,"".concat(k,"-selected"),L),(0,xe.Z)(t,"".concat(k,"-disabled"),A),t),r),onClick:function(e){if(!A){var t=P(e);null===f||void 0===f||f(sR(t)),b(t)}},onKeyDown:function(e){if(null===d||void 0===d||d(e),e.which===hC.ENTER){var t=P(e);null===f||void 0===f||f(sR(t)),b(t)}},onFocus:function(e){_(i),null===h||void 0===h||h(e)}}),s,m.createElement(uR,{props:Ee(Ee({},e),{},{isSelected:L}),icon:I}));return T&&(F=T(F,e)),F};var TR=function(e){var t=e.eventKey,n=dR(),r=pR(t);return m.useEffect((function(){if(n)return n.registerPath(t,r),function(){n.unregisterPath(t,r)}}),[r]),n?null:m.createElement(_R,e)};function kR(e,t){return EP(e).map((function(e,n){if(m.isValidElement(e)){var r,i,o=e.key,a=null!==(r=null===(i=e.props)||void 0===i?void 0:i.eventKey)&&void 0!==r?r:o;(null===a||void 0===a)&&(a="tmp_key-".concat([].concat((0,Pt.Z)(t),[n]).join("-")));var s={key:a,eventKey:a};return m.cloneElement(e,s)}return e}))}function CR(e){var t=m.useRef(e);t.current=e;var n=m.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return e?n:void 0}var MR=["className","children"],AR=function(e,t){var n=e.className,r=e.children,i=gn(e,MR),o=m.useContext(rR),a=o.prefixCls,s=o.mode,u=o.rtl;return m.createElement("ul",wt({className:Ot()(a,u&&"".concat(a,"-rtl"),"".concat(a,"-sub"),"".concat(a,"-").concat("inline"===s?"inline":"vertical"),n)},i,{"data-menu-list":!0,ref:t}),r)},NR=m.forwardRef(AR);NR.displayName="SubMenuList";var PR=NR,IR={adjustX:1,adjustY:1},DR={topLeft:{points:["bl","tl"],overflow:IR,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:IR,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:IR,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:IR,offset:[4,0]}},OR={topLeft:{points:["bl","tl"],overflow:IR,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:IR,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:IR,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:IR,offset:[4,0]}};function RR(e,t,n){return t||(n?n[e]||n.other:void 0)}var LR={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function jR(e){var t=e.prefixCls,n=e.visible,r=e.children,i=e.popup,o=e.popupClassName,a=e.popupOffset,s=e.disabled,u=e.mode,l=e.onVisibleChange,c=m.useContext(rR),f=c.getPopupContainer,d=c.rtl,h=c.subMenuOpenDelay,p=c.subMenuCloseDelay,g=c.builtinPlacements,v=c.triggerSubMenuAction,y=c.forceSubMenuRender,b=c.motion,x=c.defaultMotions,w=m.useState(!1),E=(0,It.Z)(w,2),S=E[0],_=E[1],T=Ee(Ee({},d?OR:DR),g),k=LR[u],C=Ee(Ee({},RR(u,b,x)),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),M=m.useRef();return m.useEffect((function(){return M.current=CT((function(){_(n)})),function(){CT.cancel(M.current)}}),[n]),m.createElement(CN,{prefixCls:t,popupClassName:Ot()("".concat(t,"-popup"),(0,xe.Z)({},"".concat(t,"-rtl"),d),o),stretch:"horizontal"===u?"minWidth":null,getPopupContainer:f,builtinPlacements:T,popupPlacement:k,popupVisible:S,popup:i,popupAlign:a&&{offset:a},action:s?[]:[v],mouseEnterDelay:h,mouseLeaveDelay:p,onPopupVisibleChange:l,forceRender:y,popupMotion:C},r)}function BR(e){var t=e.id,n=e.open,r=e.keyPath,i=e.children,o="inline",a=m.useContext(rR),s=a.prefixCls,u=a.forceSubMenuRender,l=a.motion,c=a.defaultMotions,f=a.mode,d=m.useRef(!1);d.current=f===o;var h=m.useState(!d.current),p=(0,It.Z)(h,2),g=p[0],v=p[1],y=!!d.current&&n;m.useEffect((function(){d.current&&v(!1)}),[f]);var b=Ee({},RR(o,l,c));r.length>1&&(b.motionAppear=!1);var x=b.onVisibleChanged;return b.onVisibleChanged=function(e){return d.current||e||v(!0),null===x||void 0===x?void 0:x(e)},g?null:m.createElement(iR,{mode:o,locked:!d.current},m.createElement(Mk,wt({visible:y},b,{forceRender:u,removeOnLeave:!1,leavedClassName:"".concat(s,"-hidden")}),(function(e){var n=e.className,r=e.style;return m.createElement(PR,{id:t,className:n,style:r},i)})))}var FR=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],zR=["active"],YR=function(e){var t,n=e.style,r=e.className,i=e.title,o=e.eventKey,a=(e.warnKey,e.disabled),s=e.internalPopupClose,u=e.children,l=e.itemIcon,c=e.expandIcon,f=e.popupClassName,d=e.popupOffset,h=e.onClick,p=e.onMouseEnter,g=e.onMouseLeave,v=e.onTitleClick,y=e.onTitleMouseEnter,b=e.onTitleMouseLeave,x=gn(e,FR),w=yR(o),E=m.useContext(rR),S=E.prefixCls,_=E.mode,T=E.openKeys,k=E.disabled,C=E.overflowDisabled,M=E.activeKey,A=E.selectedKeys,N=E.itemIcon,P=E.expandIcon,I=E.onItemClick,D=E.onOpenChange,O=E.onActive,R=m.useContext(bR)._internalRenderSubMenuItem,L=m.useContext(gR).isSubPathKey,j=pR(),B="".concat(S,"-submenu"),F=k||a,z=m.useRef(),Y=m.useRef();var G=l||N,V=c||P,U=T.includes(o),W=!C&&U,Z=L(A,o),H=oR(o,F,y,b),X=H.active,K=gn(H,zR),q=m.useState(!1),J=(0,It.Z)(q,2),$=J[0],Q=J[1],ee=function(e){F||Q(e)},te=m.useMemo((function(){return X||"inline"!==_&&($||L([M],o))}),[_,X,M,$,o,L]),ne=lR(j.length),re=CR((function(e){null===h||void 0===h||h(sR(e)),I(e)})),ie=w&&"".concat(w,"-popup"),oe=m.createElement("div",wt({role:"menuitem",style:ne,className:"".concat(B,"-title"),tabIndex:F?null:-1,ref:z,title:"string"===typeof i?i:null,"data-menu-id":C&&w?null:w,"aria-expanded":W,"aria-haspopup":!0,"aria-controls":ie,"aria-disabled":F,onClick:function(e){F||(null===v||void 0===v||v({key:o,domEvent:e}),"inline"===_&&D(o,!U))},onFocus:function(){O(o)}},K),i,m.createElement(uR,{icon:"horizontal"!==_?V:null,props:Ee(Ee({},e),{},{isOpen:W,isSubMenu:!0})},m.createElement("i",{className:"".concat(B,"-arrow")}))),ae=m.useRef(_);if("inline"!==_&&(ae.current=j.length>1?"vertical":_),!C){var se=ae.current;oe=m.createElement(jR,{mode:se,prefixCls:B,visible:!s&&W&&"inline"!==_,popupClassName:f,popupOffset:d,popup:m.createElement(iR,{mode:"horizontal"===se?"vertical":se},m.createElement(PR,{id:ie,ref:Y},u)),disabled:F,onVisibleChange:function(e){"inline"!==_&&D(o,e)}},oe)}var ue=m.createElement(VI.Item,wt({role:"none"},x,{component:"li",style:n,className:Ot()(B,"".concat(B,"-").concat(_),r,(t={},(0,xe.Z)(t,"".concat(B,"-open"),W),(0,xe.Z)(t,"".concat(B,"-active"),te),(0,xe.Z)(t,"".concat(B,"-selected"),Z),(0,xe.Z)(t,"".concat(B,"-disabled"),F),t)),onMouseEnter:function(e){ee(!0),null===p||void 0===p||p({key:o,domEvent:e})},onMouseLeave:function(e){ee(!1),null===g||void 0===g||g({key:o,domEvent:e})}}),oe,!C&&m.createElement(BR,{id:ie,open:W,keyPath:j},u));return R&&(ue=R(ue,e)),m.createElement(iR,{onItemClick:re,mode:"horizontal"===_?"vertical":_,itemIcon:G,expandIcon:V},ue)};function GR(e){var t,n=e.eventKey,r=e.children,i=pR(n),o=kR(r,i),a=dR();return m.useEffect((function(){if(a)return a.registerPath(n,i),function(){a.unregisterPath(n,i)}}),[i]),t=a?o:m.createElement(YR,e,o),m.createElement(hR.Provider,{value:i},t)}function VR(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(SC(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),i=e.getAttribute("tabindex"),o=Number(i),a=null;return i&&!Number.isNaN(o)?a=o:r&&null===a&&(a=0),r&&e.disabled&&(a=null),null!==a&&(a>=0||t&&a<0)}return!1}function UR(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,Pt.Z)(e.querySelectorAll("*")).filter((function(e){return VR(e,t)}));return VR(e,t)&&n.unshift(e),n}var WR=hC.LEFT,ZR=hC.RIGHT,HR=hC.UP,XR=hC.DOWN,KR=hC.ENTER,qR=hC.ESC,JR=hC.HOME,$R=hC.END,QR=[HR,XR,WR,ZR];function eL(e,t){return UR(e,!0).filter((function(e){return t.has(e)}))}function tL(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var i=eL(e,t),o=i.length,a=i.findIndex((function(e){return n===e}));return r<0?-1===a?a=o-1:a-=1:r>0&&(a+=1),i[a=(a+o)%o]}function nL(e,t,n,r,i,o,a,s,u,l){var c=m.useRef(),f=m.useRef();f.current=t;var d=function(){CT.cancel(c.current)};return m.useEffect((function(){return function(){d()}}),[]),function(h){var p=h.which;if([].concat(QR,[KR,qR,JR,$R]).includes(p)){var g,v,m,y=function(){return g=new Set,v=new Map,m=new Map,o().forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(mR(r,e),"']"));t&&(g.add(t),m.set(t,e),v.set(e,t))})),g};y();var b=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(v.get(t),g),x=m.get(b),w=function(e,t,n,r){var i,o,a,s,u="prev",l="next",c="children",f="parent";if("inline"===e&&r===KR)return{inlineTrigger:!0};var d=(i={},(0,xe.Z)(i,HR,u),(0,xe.Z)(i,XR,l),i),h=(o={},(0,xe.Z)(o,WR,n?l:u),(0,xe.Z)(o,ZR,n?u:l),(0,xe.Z)(o,XR,c),(0,xe.Z)(o,KR,c),o),p=(a={},(0,xe.Z)(a,HR,u),(0,xe.Z)(a,XR,l),(0,xe.Z)(a,KR,c),(0,xe.Z)(a,qR,f),(0,xe.Z)(a,WR,n?c:f),(0,xe.Z)(a,ZR,n?f:c),a);switch(null===(s={inline:d,horizontal:h,vertical:p,inlineSub:d,horizontalSub:p,verticalSub:p}["".concat(e).concat(t?"":"Sub")])||void 0===s?void 0:s[r]){case u:return{offset:-1,sibling:!0};case l:return{offset:1,sibling:!0};case f:return{offset:-1,sibling:!1};case c:return{offset:1,sibling:!1};default:return null}}(e,1===a(x,!0).length,n,p);if(!w&&p!==JR&&p!==$R)return;(QR.includes(p)||[JR,$R].includes(p))&&h.preventDefault();var E=function(e){if(e){var t=e,n=e.querySelector("a");(null===n||void 0===n?void 0:n.getAttribute("href"))&&(t=n);var r=m.get(e);s(r),d(),c.current=CT((function(){f.current===r&&t.focus()}))}};if([JR,$R].includes(p)||w.sibling||!b){var S,_,T=eL(S=b&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(b):i.current,g);_=p===JR?T[0]:p===$R?T[T.length-1]:tL(S,g,b,w.offset),E(_)}else if(w.inlineTrigger)u(x);else if(w.offset>0)u(x,!0),d(),c.current=CT((function(){y();var e=b.getAttribute("aria-controls"),t=tL(document.getElementById(e),g);E(t)}),5);else if(w.offset<0){var k=a(x,!0),C=k[k.length-2],M=v.get(C);u(C,!1),E(M)}}null===l||void 0===l||l(h)}}var rL=Math.random().toFixed(5).toString().slice(2),iL=0;var oL="__RC_UTIL_PATH_SPLIT__",aL=function(e){return e.join(oL)},sL="rc-menu-more";function uL(){var e=m.useState({}),t=(0,It.Z)(e,2)[1],n=(0,m.useRef)(new Map),r=(0,m.useRef)(new Map),i=m.useState([]),o=(0,It.Z)(i,2),a=o[0],s=o[1],u=(0,m.useRef)(0),l=(0,m.useRef)(!1),c=(0,m.useCallback)((function(e,i){var o=aL(i);r.current.set(o,e),n.current.set(e,o),u.current+=1;var a,s=u.current;a=function(){s===u.current&&(l.current||t({}))},Promise.resolve().then(a)}),[]),f=(0,m.useCallback)((function(e,t){var i=aL(t);r.current.delete(i),n.current.delete(e)}),[]),d=(0,m.useCallback)((function(e){s(e)}),[]),h=(0,m.useCallback)((function(e,t){var r=n.current.get(e)||"",i=r.split(oL);return t&&a.includes(i[0])&&i.unshift(sL),i}),[a]),p=(0,m.useCallback)((function(e,t){return e.some((function(e){return h(e,!0).includes(t)}))}),[h]),g=(0,m.useCallback)((function(e){var t="".concat(n.current.get(e)).concat(oL),i=new Set;return(0,Pt.Z)(r.current.keys()).forEach((function(e){e.startsWith(t)&&i.add(r.current.get(e))})),i}),[]);return m.useEffect((function(){return function(){l.current=!0}}),[]),{registerPath:c,unregisterPath:f,refreshOverflowKeys:d,isSubPathKey:p,getKeyPath:h,getKeys:function(){var e=(0,Pt.Z)(n.current.keys());return a.length&&e.push(sL),e},getSubPathKeys:g}}var lL=["prefixCls","style","className","tabIndex","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],cL=[],fL=function(e){var t,n,r=e.prefixCls,i=void 0===r?"rc-menu":r,o=e.style,a=e.className,s=e.tabIndex,u=void 0===s?0:s,l=e.children,c=e.direction,f=e.id,d=e.mode,h=void 0===d?"vertical":d,p=e.inlineCollapsed,g=e.disabled,v=e.disabledOverflow,y=e.subMenuOpenDelay,b=void 0===y?.1:y,x=e.subMenuCloseDelay,w=void 0===x?.1:x,E=e.forceSubMenuRender,S=e.defaultOpenKeys,_=e.openKeys,T=e.activeKey,k=e.defaultActiveFirst,C=e.selectable,M=void 0===C||C,A=e.multiple,N=void 0!==A&&A,P=e.defaultSelectedKeys,I=e.selectedKeys,D=e.onSelect,O=e.onDeselect,R=e.inlineIndent,L=void 0===R?24:R,j=e.motion,B=e.defaultMotions,F=e.triggerSubMenuAction,z=void 0===F?"hover":F,Y=e.builtinPlacements,G=e.itemIcon,V=e.expandIcon,U=e.overflowedIndicator,W=void 0===U?"...":U,Z=e.overflowedIndicatorPopupClassName,H=e.getPopupContainer,X=e.onClick,K=e.onOpenChange,q=e.onKeyDown,J=(e.openAnimation,e.openTransitionName,e._internalRenderMenuItem),$=e._internalRenderSubMenuItem,Q=gn(e,lL),ee=kR(l,cL),te=m.useState(!1),ne=(0,It.Z)(te,2),re=ne[0],ie=ne[1],oe=m.useRef(),ae=function(e){var t=fC(e,{value:e}),n=(0,It.Z)(t,2),r=n[0],i=n[1];return m.useEffect((function(){iL+=1;var e="".concat(rL,"-").concat(iL);i("rc-menu-uuid-".concat(e))}),[]),r}(f),se="rtl"===c;var ue=m.useMemo((function(){return"inline"!==h&&"vertical"!==h||!p?[h,!1]:["vertical",p]}),[h,p]),le=(0,It.Z)(ue,2),ce=le[0],fe=le[1],de=m.useState(0),he=(0,It.Z)(de,2),pe=he[0],ge=he[1],ve=pe>=ee.length-1||"horizontal"!==ce||v,me=fC(S,{value:_,postState:function(e){return e||cL}}),ye=(0,It.Z)(me,2),be=ye[0],we=ye[1],Se=function(e){we(e),null===K||void 0===K||K(e)},_e=m.useState(be),Te=(0,It.Z)(_e,2),ke=Te[0],Ce=Te[1],Me="inline"===ce,Ae=m.useRef(!1);m.useEffect((function(){Me&&Ce(be)}),[be]),m.useEffect((function(){Ae.current?Me?we(ke):Se(cL):Ae.current=!0}),[Me]);var Ne=uL(),Pe=Ne.registerPath,Ie=Ne.unregisterPath,De=Ne.refreshOverflowKeys,Oe=Ne.isSubPathKey,Re=Ne.getKeyPath,Le=Ne.getKeys,je=Ne.getSubPathKeys,Be=m.useMemo((function(){return{registerPath:Pe,unregisterPath:Ie}}),[Pe,Ie]),Fe=m.useMemo((function(){return{isSubPathKey:Oe}}),[Oe]);m.useEffect((function(){De(ve?cL:ee.slice(pe+1).map((function(e){return e.key})))}),[pe,ve]);var ze=fC(T||k&&(null===(t=ee[0])||void 0===t?void 0:t.key),{value:T}),Ye=(0,It.Z)(ze,2),Ge=Ye[0],Ve=Ye[1],Ue=CR((function(e){Ve(e)})),We=CR((function(){Ve(void 0)})),Ze=fC(P||[],{value:I,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?cL:[e]}}),He=(0,It.Z)(Ze,2),Xe=He[0],Ke=He[1],qe=CR((function(e){null===X||void 0===X||X(sR(e)),function(e){if(M){var t,n=e.key,r=Xe.includes(n);t=N?r?Xe.filter((function(e){return e!==n})):[].concat((0,Pt.Z)(Xe),[n]):[n],Ke(t);var i=Ee(Ee({},e),{},{selectedKeys:t});r?null===O||void 0===O||O(i):null===D||void 0===D||D(i)}!N&&be.length&&"inline"!==ce&&Se(cL)}(e)})),Je=CR((function(e,t){var n=be.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==ce){var r=je(e);n=n.filter((function(e){return!r.has(e)}))}DN()(be,n)||Se(n)})),$e=CR(H),Qe=nL(ce,Ge,se,ae,oe,Le,Re,Ve,(function(e,t){var n=null!==t&&void 0!==t?t:!be.includes(e);Je(e,n)}),q);m.useEffect((function(){ie(!0)}),[]);var et=m.useMemo((function(){return{_internalRenderMenuItem:J,_internalRenderSubMenuItem:$}}),[J,$]),tt="horizontal"!==ce||v?ee:ee.map((function(e,t){return m.createElement(iR,{key:e.key,overflowDisabled:t>pe},e)})),nt=m.createElement(VI,wt({id:f,ref:oe,prefixCls:"".concat(i,"-overflow"),component:"ul",itemComponent:TR,className:Ot()(i,"".concat(i,"-root"),"".concat(i,"-").concat(ce),a,(n={},(0,xe.Z)(n,"".concat(i,"-inline-collapsed"),fe),(0,xe.Z)(n,"".concat(i,"-rtl"),se),n)),dir:c,style:o,role:"menu",tabIndex:u,data:tt,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?ee.slice(-t):null;return m.createElement(GR,{eventKey:sL,title:W,disabled:ve,internalPopupClose:0===t,popupClassName:Z},n)},maxCount:"horizontal"!==ce||v?VI.INVALIDATE:VI.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){ge(e)},onKeyDown:Qe},Q));return m.createElement(bR.Provider,{value:et},m.createElement(vR.Provider,{value:ae},m.createElement(iR,{prefixCls:i,mode:ce,openKeys:be,rtl:se,disabled:g,motion:re?j:null,defaultMotions:re?B:null,activeKey:Ge,onActive:Ue,onInactive:We,selectedKeys:Xe,inlineIndent:L,subMenuOpenDelay:b,subMenuCloseDelay:w,forceSubMenuRender:E,builtinPlacements:Y,triggerSubMenuAction:z,getPopupContainer:$e,itemIcon:G,expandIcon:V,onItemClick:qe,onOpenChange:Je},m.createElement(gR.Provider,{value:Fe},nt),m.createElement("div",{style:{display:"none"},"aria-hidden":!0},m.createElement(fR.Provider,{value:Be},ee)))))},dL=["className","title","eventKey","children"],hL=["children"],pL=function(e){var t=e.className,n=e.title,r=(e.eventKey,e.children),i=gn(e,dL),o=m.useContext(rR).prefixCls,a="".concat(o,"-item-group");return m.createElement("li",wt({},i,{onClick:function(e){return e.stopPropagation()},className:Ot()(a,t)}),m.createElement("div",{className:"".concat(a,"-title"),title:"string"===typeof n?n:void 0},n),m.createElement("ul",{className:"".concat(a,"-list")},r))};function gL(e){var t=e.children,n=gn(e,hL),r=kR(t,pR(n.eventKey));return dR()?r:m.createElement(pL,hn(n,["warnKey"]),r)}function vL(e){var t=e.className,n=e.style,r=m.useContext(rR).prefixCls;return dR()?null:m.createElement("li",{className:Ot()("".concat(r,"-item-divider"),t),style:n})}var mL=pR,yL=fL;yL.Item=TR,yL.SubMenu=GR,yL.ItemGroup=gL,yL.Divider=vL;var bL=yL,xL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},wL=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:xL}))};wL.displayName="EllipsisOutlined";var EL=m.forwardRef(wL),SL=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function _L(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||SL(r)&&SL(i)))return!1;var r,i;return!0}var TL=(0,m.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});var kL=function(e){var t,n,r=e.popupClassName,i=e.icon,o=e.title,a=m.useContext(TL),s=a.prefixCls,u=a.inlineCollapsed,l=a.antdMenuTheme,c=mL();if(i){var f=IT(o)&&"span"===o.type;n=m.createElement(m.Fragment,null,DT(i,{className:Ot()(IT(i)?null===(t=i.props)||void 0===t?void 0:t.className:"","".concat(s,"-item-icon"))}),f?o:m.createElement("span",{className:"".concat(s,"-title-content")},o))}else n=u&&!c.length&&o&&"string"===typeof o?m.createElement("div",{className:"".concat(s,"-inline-collapsed-noicon")},o.charAt(0)):m.createElement("span",{className:"".concat(s,"-title-content")},o);var d=m.useMemo((function(){return wt(wt({},a),{firstLevel:!1})}),[a]);return m.createElement(TL.Provider,{value:d},m.createElement(GR,wt({},hn(e,["icon"]),{title:n,popupClassName:Ot()(s,"".concat(s,"-").concat(l),r)})))},CL={adjustX:1,adjustY:1},ML=[0,0],AL={left:{points:["cr","cl"],overflow:CL,offset:[-4,0],targetOffset:ML},right:{points:["cl","cr"],overflow:CL,offset:[4,0],targetOffset:ML},top:{points:["bc","tc"],overflow:CL,offset:[0,-4],targetOffset:ML},bottom:{points:["tc","bc"],overflow:CL,offset:[0,4],targetOffset:ML},topLeft:{points:["bl","tl"],overflow:CL,offset:[0,-4],targetOffset:ML},leftTop:{points:["tr","tl"],overflow:CL,offset:[-4,0],targetOffset:ML},topRight:{points:["br","tr"],overflow:CL,offset:[0,-4],targetOffset:ML},rightTop:{points:["tl","tr"],overflow:CL,offset:[4,0],targetOffset:ML},bottomRight:{points:["tr","br"],overflow:CL,offset:[0,4],targetOffset:ML},rightBottom:{points:["bl","br"],overflow:CL,offset:[4,0],targetOffset:ML},bottomLeft:{points:["tl","bl"],overflow:CL,offset:[0,4],targetOffset:ML},leftBottom:{points:["br","bl"],overflow:CL,offset:[-4,0],targetOffset:ML}},NL=function(e){var t=e.overlay,n=e.prefixCls,r=e.id,i=e.overlayInnerStyle;return m.createElement("div",{className:"".concat(n,"-inner"),id:r,role:"tooltip",style:i},"function"===typeof t?t():t)},PL=function(e,t){var n=e.overlayClassName,r=e.trigger,i=void 0===r?["hover"]:r,o=e.mouseEnterDelay,a=void 0===o?0:o,s=e.mouseLeaveDelay,u=void 0===s?.1:s,l=e.overlayStyle,c=e.prefixCls,f=void 0===c?"rc-tooltip":c,d=e.children,h=e.onVisibleChange,p=e.afterVisibleChange,g=e.transitionName,v=e.animation,y=e.motion,b=e.placement,x=void 0===b?"right":b,w=e.align,E=void 0===w?{}:w,S=e.destroyTooltipOnHide,_=void 0!==S&&S,T=e.defaultVisible,k=e.getTooltipContainer,C=e.overlayInnerStyle,M=gn(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),A=(0,m.useRef)(null);(0,m.useImperativeHandle)(t,(function(){return A.current}));var N=Ee({},M);"visible"in e&&(N.popupVisible=e.visible);var P=!1,I=!1;if("boolean"===typeof _)P=_;else if(_&&"object"===(0,mn.Z)(_)){var D=_.keepParent;P=!0===D,I=!1===D}return m.createElement(CN,wt({popupClassName:n,prefixCls:f,popup:function(){var t=e.arrowContent,n=void 0===t?null:t,r=e.overlay,i=e.id;return[m.createElement("div",{className:"".concat(f,"-arrow"),key:"arrow"},n),m.createElement(NL,{key:"content",prefixCls:f,id:i,overlay:r,overlayInnerStyle:C})]},action:i,builtinPlacements:AL,popupPlacement:x,ref:A,popupAlign:E,getPopupContainer:k,onPopupVisibleChange:h,afterPopupVisibleChange:p,popupTransitionName:g,popupAnimation:v,popupMotion:y,defaultPopupVisible:T,destroyPopupOnHide:P,autoDestroy:I,mouseLeaveDelay:u,popupStyle:l,mouseEnterDelay:a},N),d)},IL=(0,m.forwardRef)(PL),DL={adjustX:1,adjustY:1},OL={adjustX:0,adjustY:0},RL=[0,0];function LL(e){return"boolean"===typeof e?e?DL:OL:wt(wt({},OL),e)}var jL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},BL=new RegExp("^(".concat(Kk.join("|"),")(-inverse)?$"));function FL(e,t){var n=e.type;if((!0===n.__ANT_BUTTON||"button"===e.type)&&e.props.disabled||!0===n.__ANT_SWITCH&&(e.props.disabled||e.props.loading)){var r=function(e,t){var n={},r=wt({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete r[t])})),{picked:n,omitted:r}}(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),i=r.picked,o=r.omitted,a=wt(wt({display:"inline-block"},i),{cursor:"not-allowed",width:e.props.block?"100%":null}),s=DT(e,{style:wt(wt({},o),{pointerEvents:"none"}),className:null});return m.createElement("span",{style:a,className:Ot()(e.props.className,"".concat(t,"-disabled-compatible-wrapper"))},s)}return e}var zL=m.forwardRef((function(e,t){var n,r=m.useContext(tn),i=r.getPopupContainer,o=r.getPrefixCls,a=r.direction,s=fC(!1,{value:e.visible,defaultValue:e.defaultVisible}),u=(0,It.Z)(s,2),l=u[0],c=u[1],f=function(){var t=e.title,n=e.overlay;return!t&&!n&&0!==t},d=function(){var t=e.builtinPlacements,n=e.arrowPointAtCenter,r=e.autoAdjustOverflow;return t||function(e){var t=e.arrowWidth,n=void 0===t?4:t,r=e.horizontalArrowShift,i=void 0===r?16:r,o=e.verticalArrowShift,a=void 0===o?8:o,s=e.autoAdjustOverflow,u={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(i+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(a+n)]},topRight:{points:["br","tc"],offset:[i+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(a+n)]},bottomRight:{points:["tr","bc"],offset:[i+n,4]},rightBottom:{points:["bl","cr"],offset:[4,a+n]},bottomLeft:{points:["tl","bc"],offset:[-(i+n),4]},leftBottom:{points:["br","cl"],offset:[-4,a+n]}};return Object.keys(u).forEach((function(t){u[t]=e.arrowPointAtCenter?wt(wt({},u[t]),{overflow:LL(s),targetOffset:RL}):wt(wt({},AL[t]),{overflow:LL(s)}),u[t].ignoreShake=!0})),u}({arrowPointAtCenter:n,autoAdjustOverflow:r})},h=e.getPopupContainer,p=jL(e,["getPopupContainer"]),g=e.prefixCls,v=e.openClassName,y=e.getTooltipContainer,b=e.overlayClassName,x=e.color,w=e.overlayInnerStyle,E=e.children,S=o("tooltip",g),_=o(),T=l;!("visible"in e)&&f()&&(T=!1);var k,C=FL(IT(E)?E:m.createElement("span",null,E),S),M=C.props,A=Ot()(M.className,(0,xe.Z)({},v||"".concat(S,"-open"),!0)),N=Ot()(b,(n={},(0,xe.Z)(n,"".concat(S,"-rtl"),"rtl"===a),(0,xe.Z)(n,"".concat(S,"-").concat(x),x&&BL.test(x)),n)),P=w;return x&&!BL.test(x)&&(P=wt(wt({},w),{background:x}),k={background:x}),m.createElement(IL,wt({},p,{prefixCls:S,overlayClassName:N,getTooltipContainer:h||y||i,ref:t,builtinPlacements:d(),overlay:function(){var t=e.title,n=e.overlay;return 0===t?t:n||t||""}(),visible:T,onVisibleChange:function(t){var n;c(!f()&&t),f()||null===(n=e.onVisibleChange)||void 0===n||n.call(e,t)},onPopupAlign:function(e,t){var n=d(),r=Object.keys(n).filter((function(e){return n[e].points[0]===t.points[0]&&n[e].points[1]===t.points[1]}))[0];if(r){var i=e.getBoundingClientRect(),o={top:"50%",left:"50%"};r.indexOf("top")>=0||r.indexOf("Bottom")>=0?o.top="".concat(i.height-t.offset[1],"px"):(r.indexOf("Top")>=0||r.indexOf("bottom")>=0)&&(o.top="".concat(-t.offset[1],"px")),r.indexOf("left")>=0||r.indexOf("Right")>=0?o.left="".concat(i.width-t.offset[0],"px"):(r.indexOf("right")>=0||r.indexOf("Left")>=0)&&(o.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(o.left," ").concat(o.top)}},overlayInnerStyle:P,arrowContent:m.createElement("span",{className:"".concat(S,"-arrow-content"),style:k}),motion:{motionName:NO(_,"zoom-big-fast",e.transitionName),motionDeadline:1e3}}),T?DT(C,{className:A}):C)}));zL.displayName="Tooltip",zL.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};var YL=zL,GL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},VL=function(e){(0,jt.Z)(n,e);var t=(0,Bt.Z)(n);function n(){var e;return(0,Rt.Z)(this,n),(e=t.apply(this,arguments)).renderItem=function(t){var n,r,i=t.siderCollapsed,o=e.context,a=o.prefixCls,s=o.firstLevel,u=o.inlineCollapsed,l=o.direction,c=o.disableMenuItemTitleTooltip,f=e.props,d=f.className,h=f.children,p=e.props,g=p.title,v=p.icon,y=p.danger,b=GL(p,["title","icon","danger"]),x=g;"undefined"===typeof g?x=s?h:"":!1===g&&(x="");var w={title:x};i||u||(w.title=null,w.visible=!1);var E=EP(h).length,S=m.createElement(TR,wt({},b,{className:Ot()((n={},(0,xe.Z)(n,"".concat(a,"-item-danger"),y),(0,xe.Z)(n,"".concat(a,"-item-only-child"),1===(v?E+1:E)),n),d),title:"string"===typeof g?g:void 0}),DT(v,{className:Ot()(IT(v)?null===(r=v.props)||void 0===r?void 0:r.className:"","".concat(a,"-item-icon"))}),e.renderItemChildren(u));return c||(S=m.createElement(YL,wt({},w,{placement:"rtl"===l?"left":"right",overlayClassName:"".concat(a,"-inline-collapsed-tooltip")}),S)),S},e}return(0,Lt.Z)(n,[{key:"renderItemChildren",value:function(e){var t=this.context,n=t.prefixCls,r=t.firstLevel,i=this.props,o=i.icon,a=i.children,s=m.createElement("span",{className:"".concat(n,"-title-content")},a);return(!o||IT(a)&&"span"===a.type)&&a&&e&&r&&"string"===typeof a?m.createElement("div",{className:"".concat(n,"-inline-collapsed-noicon")},a.charAt(0)):s}},{key:"render",value:function(){return m.createElement(kr.Consumer,null,this.renderItem)}}]),n}(m.Component);VL.contextType=TL;var UL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},WL=function(e){var t=e.prefixCls,n=e.className,r=e.dashed,i=UL(e,["prefixCls","className","dashed"]),o=(0,m.useContext(tn).getPrefixCls)("menu",t),a=Ot()((0,xe.Z)({},"".concat(o,"-item-divider-dashed"),!!r),n);return m.createElement(vL,wt({className:a},i))},ZL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},HL=function(e){(0,jt.Z)(n,e);var t=(0,Bt.Z)(n);function n(e){var r;return(0,Rt.Z)(this,n),(r=t.call(this,e)).getMemoizedContextValue=function(e,t){void 0===t&&(t=_L);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}((function(e,t,n,r,i){return{prefixCls:e,inlineCollapsed:t||!1,antdMenuTheme:n,direction:r,firstLevel:!0,disableMenuItemTitleTooltip:i}})),r.renderMenu=function(e){var t=e.getPopupContainer,n=e.getPrefixCls,i=e.direction,o=n(),a=r.props,s=a.prefixCls,u=a.className,l=a.theme,c=a.expandIcon,f=a._internalDisableMenuItemTitleTooltip,d=hn(ZL(a,["prefixCls","className","theme","expandIcon","_internalDisableMenuItemTitleTooltip"]),["siderCollapsed","collapsedWidth"]),h=r.getInlineCollapsed(),p={horizontal:{motionName:"".concat(o,"-slide-up")},inline:PO,other:{motionName:"".concat(o,"-zoom-big")}},g=n("menu",s),v=Ot()("".concat(g,"-").concat(l),u),y=r.getMemoizedContextValue(g,h,l,i,f);return m.createElement(TL.Provider,{value:y},m.createElement(bL,wt({getPopupContainer:t,overflowedIndicator:m.createElement(EL,null),overflowedIndicatorPopupClassName:"".concat(g,"-").concat(l)},d,{inlineCollapsed:h,className:v,prefixCls:g,direction:i,defaultMotions:p,expandIcon:DT(c,{className:"".concat(g,"-submenu-expand-icon")})})))},BT(!("inlineCollapsed"in e&&"inline"!==e.mode),"Menu","`inlineCollapsed` should only be used when `mode` is inline."),BT(!(void 0!==e.siderCollapsed&&"inlineCollapsed"in e),"Menu","`inlineCollapsed` not control Menu under Sider. Should set `collapsed` on Sider instead."),r}return(0,Lt.Z)(n,[{key:"getInlineCollapsed",value:function(){var e=this.props,t=e.inlineCollapsed,n=e.siderCollapsed;return void 0!==n?n:t}},{key:"render",value:function(){return m.createElement(nn,null,this.renderMenu)}}]),n}(m.Component);HL.defaultProps={theme:"light"};var XL=function(e){(0,jt.Z)(n,e);var t=(0,Bt.Z)(n);function n(){return(0,Rt.Z)(this,n),t.apply(this,arguments)}return(0,Lt.Z)(n,[{key:"render",value:function(){var e=this;return m.createElement(kr.Consumer,null,(function(t){return m.createElement(HL,wt({},e.props,t))}))}}]),n}(m.Component);XL.Divider=WL,XL.Item=VL,XL.SubMenu=kL,XL.ItemGroup=gL;var KL=XL,qL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"}}]},name:"menu-unfold",theme:"outlined"},JL=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:qL}))};JL.displayName="MenuUnfoldOutlined";var $L=m.forwardRef(JL),QL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z"}}]},name:"menu-fold",theme:"outlined"},ej=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:QL}))};ej.displayName="MenuFoldOutlined";var tj=m.forwardRef(ej),nj={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},rj=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:nj}))};rj.displayName="PlusCircleOutlined";var ij=m.forwardRef(rj),oj={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"},aj=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:oj}))};aj.displayName="DotChartOutlined";var sj=m.forwardRef(aj),uj={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},lj=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:uj}))};lj.displayName="InfoCircleOutlined";var cj=m.forwardRef(lj),fj=Pr.Sider;var dj=function(){var e=(0,m.useState)(!0),t=(0,It.Z)(e,2),n=t[0],r=t[1];return(0,aT.jsx)(fj,{collapsible:!0,collapsed:n,onCollapse:function(e,t){console.log("Ah, so this gets logged in the browser console using F12",e,t),r(e)},style:{overflow:"auto",height:"100vh",position:"sticky",top:0,left:0},trigger:n?(0,aT.jsx)($L,{}):(0,aT.jsx)(tj,{}),children:(0,aT.jsxs)(KL,{theme:"dark",mode:"inline",children:[(0,aT.jsx)(KL.Item,{icon:(0,aT.jsx)(ij,{}),children:"Add Paper"},"1"),(0,aT.jsx)(KL.Item,{icon:(0,aT.jsx)(sj,{}),children:"Charts"},"2"),(0,aT.jsx)(KL.Item,{icon:(0,aT.jsx)(cj,{})},"3")]})})};var hj,pj=function(){return(0,aT.jsxs)(XO,{gutter:10,children:[(0,aT.jsx)(aI,{span:5,children:(0,aT.jsx)(uT,{})}),(0,aT.jsx)(aI,{span:5,children:(0,aT.jsx)(uT,{})}),(0,aT.jsx)(aI,{span:14,children:(0,aT.jsx)(uT,{})})]})},gj=function(e){if(Hn()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some((function(e){return e in n.style}))}return!1};function vj(e,t){return Array.isArray(e)||void 0===t?gj(e):function(e,t){if(!gj(e))return!1;var n=document.createElement("div"),r=n.style[e];return n.style[e]=t,n.style[e]!==r}(e,t)}function mj(e){if("undefined"===typeof document)return 0;if(e||void 0===hj){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var i=t.offsetWidth;n.style.overflow="scroll";var o=t.offsetWidth;i===o&&(o=n.clientWidth),document.body.removeChild(n),hj=i-o}return hj}function yj(e){var t=e.match(/^(.*)px$/),n=Number(null===t||void 0===t?void 0:t[1]);return Number.isNaN(n)?mj():n}var bj=function(e){return null};var xj=function(e){return null};function wj(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function Ej(e,t){if(!t&&"number"!==typeof t)return e;for(var n=wj(t),r=e,i=0;i<n.length;i+=1){if(!r)return null;r=r[n[i]]}return r}function Sj(e){var t=[],n={};return e.forEach((function(e){for(var r=e||{},i=r.key,o=r.dataIndex,a=i||wj(o).join("-")||"RC_TABLE_KEY";n[a];)a="".concat(a,"_next");n[a]=!0,t.push(a)})),t}function _j(e){return null!==e&&void 0!==e}var Tj=m.createContext(!1),kj=m.createContext({}),Cj=m.createContext({renderWithProps:!1}),Mj=["colSpan","rowSpan","style","className"];function Aj(e,t){var n,r,i,o=e.prefixCls,a=e.className,s=e.record,u=e.index,l=e.renderIndex,c=e.dataIndex,f=e.render,d=e.children,h=e.component,p=void 0===h?"td":h,g=e.colSpan,v=e.rowSpan,y=e.fixLeft,b=e.fixRight,x=e.firstFixLeft,w=e.lastFixLeft,E=e.firstFixRight,S=e.lastFixRight,_=e.appendNode,T=e.additionalProps,k=void 0===T?{}:T,C=e.ellipsis,M=e.align,A=e.rowType,N=e.isSticky,P=e.hovering,I=e.onHover,D="".concat(o,"-cell"),O=m.useContext(Cj),R=m.useContext(Tj),L=m.useMemo((function(){if(_j(d))return[d];var e=Ej(s,c),t=e,n=void 0;if(f){var r=f(e,s,l);!function(e){return e&&"object"===(0,mn.Z)(e)&&!Array.isArray(e)&&!m.isValidElement(e)}(r)?t=r:(t=r.children,n=r.props,O.renderWithProps=!0)}return[t,n]}),[O.renderWithProps?Math.random():0,d,c,O,s,f,l]),j=(0,It.Z)(L,2),B=j[0],F=j[1],z=B;"object"!==(0,mn.Z)(z)||Array.isArray(z)||m.isValidElement(z)||(z=null),C&&(w||E)&&(z=m.createElement("span",{className:"".concat(D,"-content")},z));var Y=F||{},G=Y.colSpan,V=Y.rowSpan,U=Y.style,W=Y.className,Z=gn(Y,Mj),H=null!==(n=void 0!==G?G:g)&&void 0!==n?n:1,X=null!==(r=void 0!==V?V:v)&&void 0!==r?r:1;if(0===H||0===X)return null;var K={},q="number"===typeof y&&R,J="number"===typeof b&&R;q&&(K.position="sticky",K.left=y),J&&(K.position="sticky",K.right=b);var $={};M&&($.textAlign=M);var Q,ee=!0===C?{showTitle:!0}:C;ee&&(ee.showTitle||"header"===A)&&("string"===typeof z||"number"===typeof z?Q=z.toString():m.isValidElement(z)&&"string"===typeof z.props.children&&(Q=z.props.children));var te,ne=Ee(Ee(Ee({title:Q},Z),k),{},{colSpan:1!==H?H:null,rowSpan:1!==X?X:null,className:Ot()(D,a,(i={},(0,xe.Z)(i,"".concat(D,"-fix-left"),q&&R),(0,xe.Z)(i,"".concat(D,"-fix-left-first"),x&&R),(0,xe.Z)(i,"".concat(D,"-fix-left-last"),w&&R),(0,xe.Z)(i,"".concat(D,"-fix-right"),J&&R),(0,xe.Z)(i,"".concat(D,"-fix-right-first"),E&&R),(0,xe.Z)(i,"".concat(D,"-fix-right-last"),S&&R),(0,xe.Z)(i,"".concat(D,"-ellipsis"),C),(0,xe.Z)(i,"".concat(D,"-with-append"),_),(0,xe.Z)(i,"".concat(D,"-fix-sticky"),(q||J)&&N&&R),(0,xe.Z)(i,"".concat(D,"-row-hover"),!F&&P),i),k.className,W),style:Ee(Ee(Ee(Ee({},k.style),$),K),U),onMouseEnter:function(e){var t;s&&I(u,u+X-1),null===k||void 0===k||null===(t=k.onMouseEnter)||void 0===t||t.call(k,e)},onMouseLeave:function(e){var t;s&&I(-1,-1),null===k||void 0===k||null===(t=k.onMouseLeave)||void 0===t||t.call(k,e)},ref:(te=p,"string"===typeof te||wT(te)?t:null)});return m.createElement(p,ne,_,z)}var Nj=m.forwardRef(Aj);Nj.displayName="Cell";var Pj=["expanded","className","hovering"],Ij=m.memo(Nj,(function(e,t){return t.shouldCellUpdate?Pj.every((function(n){return e[n]===t[n]}))&&!t.shouldCellUpdate(t.record,e.record):DN()(e,t)})),Dj=m.forwardRef((function(e,t){var n=m.useContext(kj),r=n.onHover,i=n.startRow,o=n.endRow,a=e.index,s=e.additionalProps,u=void 0===s?{}:s,l=e.colSpan,c=e.rowSpan,f=u.colSpan,d=u.rowSpan,h=null!==l&&void 0!==l?l:f,p=null!==c&&void 0!==c?c:d,g=function(e,t,n,r){return e<=r&&e+t-1>=n}(a,p||1,i,o);return m.createElement(Ij,wt({},e,{colSpan:h,rowSpan:p,hovering:g,ref:t,onHover:r}))}));Dj.displayName="WrappedCell";var Oj=Dj,Rj=m.createContext(null);function Lj(e,t,n,r,i){var o,a,s=n[e]||{},u=n[t]||{};"left"===s.fixed?o=r.left[e]:"right"===u.fixed&&(a=r.right[t]);var l=!1,c=!1,f=!1,d=!1,h=n[t+1],p=n[e-1];if("rtl"===i){if(void 0!==o)d=!(p&&"left"===p.fixed);else if(void 0!==a){f=!(h&&"right"===h.fixed)}}else if(void 0!==o){l=!(h&&"left"===h.fixed)}else if(void 0!==a){c=!(p&&"right"===p.fixed)}return{fixLeft:o,fixRight:a,lastFixLeft:l,firstFixRight:c,lastFixRight:f,firstFixLeft:d,isSticky:r.isSticky}}function jj(e){var t,n=e.cells,r=e.stickyOffsets,i=e.flattenColumns,o=e.rowComponent,a=e.cellComponent,s=e.onHeaderRow,u=e.index,l=m.useContext(Rj),c=l.prefixCls,f=l.direction;s&&(t=s(n.map((function(e){return e.column})),u));var d=Sj(n.map((function(e){return e.column})));return m.createElement(o,t,n.map((function(e,t){var n,o=e.column,s=Lj(e.colStart,e.colEnd,i,r,f);return o&&o.onHeaderCell&&(n=e.column.onHeaderCell(o)),m.createElement(Oj,wt({},e,{ellipsis:o.ellipsis,align:o.align,component:a,prefixCls:c,key:d[t]},s,{additionalProps:n,rowType:"header"}))})))}jj.displayName="HeaderRow";var Bj=jj;var Fj=function(e){var t=e.stickyOffsets,n=e.columns,r=e.flattenColumns,i=e.onHeaderRow,o=m.useContext(Rj),a=o.prefixCls,s=o.getComponent,u=m.useMemo((function(){return function(e){var t=[];!function e(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t[i]=t[i]||[];var o=r;return n.filter(Boolean).map((function(n){var r={key:n.key,className:n.className||"",children:n.title,column:n,colStart:o},a=1,s=n.children;return s&&s.length>0&&(a=e(s,o,i+1).reduce((function(e,t){return e+t}),0),r.hasSubColumns=!0),"colSpan"in n&&(a=n.colSpan),"rowSpan"in n&&(r.rowSpan=n.rowSpan),r.colSpan=a,r.colEnd=r.colStart+a-1,t[i].push(r),o+=a,a}))}(e,0);for(var n=t.length,r=function(e){t[e].forEach((function(t){"rowSpan"in t||t.hasSubColumns||(t.rowSpan=n-e)}))},i=0;i<n;i+=1)r(i);return t}(n)}),[n]),l=s(["header","wrapper"],"thead"),c=s(["header","row"],"tr"),f=s(["header","cell"],"th");return m.createElement(l,{className:"".concat(a,"-thead")},u.map((function(e,n){return m.createElement(Bj,{key:n,flattenColumns:r,cells:e,stickyOffsets:t,rowComponent:c,cellComponent:f,onHeaderRow:i,index:n})})))},zj=m.createContext(null),Yj=m.createContext(null);var Gj=function(e){var t=e.prefixCls,n=e.children,r=e.component,i=e.cellComponent,o=e.className,a=e.expanded,s=e.colSpan,u=e.isEmpty,l=m.useContext(Rj).scrollbarSize,c=m.useContext(Yj),f=c.fixHeader,d=c.fixColumn,h=c.componentWidth,p=c.horizonScroll;return m.useMemo((function(){var e=n;return(u?p:d)&&(e=m.createElement("div",{style:{width:h-(f?l:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},e)),m.createElement(r,{className:o,style:{display:a?null:"none"}},m.createElement(Oj,{component:i,prefixCls:t,colSpan:s},e))}),[n,r,o,a,s,u,l,h,d,f,p])},Vj=m.createContext(null);function Uj(e){var t=e.className,n=e.style,r=e.record,i=e.index,o=e.renderIndex,a=e.rowKey,s=e.rowExpandable,u=e.expandedKeys,l=e.onRow,c=e.indent,f=void 0===c?0:c,d=e.rowComponent,h=e.cellComponent,p=e.childrenColumnName,g=m.useContext(Rj),v=g.prefixCls,y=g.fixedInfoList,b=m.useContext(zj),x=b.flattenColumns,w=b.expandableType,E=b.expandRowByClick,S=b.onTriggerExpand,_=b.rowClassName,T=b.expandedRowClassName,k=b.indentSize,C=b.expandIcon,M=b.expandedRowRender,A=b.expandIconColumnIndex,N=m.useState(!1),P=(0,It.Z)(N,2),I=P[0],D=P[1],O=u&&u.has(e.recordKey);m.useEffect((function(){O&&D(!0)}),[O]);var R="row"===w&&(!s||s(r)),L="nest"===w,j=p&&r&&r[p],B=R||L,F=m.useRef(S);F.current=S;var z,Y=function(){F.current.apply(F,arguments)};l&&(z=l(r,i));var G;"string"===typeof _?G=_:"function"===typeof _&&(G=_(r,i,f));var V,U=Sj(x),W=m.createElement(d,wt({},z,{"data-row-key":a,className:Ot()(t,"".concat(v,"-row"),"".concat(v,"-row-level-").concat(f),G,z&&z.className),style:Ee(Ee({},n),z?z.style:null),onClick:function(e){var t,n;E&&B&&Y(r,e);for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];null===(t=z)||void 0===t||null===(n=t.onClick)||void 0===n||n.call.apply(n,[t,e].concat(o))}}),x.map((function(e,t){var n,a,s=e.render,u=e.dataIndex,l=e.className,c=U[t],d=y[t];return t===(A||0)&&L&&(n=m.createElement(m.Fragment,null,m.createElement("span",{style:{paddingLeft:"".concat(k*f,"px")},className:"".concat(v,"-row-indent indent-level-").concat(f)}),C({prefixCls:v,expanded:O,expandable:j,record:r,onExpand:Y}))),e.onCell&&(a=e.onCell(r,i)),m.createElement(Oj,wt({className:l,ellipsis:e.ellipsis,align:e.align,component:h,prefixCls:v,key:c,record:r,index:i,renderIndex:o,dataIndex:u,render:s,shouldCellUpdate:e.shouldCellUpdate,expanded:n&&O},d,{appendNode:n,additionalProps:a}))})));if(R&&(I||O)){var Z=M(r,i,f+1,O),H=T&&T(r,i,f);V=m.createElement(Gj,{expanded:O,className:Ot()("".concat(v,"-expanded-row"),"".concat(v,"-expanded-row-level-").concat(f+1),H),prefixCls:v,component:d,cellComponent:h,colSpan:x.length,isEmpty:!1},Z)}return m.createElement(m.Fragment,null,W,V)}Uj.displayName="BodyRow";var Wj=Uj;function Zj(e,t,n,r,i,o){var a=[];a.push({record:e,indent:t,index:o});var s=i(e),u=null===r||void 0===r?void 0:r.has(s);if(e&&Array.isArray(e[n])&&u)for(var l=0;l<e[n].length;l+=1){var c=Zj(e[n][l],t+1,n,r,i,l);a.push.apply(a,(0,Pt.Z)(c))}return a}function Hj(e){var t=e.columnKey,n=e.onColumnResize,r=m.useRef();return m.useEffect((function(){r.current&&n(t,r.current.offsetWidth)}),[]),m.createElement(PP,{data:t},m.createElement("td",{ref:r,style:{padding:0,border:0,height:0}},m.createElement("div",{style:{height:0,overflow:"hidden"}},"\xa0")))}function Xj(e){var t=e.prefixCls,n=e.columnsKey,r=e.onColumnResize,i=m.useRef(new Map),o=m.useRef(null);return m.useEffect((function(){return function(){CT.cancel(o.current)}}),[]),m.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0,fontSize:0}},m.createElement(PP.Collection,{onBatchResize:function(e){e.forEach((function(e){var t=e.data,n=e.size;i.current.set(t,n.offsetWidth)})),null===o.current&&(o.current=CT((function(){i.current.forEach((function(e,t){r(t,e)})),i.current.clear(),o.current=null}),2))}},n.map((function(e){return m.createElement(Hj,{key:e,columnKey:e,onColumnResize:r})}))))}function Kj(e){var t=e.data,n=e.getRowKey,r=e.measureColumnWidth,i=e.expandedKeys,o=e.onRow,a=e.rowExpandable,s=e.emptyNode,u=e.childrenColumnName,l=m.useContext(Vj).onColumnResize,c=m.useContext(Rj),f=c.prefixCls,d=c.getComponent,h=m.useContext(zj).flattenColumns,p=function(e,t,n,r){var i=m.useMemo((function(){if(null===n||void 0===n?void 0:n.size){for(var i=[],o=0;o<(null===e||void 0===e?void 0:e.length);o+=1){var a=e[o];i.push.apply(i,(0,Pt.Z)(Zj(a,0,t,n,r,o)))}return i}return null===e||void 0===e?void 0:e.map((function(e,t){return{record:e,indent:0,index:t}}))}),[e,t,n,r]);return i}(t,u,i,n),g=m.useRef({renderWithProps:!1}),v=m.useState(-1),y=(0,It.Z)(v,2),b=y[0],x=y[1],w=m.useState(-1),E=(0,It.Z)(w,2),S=E[0],_=E[1],T=m.useCallback((function(e,t){x(e),_(t)}),[]),k=m.useMemo((function(){return{startRow:b,endRow:S,onHover:T}}),[T,b,S]),C=m.useMemo((function(){var e,c=d(["body","wrapper"],"tbody"),g=d(["body","row"],"tr"),v=d(["body","cell"],"td");e=t.length?p.map((function(e,t){var r=e.record,s=e.indent,l=e.index,c=n(r,t);return m.createElement(Wj,{key:c,rowKey:c,record:r,recordKey:c,index:t,renderIndex:l,rowComponent:g,cellComponent:v,expandedKeys:i,onRow:o,getRowKey:n,rowExpandable:a,childrenColumnName:u,indent:s})})):m.createElement(Gj,{expanded:!0,className:"".concat(f,"-placeholder"),prefixCls:f,component:g,cellComponent:v,colSpan:h.length,isEmpty:!0},s);var y=Sj(h);return m.createElement(c,{className:"".concat(f,"-tbody")},r&&m.createElement(Xj,{prefixCls:f,columnsKey:y,onColumnResize:l}),e)}),[t,f,o,r,i,n,d,s,h,u,l,a,p]);return m.createElement(Cj.Provider,{value:g.current},m.createElement(kj.Provider,{value:k},C))}var qj=m.memo(Kj);qj.displayName="Body";var Jj=qj,$j=["expandable"],Qj="RC_TABLE_INTERNAL_COL_DEFINE";var eB={},tB=["children"],nB=["fixed"];function rB(e){return EP(e).filter((function(e){return m.isValidElement(e)})).map((function(e){var t=e.key,n=e.props,r=n.children,i=Ee({key:t},gn(n,tB));return r&&(i.children=rB(r)),i}))}function iB(e){return e.reduce((function(e,t){var n=t.fixed,r=!0===n?"left":n,i=t.children;return i&&i.length>0?[].concat((0,Pt.Z)(e),(0,Pt.Z)(iB(i).map((function(e){return Ee({fixed:r},e)})))):[].concat((0,Pt.Z)(e),[Ee(Ee({},t),{},{fixed:r})])}),[])}var oB=function(e,t){var n=e.prefixCls,r=e.columns,i=e.children,o=e.expandable,a=e.expandedKeys,s=e.getRowKey,u=e.onTriggerExpand,l=e.expandIcon,c=e.rowExpandable,f=e.expandIconColumnIndex,d=e.direction,h=e.expandRowByClick,p=e.columnWidth,g=e.fixed,v=m.useMemo((function(){return r||rB(i)}),[r,i]),y=m.useMemo((function(){if(o){var e,t=v.slice();if(!t.includes(eB)){var r=f||0;r>=0&&t.splice(r,0,eB)}0;var i=t.indexOf(eB);t=t.filter((function(e,t){return e!==eB||t===i}));var d,y=v[i];d="left"!==g&&!g||f?"right"!==g&&!g||f!==v.length?y?y.fixed:null:"right":"left";var b=(e={},(0,xe.Z)(e,Qj,{className:"".concat(n,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),(0,xe.Z)(e,"title",""),(0,xe.Z)(e,"fixed",d),(0,xe.Z)(e,"className","".concat(n,"-row-expand-icon-cell")),(0,xe.Z)(e,"width",p),(0,xe.Z)(e,"render",(function(e,t,r){var i=s(t,r),o=a.has(i),f=!c||c(t),d=l({prefixCls:n,expanded:o,expandable:f,record:t,onExpand:u});return h?m.createElement("span",{onClick:function(e){return e.stopPropagation()}},d):d})),e);return t.map((function(e){return e===eB?b:e}))}return v.filter((function(e){return e!==eB}))}),[o,v,s,a,l,d]),b=m.useMemo((function(){var e=y;return t&&(e=t(e)),e.length||(e=[{render:function(){return null}}]),e}),[t,y,d]),x=m.useMemo((function(){return"rtl"===d?function(e){return e.map((function(e){var t=e.fixed,n=t;return"left"===t?n="right":"right"===t&&(n="left"),Ee({fixed:n},gn(e,nB))}))}(iB(b)):iB(b)}),[b,d]);return[b,x]};function aB(e){var t=(0,m.useRef)(e),n=(0,m.useState)({}),r=(0,It.Z)(n,2)[1],i=(0,m.useRef)(null),o=(0,m.useRef)([]);return(0,m.useEffect)((function(){return function(){i.current=null}}),[]),[t.current,function(e){o.current.push(e);var n=Promise.resolve();i.current=n,n.then((function(){if(i.current===n){var e=o.current,a=t.current;o.current=[],e.forEach((function(e){t.current=e(t.current)})),i.current=null,a!==t.current&&r({})}}))}]}var sB=function(e,t,n){return(0,m.useMemo)((function(){for(var r=[],i=[],o=0,a=0,s=0;s<t;s+=1)if("rtl"===n){i[s]=a,a+=e[s]||0;var u=t-s-1;r[u]=o,o+=e[u]||0}else{r[s]=o,o+=e[s]||0;var l=t-s-1;i[l]=a,a+=e[l]||0}return{left:r,right:i}}),[e,t,n])},uB=["columnType"];var lB=function(e){for(var t=e.colWidths,n=e.columns,r=[],i=!1,o=(e.columCount||n.length)-1;o>=0;o-=1){var a=t[o],s=n&&n[o],u=s&&s[Qj];if(a||u||i){var l=u||{},c=(l.columnType,gn(l,uB));r.unshift(m.createElement("col",wt({key:o,style:{width:a}},c))),i=!0}}return m.createElement("colgroup",null,r)};var cB=function(e){var t=e.className,n=e.children;return m.createElement("div",{className:t},n)};var fB=["children"];var dB=m.createContext({});function hB(e){return e.children}hB.Row=function(e){var t=e.children,n=gn(e,fB);return m.createElement("tr",n,t)},hB.Cell=function(e){var t=e.className,n=e.index,r=e.children,i=e.colSpan,o=void 0===i?1:i,a=e.rowSpan,s=e.align,u=m.useContext(Rj),l=u.prefixCls,c=u.direction,f=m.useContext(dB),d=f.scrollColumnIndex,h=f.stickyOffsets,p=n+o-1+1===d?o+1:o,g=Lj(n,n+p-1,f.flattenColumns,h,c);return m.createElement(Oj,wt({className:t,index:n,component:"td",prefixCls:l,record:null,dataIndex:null,align:s,colSpan:p,rowSpan:a,render:function(){return r}},g))};var pB=hB;var gB=function(e){var t=e.children,n=e.stickyOffsets,r=e.flattenColumns,i=m.useContext(Rj).prefixCls,o=r.length-1,a=r[o],s=m.useMemo((function(){return{stickyOffsets:n,flattenColumns:r,scrollColumnIndex:(null===a||void 0===a?void 0:a.scrollbar)?o:null}}),[a,r,o,n]);return m.createElement(dB.Provider,{value:s},m.createElement("tfoot",{className:"".concat(i,"-summary")},t))},vB=pB;function mB(e){var t,n=e.prefixCls,r=e.record,i=e.onExpand,o=e.expanded,a=e.expandable,s="".concat(n,"-row-expand-icon");if(!a)return m.createElement("span",{className:Ot()(s,"".concat(n,"-row-spaced"))});return m.createElement("span",{className:Ot()(s,(t={},(0,xe.Z)(t,"".concat(n,"-row-expanded"),o),(0,xe.Z)(t,"".concat(n,"-row-collapsed"),!o),t)),onClick:function(e){i(r,e),e.stopPropagation()}})}function yB(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}var bB=function(e,t){var n,r,i=e.scrollBodyRef,o=e.onScroll,a=e.offsetScroll,s=e.container,u=m.useContext(Rj).prefixCls,l=(null===(n=i.current)||void 0===n?void 0:n.scrollWidth)||0,c=(null===(r=i.current)||void 0===r?void 0:r.clientWidth)||0,f=l&&c*(c/l),d=m.useRef(),h=aB({scrollLeft:0,isHiddenScrollBar:!1}),p=(0,It.Z)(h,2),g=p[0],v=p[1],y=m.useRef({delta:0,x:0}),b=m.useState(!1),x=(0,It.Z)(b,2),w=x[0],E=x[1],S=function(){E(!1)},_=function(e){var t,n=(e||(null===(t=window)||void 0===t?void 0:t.event)).buttons;if(w&&0!==n){var r=y.current.x+e.pageX-y.current.x-y.current.delta;r<=0&&(r=0),r+f>=c&&(r=c-f),o({scrollLeft:r/c*(l+2)}),y.current.x=e.pageX}else w&&E(!1)},T=function(){if(i.current){var e=yB(i.current).top,t=e+i.current.offsetHeight,n=s===window?document.documentElement.scrollTop+window.innerHeight:yB(s).top+s.clientHeight;t-mj()<=n||e>=n-a?v((function(e){return Ee(Ee({},e),{},{isHiddenScrollBar:!0})})):v((function(e){return Ee(Ee({},e),{},{isHiddenScrollBar:!1})}))}},k=function(e){v((function(t){return Ee(Ee({},t),{},{scrollLeft:e/l*c||0})}))};return m.useImperativeHandle(t,(function(){return{setScrollLeft:k}})),m.useEffect((function(){var e=MM(document.body,"mouseup",S,!1),t=MM(document.body,"mousemove",_,!1);return T(),function(){e.remove(),t.remove()}}),[f,w]),m.useEffect((function(){var e=MM(s,"scroll",T,!1),t=MM(window,"resize",T,!1);return function(){e.remove(),t.remove()}}),[s]),m.useEffect((function(){g.isHiddenScrollBar||v((function(e){var t=i.current;return t?Ee(Ee({},e),{},{scrollLeft:t.scrollLeft/t.scrollWidth*t.clientWidth}):e}))}),[g.isHiddenScrollBar]),l<=c||!f||g.isHiddenScrollBar?null:m.createElement("div",{style:{height:mj(),width:c,bottom:a},className:"".concat(u,"-sticky-scroll")},m.createElement("div",{onMouseDown:function(e){e.persist(),y.current.delta=e.pageX-g.scrollLeft,y.current.x=0,E(!0),e.preventDefault()},ref:d,className:Ot()("".concat(u,"-sticky-scroll-bar"),(0,xe.Z)({},"".concat(u,"-sticky-scroll-bar-active"),w)),style:{width:"".concat(f,"px"),transform:"translate3d(".concat(g.scrollLeft,"px, 0, 0)")}}))},xB=m.forwardRef(bB),wB=Hn()?window:null;var EB=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];var SB=m.forwardRef((function(e,t){var n=e.className,r=e.noData,i=e.columns,o=e.flattenColumns,a=e.colWidths,s=e.columCount,u=e.stickyOffsets,l=e.direction,c=e.fixHeader,f=e.stickyTopOffset,d=e.stickyBottomOffset,h=e.stickyClassName,p=e.onScroll,g=e.maxContentScroll,v=e.children,y=gn(e,EB),b=m.useContext(Rj),x=b.prefixCls,w=b.scrollbarSize,E=b.isSticky,S=E&&!c?0:w,_=m.useRef(null),T=m.useCallback((function(e){bT(t,e),bT(_,e)}),[]);m.useEffect((function(){var e;function t(e){var t=e.currentTarget,n=e.deltaX;n&&(p({currentTarget:t,scrollLeft:t.scrollLeft+n}),e.preventDefault())}return null===(e=_.current)||void 0===e||e.addEventListener("wheel",t),function(){var e;null===(e=_.current)||void 0===e||e.removeEventListener("wheel",t)}}),[]);var k=m.useMemo((function(){return o.every((function(e){return e.width>=0}))}),[o]),C=o[o.length-1],M={fixed:C?C.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(x,"-cell-scrollbar")}}},A=(0,m.useMemo)((function(){return S?[].concat((0,Pt.Z)(i),[M]):i}),[S,i]),N=(0,m.useMemo)((function(){return S?[].concat((0,Pt.Z)(o),[M]):o}),[S,o]),P=(0,m.useMemo)((function(){var e=u.right,t=u.left;return Ee(Ee({},u),{},{left:"rtl"===l?[].concat((0,Pt.Z)(t.map((function(e){return e+S}))),[0]):t,right:"rtl"===l?e:[].concat((0,Pt.Z)(e.map((function(e){return e+S}))),[0]),isSticky:E})}),[S,u,E]),I=function(e,t){return(0,m.useMemo)((function(){for(var n=[],r=0;r<t;r+=1){var i=e[r];if(void 0===i)return null;n[r]=i}return n}),[e.join("_"),t])}(a,s);return m.createElement("div",{style:Ee({overflow:"hidden"},E?{top:f,bottom:d}:{}),ref:T,className:Ot()(n,(0,xe.Z)({},h,!!h))},m.createElement("table",{style:{tableLayout:"fixed",visibility:r||I?null:"hidden"}},(!r||!g||k)&&m.createElement(lB,{colWidths:I?[].concat((0,Pt.Z)(I),[S]):[],columCount:s+1,columns:N}),v(Ee(Ee({},y),{},{stickyOffsets:P,columns:A,flattenColumns:N}))))}));SB.displayName="FixedHolder";var _B=SB,TB=[],kB={},CB="rc-table-internal-hook",MB=m.memo((function(e){return e.children}),(function(e,t){return!!DN()(e.props,t.props)&&(e.pingLeft!==t.pingLeft||e.pingRight!==t.pingRight)}));function AB(e){var t,n=e.prefixCls,r=e.className,i=e.rowClassName,o=e.style,a=e.data,s=e.rowKey,u=e.scroll,l=e.tableLayout,c=e.direction,f=e.title,d=e.footer,h=e.summary,p=e.id,g=e.showHeader,v=e.components,y=e.emptyText,b=e.onRow,x=e.onHeaderRow,w=e.internalHooks,E=e.transformColumns,S=e.internalRefs,_=e.sticky,T=a||TB,k=!!T.length;var C=m.useMemo((function(){return function(){var e={};function t(e,n){n&&Object.keys(n).forEach((function(r){var i=n[r];i&&"object"===(0,mn.Z)(i)?(e[r]=e[r]||{},t(e[r],i)):e[r]=i}))}for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return r.forEach((function(n){t(e,n)})),e}(v,{})}),[v]),M=m.useCallback((function(e,t){return Ej(C,e)||t}),[C]),A=m.useMemo((function(){return"function"===typeof s?s:function(e){return e&&e[s]}}),[s]),N=function(e){var t,n=e.expandable,r=gn(e,$j);return!1===(t="expandable"in e?Ee(Ee({},r),n):r).showExpandColumn&&(t.expandIconColumnIndex=-1),t}(e),P=N.expandIcon,I=N.expandedRowKeys,D=N.defaultExpandedRowKeys,O=N.defaultExpandAllRows,R=N.expandedRowRender,L=N.onExpand,j=N.onExpandedRowsChange,B=N.expandRowByClick,F=N.rowExpandable,z=N.expandIconColumnIndex,Y=N.expandedRowClassName,G=N.childrenColumnName,V=N.indentSize,U=P||mB,W=G||"children",Z=m.useMemo((function(){return R?"row":!!(e.expandable&&w===CB&&e.expandable.__PARENT_RENDER_ICON__||T.some((function(e){return e&&"object"===(0,mn.Z)(e)&&e[W]})))&&"nest"}),[!!R,T]),H=m.useState((function(){return D||(O?function(e,t,n){var r=[];return function e(i){(i||[]).forEach((function(i,o){r.push(t(i,o)),e(i[n])}))}(e),r}(T,A,W):[])})),X=(0,It.Z)(H,2),K=X[0],q=X[1],J=m.useMemo((function(){return new Set(I||K||[])}),[I,K]),$=m.useCallback((function(e){var t,n=A(e,T.indexOf(e)),r=J.has(n);r?(J.delete(n),t=(0,Pt.Z)(J)):t=[].concat((0,Pt.Z)(J),[n]),q(t),L&&L(!r,e),j&&j(t)}),[A,J,T,L,j]);var Q,ee,te,ne=m.useState(0),re=(0,It.Z)(ne,2),ie=re[0],oe=re[1],ae=oB(Ee(Ee(Ee({},e),N),{},{expandable:!!R,expandedKeys:J,getRowKey:A,onTriggerExpand:$,expandIcon:U,expandIconColumnIndex:z,direction:c}),w===CB?E:null),se=(0,It.Z)(ae,2),ue=se[0],le=se[1],ce=m.useMemo((function(){return{columns:ue,flattenColumns:le}}),[ue,le]),fe=m.useRef(),de=m.useRef(),he=m.useRef(),pe=m.useRef(),ge=m.useState(!1),ve=(0,It.Z)(ge,2),me=ve[0],ye=ve[1],be=m.useState(!1),we=(0,It.Z)(be,2),Se=we[0],_e=we[1],Te=aB(new Map),ke=(0,It.Z)(Te,2),Ce=ke[0],Me=ke[1],Ae=Sj(le).map((function(e){return Ce.get(e)})),Ne=m.useMemo((function(){return Ae}),[Ae.join("_")]),Pe=sB(Ne,le.length,c),Ie=u&&_j(u.y),De=u&&_j(u.x)||Boolean(N.fixed),Oe=De&&le.some((function(e){return e.fixed})),Re=m.useRef(),Le=function(e,t){var n="object"===(0,mn.Z)(e)?e:{},r=n.offsetHeader,i=void 0===r?0:r,o=n.offsetSummary,a=void 0===o?0:o,s=n.offsetScroll,u=void 0===s?0:s,l=n.getContainer,c=(void 0===l?function(){return wB}:l)()||wB;return m.useMemo((function(){var n=!!e;return{isSticky:n,stickyClassName:n?"".concat(t,"-sticky-holder"):"",offsetHeader:i,offsetSummary:a,offsetScroll:u,container:c}}),[u,i,a,t,c])}(_,n),je=Le.isSticky,Be=Le.offsetHeader,Fe=Le.offsetSummary,ze=Le.offsetScroll,Ye=Le.stickyClassName,Ge=Le.container,Ve=null===h||void 0===h?void 0:h(T),Ue=(Ie||je)&&m.isValidElement(Ve)&&Ve.type===pB&&Ve.props.fixed;Ie&&(ee={overflowY:"scroll",maxHeight:u.y}),De&&(Q={overflowX:"auto"},Ie||(ee={overflowY:"hidden"}),te={width:!0===u.x?"auto":u.x,minWidth:"100%"});var We=m.useCallback((function(e,t){SC(fe.current)&&Me((function(n){if(n.get(e)!==t){var r=new Map(n);return r.set(e,t),r}return n}))}),[]),Ze=function(e){var t=(0,m.useRef)(e||null),n=(0,m.useRef)();function r(){window.clearTimeout(n.current)}return(0,m.useEffect)((function(){return r}),[]),[function(e){t.current=e,r(),n.current=window.setTimeout((function(){t.current=null,n.current=void 0}),100)},function(){return t.current}]}(null),He=(0,It.Z)(Ze,2),Xe=He[0],Ke=He[1];function qe(e,t){t&&("function"===typeof t?t(e):t.scrollLeft!==e&&(t.scrollLeft=e))}var Je=function(e){var t,n=e.currentTarget,r=e.scrollLeft,i="rtl"===c,o="number"===typeof r?r:n.scrollLeft,a=n||kB;Ke()&&Ke()!==a||(Xe(a),qe(o,de.current),qe(o,he.current),qe(o,pe.current),qe(o,null===(t=Re.current)||void 0===t?void 0:t.setScrollLeft));if(n){var s=n.scrollWidth,u=n.clientWidth;i?(ye(-o<s-u),_e(-o>0)):(ye(o>0),_e(o<s-u))}},$e=function(){De&&he.current?Je({currentTarget:he.current}):(ye(!1),_e(!1))},Qe=m.useRef(!1);m.useEffect((function(){Qe.current&&$e()}),[De,a,ue.length]),m.useEffect((function(){Qe.current=!0}),[]);var et=m.useState(0),tt=(0,It.Z)(et,2),nt=tt[0],rt=tt[1],it=m.useState(!0),ot=(0,It.Z)(it,2),at=ot[0],st=ot[1];m.useEffect((function(){rt(function(e){if("undefined"===typeof document||!e||!(e instanceof Element))return{width:0,height:0};var t=getComputedStyle(e,"::-webkit-scrollbar"),n=t.width,r=t.height;return{width:yj(n),height:yj(r)}}(he.current).width),st(vj("position","sticky"))}),[]),m.useEffect((function(){w===CB&&S&&(S.body.current=he.current)}));var ut,lt=M(["table"],"table"),ct=m.useMemo((function(){return l||(Oe?"max-content"===u.x?"auto":"fixed":Ie||je||le.some((function(e){return e.ellipsis}))?"fixed":"auto")}),[Ie,Oe,le,l,je]),ft={colWidths:Ne,columCount:le.length,stickyOffsets:Pe,onHeaderRow:x,fixHeader:Ie,scroll:u},dt=m.useMemo((function(){return k?null:"function"===typeof y?y():y}),[k,y]),ht=m.createElement(Jj,{data:T,measureColumnWidth:Ie||De||je,expandedKeys:J,rowExpandable:F,getRowKey:A,onRow:b,emptyNode:dt,childrenColumnName:W}),pt=m.createElement(lB,{colWidths:le.map((function(e){return e.width})),columns:le}),gt=M(["body"]);if(Ie||je){var vt;"function"===typeof gt?(vt=gt(T,{scrollbarSize:nt,ref:he,onScroll:Je}),ft.colWidths=le.map((function(e,t){var n=e.width,r=t===ue.length-1?n-nt:n;return"number"!==typeof r||Number.isNaN(r)?(Zn(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0):r}))):vt=m.createElement("div",{style:Ee(Ee({},Q),ee),onScroll:Je,ref:he,className:Ot()("".concat(n,"-body"))},m.createElement(lt,{style:Ee(Ee({},te),{},{tableLayout:ct})},pt,ht,!Ue&&Ve&&m.createElement(gB,{stickyOffsets:Pe,flattenColumns:le},Ve)));var mt=Ee(Ee(Ee({noData:!T.length,maxContentScroll:De&&"max-content"===u.x},ft),ce),{},{direction:c,stickyClassName:Ye,onScroll:Je});ut=m.createElement(m.Fragment,null,!1!==g&&m.createElement(_B,wt({},mt,{stickyTopOffset:Be,className:"".concat(n,"-header"),ref:de}),(function(e){return m.createElement(m.Fragment,null,m.createElement(Fj,e),"top"===Ue&&m.createElement(gB,e,Ve))})),vt,Ue&&"top"!==Ue&&m.createElement(_B,wt({},mt,{stickyBottomOffset:Fe,className:"".concat(n,"-summary"),ref:pe}),(function(e){return m.createElement(gB,e,Ve)})),je&&m.createElement(xB,{ref:Re,offsetScroll:ze,scrollBodyRef:he,onScroll:Je,container:Ge}))}else ut=m.createElement("div",{style:Ee(Ee({},Q),ee),className:Ot()("".concat(n,"-content")),onScroll:Je,ref:he},m.createElement(lt,{style:Ee(Ee({},te),{},{tableLayout:ct})},pt,!1!==g&&m.createElement(Fj,wt({},ft,ce)),ht,Ve&&m.createElement(gB,{stickyOffsets:Pe,flattenColumns:le},Ve)));var yt=_I(e,{aria:!0,data:!0}),bt=m.createElement("div",wt({className:Ot()(n,r,(t={},(0,xe.Z)(t,"".concat(n,"-rtl"),"rtl"===c),(0,xe.Z)(t,"".concat(n,"-ping-left"),me),(0,xe.Z)(t,"".concat(n,"-ping-right"),Se),(0,xe.Z)(t,"".concat(n,"-layout-fixed"),"fixed"===l),(0,xe.Z)(t,"".concat(n,"-fixed-header"),Ie),(0,xe.Z)(t,"".concat(n,"-fixed-column"),Oe),(0,xe.Z)(t,"".concat(n,"-scroll-horizontal"),De),(0,xe.Z)(t,"".concat(n,"-has-fix-left"),le[0]&&le[0].fixed),(0,xe.Z)(t,"".concat(n,"-has-fix-right"),le[le.length-1]&&"right"===le[le.length-1].fixed),t)),style:o,id:p,ref:fe},yt),m.createElement(MB,{pingLeft:me,pingRight:Se,props:Ee(Ee({},e),{},{stickyOffsets:Pe,mergedExpandedKeys:J})},f&&m.createElement(cB,{className:"".concat(n,"-title")},f(T)),m.createElement("div",{className:"".concat(n,"-container")},ut),d&&m.createElement(cB,{className:"".concat(n,"-footer")},d(T))));De&&(bt=m.createElement(PP,{onResize:function(e){var t=e.width;t!==ie&&($e(),oe(fe.current?fe.current.offsetWidth:t))}},bt));var xt=m.useMemo((function(){return{prefixCls:n,getComponent:M,scrollbarSize:nt,direction:c,fixedInfoList:le.map((function(e,t){return Lj(t,t,le,Pe,c)})),isSticky:je}}),[n,M,nt,c,le,Pe,c,je]),Et=m.useMemo((function(){return Ee(Ee({},ce),{},{tableLayout:ct,rowClassName:i,expandedRowClassName:Y,expandIcon:U,expandableType:Z,expandRowByClick:B,expandedRowRender:R,onTriggerExpand:$,expandIconColumnIndex:z,indentSize:V})}),[ce,ct,i,Y,U,Z,B,R,$,z,V]),St=m.useMemo((function(){return{componentWidth:ie,fixHeader:Ie,fixColumn:Oe,horizonScroll:De}}),[ie,Ie,Oe,De]),_t=m.useMemo((function(){return{onColumnResize:We}}),[We]);return m.createElement(Tj.Provider,{value:at},m.createElement(Rj.Provider,{value:xt},m.createElement(zj.Provider,{value:Et},m.createElement(Yj.Provider,{value:St},m.createElement(Vj.Provider,{value:_t},bt)))))}AB.EXPAND_COLUMN=eB,AB.Column=xj,AB.ColumnGroup=bj,AB.Summary=vB,AB.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};var NB=AB,PB=n(8573),IB=n.n(PB),DB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},OB=(jT("small","default","large"),null);var RB=function(e){(0,jt.Z)(n,e);var t=(0,Bt.Z)(n);function n(e){var r;(0,Rt.Z)(this,n),(r=t.call(this,e)).debouncifyUpdateSpinning=function(e){var t=(e||r.props).delay;t&&(r.cancelExistingSpin(),r.updateSpinning=IB()(r.originalUpdateSpinning,t))},r.updateSpinning=function(){var e=r.props.spinning;r.state.spinning!==e&&r.setState({spinning:e})},r.renderSpin=function(e){var t,n=e.getPrefixCls,i=e.direction,o=r.props,a=o.prefixCls,s=o.className,u=o.size,l=o.tip,c=o.wrapperClassName,f=o.style,d=DB(o,["prefixCls","className","size","tip","wrapperClassName","style"]),h=r.state.spinning,p=n("spin",a),g=Ot()(p,(t={},(0,xe.Z)(t,"".concat(p,"-sm"),"small"===u),(0,xe.Z)(t,"".concat(p,"-lg"),"large"===u),(0,xe.Z)(t,"".concat(p,"-spinning"),h),(0,xe.Z)(t,"".concat(p,"-show-text"),!!l),(0,xe.Z)(t,"".concat(p,"-rtl"),"rtl"===i),t),s),v=hn(d,["spinning","delay","indicator"]),y=m.createElement("div",wt({},v,{style:f,className:g}),function(e,t){var n=t.indicator,r="".concat(e,"-dot");return null===n?null:IT(n)?DT(n,{className:Ot()(n.props.className,r)}):IT(OB)?DT(OB,{className:Ot()(OB.props.className,r)}):m.createElement("span",{className:Ot()(r,"".concat(e,"-dot-spin"))},m.createElement("i",{className:"".concat(e,"-dot-item")}),m.createElement("i",{className:"".concat(e,"-dot-item")}),m.createElement("i",{className:"".concat(e,"-dot-item")}),m.createElement("i",{className:"".concat(e,"-dot-item")}))}(p,r.props),l?m.createElement("div",{className:"".concat(p,"-text")},l):null);if(r.isNestedPattern()){var b=Ot()("".concat(p,"-container"),(0,xe.Z)({},"".concat(p,"-blur"),h));return m.createElement("div",wt({},v,{className:Ot()("".concat(p,"-nested-loading"),c)}),h&&m.createElement("div",{key:"loading"},y),m.createElement("div",{className:b,key:"container"},r.props.children))}return y};var i=e.spinning,o=function(e,t){return!!e&&!!t&&!isNaN(Number(t))}(i,e.delay);return r.state={spinning:i&&!o},r.originalUpdateSpinning=r.updateSpinning,r.debouncifyUpdateSpinning(e),r}return(0,Lt.Z)(n,[{key:"componentDidMount",value:function(){this.updateSpinning()}},{key:"componentDidUpdate",value:function(){this.debouncifyUpdateSpinning(),this.updateSpinning()}},{key:"componentWillUnmount",value:function(){this.cancelExistingSpin()}},{key:"cancelExistingSpin",value:function(){var e=this.updateSpinning;e&&e.cancel&&e.cancel()}},{key:"isNestedPattern",value:function(){return!(!this.props||"undefined"===typeof this.props.children)}},{key:"render",value:function(){return m.createElement(nn,null,this.renderSpin)}}],[{key:"setDefaultIndicator",value:function(e){OB=e}}]),n}(m.Component);RB.defaultProps={spinning:!0,size:"default",wrapperClassName:""};var LB=RB,jB=function(e){var t,n="".concat(e.rootPrefixCls,"-item"),r=Ot()(n,"".concat(n,"-").concat(e.page),(t={},(0,xe.Z)(t,"".concat(n,"-active"),e.active),(0,xe.Z)(t,"".concat(n,"-disabled"),!e.page),(0,xe.Z)(t,e.className,!!e.className),t));return m.createElement("li",{title:e.showTitle?e.page:null,className:r,onClick:function(){e.onClick(e.page)},onKeyPress:function(t){e.onKeyPress(t,e.onClick,e.page)},tabIndex:"0"},e.itemRender(e.page,"page",m.createElement("a",{rel:"nofollow"},e.page)))},BB=13,FB=38,zB=40,YB=function(e){(0,jt.Z)(n,e);var t=(0,Bt.Z)(n);function n(){var e;(0,Rt.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={goInputText:""},e.buildOptionText=function(t){return"".concat(t," ").concat(e.props.locale.items_per_page)},e.changeSize=function(t){e.props.changeSize(Number(t))},e.handleChange=function(t){e.setState({goInputText:t.target.value})},e.handleBlur=function(t){var n=e.props,r=n.goButton,i=n.quickGo,o=n.rootPrefixCls,a=e.state.goInputText;r||""===a||(e.setState({goInputText:""}),t.relatedTarget&&(t.relatedTarget.className.indexOf("".concat(o,"-item-link"))>=0||t.relatedTarget.className.indexOf("".concat(o,"-item"))>=0)||i(e.getValidValue()))},e.go=function(t){""!==e.state.goInputText&&(t.keyCode!==BB&&"click"!==t.type||(e.setState({goInputText:""}),e.props.quickGo(e.getValidValue())))},e}return(0,Lt.Z)(n,[{key:"getValidValue",value:function(){var e=this.state.goInputText;return!e||isNaN(e)?void 0:Number(e)}},{key:"getPageSizeOptions",value:function(){var e=this.props,t=e.pageSize,n=e.pageSizeOptions;return n.some((function(e){return e.toString()===t.toString()}))?n:n.concat([t.toString()]).sort((function(e,t){return(isNaN(Number(e))?0:Number(e))-(isNaN(Number(t))?0:Number(t))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.pageSize,r=t.locale,i=t.rootPrefixCls,o=t.changeSize,a=t.quickGo,s=t.goButton,u=t.selectComponentClass,l=t.buildOptionText,c=t.selectPrefixCls,f=t.disabled,d=this.state.goInputText,h="".concat(i,"-options"),p=u,g=null,v=null,y=null;if(!o&&!a)return null;var b=this.getPageSizeOptions();if(o&&p){var x=b.map((function(t,n){return m.createElement(p.Option,{key:n,value:t.toString()},(l||e.buildOptionText)(t))}));g=m.createElement(p,{disabled:f,prefixCls:c,showSearch:!1,className:"".concat(h,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(n||b[0]).toString(),onChange:this.changeSize,getPopupContainer:function(e){return e.parentNode},"aria-label":r.page_size,defaultOpen:!1},x)}return a&&(s&&(y="boolean"===typeof s?m.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:f,className:"".concat(h,"-quick-jumper-button")},r.jump_to_confirm):m.createElement("span",{onClick:this.go,onKeyUp:this.go},s)),v=m.createElement("div",{className:"".concat(h,"-quick-jumper")},r.jump_to,m.createElement("input",{disabled:f,type:"text",value:d,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":r.page}),r.page,y)),m.createElement("li",{className:"".concat(h)},g,v)}}]),n}(m.Component);YB.defaultProps={pageSizeOptions:["10","20","50","100"]};var GB=YB;function VB(){}function UB(e){var t=Number(e);return"number"===typeof t&&!isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function WB(e,t,n){var r="undefined"===typeof e?t.pageSize:e;return Math.floor((n.total-1)/r)+1}var ZB=function(e){(0,jt.Z)(n,e);var t=(0,Bt.Z)(n);function n(e){var r;(0,Rt.Z)(this,n),(r=t.call(this,e)).getJumpPrevPage=function(){return Math.max(1,r.state.current-(r.props.showLessItems?3:5))},r.getJumpNextPage=function(){return Math.min(WB(void 0,r.state,r.props),r.state.current+(r.props.showLessItems?3:5))},r.getItemIcon=function(e,t){var n=r.props.prefixCls,i=e||m.createElement("button",{type:"button","aria-label":t,className:"".concat(n,"-item-link")});return"function"===typeof e&&(i=m.createElement(e,Ee({},r.props))),i},r.savePaginationNode=function(e){r.paginationNode=e},r.isValid=function(e){var t=r.props.total;return UB(e)&&e!==r.state.current&&UB(t)&&t>0},r.shouldDisplayQuickJumper=function(){var e=r.props,t=e.showQuickJumper;return!(e.total<=r.state.pageSize)&&t},r.handleKeyDown=function(e){e.keyCode!==FB&&e.keyCode!==zB||e.preventDefault()},r.handleKeyUp=function(e){var t=r.getValidValue(e);t!==r.state.currentInputValue&&r.setState({currentInputValue:t}),e.keyCode===BB?r.handleChange(t):e.keyCode===FB?r.handleChange(t-1):e.keyCode===zB&&r.handleChange(t+1)},r.handleBlur=function(e){var t=r.getValidValue(e);r.handleChange(t)},r.changePageSize=function(e){var t=r.state.current,n=WB(e,r.state,r.props);t=t>n?n:t,0===n&&(t=r.state.current),"number"===typeof e&&("pageSize"in r.props||r.setState({pageSize:e}),"current"in r.props||r.setState({current:t,currentInputValue:t})),r.props.onShowSizeChange(t,e),"onChange"in r.props&&r.props.onChange&&r.props.onChange(t,e)},r.handleChange=function(e){var t=r.props.disabled,n=e;if(r.isValid(n)&&!t){var i=WB(void 0,r.state,r.props);n>i?n=i:n<1&&(n=1),"current"in r.props||r.setState({current:n,currentInputValue:n});var o=r.state.pageSize;return r.props.onChange(n,o),n}return r.state.current},r.prev=function(){r.hasPrev()&&r.handleChange(r.state.current-1)},r.next=function(){r.hasNext()&&r.handleChange(r.state.current+1)},r.jumpPrev=function(){r.handleChange(r.getJumpPrevPage())},r.jumpNext=function(){r.handleChange(r.getJumpNextPage())},r.hasPrev=function(){return r.state.current>1},r.hasNext=function(){return r.state.current<WB(void 0,r.state,r.props)},r.runIfEnter=function(e,t){if("Enter"===e.key||13===e.charCode){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];t.apply(void 0,r)}},r.runIfEnterPrev=function(e){r.runIfEnter(e,r.prev)},r.runIfEnterNext=function(e){r.runIfEnter(e,r.next)},r.runIfEnterJumpPrev=function(e){r.runIfEnter(e,r.jumpPrev)},r.runIfEnterJumpNext=function(e){r.runIfEnter(e,r.jumpNext)},r.handleGoTO=function(e){e.keyCode!==BB&&"click"!==e.type||r.handleChange(r.state.currentInputValue)};var i=e.onChange!==VB;"current"in e&&!i&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var o=e.defaultCurrent;"current"in e&&(o=e.current);var a=e.defaultPageSize;return"pageSize"in e&&(a=e.pageSize),o=Math.min(o,WB(a,void 0,e)),r.state={current:o,currentInputValue:o,pageSize:a},r}return(0,Lt.Z)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.prefixCls;if(t.current!==this.state.current&&this.paginationNode){var r=this.paginationNode.querySelector(".".concat(n,"-item-").concat(t.current));r&&document.activeElement===r&&r.blur()}}},{key:"getValidValue",value:function(e){var t=e.target.value,n=WB(void 0,this.state,this.props),r=this.state.currentInputValue;return""===t?t:isNaN(Number(t))?r:t>=n?n:Number(t)}},{key:"getShowSizeChanger",value:function(){var e=this.props,t=e.showSizeChanger,n=e.total,r=e.totalBoundaryShowSizeChanger;return"undefined"!==typeof t?t:n>r}},{key:"renderPrev",value:function(e){var t=this.props,n=t.prevIcon,r=(0,t.itemRender)(e,"prev",this.getItemIcon(n,"prev page")),i=!this.hasPrev();return(0,m.isValidElement)(r)?(0,m.cloneElement)(r,{disabled:i}):r}},{key:"renderNext",value:function(e){var t=this.props,n=t.nextIcon,r=(0,t.itemRender)(e,"next",this.getItemIcon(n,"next page")),i=!this.hasNext();return(0,m.isValidElement)(r)?(0,m.cloneElement)(r,{disabled:i}):r}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.className,i=t.style,o=t.disabled,a=t.hideOnSinglePage,s=t.total,u=t.locale,l=t.showQuickJumper,c=t.showLessItems,f=t.showTitle,d=t.showTotal,h=t.simple,p=t.itemRender,g=t.showPrevNextJumpers,v=t.jumpPrevIcon,y=t.jumpNextIcon,b=t.selectComponentClass,x=t.selectPrefixCls,w=t.pageSizeOptions,E=this.state,S=E.current,_=E.pageSize,T=E.currentInputValue;if(!0===a&&s<=_)return null;var k=WB(void 0,this.state,this.props),C=[],M=null,A=null,N=null,P=null,I=null,D=l&&l.goButton,O=c?1:2,R=S-1>0?S-1:0,L=S+1<k?S+1:k,j=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{});if(h)return D&&(I="boolean"===typeof D?m.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},u.jump_to_confirm):m.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},D),I=m.createElement("li",{title:f?"".concat(u.jump_to).concat(S,"/").concat(k):null,className:"".concat(n,"-simple-pager")},I)),m.createElement("ul",wt({className:Ot()(n,"".concat(n,"-simple"),(0,xe.Z)({},"".concat(n,"-disabled"),o),r),style:i,ref:this.savePaginationNode},j),m.createElement("li",{title:f?u.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:Ot()("".concat(n,"-prev"),(0,xe.Z)({},"".concat(n,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(R)),m.createElement("li",{title:f?"".concat(S,"/").concat(k):null,className:"".concat(n,"-simple-pager")},m.createElement("input",{type:"text",value:T,disabled:o,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:"3"}),m.createElement("span",{className:"".concat(n,"-slash")},"/"),k),m.createElement("li",{title:f?u.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:Ot()("".concat(n,"-next"),(0,xe.Z)({},"".concat(n,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(L)),I);if(k<=3+2*O){var B={locale:u,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:f,itemRender:p};k||C.push(m.createElement(jB,wt({},B,{key:"noPager",page:1,className:"".concat(n,"-item-disabled")})));for(var F=1;F<=k;F+=1){var z=S===F;C.push(m.createElement(jB,wt({},B,{key:F,page:F,active:z})))}}else{var Y=c?u.prev_3:u.prev_5,G=c?u.next_3:u.next_5;g&&(M=m.createElement("li",{title:f?Y:null,key:"prev",onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:Ot()("".concat(n,"-jump-prev"),(0,xe.Z)({},"".concat(n,"-jump-prev-custom-icon"),!!v))},p(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(v,"prev page"))),A=m.createElement("li",{title:f?G:null,key:"next",tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:Ot()("".concat(n,"-jump-next"),(0,xe.Z)({},"".concat(n,"-jump-next-custom-icon"),!!y))},p(this.getJumpNextPage(),"jump-next",this.getItemIcon(y,"next page")))),P=m.createElement(jB,{locale:u,last:!0,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:k,page:k,active:!1,showTitle:f,itemRender:p}),N=m.createElement(jB,{locale:u,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:f,itemRender:p});var V=Math.max(1,S-O),U=Math.min(S+O,k);S-1<=O&&(U=1+2*O),k-S<=O&&(V=k-2*O);for(var W=V;W<=U;W+=1){var Z=S===W;C.push(m.createElement(jB,{locale:u,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:W,page:W,active:Z,showTitle:f,itemRender:p}))}S-1>=2*O&&3!==S&&(C[0]=(0,m.cloneElement)(C[0],{className:"".concat(n,"-item-after-jump-prev")}),C.unshift(M)),k-S>=2*O&&S!==k-2&&(C[C.length-1]=(0,m.cloneElement)(C[C.length-1],{className:"".concat(n,"-item-before-jump-next")}),C.push(A)),1!==V&&C.unshift(N),U!==k&&C.push(P)}var H=null;d&&(H=m.createElement("li",{className:"".concat(n,"-total-text")},d(s,[0===s?0:(S-1)*_+1,S*_>s?s:S*_])));var X=!this.hasPrev()||!k,K=!this.hasNext()||!k;return m.createElement("ul",wt({className:Ot()(n,r,(0,xe.Z)({},"".concat(n,"-disabled"),o)),style:i,unselectable:"unselectable",ref:this.savePaginationNode},j),H,m.createElement("li",{title:f?u.prev_page:null,onClick:this.prev,tabIndex:X?null:0,onKeyPress:this.runIfEnterPrev,className:Ot()("".concat(n,"-prev"),(0,xe.Z)({},"".concat(n,"-disabled"),X)),"aria-disabled":X},this.renderPrev(R)),C,m.createElement("li",{title:f?u.next_page:null,onClick:this.next,tabIndex:K?null:0,onKeyPress:this.runIfEnterNext,className:Ot()("".concat(n,"-next"),(0,xe.Z)({},"".concat(n,"-disabled"),K)),"aria-disabled":K},this.renderNext(L)),m.createElement(GB,{disabled:o,locale:u,rootPrefixCls:n,selectComponentClass:b,selectPrefixCls:x,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:S,pageSize:_,pageSizeOptions:w,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:D}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};if("current"in e&&(n.current=e.current,e.current!==t.current&&(n.currentInputValue=n.current)),"pageSize"in e&&e.pageSize!==t.pageSize){var r=t.current,i=WB(e.pageSize,t,e);r=r>i?i:r,"current"in e||(n.current=r,n.currentInputValue=r),n.pageSize=e.pageSize}return n}}]),n}(m.Component);ZB.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:VB,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:VB,locale:{items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875",page_size:"\u9875\u7801"},style:{},itemRender:function(e,t,n){return n},totalBoundaryShowSizeChanger:50};var HB=ZB,XB={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},KB=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:XB}))};KB.displayName="DoubleLeftOutlined";var qB=m.forwardRef(KB),JB={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},$B=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:JB}))};$B.displayName="DoubleRightOutlined";var QB=m.forwardRef($B),eF=function(e){return m.createElement(jO,wt({size:"small"},e))};eF.Option=jO.Option;var tF=eF;function nF(){var e=m.useReducer((function(e){return e+1}),0);return(0,It.Z)(e,2)[1]}var rF=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=(0,m.useRef)({}),n=nF();return(0,m.useEffect)((function(){var r=UO.subscribe((function(r){t.current=r,e&&n()}));return function(){return UO.unsubscribe(r)}}),[]),t.current},iF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},oF=function(e){var t=e.prefixCls,n=e.selectPrefixCls,r=e.className,i=e.size,o=e.locale,a=e.selectComponentClass,s=e.responsive,u=iF(e,["prefixCls","selectPrefixCls","className","size","locale","selectComponentClass","responsive"]),l=rF(s).xs,c=m.useContext(tn),f=c.getPrefixCls,d=c.direction,h=f("pagination",t),p=function(e){var t=wt(wt({},e),o),c="small"===i||!(!l||i||!s),p=f("select",n),g=Ot()((0,xe.Z)({mini:c},"".concat(h,"-rtl"),"rtl"===d),r);return m.createElement(HB,wt({},function(){var e=m.createElement("span",{className:"".concat(h,"-item-ellipsis")},"\u2022\u2022\u2022"),t=m.createElement("button",{className:"".concat(h,"-item-link"),type:"button",tabIndex:-1},m.createElement(Er,null)),n=m.createElement("button",{className:"".concat(h,"-item-link"),type:"button",tabIndex:-1},m.createElement(br,null)),r=m.createElement("a",{className:"".concat(h,"-item-link")},m.createElement("div",{className:"".concat(h,"-item-container")},m.createElement(qB,{className:"".concat(h,"-item-link-icon")}),e)),i=m.createElement("a",{className:"".concat(h,"-item-link")},m.createElement("div",{className:"".concat(h,"-item-container")},m.createElement(QB,{className:"".concat(h,"-item-link-icon")}),e));if("rtl"===d){var o=[n,t];t=o[0],n=o[1];var a=[i,r];r=a[0],i=a[1]}return{prevIcon:t,nextIcon:n,jumpPrevIcon:r,jumpNextIcon:i}}(),u,{prefixCls:h,selectPrefixCls:p,className:g,selectComponentClass:a||(c?tF:jO),locale:t}))};return m.createElement(Zt,{componentName:"Pagination",defaultLocale:Ft},p)},aF=oF,sF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function uF(e,t,n){var r=t&&"object"===(0,mn.Z)(t)?t:{},i=r.total,o=void 0===i?0:i,a=sF(r,["total"]),s=(0,m.useState)((function(){return{current:"defaultCurrent"in a?a.defaultCurrent:1,pageSize:"defaultPageSize"in a?a.defaultPageSize:10}})),u=(0,It.Z)(s,2),l=u[0],c=u[1],f=function(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){t&&Object.keys(t).forEach((function(n){var r=t[n];void 0!==r&&(e[n]=r)}))})),e}(l,a,{total:o>0?o:e}),d=Math.ceil((o||e)/f.pageSize);f.current>d&&(f.current=d||1);var h=function(e,t){c({current:null!==e&&void 0!==e?e:1,pageSize:t||f.pageSize})};return!1===t?[{},function(){}]:[wt(wt({},f),{onChange:function(e,r){var i;t&&(null===(i=t.onChange)||void 0===i||i.call(t,e,r)),h(e,r),n(e,r||(null===f||void 0===f?void 0:f.pageSize))}}),h]}var lF=m.createContext(null),cF=function(e){for(var t=e.prefixCls,n=e.level,r=e.isStart,i=e.isEnd,o="".concat(t,"-indent-unit"),a=[],s=0;s<n;s+=1){var u;a.push(m.createElement("span",{key:s,className:Ot()(o,(u={},(0,xe.Z)(u,"".concat(o,"-start"),r[s]),(0,xe.Z)(u,"".concat(o,"-end"),i[s]),u))}))}return m.createElement("span",{"aria-hidden":"true",className:"".concat(t,"-indent")},a)},fF=m.memo(cF),dF=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],hF="open",pF="close",gF=function(e){(0,jt.Z)(n,e);var t=(0,Bt.Z)(n);function n(){var e;(0,Rt.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={dragNodeHighlight:!1},e.selectHandle=void 0,e.onSelectorClick=function(t){(0,e.props.context.onNodeClick)(t,LF(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)},e.onSelectorDoubleClick=function(t){(0,e.props.context.onNodeDoubleClick)(t,LF(e.props))},e.onSelect=function(t){if(!e.isDisabled()){var n=e.props.context.onNodeSelect;t.preventDefault(),n(t,LF(e.props))}},e.onCheck=function(t){if(!e.isDisabled()){var n=e.props,r=n.disableCheckbox,i=n.checked,o=e.props.context.onNodeCheck;if(e.isCheckable()&&!r){t.preventDefault();var a=!i;o(t,LF(e.props),a)}}},e.onMouseEnter=function(t){(0,e.props.context.onNodeMouseEnter)(t,LF(e.props))},e.onMouseLeave=function(t){(0,e.props.context.onNodeMouseLeave)(t,LF(e.props))},e.onContextMenu=function(t){(0,e.props.context.onNodeContextMenu)(t,LF(e.props))},e.onDragStart=function(t){var n=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),n(t,(0,vT.Z)(e));try{t.dataTransfer.setData("text/plain","")}catch(r){}},e.onDragEnter=function(t){var n=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),n(t,(0,vT.Z)(e))},e.onDragOver=function(t){var n=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),n(t,(0,vT.Z)(e))},e.onDragLeave=function(t){var n=e.props.context.onNodeDragLeave;t.stopPropagation(),n(t,(0,vT.Z)(e))},e.onDragEnd=function(t){var n=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,(0,vT.Z)(e))},e.onDrop=function(t){var n=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,(0,vT.Z)(e))},e.onExpand=function(t){var n=e.props,r=n.loading,i=n.context.onNodeExpand;r||i(t,LF(e.props))},e.setSelectHandle=function(t){e.selectHandle=t},e.getNodeState=function(){var t=e.props.expanded;return e.isLeaf()?null:t?hF:pF},e.hasChildren=function(){var t=e.props.eventKey;return!!((e.props.context.keyEntities[t]||{}).children||[]).length},e.isLeaf=function(){var t=e.props,n=t.isLeaf,r=t.loaded,i=e.props.context.loadData,o=e.hasChildren();return!1!==n&&(n||!i&&!o||i&&r&&!o)},e.isDisabled=function(){var t=e.props.disabled;return!(!e.props.context.disabled&&!t)},e.isCheckable=function(){var t=e.props.checkable,n=e.props.context.checkable;return!(!n||!1===t)&&n},e.syncLoadData=function(t){var n=t.expanded,r=t.loading,i=t.loaded,o=e.props.context,a=o.loadData,s=o.onNodeLoad;r||a&&n&&!e.isLeaf()&&(e.hasChildren()||i||s(LF(e.props)))},e.isDraggable=function(){var t=e.props,n=t.data,r=t.context.draggable;return!(!r||r.nodeDraggable&&!r.nodeDraggable(n))},e.renderDragHandler=function(){var t=e.props.context,n=t.draggable,r=t.prefixCls;return(null===n||void 0===n?void 0:n.icon)?m.createElement("span",{className:"".concat(r,"-draggable-icon")},n.icon):null},e.renderSwitcherIconDom=function(t){var n=e.props.switcherIcon,r=e.props.context.switcherIcon,i=n||r;return"function"===typeof i?i(Ee(Ee({},e.props),{},{isLeaf:t})):i},e.renderSwitcher=function(){var t=e.props.expanded,n=e.props.context.prefixCls;if(e.isLeaf()){var r=e.renderSwitcherIconDom(!0);return!1!==r?m.createElement("span",{className:Ot()("".concat(n,"-switcher"),"".concat(n,"-switcher-noop"))},r):null}var i=Ot()("".concat(n,"-switcher"),"".concat(n,"-switcher_").concat(t?hF:pF)),o=e.renderSwitcherIconDom(!1);return!1!==o?m.createElement("span",{onClick:e.onExpand,className:i},o):null},e.renderCheckbox=function(){var t=e.props,n=t.checked,r=t.halfChecked,i=t.disableCheckbox,o=e.props.context.prefixCls,a=e.isDisabled(),s=e.isCheckable();if(!s)return null;var u="boolean"!==typeof s?s:null;return m.createElement("span",{className:Ot()("".concat(o,"-checkbox"),n&&"".concat(o,"-checkbox-checked"),!n&&r&&"".concat(o,"-checkbox-indeterminate"),(a||i)&&"".concat(o,"-checkbox-disabled")),onClick:e.onCheck},u)},e.renderIcon=function(){var t=e.props.loading,n=e.props.context.prefixCls;return m.createElement("span",{className:Ot()("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(n,"-icon_loading"))})},e.renderSelector=function(){var t,n,r=e.state.dragNodeHighlight,i=e.props,o=i.title,a=i.selected,s=i.icon,u=i.loading,l=i.data,c=e.props.context,f=c.prefixCls,d=c.showIcon,h=c.icon,p=c.loadData,g=c.titleRender,v=e.isDisabled(),y="".concat(f,"-node-content-wrapper");if(d){var b=s||h;t=b?m.createElement("span",{className:Ot()("".concat(f,"-iconEle"),"".concat(f,"-icon__customize"))},"function"===typeof b?b(e.props):b):e.renderIcon()}else p&&u&&(t=e.renderIcon());n="function"===typeof o?o(l):g?g(l):o;var x=m.createElement("span",{className:"".concat(f,"-title")},n);return m.createElement("span",{ref:e.setSelectHandle,title:"string"===typeof o?o:"",className:Ot()("".concat(y),"".concat(y,"-").concat(e.getNodeState()||"normal"),!v&&(a||r)&&"".concat(f,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},t,x,e.renderDropIndicator())},e.renderDropIndicator=function(){var t=e.props,n=t.disabled,r=t.eventKey,i=e.props.context,o=i.draggable,a=i.dropLevelOffset,s=i.dropPosition,u=i.prefixCls,l=i.indent,c=i.dropIndicatorRender,f=i.dragOverNodeKey,d=i.direction;return!n&&!1!==o&&f===r?c({dropPosition:s,dropLevelOffset:a,indent:l,prefixCls:u,direction:d}):null},e}return(0,Lt.Z)(n,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var e=this.props.selectable,t=this.props.context.selectable;return"boolean"===typeof e?e:t}},{key:"render",value:function(){var e,t=this.props,n=t.eventKey,r=t.className,i=t.style,o=t.dragOver,a=t.dragOverGapTop,s=t.dragOverGapBottom,u=t.isLeaf,l=t.isStart,c=t.isEnd,f=t.expanded,d=t.selected,h=t.checked,p=t.halfChecked,g=t.loading,v=t.domRef,y=t.active,b=(t.data,t.onMouseMove),x=t.selectable,w=gn(t,dF),E=this.props.context,S=E.prefixCls,_=E.filterTreeNode,T=E.keyEntities,k=E.dropContainerKey,C=E.dropTargetKey,M=E.draggingNodeKey,A=this.isDisabled(),N=_I(w,{aria:!0,data:!0}),P=(T[n]||{}).level,I=c[c.length-1],D=this.isDraggable(),O=!A&&D,R=M===n,L=void 0!==x?{"aria-selected":!!x}:void 0;return m.createElement("div",wt({ref:v,className:Ot()(r,"".concat(S,"-treenode"),(e={},(0,xe.Z)(e,"".concat(S,"-treenode-disabled"),A),(0,xe.Z)(e,"".concat(S,"-treenode-switcher-").concat(f?"open":"close"),!u),(0,xe.Z)(e,"".concat(S,"-treenode-checkbox-checked"),h),(0,xe.Z)(e,"".concat(S,"-treenode-checkbox-indeterminate"),p),(0,xe.Z)(e,"".concat(S,"-treenode-selected"),d),(0,xe.Z)(e,"".concat(S,"-treenode-loading"),g),(0,xe.Z)(e,"".concat(S,"-treenode-active"),y),(0,xe.Z)(e,"".concat(S,"-treenode-leaf-last"),I),(0,xe.Z)(e,"".concat(S,"-treenode-draggable"),O),(0,xe.Z)(e,"dragging",R),(0,xe.Z)(e,"drop-target",C===n),(0,xe.Z)(e,"drop-container",k===n),(0,xe.Z)(e,"drag-over",!A&&o),(0,xe.Z)(e,"drag-over-gap-top",!A&&a),(0,xe.Z)(e,"drag-over-gap-bottom",!A&&s),(0,xe.Z)(e,"filter-node",_&&_(LF(this.props))),e)),style:i,draggable:O,"aria-grabbed":R,onDragStart:O?this.onDragStart:void 0,onDragEnter:D?this.onDragEnter:void 0,onDragOver:D?this.onDragOver:void 0,onDragLeave:D?this.onDragLeave:void 0,onDrop:D?this.onDrop:void 0,onDragEnd:D?this.onDragEnd:void 0,onMouseMove:b},L,N),m.createElement(fF,{prefixCls:S,level:P,isStart:l,isEnd:c}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),n}(m.Component),vF=function(e){return m.createElement(lF.Consumer,null,(function(t){return m.createElement(gF,wt({},e,{context:t}))}))};vF.displayName="TreeNode",vF.defaultProps={title:"---"},vF.isTreeNode=1;var mF=vF;function yF(e,t){if(!e)return[];var n=e.slice(),r=n.indexOf(t);return r>=0&&n.splice(r,1),n}function bF(e,t){var n=(e||[]).slice();return-1===n.indexOf(t)&&n.push(t),n}function xF(e){return e.split("-")}function wF(e,t){return"".concat(e,"-").concat(t)}function EF(e,t){var n=[];return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){var r=t.key,i=t.children;n.push(r),e(i)}))}(t[e].children),n}function SF(e){if(e.parent){var t=xF(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function _F(e,t,n,r,i,o,a,s,u,l){var c,f=e.clientX,d=e.clientY,h=e.target.getBoundingClientRect(),p=h.top,g=h.height,v=(("rtl"===l?-1:1)*(((null===i||void 0===i?void 0:i.x)||0)-f)-12)/r,m=s[n.props.eventKey];if(d<p+g/2){var y=a.findIndex((function(e){return e.key===m.key})),b=a[y<=0?0:y-1].key;m=s[b]}var x=m.key,w=m,E=m.key,S=0,_=0;if(!u.includes(x))for(var T=0;T<v&&SF(m);T+=1)m=m.parent,_+=1;var k=t.props.data,C=m.node,M=!0;return function(e){var t=xF(e.pos);return 0===Number(t[t.length-1])}(m)&&0===m.level&&d<p+g/2&&o({dragNode:k,dropNode:C,dropPosition:-1})&&m.key===n.props.eventKey?S=-1:(w.children||[]).length&&u.includes(E)?o({dragNode:k,dropNode:C,dropPosition:0})?S=0:M=!1:0===_?v>-1.5?o({dragNode:k,dropNode:C,dropPosition:1})?S=1:M=!1:o({dragNode:k,dropNode:C,dropPosition:0})?S=0:o({dragNode:k,dropNode:C,dropPosition:1})?S=1:M=!1:o({dragNode:k,dropNode:C,dropPosition:1})?S=1:M=!1,{dropPosition:S,dropLevelOffset:_,dropTargetKey:m.key,dropTargetPos:m.pos,dragOverNodeKey:E,dropContainerKey:0===S?null:(null===(c=m.parent)||void 0===c?void 0:c.key)||null,dropAllowed:M}}function TF(e,t){if(e)return t.multiple?e.slice():e.length?[e[0]]:e}function kF(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==(0,mn.Z)(e))return Zn(!1,"`checkedKeys` is not an array or an object"),null;t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return t}function CF(e,t){var n=new Set;function r(e){if(!n.has(e)){var i=t[e];if(i){n.add(e);var o=i.parent;i.node.disabled||o&&r(o.key)}}}return(e||[]).forEach((function(e){r(e)})),(0,Pt.Z)(n)}var MF=["children"];function AF(e,t){return null!==e&&void 0!==e?e:t}function NF(e){var t=e||{},n=t.title||"title";return{title:n,_title:t._title||[n],key:t.key||"key",children:t.children||"children"}}function PF(e){return function e(t){return EP(t).map((function(t){if(!function(e){return e&&e.type&&e.type.isTreeNode}(t))return Zn(!t,"Tree/TreeNode can only accept TreeNode as children."),null;var n=t.key,r=t.props,i=r.children,o=Ee({key:n},gn(r,MF)),a=e(i);return a.length&&(o.children=a),o})).filter((function(e){return e}))}(e)}function IF(e,t,n){var r=NF(n),i=r._title,o=r.key,a=r.children,s=new Set(!0===t?[]:t),u=[];return function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.map((function(l,c){for(var f,d=wF(r?r.pos:"0",c),h=AF(l[o],d),p=0;p<i.length;p+=1){var g=i[p];if(void 0!==l[g]){f=l[g];break}}var v=Ee(Ee({},hn(l,[].concat((0,Pt.Z)(i),[o,a]))),{},{title:f,key:h,parent:r,pos:d,children:null,data:l,isStart:[].concat((0,Pt.Z)(r?r.isStart:[]),[0===c]),isEnd:[].concat((0,Pt.Z)(r?r.isEnd:[]),[c===n.length-1])});return u.push(v),!0===t||s.has(h)?v.children=e(l[a]||[],v):v.children=[],v}))}(e),u}function DF(e,t,n){var r,i=("object"===(0,mn.Z)(n)?n:{externalGetKey:n})||{},o=i.childrenPropName,a=i.externalGetKey,s=NF(i.fieldNames),u=s.key,l=s.children,c=o||l;a?"string"===typeof a?r=function(e){return e[a]}:"function"===typeof a&&(r=function(e){return a(e)}):r=function(e,t){return AF(e[u],t)},function n(i,o,a,s){var u=i?i[c]:e,l=i?wF(a.pos,o):"0",f=i?[].concat((0,Pt.Z)(s),[i]):[];if(i){var d=r(i,l),h={node:i,index:o,pos:l,key:d,parentPos:a.node?a.pos:null,level:a.level+1,nodes:f};t(h)}u&&u.forEach((function(e,t){n(e,t,{node:i,pos:l,level:a?a.level+1:-1},f)}))}(null)}function OF(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,r=t.processEntity,i=t.onProcessFinished,o=t.externalGetKey,a=t.childrenPropName,s=t.fieldNames,u=arguments.length>2?arguments[2]:void 0,l=o||u,c={},f={},d={posEntities:c,keyEntities:f};return n&&(d=n(d)||d),DF(e,(function(e){var t=e.node,n=e.index,i=e.pos,o=e.key,a=e.parentPos,s=e.level,u={node:t,nodes:e.nodes,index:n,key:o,pos:i,level:s},l=AF(o,i);c[i]=u,f[l]=u,u.parent=c[a],u.parent&&(u.parent.children=u.parent.children||[],u.parent.children.push(u)),r&&r(u,d)}),{externalGetKey:l,childrenPropName:a,fieldNames:s}),i&&i(d),d}function RF(e,t){var n=t.expandedKeys,r=t.selectedKeys,i=t.loadedKeys,o=t.loadingKeys,a=t.checkedKeys,s=t.halfCheckedKeys,u=t.dragOverNodeKey,l=t.dropPosition,c=t.keyEntities[e];return{eventKey:e,expanded:-1!==n.indexOf(e),selected:-1!==r.indexOf(e),loaded:-1!==i.indexOf(e),loading:-1!==o.indexOf(e),checked:-1!==a.indexOf(e),halfChecked:-1!==s.indexOf(e),pos:String(c?c.pos:""),dragOver:u===e&&0===l,dragOverGapTop:u===e&&-1===l,dragOverGapBottom:u===e&&1===l}}function LF(e){var t=e.data,n=e.expanded,r=e.selected,i=e.checked,o=e.loaded,a=e.loading,s=e.halfChecked,u=e.dragOver,l=e.dragOverGapTop,c=e.dragOverGapBottom,f=e.pos,d=e.active,h=e.eventKey,p=Ee(Ee({},t),{},{expanded:n,selected:r,checked:i,loaded:o,loading:a,halfChecked:s,dragOver:u,dragOverGapTop:l,dragOverGapBottom:c,pos:f,active:d,key:h});return"props"in p||Object.defineProperty(p,"props",{get:function(){return Zn(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),p}function jF(e,t){var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n}function BF(e){var t=e||{},n=t.disabled,r=t.disableCheckbox,i=t.checkable;return!(!n&&!r)||!1===i}function FF(e,t,n,r){var i,o=[];i=r||BF;var a,s=new Set(e.filter((function(e){var t=!!n[e];return t||o.push(e),t}))),u=new Map,l=0;return Object.keys(n).forEach((function(e){var t=n[e],r=t.level,i=u.get(r);i||(i=new Set,u.set(r,i)),i.add(t),l=Math.max(l,r)})),Zn(!o.length,"Tree missing follow keys: ".concat(o.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),a=!0===t?function(e,t,n,r){for(var i=new Set(e),o=new Set,a=0;a<=n;a+=1)(t.get(a)||new Set).forEach((function(e){var t=e.key,n=e.node,o=e.children,a=void 0===o?[]:o;i.has(t)&&!r(n)&&a.filter((function(e){return!r(e.node)})).forEach((function(e){i.add(e.key)}))}));for(var s=new Set,u=n;u>=0;u-=1)(t.get(u)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!r(n)&&e.parent&&!s.has(e.parent.key))if(r(e.parent.node))s.add(t.key);else{var a=!0,u=!1;(t.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var t=e.key,n=i.has(t);a&&!n&&(a=!1),u||!n&&!o.has(t)||(u=!0)})),a&&i.add(t.key),u&&o.add(t.key),s.add(t.key)}}));return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(jF(o,i))}}(s,u,l,i):function(e,t,n,r,i){for(var o=new Set(e),a=new Set(t),s=0;s<=r;s+=1)(n.get(s)||new Set).forEach((function(e){var t=e.key,n=e.node,r=e.children,s=void 0===r?[]:r;o.has(t)||a.has(t)||i(n)||s.filter((function(e){return!i(e.node)})).forEach((function(e){o.delete(e.key)}))}));a=new Set;for(var u=new Set,l=r;l>=0;l-=1)(n.get(l)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!i(n)&&e.parent&&!u.has(e.parent.key))if(i(e.parent.node))u.add(t.key);else{var r=!0,s=!1;(t.children||[]).filter((function(e){return!i(e.node)})).forEach((function(e){var t=e.key,n=o.has(t);r&&!n&&(r=!1),s||!n&&!a.has(t)||(s=!0)})),r||o.delete(t.key),s&&a.add(t.key),u.add(t.key)}}));return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(jF(a,o))}}(s,t.halfCheckedKeys,u,l,i),a}var zF=function(e){(0,jt.Z)(n,e);var t=(0,Bt.Z)(n);function n(e){var r;(0,Rt.Z)(this,n),(r=t.call(this,e)).handleChange=function(e){var t=r.props,n=t.disabled,i=t.onChange;n||("checked"in r.props||r.setState({checked:e.target.checked}),i&&i({target:Ee(Ee({},r.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},r.saveInput=function(e){r.input=e};var i="checked"in e?e.checked:e.defaultChecked;return r.state={checked:i},r}return(0,Lt.Z)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,r=t.className,i=t.style,o=t.name,a=t.id,s=t.type,u=t.disabled,l=t.readOnly,c=t.tabIndex,f=t.onClick,d=t.onFocus,h=t.onBlur,p=t.onKeyDown,g=t.onKeyPress,v=t.onKeyUp,y=t.autoFocus,b=t.value,x=t.required,w=gn(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),E=Object.keys(w).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=w[t]),e}),{}),S=this.state.checked,_=Ot()(n,r,(e={},(0,xe.Z)(e,"".concat(n,"-checked"),S),(0,xe.Z)(e,"".concat(n,"-disabled"),u),e));return m.createElement("span",{className:_,style:i},m.createElement("input",wt({name:o,id:a,type:s,required:x,readOnly:l,disabled:u,tabIndex:c,className:"".concat(n,"-input"),checked:!!S,onClick:f,onFocus:d,onBlur:h,onKeyUp:v,onKeyDown:p,onKeyPress:g,onChange:this.handleChange,autoFocus:y,ref:this.saveInput,value:b},E)),m.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?Ee(Ee({},t),{},{checked:e.checked}):null}}]),n}(m.Component);zF.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var YF=zF,GF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},VF=m.createContext(null),UF=function(e,t){var n=e.defaultValue,r=e.children,i=e.options,o=void 0===i?[]:i,a=e.prefixCls,s=e.className,u=e.style,l=e.onChange,c=GF(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),f=m.useContext(tn),d=f.getPrefixCls,h=f.direction,p=m.useState(c.value||n||[]),g=(0,It.Z)(p,2),v=g[0],y=g[1],b=m.useState([]),x=(0,It.Z)(b,2),w=x[0],E=x[1];m.useEffect((function(){"value"in c&&y(c.value||[])}),[c.value]);var S=function(){return o.map((function(e){return"string"===typeof e||"number"===typeof e?{label:e,value:e}:e}))},_=d("checkbox",a),T="".concat(_,"-group"),k=hn(c,["value","disabled"]);o&&o.length>0&&(r=S().map((function(e){return m.createElement(qF,{prefixCls:_,key:e.value.toString(),disabled:"disabled"in e?e.disabled:c.disabled,value:e.value,checked:-1!==v.indexOf(e.value),onChange:e.onChange,className:"".concat(T,"-item"),style:e.style},e.label)})));var C={toggleOption:function(e){var t=v.indexOf(e.value),n=(0,Pt.Z)(v);-1===t?n.push(e.value):n.splice(t,1),"value"in c||y(n);var r=S();null===l||void 0===l||l(n.filter((function(e){return-1!==w.indexOf(e)})).sort((function(e,t){return r.findIndex((function(t){return t.value===e}))-r.findIndex((function(e){return e.value===t}))})))},value:v,disabled:c.disabled,name:c.name,registerValue:function(e){E((function(t){return[].concat((0,Pt.Z)(t),[e])}))},cancelValue:function(e){E((function(t){return t.filter((function(t){return t!==e}))}))}},M=Ot()(T,(0,xe.Z)({},"".concat(T,"-rtl"),"rtl"===h),s);return m.createElement("div",wt({className:M,style:u},k,{ref:t}),m.createElement(VF.Provider,{value:C},r))},WF=m.forwardRef(UF),ZF=m.memo(WF),HF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},XF=function(e,t){var n,r=e.prefixCls,i=e.className,o=e.children,a=e.indeterminate,s=void 0!==a&&a,u=e.style,l=e.onMouseEnter,c=e.onMouseLeave,f=e.skipGroup,d=void 0!==f&&f,h=HF(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),p=m.useContext(tn),g=p.getPrefixCls,v=p.direction,y=m.useContext(VF),b=m.useRef(h.value);m.useEffect((function(){null===y||void 0===y||y.registerValue(h.value),BT("checked"in h||!!y||!("value"in h),"Checkbox","`value` is not a valid prop, do you mean `checked`?")}),[]),m.useEffect((function(){if(!d)return h.value!==b.current&&(null===y||void 0===y||y.cancelValue(b.current),null===y||void 0===y||y.registerValue(h.value),b.current=h.value),function(){return null===y||void 0===y?void 0:y.cancelValue(h.value)}}),[h.value]);var x=g("checkbox",r),w=wt({},h);y&&!d&&(w.onChange=function(){h.onChange&&h.onChange.apply(h,arguments),y.toggleOption&&y.toggleOption({label:o,value:h.value})},w.name=y.name,w.checked=-1!==y.value.indexOf(h.value),w.disabled=h.disabled||y.disabled);var E=Ot()((n={},(0,xe.Z)(n,"".concat(x,"-wrapper"),!0),(0,xe.Z)(n,"".concat(x,"-rtl"),"rtl"===v),(0,xe.Z)(n,"".concat(x,"-wrapper-checked"),w.checked),(0,xe.Z)(n,"".concat(x,"-wrapper-disabled"),w.disabled),n),i),S=Ot()((0,xe.Z)({},"".concat(x,"-indeterminate"),s));return m.createElement("label",{className:E,style:u,onMouseEnter:l,onMouseLeave:c},m.createElement(YF,wt({},w,{prefixCls:x,className:S,ref:t})),void 0!==o&&m.createElement("span",null,o))},KF=m.forwardRef(XF);KF.displayName="Checkbox";var qF=KF,JF=qF;JF.Group=ZF,JF.__ANT_CHECKBOX=!0;var $F=JF,QF={adjustX:1,adjustY:1},ez=[0,0],tz={topLeft:{points:["bl","tl"],overflow:QF,offset:[0,-4],targetOffset:ez},topCenter:{points:["bc","tc"],overflow:QF,offset:[0,-4],targetOffset:ez},topRight:{points:["br","tr"],overflow:QF,offset:[0,-4],targetOffset:ez},bottomLeft:{points:["tl","bl"],overflow:QF,offset:[0,4],targetOffset:ez},bottomCenter:{points:["tc","bc"],overflow:QF,offset:[0,4],targetOffset:ez},bottomRight:{points:["tr","br"],overflow:QF,offset:[0,4],targetOffset:ez}},nz=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger"];function rz(e,t){var n=e.arrow,r=void 0!==n&&n,i=e.prefixCls,o=void 0===i?"rc-dropdown":i,a=e.transitionName,s=e.animation,u=e.align,l=e.placement,c=void 0===l?"bottomLeft":l,f=e.placements,d=void 0===f?tz:f,h=e.getPopupContainer,p=e.showAction,g=e.hideAction,v=e.overlayClassName,y=e.overlayStyle,b=e.visible,x=e.trigger,w=void 0===x?["hover"]:x,E=gn(e,nz),S=m.useState(),_=(0,It.Z)(S,2),T=_[0],k=_[1],C="visible"in e?b:T,M=m.useRef(null);m.useImperativeHandle(t,(function(){return M.current}));var A=function(){var t=e.overlay;return"function"===typeof t?t():t},N=function(t){var n=e.onOverlayClick,r=A().props;k(!1),n&&n(t),r.onClick&&r.onClick(t)},P=function(){var e=A(),t={prefixCls:"".concat(o,"-menu"),onClick:N};return"string"===typeof e.type&&delete t.prefixCls,m.createElement(m.Fragment,null,r&&m.createElement("div",{className:"".concat(o,"-arrow")}),m.cloneElement(e,t))},I=g;return I||-1===w.indexOf("contextMenu")||(I=["click"]),m.createElement(CN,Ee(Ee({builtinPlacements:d},E),{},{prefixCls:o,ref:M,popupClassName:Ot()(v,(0,xe.Z)({},"".concat(o,"-show-arrow"),r)),popupStyle:y,action:w,showAction:p,hideAction:I||[],popupPlacement:c,popupAlign:u,popupTransitionName:a,popupAnimation:s,popupVisible:C,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof e.overlay?P:P(),onPopupVisibleChange:function(t){var n=e.onVisibleChange;k(t),"function"===typeof n&&n(t)},getPopupContainer:h}),function(){var t=e.children,n=t.props?t.props:{},r=Ot()(n.className,function(){var t=e.openClassName;return void 0!==t?t:"".concat(o,"-open")}());return C&&t?m.cloneElement(t,{className:r}):t}())}var iz=m.forwardRef(rz),oz=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},az=Gk.Group,sz=function(e){var t=m.useContext(tn),n=t.getPopupContainer,r=t.getPrefixCls,i=t.direction,o=e.prefixCls,a=e.type,s=void 0===a?"default":a,u=e.disabled,l=e.loading,c=e.onClick,f=e.htmlType,d=e.children,h=e.className,p=e.overlay,g=e.trigger,v=e.align,y=e.visible,b=e.onVisibleChange,x=e.placement,w=e.getPopupContainer,E=e.href,S=e.icon,_=void 0===S?m.createElement(EL,null):S,T=e.title,k=e.buttonsRender,C=void 0===k?function(e){return e}:k,M=e.mouseEnterDelay,A=e.mouseLeaveDelay,N=e.overlayClassName,P=e.overlayStyle,I=e.destroyPopupOnHide,D=oz(e,["prefixCls","type","disabled","loading","onClick","htmlType","children","className","overlay","trigger","align","visible","onVisibleChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide"]),O=r("dropdown-button",o),R={align:v,overlay:p,disabled:u,trigger:u?[]:g,onVisibleChange:b,getPopupContainer:w||n,mouseEnterDelay:M,mouseLeaveDelay:A,overlayClassName:N,overlayStyle:P,destroyPopupOnHide:I};"visible"in e&&(R.visible=y),R.placement="placement"in e?x:"rtl"===i?"bottomLeft":"bottomRight";var L=C([m.createElement(Gk,{type:s,disabled:u,loading:l,onClick:c,htmlType:f,href:E,title:T},d),m.createElement(Gk,{type:s,icon:_})]),j=(0,It.Z)(L,2),B=j[0],F=j[1];return m.createElement(az,wt({},D,{className:Ot()(O,h)}),B,m.createElement(cz,R,F))};sz.__ANT_BUTTON=!0;var uz=sz,lz=(jT("topLeft","topCenter","topRight","bottomLeft","bottomCenter","bottomRight"),function(e){var t,n=m.useContext(tn),r=n.getPopupContainer,i=n.getPrefixCls,o=n.direction,a=e.arrow,s=e.prefixCls,u=e.children,l=e.trigger,c=e.disabled,f=e.getPopupContainer,d=e.overlayClassName,h=i("dropdown",s),p=m.Children.only(u),g=DT(p,{className:Ot()("".concat(h,"-trigger"),(0,xe.Z)({},"".concat(h,"-rtl"),"rtl"===o),p.props.className),disabled:c}),v=Ot()(d,(0,xe.Z)({},"".concat(h,"-rtl"),"rtl"===o)),y=c?[]:l;return y&&-1!==y.indexOf("contextMenu")&&(t=!0),m.createElement(iz,wt({arrow:a,alignPoint:t},e,{overlayClassName:v,prefixCls:h,getPopupContainer:f||r,transitionName:function(){var t=i(),n=e.placement,r=void 0===n?"":n,o=e.transitionName;return void 0!==o?o:r.indexOf("top")>=0?"".concat(t,"-slide-down"):"".concat(t,"-slide-up")}(),trigger:y,overlay:function(){return function(t){var n,r=e.overlay;n="function"===typeof r?r():r;var i=(n=m.Children.only("string"===typeof n?m.createElement("span",null,n):n)).props;BT(!i.mode||"vertical"===i.mode,"Dropdown",'mode="'.concat(i.mode,"\" is not supported for Dropdown's Menu."));var o=i.selectable,a=void 0!==o&&o,s=i.expandIcon,u="undefined"!==typeof s&&m.isValidElement(s)?s:m.createElement("span",{className:"".concat(t,"-menu-submenu-arrow")},m.createElement(br,{className:"".concat(t,"-menu-submenu-arrow-icon")}));return"string"===typeof n.type?n:DT(n,{mode:"vertical",selectable:a,expandIcon:u})}(h)},placement:function(){var t=e.placement;return void 0!==t?t:"rtl"===o?"bottomRight":"bottomLeft"}()}),g)});lz.Button=uz,lz.defaultProps={mouseEnterDelay:.15,mouseLeaveDelay:.1};var cz=lz,fz=cz,dz=m.createContext(null),hz=dz.Provider,pz=dz,gz=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},vz=function(e,t){var n,r=m.useContext(pz),i=m.useContext(tn),o=i.getPrefixCls,a=i.direction,s=xT(t,m.useRef());m.useEffect((function(){BT(!("optionType"in e),"Radio","`optionType` is only support in Radio.Group.")}),[]);var u=e.prefixCls,l=e.className,c=e.children,f=e.style,d=gz(e,["prefixCls","className","children","style"]),h=o("radio",u),p=wt({},d);r&&(p.name=r.name,p.onChange=function(t){var n,i;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(i=null===r||void 0===r?void 0:r.onChange)||void 0===i||i.call(r,t)},p.checked=e.value===r.value,p.disabled=e.disabled||r.disabled);var g=Ot()("".concat(h,"-wrapper"),(n={},(0,xe.Z)(n,"".concat(h,"-wrapper-checked"),p.checked),(0,xe.Z)(n,"".concat(h,"-wrapper-disabled"),p.disabled),(0,xe.Z)(n,"".concat(h,"-wrapper-rtl"),"rtl"===a),n),l);return m.createElement("label",{className:g,style:f,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},m.createElement(YF,wt({},p,{type:"radio",prefixCls:h,ref:s})),void 0!==c?m.createElement("span",null,c):null)},mz=m.forwardRef(vz);mz.displayName="Radio";var yz=mz;var bz=m.forwardRef((function(e,t){var n=m.useContext(tn),r=n.getPrefixCls,i=n.direction,o=m.useContext(zT),a=fC(e.defaultValue,{value:e.value}),s=(0,It.Z)(a,2),u=s[0],l=s[1];return m.createElement(hz,{value:{onChange:function(t){var n=u,r=t.target.value;"value"in e||l(r);var i=e.onChange;i&&r!==n&&i(t)},value:u,disabled:e.disabled,name:e.name}},function(){var n,a=e.prefixCls,s=e.className,l=void 0===s?"":s,c=e.options,f=e.optionType,d=e.buttonStyle,h=void 0===d?"outline":d,p=e.disabled,g=e.children,v=e.size,y=e.style,b=e.id,x=e.onMouseEnter,w=e.onMouseLeave,E=r("radio",a),S="".concat(E,"-group"),_=g;if(c&&c.length>0){var T="button"===f?"".concat(E,"-button"):E;_=c.map((function(e){return"string"===typeof e||"number"===typeof e?m.createElement(yz,{key:e.toString(),prefixCls:T,disabled:p,value:e,checked:u===e},e):m.createElement(yz,{key:"radio-group-value-options-".concat(e.value),prefixCls:T,disabled:e.disabled||p,value:e.value,checked:u===e.value,style:e.style},e.label)}))}var k=v||o,C=Ot()(S,"".concat(S,"-").concat(h),(n={},(0,xe.Z)(n,"".concat(S,"-").concat(k),k),(0,xe.Z)(n,"".concat(S,"-rtl"),"rtl"===i),n),l);return m.createElement("div",wt({},function(e){return Object.keys(e).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||"data-__"===n.substr(0,7)||(t[n]=e[n]),t}),{})}(e),{className:C,style:y,onMouseEnter:x,onMouseLeave:w,id:b,ref:t}),_)}())})),xz=m.memo(bz),wz=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ez=function(e,t){var n=m.useContext(pz),r=m.useContext(tn).getPrefixCls,i=e.prefixCls,o=wz(e,["prefixCls"]),a=r("radio-button",i);return n&&(o.checked=e.value===n.value,o.disabled=e.disabled||n.disabled),m.createElement(yz,wt({prefixCls:a},o,{type:"radio",ref:t}))},Sz=m.forwardRef(Ez),_z=yz;_z.Button=Sz,_z.Group=xz;var Tz=_z,kz={},Cz="SELECT_ALL",Mz="SELECT_INVERT",Az="SELECT_NONE",Nz=[];function Pz(e,t){var n=[];return(e||[]).forEach((function(e){n.push(e),e&&"object"===(0,mn.Z)(e)&&t in e&&(n=[].concat((0,Pt.Z)(n),(0,Pt.Z)(Pz(e[t],t))))})),n}function Iz(e,t){var n=e||{},r=n.preserveSelectedRowKeys,i=n.selectedRowKeys,o=n.defaultSelectedRowKeys,a=n.getCheckboxProps,s=n.onChange,u=n.onSelect,l=n.onSelectAll,c=n.onSelectInvert,f=n.onSelectNone,d=n.onSelectMultiple,h=n.columnWidth,p=n.type,g=n.selections,v=n.fixed,y=n.renderCell,b=n.hideSelectAll,x=n.checkStrictly,w=void 0===x||x,E=t.prefixCls,S=t.data,_=t.pageData,T=t.getRecordByKey,k=t.getRowKey,C=t.expandType,M=t.childrenColumnName,A=t.locale,N=t.getPopupContainer,P=fC(i||o||Nz,{value:i}),I=(0,It.Z)(P,2),D=I[0],O=I[1],R=m.useRef(new Map),L=(0,m.useCallback)((function(e){if(r){var t=new Map;e.forEach((function(e){var n=T(e);!n&&R.current.has(e)&&(n=R.current.get(e)),t.set(e,n)})),R.current=t}}),[T,r]);m.useEffect((function(){L(D)}),[D]);var j=(0,m.useMemo)((function(){return w?{keyEntities:null}:OF(S,{externalGetKey:k,childrenPropName:M})}),[S,k,w,M]).keyEntities,B=(0,m.useMemo)((function(){return Pz(_,M)}),[_,M]),F=(0,m.useMemo)((function(){var e=new Map;return B.forEach((function(t,n){var r=k(t,n),i=(a?a(t):null)||{};e.set(r,i)})),e}),[B,k,a]),z=(0,m.useCallback)((function(e){var t;return!!(null===(t=F.get(k(e)))||void 0===t?void 0:t.disabled)}),[F,k]),Y=(0,m.useMemo)((function(){if(w)return[D||[],[]];var e=FF(D,!0,j,z);return[e.checkedKeys||[],e.halfCheckedKeys]}),[D,w,j,z]),G=(0,It.Z)(Y,2),V=G[0],U=G[1],W=(0,m.useMemo)((function(){var e="radio"===p?V.slice(0,1):V;return new Set(e)}),[V,p]),Z=(0,m.useMemo)((function(){return"radio"===p?new Set:new Set(U)}),[U,p]),H=(0,m.useState)(null),X=(0,It.Z)(H,2),K=X[0],q=X[1];m.useEffect((function(){e||O(Nz)}),[!!e]);var J=(0,m.useCallback)((function(e){var t,n;L(e),r?(t=e,n=e.map((function(e){return R.current.get(e)}))):(t=[],n=[],e.forEach((function(e){var r=T(e);void 0!==r&&(t.push(e),n.push(r))}))),O(t),null===s||void 0===s||s(t,n)}),[O,T,s,r]),$=(0,m.useCallback)((function(e,t,n,r){if(u){var i=n.map((function(e){return T(e)}));u(T(e),t,i,r)}J(n)}),[u,T,J]),Q=(0,m.useMemo)((function(){return!g||b?null:(!0===g?[Cz,Mz,Az]:g).map((function(e){return e===Cz?{key:"all",text:A.selectionAll,onSelect:function(){J(S.map((function(e,t){return k(e,t)})).filter((function(e){var t=F.get(e);return!(null===t||void 0===t?void 0:t.disabled)||W.has(e)})))}}:e===Mz?{key:"invert",text:A.selectInvert,onSelect:function(){var e=new Set(W);_.forEach((function(t,n){var r=k(t,n),i=F.get(r);(null===i||void 0===i?void 0:i.disabled)||(e.has(r)?e.delete(r):e.add(r))}));var t=Array.from(e);c&&(BT(!1,"Table","`onSelectInvert` will be removed in future. Please use `onChange` instead."),c(t)),J(t)}}:e===Az?{key:"none",text:A.selectNone,onSelect:function(){null===f||void 0===f||f(),J(Array.from(W).filter((function(e){var t=F.get(e);return null===t||void 0===t?void 0:t.disabled})))}}:e}))}),[g,W,_,k,c,J]),ee=(0,m.useCallback)((function(t){var n;if(!e)return t.filter((function(e){return e!==kz}));var r,i,o=(0,Pt.Z)(t),a=new Set(W),s=B.map(k).filter((function(e){return!F.get(e).disabled})),u=s.every((function(e){return a.has(e)})),c=s.some((function(e){return a.has(e)}));if("radio"!==p){var f;if(Q){var g=m.createElement(KL,{getPopupContainer:N},Q.map((function(e,t){var n=e.key,r=e.text,i=e.onSelect;return m.createElement(KL.Item,{key:n||t,onClick:function(){null===i||void 0===i||i(s)}},r)})));f=m.createElement("div",{className:"".concat(E,"-selection-extra")},m.createElement(fz,{overlay:g,getPopupContainer:N},m.createElement("span",null,m.createElement(EO,null))))}var x=B.map((function(e,t){var n=k(e,t),r=F.get(n)||{};return wt({checked:a.has(n)},r)})).filter((function(e){return e.disabled})),S=!!x.length&&x.length===B.length,_=S&&x.every((function(e){return e.checked})),M=S&&x.some((function(e){return e.checked}));r=!b&&m.createElement("div",{className:"".concat(E,"-selection")},m.createElement($F,{checked:S?_:!!B.length&&u,indeterminate:S?!_&&M:!u&&c,onChange:function(){var e=[];u?s.forEach((function(t){a.delete(t),e.push(t)})):s.forEach((function(t){a.has(t)||(a.add(t),e.push(t))}));var t=Array.from(a);null===l||void 0===l||l(!u,t.map((function(e){return T(e)})),e.map((function(e){return T(e)}))),J(t)},disabled:0===B.length||S,skipGroup:!0}),f)}i="radio"===p?function(e,t,n){var r=k(t,n),i=a.has(r);return{node:m.createElement(Tz,wt({},F.get(r),{checked:i,onClick:function(e){return e.stopPropagation()},onChange:function(e){a.has(r)||$(r,!0,[r],e.nativeEvent)}})),checked:i}}:function(e,t,n){var r,i,o=k(t,n),u=a.has(o),l=Z.has(o),c=F.get(o);return"nest"===C?(i=l,BT("boolean"!==typeof(null===c||void 0===c?void 0:c.indeterminate),"Table","set `indeterminate` using `rowSelection.getCheckboxProps` is not allowed with tree structured dataSource.")):i=null!==(r=null===c||void 0===c?void 0:c.indeterminate)&&void 0!==r?r:l,{node:m.createElement($F,wt({},c,{indeterminate:i,checked:u,skipGroup:!0,onClick:function(e){return e.stopPropagation()},onChange:function(e){var t=e.nativeEvent,n=t.shiftKey,r=-1,i=-1;if(n&&w){var l=new Set([K,o]);s.some((function(e,t){if(l.has(e)){if(-1!==r)return i=t,!0;r=t}return!1}))}if(-1!==i&&r!==i&&w){var c=s.slice(r,i+1),f=[];u?c.forEach((function(e){a.has(e)&&(f.push(e),a.delete(e))})):c.forEach((function(e){a.has(e)||(f.push(e),a.add(e))}));var h=Array.from(a);null===d||void 0===d||d(!u,h.map((function(e){return T(e)})),f.map((function(e){return T(e)}))),J(h)}else{var p=V;if(w){var g=u?yF(p,o):bF(p,o);$(o,!u,g,t)}else{var v=FF([].concat((0,Pt.Z)(p),[o]),!0,j,z),m=v.checkedKeys,y=v.halfCheckedKeys,b=m;if(u){var x=new Set(m);x.delete(o),b=FF(Array.from(x),{checked:!1,halfCheckedKeys:y},j,z).checkedKeys}$(o,!u,b,t)}}q(o)}})),checked:u}};if(!o.includes(kz))if(0===o.findIndex((function(e){var t;return"EXPAND_COLUMN"===(null===(t=e[Qj])||void 0===t?void 0:t.columnType)}))){var A=dI(o),P=A[0],I=A.slice(1);o=[P,kz].concat((0,Pt.Z)(I))}else o=[kz].concat((0,Pt.Z)(o));var D=o.indexOf(kz);o=o.filter((function(e,t){return e!==kz||t===D}));var O=o[D-1],R=o[D+1],L=v;void 0===L&&(void 0!==(null===R||void 0===R?void 0:R.fixed)?L=R.fixed:void 0!==(null===O||void 0===O?void 0:O.fixed)&&(L=O.fixed)),L&&O&&"EXPAND_COLUMN"===(null===(n=O[Qj])||void 0===n?void 0:n.columnType)&&void 0===O.fixed&&(O.fixed=L);var Y=(0,xe.Z)({fixed:L,width:h,className:"".concat(E,"-selection-column"),title:e.columnTitle||r,render:function(e,t,n){var r=i(e,t,n),o=r.node,a=r.checked;return y?y(a,t,n,o):o}},Qj,{className:"".concat(E,"-selection-col")});return o.map((function(e){return e===kz?Y:e}))}),[k,B,e,V,W,Z,h,Q,C,K,F,d,$,z]);return[ee,W]}var Dz={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},Oz=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:Dz}))};Oz.displayName="CaretDownOutlined";var Rz=m.forwardRef(Oz),Lz={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},jz=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:Lz}))};jz.displayName="CaretUpOutlined";var Bz=m.forwardRef(jz);function Fz(e,t){return"key"in e&&void 0!==e.key&&null!==e.key?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t}function zz(e,t){return t?"".concat(t,"-").concat(e):"".concat(e)}function Yz(e,t){return"function"===typeof e?e(t):e}var Gz="ascend",Vz="descend";function Uz(e){return"object"===(0,mn.Z)(e.sorter)&&"number"===typeof e.sorter.multiple&&e.sorter.multiple}function Wz(e){return"function"===typeof e?e:!(!e||"object"!==(0,mn.Z)(e)||!e.compare)&&e.compare}function Zz(e,t,n){var r=[];function i(e,t){r.push({column:e,key:Fz(e,t),multiplePriority:Uz(e),sortOrder:e.sortOrder})}return(e||[]).forEach((function(e,o){var a=zz(o,n);e.children?("sortOrder"in e&&i(e,a),r=[].concat((0,Pt.Z)(r),(0,Pt.Z)(Zz(e.children,t,a)))):e.sorter&&("sortOrder"in e?i(e,a):t&&e.defaultSortOrder&&r.push({column:e,key:Fz(e,a),multiplePriority:Uz(e),sortOrder:e.defaultSortOrder}))})),r}function Hz(e,t,n,r,i,o,a,s){return(t||[]).map((function(t,u){var l=zz(u,s),c=t;if(c.sorter){var f=c.sortDirections||i,d=void 0===c.showSorterTooltip?a:c.showSorterTooltip,h=Fz(c,l),p=n.find((function(e){return e.key===h})),g=p?p.sortOrder:null,v=function(e,t){return t?e[e.indexOf(t)+1]:e[0]}(f,g),y=f.includes(Gz)&&m.createElement(Bz,{className:Ot()("".concat(e,"-column-sorter-up"),{active:g===Gz})}),b=f.includes(Vz)&&m.createElement(Rz,{className:Ot()("".concat(e,"-column-sorter-down"),{active:g===Vz})}),x=o||{},w=x.cancelSort,E=x.triggerAsc,S=x.triggerDesc,_=w;v===Vz?_=S:v===Gz&&(_=E);var T="object"===(0,mn.Z)(d)?d:{title:_};c=wt(wt({},c),{className:Ot()(c.className,(0,xe.Z)({},"".concat(e,"-column-sort"),g)),title:function(n){var r=m.createElement("div",{className:"".concat(e,"-column-sorters")},m.createElement("span",{className:"".concat(e,"-column-title")},Yz(t.title,n)),m.createElement("span",{className:Ot()("".concat(e,"-column-sorter"),(0,xe.Z)({},"".concat(e,"-column-sorter-full"),!(!y||!b)))},m.createElement("span",{className:"".concat(e,"-column-sorter-inner")},y,b)));return d?m.createElement(YL,T,r):r},onHeaderCell:function(n){var i=t.onHeaderCell&&t.onHeaderCell(n)||{},o=i.onClick;return i.onClick=function(e){r({column:t,key:h,sortOrder:v,multiplePriority:Uz(t)}),o&&o(e)},i.className=Ot()(i.className,"".concat(e,"-column-has-sorters")),i}})}return"children"in c&&(c=wt(wt({},c),{children:Hz(e,c.children,n,r,i,o,a,l)})),c}))}function Xz(e){var t=e.column;return{column:t,order:e.sortOrder,field:t.dataIndex,columnKey:t.key}}function Kz(e){var t=e.filter((function(e){return e.sortOrder})).map(Xz);return 0===t.length&&e.length?wt(wt({},Xz(e[e.length-1])),{column:void 0}):t.length<=1?t[0]||{}:t}function qz(e,t,n){var r=t.slice().sort((function(e,t){return t.multiplePriority-e.multiplePriority})),i=e.slice(),o=r.filter((function(e){var t=e.column.sorter,n=e.sortOrder;return Wz(t)&&n}));return o.length?i.sort((function(e,t){for(var n=0;n<o.length;n+=1){var r=o[n],i=r.column.sorter,a=r.sortOrder,s=Wz(i);if(s&&a){var u=s(e,t,a);if(0!==u)return a===Gz?u:-u}}return 0})).map((function(e){var r=e[n];return r?wt(wt({},e),(0,xe.Z)({},n,qz(r,t,n))):e})):i}function Jz(e){var t=e.prefixCls,n=e.mergedColumns,r=e.onSorterChange,i=e.sortDirections,o=e.tableLocale,a=e.showSorterTooltip,s=m.useState(Zz(n,!0)),u=(0,It.Z)(s,2),l=u[0],c=u[1],f=m.useMemo((function(){var e=!0,t=Zz(n,!1);if(!t.length)return l;var r=[];function i(t){e?r.push(t):r.push(wt(wt({},t),{sortOrder:null}))}var o=null;return t.forEach((function(t){null===o?(i(t),t.sortOrder&&(!1===t.multiplePriority?e=!1:o=!0)):(o&&!1!==t.multiplePriority||(e=!1),i(t))})),r}),[n,l]),d=m.useMemo((function(){var e=f.map((function(e){return{column:e.column,order:e.sortOrder}}));return{sortColumns:e,sortColumn:e[0]&&e[0].column,sortOrder:e[0]&&e[0].order}}),[f]);function h(e){var t;t=!1!==e.multiplePriority&&f.length&&!1!==f[0].multiplePriority?[].concat((0,Pt.Z)(f.filter((function(t){return t.key!==e.key}))),[e]):[e],c(t),r(Kz(t),t)}return[function(e){return Hz(t,e,f,h,i,o,a)},f,d,function(){return Kz(f)}]}var $z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},Qz=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:$z}))};Qz.displayName="FilterFilled";var eY=m.forwardRef(Qz),tY={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},nY=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:tY}))};nY.displayName="HolderOutlined";var rY=m.forwardRef(nY),iY=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],oY=function(e,t){var n=e.className,r=e.style,i=e.motion,o=e.motionNodes,a=e.motionType,s=e.onMotionStart,u=e.onMotionEnd,l=e.active,c=e.treeNodeRequiredProps,f=gn(e,iY),d=m.useState(!0),h=(0,It.Z)(d,2),p=h[0],g=h[1],v=m.useContext(lF).prefixCls,y=m.useRef(!1),b=function(){y.current||u(),y.current=!0};return(0,m.useEffect)((function(){o&&"hide"===a&&p&&g(!1)}),[o]),(0,m.useEffect)((function(){return o&&s(),function(){o&&b()}}),[]),o?m.createElement(Mk,wt({ref:t,visible:p},i,{motionAppear:"show"===a,onAppearEnd:b,onLeaveEnd:b}),(function(e,t){var n=e.className,r=e.style;return m.createElement("div",{ref:t,className:Ot()("".concat(v,"-treenode-motion"),n),style:r},o.map((function(e){var t=wt({},e.data),n=e.title,r=e.key,i=e.isStart,o=e.isEnd;delete t.children;var a=RF(r,c);return m.createElement(mF,wt({},t,a,{title:n,active:l,data:e.data,key:r,isStart:i,isEnd:o}))})))})):m.createElement(mF,wt({domRef:t,className:n,style:r},f,{active:l}))};oY.displayName="MotionTreeNode";var aY=m.forwardRef(oY);function sY(e,t,n){var r=e.findIndex((function(e){return e.key===n})),i=e[r+1],o=t.findIndex((function(e){return e.key===n}));if(i){var a=t.findIndex((function(e){return e.key===i.key}));return t.slice(o+1,a)}return t.slice(o+1)}var uY=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],lY={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},cY=function(){},fY="RC_TREE_MOTION_".concat(Math.random()),dY={key:fY},hY={key:fY,level:0,index:0,pos:"0",node:dY,nodes:[dY]},pY={parent:null,children:[],pos:hY.pos,data:dY,title:null,key:fY,isStart:[],isEnd:[]};function gY(e,t,n,r){return!1!==t&&n?e.slice(0,Math.ceil(n/r)+1):e}function vY(e){return AF(e.key,e.pos)}var mY=function(e,t){var n=e.prefixCls,r=e.data,i=(e.selectable,e.checkable,e.expandedKeys),o=e.selectedKeys,a=e.checkedKeys,s=e.loadedKeys,u=e.loadingKeys,l=e.halfCheckedKeys,c=e.keyEntities,f=e.disabled,d=e.dragging,h=e.dragOverNodeKey,p=e.dropPosition,g=e.motion,v=e.height,y=e.itemHeight,b=e.virtual,x=e.focusable,w=e.activeItem,E=e.focused,S=e.tabIndex,_=e.onKeyDown,T=e.onFocus,k=e.onBlur,C=e.onActiveChange,M=e.onListChangeStart,A=e.onListChangeEnd,N=gn(e,uY),P=m.useRef(null),I=m.useRef(null);m.useImperativeHandle(t,(function(){return{scrollTo:function(e){P.current.scrollTo(e)},getIndentWidth:function(){return I.current.offsetWidth}}}));var D=m.useState(i),O=(0,It.Z)(D,2),R=O[0],L=O[1],j=m.useState(r),B=(0,It.Z)(j,2),F=B[0],z=B[1],Y=m.useState(r),G=(0,It.Z)(Y,2),V=G[0],U=G[1],W=m.useState([]),Z=(0,It.Z)(W,2),H=Z[0],X=Z[1],K=m.useState(null),q=(0,It.Z)(K,2),J=q[0],$=q[1];function Q(){z(r),U(r),X([]),$(null),A()}m.useEffect((function(){L(i);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,r=t.length;if(1!==Math.abs(n-r))return{add:!1,key:null};function i(e,t){var n=new Map;e.forEach((function(e){n.set(e,!0)}));var r=t.filter((function(e){return!n.has(e)}));return 1===r.length?r[0]:null}return n<r?{add:!0,key:i(e,t)}:{add:!1,key:i(t,e)}}(R,i);if(null!==e.key)if(e.add){var t=F.findIndex((function(t){return t.key===e.key})),n=gY(sY(F,r,e.key),b,v,y),o=F.slice();o.splice(t+1,0,pY),U(o),X(n),$("show")}else{var a=r.findIndex((function(t){return t.key===e.key})),s=gY(sY(r,F,e.key),b,v,y),u=r.slice();u.splice(a+1,0,pY),U(u),X(s),$("hide")}else F!==r&&(z(r),U(r))}),[i,r]),m.useEffect((function(){d||Q()}),[d]);var ee=g?V:r,te={expandedKeys:i,selectedKeys:o,loadedKeys:s,loadingKeys:u,checkedKeys:a,halfCheckedKeys:l,dragOverNodeKey:h,dropPosition:p,keyEntities:c};return m.createElement(m.Fragment,null,E&&w&&m.createElement("span",{style:lY,"aria-live":"assertive"},function(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}(w)),m.createElement("div",null,m.createElement("input",{style:lY,disabled:!1===x||f,tabIndex:!1!==x?S:null,onKeyDown:_,onFocus:T,onBlur:k,value:"",onChange:cY,"aria-label":"for screen reader"})),m.createElement("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},m.createElement("div",{className:"".concat(n,"-indent")},m.createElement("div",{ref:I,className:"".concat(n,"-indent-unit")}))),m.createElement(KD,wt({},N,{data:ee,itemKey:vY,height:v,fullHeight:!1,virtual:b,itemHeight:y,prefixCls:"".concat(n,"-list"),ref:P,onVisibleChange:function(e,t){var n=new Set(e),r=t.filter((function(e){return!n.has(e)}));r.some((function(e){return vY(e)===fY}))&&Q()}}),(function(e){var t=e.pos,n=wt({},e.data),r=e.title,i=e.key,o=e.isStart,a=e.isEnd,s=AF(i,t);delete n.key,delete n.children;var u=RF(s,te);return m.createElement(aY,wt({},n,u,{title:r,active:!!w&&i===w.key,pos:t,data:e.data,isStart:o,isEnd:a,motion:g,motionNodes:i===fY?H:null,motionType:J,onMotionStart:M,onMotionEnd:Q,treeNodeRequiredProps:te,onMouseMove:function(){C(null)}}))})))},yY=m.forwardRef(mY);yY.displayName="NodeList";var bY=yY;var xY=function(e){(0,jt.Z)(n,e);var t=(0,Bt.Z)(n);function n(){var e;(0,Rt.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:NF()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=m.createRef(),e.onNodeDragStart=function(t,n){var r=e.state,i=r.expandedKeys,o=r.keyEntities,a=e.props.onDragStart,s=n.props.eventKey;e.dragNode=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var u=yF(i,s);e.setState({draggingNodeKey:s,dragChildrenKeys:EF(s,o),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(u),window.addEventListener("dragend",e.onWindowDragEnd),null===a||void 0===a||a({event:t,node:LF(n.props)})},e.onNodeDragEnter=function(t,n){var r=e.state,i=r.expandedKeys,o=r.keyEntities,a=r.dragChildrenKeys,s=r.flattenNodes,u=r.indent,l=e.props,c=l.onDragEnter,f=l.onExpand,d=l.allowDrop,h=l.direction,p=n.props,g=p.pos,v=p.eventKey,m=(0,vT.Z)(e).dragNode;if(e.currentMouseOverDroppableNodeKey!==v&&(e.currentMouseOverDroppableNodeKey=v),m){var y=_F(t,m,n,u,e.dragStartMousePosition,d,s,o,i,h),b=y.dropPosition,x=y.dropLevelOffset,w=y.dropTargetKey,E=y.dropContainerKey,S=y.dropTargetPos,_=y.dropAllowed,T=y.dragOverNodeKey;-1===a.indexOf(w)&&_?(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach((function(t){clearTimeout(e.delayedDragEnterLogic[t])})),m.props.eventKey!==n.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[g]=window.setTimeout((function(){if(null!==e.state.draggingNodeKey){var r=(0,Pt.Z)(i),a=o[n.props.eventKey];a&&(a.children||[]).length&&(r=bF(i,n.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(r),null===f||void 0===f||f(r,{node:LF(n.props),expanded:!0,nativeEvent:t.nativeEvent})}}),800)),m.props.eventKey!==w||0!==x?(e.setState({dragOverNodeKey:T,dropPosition:b,dropLevelOffset:x,dropTargetKey:w,dropContainerKey:E,dropTargetPos:S,dropAllowed:_}),null===c||void 0===c||c({event:t,node:LF(n.props),expandedKeys:i})):e.resetDragState()):e.resetDragState()}else e.resetDragState()},e.onNodeDragOver=function(t,n){var r=e.state,i=r.dragChildrenKeys,o=r.flattenNodes,a=r.keyEntities,s=r.expandedKeys,u=r.indent,l=e.props,c=l.onDragOver,f=l.allowDrop,d=l.direction,h=(0,vT.Z)(e).dragNode;if(h){var p=_F(t,h,n,u,e.dragStartMousePosition,f,o,a,s,d),g=p.dropPosition,v=p.dropLevelOffset,m=p.dropTargetKey,y=p.dropContainerKey,b=p.dropAllowed,x=p.dropTargetPos,w=p.dragOverNodeKey;-1===i.indexOf(m)&&b&&(h.props.eventKey===m&&0===v?null===e.state.dropPosition&&null===e.state.dropLevelOffset&&null===e.state.dropTargetKey&&null===e.state.dropContainerKey&&null===e.state.dropTargetPos&&!1===e.state.dropAllowed&&null===e.state.dragOverNodeKey||e.resetDragState():g===e.state.dropPosition&&v===e.state.dropLevelOffset&&m===e.state.dropTargetKey&&y===e.state.dropContainerKey&&x===e.state.dropTargetPos&&b===e.state.dropAllowed&&w===e.state.dragOverNodeKey||e.setState({dropPosition:g,dropLevelOffset:v,dropTargetKey:m,dropContainerKey:y,dropTargetPos:x,dropAllowed:b,dragOverNodeKey:w}),null===c||void 0===c||c({event:t,node:LF(n.props)}))}},e.onNodeDragLeave=function(t,n){e.currentMouseOverDroppableNodeKey!==n.props.eventKey||t.currentTarget.contains(t.relatedTarget)||(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;null===r||void 0===r||r({event:t,node:LF(n.props)})},e.onWindowDragEnd=function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(t,n){var r=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),null===r||void 0===r||r({event:t,node:LF(n.props)}),e.dragNode=null},e.onNodeDrop=function(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.state,a=o.dragChildrenKeys,s=o.dropPosition,u=o.dropTargetKey,l=o.dropTargetPos,c=o.dropAllowed;if(c){var f=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),null!==u){var d=Ee(Ee({},RF(u,e.getTreeNodeRequiredProps())),{},{active:(null===(r=e.getActiveItem())||void 0===r?void 0:r.data.key)===u,data:e.state.keyEntities[u].node}),h=-1!==a.indexOf(u);Zn(!h,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var p=xF(l),g={event:t,node:LF(d),dragNode:e.dragNode?LF(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(a),dropToGap:0!==s,dropPosition:s+Number(p[p.length-1])};i||null===f||void 0===f||f(g),e.dragNode=null}}},e.cleanDragState=function(){null!==e.state.draggingNodeKey&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.onNodeClick=function(t,n){var r=e.props.onClick;null===r||void 0===r||r(t,n)},e.onNodeDoubleClick=function(t,n){var r=e.props.onDoubleClick;null===r||void 0===r||r(t,n)},e.onNodeSelect=function(t,n){var r=e.state.selectedKeys,i=e.state,o=i.keyEntities,a=i.fieldNames,s=e.props,u=s.onSelect,l=s.multiple,c=n.selected,f=n[a.key],d=!c,h=(r=d?l?bF(r,f):[f]:yF(r,f)).map((function(e){var t=o[e];return t?t.node:null})).filter((function(e){return e}));e.setUncontrolledState({selectedKeys:r}),null===u||void 0===u||u(r,{event:"select",selected:d,node:n,selectedNodes:h,nativeEvent:t.nativeEvent})},e.onNodeCheck=function(t,n,r){var i,o=e.state,a=o.keyEntities,s=o.checkedKeys,u=o.halfCheckedKeys,l=e.props,c=l.checkStrictly,f=l.onCheck,d=n.key,h={event:"check",node:n,checked:r,nativeEvent:t.nativeEvent};if(c){var p=r?bF(s,d):yF(s,d);i={checked:p,halfChecked:yF(u,d)},h.checkedNodes=p.map((function(e){return a[e]})).filter((function(e){return e})).map((function(e){return e.node})),e.setUncontrolledState({checkedKeys:p})}else{var g=FF([].concat((0,Pt.Z)(s),[d]),!0,a),v=g.checkedKeys,m=g.halfCheckedKeys;if(!r){var y=new Set(v);y.delete(d);var b=FF(Array.from(y),{checked:!1,halfCheckedKeys:m},a);v=b.checkedKeys,m=b.halfCheckedKeys}i=v,h.checkedNodes=[],h.checkedNodesPositions=[],h.halfCheckedKeys=m,v.forEach((function(e){var t=a[e];if(t){var n=t.node,r=t.pos;h.checkedNodes.push(n),h.checkedNodesPositions.push({node:n,pos:r})}})),e.setUncontrolledState({checkedKeys:v},!1,{halfCheckedKeys:m})}null===f||void 0===f||f(i,h)},e.onNodeLoad=function(t){var n=t.key,r=new Promise((function(r,i){e.setState((function(o){var a=o.loadedKeys,s=void 0===a?[]:a,u=o.loadingKeys,l=void 0===u?[]:u,c=e.props,f=c.loadData,d=c.onLoad;return f&&-1===s.indexOf(n)&&-1===l.indexOf(n)?(f(t).then((function(){var i=bF(e.state.loadedKeys,n);null===d||void 0===d||d(i,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:i}),e.setState((function(e){return{loadingKeys:yF(e.loadingKeys,n)}})),r()})).catch((function(t){if(e.setState((function(e){return{loadingKeys:yF(e.loadingKeys,n)}})),e.loadingRetryTimes[n]=(e.loadingRetryTimes[n]||0)+1,e.loadingRetryTimes[n]>=10){var o=e.state.loadedKeys;Zn(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:bF(o,n)}),r()}i(t)})),{loadingKeys:bF(l,n)}):null}))}));return r.catch((function(){})),r},e.onNodeMouseEnter=function(t,n){var r=e.props.onMouseEnter;null===r||void 0===r||r({event:t,node:n})},e.onNodeMouseLeave=function(t,n){var r=e.props.onMouseLeave;null===r||void 0===r||r({event:t,node:n})},e.onNodeContextMenu=function(t,n){var r=e.props.onRightClick;r&&(t.preventDefault(),r({event:t,node:n}))},e.onFocus=function(){var t=e.props.onFocus;e.setState({focused:!0});for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===t||void 0===t||t.apply(void 0,r)},e.onBlur=function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===t||void 0===t||t.apply(void 0,r)},e.getTreeNodeRequiredProps=function(){var t=e.state;return{expandedKeys:t.expandedKeys||[],selectedKeys:t.selectedKeys||[],loadedKeys:t.loadedKeys||[],loadingKeys:t.loadingKeys||[],checkedKeys:t.checkedKeys||[],halfCheckedKeys:t.halfCheckedKeys||[],dragOverNodeKey:t.dragOverNodeKey,dropPosition:t.dropPosition,keyEntities:t.keyEntities}},e.setExpandedKeys=function(t){var n=e.state,r=IF(n.treeData,t,n.fieldNames);e.setUncontrolledState({expandedKeys:t,flattenNodes:r},!0)},e.onNodeExpand=function(t,n){var r=e.state.expandedKeys,i=e.state,o=i.listChanging,a=i.fieldNames,s=e.props,u=s.onExpand,l=s.loadData,c=n.expanded,f=n[a.key];if(!o){var d=r.indexOf(f),h=!c;if(Zn(c&&-1!==d||!c&&-1===d,"Expand state not sync with index check"),r=h?bF(r,f):yF(r,f),e.setExpandedKeys(r),null===u||void 0===u||u(r,{node:n,expanded:h,nativeEvent:t.nativeEvent}),h&&l){var p=e.onNodeLoad(n);p&&p.then((function(){var t=IF(e.state.treeData,r,a);e.setUncontrolledState({flattenNodes:t})})).catch((function(){var t=yF(e.state.expandedKeys,f);e.setExpandedKeys(t)}))}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout((function(){e.setUncontrolledState({listChanging:!1})}))},e.onActiveChange=function(t){var n=e.state.activeKey,r=e.props.onActiveChange;n!==t&&(e.setState({activeKey:t}),null!==t&&e.scrollTo({key:t}),null===r||void 0===r||r(t))},e.getActiveItem=function(){var t=e.state,n=t.activeKey,r=t.flattenNodes;return null===n?null:r.find((function(e){return e.key===n}))||null},e.offsetActiveKey=function(t){var n=e.state,r=n.flattenNodes,i=n.activeKey,o=r.findIndex((function(e){return e.key===i}));-1===o&&t<0&&(o=r.length);var a=r[o=(o+t+r.length)%r.length];if(a){var s=a.key;e.onActiveChange(s)}else e.onActiveChange(null)},e.onKeyDown=function(t){var n=e.state,r=n.activeKey,i=n.expandedKeys,o=n.checkedKeys,a=e.props,s=a.onKeyDown,u=a.checkable,l=a.selectable;switch(t.which){case hC.UP:e.offsetActiveKey(-1),t.preventDefault();break;case hC.DOWN:e.offsetActiveKey(1),t.preventDefault()}var c=e.getActiveItem();if(c&&c.data){var f=e.getTreeNodeRequiredProps(),d=!1===c.data.isLeaf||!!(c.data.children||[]).length,h=LF(Ee(Ee({},RF(r,f)),{},{data:c.data,active:!0}));switch(t.which){case hC.LEFT:d&&i.includes(r)?e.onNodeExpand({},h):c.parent&&e.onActiveChange(c.parent.data.key),t.preventDefault();break;case hC.RIGHT:d&&!i.includes(r)?e.onNodeExpand({},h):c.children&&c.children.length&&e.onActiveChange(c.children[0].data.key),t.preventDefault();break;case hC.ENTER:case hC.SPACE:!u||h.disabled||!1===h.checkable||h.disableCheckbox?u||!l||h.disabled||!1===h.selectable||e.onNodeSelect({},h):e.onNodeCheck({},h,!o.includes(r))}}null===s||void 0===s||s(t)},e.setUncontrolledState=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e.destroyed){var i=!1,o=!0,a={};Object.keys(t).forEach((function(n){n in e.props?o=!1:(i=!0,a[n]=t[n])})),!i||n&&!o||e.setState(Ee(Ee({},a),r))}},e.scrollTo=function(t){e.listRef.current.scrollTo(t)},e}return(0,Lt.Z)(n,[{key:"componentDidMount",value:function(){this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var e=this.props.activeKey;void 0!==e&&e!==this.state.activeKey&&(this.setState({activeKey:e}),null!==e&&this.scrollTo({key:e}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var e,t,n=this.state,r=n.focused,i=n.flattenNodes,o=n.keyEntities,a=n.draggingNodeKey,s=n.activeKey,u=n.dropLevelOffset,l=n.dropContainerKey,c=n.dropTargetKey,f=n.dropPosition,d=n.dragOverNodeKey,h=n.indent,p=this.props,g=p.prefixCls,v=p.className,y=p.style,b=p.showLine,x=p.focusable,w=p.tabIndex,E=void 0===w?0:w,S=p.selectable,_=p.showIcon,T=p.icon,k=p.switcherIcon,C=p.draggable,M=p.checkable,A=p.checkStrictly,N=p.disabled,P=p.motion,I=p.loadData,D=p.filterTreeNode,O=p.height,R=p.itemHeight,L=p.virtual,j=p.titleRender,B=p.dropIndicatorRender,F=p.onContextMenu,z=p.onScroll,Y=p.direction,G=_I(this.props,{aria:!0,data:!0});return C&&(t="object"===(0,mn.Z)(C)?C:"function"===typeof C?{nodeDraggable:C}:{}),m.createElement(lF.Provider,{value:{prefixCls:g,selectable:S,showIcon:_,icon:T,switcherIcon:k,draggable:t,draggingNodeKey:a,checkable:M,checkStrictly:A,disabled:N,keyEntities:o,dropLevelOffset:u,dropContainerKey:l,dropTargetKey:c,dropPosition:f,dragOverNodeKey:d,indent:h,direction:Y,dropIndicatorRender:B,loadData:I,filterTreeNode:D,titleRender:j,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},m.createElement("div",{role:"tree",className:Ot()(g,v,(e={},(0,xe.Z)(e,"".concat(g,"-show-line"),b),(0,xe.Z)(e,"".concat(g,"-focused"),r),(0,xe.Z)(e,"".concat(g,"-active-focused"),null!==s),e))},m.createElement(bY,wt({ref:this.listRef,prefixCls:g,style:y,data:i,disabled:N,selectable:S,checkable:!!M,motion:P,dragging:null!==a,height:O,itemHeight:R,virtual:L,focusable:x,focused:r,tabIndex:E,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:F,onScroll:z},this.getTreeNodeRequiredProps(),G))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,r=t.prevProps,i={prevProps:e};function o(t){return!r&&t in e||r&&r[t]!==e[t]}var a=t.fieldNames;if(o("fieldNames")&&(a=NF(e.fieldNames),i.fieldNames=a),o("treeData")?n=e.treeData:o("children")&&(Zn(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=PF(e.children)),n){i.treeData=n;var s=OF(n,{fieldNames:a});i.keyEntities=Ee((0,xe.Z)({},fY,hY),s.keyEntities)}var u,l=i.keyEntities||t.keyEntities;if(o("expandedKeys")||r&&o("autoExpandParent"))i.expandedKeys=e.autoExpandParent||!r&&e.defaultExpandParent?CF(e.expandedKeys,l):e.expandedKeys;else if(!r&&e.defaultExpandAll){var c=Ee({},l);delete c[fY],i.expandedKeys=Object.keys(c).map((function(e){return c[e].key}))}else!r&&e.defaultExpandedKeys&&(i.expandedKeys=e.autoExpandParent||e.defaultExpandParent?CF(e.defaultExpandedKeys,l):e.defaultExpandedKeys);if(i.expandedKeys||delete i.expandedKeys,n||i.expandedKeys){var f=IF(n||t.treeData,i.expandedKeys||t.expandedKeys,a);i.flattenNodes=f}if((e.selectable&&(o("selectedKeys")?i.selectedKeys=TF(e.selectedKeys,e):!r&&e.defaultSelectedKeys&&(i.selectedKeys=TF(e.defaultSelectedKeys,e))),e.checkable)&&(o("checkedKeys")?u=kF(e.checkedKeys)||{}:!r&&e.defaultCheckedKeys?u=kF(e.defaultCheckedKeys)||{}:n&&(u=kF(e.checkedKeys)||{checkedKeys:t.checkedKeys,halfCheckedKeys:t.halfCheckedKeys}),u)){var d=u,h=d.checkedKeys,p=void 0===h?[]:h,g=d.halfCheckedKeys,v=void 0===g?[]:g;if(!e.checkStrictly){var m=FF(p,!0,l);p=m.checkedKeys,v=m.halfCheckedKeys}i.checkedKeys=p,i.halfCheckedKeys=v}return o("loadedKeys")&&(i.loadedKeys=e.loadedKeys),i}}]),n}(m.Component);xY.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){var t=e.dropPosition,n=e.dropLevelOffset,r=e.indent,i={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:i.top=0,i.left=-n*r;break;case 1:i.bottom=0,i.left=-n*r;break;case 0:i.bottom=0,i.left=r}return m.createElement("div",{style:i})},allowDrop:function(){return!0}},xY.TreeNode=mF;var wY=xY,EY={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},SY=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:EY}))};SY.displayName="FileOutlined";var _Y=m.forwardRef(SY),TY={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},kY=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:TY}))};kY.displayName="FolderOpenOutlined";var CY=m.forwardRef(kY),MY={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},AY=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:MY}))};AY.displayName="FolderOutlined";var NY,PY=m.forwardRef(AY);function IY(e,t){e.forEach((function(e){var n=e.key,r=e.children;!1!==t(n,e)&&IY(r||[],t)}))}function DY(e){var t=e.treeData,n=e.expandedKeys,r=e.startKey,i=e.endKey,o=[],a=NY.None;if(r&&r===i)return[r];if(!r||!i)return[];return IY(t,(function(e){if(a===NY.End)return!1;if(function(e){return e===r||e===i}(e)){if(o.push(e),a===NY.None)a=NY.Start;else if(a===NY.Start)return a=NY.End,!1}else a===NY.Start&&o.push(e);return-1!==n.indexOf(e)})),o}function OY(e,t){var n=(0,Pt.Z)(t),r=[];return IY(e,(function(e,t){var i=n.indexOf(e);return-1!==i&&(r.push(t),n.splice(i,1)),!!n.length})),r}!function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.End=2]="End"}(NY||(NY={}));var RY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function LY(e){var t=e.isLeaf,n=e.expanded;return t?m.createElement(_Y,null):n?m.createElement(CY,null):m.createElement(PY,null)}function jY(e){var t=e.treeData,n=e.children;return t||PF(n)}var BY=function(e,t){var n=e.defaultExpandAll,r=e.defaultExpandParent,i=e.defaultExpandedKeys,o=RY(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),a=m.useRef(),s=m.useRef(),u=m.createRef();m.useImperativeHandle(t,(function(){return u.current}));var l=m.useState(o.selectedKeys||o.defaultSelectedKeys||[]),c=(0,It.Z)(l,2),f=c[0],d=c[1],h=m.useState(function(){var e=OF(jY(o)).keyEntities;return n?Object.keys(e):r?CF(o.expandedKeys||i||[],e):o.expandedKeys||i}()),p=(0,It.Z)(h,2),g=p[0],v=p[1];m.useEffect((function(){"selectedKeys"in o&&d(o.selectedKeys)}),[o.selectedKeys]),m.useEffect((function(){"expandedKeys"in o&&v(o.expandedKeys)}),[o.expandedKeys]);var y=IB()((function(e,t){t.isLeaf||e.shiftKey||e.metaKey||e.ctrlKey||u.current.onNodeExpand(e,t)}),200,{leading:!0}),b=m.useContext(tn),x=b.getPrefixCls,w=b.direction,E=o.prefixCls,S=o.className,_=RY(o,["prefixCls","className"]),T=x("tree",E),k=Ot()("".concat(T,"-directory"),(0,xe.Z)({},"".concat(T,"-directory-rtl"),"rtl"===w),S);return m.createElement($Y,wt({icon:LY,ref:u,blockNode:!0},_,{prefixCls:T,className:k,expandedKeys:g,selectedKeys:f,onSelect:function(e,t){var n,r,i=o.multiple,u=t.node,l=t.nativeEvent,c=u.key,f=void 0===c?"":c,h=jY(o),p=wt(wt({},t),{selected:!0}),v=(null===l||void 0===l?void 0:l.ctrlKey)||(null===l||void 0===l?void 0:l.metaKey),m=null===l||void 0===l?void 0:l.shiftKey;i&&v?(r=e,a.current=f,s.current=r,p.selectedNodes=OY(h,r)):i&&m?(r=Array.from(new Set([].concat((0,Pt.Z)(s.current||[]),(0,Pt.Z)(DY({treeData:h,expandedKeys:g,startKey:f,endKey:a.current}))))),p.selectedNodes=OY(h,r)):(r=[f],a.current=f,s.current=r,p.selectedNodes=OY(h,r)),null===(n=o.onSelect)||void 0===n||n.call(o,r,p),"selectedKeys"in o||d(r)},onClick:function(e,t){var n;"click"===o.expandAction&&y(e,t),null===(n=o.onClick)||void 0===n||n.call(o,e,t)},onDoubleClick:function(e,t){var n;"doubleClick"===o.expandAction&&y(e,t),null===(n=o.onDoubleClick)||void 0===n||n.call(o,e,t)},onExpand:function(e,t){var n;return"expandedKeys"in o||v(e),null===(n=o.onExpand)||void 0===n?void 0:n.call(o,e,t)}}))},FY=m.forwardRef(BY);FY.displayName="DirectoryTree",FY.defaultProps={showIcon:!0,expandAction:"click"};var zY=FY,YY={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},GY=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:YY}))};GY.displayName="MinusSquareOutlined";var VY=m.forwardRef(GY),UY={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},WY=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:UY}))};WY.displayName="PlusSquareOutlined";var ZY=m.forwardRef(WY),HY={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},XY=function(e,t){return m.createElement(pr,Ee(Ee({},e),{},{ref:t,icon:HY}))};XY.displayName="CaretDownFilled";var KY=m.forwardRef(XY);function qY(e){var t,n=e.dropPosition,r=e.dropLevelOffset,i=e.prefixCls,o=e.indent,a=e.direction,s=void 0===a?"ltr":a,u="ltr"===s?"left":"right",l="ltr"===s?"right":"left",c=(t={},(0,xe.Z)(t,u,-r*o+4),(0,xe.Z)(t,l,0),t);switch(n){case-1:c.top=-3;break;case 1:c.bottom=-3;break;default:c.bottom=-3,c[u]=o+4}return m.createElement("div",{style:c,className:"".concat(i,"-drop-indicator")})}var JY=m.forwardRef((function(e,t){var n,r=m.useContext(tn),i=r.getPrefixCls,o=r.direction,a=r.virtual,s=e.prefixCls,u=e.className,l=e.showIcon,c=e.showLine,f=e.switcherIcon,d=e.blockNode,h=e.children,p=e.checkable,g=e.selectable,v=e.draggable,y=i("tree",s),b=wt(wt({},e),{showLine:Boolean(c),dropIndicatorRender:qY}),x=m.useMemo((function(){if(!v)return!1;var e={};switch((0,mn.Z)(v)){case"function":e.nodeDraggable=v;break;case"object":e=wt({},v)}return!1!==e.icon&&(e.icon=e.icon||m.createElement(rY,null)),e}),[v]);return m.createElement(wY,wt({itemHeight:20,ref:t,virtual:a},b,{prefixCls:y,className:Ot()((n={},(0,xe.Z)(n,"".concat(y,"-icon-hide"),!l),(0,xe.Z)(n,"".concat(y,"-block-node"),d),(0,xe.Z)(n,"".concat(y,"-unselectable"),!g),(0,xe.Z)(n,"".concat(y,"-rtl"),"rtl"===o),n),u),direction:o,checkable:p?m.createElement("span",{className:"".concat(y,"-checkbox-inner")}):p,selectable:g,switcherIcon:function(e){return function(e,t,n,r){var i,o=r.isLeaf,a=r.expanded;if(r.loading)return m.createElement(Pk,{className:"".concat(e,"-switcher-loading-icon")});if(n&&"object"===(0,mn.Z)(n)&&(i=n.showLeafIcon),o)return n?"object"!==(0,mn.Z)(n)||i?m.createElement(_Y,{className:"".concat(e,"-switcher-line-icon")}):m.createElement("span",{className:"".concat(e,"-switcher-leaf-line")}):null;var s="".concat(e,"-switcher-icon");return IT(t)?DT(t,{className:Ot()(t.props.className||"",s)}):t||(n?a?m.createElement(VY,{className:"".concat(e,"-switcher-line-icon")}):m.createElement(ZY,{className:"".concat(e,"-switcher-line-icon")}):m.createElement(KY,{className:s}))}(y,f,c,e)},draggable:x}),h)}));JY.TreeNode=mF,JY.DirectoryTree=zY,JY.defaultProps={checkable:!1,selectable:!0,showIcon:!1,motion:wt(wt({},PO),{motionAppear:!1}),blockNode:!1};var $Y=JY,QY=$Y,eG=function(e){return m.createElement("div",{className:e.className,onClick:function(e){return e.stopPropagation()}},e.children)},tG=function(e){var t=e.value,n=e.onChange,r=e.filterSearch,i=e.tablePrefixCls,o=e.locale;return r?m.createElement("div",{className:"".concat(i,"-filter-dropdown-search")},m.createElement(tI,{prefix:m.createElement(yP,null),placeholder:o.filterSearchPlaceholder,onChange:n,value:t,htmlSize:1,className:"".concat(i,"-filter-dropdown-search-input")})):null};function nG(e,t){return("string"===typeof t||"number"===typeof t)&&(null===t||void 0===t?void 0:t.toString().toLowerCase().includes(e.trim().toLowerCase()))}function rG(e){var t=e.filters,n=e.prefixCls,r=e.filteredKeys,i=e.filterMultiple,o=e.searchValue;return t.map((function(e,t){var a=String(e.value);if(e.children)return m.createElement(KL.SubMenu,{key:a||t,title:e.text,popupClassName:"".concat(n,"-dropdown-submenu")},rG({filters:e.children,prefixCls:n,filteredKeys:r,filterMultiple:i,searchValue:o}));var s=i?$F:Tz,u=m.createElement(KL.Item,{key:void 0!==e.value?a:t},m.createElement(s,{checked:r.includes(a)}),m.createElement("span",null,e.text));return o.trim()?nG(o,e.text)?u:void 0:u}))}var iG=function(e){var t,n=e.tablePrefixCls,r=e.prefixCls,i=e.column,o=e.dropdownPrefixCls,a=e.columnKey,s=e.filterMultiple,u=e.filterMode,l=void 0===u?"menu":u,c=e.filterSearch,f=void 0!==c&&c,d=e.filterState,h=e.triggerFilter,p=e.locale,g=e.children,v=e.getPopupContainer,y=i.filterDropdownVisible,b=i.onFilterDropdownVisibleChange,x=m.useState(!1),w=(0,It.Z)(x,2),E=w[0],S=w[1],_=!(!d||!(null===(t=d.filteredKeys)||void 0===t?void 0:t.length)&&!d.forceFiltered),T=function(e){S(e),null===b||void 0===b||b(e)},k="boolean"===typeof y?y:E,C=null===d||void 0===d?void 0:d.filteredKeys,M=function(e){var t=m.useRef(e),n=nF();return[function(){return t.current},function(e){t.current=e,n()}]}(C||[]),A=(0,It.Z)(M,2),N=A[0],P=A[1],I=function(e){var t=e.selectedKeys;P(t)},D=function(e,t){var n=t.node,r=t.checked;I(s?{selectedKeys:e}:{selectedKeys:r&&n.key?[n.key]:[]})};m.useEffect((function(){E&&I({selectedKeys:C||[]})}),[C]);var O=m.useState([]),R=(0,It.Z)(O,2),L=R[0],j=R[1],B=m.useRef(),F=function(e){B.current=window.setTimeout((function(){j(e)}))},z=function(){window.clearTimeout(B.current)};m.useEffect((function(){return function(){window.clearTimeout(B.current)}}),[]);var Y=m.useState(""),G=(0,It.Z)(Y,2),V=G[0],U=G[1],W=function(e){var t=e.target.value;U(t)};m.useEffect((function(){E||U("")}),[E]);var Z,H=function(e){var t=e&&e.length?e:null;return null!==t||d&&d.filteredKeys?LA()(t,null===d||void 0===d?void 0:d.filteredKeys)?null:void h({column:i,key:a,filteredKeys:t}):null},X=function(){T(!1),H(N())},K=function(){U(""),P([])},q=Ot()((0,xe.Z)({},"".concat(o,"-menu-without-submenu"),!(i.filters||[]).some((function(e){return e.children})))),J=function(e){if(e.target.checked){var t=sG(null===i||void 0===i?void 0:i.filters).map((function(e){return String(e)}));P(t)}else P([])},$=function e(t){return(t.filters||[]).map((function(t,n){var r=String(t.value),i={title:t.text,key:void 0!==t.value?r:n};return t.children&&(i.children=e({filters:t.children})),i}))};if("function"===typeof i.filterDropdown)Z=i.filterDropdown({prefixCls:"".concat(o,"-custom"),setSelectedKeys:function(e){return I({selectedKeys:e})},selectedKeys:N(),confirm:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{closeDropdown:!0}).closeDropdown&&T(!1),H(N())},clearFilters:K,filters:i.filters,visible:k});else if(i.filterDropdown)Z=i.filterDropdown;else{var Q=N()||[];Z=m.createElement(m.Fragment,null,0===(i.filters||[]).length?m.createElement(Qt,{image:Qt.PRESENTED_IMAGE_SIMPLE,description:p.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}}):"tree"===l?m.createElement(m.Fragment,null,m.createElement(tG,{filterSearch:f,value:V,onChange:W,tablePrefixCls:n,locale:p}),m.createElement("div",{className:"".concat(n,"-filter-dropdown-tree")},s?m.createElement($F,{className:"".concat(n,"-filter-dropdown-checkall"),onChange:J},p.filterCheckall):null,m.createElement(QY,{checkable:!0,selectable:!1,blockNode:!0,multiple:s,checkStrictly:!s,className:"".concat(o,"-menu"),onCheck:D,checkedKeys:Q,selectedKeys:Q,showIcon:!1,treeData:$({filters:i.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:V.trim()?function(e){return nG(V,e.title)}:void 0}))):m.createElement(m.Fragment,null,m.createElement(tG,{filterSearch:f,value:V,onChange:W,tablePrefixCls:n,locale:p}),m.createElement(KL,{multiple:s,prefixCls:"".concat(o,"-menu"),className:q,onClick:z,onSelect:I,onDeselect:I,selectedKeys:Q,getPopupContainer:v,openKeys:L,onOpenChange:F},rG({filters:i.filters||[],prefixCls:r,filteredKeys:N(),filterMultiple:s,searchValue:V}))),m.createElement("div",{className:"".concat(r,"-dropdown-btns")},m.createElement(Gk,{type:"link",size:"small",disabled:0===Q.length,onClick:K},p.filterReset),m.createElement(Gk,{type:"primary",size:"small",onClick:X},p.filterConfirm)))}var ee,te=m.createElement(eG,{className:"".concat(r,"-dropdown")},Z);ee="function"===typeof i.filterIcon?i.filterIcon(_):i.filterIcon?i.filterIcon:m.createElement(eY,null);var ne=m.useContext(tn).direction;return m.createElement("div",{className:"".concat(r,"-column")},m.createElement("span",{className:"".concat(n,"-column-title")},g),m.createElement(fz,{overlay:te,trigger:["click"],visible:k,onVisibleChange:function(e){e&&void 0!==C&&P(C||[]),T(e),e||i.filterDropdown||X()},getPopupContainer:v,placement:"rtl"===ne?"bottomLeft":"bottomRight"},m.createElement("span",{role:"button",tabIndex:-1,className:Ot()("".concat(r,"-trigger"),{active:_}),onClick:function(e){e.stopPropagation()}},ee)))};function oG(e,t,n){var r=[];return(e||[]).forEach((function(e,i){var o,a=zz(i,n);if(e.filters||"filterDropdown"in e||"onFilter"in e)if("filteredValue"in e){var s=e.filteredValue;"filterDropdown"in e||(s=null!==(o=null===s||void 0===s?void 0:s.map(String))&&void 0!==o?o:s),r.push({column:e,key:Fz(e,a),filteredKeys:s,forceFiltered:e.filtered})}else r.push({column:e,key:Fz(e,a),filteredKeys:t&&e.defaultFilteredValue?e.defaultFilteredValue:void 0,forceFiltered:e.filtered});"children"in e&&(r=[].concat((0,Pt.Z)(r),(0,Pt.Z)(oG(e.children,t,a))))})),r}function aG(e,t,n,r,i,o,a,s){return n.map((function(n,u){var l=zz(u,s),c=n.filterMultiple,f=void 0===c||c,d=n.filterMode,h=n.filterSearch,p=n;if(p.filters||p.filterDropdown){var g=Fz(p,l),v=r.find((function(e){var t=e.key;return g===t}));p=wt(wt({},p),{title:function(r){return m.createElement(iG,{tablePrefixCls:e,prefixCls:"".concat(e,"-filter"),dropdownPrefixCls:t,column:p,columnKey:g,filterState:v,filterMultiple:f,filterMode:d,filterSearch:h,triggerFilter:i,locale:a,getPopupContainer:o},Yz(n.title,r))}})}return"children"in p&&(p=wt(wt({},p),{children:aG(e,t,p.children,r,i,o,a,l)})),p}))}function sG(e){var t=[];return(e||[]).forEach((function(e){var n=e.value,r=e.children;t.push(n),r&&(t=[].concat((0,Pt.Z)(t),(0,Pt.Z)(sG(r))))})),t}function uG(e){var t={};return e.forEach((function(e){var n=e.key,r=e.filteredKeys,i=e.column,o=i.filters;if(i.filterDropdown)t[n]=r||null;else if(Array.isArray(r)){var a=sG(o);t[n]=a.filter((function(e){return r.includes(String(e))}))}else t[n]=null})),t}function lG(e,t){return t.reduce((function(e,t){var n=t.column,r=n.onFilter,i=n.filters,o=t.filteredKeys;return r&&o&&o.length?e.filter((function(e){return o.some((function(t){var n=sG(i),o=n.findIndex((function(e){return String(e)===String(t)})),a=-1!==o?n[o]:t;return r(a,e)}))})):e}),e)}var cG=function(e){var t=e.prefixCls,n=e.dropdownPrefixCls,r=e.mergedColumns,i=e.onFilterChange,o=e.getPopupContainer,a=e.locale,s=m.useState(oG(r,!0)),u=(0,It.Z)(s,2),l=u[0],c=u[1],f=m.useMemo((function(){var e=oG(r,!1),t=e.every((function(e){return void 0===e.filteredKeys}));if(t)return l;var n=e.every((function(e){return void 0!==e.filteredKeys}));return BT(t||n,"Table","`FilteredKeys` should all be controlled or not controlled."),e}),[r,l]),d=m.useCallback((function(){return uG(f)}),[f]),h=function(e){var t=f.filter((function(t){return t.key!==e.key}));t.push(e),c(t),i(uG(t),t)};return[function(e){return aG(t,n,e,f,h,o,a)},f,d]};function fG(e,t){return e.map((function(e){var n=wt({},e);return n.title=Yz(e.title,t),"children"in n&&(n.children=fG(n.children,t)),n}))}function dG(e){var t=m.useCallback((function(t){return fG(t,e)}),[e]);return[t]}var hG=function(e){return function(t){var n,r=t.prefixCls,i=t.onExpand,o=t.record,a=t.expanded,s=t.expandable,u="".concat(r,"-row-expand-icon");return m.createElement("button",{type:"button",onClick:function(e){i(o,e),e.stopPropagation()},className:Ot()(u,(n={},(0,xe.Z)(n,"".concat(u,"-spaced"),!s),(0,xe.Z)(n,"".concat(u,"-expanded"),s&&a),(0,xe.Z)(n,"".concat(u,"-collapsed"),s&&!a),n)),"aria-label":a?e.collapse:e.expand})}};function pG(e){return null!==e&&void 0!==e&&e===e.window}function gG(e,t){var n;if("undefined"===typeof window)return 0;var r=t?"scrollTop":"scrollLeft",i=0;return pG(e)?i=e[t?"pageYOffset":"pageXOffset"]:e instanceof Document?i=e.documentElement[r]:e&&(i=e[r]),e&&!pG(e)&&"number"!==typeof i&&(i=null===(n=(e.ownerDocument||e).documentElement)||void 0===n?void 0:n[r]),i}function vG(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t}function mG(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getContainer,r=void 0===n?function(){return window}:n,i=t.callback,o=t.duration,a=void 0===o?450:o,s=r(),u=gG(s,!0),l=Date.now(),c=function t(){var n=Date.now()-l,r=vG(n>a?a:n,u,e,a);pG(s)?s.scrollTo(window.pageXOffset,r):s instanceof HTMLDocument||"HTMLDocument"===s.constructor.name?s.documentElement.scrollTop=r:s.scrollTop=r,n<a?CT(t):"function"===typeof i&&i()};CT(c)}var yG=Vt;var bG=function(e){return null};var xG=function(e){return null},wG=[];function EG(e,t){var n,r=e.prefixCls,i=e.className,o=e.style,a=e.size,s=e.bordered,u=e.dropdownPrefixCls,l=e.dataSource,c=e.pagination,f=e.rowSelection,d=e.rowKey,h=e.rowClassName,p=e.columns,g=e.children,v=e.childrenColumnName,y=e.onChange,b=e.getPopupContainer,x=e.loading,w=e.expandIcon,E=e.expandable,S=e.expandedRowRender,_=e.expandIconColumnIndex,T=e.indentSize,k=e.scroll,C=e.sortDirections,M=e.locale,A=e.showSorterTooltip,N=void 0===A||A;BT(!("function"===typeof d&&d.length>1),"Table","`index` parameter of `rowKey` function is deprecated. There is no guarantee that it will work as expected.");var P=m.useMemo((function(){return p||rB(g)}),[p,g]),I=m.useMemo((function(){return P.some((function(e){return e.responsive}))}),[P]),D=rF(I),O=m.useMemo((function(){var e=new Set(Object.keys(D).filter((function(e){return D[e]})));return P.filter((function(t){return!t.responsive||t.responsive.some((function(t){return e.has(t)}))}))}),[P,D]),R=hn(e,["className","style","columns"]),L=m.useContext(zT),j=m.useContext(tn),B=j.locale,F=void 0===B?yG:B,z=j.renderEmpty,Y=j.direction,G=a||L,V=wt(wt({},F.Table),M),U=l||wG,W=m.useContext(tn).getPrefixCls,Z=W("table",r),H=W("dropdown",u),X=wt({childrenColumnName:v,expandIconColumnIndex:_},E),K=X.childrenColumnName,q=void 0===K?"children":K,J=m.useMemo((function(){return U.some((function(e){var t;return null===(t=e)||void 0===t?void 0:t[q]}))?"nest":S||E&&E.expandedRowRender?"row":null}),[U]),$={body:m.useRef()},Q=m.useMemo((function(){return"function"===typeof d?d:function(e){var t;return null===(t=e)||void 0===t?void 0:t[d]}}),[d]),ee=function(e,t,n){var r=m.useRef({});return[function(i){if(!r.current||r.current.data!==e||r.current.childrenColumnName!==t||r.current.getRowKey!==n){var o=new Map;!function e(r){r.forEach((function(r,i){var a=n(r,i);o.set(a,r),r&&"object"===(0,mn.Z)(r)&&t in r&&e(r[t]||[])}))}(e),r.current={data:e,childrenColumnName:t,kvMap:o,getRowKey:n}}return r.current.kvMap.get(i)}]}(U,q,Q),te=(0,It.Z)(ee,1)[0],ne={},re=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=wt(wt({},ne),e);n&&(ne.resetPagination(),r.pagination.current&&(r.pagination.current=1),c&&c.onChange&&c.onChange(1,r.pagination.pageSize)),k&&!1!==k.scrollToFirstRowOnChange&&$.body.current&&mG(0,{getContainer:function(){return $.body.current}}),null===y||void 0===y||y(r.pagination,r.filters,r.sorter,{currentDataSource:lG(qz(U,r.sorterStates,q),r.filterStates),action:t})},ie=Jz({prefixCls:Z,mergedColumns:O,onSorterChange:function(e,t){re({sorter:e,sorterStates:t},"sort",!1)},sortDirections:C||["ascend","descend"],tableLocale:V,showSorterTooltip:N}),oe=(0,It.Z)(ie,4),ae=oe[0],se=oe[1],ue=oe[2],le=oe[3],ce=m.useMemo((function(){return qz(U,se,q)}),[U,se]);ne.sorter=le(),ne.sorterStates=se;var fe=cG({prefixCls:Z,locale:V,dropdownPrefixCls:H,mergedColumns:O,onFilterChange:function(e,t){re({filters:e,filterStates:t},"filter",!0)},getPopupContainer:b}),de=(0,It.Z)(fe,3),he=de[0],pe=de[1],ge=de[2],ve=lG(ce,pe);ne.filters=ge(),ne.filterStates=pe;var me=dG(m.useMemo((function(){return wt({},ue)}),[ue])),ye=(0,It.Z)(me,1)[0],be=uF(ve.length,c,(function(e,t){re({pagination:wt(wt({},ne.pagination),{current:e,pageSize:t})},"paginate")})),we=(0,It.Z)(be,2),Ee=we[0],Se=we[1];ne.pagination=!1===c?{}:function(e,t){var n={current:t.current,pageSize:t.pageSize},r=e&&"object"===(0,mn.Z)(e)?e:{};return Object.keys(r).forEach((function(e){var r=t[e];"function"!==typeof r&&(n[e]=r)})),n}(c,Ee),ne.resetPagination=Se;var _e=m.useMemo((function(){if(!1===c||!Ee.pageSize)return ve;var e=Ee.current,t=void 0===e?1:e,n=Ee.total,r=Ee.pageSize,i=void 0===r?10:r;return BT(t>0,"Table","`current` should be positive number."),ve.length<n?ve.length>i?(BT(!1,"Table","`dataSource` length is less than `pagination.total` but large than `pagination.pageSize`. Please make sure your config correct data with async mode."),ve.slice((t-1)*i,t*i)):ve:ve.slice((t-1)*i,t*i)}),[!!c,ve,Ee&&Ee.current,Ee&&Ee.pageSize,Ee&&Ee.total]),Te=Iz(f,{prefixCls:Z,data:ve,pageData:_e,getRowKey:Q,getRecordByKey:te,expandType:J,childrenColumnName:q,locale:V,getPopupContainer:b}),ke=(0,It.Z)(Te,2),Ce=ke[0],Me=ke[1];X.__PARENT_RENDER_ICON__=X.expandIcon,X.expandIcon=X.expandIcon||w||hG(V),"nest"===J&&void 0===X.expandIconColumnIndex?X.expandIconColumnIndex=f?1:0:X.expandIconColumnIndex>0&&f&&(X.expandIconColumnIndex-=1),"number"!==typeof X.indentSize&&(X.indentSize="number"===typeof T?T:15);var Ae,Ne,Pe,Ie=m.useCallback((function(e){return ye(Ce(he(ae(e))))}),[ae,he,Ce]);if(!1!==c&&(null===Ee||void 0===Ee?void 0:Ee.total)){var De;De=Ee.size?Ee.size:"small"===G||"middle"===G?"small":void 0;var Oe=function(e){return m.createElement(aF,wt({},Ee,{className:Ot()("".concat(Z,"-pagination ").concat(Z,"-pagination-").concat(e),Ee.className),size:De}))},Re="rtl"===Y?"left":"right",Le=Ee.position;if(null!==Le&&Array.isArray(Le)){var je=Le.find((function(e){return-1!==e.indexOf("top")})),Be=Le.find((function(e){return-1!==e.indexOf("bottom")})),Fe=Le.every((function(e){return"none"==="".concat(e)}));je||Be||Fe||(Ne=Oe(Re)),je&&(Ae=Oe(je.toLowerCase().replace("top",""))),Be&&(Ne=Oe(Be.toLowerCase().replace("bottom","")))}else Ne=Oe(Re)}"boolean"===typeof x?Pe={spinning:x}:"object"===(0,mn.Z)(x)&&(Pe=wt({spinning:!0},x));var ze=Ot()("".concat(Z,"-wrapper"),(0,xe.Z)({},"".concat(Z,"-wrapper-rtl"),"rtl"===Y),i);return m.createElement("div",{ref:t,className:ze,style:o},m.createElement(LB,wt({spinning:!1},Pe),Ae,m.createElement(NB,wt({},R,{columns:O,direction:Y,expandable:X,prefixCls:Z,className:Ot()((n={},(0,xe.Z)(n,"".concat(Z,"-middle"),"middle"===G),(0,xe.Z)(n,"".concat(Z,"-small"),"small"===G),(0,xe.Z)(n,"".concat(Z,"-bordered"),s),(0,xe.Z)(n,"".concat(Z,"-empty"),0===U.length),n)),data:_e,rowKey:Q,rowClassName:function(e,t,n){var r;return r="function"===typeof h?Ot()(h(e,t,n)):Ot()(h),Ot()((0,xe.Z)({},"".concat(Z,"-row-selected"),Me.has(Q(e,t))),r)},emptyText:M&&M.emptyText||z("Table"),internalHooks:CB,internalRefs:$,transformColumns:Ie})),Ne))}var SG=m.forwardRef(EG);SG.defaultProps={rowKey:"key"},SG.SELECTION_COLUMN=kz,SG.EXPAND_COLUMN=NB.EXPAND_COLUMN,SG.SELECTION_ALL=Cz,SG.SELECTION_INVERT=Mz,SG.SELECTION_NONE=Az,SG.Column=bG,SG.ColumnGroup=xG,SG.Summary=vB;var _G=SG,TG=[{title:"Title",dataIndex:"Title",key:"title"},{title:"Venue",dataIndex:"Venue",key:"venue"},{title:"Year",dataIndex:"Year",key:"year"},{title:"Authors",key:"authors",dataIndex:"Authors"}];var kG=function(){var e=function(){var e=KO((function(e){return e})),t=e.papers,n=e.filters;return t.filter((function(e){for(var t=!0,r=0,i=Object.entries(JO);r<i.length;r++){var o=(0,It.Z)(i[r],2),a=o[0],s=o[1],u=n[a];u.length>0&&(t=!1);var l,c=(0,qO.Z)(u);try{var f=function(){var t=l.value,n=e[s];if(Array.isArray(n)&&n.some((function(e){return e===t})))return{v:!0}};for(c.s();!(l=c.n()).done;){var d=f();if("object"===typeof d)return d.v}}catch(h){c.e(h)}finally{c.f()}}return t}))}(),t=e.map((function(t){return Ee(Ee({},t),{},{key:e.indexOf(t),Authors:t.Authors[0]+" et al."})}));return(0,aT.jsx)(_G,{style:{marginTop:10},columns:TG,dataSource:t,expandable:{expandedRowRender:function(e){return(0,aT.jsxs)(aT.Fragment,{children:[(0,aT.jsx)("a",{href:e.url,style:{margin:0},children:e.url}),(0,aT.jsx)(CG,{TagData:e["Type of Data"],Color:"Magenta"}),(0,aT.jsx)(CG,{TagData:e["Type of Problem"],Color:"Green"}),(0,aT.jsx)(CG,{TagData:e["Type of Model to be Explained"],Color:"Blue"}),(0,aT.jsx)(CG,{TagData:e["Type of Task"],Color:"Orange"}),(0,aT.jsx)(CG,{TagData:e["Type of Explanation"],Color:"Red"}),(0,aT.jsx)(CG,{TagData:e["Method used to explain"],Color:"Brown"})]})}}})};var CG=function(e){var t=e.TagData,n=e.Color,r=t.map((function(e,t){return(0,aT.jsx)(tC,{color:n,children:e},t)}));return(0,aT.jsx)(aT.Fragment,{children:r})},MG=Pr.Content;var AG=function(){return(0,aT.jsxs)(Pr,{children:[(0,aT.jsx)(dj,{}),(0,aT.jsx)(Pr,{children:(0,aT.jsxs)(MG,{style:{padding:"0 50px",marginTop:20},children:[(0,aT.jsx)(pj,{}),(0,aT.jsx)(tR,{}),(0,aT.jsx)(kG,{})]})})]})},NG=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))};y.render((0,aT.jsx)(m.StrictMode,{children:(0,aT.jsx)(xt,{store:ht,children:(0,aT.jsx)(AG,{})})}),document.getElementById("root")),NG()}()}();
//# sourceMappingURL=main.85c293d3.js.map